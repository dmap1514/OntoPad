const __vite__fileDeps=["./DashboardView-DkolhmRY.js","./Term-CV0XTmZE.js","./index-DhMN7WeR.js","./InstanceList-CQcQHaLE.js","./DashboardView-D39OJwqc.css","./VocPad-DoIIs2Xn.js","./n3-compare-DeFJxhd2.js","./lodash-X5k4Oy6K.js","./EditForm-B63A4X8g.js","./FormDemo-AHnGoRFd.js","./Kanban-DFwcP8PM.js","./Kanban-BMdQQu_o.css","./Source-Dgw20lEv.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var vre=Object.defineProperty;var wre=(t,e,r)=>e in t?vre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Lr=(t,e,r)=>(wre(t,typeof e!="symbol"?e+"":e,r),r),yE=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var me=(t,e,r)=>(yE(t,e,"read from private field"),r?r.call(t):e.get(t)),Lt=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},wt=(t,e,r,n)=>(yE(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var tv=(t,e,r,n)=>({set _(a){wt(t,e,a,r)},get _(){return me(t,e,n)}}),pt=(t,e,r)=>(yE(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var ri="top",$i="bottom",Ui="right",ni="left",FS="auto",rf=[ri,$i,Ui,ni],Uc="start",xd="end",rz="clippingParents",pN="viewport",Ql="popper",nz="reference",EI=rf.reduce(function(t,e){return t.concat([e+"-"+Uc,e+"-"+xd])},[]),yN=[].concat(rf,[FS]).reduce(function(t,e){return t.concat([e,e+"-"+Uc,e+"-"+xd])},[]),iz="beforeRead",az="read",sz="afterRead",oz="beforeMain",uz="main",cz="afterMain",lz="beforeWrite",dz="write",fz="afterWrite",hz=[iz,az,sz,oz,uz,cz,lz,dz,fz];function ys(t){return t?(t.nodeName||"").toLowerCase():null}function ki(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function kc(t){var e=ki(t).Element;return t instanceof e||t instanceof Element}function aa(t){var e=ki(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function mN(t){if(typeof ShadowRoot>"u")return!1;var e=ki(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Sre(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},a=e.attributes[r]||{},s=e.elements[r];!aa(s)||!ys(s)||(Object.assign(s.style,n),Object.keys(a).forEach(function(o){var u=a[o];u===!1?s.removeAttribute(o):s.setAttribute(o,u===!0?"":u)}))})}function Tre(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var a=e.elements[n],s=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),u=o.reduce(function(c,l){return c[l]="",c},{});!aa(a)||!ys(a)||(Object.assign(a.style,u),Object.keys(s).forEach(function(c){a.removeAttribute(c)}))})}}const gN={name:"applyStyles",enabled:!0,phase:"write",fn:Sre,effect:Tre,requires:["computeStyles"]};function us(t){return t.split("-")[0]}var Lc=Math.max,Xw=Math.min,Id=Math.round;function AI(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pz(){return!/^((?!chrome|android).)*safari/i.test(AI())}function Pd(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),a=1,s=1;e&&aa(t)&&(a=t.offsetWidth>0&&Id(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Id(n.height)/t.offsetHeight||1);var o=kc(t)?ki(t):window,u=o.visualViewport,c=!pz()&&r,l=(n.left+(c&&u?u.offsetLeft:0))/a,d=(n.top+(c&&u?u.offsetTop:0))/s,f=n.width/a,h=n.height/s;return{width:f,height:h,top:d,right:l+f,bottom:d+h,left:l,x:l,y:d}}function _N(t){var e=Pd(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function yz(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&mN(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function mo(t){return ki(t).getComputedStyle(t)}function Ere(t){return["table","td","th"].indexOf(ys(t))>=0}function wu(t){return((kc(t)?t.ownerDocument:t.document)||window.document).documentElement}function BS(t){return ys(t)==="html"?t:t.assignedSlot||t.parentNode||(mN(t)?t.host:null)||wu(t)}function X4(t){return!aa(t)||mo(t).position==="fixed"?null:t.offsetParent}function Are(t){var e=/firefox/i.test(AI()),r=/Trident/i.test(AI());if(r&&aa(t)){var n=mo(t);if(n.position==="fixed")return null}var a=BS(t);for(mN(a)&&(a=a.host);aa(a)&&["html","body"].indexOf(ys(a))<0;){var s=mo(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function Pb(t){for(var e=ki(t),r=X4(t);r&&Ere(r)&&mo(r).position==="static";)r=X4(r);return r&&(ys(r)==="html"||ys(r)==="body"&&mo(r).position==="static")?e:r||Are(t)||e}function bN(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function F_(t,e,r){return Lc(t,Xw(e,r))}function Ore(t,e,r){var n=F_(t,e,r);return n>r?r:n}function mz(){return{top:0,right:0,bottom:0,left:0}}function gz(t){return Object.assign({},mz(),t)}function _z(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Rre=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,gz(typeof e!="number"?e:_z(e,rf))};function xre(t){var e,r=t.state,n=t.name,a=t.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,u=us(r.placement),c=bN(u),l=[ni,Ui].indexOf(u)>=0,d=l?"height":"width";if(!(!s||!o)){var f=Rre(a.padding,r),h=_N(s),p=c==="y"?ri:ni,m=c==="y"?$i:Ui,y=r.rects.reference[d]+r.rects.reference[c]-o[c]-r.rects.popper[d],g=o[c]-r.rects.reference[c],b=Pb(s),v=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,_=y/2-g/2,w=f[p],E=v-h[d]-f[m],O=v/2-h[d]/2+_,L=F_(w,O,E),F=c;r.modifiersData[n]=(e={},e[F]=L,e.centerOffset=L-O,e)}}function Ire(t){var e=t.state,r=t.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||yz(e.elements.popper,a)&&(e.elements.arrow=a))}const bz={name:"arrow",enabled:!0,phase:"main",fn:xre,effect:Ire,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Nd(t){return t.split("-")[1]}var Pre={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nre(t,e){var r=t.x,n=t.y,a=e.devicePixelRatio||1;return{x:Id(r*a)/a||0,y:Id(n*a)/a||0}}function Y4(t){var e,r=t.popper,n=t.popperRect,a=t.placement,s=t.variation,o=t.offsets,u=t.position,c=t.gpuAcceleration,l=t.adaptive,d=t.roundOffsets,f=t.isFixed,h=o.x,p=h===void 0?0:h,m=o.y,y=m===void 0?0:m,g=typeof d=="function"?d({x:p,y}):{x:p,y};p=g.x,y=g.y;var b=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),_=ni,w=ri,E=window;if(l){var O=Pb(r),L="clientHeight",F="clientWidth";if(O===ki(r)&&(O=wu(r),mo(O).position!=="static"&&u==="absolute"&&(L="scrollHeight",F="scrollWidth")),O=O,a===ri||(a===ni||a===Ui)&&s===xd){w=$i;var x=f&&O===E&&E.visualViewport?E.visualViewport.height:O[L];y-=x-n.height,y*=c?1:-1}if(a===ni||(a===ri||a===$i)&&s===xd){_=Ui;var P=f&&O===E&&E.visualViewport?E.visualViewport.width:O[F];p-=P-n.width,p*=c?1:-1}}var j=Object.assign({position:u},l&&Pre),N=d===!0?Nre({x:p,y},ki(r)):{x:p,y};if(p=N.x,y=N.y,c){var V;return Object.assign({},j,(V={},V[w]=v?"0":"",V[_]=b?"0":"",V.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",V))}return Object.assign({},j,(e={},e[w]=v?y+"px":"",e[_]=b?p+"px":"",e.transform="",e))}function Dre(t){var e=t.state,r=t.options,n=r.gpuAcceleration,a=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,u=r.roundOffsets,c=u===void 0?!0:u,l={placement:us(e.placement),variation:Nd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Y4(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Y4(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const vN={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Dre,data:{}};var rv={passive:!0};function Cre(t){var e=t.state,r=t.instance,n=t.options,a=n.scroll,s=a===void 0?!0:a,o=n.resize,u=o===void 0?!0:o,c=ki(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&l.forEach(function(d){d.addEventListener("scroll",r.update,rv)}),u&&c.addEventListener("resize",r.update,rv),function(){s&&l.forEach(function(d){d.removeEventListener("scroll",r.update,rv)}),u&&c.removeEventListener("resize",r.update,rv)}}const wN={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Cre,data:{}};var Lre={left:"right",right:"left",bottom:"top",top:"bottom"};function yw(t){return t.replace(/left|right|bottom|top/g,function(e){return Lre[e]})}var jre={start:"end",end:"start"};function Z4(t){return t.replace(/start|end/g,function(e){return jre[e]})}function SN(t){var e=ki(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function TN(t){return Pd(wu(t)).left+SN(t).scrollLeft}function Mre(t,e){var r=ki(t),n=wu(t),a=r.visualViewport,s=n.clientWidth,o=n.clientHeight,u=0,c=0;if(a){s=a.width,o=a.height;var l=pz();(l||!l&&e==="fixed")&&(u=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:u+TN(t),y:c}}function Fre(t){var e,r=wu(t),n=SN(t),a=(e=t.ownerDocument)==null?void 0:e.body,s=Lc(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Lc(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-n.scrollLeft+TN(t),c=-n.scrollTop;return mo(a||r).direction==="rtl"&&(u+=Lc(r.clientWidth,a?a.clientWidth:0)-s),{width:s,height:o,x:u,y:c}}function EN(t){var e=mo(t),r=e.overflow,n=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function vz(t){return["html","body","#document"].indexOf(ys(t))>=0?t.ownerDocument.body:aa(t)&&EN(t)?t:vz(BS(t))}function B_(t,e){var r;e===void 0&&(e=[]);var n=vz(t),a=n===((r=t.ownerDocument)==null?void 0:r.body),s=ki(n),o=a?[s].concat(s.visualViewport||[],EN(n)?n:[]):n,u=e.concat(o);return a?u:u.concat(B_(BS(o)))}function OI(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Bre(t,e){var r=Pd(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function e6(t,e,r){return e===pN?OI(Mre(t,r)):kc(e)?Bre(e,r):OI(Fre(wu(t)))}function qre(t){var e=B_(BS(t)),r=["absolute","fixed"].indexOf(mo(t).position)>=0,n=r&&aa(t)?Pb(t):t;return kc(n)?e.filter(function(a){return kc(a)&&yz(a,n)&&ys(a)!=="body"}):[]}function $re(t,e,r,n){var a=e==="clippingParents"?qre(t):[].concat(e),s=[].concat(a,[r]),o=s[0],u=s.reduce(function(c,l){var d=e6(t,l,n);return c.top=Lc(d.top,c.top),c.right=Xw(d.right,c.right),c.bottom=Xw(d.bottom,c.bottom),c.left=Lc(d.left,c.left),c},e6(t,o,n));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function wz(t){var e=t.reference,r=t.element,n=t.placement,a=n?us(n):null,s=n?Nd(n):null,o=e.x+e.width/2-r.width/2,u=e.y+e.height/2-r.height/2,c;switch(a){case ri:c={x:o,y:e.y-r.height};break;case $i:c={x:o,y:e.y+e.height};break;case Ui:c={x:e.x+e.width,y:u};break;case ni:c={x:e.x-r.width,y:u};break;default:c={x:e.x,y:e.y}}var l=a?bN(a):null;if(l!=null){var d=l==="y"?"height":"width";switch(s){case Uc:c[l]=c[l]-(e[d]/2-r[d]/2);break;case xd:c[l]=c[l]+(e[d]/2-r[d]/2);break}}return c}function Dd(t,e){e===void 0&&(e={});var r=e,n=r.placement,a=n===void 0?t.placement:n,s=r.strategy,o=s===void 0?t.strategy:s,u=r.boundary,c=u===void 0?rz:u,l=r.rootBoundary,d=l===void 0?pN:l,f=r.elementContext,h=f===void 0?Ql:f,p=r.altBoundary,m=p===void 0?!1:p,y=r.padding,g=y===void 0?0:y,b=gz(typeof g!="number"?g:_z(g,rf)),v=h===Ql?nz:Ql,_=t.rects.popper,w=t.elements[m?v:h],E=$re(kc(w)?w:w.contextElement||wu(t.elements.popper),c,d,o),O=Pd(t.elements.reference),L=wz({reference:O,element:_,strategy:"absolute",placement:a}),F=OI(Object.assign({},_,L)),x=h===Ql?F:O,P={top:E.top-x.top+b.top,bottom:x.bottom-E.bottom+b.bottom,left:E.left-x.left+b.left,right:x.right-E.right+b.right},j=t.modifiersData.offset;if(h===Ql&&j){var N=j[a];Object.keys(P).forEach(function(V){var $=[Ui,$i].indexOf(V)>=0?1:-1,q=[ri,$i].indexOf(V)>=0?"y":"x";P[V]+=N[q]*$})}return P}function Ure(t,e){e===void 0&&(e={});var r=e,n=r.placement,a=r.boundary,s=r.rootBoundary,o=r.padding,u=r.flipVariations,c=r.allowedAutoPlacements,l=c===void 0?yN:c,d=Nd(n),f=d?u?EI:EI.filter(function(m){return Nd(m)===d}):rf,h=f.filter(function(m){return l.indexOf(m)>=0});h.length===0&&(h=f);var p=h.reduce(function(m,y){return m[y]=Dd(t,{placement:y,boundary:a,rootBoundary:s,padding:o})[us(y)],m},{});return Object.keys(p).sort(function(m,y){return p[m]-p[y]})}function kre(t){if(us(t)===FS)return[];var e=yw(t);return[Z4(t),e,Z4(e)]}function Vre(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var a=r.mainAxis,s=a===void 0?!0:a,o=r.altAxis,u=o===void 0?!0:o,c=r.fallbackPlacements,l=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,m=p===void 0?!0:p,y=r.allowedAutoPlacements,g=e.options.placement,b=us(g),v=b===g,_=c||(v||!m?[yw(g)]:kre(g)),w=[g].concat(_).reduce(function(ce,xe){return ce.concat(us(xe)===FS?Ure(e,{placement:xe,boundary:d,rootBoundary:f,padding:l,flipVariations:m,allowedAutoPlacements:y}):xe)},[]),E=e.rects.reference,O=e.rects.popper,L=new Map,F=!0,x=w[0],P=0;P<w.length;P++){var j=w[P],N=us(j),V=Nd(j)===Uc,$=[ri,$i].indexOf(N)>=0,q=$?"width":"height",H=Dd(e,{placement:j,boundary:d,rootBoundary:f,altBoundary:h,padding:l}),X=$?V?Ui:ni:V?$i:ri;E[q]>O[q]&&(X=yw(X));var Y=yw(X),he=[];if(s&&he.push(H[N]<=0),u&&he.push(H[X]<=0,H[Y]<=0),he.every(function(ce){return ce})){x=j,F=!1;break}L.set(j,he)}if(F)for(var Te=m?3:1,Ne=function(xe){var Pe=w.find(function(we){var Re=L.get(we);if(Re)return Re.slice(0,xe).every(function(Se){return Se})});if(Pe)return x=Pe,"break"},$e=Te;$e>0;$e--){var de=Ne($e);if(de==="break")break}e.placement!==x&&(e.modifiersData[n]._skip=!0,e.placement=x,e.reset=!0)}}const Sz={name:"flip",enabled:!0,phase:"main",fn:Vre,requiresIfExists:["offset"],data:{_skip:!1}};function t6(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function r6(t){return[ri,Ui,$i,ni].some(function(e){return t[e]>=0})}function Hre(t){var e=t.state,r=t.name,n=e.rects.reference,a=e.rects.popper,s=e.modifiersData.preventOverflow,o=Dd(e,{elementContext:"reference"}),u=Dd(e,{altBoundary:!0}),c=t6(o,n),l=t6(u,a,s),d=r6(c),f=r6(l);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const Tz={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Hre};function Qre(t,e,r){var n=us(t),a=[ni,ri].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=s[0],u=s[1];return o=o||0,u=(u||0)*a,[ni,Ui].indexOf(n)>=0?{x:u,y:o}:{x:o,y:u}}function zre(t){var e=t.state,r=t.options,n=t.name,a=r.offset,s=a===void 0?[0,0]:a,o=yN.reduce(function(d,f){return d[f]=Qre(f,e.rects,s),d},{}),u=o[e.placement],c=u.x,l=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[n]=o}const Ez={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zre};function Gre(t){var e=t.state,r=t.name;e.modifiersData[r]=wz({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const AN={name:"popperOffsets",enabled:!0,phase:"read",fn:Gre,data:{}};function Wre(t){return t==="x"?"y":"x"}function Kre(t){var e=t.state,r=t.options,n=t.name,a=r.mainAxis,s=a===void 0?!0:a,o=r.altAxis,u=o===void 0?!1:o,c=r.boundary,l=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,p=h===void 0?!0:h,m=r.tetherOffset,y=m===void 0?0:m,g=Dd(e,{boundary:c,rootBoundary:l,padding:f,altBoundary:d}),b=us(e.placement),v=Nd(e.placement),_=!v,w=bN(b),E=Wre(w),O=e.modifiersData.popperOffsets,L=e.rects.reference,F=e.rects.popper,x=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,P=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(O){if(s){var V,$=w==="y"?ri:ni,q=w==="y"?$i:Ui,H=w==="y"?"height":"width",X=O[w],Y=X+g[$],he=X-g[q],Te=p?-F[H]/2:0,Ne=v===Uc?L[H]:F[H],$e=v===Uc?-F[H]:-L[H],de=e.elements.arrow,ce=p&&de?_N(de):{width:0,height:0},xe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:mz(),Pe=xe[$],we=xe[q],Re=F_(0,L[H],ce[H]),Se=_?L[H]/2-Te-Re-Pe-P.mainAxis:Ne-Re-Pe-P.mainAxis,z=_?-L[H]/2+Te+Re+we+P.mainAxis:$e+Re+we+P.mainAxis,M=e.elements.arrow&&Pb(e.elements.arrow),k=M?w==="y"?M.clientTop||0:M.clientLeft||0:0,T=(V=j==null?void 0:j[w])!=null?V:0,R=X+Se-T-k,U=X+z-T,G=F_(p?Xw(Y,R):Y,X,p?Lc(he,U):he);O[w]=G,N[w]=G-X}if(u){var Q,Z=w==="x"?ri:ni,se=w==="x"?$i:Ui,re=O[E],le=E==="y"?"height":"width",pe=re+g[Z],_e=re-g[se],Ie=[ri,ni].indexOf(b)!==-1,Ee=(Q=j==null?void 0:j[E])!=null?Q:0,Me=Ie?pe:re-L[le]-F[le]-Ee+P.altAxis,Ce=Ie?re+L[le]+F[le]-Ee-P.altAxis:_e,ke=p&&Ie?Ore(Me,re,Ce):F_(p?Me:pe,re,p?Ce:_e);O[E]=ke,N[E]=ke-re}e.modifiersData[n]=N}}const Az={name:"preventOverflow",enabled:!0,phase:"main",fn:Kre,requiresIfExists:["offset"]};function Jre(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Xre(t){return t===ki(t)||!aa(t)?SN(t):Jre(t)}function Yre(t){var e=t.getBoundingClientRect(),r=Id(e.width)/t.offsetWidth||1,n=Id(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Zre(t,e,r){r===void 0&&(r=!1);var n=aa(e),a=aa(e)&&Yre(e),s=wu(e),o=Pd(t,a,r),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((ys(e)!=="body"||EN(s))&&(u=Xre(e)),aa(e)?(c=Pd(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=TN(s))),{x:o.left+u.scrollLeft-c.x,y:o.top+u.scrollTop-c.y,width:o.width,height:o.height}}function ene(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function a(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(u){if(!r.has(u)){var c=e.get(u);c&&a(c)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||a(s)}),n}function tne(t){var e=ene(t);return hz.reduce(function(r,n){return r.concat(e.filter(function(a){return a.phase===n}))},[])}function rne(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function nne(t){var e=t.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var n6={placement:"bottom",modifiers:[],strategy:"absolute"};function i6(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function qS(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,a=e.defaultOptions,s=a===void 0?n6:a;return function(u,c,l){l===void 0&&(l=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},n6,s),modifiersData:{},elements:{reference:u,popper:c},attributes:{},styles:{}},f=[],h=!1,p={state:d,setOptions:function(b){var v=typeof b=="function"?b(d.options):b;y(),d.options=Object.assign({},s,d.options,v),d.scrollParents={reference:kc(u)?B_(u):u.contextElement?B_(u.contextElement):[],popper:B_(c)};var _=tne(nne([].concat(n,d.options.modifiers)));return d.orderedModifiers=_.filter(function(w){return w.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var b=d.elements,v=b.reference,_=b.popper;if(i6(v,_)){d.rects={reference:Zre(v,Pb(_),d.options.strategy==="fixed"),popper:_N(_)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(P){return d.modifiersData[P.name]=Object.assign({},P.data)});for(var w=0;w<d.orderedModifiers.length;w++){if(d.reset===!0){d.reset=!1,w=-1;continue}var E=d.orderedModifiers[w],O=E.fn,L=E.options,F=L===void 0?{}:L,x=E.name;typeof O=="function"&&(d=O({state:d,options:F,name:x,instance:p})||d)}}}},update:rne(function(){return new Promise(function(g){p.forceUpdate(),g(d)})}),destroy:function(){y(),h=!0}};if(!i6(u,c))return p;p.setOptions(l).then(function(g){!h&&l.onFirstUpdate&&l.onFirstUpdate(g)});function m(){d.orderedModifiers.forEach(function(g){var b=g.name,v=g.options,_=v===void 0?{}:v,w=g.effect;if(typeof w=="function"){var E=w({state:d,name:b,instance:p,options:_}),O=function(){};f.push(E||O)}})}function y(){f.forEach(function(g){return g()}),f=[]}return p}}var ine=qS(),ane=[wN,AN,vN,gN],sne=qS({defaultModifiers:ane}),one=[wN,AN,vN,gN,Ez,Sz,Az,bz,Tz],ON=qS({defaultModifiers:one});const Oz=Object.freeze(Object.defineProperty({__proto__:null,afterMain:cz,afterRead:sz,afterWrite:fz,applyStyles:gN,arrow:bz,auto:FS,basePlacements:rf,beforeMain:oz,beforeRead:iz,beforeWrite:lz,bottom:$i,clippingParents:rz,computeStyles:vN,createPopper:ON,createPopperBase:ine,createPopperLite:sne,detectOverflow:Dd,end:xd,eventListeners:wN,flip:Sz,hide:Tz,left:ni,main:uz,modifierPhases:hz,offset:Ez,placements:yN,popper:Ql,popperGenerator:qS,popperOffsets:AN,preventOverflow:Az,read:az,reference:nz,right:Ui,start:Uc,top:ri,variationPlacements:EI,viewport:pN,write:dz},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Co=new Map,mE={set(t,e,r){Co.has(t)||Co.set(t,new Map);const n=Co.get(t);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,r)},get(t,e){return Co.has(t)&&Co.get(t).get(e)||null},remove(t,e){if(!Co.has(t))return;const r=Co.get(t);r.delete(e),r.size===0&&Co.delete(t)}},une=1e6,cne=1e3,RI="transitionend",Rz=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,r)=>`#${CSS.escape(r)}`)),t),lne=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),dne=t=>{do t+=Math.floor(Math.random()*une);while(document.getElementById(t));return t},fne=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:r}=window.getComputedStyle(t);const n=Number.parseFloat(e),a=Number.parseFloat(r);return!n&&!a?0:(e=e.split(",")[0],r=r.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(r))*cne)},xz=t=>{t.dispatchEvent(new Event(RI))},co=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),lu=t=>co(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(Rz(t)):null,nf=t=>{if(!co(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",r=t.closest("details:not([open])");if(!r)return e;if(r!==t){const n=t.closest("summary");if(n&&n.parentNode!==r||n===null)return!1}return e},du=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Iz=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Iz(t.parentNode):null},Yw=()=>{},Nb=t=>{t.offsetHeight},Pz=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,gE=[],hne=t=>{document.readyState==="loading"?(gE.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of gE)e()}),gE.push(t)):t()},la=()=>document.documentElement.dir==="rtl",pa=t=>{hne(()=>{const e=Pz();if(e){const r=t.NAME,n=e.fn[r];e.fn[r]=t.jQueryInterface,e.fn[r].Constructor=t,e.fn[r].noConflict=()=>(e.fn[r]=n,t.jQueryInterface)}})},bi=(t,e=[],r=t)=>typeof t=="function"?t(...e):r,Nz=(t,e,r=!0)=>{if(!r){bi(t);return}const a=fne(e)+5;let s=!1;const o=({target:u})=>{u===e&&(s=!0,e.removeEventListener(RI,o),bi(t))};e.addEventListener(RI,o),setTimeout(()=>{s||xz(e)},a)},RN=(t,e,r,n)=>{const a=t.length;let s=t.indexOf(e);return s===-1?!r&&n?t[a-1]:t[0]:(s+=r?1:-1,n&&(s=(s+a)%a),t[Math.max(0,Math.min(s,a-1))])},pne=/[^.]*(?=\..*)\.|.*/,yne=/\..*/,mne=/::\d+$/,_E={};let a6=1;const Dz={mouseenter:"mouseover",mouseleave:"mouseout"},gne=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Cz(t,e){return e&&`${e}::${a6++}`||t.uidEvent||a6++}function Lz(t){const e=Cz(t);return t.uidEvent=e,_E[e]=_E[e]||{},_E[e]}function _ne(t,e){return function r(n){return xN(n,{delegateTarget:t}),r.oneOff&&Ge.off(t,n.type,e),e.apply(t,[n])}}function bne(t,e,r){return function n(a){const s=t.querySelectorAll(e);for(let{target:o}=a;o&&o!==this;o=o.parentNode)for(const u of s)if(u===o)return xN(a,{delegateTarget:o}),n.oneOff&&Ge.off(t,a.type,e,r),r.apply(o,[a])}}function jz(t,e,r=null){return Object.values(t).find(n=>n.callable===e&&n.delegationSelector===r)}function Mz(t,e,r){const n=typeof e=="string",a=n?r:e||r;let s=Fz(t);return gne.has(s)||(s=t),[n,a,s]}function s6(t,e,r,n,a){if(typeof e!="string"||!t)return;let[s,o,u]=Mz(e,r,n);e in Dz&&(o=(m=>function(y){if(!y.relatedTarget||y.relatedTarget!==y.delegateTarget&&!y.delegateTarget.contains(y.relatedTarget))return m.call(this,y)})(o));const c=Lz(t),l=c[u]||(c[u]={}),d=jz(l,o,s?r:null);if(d){d.oneOff=d.oneOff&&a;return}const f=Cz(o,e.replace(pne,"")),h=s?bne(t,r,o):_ne(t,o);h.delegationSelector=s?r:null,h.callable=o,h.oneOff=a,h.uidEvent=f,l[f]=h,t.addEventListener(u,h,s)}function xI(t,e,r,n,a){const s=jz(e[r],n,a);s&&(t.removeEventListener(r,s,!!a),delete e[r][s.uidEvent])}function vne(t,e,r,n){const a=e[r]||{};for(const[s,o]of Object.entries(a))s.includes(n)&&xI(t,e,r,o.callable,o.delegationSelector)}function Fz(t){return t=t.replace(yne,""),Dz[t]||t}const Ge={on(t,e,r,n){s6(t,e,r,n,!1)},one(t,e,r,n){s6(t,e,r,n,!0)},off(t,e,r,n){if(typeof e!="string"||!t)return;const[a,s,o]=Mz(e,r,n),u=o!==e,c=Lz(t),l=c[o]||{},d=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(l).length)return;xI(t,c,o,s,a?r:null);return}if(d)for(const f of Object.keys(c))vne(t,c,f,e.slice(1));for(const[f,h]of Object.entries(l)){const p=f.replace(mne,"");(!u||e.includes(p))&&xI(t,c,o,h.callable,h.delegationSelector)}},trigger(t,e,r){if(typeof e!="string"||!t)return null;const n=Pz(),a=Fz(e),s=e!==a;let o=null,u=!0,c=!0,l=!1;s&&n&&(o=n.Event(e,r),n(t).trigger(o),u=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),l=o.isDefaultPrevented());const d=xN(new Event(e,{bubbles:u,cancelable:!0}),r);return l&&d.preventDefault(),c&&t.dispatchEvent(d),d.defaultPrevented&&o&&o.preventDefault(),d}};function xN(t,e={}){for(const[r,n]of Object.entries(e))try{t[r]=n}catch{Object.defineProperty(t,r,{configurable:!0,get(){return n}})}return t}function o6(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function bE(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const lo={setDataAttribute(t,e,r){t.setAttribute(`data-bs-${bE(e)}`,r)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${bE(e)}`)},getDataAttributes(t){if(!t)return{};const e={},r=Object.keys(t.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of r){let a=n.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1,a.length),e[a]=o6(t.dataset[n])}return e},getDataAttribute(t,e){return o6(t.getAttribute(`data-bs-${bE(e)}`))}};class Db{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,r){const n=co(r)?lo.getDataAttribute(r,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...co(r)?lo.getDataAttributes(r):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,r=this.constructor.DefaultType){for(const[n,a]of Object.entries(r)){const s=e[n],o=co(s)?"element":lne(s);if(!new RegExp(a).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${o}" but expected type "${a}".`)}}}const wne="5.3.3";class $a extends Db{constructor(e,r){super(),e=lu(e),e&&(this._element=e,this._config=this._getConfig(r),mE.set(this._element,this.constructor.DATA_KEY,this))}dispose(){mE.remove(this._element,this.constructor.DATA_KEY),Ge.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,r,n=!0){Nz(e,r,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return mE.get(lu(e),this.DATA_KEY)}static getOrCreateInstance(e,r={}){return this.getInstance(e)||new this(e,typeof r=="object"?r:null)}static get VERSION(){return wne}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const vE=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let r=t.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),e=r&&r!=="#"?r.trim():null}return e?e.split(",").map(r=>Rz(r)).join(","):null},_t={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(r=>r.matches(e))},parents(t,e){const r=[];let n=t.parentNode.closest(e);for(;n;)r.push(n),n=n.parentNode.closest(e);return r},prev(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return[r];r=r.previousElementSibling}return[]},next(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return[r];r=r.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(r=>`${r}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(r=>!du(r)&&nf(r))},getSelectorFromElement(t){const e=vE(t);return e&&_t.findOne(e)?e:null},getElementFromSelector(t){const e=vE(t);return e?_t.findOne(e):null},getMultipleElementsFromSelector(t){const e=vE(t);return e?_t.find(e):[]}},$S=(t,e="hide")=>{const r=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;Ge.on(document,r,`[data-bs-dismiss="${n}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),du(this))return;const s=_t.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(s)[e]()})},Sne="alert",Tne="bs.alert",Bz=`.${Tne}`,Ene=`close${Bz}`,Ane=`closed${Bz}`,One="fade",Rne="show";class US extends $a{static get NAME(){return Sne}close(){if(Ge.trigger(this._element,Ene).defaultPrevented)return;this._element.classList.remove(Rne);const r=this._element.classList.contains(One);this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),Ge.trigger(this._element,Ane),this.dispose()}static jQueryInterface(e){return this.each(function(){const r=US.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}$S(US,"close");pa(US);const xne="button",Ine="bs.button",Pne=`.${Ine}`,Nne=".data-api",Dne="active",u6='[data-bs-toggle="button"]',Cne=`click${Pne}${Nne}`;class kS extends $a{static get NAME(){return xne}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Dne))}static jQueryInterface(e){return this.each(function(){const r=kS.getOrCreateInstance(this);e==="toggle"&&r[e]()})}}Ge.on(document,Cne,u6,t=>{t.preventDefault();const e=t.target.closest(u6);kS.getOrCreateInstance(e).toggle()});pa(kS);const Lne="swipe",af=".bs.swipe",jne=`touchstart${af}`,Mne=`touchmove${af}`,Fne=`touchend${af}`,Bne=`pointerdown${af}`,qne=`pointerup${af}`,$ne="touch",Une="pen",kne="pointer-event",Vne=40,Hne={endCallback:null,leftCallback:null,rightCallback:null},Qne={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Zw extends Db{constructor(e,r){super(),this._element=e,!(!e||!Zw.isSupported())&&(this._config=this._getConfig(r),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Hne}static get DefaultType(){return Qne}static get NAME(){return Lne}dispose(){Ge.off(this._element,af)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),bi(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Vne)return;const r=e/this._deltaX;this._deltaX=0,r&&bi(r>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ge.on(this._element,Bne,e=>this._start(e)),Ge.on(this._element,qne,e=>this._end(e)),this._element.classList.add(kne)):(Ge.on(this._element,jne,e=>this._start(e)),Ge.on(this._element,Mne,e=>this._move(e)),Ge.on(this._element,Fne,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Une||e.pointerType===$ne)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const zne="carousel",Gne="bs.carousel",Su=`.${Gne}`,qz=".data-api",Wne="ArrowLeft",Kne="ArrowRight",Jne=500,Qf="next",Nl="prev",zl="left",mw="right",Xne=`slide${Su}`,wE=`slid${Su}`,Yne=`keydown${Su}`,Zne=`mouseenter${Su}`,eie=`mouseleave${Su}`,tie=`dragstart${Su}`,rie=`load${Su}${qz}`,nie=`click${Su}${qz}`,$z="carousel",nv="active",iie="slide",aie="carousel-item-end",sie="carousel-item-start",oie="carousel-item-next",uie="carousel-item-prev",Uz=".active",kz=".carousel-item",cie=Uz+kz,lie=".carousel-item img",die=".carousel-indicators",fie="[data-bs-slide], [data-bs-slide-to]",hie='[data-bs-ride="carousel"]',pie={[Wne]:mw,[Kne]:zl},yie={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},mie={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Cb extends $a{constructor(e,r){super(e,r),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=_t.findOne(die,this._element),this._addEventListeners(),this._config.ride===$z&&this.cycle()}static get Default(){return yie}static get DefaultType(){return mie}static get NAME(){return zne}next(){this._slide(Qf)}nextWhenVisible(){!document.hidden&&nf(this._element)&&this.next()}prev(){this._slide(Nl)}pause(){this._isSliding&&xz(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Ge.one(this._element,wE,()=>this.cycle());return}this.cycle()}}to(e){const r=this._getItems();if(e>r.length-1||e<0)return;if(this._isSliding){Ge.one(this._element,wE,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const a=e>n?Qf:Nl;this._slide(a,r[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Ge.on(this._element,Yne,e=>this._keydown(e)),this._config.pause==="hover"&&(Ge.on(this._element,Zne,()=>this.pause()),Ge.on(this._element,eie,()=>this._maybeEnableCycle())),this._config.touch&&Zw.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of _t.find(lie,this._element))Ge.on(n,tie,a=>a.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(zl)),rightCallback:()=>this._slide(this._directionToOrder(mw)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Jne+this._config.interval))}};this._swipeHelper=new Zw(this._element,r)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const r=pie[e.key];r&&(e.preventDefault(),this._slide(this._directionToOrder(r)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const r=_t.findOne(Uz,this._indicatorsElement);r.classList.remove(nv),r.removeAttribute("aria-current");const n=_t.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(nv),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const r=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=r||this._config.defaultInterval}_slide(e,r=null){if(this._isSliding)return;const n=this._getActive(),a=e===Qf,s=r||RN(this._getItems(),n,a,this._config.wrap);if(s===n)return;const o=this._getItemIndex(s),u=p=>Ge.trigger(this._element,p,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:o});if(u(Xne).defaultPrevented||!n||!s)return;const l=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const d=a?sie:aie,f=a?oie:uie;s.classList.add(f),Nb(s),n.classList.add(d),s.classList.add(d);const h=()=>{s.classList.remove(d,f),s.classList.add(nv),n.classList.remove(nv,f,d),this._isSliding=!1,u(wE)};this._queueCallback(h,n,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains(iie)}_getActive(){return _t.findOne(cie,this._element)}_getItems(){return _t.find(kz,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return la()?e===zl?Nl:Qf:e===zl?Qf:Nl}_orderToDirection(e){return la()?e===Nl?zl:mw:e===Nl?mw:zl}static jQueryInterface(e){return this.each(function(){const r=Cb.getOrCreateInstance(this,e);if(typeof e=="number"){r.to(e);return}if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Ge.on(document,nie,fie,function(t){const e=_t.getElementFromSelector(this);if(!e||!e.classList.contains($z))return;t.preventDefault();const r=Cb.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){r.to(n),r._maybeEnableCycle();return}if(lo.getDataAttribute(this,"slide")==="next"){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()});Ge.on(window,rie,()=>{const t=_t.find(hie);for(const e of t)Cb.getOrCreateInstance(e)});pa(Cb);const gie="collapse",_ie="bs.collapse",Lb=`.${_ie}`,bie=".data-api",vie=`show${Lb}`,wie=`shown${Lb}`,Sie=`hide${Lb}`,Tie=`hidden${Lb}`,Eie=`click${Lb}${bie}`,SE="show",td="collapse",iv="collapsing",Aie="collapsed",Oie=`:scope .${td} .${td}`,Rie="collapse-horizontal",xie="width",Iie="height",Pie=".collapse.show, .collapse.collapsing",II='[data-bs-toggle="collapse"]',Nie={parent:null,toggle:!0},Die={parent:"(null|element)",toggle:"boolean"};class tb extends $a{constructor(e,r){super(e,r),this._isTransitioning=!1,this._triggerArray=[];const n=_t.find(II);for(const a of n){const s=_t.getSelectorFromElement(a),o=_t.find(s).filter(u=>u===this._element);s!==null&&o.length&&this._triggerArray.push(a)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Nie}static get DefaultType(){return Die}static get NAME(){return gie}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Pie).filter(u=>u!==this._element).map(u=>tb.getOrCreateInstance(u,{toggle:!1}))),e.length&&e[0]._isTransitioning||Ge.trigger(this._element,vie).defaultPrevented)return;for(const u of e)u.hide();const n=this._getDimension();this._element.classList.remove(td),this._element.classList.add(iv),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(iv),this._element.classList.add(td,SE),this._element.style[n]="",Ge.trigger(this._element,wie)},o=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(a,this._element,!0),this._element.style[n]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ge.trigger(this._element,Sie).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,Nb(this._element),this._element.classList.add(iv),this._element.classList.remove(td,SE);for(const a of this._triggerArray){const s=_t.getElementFromSelector(a);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(iv),this._element.classList.add(td),Ge.trigger(this._element,Tie)};this._element.style[r]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(SE)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=lu(e.parent),e}_getDimension(){return this._element.classList.contains(Rie)?xie:Iie}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(II);for(const r of e){const n=_t.getElementFromSelector(r);n&&this._addAriaAndCollapsedClass([r],this._isShown(n))}}_getFirstLevelChildren(e){const r=_t.find(Oie,this._config.parent);return _t.find(e,this._config.parent).filter(n=>!r.includes(n))}_addAriaAndCollapsedClass(e,r){if(e.length)for(const n of e)n.classList.toggle(Aie,!r),n.setAttribute("aria-expanded",r)}static jQueryInterface(e){const r={};return typeof e=="string"&&/show|hide/.test(e)&&(r.toggle=!1),this.each(function(){const n=tb.getOrCreateInstance(this,r);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Ge.on(document,Eie,II,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of _t.getMultipleElementsFromSelector(this))tb.getOrCreateInstance(e,{toggle:!1}).toggle()});pa(tb);const c6="dropdown",Cie="bs.dropdown",il=`.${Cie}`,IN=".data-api",Lie="Escape",l6="Tab",jie="ArrowUp",d6="ArrowDown",Mie=2,Fie=`hide${il}`,Bie=`hidden${il}`,qie=`show${il}`,$ie=`shown${il}`,Vz=`click${il}${IN}`,Hz=`keydown${il}${IN}`,Uie=`keyup${il}${IN}`,Gl="show",kie="dropup",Vie="dropend",Hie="dropstart",Qie="dropup-center",zie="dropdown-center",Oc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Gie=`${Oc}.${Gl}`,gw=".dropdown-menu",Wie=".navbar",Kie=".navbar-nav",Jie=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Xie=la()?"top-end":"top-start",Yie=la()?"top-start":"top-end",Zie=la()?"bottom-end":"bottom-start",eae=la()?"bottom-start":"bottom-end",tae=la()?"left-start":"right-start",rae=la()?"right-start":"left-start",nae="top",iae="bottom",aae={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},sae={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class cs extends $a{constructor(e,r){super(e,r),this._popper=null,this._parent=this._element.parentNode,this._menu=_t.next(this._element,gw)[0]||_t.prev(this._element,gw)[0]||_t.findOne(gw,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return aae}static get DefaultType(){return sae}static get NAME(){return c6}toggle(){return this._isShown()?this.hide():this.show()}show(){if(du(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Ge.trigger(this._element,qie,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Kie))for(const n of[].concat(...document.body.children))Ge.on(n,"mouseover",Yw);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Gl),this._element.classList.add(Gl),Ge.trigger(this._element,$ie,e)}}hide(){if(du(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Ge.trigger(this._element,Fie,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))Ge.off(n,"mouseover",Yw);this._popper&&this._popper.destroy(),this._menu.classList.remove(Gl),this._element.classList.remove(Gl),this._element.setAttribute("aria-expanded","false"),lo.removeDataAttribute(this._menu,"popper"),Ge.trigger(this._element,Bie,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!co(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${c6.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Oz>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:co(this._config.reference)?e=lu(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const r=this._getPopperConfig();this._popper=ON(e,this._menu,r)}_isShown(){return this._menu.classList.contains(Gl)}_getPlacement(){const e=this._parent;if(e.classList.contains(Vie))return tae;if(e.classList.contains(Hie))return rae;if(e.classList.contains(Qie))return nae;if(e.classList.contains(zie))return iae;const r=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(kie)?r?Yie:Xie:r?eae:Zie}_detectNavbar(){return this._element.closest(Wie)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(lo.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...bi(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:r}){const n=_t.find(Jie,this._menu).filter(a=>nf(a));n.length&&RN(n,r,e===d6,!n.includes(r)).focus()}static jQueryInterface(e){return this.each(function(){const r=cs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}static clearMenus(e){if(e.button===Mie||e.type==="keyup"&&e.key!==l6)return;const r=_t.find(Gie);for(const n of r){const a=cs.getInstance(n);if(!a||a._config.autoClose===!1)continue;const s=e.composedPath(),o=s.includes(a._menu);if(s.includes(a._element)||a._config.autoClose==="inside"&&!o||a._config.autoClose==="outside"&&o||a._menu.contains(e.target)&&(e.type==="keyup"&&e.key===l6||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const u={relatedTarget:a._element};e.type==="click"&&(u.clickEvent=e),a._completeHide(u)}}static dataApiKeydownHandler(e){const r=/input|textarea/i.test(e.target.tagName),n=e.key===Lie,a=[jie,d6].includes(e.key);if(!a&&!n||r&&!n)return;e.preventDefault();const s=this.matches(Oc)?this:_t.prev(this,Oc)[0]||_t.next(this,Oc)[0]||_t.findOne(Oc,e.delegateTarget.parentNode),o=cs.getOrCreateInstance(s);if(a){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),s.focus())}}Ge.on(document,Hz,Oc,cs.dataApiKeydownHandler);Ge.on(document,Hz,gw,cs.dataApiKeydownHandler);Ge.on(document,Vz,cs.clearMenus);Ge.on(document,Uie,cs.clearMenus);Ge.on(document,Vz,Oc,function(t){t.preventDefault(),cs.getOrCreateInstance(this).toggle()});pa(cs);const Qz="backdrop",oae="fade",f6="show",h6=`mousedown.bs.${Qz}`,uae={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},cae={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class zz extends Db{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return uae}static get DefaultType(){return cae}static get NAME(){return Qz}show(e){if(!this._config.isVisible){bi(e);return}this._append();const r=this._getElement();this._config.isAnimated&&Nb(r),r.classList.add(f6),this._emulateAnimation(()=>{bi(e)})}hide(e){if(!this._config.isVisible){bi(e);return}this._getElement().classList.remove(f6),this._emulateAnimation(()=>{this.dispose(),bi(e)})}dispose(){this._isAppended&&(Ge.off(this._element,h6),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(oae),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=lu(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Ge.on(e,h6,()=>{bi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Nz(e,this._getElement(),this._config.isAnimated)}}const lae="focustrap",dae="bs.focustrap",eS=`.${dae}`,fae=`focusin${eS}`,hae=`keydown.tab${eS}`,pae="Tab",yae="forward",p6="backward",mae={autofocus:!0,trapElement:null},gae={autofocus:"boolean",trapElement:"element"};class Gz extends Db{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return mae}static get DefaultType(){return gae}static get NAME(){return lae}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ge.off(document,eS),Ge.on(document,fae,e=>this._handleFocusin(e)),Ge.on(document,hae,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ge.off(document,eS))}_handleFocusin(e){const{trapElement:r}=this._config;if(e.target===document||e.target===r||r.contains(e.target))return;const n=_t.focusableChildren(r);n.length===0?r.focus():this._lastTabNavDirection===p6?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===pae&&(this._lastTabNavDirection=e.shiftKey?p6:yae)}}const y6=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",m6=".sticky-top",av="padding-right",g6="margin-right";class PI{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,av,r=>r+e),this._setElementAttributes(y6,av,r=>r+e),this._setElementAttributes(m6,g6,r=>r-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,av),this._resetElementAttributes(y6,av),this._resetElementAttributes(m6,g6)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,r,n){const a=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+a)return;this._saveInitialAttribute(o,r);const u=window.getComputedStyle(o).getPropertyValue(r);o.style.setProperty(r,`${n(Number.parseFloat(u))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,r){const n=e.style.getPropertyValue(r);n&&lo.setDataAttribute(e,r,n)}_resetElementAttributes(e,r){const n=a=>{const s=lo.getDataAttribute(a,r);if(s===null){a.style.removeProperty(r);return}lo.removeDataAttribute(a,r),a.style.setProperty(r,s)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,r){if(co(e)){r(e);return}for(const n of _t.find(e,this._element))r(n)}}const _ae="modal",bae="bs.modal",da=`.${bae}`,vae=".data-api",wae="Escape",Sae=`hide${da}`,Tae=`hidePrevented${da}`,Wz=`hidden${da}`,Kz=`show${da}`,Eae=`shown${da}`,Aae=`resize${da}`,Oae=`click.dismiss${da}`,Rae=`mousedown.dismiss${da}`,xae=`keydown.dismiss${da}`,Iae=`click${da}${vae}`,_6="modal-open",Pae="fade",b6="show",TE="modal-static",Nae=".modal.show",Dae=".modal-dialog",Cae=".modal-body",Lae='[data-bs-toggle="modal"]',jae={backdrop:!0,focus:!0,keyboard:!0},Mae={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class fu extends $a{constructor(e,r){super(e,r),this._dialog=_t.findOne(Dae,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new PI,this._addEventListeners()}static get Default(){return jae}static get DefaultType(){return Mae}static get NAME(){return _ae}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Ge.trigger(this._element,Kz,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(_6),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Ge.trigger(this._element,Sae).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(b6),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Ge.off(window,da),Ge.off(this._dialog,da),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new zz({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Gz({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const r=_t.findOne(Cae,this._dialog);r&&(r.scrollTop=0),Nb(this._element),this._element.classList.add(b6);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ge.trigger(this._element,Eae,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){Ge.on(this._element,xae,e=>{if(e.key===wae){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Ge.on(window,Aae,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ge.on(this._element,Rae,e=>{Ge.one(this._element,Oae,r=>{if(!(this._element!==e.target||this._element!==r.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(_6),this._resetAdjustments(),this._scrollBar.reset(),Ge.trigger(this._element,Wz)})}_isAnimated(){return this._element.classList.contains(Pae)}_triggerBackdropTransition(){if(Ge.trigger(this._element,Tae).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(TE)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(TE),this._queueCallback(()=>{this._element.classList.remove(TE),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,r=this._scrollBar.getWidth(),n=r>0;if(n&&!e){const a=la()?"paddingLeft":"paddingRight";this._element.style[a]=`${r}px`}if(!n&&e){const a=la()?"paddingRight":"paddingLeft";this._element.style[a]=`${r}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,r){return this.each(function(){const n=fu.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](r)}})}}Ge.on(document,Iae,Lae,function(t){const e=_t.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ge.one(e,Kz,a=>{a.defaultPrevented||Ge.one(e,Wz,()=>{nf(this)&&this.focus()})});const r=_t.findOne(Nae);r&&fu.getInstance(r).hide(),fu.getOrCreateInstance(e).toggle(this)});$S(fu);pa(fu);const Fae="offcanvas",Bae="bs.offcanvas",To=`.${Bae}`,Jz=".data-api",qae=`load${To}${Jz}`,$ae="Escape",v6="show",w6="showing",S6="hiding",Uae="offcanvas-backdrop",Xz=".offcanvas.show",kae=`show${To}`,Vae=`shown${To}`,Hae=`hide${To}`,T6=`hidePrevented${To}`,Yz=`hidden${To}`,Qae=`resize${To}`,zae=`click${To}${Jz}`,Gae=`keydown.dismiss${To}`,Wae='[data-bs-toggle="offcanvas"]',Kae={backdrop:!0,keyboard:!0,scroll:!1},Jae={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class hu extends $a{constructor(e,r){super(e,r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Kae}static get DefaultType(){return Jae}static get NAME(){return Fae}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Ge.trigger(this._element,kae,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new PI().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(w6);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(v6),this._element.classList.remove(w6),Ge.trigger(this._element,Vae,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||Ge.trigger(this._element,Hae).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(S6),this._backdrop.hide();const r=()=>{this._element.classList.remove(v6,S6),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new PI().reset(),Ge.trigger(this._element,Yz)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){Ge.trigger(this._element,T6);return}this.hide()},r=!!this._config.backdrop;return new zz({className:Uae,isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?e:null})}_initializeFocusTrap(){return new Gz({trapElement:this._element})}_addEventListeners(){Ge.on(this._element,Gae,e=>{if(e.key===$ae){if(this._config.keyboard){this.hide();return}Ge.trigger(this._element,T6)}})}static jQueryInterface(e){return this.each(function(){const r=hu.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}Ge.on(document,zae,Wae,function(t){const e=_t.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),du(this))return;Ge.one(e,Yz,()=>{nf(this)&&this.focus()});const r=_t.findOne(Xz);r&&r!==e&&hu.getInstance(r).hide(),hu.getOrCreateInstance(e).toggle(this)});Ge.on(window,qae,()=>{for(const t of _t.find(Xz))hu.getOrCreateInstance(t).show()});Ge.on(window,Qae,()=>{for(const t of _t.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&hu.getOrCreateInstance(t).hide()});$S(hu);pa(hu);const Xae=/^aria-[\w-]*$/i,Zz={"*":["class","dir","id","lang","role",Xae],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Yae=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Zae=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ese=(t,e)=>{const r=t.nodeName.toLowerCase();return e.includes(r)?Yae.has(r)?!!Zae.test(t.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(r))};function tse(t,e,r){if(!t.length)return t;if(r&&typeof r=="function")return r(t);const a=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...a.body.querySelectorAll("*"));for(const o of s){const u=o.nodeName.toLowerCase();if(!Object.keys(e).includes(u)){o.remove();continue}const c=[].concat(...o.attributes),l=[].concat(e["*"]||[],e[u]||[]);for(const d of c)ese(d,l)||o.removeAttribute(d.nodeName)}return a.body.innerHTML}const rse="TemplateFactory",nse={allowList:Zz,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ise={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ase={entry:"(string|element|function|null)",selector:"(string|element)"};class sse extends Db{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return nse}static get DefaultType(){return ise}static get NAME(){return rse}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[a,s]of Object.entries(this._config.content))this._setContent(e,s,a);const r=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&r.classList.add(...n.split(" ")),r}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[r,n]of Object.entries(e))super._typeCheckConfig({selector:r,entry:n},ase)}_setContent(e,r,n){const a=_t.findOne(n,e);if(a){if(r=this._resolvePossibleFunction(r),!r){a.remove();return}if(co(r)){this._putElementInTemplate(lu(r),a);return}if(this._config.html){a.innerHTML=this._maybeSanitize(r);return}a.textContent=r}}_maybeSanitize(e){return this._config.sanitize?tse(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return bi(e,[this])}_putElementInTemplate(e,r){if(this._config.html){r.innerHTML="",r.append(e);return}r.textContent=e.textContent}}const ose="tooltip",use=new Set(["sanitize","allowList","sanitizeFn"]),EE="fade",cse="modal",sv="show",lse=".tooltip-inner",E6=`.${cse}`,A6="hide.bs.modal",zf="hover",AE="focus",dse="click",fse="manual",hse="hide",pse="hidden",yse="show",mse="shown",gse="inserted",_se="click",bse="focusin",vse="focusout",wse="mouseenter",Sse="mouseleave",Tse={AUTO:"auto",TOP:"top",RIGHT:la()?"left":"right",BOTTOM:"bottom",LEFT:la()?"right":"left"},Ese={allowList:Zz,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ase={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class sf extends $a{constructor(e,r){if(typeof Oz>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,r),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ese}static get DefaultType(){return Ase}static get NAME(){return ose}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Ge.off(this._element.closest(E6),A6,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=Ge.trigger(this._element,this.constructor.eventName(yse)),n=(Iz(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(a),Ge.trigger(this._element,this.constructor.eventName(gse))),this._popper=this._createPopper(a),a.classList.add(sv),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))Ge.on(u,"mouseover",Yw);const o=()=>{Ge.trigger(this._element,this.constructor.eventName(mse)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Ge.trigger(this._element,this.constructor.eventName(hse)).defaultPrevented)return;if(this._getTipElement().classList.remove(sv),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))Ge.off(a,"mouseover",Yw);this._activeTrigger[dse]=!1,this._activeTrigger[AE]=!1,this._activeTrigger[zf]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ge.trigger(this._element,this.constructor.eventName(pse)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const r=this._getTemplateFactory(e).toHtml();if(!r)return null;r.classList.remove(EE,sv),r.classList.add(`bs-${this.constructor.NAME}-auto`);const n=dne(this.constructor.NAME).toString();return r.setAttribute("id",n),this._isAnimated()&&r.classList.add(EE),r}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new sse({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[lse]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(EE)}_isShown(){return this.tip&&this.tip.classList.contains(sv)}_createPopper(e){const r=bi(this._config.placement,[this,e,this._element]),n=Tse[r.toUpperCase()];return ON(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_resolvePossibleFunction(e){return bi(e,[this._element])}_getPopperConfig(e){const r={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...r,...bi(this._config.popperConfig,[r])}}_setListeners(){const e=this._config.trigger.split(" ");for(const r of e)if(r==="click")Ge.on(this._element,this.constructor.eventName(_se),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(r!==fse){const n=r===zf?this.constructor.eventName(wse):this.constructor.eventName(bse),a=r===zf?this.constructor.eventName(Sse):this.constructor.eventName(vse);Ge.on(this._element,n,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusin"?AE:zf]=!0,o._enter()}),Ge.on(this._element,a,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusout"?AE:zf]=o._element.contains(s.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ge.on(this._element.closest(E6),A6,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,r){clearTimeout(this._timeout),this._timeout=setTimeout(e,r)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const r=lo.getDataAttributes(this._element);for(const n of Object.keys(r))use.has(n)&&delete r[n];return e={...r,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:lu(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[r,n]of Object.entries(this._config))this.constructor.Default[r]!==n&&(e[r]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const r=sf.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}pa(sf);const Ose="popover",Rse=".popover-header",xse=".popover-body",Ise={...sf.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Pse={...sf.DefaultType,content:"(null|string|element|function)"};class PN extends sf{static get Default(){return Ise}static get DefaultType(){return Pse}static get NAME(){return Ose}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Rse]:this._getTitle(),[xse]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const r=PN.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}pa(PN);const Nse="scrollspy",Dse="bs.scrollspy",NN=`.${Dse}`,Cse=".data-api",Lse=`activate${NN}`,O6=`click${NN}`,jse=`load${NN}${Cse}`,Mse="dropdown-item",Dl="active",Fse='[data-bs-spy="scroll"]',OE="[href]",Bse=".nav, .list-group",R6=".nav-link",qse=".nav-item",$se=".list-group-item",Use=`${R6}, ${qse} > ${R6}, ${$se}`,kse=".dropdown",Vse=".dropdown-toggle",Hse={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Qse={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class VS extends $a{constructor(e,r){super(e,r),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Hse}static get DefaultType(){return Qse}static get NAME(){return Nse}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=lu(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(r=>Number.parseFloat(r))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Ge.off(this._config.target,O6),Ge.on(this._config.target,O6,OE,e=>{const r=this._observableSections.get(e.target.hash);if(r){e.preventDefault();const n=this._rootElement||window,a=r.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:a,behavior:"smooth"});return}n.scrollTop=a}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(r=>this._observerCallback(r),e)}_observerCallback(e){const r=o=>this._targetLinks.get(`#${o.target.id}`),n=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(r(o))},a=(this._rootElement||document.documentElement).scrollTop,s=a>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=a;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(r(o));continue}const u=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&u){if(n(o),!a)return;continue}!s&&!u&&n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=_t.find(OE,this._config.target);for(const r of e){if(!r.hash||du(r))continue;const n=_t.findOne(decodeURI(r.hash),this._element);nf(n)&&(this._targetLinks.set(decodeURI(r.hash),r),this._observableSections.set(r.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Dl),this._activateParents(e),Ge.trigger(this._element,Lse,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Mse)){_t.findOne(Vse,e.closest(kse)).classList.add(Dl);return}for(const r of _t.parents(e,Bse))for(const n of _t.prev(r,Use))n.classList.add(Dl)}_clearActiveClass(e){e.classList.remove(Dl);const r=_t.find(`${OE}.${Dl}`,e);for(const n of r)n.classList.remove(Dl)}static jQueryInterface(e){return this.each(function(){const r=VS.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Ge.on(window,jse,()=>{for(const t of _t.find(Fse))VS.getOrCreateInstance(t)});pa(VS);const zse="tab",Gse="bs.tab",al=`.${Gse}`,Wse=`hide${al}`,Kse=`hidden${al}`,Jse=`show${al}`,Xse=`shown${al}`,Yse=`click${al}`,Zse=`keydown${al}`,eoe=`load${al}`,toe="ArrowLeft",x6="ArrowRight",roe="ArrowUp",I6="ArrowDown",RE="Home",P6="End",Rc="active",N6="fade",xE="show",noe="dropdown",eG=".dropdown-toggle",ioe=".dropdown-menu",IE=`:not(${eG})`,aoe='.list-group, .nav, [role="tablist"]',soe=".nav-item, .list-group-item",ooe=`.nav-link${IE}, .list-group-item${IE}, [role="tab"]${IE}`,tG='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',PE=`${ooe}, ${tG}`,uoe=`.${Rc}[data-bs-toggle="tab"], .${Rc}[data-bs-toggle="pill"], .${Rc}[data-bs-toggle="list"]`;class Cd extends $a{constructor(e){super(e),this._parent=this._element.closest(aoe),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ge.on(this._element,Zse,r=>this._keydown(r)))}static get NAME(){return zse}show(){const e=this._element;if(this._elemIsActive(e))return;const r=this._getActiveElem(),n=r?Ge.trigger(r,Wse,{relatedTarget:e}):null;Ge.trigger(e,Jse,{relatedTarget:r}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(r,e),this._activate(e,r))}_activate(e,r){if(!e)return;e.classList.add(Rc),this._activate(_t.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(xE);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Ge.trigger(e,Xse,{relatedTarget:r})};this._queueCallback(n,e,e.classList.contains(N6))}_deactivate(e,r){if(!e)return;e.classList.remove(Rc),e.blur(),this._deactivate(_t.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(xE);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Ge.trigger(e,Kse,{relatedTarget:r})};this._queueCallback(n,e,e.classList.contains(N6))}_keydown(e){if(![toe,x6,roe,I6,RE,P6].includes(e.key))return;e.stopPropagation(),e.preventDefault();const r=this._getChildren().filter(a=>!du(a));let n;if([RE,P6].includes(e.key))n=r[e.key===RE?0:r.length-1];else{const a=[x6,I6].includes(e.key);n=RN(r,e.target,a,!0)}n&&(n.focus({preventScroll:!0}),Cd.getOrCreateInstance(n).show())}_getChildren(){return _t.find(PE,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,r){this._setAttributeIfNotExists(e,"role","tablist");for(const n of r)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const r=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",r),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),r||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const r=_t.getElementFromSelector(e);r&&(this._setAttributeIfNotExists(r,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(r,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,r){const n=this._getOuterElement(e);if(!n.classList.contains(noe))return;const a=(s,o)=>{const u=_t.findOne(s,n);u&&u.classList.toggle(o,r)};a(eG,Rc),a(ioe,xE),n.setAttribute("aria-expanded",r)}_setAttributeIfNotExists(e,r,n){e.hasAttribute(r)||e.setAttribute(r,n)}_elemIsActive(e){return e.classList.contains(Rc)}_getInnerElement(e){return e.matches(PE)?e:_t.findOne(PE,e)}_getOuterElement(e){return e.closest(soe)||e}static jQueryInterface(e){return this.each(function(){const r=Cd.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Ge.on(document,Yse,tG,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!du(this)&&Cd.getOrCreateInstance(this).show()});Ge.on(window,eoe,()=>{for(const t of _t.find(uoe))Cd.getOrCreateInstance(t)});pa(Cd);const coe="toast",loe="bs.toast",Tu=`.${loe}`,doe=`mouseover${Tu}`,foe=`mouseout${Tu}`,hoe=`focusin${Tu}`,poe=`focusout${Tu}`,yoe=`hide${Tu}`,moe=`hidden${Tu}`,goe=`show${Tu}`,_oe=`shown${Tu}`,boe="fade",D6="hide",ov="show",uv="showing",voe={animation:"boolean",autohide:"boolean",delay:"number"},woe={animation:!0,autohide:!0,delay:5e3};class HS extends $a{constructor(e,r){super(e,r),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return woe}static get DefaultType(){return voe}static get NAME(){return coe}show(){if(Ge.trigger(this._element,goe).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(boe);const r=()=>{this._element.classList.remove(uv),Ge.trigger(this._element,_oe),this._maybeScheduleHide()};this._element.classList.remove(D6),Nb(this._element),this._element.classList.add(ov,uv),this._queueCallback(r,this._element,this._config.animation)}hide(){if(!this.isShown()||Ge.trigger(this._element,yoe).defaultPrevented)return;const r=()=>{this._element.classList.add(D6),this._element.classList.remove(uv,ov),Ge.trigger(this._element,moe)};this._element.classList.add(uv),this._queueCallback(r,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ov),super.dispose()}isShown(){return this._element.classList.contains(ov)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,r){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=r;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=r;break}}if(r){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){Ge.on(this._element,doe,e=>this._onInteraction(e,!0)),Ge.on(this._element,foe,e=>this._onInteraction(e,!1)),Ge.on(this._element,hoe,e=>this._onInteraction(e,!0)),Ge.on(this._element,poe,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const r=HS.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}$S(HS);pa(HS);const NI=globalThis||void 0||self;/**
* @vue/shared v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function QS(t,e){const r=new Set(t.split(","));return e?n=>r.has(n.toLowerCase()):n=>r.has(n)}const sr={},ld=[],vi=()=>{},Soe=()=>!1,jb=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),DN=t=>t.startsWith("onUpdate:"),Mr=Object.assign,CN=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Toe=Object.prototype.hasOwnProperty,Kt=(t,e)=>Toe.call(t,e),ft=Array.isArray,dd=t=>of(t)==="[object Map]",sl=t=>of(t)==="[object Set]",C6=t=>of(t)==="[object Date]",Eoe=t=>of(t)==="[object RegExp]",At=t=>typeof t=="function",Fr=t=>typeof t=="string",go=t=>typeof t=="symbol",fr=t=>t!==null&&typeof t=="object",LN=t=>(fr(t)||At(t))&&At(t.then)&&At(t.catch),rG=Object.prototype.toString,of=t=>rG.call(t),Aoe=t=>of(t).slice(8,-1),nG=t=>of(t)==="[object Object]",jN=t=>Fr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,fd=QS(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zS=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Ooe=/-(\w)/g,Si=zS(t=>t.replace(Ooe,(e,r)=>r?r.toUpperCase():"")),Roe=/\B([A-Z])/g,Ci=zS(t=>t.replace(Roe,"-$1").toLowerCase()),GS=zS(t=>t.charAt(0).toUpperCase()+t.slice(1)),_w=zS(t=>t?`on${GS(t)}`:""),ja=(t,e)=>!Object.is(t,e),hd=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},iG=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},tS=t=>{const e=parseFloat(t);return isNaN(e)?t:e},rS=t=>{const e=Fr(t)?Number(t):NaN;return isNaN(e)?t:e};let L6;const aG=()=>L6||(L6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof NI<"u"?NI:{}),xoe="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",Ioe=QS(xoe);function Mb(t){if(ft(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],a=Fr(n)?Coe(n):Mb(n);if(a)for(const s in a)e[s]=a[s]}return e}else if(Fr(t)||fr(t))return t}const Poe=/;(?![^(]*\))/g,Noe=/:([^]+)/,Doe=/\/\*[^]*?\*\//g;function Coe(t){const e={};return t.replace(Doe,"").split(Poe).forEach(r=>{if(r){const n=r.split(Noe);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Vc(t){let e="";if(Fr(t))e=t;else if(ft(t))for(let r=0;r<t.length;r++){const n=Vc(t[r]);n&&(e+=n+" ")}else if(fr(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function wFe(t){if(!t)return null;let{class:e,style:r}=t;return e&&!Fr(e)&&(t.class=Vc(e)),r&&(t.style=Mb(r)),t}const Loe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",joe=QS(Loe);function sG(t){return!!t||t===""}function Moe(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=pu(t[n],e[n]);return r}function pu(t,e){if(t===e)return!0;let r=C6(t),n=C6(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=go(t),n=go(e),r||n)return t===e;if(r=ft(t),n=ft(e),r||n)return r&&n?Moe(t,e):!1;if(r=fr(t),n=fr(e),r||n){if(!r||!n)return!1;const a=Object.keys(t).length,s=Object.keys(e).length;if(a!==s)return!1;for(const o in t){const u=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(u&&!c||!u&&c||!pu(t[o],e[o]))return!1}}return String(t)===String(e)}function WS(t,e){return t.findIndex(r=>pu(r,e))}const j6=t=>Fr(t)?t:t==null?"":ft(t)||fr(t)&&(t.toString===rG||!At(t.toString))?JSON.stringify(t,oG,2):String(t),oG=(t,e)=>e&&e.__v_isRef?oG(t,e.value):dd(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,a],s)=>(r[NE(n,s)+" =>"]=a,r),{})}:sl(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>NE(r))}:go(e)?NE(e):fr(e)&&!ft(e)&&!nG(e)?String(e):e,NE=(t,e="")=>{var r;return go(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pi;class uG{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pi,!e&&Pi&&(this.index=(Pi.scopes||(Pi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=Pi;try{return Pi=this,e()}finally{Pi=r}}}on(){Pi=this}off(){Pi=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function cG(t){return new uG(t)}function lG(t,e=Pi){e&&e.active&&e.effects.push(t)}function dG(){return Pi}function Foe(t){Pi&&Pi.cleanups.push(t)}let jc;class rb{constructor(e,r,n,a){this.fn=e,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,lG(this,a)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Eu();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(Boe(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Au()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=iu,r=jc;try{return iu=!0,jc=this,this._runnings++,M6(this),this.fn()}finally{F6(this),this._runnings--,jc=r,iu=e}}stop(){var e;this.active&&(M6(this),F6(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Boe(t){return t.value}function M6(t){t._trackId++,t._depsLength=0}function F6(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)fG(t.deps[e],t);t.deps.length=t._depsLength}}function fG(t,e){const r=t.get(e);r!==void 0&&e._trackId!==r&&(t.delete(e),t.size===0&&t.cleanup())}function SFe(t,e){t.effect instanceof rb&&(t=t.effect.fn);const r=new rb(t,vi,()=>{r.dirty&&r.run()});e&&(Mr(r,e),e.scope&&lG(r,e.scope)),(!e||!e.lazy)&&r.run();const n=r.run.bind(r);return n.effect=r,n}function TFe(t){t.effect.stop()}let iu=!0,DI=0;const hG=[];function Eu(){hG.push(iu),iu=!1}function Au(){const t=hG.pop();iu=t===void 0?!0:t}function MN(){DI++}function FN(){for(DI--;!DI&&CI.length;)CI.shift()()}function pG(t,e,r){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&fG(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const CI=[];function yG(t,e,r){MN();for(const n of t.keys()){let a;n._dirtyLevel<e&&(a??(a=t.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=e),n._shouldSchedule&&(a??(a=t.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&CI.push(n.scheduler)))}FN()}const mG=(t,e)=>{const r=new Map;return r.cleanup=t,r.computed=e,r},nS=new WeakMap,Mc=Symbol(""),LI=Symbol("");function Ei(t,e,r){if(iu&&jc){let n=nS.get(t);n||nS.set(t,n=new Map);let a=n.get(r);a||n.set(r,a=mG(()=>n.delete(r))),pG(jc,a)}}function fo(t,e,r,n,a,s){const o=nS.get(t);if(!o)return;let u=[];if(e==="clear")u=[...o.values()];else if(r==="length"&&ft(t)){const c=Number(n);o.forEach((l,d)=>{(d==="length"||!go(d)&&d>=c)&&u.push(l)})}else switch(r!==void 0&&u.push(o.get(r)),e){case"add":ft(t)?jN(r)&&u.push(o.get("length")):(u.push(o.get(Mc)),dd(t)&&u.push(o.get(LI)));break;case"delete":ft(t)||(u.push(o.get(Mc)),dd(t)&&u.push(o.get(LI)));break;case"set":dd(t)&&u.push(o.get(Mc));break}MN();for(const c of u)c&&yG(c,4);FN()}function qoe(t,e){var r;return(r=nS.get(t))==null?void 0:r.get(e)}const $oe=QS("__proto__,__v_isRef,__isVue"),gG=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(go)),B6=Uoe();function Uoe(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=Qt(this);for(let s=0,o=this.length;s<o;s++)Ei(n,"get",s+"");const a=n[e](...r);return a===-1||a===!1?n[e](...r.map(Qt)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){Eu(),MN();const n=Qt(this)[e].apply(this,r);return FN(),Au(),n}}),t}function koe(t){go(t)||(t=String(t));const e=Qt(this);return Ei(e,"has",t),e.hasOwnProperty(t)}class _G{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){const a=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(a?s?EG:TG:s?SG:wG).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=ft(e);if(!a){if(o&&Kt(B6,r))return Reflect.get(B6,r,n);if(r==="hasOwnProperty")return koe}const u=Reflect.get(e,r,n);return(go(r)?gG.has(r):$oe(r))||(a||Ei(e,"get",r),s)?u:nn(u)?o&&jN(r)?u:u.value:fr(u)?a?OG(u):Fb(u):u}}class bG extends _G{constructor(e=!1){super(!1,e)}set(e,r,n,a){let s=e[r];if(!this._isShallow){const c=nb(s);if(!iS(n)&&!nb(n)&&(s=Qt(s),n=Qt(n)),!ft(e)&&nn(s)&&!nn(n))return c?!1:(s.value=n,!0)}const o=ft(e)&&jN(r)?Number(r)<e.length:Kt(e,r),u=Reflect.set(e,r,n,a);return e===Qt(a)&&(o?ja(n,s)&&fo(e,"set",r,n):fo(e,"add",r,n)),u}deleteProperty(e,r){const n=Kt(e,r);e[r];const a=Reflect.deleteProperty(e,r);return a&&n&&fo(e,"delete",r,void 0),a}has(e,r){const n=Reflect.has(e,r);return(!go(r)||!gG.has(r))&&Ei(e,"has",r),n}ownKeys(e){return Ei(e,"iterate",ft(e)?"length":Mc),Reflect.ownKeys(e)}}class vG extends _G{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Voe=new bG,Hoe=new vG,Qoe=new bG(!0),zoe=new vG(!0),BN=t=>t,KS=t=>Reflect.getPrototypeOf(t);function cv(t,e,r=!1,n=!1){t=t.__v_raw;const a=Qt(t),s=Qt(e);r||(ja(e,s)&&Ei(a,"get",e),Ei(a,"get",s));const{has:o}=KS(a),u=n?BN:r?$N:ib;if(o.call(a,e))return u(t.get(e));if(o.call(a,s))return u(t.get(s));t!==a&&t.get(e)}function lv(t,e=!1){const r=this.__v_raw,n=Qt(r),a=Qt(t);return e||(ja(t,a)&&Ei(n,"has",t),Ei(n,"has",a)),t===a?r.has(t):r.has(t)||r.has(a)}function dv(t,e=!1){return t=t.__v_raw,!e&&Ei(Qt(t),"iterate",Mc),Reflect.get(t,"size",t)}function q6(t){t=Qt(t);const e=Qt(this);return KS(e).has.call(e,t)||(e.add(t),fo(e,"add",t,t)),this}function $6(t,e){e=Qt(e);const r=Qt(this),{has:n,get:a}=KS(r);let s=n.call(r,t);s||(t=Qt(t),s=n.call(r,t));const o=a.call(r,t);return r.set(t,e),s?ja(e,o)&&fo(r,"set",t,e):fo(r,"add",t,e),this}function U6(t){const e=Qt(this),{has:r,get:n}=KS(e);let a=r.call(e,t);a||(t=Qt(t),a=r.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return a&&fo(e,"delete",t,void 0),s}function k6(){const t=Qt(this),e=t.size!==0,r=t.clear();return e&&fo(t,"clear",void 0,void 0),r}function fv(t,e){return function(n,a){const s=this,o=s.__v_raw,u=Qt(o),c=e?BN:t?$N:ib;return!t&&Ei(u,"iterate",Mc),o.forEach((l,d)=>n.call(a,c(l),c(d),s))}}function hv(t,e,r){return function(...n){const a=this.__v_raw,s=Qt(a),o=dd(s),u=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=a[t](...n),d=r?BN:e?$N:ib;return!e&&Ei(s,"iterate",c?LI:Mc),{next(){const{value:f,done:h}=l.next();return h?{value:f,done:h}:{value:u?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function Lo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Goe(){const t={get(s){return cv(this,s)},get size(){return dv(this)},has:lv,add:q6,set:$6,delete:U6,clear:k6,forEach:fv(!1,!1)},e={get(s){return cv(this,s,!1,!0)},get size(){return dv(this)},has:lv,add:q6,set:$6,delete:U6,clear:k6,forEach:fv(!1,!0)},r={get(s){return cv(this,s,!0)},get size(){return dv(this,!0)},has(s){return lv.call(this,s,!0)},add:Lo("add"),set:Lo("set"),delete:Lo("delete"),clear:Lo("clear"),forEach:fv(!0,!1)},n={get(s){return cv(this,s,!0,!0)},get size(){return dv(this,!0)},has(s){return lv.call(this,s,!0)},add:Lo("add"),set:Lo("set"),delete:Lo("delete"),clear:Lo("clear"),forEach:fv(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=hv(s,!1,!1),r[s]=hv(s,!0,!1),e[s]=hv(s,!1,!0),n[s]=hv(s,!0,!0)}),[t,r,e,n]}const[Woe,Koe,Joe,Xoe]=Goe();function JS(t,e){const r=e?t?Xoe:Joe:t?Koe:Woe;return(n,a,s)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?n:Reflect.get(Kt(r,a)&&a in n?r:n,a,s)}const Yoe={get:JS(!1,!1)},Zoe={get:JS(!1,!0)},eue={get:JS(!0,!1)},tue={get:JS(!0,!0)},wG=new WeakMap,SG=new WeakMap,TG=new WeakMap,EG=new WeakMap;function rue(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nue(t){return t.__v_skip||!Object.isExtensible(t)?0:rue(Aoe(t))}function Fb(t){return nb(t)?t:XS(t,!1,Voe,Yoe,wG)}function AG(t){return XS(t,!1,Qoe,Zoe,SG)}function OG(t){return XS(t,!0,Hoe,eue,TG)}function EFe(t){return XS(t,!0,zoe,tue,EG)}function XS(t,e,r,n,a){if(!fr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=a.get(t);if(s)return s;const o=nue(t);if(o===0)return t;const u=new Proxy(t,o===2?n:r);return a.set(t,u),u}function Fc(t){return nb(t)?Fc(t.__v_raw):!!(t&&t.__v_isReactive)}function nb(t){return!!(t&&t.__v_isReadonly)}function iS(t){return!!(t&&t.__v_isShallow)}function RG(t){return t?!!t.__v_raw:!1}function Qt(t){const e=t&&t.__v_raw;return e?Qt(e):t}function qN(t){return Object.isExtensible(t)&&iG(t,"__v_skip",!0),t}const ib=t=>fr(t)?Fb(t):t,$N=t=>fr(t)?OG(t):t;class xG{constructor(e,r,n,a){this.getter=e,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new rb(()=>e(this._value),()=>pd(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=n}get value(){const e=Qt(this);return(!e._cacheable||e.effect.dirty)&&ja(e._value,e._value=e.effect.run())&&pd(e,4),UN(e),e.effect._dirtyLevel>=2&&pd(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function iue(t,e,r=!1){let n,a;const s=At(t);return s?(n=t,a=vi):(n=t.get,a=t.set),new xG(n,a,s||!a,r)}function UN(t){var e;iu&&jc&&(t=Qt(t),pG(jc,(e=t.dep)!=null?e:t.dep=mG(()=>t.dep=void 0,t instanceof xG?t:void 0)))}function pd(t,e=4,r){t=Qt(t);const n=t.dep;n&&yG(n,e)}function nn(t){return!!(t&&t.__v_isRef===!0)}function ho(t){return IG(t,!1)}function aue(t){return IG(t,!0)}function IG(t,e){return nn(t)?t:new sue(t,e)}class sue{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:Qt(e),this._value=r?e:ib(e)}get value(){return UN(this),this._value}set value(e){const r=this.__v_isShallow||iS(e)||nb(e);e=r?e:Qt(e),ja(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:ib(e),pd(this,4))}}function AFe(t){pd(t,4)}function Tr(t){return nn(t)?t.value:t}function OFe(t){return At(t)?t():Tr(t)}const oue={get:(t,e,r)=>Tr(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const a=t[e];return nn(a)&&!nn(r)?(a.value=r,!0):Reflect.set(t,e,r,n)}};function PG(t){return Fc(t)?t:new Proxy(t,oue)}class uue{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=e(()=>UN(this),()=>pd(this));this._get=r,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function cue(t){return new uue(t)}function lue(t){const e=ft(t)?new Array(t.length):{};for(const r in t)e[r]=NG(t,r);return e}class due{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return qoe(Qt(this._object),this._key)}}class fue{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function RFe(t,e,r){return nn(t)?t:At(t)?new fue(t):fr(t)&&arguments.length>1?NG(t,e,r):ho(t)}function NG(t,e,r){const n=t[e];return nn(n)?n:new due(t,e,r)}const xFe={GET:"get",HAS:"has",ITERATE:"iterate"},IFe={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function PFe(t,e){}const NFe={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},hue={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function au(t,e,r,n){try{return n?t(...n):t()}catch(a){uf(a,e,r)}}function sa(t,e,r,n){if(At(t)){const a=au(t,e,r,n);return a&&LN(a)&&a.catch(s=>{uf(s,e,r)}),a}if(ft(t)){const a=[];for(let s=0;s<t.length;s++)a.push(sa(t[s],e,r,n));return a}}function uf(t,e,r,n=!0){const a=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const l=s.ec;if(l){for(let d=0;d<l.length;d++)if(l[d](t,o,u)===!1)return}s=s.parent}const c=e.appContext.config.errorHandler;if(c){Eu(),au(c,null,10,[t,o,u]),Au();return}}pue(t,r,a,n)}function pue(t,e,r,n=!0){console.error(t)}let ab=!1,jI=!1;const Fn=[];let is=0;const yd=[];let Go=null,_c=0;const DG=Promise.resolve();let kN=null;function Bb(t){const e=kN||DG;return t?e.then(this?t.bind(this):t):e}function yue(t){let e=is+1,r=Fn.length;for(;e<r;){const n=e+r>>>1,a=Fn[n],s=sb(a);s<t||s===t&&a.pre?e=n+1:r=n}return e}function YS(t){(!Fn.length||!Fn.includes(t,ab&&t.allowRecurse?is+1:is))&&(t.id==null?Fn.push(t):Fn.splice(yue(t.id),0,t),CG())}function CG(){!ab&&!jI&&(jI=!0,kN=DG.then(LG))}function mue(t){const e=Fn.indexOf(t);e>is&&Fn.splice(e,1)}function MI(t){ft(t)?yd.push(...t):(!Go||!Go.includes(t,t.allowRecurse?_c+1:_c))&&yd.push(t),CG()}function V6(t,e,r=ab?is+1:0){for(;r<Fn.length;r++){const n=Fn[r];if(n&&n.pre){if(t&&n.id!==t.uid)continue;Fn.splice(r,1),r--,n()}}}function aS(t){if(yd.length){const e=[...new Set(yd)].sort((r,n)=>sb(r)-sb(n));if(yd.length=0,Go){Go.push(...e);return}for(Go=e,_c=0;_c<Go.length;_c++)Go[_c]();Go=null,_c=0}}const sb=t=>t.id==null?1/0:t.id,gue=(t,e)=>{const r=sb(t)-sb(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function LG(t){jI=!1,ab=!0,Fn.sort(gue);try{for(is=0;is<Fn.length;is++){const e=Fn[is];e&&e.active!==!1&&au(e,null,14)}}finally{is=0,Fn.length=0,aS(),ab=!1,kN=null,(Fn.length||yd.length)&&LG()}}let Wl,pv=[];function jG(t,e){var r,n;Wl=t,Wl?(Wl.enabled=!0,pv.forEach(({event:a,args:s})=>Wl.emit(a,...s)),pv=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{jG(s,e)}),setTimeout(()=>{Wl||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,pv=[])},3e3)):pv=[]}function _ue(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||sr;let a=r;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in n){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=n[d]||sr;h&&(a=r.map(p=>Fr(p)?p.trim():p)),f&&(a=r.map(tS))}let u,c=n[u=_w(e)]||n[u=_w(Si(e))];!c&&s&&(c=n[u=_w(Ci(e))]),c&&sa(c,t,6,a);const l=n[u+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,sa(l,t,6,a)}}function MG(t,e,r=!1){const n=e.emitsCache,a=n.get(t);if(a!==void 0)return a;const s=t.emits;let o={},u=!1;if(!At(t)){const c=l=>{const d=MG(l,e,!0);d&&(u=!0,Mr(o,d))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!u?(fr(t)&&n.set(t,null),null):(ft(s)?s.forEach(c=>o[c]=null):Mr(o,s),fr(t)&&n.set(t,o),o)}function ZS(t,e){return!t||!jb(e)?!1:(e=e.slice(2).replace(/Once$/,""),Kt(t,e[0].toLowerCase()+e.slice(1))||Kt(t,Ci(e))||Kt(t,e))}let tn=null,e2=null;function ob(t){const e=tn;return tn=t,e2=t&&t.type.__scopeId||null,e}function bue(t){e2=t}function vue(){e2=null}const DFe=t=>Cn;function Cn(t,e=tn,r){if(!e||t._n)return t;const n=(...a)=>{n._d&&iL(-1);const s=ob(e);let o;try{o=t(...a)}finally{ob(s),n._d&&iL(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function bw(t){const{type:e,vnode:r,proxy:n,withProxy:a,props:s,propsOptions:[o],slots:u,attrs:c,emit:l,render:d,renderCache:f,data:h,setupState:p,ctx:m,inheritAttrs:y}=t;let g,b;const v=ob(t);try{if(r.shapeFlag&4){const w=a||n,E=w;g=Di(d.call(E,w,f,s,p,h,m)),b=c}else{const w=e;g=Di(w.length>1?w(s,{attrs:c,slots:u,emit:l}):w(s,null)),b=e.props?c:Sue(c)}}catch(w){U_.length=0,uf(w,t,1),g=It(ii)}let _=g;if(b&&y!==!1){const w=Object.keys(b),{shapeFlag:E}=_;w.length&&E&7&&(o&&w.some(DN)&&(b=Tue(b,o)),_=_o(_,b))}return r.dirs&&(_=_o(_),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&(_.transition=r.transition),g=_,ob(v),g}function wue(t,e=!0){let r;for(let n=0;n<t.length;n++){const a=t[n];if(Qc(a)){if(a.type!==ii||a.children==="v-if"){if(r)return;r=a}}else return}return r}const Sue=t=>{let e;for(const r in t)(r==="class"||r==="style"||jb(r))&&((e||(e={}))[r]=t[r]);return e},Tue=(t,e)=>{const r={};for(const n in t)(!DN(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Eue(t,e,r){const{props:n,children:a,component:s}=t,{props:o,children:u,patchFlag:c}=e,l=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?H6(n,o,l):!!o;if(c&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(o[h]!==n[h]&&!ZS(l,h))return!0}}}else return(a||u)&&(!u||!u.$stable)?!0:n===o?!1:n?o?H6(n,o,l):!0:!!o;return!1}function H6(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let a=0;a<n.length;a++){const s=n[a];if(e[s]!==t[s]&&!ZS(r,s))return!0}return!1}function VN({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const HN="components",Aue="directives";function Q6(t,e){return QN(HN,t,!0,e)||t}const FG=Symbol.for("v-ndc");function CFe(t){return Fr(t)?QN(HN,t,!1)||t:t||FG}function LFe(t){return QN(Aue,t)}function QN(t,e,r=!0,n=!1){const a=tn||fn;if(a){const s=a.type;if(t===HN){const u=KI(s,!1);if(u&&(u===e||u===Si(e)||u===GS(Si(e))))return s}const o=z6(a[t]||s[t],e)||z6(a.appContext[t],e);return!o&&n?s:o}}function z6(t,e){return t&&(t[e]||t[Si(e)]||t[GS(Si(e))])}const BG=t=>t.__isSuspense;let FI=0;const Oue={name:"Suspense",__isSuspense:!0,process(t,e,r,n,a,s,o,u,c,l){if(t==null)Rue(e,r,n,a,s,o,u,c,l);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}xue(t,e,r,n,a,o,u,c,l)}},hydrate:Iue,create:zN,normalize:Pue},jFe=Oue;function ub(t,e){const r=t.props&&t.props[e];At(r)&&r()}function Rue(t,e,r,n,a,s,o,u,c){const{p:l,o:{createElement:d}}=c,f=d("div"),h=t.suspense=zN(t,a,n,e,f,r,s,o,u,c);l(null,h.pendingBranch=t.ssContent,f,null,n,h,s,o),h.deps>0?(ub(t,"onPending"),ub(t,"onFallback"),l(null,t.ssFallback,e,r,n,null,s,o),md(h,t.ssFallback)):h.resolve(!1,!0)}function xue(t,e,r,n,a,s,o,u,{p:c,um:l,o:{createElement:d}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const h=e.ssContent,p=e.ssFallback,{activeBranch:m,pendingBranch:y,isInFallback:g,isHydrating:b}=f;if(y)f.pendingBranch=h,Ca(h,y)?(c(y,h,f.hiddenContainer,null,a,f,s,o,u),f.deps<=0?f.resolve():g&&(b||(c(m,p,r,n,a,null,s,o,u),md(f,p)))):(f.pendingId=FI++,b?(f.isHydrating=!1,f.activeBranch=y):l(y,a,f),f.deps=0,f.effects.length=0,f.hiddenContainer=d("div"),g?(c(null,h,f.hiddenContainer,null,a,f,s,o,u),f.deps<=0?f.resolve():(c(m,p,r,n,a,null,s,o,u),md(f,p))):m&&Ca(h,m)?(c(m,h,r,n,a,f,s,o,u),f.resolve(!0)):(c(null,h,f.hiddenContainer,null,a,f,s,o,u),f.deps<=0&&f.resolve()));else if(m&&Ca(h,m))c(m,h,r,n,a,f,s,o,u),md(f,h);else if(ub(e,"onPending"),f.pendingBranch=h,h.shapeFlag&512?f.pendingId=h.component.suspenseId:f.pendingId=FI++,c(null,h,f.hiddenContainer,null,a,f,s,o,u),f.deps<=0)f.resolve();else{const{timeout:v,pendingId:_}=f;v>0?setTimeout(()=>{f.pendingId===_&&f.fallback(p)},v):v===0&&f.fallback(p)}}function zN(t,e,r,n,a,s,o,u,c,l,d=!1){const{p:f,m:h,um:p,n:m,o:{parentNode:y,remove:g}}=l;let b;const v=Nue(t);v&&e!=null&&e.pendingBranch&&(b=e.pendingId,e.deps++);const _=t.props?rS(t.props.timeout):void 0,w=s,E={vnode:t,parent:e,parentComponent:r,namespace:o,container:n,hiddenContainer:a,deps:0,pendingId:FI++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(O=!1,L=!1){const{vnode:F,activeBranch:x,pendingBranch:P,pendingId:j,effects:N,parentComponent:V,container:$}=E;let q=!1;E.isHydrating?E.isHydrating=!1:O||(q=x&&P.transition&&P.transition.mode==="out-in",q&&(x.transition.afterLeave=()=>{j===E.pendingId&&(h(P,$,s===w?m(x):s,0),MI(N))}),x&&(y(x.el)!==E.hiddenContainer&&(s=m(x)),p(x,V,E,!0)),q||h(P,$,s,0)),md(E,P),E.pendingBranch=null,E.isInFallback=!1;let H=E.parent,X=!1;for(;H;){if(H.pendingBranch){H.effects.push(...N),X=!0;break}H=H.parent}!X&&!q&&MI(N),E.effects=[],v&&e&&e.pendingBranch&&b===e.pendingId&&(e.deps--,e.deps===0&&!L&&e.resolve()),ub(F,"onResolve")},fallback(O){if(!E.pendingBranch)return;const{vnode:L,activeBranch:F,parentComponent:x,container:P,namespace:j}=E;ub(L,"onFallback");const N=m(F),V=()=>{E.isInFallback&&(f(null,O,P,N,x,null,j,u,c),md(E,O))},$=O.transition&&O.transition.mode==="out-in";$&&(F.transition.afterLeave=V),E.isInFallback=!0,p(F,x,null,!0),$||V()},move(O,L,F){E.activeBranch&&h(E.activeBranch,O,L,F),E.container=O},next(){return E.activeBranch&&m(E.activeBranch)},registerDep(O,L){const F=!!E.pendingBranch;F&&E.deps++;const x=O.vnode.el;O.asyncDep.catch(P=>{uf(P,O,0)}).then(P=>{if(O.isUnmounted||E.isUnmounted||E.pendingId!==O.suspenseId)return;O.asyncResolved=!0;const{vnode:j}=O;GI(O,P,!1),x&&(j.el=x);const N=!x&&O.subTree.el;L(O,j,y(x||O.subTree.el),x?null:m(O.subTree),E,o,c),N&&g(N),VN(O,j.el),F&&--E.deps===0&&E.resolve()})},unmount(O,L){E.isUnmounted=!0,E.activeBranch&&p(E.activeBranch,r,O,L),E.pendingBranch&&p(E.pendingBranch,r,O,L)}};return E}function Iue(t,e,r,n,a,s,o,u,c){const l=e.suspense=zN(e,n,r,t.parentNode,document.createElement("div"),null,a,s,o,u,!0),d=c(t,l.pendingBranch=e.ssContent,r,l,s,o);return l.deps===0&&l.resolve(!1,!0),d}function Pue(t){const{shapeFlag:e,children:r}=t,n=e&32;t.ssContent=G6(n?r.default:r),t.ssFallback=n?G6(r.fallback):It(ii)}function G6(t){let e;if(At(t)){const r=Hc&&t._c;r&&(t._d=!1,rr()),t=t(),r&&(t._d=!0,e=wi,sW())}return ft(t)&&(t=wue(t)),t=Di(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function qG(t,e){e&&e.pendingBranch?ft(t)?e.effects.push(...t):e.effects.push(t):MI(t)}function md(t,e){t.activeBranch=e;const{vnode:r,parentComponent:n}=t;let a=e.el;for(;!a&&e.component;)e=e.component.subTree,a=e.el;r.el=a,n&&n.subTree===r&&(n.vnode.el=a,VN(n,a))}function Nue(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}const Due=Symbol.for("v-scx"),Cue=()=>ls(Due);function MFe(t,e){return qb(t,null,e)}function Lue(t,e){return qb(t,null,{flush:"post"})}function jue(t,e){return qb(t,null,{flush:"sync"})}const yv={};function gd(t,e,r){return qb(t,e,r)}function qb(t,e,{immediate:r,deep:n,flush:a,once:s,onTrack:o,onTrigger:u}=sr){if(e&&s){const O=e;e=(...L)=>{O(...L),E()}}const c=fn,l=O=>n===!0?O:xc(O,n===!1?1:void 0);let d,f=!1,h=!1;if(nn(t)?(d=()=>t.value,f=iS(t)):Fc(t)?(d=()=>l(t),f=!0):ft(t)?(h=!0,f=t.some(O=>Fc(O)||iS(O)),d=()=>t.map(O=>{if(nn(O))return O.value;if(Fc(O))return l(O);if(At(O))return au(O,c,2)})):At(t)?e?d=()=>au(t,c,2):d=()=>(p&&p(),sa(t,c,3,[m])):d=vi,e&&n){const O=d;d=()=>xc(O())}let p,m=O=>{p=_.onStop=()=>{au(O,c,4),p=_.onStop=void 0}},y;if(Ub)if(m=vi,e?r&&sa(e,c,3,[d(),h?[]:void 0,m]):d(),a==="sync"){const O=Cue();y=O.__watcherHandles||(O.__watcherHandles=[])}else return vi;let g=h?new Array(t.length).fill(yv):yv;const b=()=>{if(!(!_.active||!_.dirty))if(e){const O=_.run();(n||f||(h?O.some((L,F)=>ja(L,g[F])):ja(O,g)))&&(p&&p(),sa(e,c,3,[O,g===yv?void 0:h&&g[0]===yv?[]:g,m]),g=O)}else _.run()};b.allowRecurse=!!e;let v;a==="sync"?v=b:a==="post"?v=()=>An(b,c&&c.suspense):(b.pre=!0,c&&(b.id=c.uid),v=()=>YS(b));const _=new rb(d,vi,v),w=dG(),E=()=>{_.stop(),w&&CN(w.effects,_)};return e?r?b():g=_.run():a==="post"?An(_.run.bind(_),c&&c.suspense):_.run(),y&&y.push(E),E}function Mue(t,e,r){const n=this.proxy,a=Fr(t)?t.includes(".")?$G(n,t):()=>n[t]:t.bind(n,n);let s;At(e)?s=e:(s=e.handler,r=e);const o=zc(this),u=qb(a,s.bind(n),r);return o(),u}function $G(t,e){const r=e.split(".");return()=>{let n=t;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}function xc(t,e,r=0,n){if(!fr(t)||t.__v_skip)return t;if(e&&e>0){if(r>=e)return t;r++}if(n=n||new Set,n.has(t))return t;if(n.add(t),nn(t))xc(t.value,e,r,n);else if(ft(t))for(let a=0;a<t.length;a++)xc(t[a],e,r,n);else if(sl(t)||dd(t))t.forEach(a=>{xc(a,e,r,n)});else if(nG(t))for(const a in t)xc(t[a],e,r,n);return t}function Yi(t,e){if(tn===null)return t;const r=i2(tn)||tn.proxy,n=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[s,o,u,c=sr]=e[a];s&&(At(s)&&(s={mounted:s,updated:s}),s.deep&&xc(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:u,modifiers:c}))}return t}function Za(t,e,r,n){const a=t.dirs,s=e&&e.dirs;for(let o=0;o<a.length;o++){const u=a[o];s&&(u.oldValue=s[o].value);let c=u.dir[n];c&&(Eu(),sa(c,r,8,[t.el,u,t,e]),Au())}}const Wo=Symbol("_leaveCb"),mv=Symbol("_enterCb");function UG(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return n2(()=>{t.isMounted=!0}),KN(()=>{t.isUnmounting=!0}),t}const Wi=[Function,Array],kG={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Wi,onEnter:Wi,onAfterEnter:Wi,onEnterCancelled:Wi,onBeforeLeave:Wi,onLeave:Wi,onAfterLeave:Wi,onLeaveCancelled:Wi,onBeforeAppear:Wi,onAppear:Wi,onAfterAppear:Wi,onAppearCancelled:Wi},Fue={name:"BaseTransition",props:kG,setup(t,{slots:e}){const r=Ou(),n=UG();return()=>{const a=e.default&&GN(e.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){for(const h of a)if(h.type!==ii){s=h;break}}const o=Qt(t),{mode:u}=o;if(n.isLeaving)return DE(s);const c=W6(s);if(!c)return DE(s);const l=cb(c,o,n,r);Ld(c,l);const d=r.subTree,f=d&&W6(d);if(f&&f.type!==ii&&!Ca(c,f)){const h=cb(f,o,n,r);if(Ld(f,h),u==="out-in")return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},DE(s);u==="in-out"&&c.type!==ii&&(h.delayLeave=(p,m,y)=>{const g=VG(n,f);g[String(f.key)]=f,p[Wo]=()=>{m(),p[Wo]=void 0,delete l.delayedLeave},l.delayedLeave=y})}return s}}},Bue=Fue;function VG(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function cb(t,e,r,n){const{appear:a,mode:s,persisted:o=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:l,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:y,onAppear:g,onAfterAppear:b,onAppearCancelled:v}=e,_=String(t.key),w=VG(r,t),E=(F,x)=>{F&&sa(F,n,9,x)},O=(F,x)=>{const P=x[1];E(F,x),ft(F)?F.every(j=>j.length<=1)&&P():F.length<=1&&P()},L={mode:s,persisted:o,beforeEnter(F){let x=u;if(!r.isMounted)if(a)x=y||u;else return;F[Wo]&&F[Wo](!0);const P=w[_];P&&Ca(t,P)&&P.el[Wo]&&P.el[Wo](),E(x,[F])},enter(F){let x=c,P=l,j=d;if(!r.isMounted)if(a)x=g||c,P=b||l,j=v||d;else return;let N=!1;const V=F[mv]=$=>{N||(N=!0,$?E(j,[F]):E(P,[F]),L.delayedLeave&&L.delayedLeave(),F[mv]=void 0)};x?O(x,[F,V]):V()},leave(F,x){const P=String(t.key);if(F[mv]&&F[mv](!0),r.isUnmounting)return x();E(f,[F]);let j=!1;const N=F[Wo]=V=>{j||(j=!0,x(),V?E(m,[F]):E(p,[F]),F[Wo]=void 0,w[P]===t&&delete w[P])};w[P]=t,h?O(h,[F,N]):N()},clone(F){return cb(F,e,r,n)}};return L}function DE(t){if($b(t))return t=_o(t),t.children=null,t}function W6(t){return $b(t)?t.children?t.children[0]:void 0:t}function Ld(t,e){t.shapeFlag&6&&t.component?Ld(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function GN(t,e=!1,r){let n=[],a=0;for(let s=0;s<t.length;s++){let o=t[s];const u=r==null?o.key:String(r)+String(o.key!=null?o.key:s);o.type===Kr?(o.patchFlag&128&&a++,n=n.concat(GN(o.children,e,u))):(e||o.type!==ii)&&n.push(u!=null?_o(o,{key:u}):o)}if(a>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function t2(t,e){return At(t)?Mr({name:t.name},e,{setup:t}):t}const Bc=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function FFe(t){At(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:n,delay:a=200,timeout:s,suspensible:o=!0,onError:u}=t;let c=null,l,d=0;const f=()=>(d++,c=null,h()),h=()=>{let p;return c||(p=c=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),u)return new Promise((y,g)=>{u(m,()=>y(f()),()=>g(m),d+1)});throw m}).then(m=>p!==c&&c?c:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),l=m,m)))};return t2({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return l},setup(){const p=fn;if(l)return()=>CE(l,p);const m=v=>{c=null,uf(v,p,13,!n)};if(o&&p.suspense||Ub)return h().then(v=>()=>CE(v,p)).catch(v=>(m(v),()=>n?It(n,{error:v}):null));const y=ho(!1),g=ho(),b=ho(!!a);return a&&setTimeout(()=>{b.value=!1},a),s!=null&&setTimeout(()=>{if(!y.value&&!g.value){const v=new Error(`Async component timed out after ${s}ms.`);m(v),g.value=v}},s),h().then(()=>{y.value=!0,p.parent&&$b(p.parent.vnode)&&(p.parent.effect.dirty=!0,YS(p.parent.update))}).catch(v=>{m(v),g.value=v}),()=>{if(y.value&&l)return CE(l,p);if(g.value&&n)return It(n,{error:g.value});if(r&&!b.value)return It(r)}}})}function CE(t,e){const{ref:r,props:n,children:a,ce:s}=e.vnode,o=It(t,n,a);return o.ref=r,o.ce=s,delete e.vnode.ce,o}const $b=t=>t.type.__isKeepAlive,que={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=Ou(),n=r.ctx;if(!n.renderer)return()=>{const v=e.default&&e.default();return v&&v.length===1?v[0]:v};const a=new Map,s=new Set;let o=null;const u=r.suspense,{renderer:{p:c,m:l,um:d,o:{createElement:f}}}=n,h=f("div");n.activate=(v,_,w,E,O)=>{const L=v.component;l(v,_,w,0,u),c(L.vnode,v,_,w,L,u,E,v.slotScopeIds,O),An(()=>{L.isDeactivated=!1,L.a&&hd(L.a);const F=v.props&&v.props.onVnodeMounted;F&&mi(F,L.parent,v)},u)},n.deactivate=v=>{const _=v.component;l(v,h,null,1,u),An(()=>{_.da&&hd(_.da);const w=v.props&&v.props.onVnodeUnmounted;w&&mi(w,_.parent,v),_.isDeactivated=!0},u)};function p(v){LE(v),d(v,r,u,!0)}function m(v){a.forEach((_,w)=>{const E=KI(_.type);E&&(!v||!v(E))&&y(w)})}function y(v){const _=a.get(v);!o||!Ca(_,o)?p(_):o&&LE(o),a.delete(v),s.delete(v)}gd(()=>[t.include,t.exclude],([v,_])=>{v&&m(w=>g_(v,w)),_&&m(w=>!g_(_,w))},{flush:"post",deep:!0});let g=null;const b=()=>{g!=null&&a.set(g,jE(r.subTree))};return n2(b),WN(b),KN(()=>{a.forEach(v=>{const{subTree:_,suspense:w}=r,E=jE(_);if(v.type===E.type&&v.key===E.key){LE(E);const O=E.component.da;O&&An(O,w);return}p(v)})}),()=>{if(g=null,!e.default)return o=null;const v=e.default(),_=v[0];if(v.length>1)return o=null,v;if(!Qc(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let w=jE(_);const E=w.type,O=KI(Bc(w)?w.type.__asyncResolved||{}:E),{include:L,exclude:F,max:x}=t;if(L&&(!O||!g_(L,O))||F&&O&&g_(F,O))return o=w,_;const P=w.key==null?E:w.key,j=a.get(P);return w.el&&(w=_o(w),_.shapeFlag&128&&(_.ssContent=w)),g=P,j?(w.el=j.el,w.component=j.component,w.transition&&Ld(w,w.transition),w.shapeFlag|=512,s.delete(P),s.add(P)):(s.add(P),x&&s.size>parseInt(x,10)&&y(s.values().next().value)),w.shapeFlag|=256,o=w,BG(_.type)?_:w}}},BFe=que;function g_(t,e){return ft(t)?t.some(r=>g_(r,e)):Fr(t)?t.split(",").includes(e):Eoe(t)?t.test(e):!1}function $ue(t,e){HG(t,"a",e)}function Uue(t,e){HG(t,"da",e)}function HG(t,e,r=fn){const n=t.__wdc||(t.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(r2(e,n,r),r){let a=r.parent;for(;a&&a.parent;)$b(a.parent.vnode)&&kue(n,e,r,a),a=a.parent}}function kue(t,e,r,n){const a=r2(e,t,n,!0);JN(()=>{CN(n[e],a)},r)}function LE(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function jE(t){return t.shapeFlag&128?t.ssContent:t}function r2(t,e,r=fn,n=!1){if(r){const a=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(r.isUnmounted)return;Eu();const u=zc(r),c=sa(e,r,t,o);return u(),Au(),c});return n?a.unshift(s):a.push(s),s}}const Eo=t=>(e,r=fn)=>(!Ub||t==="sp")&&r2(t,(...n)=>e(...n),r),Vue=Eo("bm"),n2=Eo("m"),Hue=Eo("bu"),WN=Eo("u"),KN=Eo("bum"),JN=Eo("um"),Que=Eo("sp"),zue=Eo("rtg"),Gue=Eo("rtc");function Wue(t,e=fn){r2("ec",t,e)}function Kue(t,e,r,n){let a;const s=r&&r[n];if(ft(t)||Fr(t)){a=new Array(t.length);for(let o=0,u=t.length;o<u;o++)a[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){a=new Array(t);for(let o=0;o<t;o++)a[o]=e(o+1,o,void 0,s&&s[o])}else if(fr(t))if(t[Symbol.iterator])a=Array.from(t,(o,u)=>e(o,u,void 0,s&&s[u]));else{const o=Object.keys(t);a=new Array(o.length);for(let u=0,c=o.length;u<c;u++){const l=o[u];a[u]=e(t[l],l,u,s&&s[u])}}else a=[];return r&&(r[n]=a),a}function qFe(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(ft(n))for(let a=0;a<n.length;a++)t[n[a].name]=n[a].fn;else n&&(t[n.name]=n.key?(...a)=>{const s=n.fn(...a);return s&&(s.key=n.key),s}:n.fn)}return t}function Jue(t,e,r={},n,a){if(tn.isCE||tn.parent&&Bc(tn.parent)&&tn.parent.isCE)return e!=="default"&&(r.name=e),It("slot",r,n&&n());let s=t[e];s&&s._c&&(s._d=!1),rr();const o=s&&QG(s(r)),u=eD(Kr,{key:r.key||o&&o.key||`_${e}`},o||(n?n():[]),o&&t._===1?64:-2);return!a&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),s&&s._c&&(s._d=!0),u}function QG(t){return t.some(e=>Qc(e)?!(e.type===ii||e.type===Kr&&!QG(e.children)):!0)?t:null}function $Fe(t,e){const r={};for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:_w(n)]=t[n];return r}const BI=t=>t?lW(t)?i2(t)||t.proxy:BI(t.parent):null,q_=Mr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>BI(t.parent),$root:t=>BI(t.root),$emit:t=>t.emit,$options:t=>XN(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,YS(t.update)}),$nextTick:t=>t.n||(t.n=Bb.bind(t.proxy)),$watch:t=>Mue.bind(t)}),ME=(t,e)=>t!==sr&&!t.__isScriptSetup&&Kt(t,e),qI={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:a,props:s,accessCache:o,type:u,appContext:c}=t;let l;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return a[e];case 4:return r[e];case 3:return s[e]}else{if(ME(n,e))return o[e]=1,n[e];if(a!==sr&&Kt(a,e))return o[e]=2,a[e];if((l=t.propsOptions[0])&&Kt(l,e))return o[e]=3,s[e];if(r!==sr&&Kt(r,e))return o[e]=4,r[e];$I&&(o[e]=0)}}const d=q_[e];let f,h;if(d)return e==="$attrs"&&Ei(t.attrs,"get",""),d(t);if((f=u.__cssModules)&&(f=f[e]))return f;if(r!==sr&&Kt(r,e))return o[e]=4,r[e];if(h=c.config.globalProperties,Kt(h,e))return h[e]},set({_:t},e,r){const{data:n,setupState:a,ctx:s}=t;return ME(a,e)?(a[e]=r,!0):n!==sr&&Kt(n,e)?(n[e]=r,!0):Kt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:a,propsOptions:s}},o){let u;return!!r[o]||t!==sr&&Kt(t,o)||ME(e,o)||(u=s[0])&&Kt(u,o)||Kt(n,o)||Kt(q_,o)||Kt(a.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Kt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},Xue=Mr({},qI,{get(t,e){if(e!==Symbol.unscopables)return qI.get(t,e,t)},has(t,e){return e[0]!=="_"&&!Ioe(e)}});function UFe(){return null}function kFe(){return null}function VFe(t){}function HFe(t){}function QFe(){return null}function zFe(){}function GFe(t,e){return null}function WFe(){return zG().slots}function KFe(){return zG().attrs}function zG(){const t=Ou();return t.setupContext||(t.setupContext=hW(t))}function lb(t){return ft(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function JFe(t,e){const r=lb(t);for(const n in e){if(n.startsWith("__skip"))continue;let a=r[n];a?ft(a)||At(a)?a=r[n]={type:a,default:e[n]}:a.default=e[n]:a===null&&(a=r[n]={default:e[n]}),a&&e[`__skip_${n}`]&&(a.skipFactory=!0)}return r}function XFe(t,e){return!t||!e?t||e:ft(t)&&ft(e)?t.concat(e):Mr({},lb(t),lb(e))}function YFe(t,e){const r={};for(const n in t)e.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>t[n]});return r}function ZFe(t){const e=Ou();let r=t();return zI(),LN(r)&&(r=r.catch(n=>{throw zc(e),n})),[r,()=>zc(e)]}let $I=!0;function Yue(t){const e=XN(t),r=t.proxy,n=t.ctx;$I=!1,e.beforeCreate&&K6(e.beforeCreate,t,"bc");const{data:a,computed:s,methods:o,watch:u,provide:c,inject:l,created:d,beforeMount:f,mounted:h,beforeUpdate:p,updated:m,activated:y,deactivated:g,beforeDestroy:b,beforeUnmount:v,destroyed:_,unmounted:w,render:E,renderTracked:O,renderTriggered:L,errorCaptured:F,serverPrefetch:x,expose:P,inheritAttrs:j,components:N,directives:V,filters:$}=e;if(l&&Zue(l,n,null),o)for(const X in o){const Y=o[X];At(Y)&&(n[X]=Y.bind(r))}if(a){const X=a.call(r,r);fr(X)&&(t.data=Fb(X))}if($I=!0,s)for(const X in s){const Y=s[X],he=At(Y)?Y.bind(r,r):At(Y.get)?Y.get.bind(r,r):vi,Te=!At(Y)&&At(Y.set)?Y.set.bind(r):vi,Ne=Zi({get:he,set:Te});Object.defineProperty(n,X,{enumerable:!0,configurable:!0,get:()=>Ne.value,set:$e=>Ne.value=$e})}if(u)for(const X in u)GG(u[X],n,r,X);if(c){const X=At(c)?c.call(r):c;Reflect.ownKeys(X).forEach(Y=>{vw(Y,X[Y])})}d&&K6(d,t,"c");function H(X,Y){ft(Y)?Y.forEach(he=>X(he.bind(r))):Y&&X(Y.bind(r))}if(H(Vue,f),H(n2,h),H(Hue,p),H(WN,m),H($ue,y),H(Uue,g),H(Wue,F),H(Gue,O),H(zue,L),H(KN,v),H(JN,w),H(Que,x),ft(P))if(P.length){const X=t.exposed||(t.exposed={});P.forEach(Y=>{Object.defineProperty(X,Y,{get:()=>r[Y],set:he=>r[Y]=he})})}else t.exposed||(t.exposed={});E&&t.render===vi&&(t.render=E),j!=null&&(t.inheritAttrs=j),N&&(t.components=N),V&&(t.directives=V)}function Zue(t,e,r=vi){ft(t)&&(t=UI(t));for(const n in t){const a=t[n];let s;fr(a)?"default"in a?s=ls(a.from||n,a.default,!0):s=ls(a.from||n):s=ls(a),nn(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function K6(t,e,r){sa(ft(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function GG(t,e,r,n){const a=n.includes(".")?$G(r,n):()=>r[n];if(Fr(t)){const s=e[t];At(s)&&gd(a,s)}else if(At(t))gd(a,t.bind(r));else if(fr(t))if(ft(t))t.forEach(s=>GG(s,e,r,n));else{const s=At(t.handler)?t.handler.bind(r):e[t.handler];At(s)&&gd(a,s,t)}}function XN(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:a,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,u=s.get(e);let c;return u?c=u:!a.length&&!r&&!n?c=e:(c={},a.length&&a.forEach(l=>sS(c,l,o,!0)),sS(c,e,o)),fr(e)&&s.set(e,c),c}function sS(t,e,r,n=!1){const{mixins:a,extends:s}=e;s&&sS(t,s,r,!0),a&&a.forEach(o=>sS(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const u=ece[o]||r&&r[o];t[o]=u?u(t[o],e[o]):e[o]}return t}const ece={data:J6,props:X6,emits:X6,methods:__,computed:__,beforeCreate:Kn,created:Kn,beforeMount:Kn,mounted:Kn,beforeUpdate:Kn,updated:Kn,beforeDestroy:Kn,beforeUnmount:Kn,destroyed:Kn,unmounted:Kn,activated:Kn,deactivated:Kn,errorCaptured:Kn,serverPrefetch:Kn,components:__,directives:__,watch:rce,provide:J6,inject:tce};function J6(t,e){return e?t?function(){return Mr(At(t)?t.call(this,this):t,At(e)?e.call(this,this):e)}:e:t}function tce(t,e){return __(UI(t),UI(e))}function UI(t){if(ft(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Kn(t,e){return t?[...new Set([].concat(t,e))]:e}function __(t,e){return t?Mr(Object.create(null),t,e):e}function X6(t,e){return t?ft(t)&&ft(e)?[...new Set([...t,...e])]:Mr(Object.create(null),lb(t),lb(e??{})):e}function rce(t,e){if(!t)return e;if(!e)return t;const r=Mr(Object.create(null),t);for(const n in e)r[n]=Kn(t[n],e[n]);return r}function WG(){return{app:null,config:{isNativeTag:Soe,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nce=0;function ice(t,e){return function(n,a=null){At(n)||(n=Mr({},n)),a!=null&&!fr(a)&&(a=null);const s=WG(),o=new WeakSet;let u=!1;const c=s.app={_uid:nce++,_component:n,_props:a,_container:null,_context:s,_instance:null,version:Ice,get config(){return s.config},set config(l){},use(l,...d){return o.has(l)||(l&&At(l.install)?(o.add(l),l.install(c,...d)):At(l)&&(o.add(l),l(c,...d))),c},mixin(l){return s.mixins.includes(l)||s.mixins.push(l),c},component(l,d){return d?(s.components[l]=d,c):s.components[l]},directive(l,d){return d?(s.directives[l]=d,c):s.directives[l]},mount(l,d,f){if(!u){const h=It(n,a);return h.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),d&&e?e(h,l):t(h,l,f),u=!0,c._container=l,l.__vue_app__=c,i2(h.component)||h.component.proxy}},unmount(){u&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,d){return s.provides[l]=d,c},runWithContext(l){const d=_d;_d=c;try{return l()}finally{_d=d}}};return c}}let _d=null;function vw(t,e){if(fn){let r=fn.provides;const n=fn.parent&&fn.parent.provides;n===r&&(r=fn.provides=Object.create(n)),r[t]=e}}function ls(t,e,r=!1){const n=fn||tn;if(n||_d){const a=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:_d._context.provides;if(a&&t in a)return a[t];if(arguments.length>1)return r&&At(e)?e.call(n&&n.proxy):e}}function ace(){return!!(fn||tn||_d)}const KG=Object.create(null),kI=()=>Object.create(KG),JG=t=>Object.getPrototypeOf(t)===KG;function sce(t,e,r,n=!1){const a={},s=kI();t.propsDefaults=Object.create(null),XG(t,e,a,s);for(const o in t.propsOptions[0])o in a||(a[o]=void 0);r?t.props=n?a:AG(a):t.type.props?t.props=a:t.props=s,t.attrs=s}function oce(t,e,r,n){const{props:a,attrs:s,vnode:{patchFlag:o}}=t,u=Qt(a),[c]=t.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(ZS(t.emitsOptions,h))continue;const p=e[h];if(c)if(Kt(s,h))p!==s[h]&&(s[h]=p,l=!0);else{const m=Si(h);a[m]=VI(c,u,m,p,t,!1)}else p!==s[h]&&(s[h]=p,l=!0)}}}else{XG(t,e,a,s)&&(l=!0);let d;for(const f in u)(!e||!Kt(e,f)&&((d=Ci(f))===f||!Kt(e,d)))&&(c?r&&(r[f]!==void 0||r[d]!==void 0)&&(a[f]=VI(c,u,f,void 0,t,!0)):delete a[f]);if(s!==u)for(const f in s)(!e||!Kt(e,f))&&(delete s[f],l=!0)}l&&fo(t.attrs,"set","")}function XG(t,e,r,n){const[a,s]=t.propsOptions;let o=!1,u;if(e)for(let c in e){if(fd(c))continue;const l=e[c];let d;a&&Kt(a,d=Si(c))?!s||!s.includes(d)?r[d]=l:(u||(u={}))[d]=l:ZS(t.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(s){const c=Qt(r),l=u||sr;for(let d=0;d<s.length;d++){const f=s[d];r[f]=VI(a,c,f,l[f],t,!Kt(l,f))}}return o}function VI(t,e,r,n,a,s){const o=t[r];if(o!=null){const u=Kt(o,"default");if(u&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&At(c)){const{propsDefaults:l}=a;if(r in l)n=l[r];else{const d=zc(a);n=l[r]=c.call(null,e),d()}}else n=c}o[0]&&(s&&!u?n=!1:o[1]&&(n===""||n===Ci(r))&&(n=!0))}return n}function YG(t,e,r=!1){const n=e.propsCache,a=n.get(t);if(a)return a;const s=t.props,o={},u=[];let c=!1;if(!At(t)){const d=f=>{c=!0;const[h,p]=YG(f,e,!0);Mr(o,h),p&&u.push(...p)};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!c)return fr(t)&&n.set(t,ld),ld;if(ft(s))for(let d=0;d<s.length;d++){const f=Si(s[d]);Y6(f)&&(o[f]=sr)}else if(s)for(const d in s){const f=Si(d);if(Y6(f)){const h=s[d],p=o[f]=ft(h)||At(h)?{type:h}:Mr({},h);if(p){const m=tL(Boolean,p.type),y=tL(String,p.type);p[0]=m>-1,p[1]=y<0||m<y,(m>-1||Kt(p,"default"))&&u.push(f)}}}const l=[o,u];return fr(t)&&n.set(t,l),l}function Y6(t){return t[0]!=="$"&&!fd(t)}function Z6(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function eL(t,e){return Z6(t)===Z6(e)}function tL(t,e){return ft(e)?e.findIndex(r=>eL(r,t)):At(e)&&eL(e,t)?0:-1}const ZG=t=>t[0]==="_"||t==="$stable",YN=t=>ft(t)?t.map(Di):[Di(t)],uce=(t,e,r)=>{if(e._n)return e;const n=Cn((...a)=>YN(e(...a)),r);return n._c=!1,n},eW=(t,e,r)=>{const n=t._ctx;for(const a in t){if(ZG(a))continue;const s=t[a];if(At(s))e[a]=uce(a,s,n);else if(s!=null){const o=YN(s);e[a]=()=>o}}},tW=(t,e)=>{const r=YN(e);t.slots.default=()=>r},cce=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=Qt(e),iG(t.slots,"_",r)):eW(e,t.slots=kI())}else t.slots=kI(),e&&tW(t,e)},lce=(t,e,r)=>{const{vnode:n,slots:a}=t;let s=!0,o=sr;if(n.shapeFlag&32){const u=e._;u?r&&u===1?s=!1:(Mr(a,e),!r&&u===1&&delete a._):(s=!e.$stable,eW(e,a)),o=e}else e&&(tW(t,e),o={default:1});if(s)for(const u in a)!ZG(u)&&o[u]==null&&delete a[u]};function oS(t,e,r,n,a=!1){if(ft(t)){t.forEach((h,p)=>oS(h,e&&(ft(e)?e[p]:e),r,n,a));return}if(Bc(n)&&!a)return;const s=n.shapeFlag&4?i2(n.component)||n.component.proxy:n.el,o=a?null:s,{i:u,r:c}=t,l=e&&e.r,d=u.refs===sr?u.refs={}:u.refs,f=u.setupState;if(l!=null&&l!==c&&(Fr(l)?(d[l]=null,Kt(f,l)&&(f[l]=null)):nn(l)&&(l.value=null)),At(c))au(c,u,12,[o,d]);else{const h=Fr(c),p=nn(c);if(h||p){const m=()=>{if(t.f){const y=h?Kt(f,c)?f[c]:d[c]:c.value;a?ft(y)&&CN(y,s):ft(y)?y.includes(s)||y.push(s):h?(d[c]=[s],Kt(f,c)&&(f[c]=d[c])):(c.value=[s],t.k&&(d[t.k]=c.value))}else h?(d[c]=o,Kt(f,c)&&(f[c]=o)):p&&(c.value=o,t.k&&(d[t.k]=o))};o?(m.id=-1,An(m,r)):m()}}}let jo=!1;const dce=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",fce=t=>t.namespaceURI.includes("MathML"),gv=t=>{if(dce(t))return"svg";if(fce(t))return"mathml"},_v=t=>t.nodeType===8;function hce(t){const{mt:e,p:r,o:{patchProp:n,createText:a,nextSibling:s,parentNode:o,remove:u,insert:c,createComment:l}}=t,d=(_,w)=>{if(!w.hasChildNodes()){r(null,_,w),aS(),w._vnode=_;return}jo=!1,f(w.firstChild,_,null,null,null),aS(),w._vnode=_,jo&&console.error("Hydration completed but contains mismatches.")},f=(_,w,E,O,L,F=!1)=>{F=F||!!w.dynamicChildren;const x=_v(_)&&_.data==="[",P=()=>y(_,w,E,O,L,x),{type:j,ref:N,shapeFlag:V,patchFlag:$}=w;let q=_.nodeType;w.el=_,$===-2&&(F=!1,w.dynamicChildren=null);let H=null;switch(j){case jd:q!==3?w.children===""?(c(w.el=a(""),o(_),_),H=_):H=P():(_.data!==w.children&&(jo=!0,_.data=w.children),H=s(_));break;case ii:v(_)?(H=s(_),b(w.el=_.content.firstChild,_,E)):q!==8||x?H=P():H=s(_);break;case bd:if(x&&(_=s(_),q=_.nodeType),q===1||q===3){H=_;const X=!w.children.length;for(let Y=0;Y<w.staticCount;Y++)X&&(w.children+=H.nodeType===1?H.outerHTML:H.data),Y===w.staticCount-1&&(w.anchor=H),H=s(H);return x?s(H):H}else P();break;case Kr:x?H=m(_,w,E,O,L,F):H=P();break;default:if(V&1)(q!==1||w.type.toLowerCase()!==_.tagName.toLowerCase())&&!v(_)?H=P():H=h(_,w,E,O,L,F);else if(V&6){w.slotScopeIds=L;const X=o(_);if(x?H=g(_):_v(_)&&_.data==="teleport start"?H=g(_,_.data,"teleport end"):H=s(_),e(w,X,null,E,O,gv(X),F),Bc(w)){let Y;x?(Y=It(Kr),Y.anchor=H?H.previousSibling:X.lastChild):Y=_.nodeType===3?Ya(""):It("div"),Y.el=_,w.component.subTree=Y}}else V&64?q!==8?H=P():H=w.type.hydrate(_,w,E,O,L,F,t,p):V&128&&(H=w.type.hydrate(_,w,E,O,gv(o(_)),L,F,t,f))}return N!=null&&oS(N,null,O,w),H},h=(_,w,E,O,L,F)=>{F=F||!!w.dynamicChildren;const{type:x,props:P,patchFlag:j,shapeFlag:N,dirs:V,transition:$}=w,q=x==="input"||x==="option";if(q||j!==-1){V&&Za(w,null,E,"created");let H=!1;if(v(_)){H=nW(O,$)&&E&&E.vnode.props&&E.vnode.props.appear;const Y=_.content.firstChild;H&&$.beforeEnter(Y),b(Y,_,E),w.el=_=Y}if(N&16&&!(P&&(P.innerHTML||P.textContent))){let Y=p(_.firstChild,w,_,E,O,L,F);for(;Y;){jo=!0;const he=Y;Y=Y.nextSibling,u(he)}}else N&8&&_.textContent!==w.children&&(jo=!0,_.textContent=w.children);if(P)if(q||!F||j&48)for(const Y in P)(q&&(Y.endsWith("value")||Y==="indeterminate")||jb(Y)&&!fd(Y)||Y[0]===".")&&n(_,Y,null,P[Y],void 0,void 0,E);else P.onClick&&n(_,"onClick",null,P.onClick,void 0,void 0,E);let X;(X=P&&P.onVnodeBeforeMount)&&mi(X,E,w),V&&Za(w,null,E,"beforeMount"),((X=P&&P.onVnodeMounted)||V||H)&&qG(()=>{X&&mi(X,E,w),H&&$.enter(_),V&&Za(w,null,E,"mounted")},O)}return _.nextSibling},p=(_,w,E,O,L,F,x)=>{x=x||!!w.dynamicChildren;const P=w.children,j=P.length;for(let N=0;N<j;N++){const V=x?P[N]:P[N]=Di(P[N]);if(_)_=f(_,V,O,L,F,x);else{if(V.type===jd&&!V.children)continue;jo=!0,r(null,V,E,null,O,L,gv(E),F)}}return _},m=(_,w,E,O,L,F)=>{const{slotScopeIds:x}=w;x&&(L=L?L.concat(x):x);const P=o(_),j=p(s(_),w,P,E,O,L,F);return j&&_v(j)&&j.data==="]"?s(w.anchor=j):(jo=!0,c(w.anchor=l("]"),P,j),j)},y=(_,w,E,O,L,F)=>{if(jo=!0,w.el=null,F){const j=g(_);for(;;){const N=s(_);if(N&&N!==j)u(N);else break}}const x=s(_),P=o(_);return u(_),r(null,w,P,x,E,O,gv(P),L),x},g=(_,w="[",E="]")=>{let O=0;for(;_;)if(_=s(_),_&&_v(_)&&(_.data===w&&O++,_.data===E)){if(O===0)return s(_);O--}return _},b=(_,w,E)=>{const O=w.parentNode;O&&O.replaceChild(_,w);let L=E;for(;L;)L.vnode.el===w&&(L.vnode.el=L.subTree.el=_),L=L.parent},v=_=>_.nodeType===1&&_.tagName.toLowerCase()==="template";return[d,f]}const An=qG;function pce(t){return rW(t)}function yce(t){return rW(t,hce)}function rW(t,e){const r=aG();r.__VUE__=!0;const{insert:n,remove:a,patchProp:s,createElement:o,createText:u,createComment:c,setText:l,setElementText:d,parentNode:f,nextSibling:h,setScopeId:p=vi,insertStaticContent:m}=t,y=(T,R,U,G=null,Q=null,Z=null,se=void 0,re=null,le=!!R.dynamicChildren)=>{if(T===R)return;T&&!Ca(T,R)&&(G=we(T),$e(T,Q,Z,!0),T=null),R.patchFlag===-2&&(le=!1,R.dynamicChildren=null);const{type:pe,ref:_e,shapeFlag:Ie}=R;switch(pe){case jd:g(T,R,U,G);break;case ii:b(T,R,U,G);break;case bd:T==null&&v(R,U,G,se);break;case Kr:N(T,R,U,G,Q,Z,se,re,le);break;default:Ie&1?E(T,R,U,G,Q,Z,se,re,le):Ie&6?V(T,R,U,G,Q,Z,se,re,le):(Ie&64||Ie&128)&&pe.process(T,R,U,G,Q,Z,se,re,le,z)}_e!=null&&Q&&oS(_e,T&&T.ref,Z,R||T,!R)},g=(T,R,U,G)=>{if(T==null)n(R.el=u(R.children),U,G);else{const Q=R.el=T.el;R.children!==T.children&&l(Q,R.children)}},b=(T,R,U,G)=>{T==null?n(R.el=c(R.children||""),U,G):R.el=T.el},v=(T,R,U,G)=>{[T.el,T.anchor]=m(T.children,R,U,G,T.el,T.anchor)},_=({el:T,anchor:R},U,G)=>{let Q;for(;T&&T!==R;)Q=h(T),n(T,U,G),T=Q;n(R,U,G)},w=({el:T,anchor:R})=>{let U;for(;T&&T!==R;)U=h(T),a(T),T=U;a(R)},E=(T,R,U,G,Q,Z,se,re,le)=>{R.type==="svg"?se="svg":R.type==="math"&&(se="mathml"),T==null?O(R,U,G,Q,Z,se,re,le):x(T,R,Q,Z,se,re,le)},O=(T,R,U,G,Q,Z,se,re)=>{let le,pe;const{props:_e,shapeFlag:Ie,transition:Ee,dirs:Me}=T;if(le=T.el=o(T.type,Z,_e&&_e.is,_e),Ie&8?d(le,T.children):Ie&16&&F(T.children,le,null,G,Q,FE(T,Z),se,re),Me&&Za(T,null,G,"created"),L(le,T,T.scopeId,se,G),_e){for(const ke in _e)ke!=="value"&&!fd(ke)&&s(le,ke,null,_e[ke],Z,T.children,G,Q,Pe);"value"in _e&&s(le,"value",null,_e.value,Z),(pe=_e.onVnodeBeforeMount)&&mi(pe,G,T)}Me&&Za(T,null,G,"beforeMount");const Ce=nW(Q,Ee);Ce&&Ee.beforeEnter(le),n(le,R,U),((pe=_e&&_e.onVnodeMounted)||Ce||Me)&&An(()=>{pe&&mi(pe,G,T),Ce&&Ee.enter(le),Me&&Za(T,null,G,"mounted")},Q)},L=(T,R,U,G,Q)=>{if(U&&p(T,U),G)for(let Z=0;Z<G.length;Z++)p(T,G[Z]);if(Q){let Z=Q.subTree;if(R===Z){const se=Q.vnode;L(T,se,se.scopeId,se.slotScopeIds,Q.parent)}}},F=(T,R,U,G,Q,Z,se,re,le=0)=>{for(let pe=le;pe<T.length;pe++){const _e=T[pe]=re?Ko(T[pe]):Di(T[pe]);y(null,_e,R,U,G,Q,Z,se,re)}},x=(T,R,U,G,Q,Z,se)=>{const re=R.el=T.el;let{patchFlag:le,dynamicChildren:pe,dirs:_e}=R;le|=T.patchFlag&16;const Ie=T.props||sr,Ee=R.props||sr;let Me;if(U&&zu(U,!1),(Me=Ee.onVnodeBeforeUpdate)&&mi(Me,U,R,T),_e&&Za(R,T,U,"beforeUpdate"),U&&zu(U,!0),pe?P(T.dynamicChildren,pe,re,U,G,FE(R,Q),Z):se||Y(T,R,re,null,U,G,FE(R,Q),Z,!1),le>0){if(le&16)j(re,R,Ie,Ee,U,G,Q);else if(le&2&&Ie.class!==Ee.class&&s(re,"class",null,Ee.class,Q),le&4&&s(re,"style",Ie.style,Ee.style,Q),le&8){const Ce=R.dynamicProps;for(let ke=0;ke<Ce.length;ke++){const qe=Ce[ke],W=Ie[qe],D=Ee[qe];(D!==W||qe==="value")&&s(re,qe,W,D,Q,T.children,U,G,Pe)}}le&1&&T.children!==R.children&&d(re,R.children)}else!se&&pe==null&&j(re,R,Ie,Ee,U,G,Q);((Me=Ee.onVnodeUpdated)||_e)&&An(()=>{Me&&mi(Me,U,R,T),_e&&Za(R,T,U,"updated")},G)},P=(T,R,U,G,Q,Z,se)=>{for(let re=0;re<R.length;re++){const le=T[re],pe=R[re],_e=le.el&&(le.type===Kr||!Ca(le,pe)||le.shapeFlag&70)?f(le.el):U;y(le,pe,_e,null,G,Q,Z,se,!0)}},j=(T,R,U,G,Q,Z,se)=>{if(U!==G){if(U!==sr)for(const re in U)!fd(re)&&!(re in G)&&s(T,re,U[re],null,se,R.children,Q,Z,Pe);for(const re in G){if(fd(re))continue;const le=G[re],pe=U[re];le!==pe&&re!=="value"&&s(T,re,pe,le,se,R.children,Q,Z,Pe)}"value"in G&&s(T,"value",U.value,G.value,se)}},N=(T,R,U,G,Q,Z,se,re,le)=>{const pe=R.el=T?T.el:u(""),_e=R.anchor=T?T.anchor:u("");let{patchFlag:Ie,dynamicChildren:Ee,slotScopeIds:Me}=R;Me&&(re=re?re.concat(Me):Me),T==null?(n(pe,U,G),n(_e,U,G),F(R.children||[],U,_e,Q,Z,se,re,le)):Ie>0&&Ie&64&&Ee&&T.dynamicChildren?(P(T.dynamicChildren,Ee,U,Q,Z,se,re),(R.key!=null||Q&&R===Q.subTree)&&ZN(T,R,!0)):Y(T,R,U,_e,Q,Z,se,re,le)},V=(T,R,U,G,Q,Z,se,re,le)=>{R.slotScopeIds=re,T==null?R.shapeFlag&512?Q.ctx.activate(R,U,G,se,le):$(R,U,G,Q,Z,se,le):q(T,R,le)},$=(T,R,U,G,Q,Z,se)=>{const re=T.component=cW(T,G,Q);if($b(T)&&(re.ctx.renderer=z),dW(re),re.asyncDep){if(Q&&Q.registerDep(re,H),!T.el){const le=re.subTree=It(ii);b(null,le,R,U)}}else H(re,T,R,U,Q,Z,se)},q=(T,R,U)=>{const G=R.component=T.component;if(Eue(T,R,U))if(G.asyncDep&&!G.asyncResolved){X(G,R,U);return}else G.next=R,mue(G.update),G.effect.dirty=!0,G.update();else R.el=T.el,G.vnode=R},H=(T,R,U,G,Q,Z,se)=>{const re=()=>{if(T.isMounted){let{next:_e,bu:Ie,u:Ee,parent:Me,vnode:Ce}=T;{const B=iW(T);if(B){_e&&(_e.el=Ce.el,X(T,_e,se)),B.asyncDep.then(()=>{T.isUnmounted||re()});return}}let ke=_e,qe;zu(T,!1),_e?(_e.el=Ce.el,X(T,_e,se)):_e=Ce,Ie&&hd(Ie),(qe=_e.props&&_e.props.onVnodeBeforeUpdate)&&mi(qe,Me,_e,Ce),zu(T,!0);const W=bw(T),D=T.subTree;T.subTree=W,y(D,W,f(D.el),we(D),T,Q,Z),_e.el=W.el,ke===null&&VN(T,W.el),Ee&&An(Ee,Q),(qe=_e.props&&_e.props.onVnodeUpdated)&&An(()=>mi(qe,Me,_e,Ce),Q)}else{let _e;const{el:Ie,props:Ee}=R,{bm:Me,m:Ce,parent:ke}=T,qe=Bc(R);if(zu(T,!1),Me&&hd(Me),!qe&&(_e=Ee&&Ee.onVnodeBeforeMount)&&mi(_e,ke,R),zu(T,!0),Ie&&k){const W=()=>{T.subTree=bw(T),k(Ie,T.subTree,T,Q,null)};qe?R.type.__asyncLoader().then(()=>!T.isUnmounted&&W()):W()}else{const W=T.subTree=bw(T);y(null,W,U,G,T,Q,Z),R.el=W.el}if(Ce&&An(Ce,Q),!qe&&(_e=Ee&&Ee.onVnodeMounted)){const W=R;An(()=>mi(_e,ke,W),Q)}(R.shapeFlag&256||ke&&Bc(ke.vnode)&&ke.vnode.shapeFlag&256)&&T.a&&An(T.a,Q),T.isMounted=!0,R=U=G=null}},le=T.effect=new rb(re,vi,()=>YS(pe),T.scope),pe=T.update=()=>{le.dirty&&le.run()};pe.id=T.uid,zu(T,!0),pe()},X=(T,R,U)=>{R.component=T;const G=T.vnode.props;T.vnode=R,T.next=null,oce(T,R.props,G,U),lce(T,R.children,U),Eu(),V6(T),Au()},Y=(T,R,U,G,Q,Z,se,re,le=!1)=>{const pe=T&&T.children,_e=T?T.shapeFlag:0,Ie=R.children,{patchFlag:Ee,shapeFlag:Me}=R;if(Ee>0){if(Ee&128){Te(pe,Ie,U,G,Q,Z,se,re,le);return}else if(Ee&256){he(pe,Ie,U,G,Q,Z,se,re,le);return}}Me&8?(_e&16&&Pe(pe,Q,Z),Ie!==pe&&d(U,Ie)):_e&16?Me&16?Te(pe,Ie,U,G,Q,Z,se,re,le):Pe(pe,Q,Z,!0):(_e&8&&d(U,""),Me&16&&F(Ie,U,G,Q,Z,se,re,le))},he=(T,R,U,G,Q,Z,se,re,le)=>{T=T||ld,R=R||ld;const pe=T.length,_e=R.length,Ie=Math.min(pe,_e);let Ee;for(Ee=0;Ee<Ie;Ee++){const Me=R[Ee]=le?Ko(R[Ee]):Di(R[Ee]);y(T[Ee],Me,U,null,Q,Z,se,re,le)}pe>_e?Pe(T,Q,Z,!0,!1,Ie):F(R,U,G,Q,Z,se,re,le,Ie)},Te=(T,R,U,G,Q,Z,se,re,le)=>{let pe=0;const _e=R.length;let Ie=T.length-1,Ee=_e-1;for(;pe<=Ie&&pe<=Ee;){const Me=T[pe],Ce=R[pe]=le?Ko(R[pe]):Di(R[pe]);if(Ca(Me,Ce))y(Me,Ce,U,null,Q,Z,se,re,le);else break;pe++}for(;pe<=Ie&&pe<=Ee;){const Me=T[Ie],Ce=R[Ee]=le?Ko(R[Ee]):Di(R[Ee]);if(Ca(Me,Ce))y(Me,Ce,U,null,Q,Z,se,re,le);else break;Ie--,Ee--}if(pe>Ie){if(pe<=Ee){const Me=Ee+1,Ce=Me<_e?R[Me].el:G;for(;pe<=Ee;)y(null,R[pe]=le?Ko(R[pe]):Di(R[pe]),U,Ce,Q,Z,se,re,le),pe++}}else if(pe>Ee)for(;pe<=Ie;)$e(T[pe],Q,Z,!0),pe++;else{const Me=pe,Ce=pe,ke=new Map;for(pe=Ce;pe<=Ee;pe++){const ge=R[pe]=le?Ko(R[pe]):Di(R[pe]);ge.key!=null&&ke.set(ge.key,pe)}let qe,W=0;const D=Ee-Ce+1;let B=!1,K=0;const ne=new Array(D);for(pe=0;pe<D;pe++)ne[pe]=0;for(pe=Me;pe<=Ie;pe++){const ge=T[pe];if(W>=D){$e(ge,Q,Z,!0);continue}let Le;if(ge.key!=null)Le=ke.get(ge.key);else for(qe=Ce;qe<=Ee;qe++)if(ne[qe-Ce]===0&&Ca(ge,R[qe])){Le=qe;break}Le===void 0?$e(ge,Q,Z,!0):(ne[Le-Ce]=pe+1,Le>=K?K=Le:B=!0,y(ge,R[Le],U,null,Q,Z,se,re,le),W++)}const fe=B?mce(ne):ld;for(qe=fe.length-1,pe=D-1;pe>=0;pe--){const ge=Ce+pe,Le=R[ge],ee=ge+1<_e?R[ge+1].el:G;ne[pe]===0?y(null,Le,U,ee,Q,Z,se,re,le):B&&(qe<0||pe!==fe[qe]?Ne(Le,U,ee,2):qe--)}}},Ne=(T,R,U,G,Q=null)=>{const{el:Z,type:se,transition:re,children:le,shapeFlag:pe}=T;if(pe&6){Ne(T.component.subTree,R,U,G);return}if(pe&128){T.suspense.move(R,U,G);return}if(pe&64){se.move(T,R,U,z);return}if(se===Kr){n(Z,R,U);for(let Ie=0;Ie<le.length;Ie++)Ne(le[Ie],R,U,G);n(T.anchor,R,U);return}if(se===bd){_(T,R,U);return}if(G!==2&&pe&1&&re)if(G===0)re.beforeEnter(Z),n(Z,R,U),An(()=>re.enter(Z),Q);else{const{leave:Ie,delayLeave:Ee,afterLeave:Me}=re,Ce=()=>n(Z,R,U),ke=()=>{Ie(Z,()=>{Ce(),Me&&Me()})};Ee?Ee(Z,Ce,ke):ke()}else n(Z,R,U)},$e=(T,R,U,G=!1,Q=!1)=>{const{type:Z,props:se,ref:re,children:le,dynamicChildren:pe,shapeFlag:_e,patchFlag:Ie,dirs:Ee}=T;if(re!=null&&oS(re,null,U,T,!0),_e&256){R.ctx.deactivate(T);return}const Me=_e&1&&Ee,Ce=!Bc(T);let ke;if(Ce&&(ke=se&&se.onVnodeBeforeUnmount)&&mi(ke,R,T),_e&6)xe(T.component,U,G);else{if(_e&128){T.suspense.unmount(U,G);return}Me&&Za(T,null,R,"beforeUnmount"),_e&64?T.type.remove(T,R,U,Q,z,G):pe&&(Z!==Kr||Ie>0&&Ie&64)?Pe(pe,R,U,!1,!0):(Z===Kr&&Ie&384||!Q&&_e&16)&&Pe(le,R,U),G&&de(T)}(Ce&&(ke=se&&se.onVnodeUnmounted)||Me)&&An(()=>{ke&&mi(ke,R,T),Me&&Za(T,null,R,"unmounted")},U)},de=T=>{const{type:R,el:U,anchor:G,transition:Q}=T;if(R===Kr){ce(U,G);return}if(R===bd){w(T);return}const Z=()=>{a(U),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(T.shapeFlag&1&&Q&&!Q.persisted){const{leave:se,delayLeave:re}=Q,le=()=>se(U,Z);re?re(T.el,Z,le):le()}else Z()},ce=(T,R)=>{let U;for(;T!==R;)U=h(T),a(T),T=U;a(R)},xe=(T,R,U)=>{const{bum:G,scope:Q,update:Z,subTree:se,um:re}=T;G&&hd(G),Q.stop(),Z&&(Z.active=!1,$e(se,T,R,U)),re&&An(re,R),An(()=>{T.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},Pe=(T,R,U,G=!1,Q=!1,Z=0)=>{for(let se=Z;se<T.length;se++)$e(T[se],R,U,G,Q)},we=T=>T.shapeFlag&6?we(T.component.subTree):T.shapeFlag&128?T.suspense.next():h(T.anchor||T.el);let Re=!1;const Se=(T,R,U)=>{T==null?R._vnode&&$e(R._vnode,null,null,!0):y(R._vnode||null,T,R,null,null,null,U),Re||(Re=!0,V6(),aS(),Re=!1),R._vnode=T},z={p:y,um:$e,m:Ne,r:de,mt:$,mc:F,pc:Y,pbc:P,n:we,o:t};let M,k;return e&&([M,k]=e(z)),{render:Se,hydrate:M,createApp:ice(Se,M)}}function FE({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function zu({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function nW(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ZN(t,e,r=!1){const n=t.children,a=e.children;if(ft(n)&&ft(a))for(let s=0;s<n.length;s++){const o=n[s];let u=a[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=a[s]=Ko(a[s]),u.el=o.el),r||ZN(o,u)),u.type===jd&&(u.el=o.el)}}function mce(t){const e=t.slice(),r=[0];let n,a,s,o,u;const c=t.length;for(n=0;n<c;n++){const l=t[n];if(l!==0){if(a=r[r.length-1],t[a]<l){e[n]=a,r.push(n);continue}for(s=0,o=r.length-1;s<o;)u=s+o>>1,t[r[u]]<l?s=u+1:o=u;l<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}function iW(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:iW(e)}const gce=t=>t.__isTeleport,$_=t=>t&&(t.disabled||t.disabled===""),rL=t=>typeof SVGElement<"u"&&t instanceof SVGElement,nL=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,HI=(t,e)=>{const r=t&&t.to;return Fr(r)?e?e(r):null:r},_ce={name:"Teleport",__isTeleport:!0,process(t,e,r,n,a,s,o,u,c,l){const{mc:d,pc:f,pbc:h,o:{insert:p,querySelector:m,createText:y,createComment:g}}=l,b=$_(e.props);let{shapeFlag:v,children:_,dynamicChildren:w}=e;if(t==null){const E=e.el=y(""),O=e.anchor=y("");p(E,r,n),p(O,r,n);const L=e.target=HI(e.props,m),F=e.targetAnchor=y("");L&&(p(F,L),o==="svg"||rL(L)?o="svg":(o==="mathml"||nL(L))&&(o="mathml"));const x=(P,j)=>{v&16&&d(_,P,j,a,s,o,u,c)};b?x(r,O):L&&x(L,F)}else{e.el=t.el;const E=e.anchor=t.anchor,O=e.target=t.target,L=e.targetAnchor=t.targetAnchor,F=$_(t.props),x=F?r:O,P=F?E:L;if(o==="svg"||rL(O)?o="svg":(o==="mathml"||nL(O))&&(o="mathml"),w?(h(t.dynamicChildren,w,x,a,s,o,u),ZN(t,e,!0)):c||f(t,e,x,P,a,s,o,u,!1),b)F?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):bv(e,r,E,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const j=e.target=HI(e.props,m);j&&bv(e,j,null,l,0)}else F&&bv(e,O,L,l,1)}aW(e)},remove(t,e,r,n,{um:a,o:{remove:s}},o){const{shapeFlag:u,children:c,anchor:l,targetAnchor:d,target:f,props:h}=t;if(f&&s(d),o&&s(l),u&16){const p=o||!$_(h);for(let m=0;m<c.length;m++){const y=c[m];a(y,e,r,p,!!y.dynamicChildren)}}},move:bv,hydrate:bce};function bv(t,e,r,{o:{insert:n},m:a},s=2){s===0&&n(t.targetAnchor,e,r);const{el:o,anchor:u,shapeFlag:c,children:l,props:d}=t,f=s===2;if(f&&n(o,e,r),(!f||$_(d))&&c&16)for(let h=0;h<l.length;h++)a(l[h],e,r,2);f&&n(u,e,r)}function bce(t,e,r,n,a,s,{o:{nextSibling:o,parentNode:u,querySelector:c}},l){const d=e.target=HI(e.props,c);if(d){const f=d._lpa||d.firstChild;if(e.shapeFlag&16)if($_(e.props))e.anchor=l(o(t),e,u(t),r,n,a,s),e.targetAnchor=f;else{e.anchor=o(t);let h=f;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}l(f,e,d,r,n,a,s)}aW(e)}return e.anchor&&o(e.anchor)}const e5e=_ce;function aW(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Kr=Symbol.for("v-fgt"),jd=Symbol.for("v-txt"),ii=Symbol.for("v-cmt"),bd=Symbol.for("v-stc"),U_=[];let wi=null;function rr(t=!1){U_.push(wi=t?null:[])}function sW(){U_.pop(),wi=U_[U_.length-1]||null}let Hc=1;function iL(t){Hc+=t}function oW(t){return t.dynamicChildren=Hc>0?wi||ld:null,sW(),Hc>0&&wi&&wi.push(t),t}function gr(t,e,r,n,a,s){return oW(nt(t,e,r,n,a,s,!0))}function eD(t,e,r,n,a){return oW(It(t,e,r,n,a,!0))}function Qc(t){return t?t.__v_isVNode===!0:!1}function Ca(t,e){return t.type===e.type&&t.key===e.key}function t5e(t){}const uW=({key:t})=>t??null,ww=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Fr(t)||nn(t)||At(t)?{i:tn,r:t,k:e,f:!!r}:t:null);function nt(t,e=null,r=null,n=0,a=null,s=t===Kr?0:1,o=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&uW(e),ref:e&&ww(e),scopeId:e2,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:tn};return u?(tD(c,r),s&128&&t.normalize(c)):r&&(c.shapeFlag|=Fr(r)?8:16),Hc>0&&!o&&wi&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&wi.push(c),c}const It=vce;function vce(t,e=null,r=null,n=0,a=null,s=!1){if((!t||t===FG)&&(t=ii),Qc(t)){const u=_o(t,e,!0);return r&&tD(u,r),Hc>0&&!s&&wi&&(u.shapeFlag&6?wi[wi.indexOf(t)]=u:wi.push(u)),u.patchFlag|=-2,u}if(Rce(t)&&(t=t.__vccOpts),e){e=wce(e);let{class:u,style:c}=e;u&&!Fr(u)&&(e.class=Vc(u)),fr(c)&&(RG(c)&&!ft(c)&&(c=Mr({},c)),e.style=Mb(c))}const o=Fr(t)?1:BG(t)?128:gce(t)?64:fr(t)?4:At(t)?2:0;return nt(t,e,r,n,a,o,s,!0)}function wce(t){return t?RG(t)||JG(t)?Mr({},t):t:null}function _o(t,e,r=!1){const{props:n,ref:a,patchFlag:s,children:o}=t,u=e?Sce(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&uW(u),ref:e&&e.ref?r&&a?ft(a)?a.concat(ww(e)):[a,ww(e)]:ww(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Kr?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&_o(t.ssContent),ssFallback:t.ssFallback&&_o(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ya(t=" ",e=0){return It(jd,null,t,e)}function r5e(t,e){const r=It(bd,null,t);return r.staticCount=e,r}function Da(t="",e=!1){return e?(rr(),eD(ii,null,t)):It(ii,null,t)}function Di(t){return t==null||typeof t=="boolean"?It(ii):ft(t)?It(Kr,null,t.slice()):typeof t=="object"?Ko(t):It(jd,null,String(t))}function Ko(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:_o(t)}function tD(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ft(e))r=16;else if(typeof e=="object")if(n&65){const a=e.default;a&&(a._c&&(a._d=!1),tD(t,a()),a._c&&(a._d=!0));return}else{r=32;const a=e._;!a&&!JG(e)?e._ctx=tn:a===3&&tn&&(tn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else At(e)?(e={default:e,_ctx:tn},r=32):(e=String(e),n&64?(r=16,e=[Ya(e)]):r=8);t.children=e,t.shapeFlag|=r}function Sce(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const a in n)if(a==="class")e.class!==n.class&&(e.class=Vc([e.class,n.class]));else if(a==="style")e.style=Mb([e.style,n.style]);else if(jb(a)){const s=e[a],o=n[a];o&&s!==o&&!(ft(s)&&s.includes(o))&&(e[a]=s?[].concat(s,o):o)}else a!==""&&(e[a]=n[a])}return e}function mi(t,e,r,n=null){sa(t,e,7,[r,n])}const Tce=WG();let Ece=0;function cW(t,e,r){const n=t.type,a=(e?e.appContext:t.appContext)||Tce,s={uid:Ece++,vnode:t,type:n,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new uG(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:YG(n,a),emitsOptions:MG(n,a),emit:null,emitted:null,propsDefaults:sr,inheritAttrs:n.inheritAttrs,ctx:sr,data:sr,props:sr,attrs:sr,slots:sr,refs:sr,setupState:sr,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=_ue.bind(null,s),t.ce&&t.ce(s),s}let fn=null;const Ou=()=>fn||tn;let uS,QI;{const t=aG(),e=(r,n)=>{let a;return(a=t[r])||(a=t[r]=[]),a.push(n),s=>{a.length>1?a.forEach(o=>o(s)):a[0](s)}};uS=e("__VUE_INSTANCE_SETTERS__",r=>fn=r),QI=e("__VUE_SSR_SETTERS__",r=>Ub=r)}const zc=t=>{const e=fn;return uS(t),t.scope.on(),()=>{t.scope.off(),uS(e)}},zI=()=>{fn&&fn.scope.off(),uS(null)};function lW(t){return t.vnode.shapeFlag&4}let Ub=!1;function dW(t,e=!1){e&&QI(e);const{props:r,children:n}=t.vnode,a=lW(t);sce(t,r,a,e),cce(t,n);const s=a?Ace(t,e):void 0;return e&&QI(!1),s}function Ace(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,qI);const{setup:n}=r;if(n){const a=t.setupContext=n.length>1?hW(t):null,s=zc(t);Eu();const o=au(n,t,0,[t.props,a]);if(Au(),s(),LN(o)){if(o.then(zI,zI),e)return o.then(u=>{GI(t,u,e)}).catch(u=>{uf(u,t,0)});t.asyncDep=o}else GI(t,o,e)}else fW(t,e)}function GI(t,e,r){At(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:fr(e)&&(t.setupState=PG(e)),fW(t,r)}let cS,WI;function n5e(t){cS=t,WI=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Xue))}}const i5e=()=>!cS;function fW(t,e,r){const n=t.type;if(!t.render){if(!e&&cS&&!n.render){const a=n.template||XN(t).template;if(a){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:u,compilerOptions:c}=n,l=Mr(Mr({isCustomElement:s,delimiters:u},o),c);n.render=cS(a,l)}}t.render=n.render||vi,WI&&WI(t)}{const a=zc(t);Eu();try{Yue(t)}finally{Au(),a()}}}const Oce={get(t,e){return Ei(t,"get",""),t[e]}};function hW(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,Oce),slots:t.slots,emit:t.emit,expose:e}}function i2(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(PG(qN(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in q_)return q_[r](t)},has(e,r){return r in e||r in q_}}))}function KI(t,e=!0){return At(t)?t.displayName||t.name:t.name||e&&t.__name}function Rce(t){return At(t)&&"__vccOpts"in t}const Zi=(t,e)=>iue(t,e,Ub);function a5e(t,e,r=sr){const n=Ou(),a=Si(e),s=Ci(e),o=cue((c,l)=>{let d;return jue(()=>{const f=t[e];ja(d,f)&&(d=f,l())}),{get(){return c(),r.get?r.get(d):d},set(f){const h=n.vnode.props;!(h&&(e in h||a in h||s in h)&&(`onUpdate:${e}`in h||`onUpdate:${a}`in h||`onUpdate:${s}`in h))&&ja(f,d)&&(d=f,l()),n.emit(`update:${e}`,r.set?r.set(f):f)}}}),u=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return o[Symbol.iterator]=()=>{let c=0;return{next(){return c<2?{value:c++?t[u]||{}:o,done:!1}:{done:!0}}}},o}function a2(t,e,r){const n=arguments.length;return n===2?fr(e)&&!ft(e)?Qc(e)?It(t,null,[e]):It(t,e):It(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Qc(r)&&(r=[r]),It(t,e,r))}function s5e(){}function o5e(t,e,r,n){const a=r[n];if(a&&xce(a,t))return a;const s=e();return s.memo=t.slice(),r[n]=s}function xce(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(ja(r[n],e[n]))return!1;return Hc>0&&wi&&wi.push(t),!0}const Ice="3.4.23",u5e=vi,c5e=hue,l5e=Wl,d5e=jG,Pce={createComponentInstance:cW,setupComponent:dW,renderComponentRoot:bw,setCurrentRenderingInstance:ob,isVNode:Qc,normalizeVNode:Di},f5e=Pce,h5e=null,p5e=null,y5e=null;/**
* @vue/runtime-dom v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Nce="http://www.w3.org/2000/svg",Dce="http://www.w3.org/1998/Math/MathML",Jo=typeof document<"u"?document:null,aL=Jo&&Jo.createElement("template"),Cce={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const a=e==="svg"?Jo.createElementNS(Nce,t):e==="mathml"?Jo.createElementNS(Dce,t):Jo.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:t=>Jo.createTextNode(t),createComment:t=>Jo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Jo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,a,s){const o=r?r.previousSibling:e.lastChild;if(a&&(a===s||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),r),!(a===s||!(a=a.nextSibling)););else{aL.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const u=aL.content;if(n==="svg"||n==="mathml"){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}e.insertBefore(u,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Mo="transition",Gf="animation",Md=Symbol("_vtc"),pW=(t,{slots:e})=>a2(Bue,mW(t),e);pW.displayName="Transition";const yW={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Lce=pW.props=Mr({},kG,yW),Gu=(t,e=[])=>{ft(t)?t.forEach(r=>r(...e)):t&&t(...e)},sL=t=>t?ft(t)?t.some(e=>e.length>1):t.length>1:!1;function mW(t){const e={};for(const N in t)N in yW||(e[N]=t[N]);if(t.css===!1)return e;const{name:r="v",type:n,duration:a,enterFromClass:s=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:u=`${r}-enter-to`,appearFromClass:c=s,appearActiveClass:l=o,appearToClass:d=u,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=t,m=jce(a),y=m&&m[0],g=m&&m[1],{onBeforeEnter:b,onEnter:v,onEnterCancelled:_,onLeave:w,onLeaveCancelled:E,onBeforeAppear:O=b,onAppear:L=v,onAppearCancelled:F=_}=e,x=(N,V,$)=>{Uo(N,V?d:u),Uo(N,V?l:o),$&&$()},P=(N,V)=>{N._isLeaving=!1,Uo(N,f),Uo(N,p),Uo(N,h),V&&V()},j=N=>(V,$)=>{const q=N?L:v,H=()=>x(V,N,$);Gu(q,[V,H]),oL(()=>{Uo(V,N?c:s),Gs(V,N?d:u),sL(q)||uL(V,n,y,H)})};return Mr(e,{onBeforeEnter(N){Gu(b,[N]),Gs(N,s),Gs(N,o)},onBeforeAppear(N){Gu(O,[N]),Gs(N,c),Gs(N,l)},onEnter:j(!1),onAppear:j(!0),onLeave(N,V){N._isLeaving=!0;const $=()=>P(N,V);Gs(N,f),_W(),Gs(N,h),oL(()=>{N._isLeaving&&(Uo(N,f),Gs(N,p),sL(w)||uL(N,n,g,$))}),Gu(w,[N,$])},onEnterCancelled(N){x(N,!1),Gu(_,[N])},onAppearCancelled(N){x(N,!0),Gu(F,[N])},onLeaveCancelled(N){P(N),Gu(E,[N])}})}function jce(t){if(t==null)return null;if(fr(t))return[BE(t.enter),BE(t.leave)];{const e=BE(t);return[e,e]}}function BE(t){return rS(t)}function Gs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Md]||(t[Md]=new Set)).add(e)}function Uo(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Md];r&&(r.delete(e),r.size||(t[Md]=void 0))}function oL(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Mce=0;function uL(t,e,r,n){const a=t._endId=++Mce,s=()=>{a===t._endId&&n()};if(r)return setTimeout(s,r);const{type:o,timeout:u,propCount:c}=gW(t,e);if(!o)return n();const l=o+"end";let d=0;const f=()=>{t.removeEventListener(l,h),s()},h=p=>{p.target===t&&++d>=c&&f()};setTimeout(()=>{d<c&&f()},u+1),t.addEventListener(l,h)}function gW(t,e){const r=window.getComputedStyle(t),n=m=>(r[m]||"").split(", "),a=n(`${Mo}Delay`),s=n(`${Mo}Duration`),o=cL(a,s),u=n(`${Gf}Delay`),c=n(`${Gf}Duration`),l=cL(u,c);let d=null,f=0,h=0;e===Mo?o>0&&(d=Mo,f=o,h=s.length):e===Gf?l>0&&(d=Gf,f=l,h=c.length):(f=Math.max(o,l),d=f>0?o>l?Mo:Gf:null,h=d?d===Mo?s.length:c.length:0);const p=d===Mo&&/\b(transform|all)(,|$)/.test(n(`${Mo}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:p}}function cL(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>lL(r)+lL(t[n])))}function lL(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function _W(){return document.body.offsetHeight}function Fce(t,e,r){const n=t[Md];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const lS=Symbol("_vod"),bW=Symbol("_vsh"),Bce={beforeMount(t,{value:e},{transition:r}){t[lS]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Wf(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Wf(t,!0),n.enter(t)):n.leave(t,()=>{Wf(t,!1)}):Wf(t,e))},beforeUnmount(t,{value:e}){Wf(t,e)}};function Wf(t,e){t.style.display=e?t[lS]:"none",t[bW]=!e}function qce(){Bce.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const vW=Symbol("");function m5e(t){const e=Ou();if(!e)return;const r=e.ut=(a=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>XI(s,a))},n=()=>{const a=t(e.proxy);JI(e.subTree,a),r(a)};n2(()=>{Lue(n);const a=new MutationObserver(n);a.observe(e.subTree.el.parentNode,{childList:!0}),JN(()=>a.disconnect())})}function JI(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{JI(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)XI(t.el,e);else if(t.type===Kr)t.children.forEach(r=>JI(r,e));else if(t.type===bd){let{el:r,anchor:n}=t;for(;r&&(XI(r,e),r!==n);)r=r.nextSibling}}function XI(t,e){if(t.nodeType===1){const r=t.style;let n="";for(const a in e)r.setProperty(`--${a}`,e[a]),n+=`--${a}: ${e[a]};`;r[vW]=n}}const $ce=/(^|;)\s*display\s*:/;function Uce(t,e,r){const n=t.style,a=Fr(r);let s=!1;if(r&&!a){if(e)if(Fr(e))for(const o of e.split(";")){const u=o.slice(0,o.indexOf(":")).trim();r[u]==null&&Sw(n,u,"")}else for(const o in e)r[o]==null&&Sw(n,o,"");for(const o in r)o==="display"&&(s=!0),Sw(n,o,r[o])}else if(a){if(e!==r){const o=n[vW];o&&(r+=";"+o),n.cssText=r,s=$ce.test(r)}}else e&&t.removeAttribute("style");lS in t&&(t[lS]=s?n.display:"",t[bW]&&(n.display="none"))}const dL=/\s*!important$/;function Sw(t,e,r){if(ft(r))r.forEach(n=>Sw(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=kce(t,e);dL.test(r)?t.setProperty(Ci(n),r.replace(dL,""),"important"):t[n]=r}}const fL=["Webkit","Moz","ms"],qE={};function kce(t,e){const r=qE[e];if(r)return r;let n=Si(e);if(n!=="filter"&&n in t)return qE[e]=n;n=GS(n);for(let a=0;a<fL.length;a++){const s=fL[a]+n;if(s in t)return qE[e]=s}return e}const hL="http://www.w3.org/1999/xlink";function Vce(t,e,r,n,a){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(hL,e.slice(6,e.length)):t.setAttributeNS(hL,e,r);else{const s=joe(e);r==null||s&&!sG(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function Hce(t,e,r,n,a,s,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,a,s),t[e]=r??"";return}const u=t.tagName;if(e==="value"&&u!=="PROGRESS"&&!u.includes("-")){const l=u==="OPTION"?t.getAttribute("value")||"":t.value,d=r??"";(l!==d||!("_value"in t))&&(t.value=d),r==null&&t.removeAttribute(e),t._value=r;return}let c=!1;if(r===""||r==null){const l=typeof t[e];l==="boolean"?r=sG(r):r==null&&l==="string"?(r="",c=!0):l==="number"&&(r=0,c=!0)}try{t[e]=r}catch{}c&&t.removeAttribute(e)}function no(t,e,r,n){t.addEventListener(e,r,n)}function Qce(t,e,r,n){t.removeEventListener(e,r,n)}const pL=Symbol("_vei");function zce(t,e,r,n,a=null){const s=t[pL]||(t[pL]={}),o=s[e];if(n&&o)o.value=n;else{const[u,c]=Gce(e);if(n){const l=s[e]=Jce(n,a);no(t,u,l,c)}else o&&(Qce(t,u,o,c),s[e]=void 0)}}const yL=/(?:Once|Passive|Capture)$/;function Gce(t){let e;if(yL.test(t)){e={};let n;for(;n=t.match(yL);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ci(t.slice(2)),e]}let $E=0;const Wce=Promise.resolve(),Kce=()=>$E||(Wce.then(()=>$E=0),$E=Date.now());function Jce(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;sa(Xce(n,r.value),e,5,[n])};return r.value=t,r.attached=Kce(),r}function Xce(t,e){if(ft(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>a=>!a._stopped&&n&&n(a))}else return e}const mL=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Yce=(t,e,r,n,a,s,o,u,c)=>{const l=a==="svg";e==="class"?Fce(t,n,l):e==="style"?Uce(t,r,n):jb(e)?DN(e)||zce(t,e,r,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Zce(t,e,n,l))?Hce(t,e,n,s,o,u,c):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Vce(t,e,n,l))};function Zce(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&mL(e)&&At(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const a=t.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return mL(e)&&Fr(r)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function ele(t,e){const r=t2(t);class n extends rD{constructor(s){super(r,s,e)}}return n.def=r,n}/*! #__NO_SIDE_EFFECTS__ */const g5e=t=>ele(t,ple),tle=typeof HTMLElement<"u"?HTMLElement:class{};class rD extends tle{constructor(e,r={},n){super(),this._def=e,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Bb(()=>{this._connected||(SL(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(n=>{for(const a of n)this._setAttr(a.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(n,a=!1)=>{const{props:s,styles:o}=n;let u;if(s&&!ft(s))for(const c in s){const l=s[c];(l===Number||l&&l.type===Number)&&(c in this._props&&(this._props[c]=rS(this._props[c])),(u||(u=Object.create(null)))[Si(c)]=!0)}this._numberProps=u,a&&this._resolveProps(n),this._applyStyles(o),this._update()},r=this._def.__asyncLoader;r?r().then(n=>e(n,!0)):e(this._def)}_resolveProps(e){const{props:r}=e,n=ft(r)?r:Object.keys(r||{});for(const a of Object.keys(this))a[0]!=="_"&&n.includes(a)&&this._setProp(a,this[a],!0,!1);for(const a of n.map(Si))Object.defineProperty(this,a,{get(){return this._getProp(a)},set(s){this._setProp(a,s)}})}_setAttr(e){let r=this.hasAttribute(e)?this.getAttribute(e):void 0;const n=Si(e);this._numberProps&&this._numberProps[n]&&(r=rS(r)),this._setProp(n,r,!1)}_getProp(e){return this._props[e]}_setProp(e,r,n=!0,a=!0){r!==this._props[e]&&(this._props[e]=r,a&&this._instance&&this._update(),n&&(r===!0?this.setAttribute(Ci(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Ci(e),r+""):r||this.removeAttribute(Ci(e))))}_update(){SL(this._createVNode(),this.shadowRoot)}_createVNode(){const e=It(this._def,Mr({},this._props));return this._instance||(e.ce=r=>{this._instance=r,r.isCE=!0;const n=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};r.emit=(s,...o)=>{n(s,o),Ci(s)!==s&&n(Ci(s),o)};let a=this;for(;a=a&&(a.parentNode||a.host);)if(a instanceof rD){r.parent=a._instance,r.provides=a._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(r=>{const n=document.createElement("style");n.textContent=r,this.shadowRoot.appendChild(n)})}}function _5e(t="$style"){{const e=Ou();if(!e)return sr;const r=e.type.__cssModules;if(!r)return sr;const n=r[t];return n||sr}}const wW=new WeakMap,SW=new WeakMap,dS=Symbol("_moveCb"),gL=Symbol("_enterCb"),TW={name:"TransitionGroup",props:Mr({},Lce,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=Ou(),n=UG();let a,s;return WN(()=>{if(!a.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!sle(a[0].el,r.vnode.el,o))return;a.forEach(nle),a.forEach(ile);const u=a.filter(ale);_W(),u.forEach(c=>{const l=c.el,d=l.style;Gs(l,o),d.transform=d.webkitTransform=d.transitionDuration="";const f=l[dS]=h=>{h&&h.target!==l||(!h||/transform$/.test(h.propertyName))&&(l.removeEventListener("transitionend",f),l[dS]=null,Uo(l,o))};l.addEventListener("transitionend",f)})}),()=>{const o=Qt(t),u=mW(o);let c=o.tag||Kr;if(a=[],s)for(let l=0;l<s.length;l++){const d=s[l];d.el&&d.el instanceof Element&&(a.push(d),Ld(d,cb(d,u,n,r)),wW.set(d,d.el.getBoundingClientRect()))}s=e.default?GN(e.default()):[];for(let l=0;l<s.length;l++){const d=s[l];d.key!=null&&Ld(d,cb(d,u,n,r))}return It(c,null,s)}}},rle=t=>delete t.mode;TW.props;const b5e=TW;function nle(t){const e=t.el;e[dS]&&e[dS](),e[gL]&&e[gL]()}function ile(t){SW.set(t,t.el.getBoundingClientRect())}function ale(t){const e=wW.get(t),r=SW.get(t),n=e.left-r.left,a=e.top-r.top;if(n||a){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${n}px,${a}px)`,s.transitionDuration="0s",t}}function sle(t,e,r){const n=t.cloneNode(),a=t[Md];a&&a.forEach(u=>{u.split(/\s+/).forEach(c=>c&&n.classList.remove(c))}),r.split(/\s+/).forEach(u=>u&&n.classList.add(u)),n.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(n);const{hasTransform:o}=gW(n);return s.removeChild(n),o}const yu=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ft(e)?r=>hd(e,r):e};function ole(t){t.target.composing=!0}function _L(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const oa=Symbol("_assign"),ea={created(t,{modifiers:{lazy:e,trim:r,number:n}},a){t[oa]=yu(a);const s=n||a.props&&a.props.type==="number";no(t,e?"change":"input",o=>{if(o.target.composing)return;let u=t.value;r&&(u=u.trim()),s&&(u=tS(u)),t[oa](u)}),r&&no(t,"change",()=>{t.value=t.value.trim()}),e||(no(t,"compositionstart",ole),no(t,"compositionend",_L),no(t,"change",_L))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:a}},s){if(t[oa]=yu(s),t.composing)return;const o=(a||t.type==="number")&&!/^0\d/.test(t.value)?tS(t.value):t.value,u=e??"";o!==u&&(document.activeElement===t&&t.type!=="range"&&(r||n&&t.value.trim()===u)||(t.value=u))}},EW={deep:!0,created(t,e,r){t[oa]=yu(r),no(t,"change",()=>{const n=t._modelValue,a=Fd(t),s=t.checked,o=t[oa];if(ft(n)){const u=WS(n,a),c=u!==-1;if(s&&!c)o(n.concat(a));else if(!s&&c){const l=[...n];l.splice(u,1),o(l)}}else if(sl(n)){const u=new Set(n);s?u.add(a):u.delete(a),o(u)}else o(AW(t,s))})},mounted:bL,beforeUpdate(t,e,r){t[oa]=yu(r),bL(t,e,r)}};function bL(t,{value:e,oldValue:r},n){t._modelValue=e,ft(e)?t.checked=WS(e,n.props.value)>-1:sl(e)?t.checked=e.has(n.props.value):e!==r&&(t.checked=pu(e,AW(t,!0)))}const k_={created(t,{value:e},r){t.checked=pu(e,r.props.value),t[oa]=yu(r),no(t,"change",()=>{t[oa](Fd(t))})},beforeUpdate(t,{value:e,oldValue:r},n){t[oa]=yu(n),e!==r&&(t.checked=pu(e,n.props.value))}},ule={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const a=sl(e);no(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?tS(Fd(o)):Fd(o));t[oa](t.multiple?a?new Set(s):s:s[0]),t._assigning=!0,Bb(()=>{t._assigning=!1})}),t[oa]=yu(n)},mounted(t,{value:e,modifiers:{number:r}}){vL(t,e)},beforeUpdate(t,e,r){t[oa]=yu(r)},updated(t,{value:e,modifiers:{number:r}}){t._assigning||vL(t,e)}};function vL(t,e,r){const n=t.multiple,a=ft(e);if(!(n&&!a&&!sl(e))){for(let s=0,o=t.options.length;s<o;s++){const u=t.options[s],c=Fd(u);if(n)if(a){const l=typeof c;l==="string"||l==="number"?u.selected=e.some(d=>String(d)===String(c)):u.selected=WS(e,c)>-1}else u.selected=e.has(c);else if(pu(Fd(u),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Fd(t){return"_value"in t?t._value:t.value}function AW(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const cle={created(t,e,r){vv(t,e,r,null,"created")},mounted(t,e,r){vv(t,e,r,null,"mounted")},beforeUpdate(t,e,r,n){vv(t,e,r,n,"beforeUpdate")},updated(t,e,r,n){vv(t,e,r,n,"updated")}};function OW(t,e){switch(t){case"SELECT":return ule;case"TEXTAREA":return ea;default:switch(e){case"checkbox":return EW;case"radio":return k_;default:return ea}}}function vv(t,e,r,n,a){const o=OW(t.tagName,r.props&&r.props.type)[a];o&&o(t,e,r,n)}function lle(){ea.getSSRProps=({value:t})=>({value:t}),k_.getSSRProps=({value:t},e)=>{if(e.props&&pu(e.props.value,t))return{checked:!0}},EW.getSSRProps=({value:t},e)=>{if(ft(t)){if(e.props&&WS(t,e.props.value)>-1)return{checked:!0}}else if(sl(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},cle.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=OW(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const dle=["ctrl","shift","alt","meta"],fle={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>dle.some(r=>t[`${r}Key`]&&!e.includes(r))},v5e=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(a,...s)=>{for(let o=0;o<e.length;o++){const u=fle[e[o]];if(u&&u(a,e))return}return t(a,...s)})},hle={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},w5e=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=a=>{if(!("key"in a))return;const s=Ci(a.key);if(e.some(o=>o===s||hle[o]===s))return t(a)})},RW=Mr({patchProp:Yce},Cce);let V_,wL=!1;function xW(){return V_||(V_=pce(RW))}function IW(){return V_=wL?V_:yce(RW),wL=!0,V_}const SL=(...t)=>{xW().render(...t)},ple=(...t)=>{IW().hydrate(...t)},yle=(...t)=>{const e=xW().createApp(...t),{mount:r}=e;return e.mount=n=>{const a=NW(n);if(!a)return;const s=e._component;!At(s)&&!s.render&&!s.template&&(s.template=a.innerHTML),a.innerHTML="";const o=r(a,!1,PW(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},e},S5e=(...t)=>{const e=IW().createApp(...t),{mount:r}=e;return e.mount=n=>{const a=NW(n);if(a)return r(a,!0,PW(a))},e};function PW(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function NW(t){return Fr(t)?document.querySelector(t):t}let TL=!1;const T5e=()=>{TL||(TL=!0,lle(),qce())};var mle=!1;let DW;const s2=t=>DW=t,CW=Symbol();function YI(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var H_;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(H_||(H_={}));function gle(){const t=cG(!0),e=t.run(()=>ho({}));let r=[],n=[];const a=qN({install(s){s2(a),a._a=s,s.provide(CW,a),s.config.globalProperties.$pinia=a,n.forEach(o=>r.push(o)),n=[]},use(s){return!this._a&&!mle?n.push(s):r.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return a}const LW=()=>{};function EL(t,e,r,n=LW){t.push(e);const a=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&dG()&&Foe(a),a}function Cl(t,...e){t.slice().forEach(r=>{r(...e)})}const _le=t=>t();function ZI(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,n)=>t.set(n,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],a=t[r];YI(a)&&YI(n)&&t.hasOwnProperty(r)&&!nn(n)&&!Fc(n)?t[r]=ZI(a,n):t[r]=n}return t}const ble=Symbol();function vle(t){return!YI(t)||!t.hasOwnProperty(ble)}const{assign:ko}=Object;function wle(t){return!!(nn(t)&&t.effect)}function Sle(t,e,r,n){const{state:a,actions:s,getters:o}=e,u=r.state.value[t];let c;function l(){u||(r.state.value[t]=a?a():{});const d=lue(r.state.value[t]);return ko(d,s,Object.keys(o||{}).reduce((f,h)=>(f[h]=qN(Zi(()=>{s2(r);const p=r._s.get(t);return o[h].call(p,p)})),f),{}))}return c=jW(t,l,e,r,n,!0),c}function jW(t,e,r={},n,a,s){let o;const u=ko({actions:{}},r),c={deep:!0};let l,d,f=[],h=[],p;const m=n.state.value[t];!s&&!m&&(n.state.value[t]={}),ho({});let y;function g(F){let x;l=d=!1,typeof F=="function"?(F(n.state.value[t]),x={type:H_.patchFunction,storeId:t,events:p}):(ZI(n.state.value[t],F),x={type:H_.patchObject,payload:F,storeId:t,events:p});const P=y=Symbol();Bb().then(()=>{y===P&&(l=!0)}),d=!0,Cl(f,x,n.state.value[t])}const b=s?function(){const{state:x}=r,P=x?x():{};this.$patch(j=>{ko(j,P)})}:LW;function v(){o.stop(),f=[],h=[],n._s.delete(t)}function _(F,x){return function(){s2(n);const P=Array.from(arguments),j=[],N=[];function V(H){j.push(H)}function $(H){N.push(H)}Cl(h,{args:P,name:F,store:E,after:V,onError:$});let q;try{q=x.apply(this&&this.$id===t?this:E,P)}catch(H){throw Cl(N,H),H}return q instanceof Promise?q.then(H=>(Cl(j,H),H)).catch(H=>(Cl(N,H),Promise.reject(H))):(Cl(j,q),q)}}const w={_p:n,$id:t,$onAction:EL.bind(null,h),$patch:g,$reset:b,$subscribe(F,x={}){const P=EL(f,F,x.detached,()=>j()),j=o.run(()=>gd(()=>n.state.value[t],N=>{(x.flush==="sync"?d:l)&&F({storeId:t,type:H_.direct,events:p},N)},ko({},c,x)));return P},$dispose:v},E=Fb(w);n._s.set(t,E);const L=(n._a&&n._a.runWithContext||_le)(()=>n._e.run(()=>(o=cG()).run(e)));for(const F in L){const x=L[F];if(nn(x)&&!wle(x)||Fc(x))s||(m&&vle(x)&&(nn(x)?x.value=m[F]:ZI(x,m[F])),n.state.value[t][F]=x);else if(typeof x=="function"){const P=_(F,x);L[F]=P,u.actions[F]=x}}return ko(E,L),ko(Qt(E),L),Object.defineProperty(E,"$state",{get:()=>n.state.value[t],set:F=>{g(x=>{ko(x,F)})}}),n._p.forEach(F=>{ko(E,o.run(()=>F({store:E,app:n._a,pinia:n,options:u})))}),m&&s&&r.hydrate&&r.hydrate(E.$state,m),l=!0,d=!0,E}function nD(t,e,r){let n,a;const s=typeof e=="function";typeof t=="string"?(n=t,a=s?r:e):(a=t,n=t.id);function o(u,c){const l=ace();return u=u||(l?ls(CW,null):null),u&&s2(u),u=DW,u._s.has(n)||(s?jW(n,e,a,u):Sle(n,a,u)),u._s.get(n)}return o.$id=n,o}function fS(t,e){return Array.isArray(e)?e.reduce((r,n)=>(r[n]=function(){return t(this.$pinia)[n]},r),{}):Object.keys(e).reduce((r,n)=>(r[n]=function(){const a=t(this.$pinia),s=e[n];return typeof s=="function"?s.call(this,a):a[s]},r),{})}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Kl=typeof document<"u";function Tle(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ar=Object.assign;function UE(t,e){const r={};for(const n in e){const a=e[n];r[n]=Ma(a)?a.map(t):t(a)}return r}const Q_=()=>{},Ma=Array.isArray,MW=/#/g,Ele=/&/g,Ale=/\//g,Ole=/=/g,Rle=/\?/g,FW=/\+/g,xle=/%5B/g,Ile=/%5D/g,BW=/%5E/g,Ple=/%60/g,qW=/%7B/g,Nle=/%7C/g,$W=/%7D/g,Dle=/%20/g;function iD(t){return encodeURI(""+t).replace(Nle,"|").replace(xle,"[").replace(Ile,"]")}function Cle(t){return iD(t).replace(qW,"{").replace($W,"}").replace(BW,"^")}function eP(t){return iD(t).replace(FW,"%2B").replace(Dle,"+").replace(MW,"%23").replace(Ele,"%26").replace(Ple,"`").replace(qW,"{").replace($W,"}").replace(BW,"^")}function Lle(t){return eP(t).replace(Ole,"%3D")}function jle(t){return iD(t).replace(MW,"%23").replace(Rle,"%3F")}function Mle(t){return t==null?"":jle(t).replace(Ale,"%2F")}function db(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Fle=/\/$/,Ble=t=>t.replace(Fle,"");function kE(t,e,r="/"){let n,a={},s="",o="";const u=e.indexOf("#");let c=e.indexOf("?");return u<c&&u>=0&&(c=-1),c>-1&&(n=e.slice(0,c),s=e.slice(c+1,u>-1?u:e.length),a=t(s)),u>-1&&(n=n||e.slice(0,u),o=e.slice(u,e.length)),n=kle(n??e,r),{fullPath:n+(s&&"?")+s+o,path:n,query:a,hash:db(o)}}function qle(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function AL(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function $le(t,e,r){const n=e.matched.length-1,a=r.matched.length-1;return n>-1&&n===a&&Bd(e.matched[n],r.matched[a])&&UW(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Bd(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function UW(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Ule(t[r],e[r]))return!1;return!0}function Ule(t,e){return Ma(t)?OL(t,e):Ma(e)?OL(e,t):t===e}function OL(t,e){return Ma(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function kle(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),a=n[n.length-1];(a===".."||a===".")&&n.push("");let s=r.length-1,o,u;for(o=0;o<n.length;o++)if(u=n[o],u!==".")if(u==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(o).join("/")}var fb;(function(t){t.pop="pop",t.push="push"})(fb||(fb={}));var z_;(function(t){t.back="back",t.forward="forward",t.unknown=""})(z_||(z_={}));function Vle(t){if(!t)if(Kl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Ble(t)}const Hle=/^[^#]+#/;function Qle(t,e){return t.replace(Hle,"#")+e}function zle(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const o2=()=>({left:window.scrollX,top:window.scrollY});function Gle(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;e=zle(a,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function RL(t,e){return(history.state?history.state.position-e:-1)+t}const tP=new Map;function Wle(t,e){tP.set(t,e)}function Kle(t){const e=tP.get(t);return tP.delete(t),e}let Jle=()=>location.protocol+"//"+location.host;function kW(t,e){const{pathname:r,search:n,hash:a}=e,s=t.indexOf("#");if(s>-1){let u=a.includes(t.slice(s))?t.slice(s).length:1,c=a.slice(u);return c[0]!=="/"&&(c="/"+c),AL(c,"")}return AL(r,t)+n+a}function Xle(t,e,r,n){let a=[],s=[],o=null;const u=({state:h})=>{const p=kW(t,location),m=r.value,y=e.value;let g=0;if(h){if(r.value=p,e.value=h,o&&o===m){o=null;return}g=y?h.position-y.position:0}else n(p);a.forEach(b=>{b(r.value,m,{delta:g,type:fb.pop,direction:g?g>0?z_.forward:z_.back:z_.unknown})})};function c(){o=r.value}function l(h){a.push(h);const p=()=>{const m=a.indexOf(h);m>-1&&a.splice(m,1)};return s.push(p),p}function d(){const{history:h}=window;h.state&&h.replaceState(ar({},h.state,{scroll:o2()}),"")}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:l,destroy:f}}function xL(t,e,r,n=!1,a=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:a?o2():null}}function Yle(t){const{history:e,location:r}=window,n={value:kW(t,r)},a={value:e.state};a.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,l,d){const f=t.indexOf("#"),h=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+c:Jle()+t+c;try{e[d?"replaceState":"pushState"](l,"",h),a.value=l}catch(p){console.error(p),r[d?"replace":"assign"](h)}}function o(c,l){const d=ar({},e.state,xL(a.value.back,c,a.value.forward,!0),l,{position:a.value.position});s(c,d,!0),n.value=c}function u(c,l){const d=ar({},a.value,e.state,{forward:c,scroll:o2()});s(d.current,d,!0);const f=ar({},xL(n.value,c,null),{position:d.position+1},l);s(c,f,!1),n.value=c}return{location:n,state:a,push:u,replace:o}}function Zle(t){t=Vle(t);const e=Yle(t),r=Xle(t,e.state,e.location,e.replace);function n(s,o=!0){o||r.pauseListeners(),history.go(s)}const a=ar({location:"",base:t,go:n,createHref:Qle.bind(null,t)},e,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>e.state.value}),a}function ede(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Zle(t)}function tde(t){return typeof t=="string"||t&&typeof t=="object"}function VW(t){return typeof t=="string"||typeof t=="symbol"}const Fo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},HW=Symbol("");var IL;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(IL||(IL={}));function qd(t,e){return ar(new Error,{type:t,[HW]:!0},e)}function Bs(t,e){return t instanceof Error&&HW in t&&(e==null||!!(t.type&e))}const PL="[^/]+?",rde={sensitive:!1,strict:!1,start:!0,end:!0},nde=/[.+*?^${}()[\]/\\]/g;function ide(t,e){const r=ar({},rde,e),n=[];let a=r.start?"^":"";const s=[];for(const l of t){const d=l.length?[]:[90];r.strict&&!l.length&&(a+="/");for(let f=0;f<l.length;f++){const h=l[f];let p=40+(r.sensitive?.25:0);if(h.type===0)f||(a+="/"),a+=h.value.replace(nde,"\\$&"),p+=40;else if(h.type===1){const{value:m,repeatable:y,optional:g,regexp:b}=h;s.push({name:m,repeatable:y,optional:g});const v=b||PL;if(v!==PL){p+=10;try{new RegExp(`(${v})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${m}" (${v}): `+w.message)}}let _=y?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;f||(_=g&&l.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),a+=_,p+=20,g&&(p+=-8),y&&(p+=-20),v===".*"&&(p+=-50)}d.push(p)}n.push(d)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");const o=new RegExp(a,r.sensitive?"":"i");function u(l){const d=l.match(o),f={};if(!d)return null;for(let h=1;h<d.length;h++){const p=d[h]||"",m=s[h-1];f[m.name]=p&&m.repeatable?p.split("/"):p}return f}function c(l){let d="",f=!1;for(const h of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const p of h)if(p.type===0)d+=p.value;else if(p.type===1){const{value:m,repeatable:y,optional:g}=p,b=m in l?l[m]:"";if(Ma(b)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const v=Ma(b)?b.join("/"):b;if(!v)if(g)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);d+=v}}return d||"/"}return{re:o,score:n,keys:s,parse:u,stringify:c}}function ade(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function sde(t,e){let r=0;const n=t.score,a=e.score;for(;r<n.length&&r<a.length;){const s=ade(n[r],a[r]);if(s)return s;r++}if(Math.abs(a.length-n.length)===1){if(NL(n))return 1;if(NL(a))return-1}return a.length-n.length}function NL(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ode={type:0,value:""},ude=/[a-zA-Z0-9_]/;function cde(t){if(!t)return[[]];if(t==="/")return[[ode]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${r})/"${l}": ${p}`)}let r=0,n=r;const a=[];let s;function o(){s&&a.push(s),s=[]}let u=0,c,l="",d="";function f(){l&&(r===0?s.push({type:0,value:l}):r===1||r===2||r===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:l,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function h(){l+=c}for(;u<t.length;){if(c=t[u++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),r=1):h();break;case 4:h(),r=n;break;case 1:c==="("?r=2:ude.test(c)?h():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&u--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:r=3:d+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&u--,d="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),o(),a}function lde(t,e,r){const n=ide(cde(t.path),r),a=ar(n,{record:t,parent:e,children:[],alias:[]});return e&&!a.record.aliasOf==!e.record.aliasOf&&e.children.push(a),a}function dde(t,e){const r=[],n=new Map;e=LL({strict:!1,end:!0,sensitive:!1},e);function a(d){return n.get(d)}function s(d,f,h){const p=!h,m=fde(d);m.aliasOf=h&&h.record;const y=LL(e,d),g=[m];if("alias"in d){const _=typeof d.alias=="string"?[d.alias]:d.alias;for(const w of _)g.push(ar({},m,{components:h?h.record.components:m.components,path:w,aliasOf:h?h.record:m}))}let b,v;for(const _ of g){const{path:w}=_;if(f&&w[0]!=="/"){const E=f.record.path,O=E[E.length-1]==="/"?"":"/";_.path=f.record.path+(w&&O+w)}if(b=lde(_,f,y),h?h.alias.push(b):(v=v||b,v!==b&&v.alias.push(b),p&&d.name&&!CL(b)&&o(d.name)),m.children){const E=m.children;for(let O=0;O<E.length;O++)s(E[O],b,h&&h.children[O])}h=h||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&c(b)}return v?()=>{o(v)}:Q_}function o(d){if(VW(d)){const f=n.get(d);f&&(n.delete(d),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(d);f>-1&&(r.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function u(){return r}function c(d){let f=0;for(;f<r.length&&sde(d,r[f])>=0&&(d.record.path!==r[f].record.path||!QW(d,r[f]));)f++;r.splice(f,0,d),d.record.name&&!CL(d)&&n.set(d.record.name,d)}function l(d,f){let h,p={},m,y;if("name"in d&&d.name){if(h=n.get(d.name),!h)throw qd(1,{location:d});y=h.record.name,p=ar(DL(f.params,h.keys.filter(v=>!v.optional).concat(h.parent?h.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),d.params&&DL(d.params,h.keys.map(v=>v.name))),m=h.stringify(p)}else if(d.path!=null)m=d.path,h=r.find(v=>v.re.test(m)),h&&(p=h.parse(m),y=h.record.name);else{if(h=f.name?n.get(f.name):r.find(v=>v.re.test(f.path)),!h)throw qd(1,{location:d,currentLocation:f});y=h.record.name,p=ar({},f.params,d.params),m=h.stringify(p)}const g=[];let b=h;for(;b;)g.unshift(b.record),b=b.parent;return{name:y,path:m,params:p,matched:g,meta:pde(g)}}return t.forEach(d=>s(d)),{addRoute:s,resolve:l,removeRoute:o,getRoutes:u,getRecordMatcher:a}}function DL(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function fde(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:hde(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function hde(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function CL(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function pde(t){return t.reduce((e,r)=>ar(e,r.meta),{})}function LL(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function QW(t,e){return e.children.some(r=>r===t||QW(t,r))}function yde(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let a=0;a<n.length;++a){const s=n[a].replace(FW," "),o=s.indexOf("="),u=db(o<0?s:s.slice(0,o)),c=o<0?null:db(s.slice(o+1));if(u in e){let l=e[u];Ma(l)||(l=e[u]=[l]),l.push(c)}else e[u]=c}return e}function jL(t){let e="";for(let r in t){const n=t[r];if(r=Lle(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Ma(n)?n.map(s=>s&&eP(s)):[n&&eP(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function mde(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Ma(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return e}const gde=Symbol(""),ML=Symbol(""),aD=Symbol(""),zW=Symbol(""),rP=Symbol("");function Kf(){let t=[];function e(n){return t.push(n),()=>{const a=t.indexOf(n);a>-1&&t.splice(a,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Xo(t,e,r,n,a,s=o=>o()){const o=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((u,c)=>{const l=h=>{h===!1?c(qd(4,{from:r,to:e})):h instanceof Error?c(h):tde(h)?c(qd(2,{from:e,to:h})):(o&&n.enterCallbacks[a]===o&&typeof h=="function"&&o.push(h),u())},d=s(()=>t.call(n&&n.instances[a],e,r,l));let f=Promise.resolve(d);t.length<3&&(f=f.then(l)),f.catch(h=>c(h))})}function VE(t,e,r,n,a=s=>s()){const s=[];for(const o of t)for(const u in o.components){let c=o.components[u];if(!(e!=="beforeRouteEnter"&&!o.instances[u]))if(_de(c)){const d=(c.__vccOpts||c)[e];d&&s.push(Xo(d,r,n,o,u,a))}else{let l=c();s.push(()=>l.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${o.path}"`));const f=Tle(d)?d.default:d;o.components[u]=f;const p=(f.__vccOpts||f)[e];return p&&Xo(p,r,n,o,u,a)()}))}}return s}function _de(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function FL(t){const e=ls(aD),r=ls(zW),n=Zi(()=>{const c=Tr(t.to);return e.resolve(c)}),a=Zi(()=>{const{matched:c}=n.value,{length:l}=c,d=c[l-1],f=r.matched;if(!d||!f.length)return-1;const h=f.findIndex(Bd.bind(null,d));if(h>-1)return h;const p=BL(c[l-2]);return l>1&&BL(d)===p&&f[f.length-1].path!==p?f.findIndex(Bd.bind(null,c[l-2])):h}),s=Zi(()=>a.value>-1&&wde(r.params,n.value.params)),o=Zi(()=>a.value>-1&&a.value===r.matched.length-1&&UW(r.params,n.value.params));function u(c={}){return vde(c)?e[Tr(t.replace)?"replace":"push"](Tr(t.to)).catch(Q_):Promise.resolve()}return{route:n,href:Zi(()=>n.value.href),isActive:s,isExactActive:o,navigate:u}}const bde=t2({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:FL,setup(t,{slots:e}){const r=Fb(FL(t)),{options:n}=ls(aD),a=Zi(()=>({[qL(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[qL(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&e.default(r);return t.custom?s:a2("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},s)}}}),Ws=bde;function vde(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function wde(t,e){for(const r in e){const n=e[r],a=t[r];if(typeof n=="string"){if(n!==a)return!1}else if(!Ma(a)||a.length!==n.length||n.some((s,o)=>s!==a[o]))return!1}return!0}function BL(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const qL=(t,e,r)=>t??e??r,Sde=t2({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=ls(rP),a=Zi(()=>t.route||n.value),s=ls(ML,0),o=Zi(()=>{let l=Tr(s);const{matched:d}=a.value;let f;for(;(f=d[l])&&!f.components;)l++;return l}),u=Zi(()=>a.value.matched[o.value]);vw(ML,Zi(()=>o.value+1)),vw(gde,u),vw(rP,a);const c=ho();return gd(()=>[c.value,u.value,t.name],([l,d,f],[h,p,m])=>{d&&(d.instances[f]=l,p&&p!==d&&l&&l===h&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),l&&d&&(!p||!Bd(d,p)||!h)&&(d.enterCallbacks[f]||[]).forEach(y=>y(l))},{flush:"post"}),()=>{const l=a.value,d=t.name,f=u.value,h=f&&f.components[d];if(!h)return $L(r.default,{Component:h,route:l});const p=f.props[d],m=p?p===!0?l.params:typeof p=="function"?p(l):p:null,g=a2(h,ar({},m,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[d]=null)},ref:c}));return $L(r.default,{Component:g,route:l})||g}}});function $L(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const GW=Sde;function Tde(t){const e=dde(t.routes,t),r=t.parseQuery||yde,n=t.stringifyQuery||jL,a=t.history,s=Kf(),o=Kf(),u=Kf(),c=aue(Fo);let l=Fo;Kl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=UE.bind(null,we=>""+we),f=UE.bind(null,Mle),h=UE.bind(null,db);function p(we,Re){let Se,z;return VW(we)?(Se=e.getRecordMatcher(we),z=Re):z=we,e.addRoute(z,Se)}function m(we){const Re=e.getRecordMatcher(we);Re&&e.removeRoute(Re)}function y(){return e.getRoutes().map(we=>we.record)}function g(we){return!!e.getRecordMatcher(we)}function b(we,Re){if(Re=ar({},Re||c.value),typeof we=="string"){const R=kE(r,we,Re.path),U=e.resolve({path:R.path},Re),G=a.createHref(R.fullPath);return ar(R,U,{params:h(U.params),hash:db(R.hash),redirectedFrom:void 0,href:G})}let Se;if(we.path!=null)Se=ar({},we,{path:kE(r,we.path,Re.path).path});else{const R=ar({},we.params);for(const U in R)R[U]==null&&delete R[U];Se=ar({},we,{params:f(R)}),Re.params=f(Re.params)}const z=e.resolve(Se,Re),M=we.hash||"";z.params=d(h(z.params));const k=qle(n,ar({},we,{hash:Cle(M),path:z.path})),T=a.createHref(k);return ar({fullPath:k,hash:M,query:n===jL?mde(we.query):we.query||{}},z,{redirectedFrom:void 0,href:T})}function v(we){return typeof we=="string"?kE(r,we,c.value.path):ar({},we)}function _(we,Re){if(l!==we)return qd(8,{from:Re,to:we})}function w(we){return L(we)}function E(we){return w(ar(v(we),{replace:!0}))}function O(we){const Re=we.matched[we.matched.length-1];if(Re&&Re.redirect){const{redirect:Se}=Re;let z=typeof Se=="function"?Se(we):Se;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=v(z):{path:z},z.params={}),ar({query:we.query,hash:we.hash,params:z.path!=null?{}:we.params},z)}}function L(we,Re){const Se=l=b(we),z=c.value,M=we.state,k=we.force,T=we.replace===!0,R=O(Se);if(R)return L(ar(v(R),{state:typeof R=="object"?ar({},M,R.state):M,force:k,replace:T}),Re||Se);const U=Se;U.redirectedFrom=Re;let G;return!k&&$le(n,z,Se)&&(G=qd(16,{to:U,from:z}),Ne(z,z,!0,!1)),(G?Promise.resolve(G):P(U,z)).catch(Q=>Bs(Q)?Bs(Q,2)?Q:Te(Q):Y(Q,U,z)).then(Q=>{if(Q){if(Bs(Q,2))return L(ar({replace:T},v(Q.to),{state:typeof Q.to=="object"?ar({},M,Q.to.state):M,force:k}),Re||U)}else Q=N(U,z,!0,T,M);return j(U,z,Q),Q})}function F(we,Re){const Se=_(we,Re);return Se?Promise.reject(Se):Promise.resolve()}function x(we){const Re=ce.values().next().value;return Re&&typeof Re.runWithContext=="function"?Re.runWithContext(we):we()}function P(we,Re){let Se;const[z,M,k]=Ede(we,Re);Se=VE(z.reverse(),"beforeRouteLeave",we,Re);for(const R of z)R.leaveGuards.forEach(U=>{Se.push(Xo(U,we,Re))});const T=F.bind(null,we,Re);return Se.push(T),Pe(Se).then(()=>{Se=[];for(const R of s.list())Se.push(Xo(R,we,Re));return Se.push(T),Pe(Se)}).then(()=>{Se=VE(M,"beforeRouteUpdate",we,Re);for(const R of M)R.updateGuards.forEach(U=>{Se.push(Xo(U,we,Re))});return Se.push(T),Pe(Se)}).then(()=>{Se=[];for(const R of k)if(R.beforeEnter)if(Ma(R.beforeEnter))for(const U of R.beforeEnter)Se.push(Xo(U,we,Re));else Se.push(Xo(R.beforeEnter,we,Re));return Se.push(T),Pe(Se)}).then(()=>(we.matched.forEach(R=>R.enterCallbacks={}),Se=VE(k,"beforeRouteEnter",we,Re,x),Se.push(T),Pe(Se))).then(()=>{Se=[];for(const R of o.list())Se.push(Xo(R,we,Re));return Se.push(T),Pe(Se)}).catch(R=>Bs(R,8)?R:Promise.reject(R))}function j(we,Re,Se){u.list().forEach(z=>x(()=>z(we,Re,Se)))}function N(we,Re,Se,z,M){const k=_(we,Re);if(k)return k;const T=Re===Fo,R=Kl?history.state:{};Se&&(z||T?a.replace(we.fullPath,ar({scroll:T&&R&&R.scroll},M)):a.push(we.fullPath,M)),c.value=we,Ne(we,Re,Se,T),Te()}let V;function $(){V||(V=a.listen((we,Re,Se)=>{if(!xe.listening)return;const z=b(we),M=O(z);if(M){L(ar(M,{replace:!0}),z).catch(Q_);return}l=z;const k=c.value;Kl&&Wle(RL(k.fullPath,Se.delta),o2()),P(z,k).catch(T=>Bs(T,12)?T:Bs(T,2)?(L(T.to,z).then(R=>{Bs(R,20)&&!Se.delta&&Se.type===fb.pop&&a.go(-1,!1)}).catch(Q_),Promise.reject()):(Se.delta&&a.go(-Se.delta,!1),Y(T,z,k))).then(T=>{T=T||N(z,k,!1),T&&(Se.delta&&!Bs(T,8)?a.go(-Se.delta,!1):Se.type===fb.pop&&Bs(T,20)&&a.go(-1,!1)),j(z,k,T)}).catch(Q_)}))}let q=Kf(),H=Kf(),X;function Y(we,Re,Se){Te(we);const z=H.list();return z.length?z.forEach(M=>M(we,Re,Se)):console.error(we),Promise.reject(we)}function he(){return X&&c.value!==Fo?Promise.resolve():new Promise((we,Re)=>{q.add([we,Re])})}function Te(we){return X||(X=!we,$(),q.list().forEach(([Re,Se])=>we?Se(we):Re()),q.reset()),we}function Ne(we,Re,Se,z){const{scrollBehavior:M}=t;if(!Kl||!M)return Promise.resolve();const k=!Se&&Kle(RL(we.fullPath,0))||(z||!Se)&&history.state&&history.state.scroll||null;return Bb().then(()=>M(we,Re,k)).then(T=>T&&Gle(T)).catch(T=>Y(T,we,Re))}const $e=we=>a.go(we);let de;const ce=new Set,xe={currentRoute:c,listening:!0,addRoute:p,removeRoute:m,hasRoute:g,getRoutes:y,resolve:b,options:t,push:w,replace:E,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:s.add,beforeResolve:o.add,afterEach:u.add,onError:H.add,isReady:he,install(we){const Re=this;we.component("RouterLink",Ws),we.component("RouterView",GW),we.config.globalProperties.$router=Re,Object.defineProperty(we.config.globalProperties,"$route",{enumerable:!0,get:()=>Tr(c)}),Kl&&!de&&c.value===Fo&&(de=!0,w(a.location).catch(M=>{}));const Se={};for(const M in Fo)Object.defineProperty(Se,M,{get:()=>c.value[M],enumerable:!0});we.provide(aD,Re),we.provide(zW,AG(Se)),we.provide(rP,c);const z=we.unmount;ce.add(we),we.unmount=function(){ce.delete(we),ce.size<1&&(l=Fo,V&&V(),V=null,c.value=Fo,de=!1,X=!1),z()}}};function Pe(we){return we.reduce((Re,Se)=>Re.then(()=>x(Se)),Promise.resolve())}return xe}function Ede(t,e){const r=[],n=[],a=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const u=e.matched[o];u&&(t.matched.find(l=>Bd(l,u))?n.push(u):r.push(u));const c=t.matched[o];c&&(e.matched.find(l=>Bd(l,c))||a.push(c))}return[r,n,a]}var I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WW(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sD(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var oD={};let u2=class{constructor(){return Ade||this}equals(e){return e&&this.termType===e.termType}};Object.defineProperty(u2.prototype,"value",{enumerable:!0,value:"*"});Object.defineProperty(u2.prototype,"termType",{enumerable:!0,value:"Wildcard"});var Ade=new u2;oD.Wildcard=u2;var Ode=function(){var t=function(Be,je,He,Xe){for(He=He||{},Xe=Be.length;Xe--;He[Be[Xe]]=je);return He},e=[6,12,13,15,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],r=[2,247],n=[100,110,113,115,116,123,126,131,329,330,331,332,333],a=[2,409],s=[1,18],o=[1,27],u=[13,16,45,197,224,229,308],c=[28,29,53],l=[28,53],d=[1,42],f=[1,45],h=[1,41],p=[1,44],m=[123,126],y=[1,67],g=[39,45,87],b=[13,16,45,197,224,308],v=[1,87],_=[2,281],w=[1,86],E=[13,16,45,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],O=[6,28,29,53,63,70,73,81,83,85],L=[6,13,16,28,29,53,63,70,73,81,83,85,87,308],F=[6,13,16,28,29,45,53,63,70,73,81,82,83,85,87,89,197,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314],x=[6,13,16,28,29,31,39,45,47,48,53,63,70,73,81,82,83,85,87,89,109,112,121,123,126,128,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,337,338,340,341,342,343,344,345,346],P=[13,16,308],j=[112,132,327,334],N=[13,16,112,132,308],V=[1,111],$=[1,117],q=[112,132,327,328,334],H=[13,16,112,132,308,328],X=[28,29,45,53,87],Y=[1,138],he=[1,151],Te=[1,128],Ne=[1,127],$e=[1,129],de=[1,140],ce=[1,141],xe=[1,142],Pe=[1,143],we=[1,144],Re=[1,145],Se=[1,147],z=[1,148],M=[2,457],k=[1,158],T=[1,159],R=[1,160],U=[1,152],G=[1,153],Q=[1,156],Z=[1,171],se=[1,172],re=[1,173],le=[1,174],pe=[1,175],_e=[1,176],Ie=[1,167],Ee=[1,168],Me=[1,169],Ce=[1,170],ke=[1,157],qe=[1,166],W=[1,161],D=[1,162],B=[1,163],K=[1,164],ne=[1,165],fe=[6,13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],ge=[1,195],Le=[6,31,73,81,83,85],ee=[2,285],Oe=[1,199],De=[1,201],Ue=[6,31,70,73,81,83,85],Ye=[2,283],ut=[1,207],at=[1,218],ct=[1,223],ht=[1,219],te=[1,225],S=[1,226],A=[1,224],C=[6,63,70,73,81,83,85],J=[1,236],ie=[2,334],be=[1,243],ve=[1,241],Fe=[6,193],Je=[2,349],lt=[2,339],tt=[28,128],Qe=[47,48,193,272],fi=[47,48,193,242,272],et=[47,48,193,242,246,272],Ur=[47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,341,342,343,344,345,346],Xt=[39,47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,338,341,342,343,344,345,346],Gt=[1,271],Dr=[1,270],Ct=[6,13,16,29,31,39,45,47,48,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],Gi=[1,281],Oi=[1,280],or=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],Ps=[45,89],Io=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],Hr=[13,16,31,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],hi=[31,89],un=[48,87],Ri=[6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338],cn=[6,13,16,39,45,48,82,87,89,231,263,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338,340],ba=[1,313],en=[6,85],Ha=[6,31,81,83,85],va=[2,361],kn=[2,353],Nn=[1,343],Po=[31,112,335],wa=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],wl=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335],ue=[6,109,193],ye=[31,112],Ae=[13,16,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],Ze=[1,390],it=[1,391],ot=[13,16,87,197,308,314],Nt=[13,16,39,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],Vt=[1,417],ir=[1,418],Cr=[13,16,48,197,229,308],Zt=[6,31,85],br=[6,13,16,31,45,73,81,83,85,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Vn=[6,13,16,29,31,45,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,231,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,346,347,348,349,350,351],Dn=[29,31,85,112,159,160,161,163,164],_n=[1,443],Hn=[1,444],Sa=[1,449],yn=[31,112,193,232,318,335],Ns=[13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],qu=[13,16,31,45,48,82,87,89,112,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],$u=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Yt=[13,16,31,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],mn=[31,45],Ds=[1,507],No=[1,508],k1=[6,13,16,29,31,39,45,47,48,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,336,338,341,342,343,344,345,346,347,348,349,350,351],V1=[29,31,85,112,159,160,161,163,164,335],Uu=[6,13,16,31,45,70,73,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],N4=[13,16,31,45,48,82,87,89,112,193,197,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],D4=[2,352],eE=[13,16,197,308,314],C4=[1,565],Sl=[6,13,16,31,45,76,78,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],L4=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Cs=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],j4=[13,16,87,308],Ls=[2,364],Tl=[29,31,85,112,159,160,161,163,164,193,232,318,335],H1=[31,112,193,232,272,318,335],js=[2,359],M4=[13,16,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Q1=[29,31,85,112,159,160,161,163,164,193,232,272,318,335],F4=[13,16,31,45,82,87,89,112,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],B4=[2,347],tE={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Query:7,Qry:8,Query_option0:9,Prologue_repetition0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectClauseWildcard:17,Qry_repetition0:18,WhereClause:19,SolutionModifierNoGroup:20,SelectClauseVars:21,Qry_repetition1:22,SolutionModifier:23,CONSTRUCT:24,ConstructTemplate:25,Qry_repetition2:26,Qry_repetition3:27,WHERE:28,"{":29,Qry_option0:30,"}":31,DESCRIBE:32,Qry_group0:33,Qry_repetition4:34,Qry_option1:35,ASK:36,Qry_repetition5:37,SelectClauseBase:38,"*":39,SelectClauseVars_repetition_plus0:40,SELECT:41,SelectClauseBase_option0:42,SelectClauseItem:43,Var:44,"(":45,Expression:46,AS:47,")":48,SubSelect:49,SubSelect_option0:50,SubSelect_option1:51,DatasetClause:52,FROM:53,DatasetClause_option0:54,iri:55,WhereClause_option0:56,GroupGraphPattern:57,SolutionModifier_option0:58,SolutionModifierNoGroup_option0:59,SolutionModifierNoGroup_option1:60,SolutionModifierNoGroup_option2:61,GroupClause:62,GROUP:63,BY:64,GroupClause_repetition_plus0:65,GroupCondition:66,BuiltInCall:67,FunctionCall:68,HavingClause:69,HAVING:70,HavingClause_repetition_plus0:71,OrderClause:72,ORDER:73,OrderClause_repetition_plus0:74,OrderCondition:75,ASC:76,BrackettedExpression:77,DESC:78,Constraint:79,LimitOffsetClauses:80,LIMIT:81,INTEGER:82,OFFSET:83,ValuesClause:84,VALUES:85,InlineData:86,VAR:87,InlineData_repetition0:88,NIL:89,InlineData_repetition1:90,InlineData_repetition_plus2:91,InlineData_repetition3:92,DataBlock:93,DataBlockValueList:94,DataBlockValueList_repetition_plus0:95,Update:96,Update_repetition0:97,Update1:98,Update_option0:99,LOAD:100,Update1_option0:101,Update1_option1:102,Update1_group0:103,Update1_option2:104,GraphRefAll:105,Update1_group1:106,Update1_option3:107,GraphOrDefault:108,TO:109,CREATE:110,Update1_option4:111,GRAPH:112,INSERTDATA:113,QuadPattern:114,DELETEDATA:115,DELETEWHERE:116,Update1_option5:117,InsertDeleteClause:118,Update1_repetition0:119,IntoGraphClause:120,INTO:121,GraphRef:122,DELETE:123,InsertDeleteClause_option0:124,InsertClause:125,INSERT:126,UsingClause:127,USING:128,UsingClause_option0:129,WithClause:130,WITH:131,DEFAULT:132,GraphOrDefault_option0:133,GraphRefAll_group0:134,Quads:135,Quads_option0:136,Quads_repetition0:137,QuadsNotTriples:138,VarOrIri:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GroupOrUnionGraphPattern:158,OPTIONAL:159,MINUS:160,SERVICE:161,GraphPatternNotTriples_option0:162,FILTER:163,BIND:164,InlineDataOneVar:165,InlineDataFull:166,InlineDataOneVar_repetition0:167,InlineDataFull_repetition0:168,InlineDataFull_repetition_plus1:169,InlineDataFull_repetition2:170,DataBlockValue:171,Literal:172,QuotedTriple:173,UNDEF:174,GroupOrUnionGraphPattern_repetition0:175,ArgList:176,ArgList_option0:177,ArgList_repetition0:178,ExpressionList:179,ExpressionList_repetition0:180,ConstructTemplate_option0:181,ConstructTriples:182,ConstructTriples_repetition0:183,ConstructTriples_option0:184,VarOrTermOrQuotedTP:185,PropertyListNotEmpty:186,TriplesNode:187,PropertyList:188,PropertyList_option0:189,VerbObjectList:190,PropertyListNotEmpty_repetition0:191,SemiOptionalVerbObjectList:192,";":193,SemiOptionalVerbObjectList_option0:194,Verb:195,ObjectList:196,a:197,ObjectList_repetition0:198,Object:199,GraphNode:200,Object_option0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,O:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmptyTail:207,O_group0:208,ObjectListPath:209,ObjectListPath_repetition0:210,ObjectPath:211,GraphNodePath:212,ObjectPath_option0:213,Path:214,Path_repetition0:215,PathSequence:216,PathSequence_repetition0:217,PathEltOrInverse:218,PathElt:219,PathPrimary:220,PathElt_option0:221,PathEltOrInverse_option0:222,IriOrA:223,"!":224,PathNegatedPropertySet:225,PathOneInPropertySet:226,PathNegatedPropertySet_repetition0:227,PathNegatedPropertySet_option0:228,"^":229,TriplesNode_repetition_plus0:230,"[":231,"]":232,TriplesNodePath_repetition_plus0:233,VarOrTermOrQuotedTPExpr:234,VarOrTerm:235,GraphTerm:236,BlankNode:237,ConditionalOrExpression:238,ConditionalAndExpression:239,ConditionalOrExpression_repetition0:240,ConditionalOrExpressionTail:241,"||":242,RelationalExpression:243,ConditionalAndExpression_repetition0:244,ConditionalAndExpressionTail:245,"&&":246,NumericExpression:247,RelationalExpression_group0:248,RelationalExpression_option0:249,IN:250,MultiplicativeExpression:251,NumericExpression_repetition0:252,AdditiveExpressionTail:253,AdditiveExpressionTail_group0:254,NumericLiteralPositive:255,AdditiveExpressionTail_repetition0:256,NumericLiteralNegative:257,AdditiveExpressionTail_repetition1:258,UnaryExpression:259,MultiplicativeExpression_repetition0:260,MultiplicativeExpressionTail:261,MultiplicativeExpressionTail_group0:262,"+":263,PrimaryExpression:264,"-":265,ExprQuotedTP:266,Aggregate:267,FUNC_ARITY0:268,FUNC_ARITY1:269,FUNC_ARITY1_SPARQL_STAR:270,FUNC_ARITY2:271,",":272,FUNC_ARITY3:273,FUNC_ARITY3_SPARQL_STAR:274,BuiltInCall_group0:275,BOUND:276,BNODE:277,BuiltInCall_option0:278,EXISTS:279,COUNT:280,Aggregate_option0:281,Aggregate_group0:282,FUNC_AGGREGATE:283,Aggregate_option1:284,GROUP_CONCAT:285,Aggregate_option2:286,Aggregate_option3:287,GroupConcatSeparator:288,SEPARATOR:289,"=":290,String:291,LANGTAG:292,"^^":293,DECIMAL:294,DOUBLE:295,BOOLEAN:296,INTEGER_POSITIVE:297,DECIMAL_POSITIVE:298,DOUBLE_POSITIVE:299,INTEGER_NEGATIVE:300,DECIMAL_NEGATIVE:301,DOUBLE_NEGATIVE:302,STRING_LITERAL1:303,STRING_LITERAL2:304,STRING_LITERAL_LONG1:305,STRING_LITERAL_LONG2:306,PrefixedName:307,PNAME_LN:308,BLANK_NODE_LABEL:309,ANON:310,QuotedTP:311,"<<":312,qtSubjectOrObject:313,">>":314,DataValueTerm:315,AnnotationPattern:316,"{|":317,"|}":318,AnnotationPatternPath:319,ExprVarOrTerm:320,QueryOrUpdate_group0_option0:321,Prologue_repetition0_group0:322,Qry_group0_repetition_plus0:323,SelectClauseBase_option0_group0:324,DISTINCT:325,REDUCED:326,NAMED:327,SILENT:328,CLEAR:329,DROP:330,ADD:331,MOVE:332,COPY:333,ALL:334,".":335,UNION:336,"|":337,"/":338,PathElt_option0_group0:339,"?":340,"!=":341,"<":342,">":343,"<=":344,">=":345,NOT:346,CONCAT:347,COALESCE:348,SUBSTR:349,REGEX:350,REPLACE:351,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"CONSTRUCT",28:"WHERE",29:"{",31:"}",32:"DESCRIBE",36:"ASK",39:"*",41:"SELECT",45:"(",47:"AS",48:")",53:"FROM",63:"GROUP",64:"BY",70:"HAVING",73:"ORDER",76:"ASC",78:"DESC",81:"LIMIT",82:"INTEGER",83:"OFFSET",85:"VALUES",87:"VAR",89:"NIL",100:"LOAD",109:"TO",110:"CREATE",112:"GRAPH",113:"INSERTDATA",115:"DELETEDATA",116:"DELETEWHERE",121:"INTO",123:"DELETE",126:"INSERT",128:"USING",131:"WITH",132:"DEFAULT",159:"OPTIONAL",160:"MINUS",161:"SERVICE",163:"FILTER",164:"BIND",174:"UNDEF",193:";",197:"a",224:"!",229:"^",231:"[",232:"]",242:"||",246:"&&",250:"IN",263:"+",265:"-",268:"FUNC_ARITY0",269:"FUNC_ARITY1",270:"FUNC_ARITY1_SPARQL_STAR",271:"FUNC_ARITY2",272:",",273:"FUNC_ARITY3",274:"FUNC_ARITY3_SPARQL_STAR",276:"BOUND",277:"BNODE",279:"EXISTS",280:"COUNT",283:"FUNC_AGGREGATE",285:"GROUP_CONCAT",289:"SEPARATOR",290:"=",292:"LANGTAG",293:"^^",294:"DECIMAL",295:"DOUBLE",296:"BOOLEAN",297:"INTEGER_POSITIVE",298:"DECIMAL_POSITIVE",299:"DOUBLE_POSITIVE",300:"INTEGER_NEGATIVE",301:"DECIMAL_NEGATIVE",302:"DOUBLE_NEGATIVE",303:"STRING_LITERAL1",304:"STRING_LITERAL2",305:"STRING_LITERAL_LONG1",306:"STRING_LITERAL_LONG2",308:"PNAME_LN",309:"BLANK_NODE_LABEL",310:"ANON",312:"<<",314:">>",317:"{|",318:"|}",325:"DISTINCT",326:"REDUCED",327:"NAMED",328:"SILENT",329:"CLEAR",330:"DROP",331:"ADD",332:"MOVE",333:"COPY",334:"ALL",335:".",336:"UNION",337:"|",338:"/",340:"?",341:"!=",342:"<",343:">",344:"<=",345:">=",346:"NOT",347:"CONCAT",348:"COALESCE",349:"SUBSTR",350:"REGEX",351:"REPLACE"},productions_:[0,[3,3],[7,2],[4,1],[11,2],[14,3],[8,4],[8,4],[8,5],[8,7],[8,5],[8,4],[17,2],[21,2],[38,2],[43,1],[43,5],[49,4],[49,4],[52,3],[19,2],[23,2],[20,3],[62,3],[66,1],[66,1],[66,3],[66,5],[66,1],[69,2],[72,3],[75,2],[75,2],[75,1],[75,1],[80,2],[80,2],[80,4],[80,4],[84,2],[86,4],[86,4],[86,6],[86,2],[94,3],[96,3],[98,4],[98,3],[98,5],[98,4],[98,2],[98,2],[98,2],[98,5],[120,2],[118,3],[118,1],[125,2],[127,3],[130,2],[108,1],[108,2],[122,2],[105,1],[105,1],[114,3],[135,2],[138,7],[143,3],[57,3],[57,3],[147,2],[150,3],[154,3],[151,1],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[93,1],[93,1],[165,4],[166,4],[166,6],[171,1],[171,1],[171,1],[171,1],[158,2],[79,1],[79,1],[79,1],[68,2],[176,1],[176,5],[179,1],[179,4],[25,3],[182,3],[145,2],[145,2],[188,1],[186,2],[192,2],[190,2],[195,1],[195,1],[196,2],[199,2],[156,2],[156,2],[202,2],[207,1],[207,2],[205,2],[209,2],[211,2],[214,2],[216,2],[219,2],[218,2],[220,1],[220,2],[220,3],[225,1],[225,1],[225,4],[226,1],[226,2],[187,3],[187,3],[203,3],[203,3],[200,1],[200,1],[212,1],[212,1],[234,1],[235,1],[235,1],[139,1],[139,1],[44,1],[236,1],[236,1],[236,1],[236,1],[46,1],[238,2],[241,2],[239,2],[245,2],[243,1],[243,3],[243,4],[247,2],[253,2],[253,2],[253,2],[251,2],[261,2],[259,2],[259,2],[259,2],[259,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[77,3],[67,1],[67,2],[67,4],[67,4],[67,6],[67,8],[67,8],[67,2],[67,4],[67,2],[67,4],[67,3],[267,5],[267,5],[267,6],[288,4],[172,1],[172,2],[172,3],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[255,1],[255,1],[255,1],[257,1],[257,1],[257,1],[291,1],[291,1],[291,1],[291,1],[55,1],[55,1],[307,1],[307,1],[237,1],[237,1],[311,5],[173,5],[313,1],[313,1],[313,1],[313,1],[313,1],[315,1],[315,1],[315,1],[185,1],[185,1],[185,1],[316,3],[319,3],[266,5],[320,1],[320,1],[320,1],[223,1],[223,1],[321,0],[321,1],[5,1],[5,1],[5,1],[9,0],[9,1],[322,1],[322,1],[10,0],[10,2],[18,0],[18,2],[22,0],[22,2],[26,0],[26,2],[27,0],[27,2],[30,0],[30,1],[323,1],[323,2],[33,1],[33,1],[34,0],[34,2],[35,0],[35,1],[37,0],[37,2],[40,1],[40,2],[324,1],[324,1],[42,0],[42,1],[50,0],[50,1],[51,0],[51,1],[54,0],[54,1],[56,0],[56,1],[58,0],[58,1],[59,0],[59,1],[60,0],[60,1],[61,0],[61,1],[65,1],[65,2],[71,1],[71,2],[74,1],[74,2],[88,0],[88,2],[90,0],[90,2],[91,1],[91,2],[92,0],[92,2],[95,1],[95,2],[97,0],[97,4],[99,0],[99,2],[101,0],[101,1],[102,0],[102,1],[103,1],[103,1],[104,0],[104,1],[106,1],[106,1],[106,1],[107,0],[107,1],[111,0],[111,1],[117,0],[117,1],[119,0],[119,2],[124,0],[124,1],[129,0],[129,1],[133,0],[133,1],[134,1],[134,1],[134,1],[136,0],[136,1],[137,0],[137,2],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[162,0],[162,1],[167,0],[167,2],[168,0],[168,2],[169,1],[169,2],[170,0],[170,2],[175,0],[175,3],[177,0],[177,1],[178,0],[178,3],[180,0],[180,3],[181,0],[181,1],[183,0],[183,3],[184,0],[184,1],[189,0],[189,1],[191,0],[191,2],[194,0],[194,1],[198,0],[198,3],[201,0],[201,1],[204,0],[204,1],[206,0],[206,2],[208,1],[208,1],[210,0],[210,3],[213,0],[213,1],[215,0],[215,3],[217,0],[217,3],[339,1],[339,1],[339,1],[221,0],[221,1],[222,0],[222,1],[227,0],[227,3],[228,0],[228,1],[230,1],[230,2],[233,1],[233,2],[240,0],[240,2],[244,0],[244,2],[248,1],[248,1],[248,1],[248,1],[248,1],[248,1],[249,0],[249,1],[252,0],[252,2],[254,1],[254,1],[256,0],[256,2],[258,0],[258,2],[260,0],[260,2],[262,1],[262,1],[275,1],[275,1],[275,1],[275,1],[275,1],[278,0],[278,1],[281,0],[281,1],[282,1],[282,1],[284,0],[284,1],[286,0],[286,1],[287,0],[287,1]],performAction:function(je,He,Xe,yt,bt,ae,xi){var oe=ae.length-1;switch(bt){case 1:if(ae[oe-1]=ae[oe-1]||{},Bt.base&&(ae[oe-1].base=Bt.base),Bt.base="",ae[oe-1].prefixes=Bt.prefixes,Bt.prefixes=null,Bt.pathOnly){if(ae[oe-1].type==="path"||"termType"in ae[oe-1])return ae[oe-1];throw new Error("Received full SPARQL query in path only mode")}else if(ae[oe-1].type==="path"||"termType"in ae[oe-1])throw new Error("Received only path in full SPARQL mode");if(ae[oe-1].type==="update"){const Ft={};for(const er of ae[oe-1].updates)if(er.updateType==="insert"){const Dt={};for(const vn of er.insert)if(vn.type==="bgp"||vn.type==="graph")for(const wn of vn.triples)wn.subject.termType==="BlankNode"&&(Dt[wn.subject.value]=!0),wn.predicate.termType==="BlankNode"&&(Dt[wn.predicate.value]=!0),wn.object.termType==="BlankNode"&&(Dt[wn.object.value]=!0);for(const vn of Object.keys(Dt)){if(Ft[vn])throw new Error("Detected reuse blank node across different INSERT DATA clauses");Ft[vn]=!0}}}return ae[oe-1];case 2:this.$={...ae[oe-1],...ae[oe],type:"query"};break;case 4:Bt.base=kf(ae[oe]);break;case 5:Bt.prefixes||(Bt.prefixes={}),ae[oe-1]=ae[oe-1].substr(0,ae[oe-1].length-1),ae[oe]=kf(ae[oe]),Bt.prefixes[ae[oe-1]]=ae[oe];break;case 6:this.$={...ae[oe-3],...Hu(ae[oe-2]),...ae[oe-1],...ae[oe]};break;case 7:if(!Bt.skipValidation&&(cE(ae[oe-3].variables.map(er=>uE(er.expression))).some(er=>er.aggregation==="count"&&!(er.expression instanceof z1))||ae[oe].group)){for(const er of ae[oe-3].variables)if(er.termType==="Variable"){if(!ae[oe].group||!ae[oe].group.map(Dt=>xl(Dt)).includes(xl(er)))throw Error("Projection of ungrouped variable (?"+xl(er)+")")}else if(uE(er.expression).length===0){const Dt=gre(er.expression);for(const vn of Dt)if(!ae[oe].group||!ae[oe].group.map||!ae[oe].group.map(wn=>xl(wn)).includes(xl(vn)))throw Error("Use of ungrouped variable in projection of operation (?"+xl(vn)+")")}}const Il=ae[oe-1].where.filter(Ft=>Ft.type==="query");if(Il.length>0){const Ft=ae[oe-3].variables.filter(Dt=>Dt.variable&&Dt.variable.value).map(Dt=>Dt.variable.value),er=cE(Il.map(Dt=>Dt.variables)).map(Dt=>Dt.value||Dt.variable.value);for(const Dt of Ft)if(er.indexOf(Dt)>=0)throw Error("Target id of 'AS' (?"+Dt+") already used in subquery")}this.$=Qr(ae[oe-3],Hu(ae[oe-2]),ae[oe-1],ae[oe]);break;case 8:this.$=Qr({queryType:"CONSTRUCT",template:ae[oe-3]},Hu(ae[oe-2]),ae[oe-1],ae[oe]);break;case 9:this.$=Qr({queryType:"CONSTRUCT",template:ae[oe-2]=ae[oe-2]?ae[oe-2].triples:[]},Hu(ae[oe-5]),{where:[{type:"bgp",triples:El([],ae[oe-2])}]},ae[oe]);break;case 10:this.$=Qr({queryType:"DESCRIBE",variables:ae[oe-3]==="*"?[new z1]:ae[oe-3]},Hu(ae[oe-2]),ae[oe-1],ae[oe]);break;case 11:this.$=Qr({queryType:"ASK"},Hu(ae[oe-2]),ae[oe-1],ae[oe]);break;case 12:this.$=Qr(ae[oe-1],{variables:[new z1]});break;case 13:const hE=ae[oe].map(Ft=>Ft.value||Ft.variable.value),Y1=_re(hE);if(Y1.length>0)throw Error("Two or more of the resulting columns have the same name (?"+Y1[0]+")");this.$=Qr(ae[oe-1],{variables:ae[oe]});break;case 14:this.$=Qr({queryType:"SELECT"},ae[oe]&&(ae[oe-1]=Qn(ae[oe]),ae[oe]={},ae[oe][ae[oe-1]]=!0,ae[oe]));break;case 16:case 27:this.$=Al(ae[oe-3],{variable:ae[oe-1]});break;case 17:case 18:this.$=Qr(ae[oe-3],ae[oe-2],ae[oe-1],ae[oe],{type:"query"});break;case 19:case 58:this.$={iri:ae[oe],named:!!ae[oe-1]};break;case 20:this.$={where:ae[oe].patterns};break;case 21:this.$=Qr(ae[oe-1],ae[oe]);break;case 22:this.$=Qr(ae[oe-2],ae[oe-1],ae[oe]);break;case 23:this.$={group:ae[oe]};break;case 24:case 25:case 28:case 31:case 33:case 34:this.$=Al(ae[oe]);break;case 26:this.$=Al(ae[oe-1]);break;case 29:this.$={having:ae[oe]};break;case 30:this.$={order:ae[oe]};break;case 32:this.$=Al(ae[oe],{descending:!0});break;case 35:this.$={limit:Rl(ae[oe])};break;case 36:this.$={offset:Rl(ae[oe])};break;case 37:this.$={limit:Rl(ae[oe-2]),offset:Rl(ae[oe])};break;case 38:this.$={limit:Rl(ae[oe]),offset:Rl(ae[oe-2])};break;case 39:case 43:this.$={type:"values",values:ae[oe]};break;case 40:case 84:this.$=ae[oe-1].map(Ft=>({[ae[oe-3]]:Ft}));break;case 41:case 85:this.$=ae[oe-1].map(()=>({}));break;case 42:case 86:var Do=ae[oe-4].length;ae[oe-4]=ae[oe-4].map(rE),this.$=ae[oe-1].map(function(Ft){if(Ft.length!==Do)throw Error("Inconsistent VALUES length");for(var er={},Dt=0;Dt<Do;Dt++)er["?"+ae[oe-4][Dt].value]=Ft[Dt];return er});break;case 44:case 65:case 100:case 126:case 175:this.$=ae[oe-1];break;case 45:this.$={type:"update",updates:Vu(ae[oe-2],ae[oe-1])};break;case 46:this.$=Qr({type:"load",silent:!!ae[oe-2],source:ae[oe-1]},ae[oe]&&{destination:ae[oe]});break;case 47:this.$={type:Qn(ae[oe-2]),silent:!!ae[oe-1],graph:ae[oe]};break;case 48:this.$={type:Qn(ae[oe-4]),silent:!!ae[oe-3],source:ae[oe-2],destination:ae[oe]};break;case 49:this.$={type:"create",silent:!!ae[oe-2],graph:{type:"graph",name:ae[oe]}};break;case 50:this.$={updateType:"insert",insert:K4(ae[oe])};break;case 51:this.$={updateType:"delete",delete:fE(K4(ae[oe]))};break;case 52:this.$={updateType:"deletewhere",delete:fE(ae[oe])};break;case 53:this.$={updateType:"insertdelete",...ae[oe-4],...ae[oe-3],...Hu(ae[oe-2],"using"),where:ae[oe].patterns};break;case 54:case 57:case 62:case 167:case 191:case 236:this.$=ae[oe];break;case 55:this.$={delete:fE(ae[oe-1]),insert:ae[oe]||[]};break;case 56:this.$={delete:[],insert:ae[oe]};break;case 59:this.$={graph:ae[oe]};break;case 60:this.$={type:"graph",default:!0};break;case 61:case 63:this.$={type:"graph",name:ae[oe]};break;case 64:this.$={[Qn(ae[oe])]:!0};break;case 66:this.$=ae[oe-1]?Qa(ae[oe],[ae[oe-1]]):Qa(ae[oe]);break;case 67:var K1=Qr(ae[oe-3]||{triples:[]},{type:"graph",name:ae[oe-5]});this.$=ae[oe]?[K1,ae[oe]]:[K1];break;case 68:case 73:this.$={type:"bgp",triples:Qa(ae[oe-2],[ae[oe-1]])};break;case 69:this.$={type:"group",patterns:[ae[oe-1]]};break;case 70:for(const Ft of ae[oe-1].filter(er=>er.type==="bind")){const er=ae[oe-1].indexOf(Ft),Dt=new Set;for(const vn of ae[oe-1].slice(0,er))(vn.type==="group"||vn.type==="bgp")&&G4(vn).forEach(wn=>Dt.add(wn));if(Dt.has(Ft.variable.value))throw Error("Variable used to bind is already bound (?"+Ft.variable.value+")")}this.$={type:"group",patterns:ae[oe-1]};break;case 71:this.$=ae[oe-1]?Qa([ae[oe-1]],ae[oe]):Qa(ae[oe]);break;case 72:this.$=ae[oe]?[ae[oe-2],ae[oe]]:ae[oe-2];break;case 75:this.$=Qr(ae[oe],{type:"optional"});break;case 76:this.$=Qr(ae[oe],{type:"minus"});break;case 77:this.$=Qr(ae[oe],{type:"graph",name:ae[oe-1]});break;case 78:this.$=Qr(ae[oe],{type:"service",name:ae[oe-1],silent:!!ae[oe-2]});break;case 79:this.$={type:"filter",expression:ae[oe]};break;case 80:this.$={type:"bind",variable:ae[oe-1],expression:ae[oe-3]};break;case 89:this.$=Hf(ae[oe]);break;case 90:this.$=void 0;break;case 91:this.$=ae[oe-1].length?{type:"union",patterns:Qa(ae[oe-1].map(iE),[iE(ae[oe])])}:ae[oe];break;case 95:this.$={...ae[oe],function:ae[oe-1]};break;case 96:this.$={type:"functionCall",args:[]};break;case 97:this.$={type:"functionCall",args:Vu(ae[oe-2],ae[oe-1]),distinct:!!ae[oe-3]};break;case 98:case 115:case 128:case 247:case 249:case 251:case 253:case 255:case 263:case 267:case 297:case 299:case 303:case 307:case 328:case 341:case 349:case 355:case 361:case 367:case 369:case 373:case 375:case 379:case 381:case 385:case 391:case 395:case 401:case 405:case 409:case 411:case 420:case 428:case 430:case 440:case 444:case 446:case 448:this.$=[];break;case 99:this.$=Vu(ae[oe-2],ae[oe-1]);break;case 101:this.$=Qa(ae[oe-2],[ae[oe-1]]);break;case 102:case 112:this.$=dE(ae[oe].map(Ft=>Qr(Ms(ae[oe-1]),Ft)));break;case 103:this.$=dE(El(ae[oe].map(Ft=>Qr(Ms(ae[oe-1].entity),Ft)),ae[oe-1].triples));break;case 105:this.$=Qa([ae[oe-1]],ae[oe]);break;case 106:this.$=Qa(ae[oe]);break;case 107:this.$=oE(ae[oe-1],ae[oe]);break;case 109:case 237:this.$=Bt.factory.namedNode(ore);break;case 110:case 118:this.$=Vu(ae[oe-1],ae[oe]);break;case 111:this.$=ae[oe]?{annotation:ae[oe],object:ae[oe-1]}:ae[oe-1];break;case 113:this.$=ae[oe]?dE(El(ae[oe].map(Ft=>Qr(Ms(ae[oe-1].entity),Ft)),ae[oe-1].triples)):ae[oe-1].triples;break;case 114:this.$=oE(...ae[oe-1],ae[oe]);break;case 116:this.$=oE(...ae[oe]);break;case 117:case 159:case 163:this.$=[ae[oe-1],ae[oe]];break;case 119:this.$=ae[oe]?{object:ae[oe-1],annotation:ae[oe]}:ae[oe-1];break;case 120:this.$=ae[oe-1].length?Ol("|",Vu(ae[oe-1],ae[oe])):ae[oe];break;case 121:this.$=ae[oe-1].length?Ol("/",Vu(ae[oe-1],ae[oe])):ae[oe];break;case 122:this.$=ae[oe]?Ol(ae[oe],[ae[oe-1]]):ae[oe-1];break;case 123:this.$=ae[oe-1]?Ol(ae[oe-1],[ae[oe]]):ae[oe];break;case 125:case 131:this.$=Ol(ae[oe-1],[ae[oe]]);break;case 129:this.$=Ol("|",Vu(ae[oe-2],ae[oe-1]));break;case 132:case 134:this.$=yre(ae[oe-1]);break;case 133:case 135:this.$=mre(ae[oe-1]);break;case 140:this.$={entity:ae[oe],triples:[]};break;case 145:this.$=rE(ae[oe]);break;case 149:this.$=Bt.factory.namedNode(q4);break;case 151:case 153:case 158:case 162:this.$=nE(ae[oe-1],ae[oe]);break;case 152:this.$=["||",ae[oe]];break;case 154:this.$=["&&",ae[oe]];break;case 156:this.$=bn(ae[oe-1],[ae[oe-2],ae[oe]]);break;case 157:this.$=bn(ae[oe-2]?"notin":"in",[ae[oe-3],ae[oe]]);break;case 160:this.$=["+",nE(ae[oe-1],ae[oe])];break;case 161:var J1=za(ae[oe-1].value.replace("-",""),ae[oe-1].datatype);this.$=["-",nE(J1,ae[oe])];break;case 164:this.$=bn("UPLUS",[ae[oe]]);break;case 165:this.$=bn(ae[oe-1],[ae[oe]]);break;case 166:this.$=bn("UMINUS",[ae[oe]]);break;case 177:this.$=bn(Qn(ae[oe-1]));break;case 178:this.$=bn(Qn(ae[oe-3]),[ae[oe-1]]);break;case 179:this.$=Hf(bn(Qn(ae[oe-3]),[ae[oe-1]]));break;case 180:this.$=bn(Qn(ae[oe-5]),[ae[oe-3],ae[oe-1]]);break;case 181:this.$=bn(Qn(ae[oe-7]),[ae[oe-5],ae[oe-3],ae[oe-1]]);break;case 182:this.$=Hf(bn(Qn(ae[oe-7]),[ae[oe-5],ae[oe-3],ae[oe-1]]));break;case 183:this.$=bn(Qn(ae[oe-1]),ae[oe]);break;case 184:this.$=bn("bound",[rE(ae[oe-1])]);break;case 185:this.$=bn(ae[oe-1],[]);break;case 186:this.$=bn(ae[oe-3],[ae[oe-1]]);break;case 187:this.$=bn(ae[oe-2]?"notexists":"exists",[iE(ae[oe])]);break;case 188:case 189:this.$=Al(ae[oe-1],{type:"aggregate",aggregation:Qn(ae[oe-4]),distinct:!!ae[oe-2]});break;case 190:this.$=Al(ae[oe-2],{type:"aggregate",aggregation:Qn(ae[oe-5]),distinct:!!ae[oe-3],separator:typeof ae[oe-1]=="string"?ae[oe-1]:" "});break;case 192:this.$=za(ae[oe]);break;case 193:this.$=dre(ae[oe-1],Qn(ae[oe].substr(1)));break;case 194:this.$=za(ae[oe-2],ae[oe]);break;case 195:case 204:this.$=za(ae[oe],$4);break;case 196:case 205:this.$=za(ae[oe],U4);break;case 197:case 206:this.$=za(Qn(ae[oe]),k4);break;case 200:this.$=za(ae[oe].toLowerCase(),lre);break;case 201:this.$=za(ae[oe].substr(1),$4);break;case 202:this.$=za(ae[oe].substr(1),U4);break;case 203:this.$=za(ae[oe].substr(1).toLowerCase(),k4);break;case 207:case 208:this.$=z4(ae[oe],1);break;case 209:case 210:this.$=z4(ae[oe],3);break;case 211:this.$=Bt.factory.namedNode(kf(ae[oe]));break;case 213:var X1=ae[oe].indexOf(":"),zr=ae[oe].substr(0,X1),Ga=Bt.prefixes[zr];if(!Ga)throw new Error("Unknown prefix: "+zr);var Qu=kf(Ga+ae[oe].substr(X1+1));this.$=Bt.factory.namedNode(Qu);break;case 214:if(ae[oe]=ae[oe].substr(0,ae[oe].length-1),!(ae[oe]in Bt.prefixes))throw new Error("Unknown prefix: "+ae[oe]);var Qu=kf(Bt.prefixes[ae[oe]]);this.$=Bt.factory.namedNode(Qu);break;case 215:this.$=Vf(ae[oe].replace(/^(_:)/,""));break;case 216:this.$=Vf();break;case 217:case 218:case 232:this.$=Hf(aE(ae[oe-3],ae[oe-2],ae[oe-1]));break;case 230:case 231:this.$=Hf(ae[oe-1]);break;case 248:case 250:case 252:case 254:case 256:case 260:case 264:case 268:case 270:case 292:case 294:case 296:case 298:case 300:case 302:case 304:case 306:case 329:case 342:case 356:case 368:case 370:case 372:case 374:case 392:case 402:case 425:case 427:case 429:case 431:case 441:case 445:case 447:case 449:ae[oe-1].push(ae[oe]);break;case 259:case 269:case 291:case 293:case 295:case 301:case 305:case 371:case 424:case 426:this.$=[ae[oe]];break;case 308:ae[oe-3].push(ae[oe-2]);break;case 350:case 362:case 376:case 380:case 382:case 386:case 396:case 406:case 410:case 412:case 421:ae[oe-2].push(ae[oe-1]);break}},table:[t(e,r,{3:1,4:2,10:3}),{1:[3]},t(n,[2,307],{5:4,7:5,321:6,214:7,8:8,96:9,215:10,17:11,21:12,97:16,38:17,6:[2,238],13:a,16:a,45:a,197:a,224:a,229:a,308:a,24:[1,13],32:[1,14],36:[1,15],41:s}),t([6,13,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],[2,3],{322:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,240]},{6:[2,241]},{6:[2,242]},{6:[2,243],9:25,84:26,85:o},{6:[2,239]},t(u,[2,411],{216:28,217:29}),t(c,[2,249],{18:30}),t(c,[2,251],{22:31}),t(l,[2,255],{25:32,27:33,29:[1,34]}),{13:d,16:f,33:35,39:[1,37],44:39,55:40,87:h,139:38,307:43,308:p,323:36},t(c,[2,267],{37:46}),t(m,[2,326],{98:47,103:49,106:50,117:55,130:61,100:[1,48],110:[1,51],113:[1,52],115:[1,53],116:[1,54],131:[1,62],329:[1,56],330:[1,57],331:[1,58],332:[1,59],333:[1,60]}),{39:[1,63],40:64,43:65,44:66,45:y,87:h},t(g,[2,273],{42:68,324:69,325:[1,70],326:[1,71]}),t(e,[2,248]),t(e,[2,245]),t(e,[2,246]),{13:[1,72]},{16:[1,73]},{1:[2,1]},{6:[2,2]},{6:[2,244]},{45:[1,77],85:[1,78],86:74,87:[1,75],89:[1,76]},t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],[2,120],{337:[1,79]}),t(b,[2,418],{218:80,222:81,229:[1,82]}),{19:83,28:v,29:_,52:84,53:w,56:85},{19:88,28:v,29:_,52:89,53:w,56:85},t(c,[2,253],{26:90}),{28:[1,91],52:92,53:w},t(E,[2,385],{181:93,182:94,183:95,31:[2,383]}),t(O,[2,263],{34:96}),t(O,[2,261],{44:39,55:40,307:43,139:97,13:d,16:f,87:h,308:p}),t(O,[2,262]),t(L,[2,259]),t(F,[2,143]),t(F,[2,144]),t([6,13,16,28,29,31,39,45,47,48,53,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,145]),t(x,[2,211]),t(x,[2,212]),t(x,[2,213]),t(x,[2,214]),{19:98,28:v,29:_,52:99,53:w,56:85},{6:[2,309],99:100,193:[1,101]},t(P,[2,311],{101:102,328:[1,103]}),t(j,[2,317],{104:104,328:[1,105]}),t(N,[2,322],{107:106,328:[1,107]}),{111:108,112:[2,324],328:[1,109]},{29:V,114:110},{29:V,114:112},{29:V,114:113},{118:114,123:[1,115],125:116,126:$},t(q,[2,315]),t(q,[2,316]),t(H,[2,319]),t(H,[2,320]),t(H,[2,321]),t(m,[2,327]),{13:d,16:f,55:118,307:43,308:p},t(c,[2,12]),t(c,[2,13],{44:66,43:119,45:y,87:h}),t(X,[2,269]),t(X,[2,15]),{13:d,16:f,44:136,45:Y,46:120,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(g,[2,14]),t(g,[2,274]),t(g,[2,271]),t(g,[2,272]),t(e,[2,4]),{13:[1,177]},t(fe,[2,39]),{29:[1,178]},{29:[1,179]},{87:[1,181],91:180},{45:[1,187],87:[1,185],89:[1,186],93:182,165:183,166:184},t(u,[2,410]),t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337],[2,121],{338:[1,188]}),{13:d,16:f,45:[1,193],55:194,197:ge,219:189,220:190,223:191,224:[1,192],307:43,308:p},t(b,[2,419]),t(Le,ee,{20:196,59:197,69:198,70:Oe}),t(c,[2,250]),{29:De,57:200},t(P,[2,279],{54:202,327:[1,203]}),{29:[2,282]},t(Ue,Ye,{23:204,58:205,62:206,63:ut}),t(c,[2,252]),{19:208,28:v,29:_,52:209,53:w,56:85},{29:[1,210]},t(l,[2,256]),{31:[1,211]},{31:[2,384]},{13:d,16:f,44:215,45:at,55:220,82:he,87:h,89:ct,145:212,172:221,185:213,187:214,231:ht,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,309:te,310:S,311:217,312:A},t(C,[2,265],{56:85,35:227,52:228,19:229,28:v,29:_,53:w}),t(L,[2,260]),t(Ue,Ye,{58:205,62:206,23:230,63:ut}),t(c,[2,268]),{6:[2,45]},t(e,r,{10:3,4:231}),{13:d,16:f,55:232,307:43,308:p},t(P,[2,312]),{105:233,112:J,122:234,132:[1,237],134:235,327:[1,238],334:[1,239]},t(j,[2,318]),t(P,ie,{108:240,133:242,112:be,132:ve}),t(N,[2,323]),{112:[1,244]},{112:[2,325]},t(Fe,[2,50]),t(E,Je,{135:245,136:246,143:247,144:248,31:lt,112:lt}),t(Fe,[2,51]),t(Fe,[2,52]),t(tt,[2,328],{119:249}),{29:V,114:250},t(tt,[2,56]),{29:V,114:251},t(m,[2,59]),t(X,[2,270]),{47:[1,252]},t(Qe,[2,150]),t(fi,[2,428],{240:253}),t(et,[2,430],{244:254}),t(et,[2,155],{248:255,249:256,250:[2,438],290:[1,257],341:[1,258],342:[1,259],343:[1,260],344:[1,261],345:[1,262],346:[1,263]}),t(Ur,[2,440],{252:264}),t(Xt,[2,448],{260:265}),{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:he,87:h,172:135,255:154,257:155,264:266,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:he,87:h,172:135,255:154,257:155,264:267,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:he,87:h,172:135,255:154,257:155,264:268,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(Xt,[2,167]),t(Xt,[2,168]),t(Xt,[2,169]),t(Xt,[2,170],{176:269,45:Gt,89:Dr}),t(Xt,[2,171]),t(Xt,[2,172]),t(Xt,[2,173]),t(Xt,[2,174]),{13:d,16:f,44:136,45:Y,46:272,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(Ct,[2,176]),{89:[1,273]},{45:[1,274]},{45:[1,275]},{45:[1,276]},{45:[1,277]},{45:[1,278]},{45:Gi,89:Oi,179:279},{45:[1,282]},{45:[1,284],89:[1,283]},{279:[1,285]},t(or,[2,192],{292:[1,286],293:[1,287]}),t(or,[2,195]),t(or,[2,196]),t(or,[2,197]),t(or,[2,198]),t(or,[2,199]),t(or,[2,200]),{13:d,16:f,44:39,55:40,82:he,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,320:288},{45:[1,292]},{45:[1,293]},{45:[1,294]},t(Ps,[2,452]),t(Ps,[2,453]),t(Ps,[2,454]),t(Ps,[2,455]),t(Ps,[2,456]),{279:[2,458]},t(Io,[2,207]),t(Io,[2,208]),t(Io,[2,209]),t(Io,[2,210]),t(or,[2,201]),t(or,[2,202]),t(or,[2,203]),t(or,[2,204]),t(or,[2,205]),t(or,[2,206]),t(e,[2,5]),t(Hr,[2,297],{88:295}),t(hi,[2,299],{90:296}),{48:[1,297],87:[1,298]},t(un,[2,301]),t(fe,[2,43]),t(fe,[2,82]),t(fe,[2,83]),{29:[1,299]},{29:[1,300]},{87:[1,302],169:301},t(u,[2,412]),t(Ri,[2,123]),t(Ri,[2,416],{221:303,339:304,39:[1,306],263:[1,307],340:[1,305]}),t(cn,[2,124]),{13:d,16:f,45:[1,311],55:194,89:[1,310],197:ge,223:312,225:308,226:309,229:ba,307:43,308:p},t(u,a,{215:10,214:314}),t(cn,[2,236]),t(cn,[2,237]),t(en,[2,6]),t(Ha,[2,287],{60:315,72:316,73:[1,317]}),t(Le,[2,286]),{13:d,16:f,45:Y,55:323,67:321,68:322,71:318,77:320,79:319,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,307:43,308:p,346:qe,347:W,348:D,349:B,350:K,351:ne},t([6,31,63,70,73,81,83,85],[2,20]),t(E,va,{38:17,49:324,147:325,17:326,21:327,148:328,154:329,155:330,29:kn,31:kn,85:kn,112:kn,159:kn,160:kn,161:kn,163:kn,164:kn,41:s}),{13:d,16:f,55:331,307:43,308:p},t(P,[2,280]),t(en,[2,7]),t(Le,ee,{59:197,69:198,20:332,70:Oe}),t(Ue,[2,284]),{64:[1,333]},t(Ue,Ye,{58:205,62:206,23:334,63:ut}),t(c,[2,254]),t(E,Je,{144:248,30:335,143:336,31:[2,257]}),t(c,[2,100]),{31:[2,387],184:337,335:[1,338]},{13:d,16:f,44:39,55:40,87:h,139:342,186:339,190:340,195:341,197:Nn,307:43,308:p},t(Po,[2,389],{44:39,55:40,307:43,190:340,195:341,139:342,188:344,189:345,186:346,13:d,16:f,87:h,197:Nn,308:p}),t(wa,[2,227]),t(wa,[2,228]),t(wa,[2,229]),{13:d,16:f,44:215,45:at,55:220,82:he,87:h,89:ct,172:221,185:351,187:350,200:348,230:347,231:ht,234:349,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,309:te,310:S,311:217,312:A},{13:d,16:f,44:39,55:40,87:h,139:342,186:352,190:340,195:341,197:Nn,307:43,308:p},t(wa,[2,146]),t(wa,[2,147]),t(wa,[2,148]),t(wa,[2,149]),{13:d,16:f,44:354,55:355,82:he,87:h,172:357,237:356,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,309:te,310:S,311:358,312:A,313:353},t(wl,[2,215]),t(wl,[2,216]),t(Ue,Ye,{58:205,62:206,23:359,63:ut}),t(O,[2,264]),t(C,[2,266]),t(en,[2,11]),t(n,[2,308],{6:[2,310]}),t(Fe,[2,313],{102:360,120:361,121:[1,362]}),t(Fe,[2,47]),t(Fe,[2,63]),t(Fe,[2,64]),{13:d,16:f,55:363,307:43,308:p},t(Fe,[2,336]),t(Fe,[2,337]),t(Fe,[2,338]),{109:[1,364]},t(ue,[2,60]),{13:d,16:f,55:365,307:43,308:p},t(P,[2,335]),{13:d,16:f,55:366,307:43,308:p},{31:[1,367]},t(ye,[2,341],{137:368}),t(ye,[2,340]),{13:d,16:f,44:215,45:at,55:220,82:he,87:h,89:ct,145:369,172:221,185:213,187:214,231:ht,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,309:te,310:S,311:217,312:A},{28:[1,370],127:371,128:[1,372]},t(tt,[2,330],{124:373,125:374,126:$}),t(tt,[2,57]),{44:375,87:h},t(Qe,[2,151],{241:376,242:[1,377]}),t(fi,[2,153],{245:378,246:[1,379]}),{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,247:380,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},{250:[1,381]},t(Ae,[2,432]),t(Ae,[2,433]),t(Ae,[2,434]),t(Ae,[2,435]),t(Ae,[2,436]),t(Ae,[2,437]),{250:[2,439]},t([47,48,193,242,246,250,272,290,341,342,343,344,345,346],[2,158],{253:382,254:383,255:384,257:385,263:[1,386],265:[1,387],297:Z,298:se,299:re,300:le,301:pe,302:_e}),t(Ur,[2,162],{261:388,262:389,39:Ze,338:it}),t(Xt,[2,164]),t(Xt,[2,165]),t(Xt,[2,166]),t(Ct,[2,95]),t(Ct,[2,96]),t(Ae,[2,377],{177:392,325:[1,393]}),{48:[1,394]},t(Ct,[2,177]),{13:d,16:f,44:136,45:Y,46:395,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},{13:d,16:f,44:136,45:Y,46:396,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},{13:d,16:f,44:136,45:Y,46:397,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},{13:d,16:f,44:136,45:Y,46:398,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},{13:d,16:f,44:136,45:Y,46:399,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(Ct,[2,183]),t(Ct,[2,98]),t(Ae,[2,381],{180:400}),{87:[1,401]},t(Ct,[2,185]),{13:d,16:f,44:136,45:Y,46:402,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},{29:De,57:403},t(or,[2,193]),{13:d,16:f,55:404,307:43,308:p},{13:d,16:f,44:39,55:40,87:h,139:342,195:405,197:Nn,307:43,308:p},t(ot,[2,233]),t(ot,[2,234]),t(ot,[2,235]),t(Nt,[2,459],{281:406,325:[1,407]}),t(Ae,[2,463],{284:408,325:[1,409]}),t(Ae,[2,465],{286:410,325:[1,411]}),{13:d,16:f,31:[1,412],55:414,82:he,171:413,172:415,173:416,174:Vt,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ir},{31:[1,419],89:[1,420]},{29:[1,421]},t(un,[2,302]),t(Hr,[2,367],{167:422}),t(hi,[2,369],{168:423}),{48:[1,424],87:[1,425]},t(un,[2,371]),t(Ri,[2,122]),t(Ri,[2,417]),t(Ri,[2,413]),t(Ri,[2,414]),t(Ri,[2,415]),t(cn,[2,125]),t(cn,[2,127]),t(cn,[2,128]),t(Cr,[2,420],{227:426}),t(cn,[2,130]),{13:d,16:f,55:194,197:ge,223:427,307:43,308:p},{48:[1,428]},t(Zt,[2,289],{61:429,80:430,81:[1,431],83:[1,432]}),t(Ha,[2,288]),{64:[1,433]},t(Le,[2,29],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:434,13:d,16:f,45:Y,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,276:Se,277:z,279:M,280:k,283:T,285:R,308:p,346:qe,347:W,348:D,349:B,350:K,351:ne}),t(br,[2,293]),t(Vn,[2,92]),t(Vn,[2,93]),t(Vn,[2,94]),{45:Gt,89:Dr,176:269},{31:[1,435]},{31:[1,436]},{19:437,28:v,29:_,56:85},{19:438,28:v,29:_,56:85},t(Dn,[2,355],{149:439}),t(Dn,[2,354]),{13:d,16:f,44:215,45:_n,55:220,82:he,87:h,89:ct,156:440,172:221,185:441,203:442,231:Hn,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,309:te,310:S,311:217,312:A},t(O,[2,19]),t(Zt,[2,21]),{13:d,16:f,44:450,45:Sa,55:323,65:445,66:446,67:447,68:448,87:h,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,307:43,308:p,346:qe,347:W,348:D,349:B,350:K,351:ne},t(en,[2,8]),{31:[1,451]},{31:[2,258]},{31:[2,101]},t(E,[2,386],{31:[2,388]}),t(Po,[2,102]),t(yn,[2,391],{191:452}),t(E,[2,395],{196:453,198:454}),t(E,[2,108]),t(E,[2,109]),t(Po,[2,103]),t(Po,[2,104]),t(Po,[2,390]),{13:d,16:f,44:215,45:at,48:[1,455],55:220,82:he,87:h,89:ct,172:221,185:351,187:350,200:456,231:ht,234:349,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,309:te,310:S,311:217,312:A},t(Ns,[2,424]),t(qu,[2,136]),t(qu,[2,137]),t($u,[2,140]),{232:[1,457]},{13:d,16:f,44:39,55:40,87:h,139:342,195:458,197:Nn,307:43,308:p},t(ot,[2,219]),t(ot,[2,220]),t(ot,[2,221]),t(ot,[2,222]),t(ot,[2,223]),t(en,[2,10]),t(Fe,[2,46]),t(Fe,[2,314]),{112:J,122:459},t(Fe,[2,62]),t(P,ie,{133:242,108:460,112:be,132:ve}),t(ue,[2,61]),t(Fe,[2,49]),t([6,28,126,128,193],[2,65]),{31:[2,66],112:[1,462],138:461},t(ye,[2,351],{146:463,335:[1,464]}),{29:De,57:465},t(tt,[2,329]),t(P,[2,332],{129:466,327:[1,467]}),t(tt,[2,55]),t(tt,[2,331]),{48:[1,468]},t(fi,[2,429]),{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,239:469,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(et,[2,431]),{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,243:470,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(et,[2,156]),{45:Gi,89:Oi,179:471},t(Ur,[2,441]),{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,251:472,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(Xt,[2,444],{256:473}),t(Xt,[2,446],{258:474}),t(Ae,[2,442]),t(Ae,[2,443]),t(Xt,[2,449]),{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,255:154,257:155,259:475,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(Ae,[2,450]),t(Ae,[2,451]),t(Ae,[2,379],{178:476}),t(Ae,[2,378]),t([6,13,16,29,31,39,45,47,48,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,175]),{48:[1,477]},{48:[1,478]},{272:[1,479]},{272:[1,480]},{272:[1,481]},{13:d,16:f,44:136,45:Y,46:482,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},{48:[1,483]},{48:[1,484]},t(Ct,[2,187]),t(or,[2,194]),{13:d,16:f,44:39,55:40,82:he,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,320:485},{13:d,16:f,39:[1,487],44:136,45:Y,46:488,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,282:486,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(Nt,[2,460]),{13:d,16:f,44:136,45:Y,46:489,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(Ae,[2,464]),{13:d,16:f,44:136,45:Y,46:490,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(Ae,[2,466]),t(fe,[2,40]),t(Hr,[2,298]),t(Yt,[2,87]),t(Yt,[2,88]),t(Yt,[2,89]),t(Yt,[2,90]),{13:d,16:f,55:492,82:he,172:493,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,311:494,312:A,315:491},t(fe,[2,41]),t(hi,[2,300]),t(mn,[2,303],{92:495}),{13:d,16:f,31:[1,496],55:414,82:he,171:497,172:415,173:416,174:Vt,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ir},{31:[1,498],89:[1,499]},{29:[1,500]},t(un,[2,372]),{13:d,16:f,48:[2,422],55:194,197:ge,223:312,226:502,228:501,229:ba,307:43,308:p},t(cn,[2,131]),t(cn,[2,126]),t(Zt,[2,22]),t(Zt,[2,290]),{82:[1,503]},{82:[1,504]},{13:d,16:f,44:510,45:Y,55:323,67:321,68:322,74:505,75:506,76:Ds,77:320,78:No,79:509,87:h,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,307:43,308:p,346:qe,347:W,348:D,349:B,350:K,351:ne},t(br,[2,294]),t(k1,[2,69]),t(k1,[2,70]),t(Le,ee,{59:197,69:198,20:511,70:Oe}),t(Ue,Ye,{58:205,62:206,23:512,63:ut}),{29:[2,375],31:[2,71],84:522,85:o,112:[1,518],150:513,151:514,158:515,159:[1,516],160:[1,517],161:[1,519],163:[1,520],164:[1,521],175:523},t(Dn,[2,363],{157:524,335:[1,525]}),t(u,a,{215:10,202:526,205:527,208:528,214:529,44:530,87:h}),t(V1,[2,399],{215:10,205:527,208:528,214:529,44:530,204:531,202:532,13:a,16:a,45:a,197:a,224:a,229:a,308:a,87:h}),{13:d,16:f,44:215,45:_n,55:220,82:he,87:h,89:ct,172:221,185:351,203:536,212:534,231:Hn,233:533,234:535,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,309:te,310:S,311:217,312:A},t(u,a,{215:10,205:527,208:528,214:529,44:530,202:537,87:h}),t(Ue,[2,23],{307:43,267:139,275:146,278:149,55:323,67:447,68:448,44:450,66:538,13:d,16:f,45:Sa,87:h,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,276:Se,277:z,279:M,280:k,283:T,285:R,308:p,346:qe,347:W,348:D,349:B,350:K,351:ne}),t(Uu,[2,291]),t(Uu,[2,24]),t(Uu,[2,25]),{13:d,16:f,44:136,45:Y,46:539,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(Uu,[2,28]),t(Ue,Ye,{58:205,62:206,23:540,63:ut}),t([31,112,232,318,335],[2,105],{192:541,193:[1,542]}),t(yn,[2,107]),{13:d,16:f,44:215,45:at,55:220,82:he,87:h,89:ct,172:221,185:351,187:350,199:543,200:544,231:ht,234:349,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,309:te,310:S,311:217,312:A},t(N4,[2,132]),t(Ns,[2,425]),t(N4,[2,133]),{13:d,16:f,44:354,55:355,82:he,87:h,172:357,237:356,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,309:te,310:S,311:358,312:A,313:545},t(Fe,[2,54]),t(Fe,[2,48]),t(ye,[2,342]),{13:d,16:f,44:39,55:40,87:h,139:546,307:43,308:p},t(ye,[2,68]),t(E,[2,350],{31:D4,112:D4}),t(Fe,[2,53]),{13:d,16:f,55:547,307:43,308:p},t(P,[2,333]),t(X,[2,16]),t(fi,[2,152]),t(et,[2,154]),t(et,[2,157]),t(Ur,[2,159]),t(Ur,[2,160],{262:389,261:548,39:Ze,338:it}),t(Ur,[2,161],{262:389,261:549,39:Ze,338:it}),t(Xt,[2,163]),{13:d,16:f,44:136,45:Y,46:550,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(Ct,[2,178]),t(Ct,[2,179]),{13:d,16:f,44:136,45:Y,46:551,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},{13:d,16:f,44:136,45:Y,46:552,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},{13:d,16:f,44:136,45:Y,46:553,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},{48:[1,554],272:[1,555]},t(Ct,[2,184]),t(Ct,[2,186]),{314:[1,556]},{48:[1,557]},{48:[2,461]},{48:[2,462]},{48:[1,558]},{48:[2,467],193:[1,561],287:559,288:560},{13:d,16:f,55:194,197:ge,223:562,307:43,308:p},t(eE,[2,224]),t(eE,[2,225]),t(eE,[2,226]),{31:[1,563],45:C4,94:564},t(fe,[2,84]),t(Hr,[2,368]),t(fe,[2,85]),t(hi,[2,370]),t(mn,[2,373],{170:566}),{48:[1,567]},{48:[2,423],337:[1,568]},t(Zt,[2,35],{83:[1,569]}),t(Zt,[2,36],{81:[1,570]}),t(Ha,[2,30],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:509,44:510,75:571,13:d,16:f,45:Y,76:Ds,78:No,87:h,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,276:Se,277:z,279:M,280:k,283:T,285:R,308:p,346:qe,347:W,348:D,349:B,350:K,351:ne}),t(Sl,[2,295]),{45:Y,77:572},{45:Y,77:573},t(Sl,[2,33]),t(Sl,[2,34]),{31:[2,275],50:574,84:575,85:o},{31:[2,277],51:576,84:577,85:o},t(Dn,[2,356]),t(L4,[2,357],{152:578,335:[1,579]}),t(Cs,[2,74]),{29:De,57:580},{29:De,57:581},{13:d,16:f,44:39,55:40,87:h,139:582,307:43,308:p},t(j4,[2,365],{162:583,328:[1,584]}),{13:d,16:f,45:Y,55:323,67:321,68:322,77:320,79:585,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,307:43,308:p,346:qe,347:W,348:D,349:B,350:K,351:ne},{45:[1,586]},t(Cs,[2,81]),{29:De,57:587},t(Dn,[2,73]),t(E,[2,362],{29:Ls,31:Ls,85:Ls,112:Ls,159:Ls,160:Ls,161:Ls,163:Ls,164:Ls}),t(V1,[2,112]),t(Tl,[2,401],{206:588}),t(E,[2,405],{209:589,210:590}),t(E,[2,403]),t(E,[2,404]),t(V1,[2,113]),t(V1,[2,400]),{13:d,16:f,44:215,45:_n,48:[1,591],55:220,82:he,87:h,89:ct,172:221,185:351,203:536,212:592,231:Hn,234:535,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,309:te,310:S,311:217,312:A},t(Ns,[2,426]),t($u,[2,138]),t($u,[2,139]),{232:[1,593]},t(Uu,[2,292]),{47:[1,595],48:[1,594]},t(en,[2,9]),t(yn,[2,392]),t(yn,[2,393],{44:39,55:40,307:43,195:341,139:342,194:596,190:597,13:d,16:f,87:h,197:Nn,308:p}),t(yn,[2,110],{272:[1,598]}),t(H1,[2,397],{201:599,316:600,317:[1,601]}),{314:[1,602]},{29:[1,603]},t(tt,[2,58]),t(Xt,[2,445]),t(Xt,[2,447]),{48:[1,604],272:[1,605]},{48:[1,606]},{272:[1,607]},{272:[1,608]},t(Ct,[2,99]),t(Ae,[2,382]),t([13,16,39,47,48,87,193,197,242,246,250,263,265,272,290,297,298,299,300,301,302,308,314,338,341,342,343,344,345,346],[2,232]),t(Ct,[2,188]),t(Ct,[2,189]),{48:[1,609]},{48:[2,468]},{289:[1,610]},{13:d,16:f,55:492,82:he,172:493,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,311:494,312:A,315:611},t(fe,[2,42]),t(mn,[2,304]),{13:d,16:f,55:414,82:he,95:612,171:613,172:415,173:416,174:Vt,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ir},{31:[1,614],45:C4,94:615},t(cn,[2,129]),t(Cr,[2,421]),{82:[1,616]},{82:[1,617]},t(Sl,[2,296]),t(Sl,[2,31]),t(Sl,[2,32]),{31:[2,17]},{31:[2,276]},{31:[2,18]},{31:[2,278]},t(E,va,{155:330,153:618,154:619,29:js,31:js,85:js,112:js,159:js,160:js,161:js,163:js,164:js}),t(L4,[2,358]),t(Cs,[2,75]),t(Cs,[2,76]),{29:De,57:620},{13:d,16:f,44:39,55:40,87:h,139:621,307:43,308:p},t(j4,[2,366]),t(Cs,[2,79]),{13:d,16:f,44:136,45:Y,46:622,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(Cs,[2,91],{336:[1,623]}),t([29,31,85,112,159,160,161,163,164,232,318,335],[2,114],{207:624,193:[1,625]}),t(Tl,[2,117]),{13:d,16:f,44:215,45:_n,55:220,82:he,87:h,89:ct,172:221,185:351,203:536,211:626,212:627,231:Hn,234:535,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,309:te,310:S,311:217,312:A},t(wa,[2,134]),t(Ns,[2,427]),t(wa,[2,135]),t(Uu,[2,26]),{44:628,87:h},t(yn,[2,106]),t(yn,[2,394]),t(E,[2,396]),t(H1,[2,111]),t(H1,[2,398]),{13:d,16:f,44:39,55:40,87:h,139:342,186:629,190:340,195:341,197:Nn,307:43,308:p},t(wl,[2,217]),t(E,Je,{144:248,140:630,143:631,31:[2,343]}),t(Ct,[2,97]),t(Ae,[2,380]),t(Ct,[2,180]),{13:d,16:f,44:136,45:Y,46:632,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},{13:d,16:f,44:136,45:Y,46:633,55:133,67:132,68:134,77:131,82:he,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:$e,266:137,267:139,268:de,269:ce,270:xe,271:Pe,273:we,274:Re,275:146,276:Se,277:z,278:149,279:M,280:k,283:T,285:R,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ke,346:qe,347:W,348:D,349:B,350:K,351:ne},t(Ct,[2,190]),{290:[1,634]},{314:[1,635]},{13:d,16:f,48:[1,636],55:414,82:he,171:637,172:415,173:416,174:Vt,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:se,299:re,300:le,301:pe,302:_e,303:Ie,304:Ee,305:Me,306:Ce,307:43,308:p,312:ir},t(M4,[2,305]),t(fe,[2,86]),t(mn,[2,374]),t(Zt,[2,37]),t(Zt,[2,38]),t(Dn,[2,72]),t(Dn,[2,360]),t(Cs,[2,77]),{29:De,57:638},{47:[1,639]},{29:[2,376]},t(Tl,[2,402]),t(Tl,[2,115],{215:10,208:528,214:529,44:530,205:640,13:a,16:a,45:a,197:a,224:a,229:a,308:a,87:h}),t(Tl,[2,118],{272:[1,641]}),t(Q1,[2,407],{213:642,319:643,317:[1,644]}),{48:[1,645]},{318:[1,646]},{31:[1,647]},{31:[2,344]},{48:[1,648]},{48:[1,649]},{291:650,303:Ie,304:Ee,305:Me,306:Ce},t(Yt,[2,218]),t(mn,[2,44]),t(M4,[2,306]),t(Cs,[2,78]),{44:651,87:h},t(Tl,[2,116]),t(E,[2,406]),t(Q1,[2,119]),t(Q1,[2,408]),t(u,a,{215:10,205:527,208:528,214:529,44:530,202:652,87:h}),t(Uu,[2,27]),t(H1,[2,230]),t(F4,[2,345],{141:653,335:[1,654]}),t(Ct,[2,181]),t(Ct,[2,182]),{48:[2,191]},{48:[1,655]},{318:[1,656]},t(E,Je,{144:248,142:657,143:658,31:B4,112:B4}),t(F4,[2,346]),t(Cs,[2,80]),t(Q1,[2,231]),t(ye,[2,67]),t(ye,[2,348])],defaultActions:{5:[2,240],6:[2,241],7:[2,242],9:[2,239],24:[2,1],25:[2,2],26:[2,244],87:[2,282],94:[2,384],100:[2,45],109:[2,325],166:[2,458],263:[2,439],336:[2,258],337:[2,101],487:[2,461],488:[2,462],560:[2,468],574:[2,17],575:[2,276],576:[2,18],577:[2,278],623:[2,376],631:[2,344],650:[2,191]},parseError:function(je,He){if(He.recoverable)this.trace(je);else{var Xe=new Error(je);throw Xe.hash=He,Xe}},parse:function(je){var He=this,Xe=[0],yt=[null],bt=[],ae=this.table,xi="",oe=0,Do=0,K1=2,J1=1,X1=bt.slice.call(arguments,1),zr=Object.create(this.lexer),Ga={yy:{}};for(var Qu in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Qu)&&(Ga.yy[Qu]=this.yy[Qu]);zr.setInput(je,Ga.yy),Ga.yy.lexer=zr,Ga.yy.parser=this,typeof zr.yylloc>"u"&&(zr.yylloc={});var Il=zr.yylloc;bt.push(Il);var hE=zr.options&&zr.options.ranges;typeof Ga.yy.parseError=="function"?this.parseError=Ga.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Y1=function(){var Pl;return Pl=zr.lex()||J1,typeof Pl!="number"&&(Pl=He.symbols_[Pl]||Pl),Pl},Ft,er,Dt,vn,wn={},Z1,Fs,J4,ev;;){if(er=Xe[Xe.length-1],this.defaultActions[er]?Dt=this.defaultActions[er]:((Ft===null||typeof Ft>"u")&&(Ft=Y1()),Dt=ae[er]&&ae[er][Ft]),typeof Dt>"u"||!Dt.length||!Dt[0]){var pE="";ev=[];for(Z1 in ae[er])this.terminals_[Z1]&&Z1>K1&&ev.push("'"+this.terminals_[Z1]+"'");zr.showPosition?pE="Parse error on line "+(oe+1)+`:
`+zr.showPosition()+`
Expecting `+ev.join(", ")+", got '"+(this.terminals_[Ft]||Ft)+"'":pE="Parse error on line "+(oe+1)+": Unexpected "+(Ft==J1?"end of input":"'"+(this.terminals_[Ft]||Ft)+"'"),this.parseError(pE,{text:zr.match,token:this.terminals_[Ft]||Ft,line:zr.yylineno,loc:Il,expected:ev})}if(Dt[0]instanceof Array&&Dt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+er+", token: "+Ft);switch(Dt[0]){case 1:Xe.push(Ft),yt.push(zr.yytext),bt.push(zr.yylloc),Xe.push(Dt[1]),Ft=null,Do=zr.yyleng,xi=zr.yytext,oe=zr.yylineno,Il=zr.yylloc;break;case 2:if(Fs=this.productions_[Dt[1]][1],wn.$=yt[yt.length-Fs],wn._$={first_line:bt[bt.length-(Fs||1)].first_line,last_line:bt[bt.length-1].last_line,first_column:bt[bt.length-(Fs||1)].first_column,last_column:bt[bt.length-1].last_column},hE&&(wn._$.range=[bt[bt.length-(Fs||1)].range[0],bt[bt.length-1].range[1]]),vn=this.performAction.apply(wn,[xi,Do,oe,Ga.yy,Dt[1],yt,bt].concat(X1)),typeof vn<"u")return vn;Fs&&(Xe=Xe.slice(0,-1*Fs*2),yt=yt.slice(0,-1*Fs),bt=bt.slice(0,-1*Fs)),Xe.push(this.productions_[Dt[1]][0]),yt.push(wn.$),bt.push(wn._$),J4=ae[Xe[Xe.length-2]][Xe[Xe.length-1]],Xe.push(J4);break;case 3:return!0}}return!0}},z1=oD.Wildcard,G1="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ore=G1+"type",ure=G1+"first",cre=G1+"rest",q4=G1+"nil",W1="http://www.w3.org/2001/XMLSchema#",$4=W1+"integer",U4=W1+"decimal",k4=W1+"double",lre=W1+"boolean",ku="",V4="",H4="";function Qn(Be){return Be.toLowerCase()}function Vu(Be,je){return Be.push(je),Be}function El(Be,je){return Be.push.apply(Be,je),Be}function Qr(Be){Be||(Be={});for(var je=1,He=arguments.length,Xe;je<He&&(Xe=arguments[je]||{});je++)for(var yt in Xe)Be[yt]=Xe[yt];return Be}function Qa(){for(var Be=[],je=0,He=arguments.length;je<He;je++)Be=Be.concat.apply(Be,arguments[je]);return Be}function kf(Be){if(Be[0]==="<"&&(Be=Be.substring(1,Be.length-1)),/^[a-z]+:/i.test(Be))return Be;if(!Bt.base)throw new Error("Cannot resolve relative IRI "+Be+" because no base IRI was set.");switch(ku!==Bt.base&&(ku=Bt.base,V4=ku.replace(/[^\/:]*$/,""),H4=ku.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),Be[0]){case void 0:return ku;case"#":return ku+Be;case"?":return ku.replace(/(?:\?.*)?$/,Be);case"/":return H4+Be;default:return V4+Be}}function rE(Be){if(Be){var je=Be[0];if(je==="?"||je==="$")return Bt.factory.variable(Be.substr(1))}return Be}function bn(Be,je){return{type:"operation",operator:Be,args:je||[]}}function Al(Be,je){var He={expression:Be==="*"?new z1:Be};if(je)for(var Xe in je)He[Xe]=je[Xe];return He}function Ol(Be,je){return{type:"path",pathType:Be,items:je}}function nE(Be,je){for(var He=0,Xe=je.length,yt;He<Xe&&(yt=je[He]);He++)Be=bn(yt[0],[Be,yt[1]]);return Be}function Hu(Be,je){var He=[],Xe=[],yt=Be.length,bt,ae={};if(!yt)return null;for(var xi=0;xi<yt&&(bt=Be[xi]);xi++)(bt.named?Xe:He).push(bt.iri);return ae[je||"from"]={default:He,named:Xe},ae}function Rl(Be){return parseInt(Be,10)}function iE(Be){return Be.type==="group"&&Be.patterns.length===1?Be.patterns[0]:Be}function za(Be,je){return je&&je.termType!=="NamedNode"&&(je=Bt.factory.namedNode(je)),Bt.factory.literal(Be,je)}function dre(Be,je){return Bt.factory.literal(Be,je)}function aE(Be,je,He){if(!("termType"in je))throw new Error("Nested triples cannot contain paths");return Bt.factory.quad(Be,je,He)}function Ms(Be,je,He,Xe){var yt={};return Be!=null&&(yt.subject=Be),je!=null&&(yt.predicate=je),He!=null&&(yt.object=He),Xe!=null&&(yt.annotations=Xe),yt}function Vf(Be){return typeof Be=="string"?Be.startsWith("e_")?Bt.factory.blankNode(Be):Bt.factory.blankNode("e_"+Be):Bt.factory.blankNode("g_"+Q4++)}var Q4=0;Bt._resetBlanks=function(){Q4=0};var fre=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,hre={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},pre=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,sE=String.fromCharCode;function z4(Be,je){Be=Be.substring(je,Be.length-je);try{Be=Be.replace(fre,function(He,Xe,yt,bt){var ae;if(Xe){if(ae=parseInt(Xe,16),isNaN(ae))throw new Error;return sE(ae)}else if(yt){if(ae=parseInt(yt,16),isNaN(ae))throw new Error;return ae<65535?sE(ae):sE(55296+((ae-=65536)>>10),56320+(ae&1023))}else{var xi=hre[bt];if(!xi)throw new Error;return xi}})}catch{return""}if(pre.exec(Be))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+Be);return Be}function yre(Be){var je=Vf(),He=je,Xe=[],yt,bt=[];Be.forEach(function(Do){Xe.push(Do.entity),El(bt,Do.triples)});for(var ae=0,xi=0,oe=Xe.length,yt=Array(oe*2);ae<oe;)yt[xi++]=Ms(He,Bt.factory.namedNode(ure),Xe[ae]),yt[xi++]=Ms(He,Bt.factory.namedNode(cre),He=++ae<oe?Vf():Bt.factory.namedNode(q4));return{entity:je,triples:El(yt,bt)}}function mre(Be){var je=Vf();return{entity:je,triples:Be.map(function(He){return Qr(Ms(je),He)})}}function oE(Be,je,He){var Xe=[],yt=[];return je.forEach(function(bt){let ae=null;bt.annotation&&(ae=bt.annotation,bt=bt.object),Xe.push(Ms(null,Be,bt.entity,ae)),El(yt,bt.triples)}),Qa(Xe,He||[],yt)}function xl(Be){return Be.variable?Be.variable.value:Be.value||Be.expression.value}function uE(Be){if(!Be)return[];if(Be.type==="aggregate")return[Be];if(Be.type==="operation"){const je=[];for(const He of Be.args)je.push(...uE(He));return je}return[]}function gre(Be){const je=new Set,He=function(Xe){Xe&&(Xe.termType==="Variable"?je.add(Xe):Xe.type==="operation"&&Xe.args.forEach(He))};return He(Be),je}function cE(Be,je=1,He=[]){for(const Xe of Be)je>0&&Xe instanceof Array?cE(Xe,je-1,He):He.push(Xe);return He}function lE(Be){return Be.termType==="Variable"}function G4(Be){if(Be.triples){const je=[];for(const He of Be.triples)lE(He.subject)&&je.push(He.subject.value),lE(He.predicate)&&je.push(He.predicate.value),lE(He.object)&&je.push(He.object.value);return je}else if(Be.patterns){const je=[];for(const He of Be.patterns)je.push(...G4(He));return je}return[]}function _re(Be){const je=Be.slice().sort(),He=[];for(let Xe=0;Xe<je.length-1;Xe++)je[Xe+1]==je[Xe]&&He.push(je[Xe]);return He}function Hf(Be){if(!Bt.sparqlStar)throw new Error("SPARQL-star support is not enabled");return Be}function W4(Be,je,He){for(const Xe of je){const yt=Ms("subject"in Xe?Xe.subject:Be,Xe.predicate,Xe.object);He.push(yt),Xe.annotations&&W4(aE(Be,Xe.predicate,Xe.object),Xe.annotations,He)}}function dE(Be){if(Bt.sparqlStar){const je=[];return Be.forEach(He=>{const Xe=Ms(He.subject,He.predicate,He.object);je.push(Xe),He.annotations&&W4(aE(He.subject,He.predicate,He.object),He.annotations,je)}),je}return Be}function K4(Be){for(const je of Be){if(je.type==="graph"&&je.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if(je.type==="bgp"||je.type==="graph"){for(const He of je.triples)if(He.subject.termType==="Variable"||He.predicate.termType==="Variable"||He.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return Be}function fE(Be){for(const je of Be)if(je.type==="bgp"){for(const He of je.triples)if(He.subject.termType==="BlankNode"||He.predicate.termType==="BlankNode"||He.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return Be}var bre=function(){var Be={EOF:1,parseError:function(He,Xe){if(this.yy.parser)this.yy.parser.parseError(He,Xe);else throw new Error(He)},setInput:function(je,He){return this.yy=He||this.yy||{},this._input=je,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var je=this._input[0];this.yytext+=je,this.yyleng++,this.offset++,this.match+=je,this.matched+=je;var He=je.match(/(?:\r\n?|\n).*/g);return He?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),je},unput:function(je){var He=je.length,Xe=je.split(/(?:\r\n?|\n)/g);this._input=je+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-He),this.offset-=He;var yt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Xe.length-1&&(this.yylineno-=Xe.length-1);var bt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Xe?(Xe.length===yt.length?this.yylloc.first_column:0)+yt[yt.length-Xe.length].length-Xe[0].length:this.yylloc.first_column-He},this.options.ranges&&(this.yylloc.range=[bt[0],bt[0]+this.yyleng-He]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(je){this.unput(this.match.slice(je))},pastInput:function(){var je=this.matched.substr(0,this.matched.length-this.match.length);return(je.length>20?"...":"")+je.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var je=this.match;return je.length<20&&(je+=this._input.substr(0,20-je.length)),(je.substr(0,20)+(je.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var je=this.pastInput(),He=new Array(je.length+1).join("-");return je+this.upcomingInput()+`
`+He+"^"},test_match:function(je,He){var Xe,yt,bt;if(this.options.backtrack_lexer&&(bt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(bt.yylloc.range=this.yylloc.range.slice(0))),yt=je[0].match(/(?:\r\n?|\n).*/g),yt&&(this.yylineno+=yt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:yt?yt[yt.length-1].length-yt[yt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+je[0].length},this.yytext+=je[0],this.match+=je[0],this.matches=je,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(je[0].length),this.matched+=je[0],Xe=this.performAction.call(this,this.yy,this,He,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Xe)return Xe;if(this._backtrack){for(var ae in bt)this[ae]=bt[ae];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var je,He,Xe,yt;this._more||(this.yytext="",this.match="");for(var bt=this._currentRules(),ae=0;ae<bt.length;ae++)if(Xe=this._input.match(this.rules[bt[ae]]),Xe&&(!He||Xe[0].length>He[0].length)){if(He=Xe,yt=ae,this.options.backtrack_lexer){if(je=this.test_match(Xe,bt[ae]),je!==!1)return je;if(this._backtrack){He=!1;continue}else return!1}else if(!this.options.flex)break}return He?(je=this.test_match(He,bt[yt]),je!==!1?je:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var He=this.next();return He||this.lex()},begin:function(He){this.conditionStack.push(He)},popState:function(){var He=this.conditionStack.length-1;return He>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(He){return He=this.conditionStack.length-1-Math.abs(He||0),He>=0?this.conditionStack[He]:"INITIAL"},pushState:function(He){this.begin(He)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(He,Xe,yt,bt){switch(yt){case 0:break;case 1:return 12;case 2:return 15;case 3:return 41;case 4:return 325;case 5:return 326;case 6:return 45;case 7:return 47;case 8:return 48;case 9:return 39;case 10:return 24;case 11:return 28;case 12:return 29;case 13:return 31;case 14:return 32;case 15:return 36;case 16:return 53;case 17:return 327;case 18:return 63;case 19:return 64;case 20:return 70;case 21:return 73;case 22:return 76;case 23:return 78;case 24:return 81;case 25:return 83;case 26:return 85;case 27:return 193;case 28:return 100;case 29:return 328;case 30:return 121;case 31:return 329;case 32:return 330;case 33:return 110;case 34:return 331;case 35:return 109;case 36:return 332;case 37:return 333;case 38:return 113;case 39:return 115;case 40:return 116;case 41:return 131;case 42:return 123;case 43:return 126;case 44:return 128;case 45:return 132;case 46:return 112;case 47:return 334;case 48:return 335;case 49:return 159;case 50:return 161;case 51:return 164;case 52:return 174;case 53:return 160;case 54:return 336;case 55:return 163;case 56:return 312;case 57:return 314;case 58:return 317;case 59:return 318;case 60:return 272;case 61:return 197;case 62:return 337;case 63:return 338;case 64:return 229;case 65:return 340;case 66:return 263;case 67:return 224;case 68:return 231;case 69:return 232;case 70:return 242;case 71:return 246;case 72:return 290;case 73:return 341;case 74:return 342;case 75:return 343;case 76:return 344;case 77:return 345;case 78:return 250;case 79:return 346;case 80:return 265;case 81:return 276;case 82:return 277;case 83:return 268;case 84:return 269;case 85:return 270;case 86:return 271;case 87:return 347;case 88:return 348;case 89:return 273;case 90:return 274;case 91:return 350;case 92:return 349;case 93:return 351;case 94:return 279;case 95:return 280;case 96:return 283;case 97:return 285;case 98:return 289;case 99:return 293;case 100:return 296;case 101:return 13;case 102:return 16;case 103:return 308;case 104:return 309;case 105:return 87;case 106:return 292;case 107:return 82;case 108:return 294;case 109:return 295;case 110:return 297;case 111:return 298;case 112:return 299;case 113:return 300;case 114:return 301;case 115:return 302;case 116:return"EXPONENT";case 117:return 303;case 118:return 304;case 119:return 305;case 120:return 306;case 121:return 89;case 122:return 310;case 123:return 6;case 124:return"INVALID";case 125:console.log(Xe.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:\{\|)/i,/^(?:\|\})/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(SUBJECT|PREDICATE|OBJECT|isTRIPLE))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:TRIPLE)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125],inclusive:!0}}};return Be}();tE.lexer=bre;function Bt(){this.yy={}}return Bt.prototype=tE,tE.Parser=Bt,new Bt}(),Rde=Ode,xde="http://www.w3.org/2001/XMLSchema#integer",Ide="http://www.w3.org/2001/XMLSchema#string";function Ir(t){this._options=t=t||{};var e=t.prefixes||{};this._prefixByIri={};var r=[];for(var n in e){var a=e[n];G_(a)&&(this._prefixByIri[a]=n,r.push(a))}var s=r.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=t.sparqlStar,this._indent=G_(t.indent)?t.indent:"  ",this._newline=G_(t.newline)?t.newline:`
`,this._explicitDatatype=!!t.explicitDatatype}Ir.prototype.toQuery=function(t){var e="";return t.queryType&&(e+=t.queryType.toUpperCase()+" "),t.reduced&&(e+="REDUCED "),t.distinct&&(e+="DISTINCT "),t.variables?e+=Li(t.variables,void 0,function(r){return su(r)?this.toEntity(r):"("+this.toExpression(r.expression)+" AS "+hS(r.variable)+")"},this)+" ":t.template&&(e+=this.group(t.template,!0)+this._newline),t.from&&(e+=this.graphs("FROM ",t.from.default)+this.graphs("FROM NAMED ",t.from.named)),t.where&&(e+="WHERE "+this.group(t.where,!0)+this._newline),t.updates&&(e+=Li(t.updates,";"+this._newline,this.toUpdate,this)),t.group&&(e+="GROUP BY "+Li(t.group,void 0,function(r){var n=su(r.expression)?this.toEntity(r.expression):"("+this.toExpression(r.expression)+")";return r.variable?"("+n+" AS "+hS(r.variable)+")":n},this)+this._newline),t.having&&(e+="HAVING ("+Li(t.having,void 0,this.toExpression,this)+")"+this._newline),t.order&&(e+="ORDER BY "+Li(t.order,void 0,function(r){var n="("+this.toExpression(r.expression)+")";return r.descending?"DESC "+n:n},this)+this._newline),t.offset&&(e+="OFFSET "+t.offset+this._newline),t.limit&&(e+="LIMIT "+t.limit+this._newline),t.values&&(e+=this.values(t)),e=this.baseAndPrefixes(t)+e,e.trim()};Ir.prototype.baseAndPrefixes=function(t){var e=t.base?"BASE <"+t.base+">"+this._newline:"",r="";for(var n in t.prefixes)(this._options.allPrefixes||this._usedPrefixes[n])&&(r+="PREFIX "+n+": <"+t.prefixes[n]+">"+this._newline);return e+r};Ir.prototype.toPattern=function(t){var e=t.type||t instanceof Array&&"array"||(t.subject&&t.predicate&&t.object?"triple":"");if(!(e in this))throw new Error("Unknown entry type: "+e);return this[e](t)};Ir.prototype.triple=function(t){return this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+"."};Ir.prototype.array=function(t){return Li(t,this._newline,this.toPattern,this)};Ir.prototype.bgp=function(t){return this.encodeTriples(t.triples)};Ir.prototype.encodeTriples=function(t){if(!t.length)return"";for(var e=[],r=void 0,n=void 0,a=0;a<t.length;a++){var s=t[a];bc(s.subject,r)?bc(s.predicate,n)?e.push(","):(n=s.predicate,e.push(";"+this._newline,this._indent,this.toEntity(n))):(r&&e.push("."+this._newline),r=s.subject,n=s.predicate,e.push(this.toEntity(r)," ",this.toEntity(n))),e.push(" ",this.toEntity(s.object))}return e.push("."),e.join("")};Ir.prototype.graph=function(t){return"GRAPH "+this.toEntity(t.name)+" "+this.group(t)};Ir.prototype.graphs=function(t,e){return!e||e.length===0?"":Li(e,"",function(r){return t+this.toEntity(r)+this._newline},this)};Ir.prototype.group=function(t,e){return t=e!==!0?this.array(t.patterns||t.triples):this.toPattern(t.type!=="group"?t:t.patterns),t.indexOf(this._newline)===-1?"{ "+t+" }":"{"+this._newline+this.indent(t)+this._newline+"}"};Ir.prototype.query=function(t){return this.toQuery(t)};Ir.prototype.filter=function(t){return"FILTER("+this.toExpression(t.expression)+")"};Ir.prototype.bind=function(t){return"BIND("+this.toExpression(t.expression)+" AS "+hS(t.variable)+")"};Ir.prototype.optional=function(t){return"OPTIONAL "+this.group(t)};Ir.prototype.union=function(t){return Li(t.patterns,this._newline+"UNION"+this._newline,function(e){return this.group(e,!0)},this)};Ir.prototype.minus=function(t){return"MINUS "+this.group(t)};Ir.prototype.values=function(t){var e=Object.keys(t.values.reduce(function(a,s){for(var o in s)a[o]=!0;return a},{})),r,n;return e.length===1?r=n="":(r="(",n=")"),"VALUES "+r+e.join(" ")+n+" {"+this._newline+Li(t.values,this._newline,function(a){return"  "+r+Li(e,void 0,function(s){return a[s]?this.toEntity(a[s]):"UNDEF"},this)+n},this)+this._newline+"}"};Ir.prototype.service=function(t){return"SERVICE "+(t.silent?"SILENT ":"")+this.toEntity(t.name)+" "+this.group(t)};Ir.prototype.toExpression=function(t){if(su(t))return this.toEntity(t);switch(t.type.toLowerCase()){case"aggregate":return t.aggregation.toUpperCase()+"("+(t.distinct?"DISTINCT ":"")+this.toExpression(t.expression)+(typeof t.separator=="string"?'; SEPARATOR = "'+t.separator.replace(KW,JW)+'"':"")+")";case"functioncall":return this.toEntity(t.function)+"("+Li(t.args,", ",this.toExpression,this)+")";case"operation":var e=t.operator.toUpperCase(),r=t.args||[];switch(t.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(su(r[0])?this.toEntity(r[0]):"("+this.toExpression(r[0])+")")+" "+e+" "+(su(r[1])?this.toEntity(r[1]):"("+this.toExpression(r[1])+")");case"!":return"!("+this.toExpression(r[0])+")";case"uplus":return"+("+this.toExpression(r[0])+")";case"uminus":return"-("+this.toExpression(r[0])+")";case"notin":e="NOT IN";case"in":return this.toExpression(r[0])+" "+e+"("+(G_(r[1])?r[1]:Li(r[1],", ",this.toExpression,this))+")";case"notexists":e="NOT EXISTS";case"exists":return e+" "+this.group(r[0],!0);default:return e+"("+Li(r,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+t.type)}};Ir.prototype.toEntity=function(t){if(su(t))switch(t.termType){case"Wildcard":return"*";case"Variable":return hS(t);case"BlankNode":return"_:"+t.value;case"Literal":var e=t.value||"",r=t.language||"",n=t.datatype;if(t='"'+e.replace(KW,JW)+'"',r)t+="@"+r;else if(n){if(!this._explicitDatatype)switch(n.value){case Ide:return t;case xde:if(/^\d+$/.test(e))return e+" "}t+="^^"+this.encodeIRI(n.value)}return t;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return t.graph&&t.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(t.graph)+" { "+this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+" }  >>":"<< "+this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+" >>";default:return this.encodeIRI(t.value)}else{var a=t.items.map(this.toEntity,this),s=t.pathType;switch(s){case"^":case"!":return s+a[0];case"*":case"+":case"?":return"("+a[0]+s+")";default:return"("+a.join(s)+")"}}};var KW=/["\\\t\n\r\b\f]/g,JW=function(t){return Pde[t]},Pde={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};Ir.prototype.encodeIRI=function(t){var e=this._prefixRegex.exec(t);if(e){var r=this._prefixByIri[e[1]];return this._usedPrefixes[r]=!0,r+":"+e[2]}return"<"+t+">"};Ir.prototype.toUpdate=function(t){switch(t.type||t.updateType){case"load":return"LOAD"+(t.source?" "+this.toEntity(t.source):"")+(t.destination?" INTO GRAPH "+this.toEntity(t.destination):"");case"insert":return"INSERT DATA "+this.group(t.insert,!0);case"delete":return"DELETE DATA "+this.group(t.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(t.delete,!0);case"insertdelete":return(t.graph?"WITH "+this.toEntity(t.graph)+this._newline:"")+(t.delete.length?"DELETE "+this.group(t.delete,!0)+this._newline:"")+(t.insert.length?"INSERT "+this.group(t.insert,!0)+this._newline:"")+(t.using?this.graphs("USING ",t.using.default):"")+(t.using?this.graphs("USING NAMED ",t.using.named):"")+"WHERE "+this.group(t.where,!0);case"add":case"copy":case"move":return t.type.toUpperCase()+" "+(t.silent?"SILENT ":"")+(t.source.default?"DEFAULT":this.toEntity(t.source.name))+" TO "+this.toEntity(t.destination.name);case"create":case"clear":case"drop":return t.type.toUpperCase()+(t.silent?" SILENT ":" ")+(t.graph.default?"DEFAULT":t.graph.named?"NAMED":t.graph.all?"ALL":"GRAPH "+this.toEntity(t.graph.name));default:throw new Error("Unknown update query type: "+t.type)}};Ir.prototype.indent=function(t){return t.replace(/^/gm,this._indent)};function hS(t){return"?"+t.value}function G_(t){return typeof t=="string"}function su(t){return typeof t.termType=="string"}function bc(t,e){if(!t||!su(t)||!e||!su(e)||t.termType!==e.termType)return!1;switch(t.termType){case"Literal":return t.value===e.value&&t.language===e.language&&bc(t.datatype,e.datatype);case"Quad":return bc(t.subject,e.subject)&&bc(t.predicate,e.predicate)&&bc(t.object,e.object)&&bc(t.graph,e.graph);default:return t.value===e.value}}function Li(t,e,r,n){return t.map(r,n).join(G_(e)?e:" ")}var Nde=function(e={}){return{stringify:function(r){var n=Object.create(e);return n.prefixes=r.prefixes,new Ir(n).toQuery(r)},createGenerator:function(){return new Ir(e)}}},Ot={},kb={};Object.defineProperty(kb,"__esModule",{value:!0});kb.BlankNode=void 0;let Dde=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&e.termType==="BlankNode"&&e.value===this.value}};kb.BlankNode=Dde;var c2={},Vb={};Object.defineProperty(Vb,"__esModule",{value:!0});Vb.DefaultGraph=void 0;let nP=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&e.termType==="DefaultGraph"}};Vb.DefaultGraph=nP;nP.INSTANCE=new nP;var Hb={},cf={};Object.defineProperty(cf,"__esModule",{value:!0});cf.NamedNode=void 0;let Cde=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&e.termType==="NamedNode"&&e.value===this.value}};cf.NamedNode=Cde;Object.defineProperty(Hb,"__esModule",{value:!0});Hb.Literal=void 0;const XW=cf;let uD=class iP{constructor(e,r){this.termType="Literal",this.value=e,typeof r=="string"?(this.language=r,this.datatype=iP.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=iP.XSD_STRING)}equals(e){return!!e&&e.termType==="Literal"&&e.value===this.value&&e.language===this.language&&this.datatype.equals(e.datatype)}};Hb.Literal=uD;uD.RDF_LANGUAGE_STRING=new XW.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");uD.XSD_STRING=new XW.NamedNode("http://www.w3.org/2001/XMLSchema#string");var Qb={};Object.defineProperty(Qb,"__esModule",{value:!0});Qb.Quad=void 0;let Lde=class{constructor(e,r,n,a){this.termType="Quad",this.value="",this.subject=e,this.predicate=r,this.object=n,this.graph=a}equals(e){return!!e&&(e.termType==="Quad"||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}};Qb.Quad=Lde;var zb={};Object.defineProperty(zb,"__esModule",{value:!0});zb.Variable=void 0;let jde=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&e.termType==="Variable"&&e.value===this.value}};zb.Variable=jde;Object.defineProperty(c2,"__esModule",{value:!0});c2.DataFactory=void 0;const Mde=kb,Fde=Vb,UL=Hb,Bde=cf,qde=Qb,$de=zb;let Ude=0,kde=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${Ude++}_`}namedNode(e){return new Bde.NamedNode(e)}blankNode(e){return new Mde.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,r){return new UL.Literal(e,r)}variable(e){return new $de.Variable(e)}defaultGraph(){return Fde.DefaultGraph.INSTANCE}quad(e,r,n,a){return new qde.Quad(e,r,n,a||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(UL.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}};c2.DataFactory=kde;(function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kb,t),r(c2,t),r(Vb,t),r(Hb,t),r(cf,t),r(Qb,t),r(zb,t)})(Ot);var qs=Rde.Parser,Vde=Nde,Hde=oD.Wildcard,{DataFactory:Qde}=Ot,ol={Parser:function({prefixes:t,baseIRI:e,factory:r,sparqlStar:n,skipValidation:a,skipUngroupedVariableCheck:s,pathOnly:o}={}){var u={};for(var c in t||{})u[c]=t[c];var l=new qs;return l.parse=function(){return qs.base=e||"",qs.prefixes=Object.create(u),qs.factory=r||new Qde,qs.sparqlStar=!!n,qs.pathOnly=!!o,qs.skipValidation=!!a||!!s,qs.prototype.parse.apply(l,arguments)},l._resetBlanks=qs._resetBlanks,l},Generator:Vde,Wildcard:Hde},YW={exports:{}},HE={exports:{}},gs={};(function(t){Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},r={};r.byteLength=d,r.toByteArray=h,r.fromByteArray=y;for(var n=[],a=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=o.length;u<c;++u)n[u]=o[u],a[o.charCodeAt(u)]=u;a[45]=62,a[95]=63;function l(v){var _=v.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=v.indexOf("=");w===-1&&(w=_);var E=w===_?0:4-w%4;return[w,E]}function d(v){var _=l(v),w=_[0],E=_[1];return(w+E)*3/4-E}function f(v,_,w){return(_+w)*3/4-w}function h(v){var _,w=l(v),E=w[0],O=w[1],L=new s(f(v,E,O)),F=0,x=O>0?E-4:E,P;for(P=0;P<x;P+=4)_=a[v.charCodeAt(P)]<<18|a[v.charCodeAt(P+1)]<<12|a[v.charCodeAt(P+2)]<<6|a[v.charCodeAt(P+3)],L[F++]=_>>16&255,L[F++]=_>>8&255,L[F++]=_&255;return O===2&&(_=a[v.charCodeAt(P)]<<2|a[v.charCodeAt(P+1)]>>4,L[F++]=_&255),O===1&&(_=a[v.charCodeAt(P)]<<10|a[v.charCodeAt(P+1)]<<4|a[v.charCodeAt(P+2)]>>2,L[F++]=_>>8&255,L[F++]=_&255),L}function p(v){return n[v>>18&63]+n[v>>12&63]+n[v>>6&63]+n[v&63]}function m(v,_,w){for(var E,O=[],L=_;L<w;L+=3)E=(v[L]<<16&16711680)+(v[L+1]<<8&65280)+(v[L+2]&255),O.push(p(E));return O.join("")}function y(v){for(var _,w=v.length,E=w%3,O=[],L=16383,F=0,x=w-E;F<x;F+=L)O.push(m(v,F,F+L>x?x:F+L));return E===1?(_=v[w-1],O.push(n[_>>2]+n[_<<4&63]+"==")):E===2&&(_=(v[w-2]<<8)+v[w-1],O.push(n[_>>10]+n[_>>4&63]+n[_<<2&63]+"=")),O.join("")}var g={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(v,_,w,E,O){var L,F,x=O*8-E-1,P=(1<<x)-1,j=P>>1,N=-7,V=w?O-1:0,$=w?-1:1,q=v[_+V];for(V+=$,L=q&(1<<-N)-1,q>>=-N,N+=x;N>0;L=L*256+v[_+V],V+=$,N-=8);for(F=L&(1<<-N)-1,L>>=-N,N+=E;N>0;F=F*256+v[_+V],V+=$,N-=8);if(L===0)L=1-j;else{if(L===P)return F?NaN:(q?-1:1)*(1/0);F=F+Math.pow(2,E),L=L-j}return(q?-1:1)*F*Math.pow(2,L-E)},g.write=function(v,_,w,E,O,L){var F,x,P,j=L*8-O-1,N=(1<<j)-1,V=N>>1,$=O===23?Math.pow(2,-24)-Math.pow(2,-77):0,q=E?0:L-1,H=E?1:-1,X=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(x=isNaN(_)?1:0,F=N):(F=Math.floor(Math.log(_)/Math.LN2),_*(P=Math.pow(2,-F))<1&&(F--,P*=2),F+V>=1?_+=$/P:_+=$*Math.pow(2,1-V),_*P>=2&&(F++,P/=2),F+V>=N?(x=0,F=N):F+V>=1?(x=(_*P-1)*Math.pow(2,O),F=F+V):(x=_*Math.pow(2,V-1)*Math.pow(2,O),F=0));O>=8;v[w+q]=x&255,q+=H,x/=256,O-=8);for(F=F<<O|x,j+=O;j>0;v[w+q]=F&255,q+=H,F/=256,j-=8);v[w+q-H]|=X*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(v){const _=r,w=g,E=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;v.Buffer=N,v.SlowBuffer=de,v.INSPECT_MAX_BYTES=50;const O=2147483647;v.kMaxLength=O;const{Uint8Array:L,ArrayBuffer:F,SharedArrayBuffer:x}=globalThis;N.TYPED_ARRAY_SUPPORT=P(),!N.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function P(){try{const S=new L(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,L.prototype),Object.setPrototypeOf(S,A),S.foo()===42}catch{return!1}}Object.defineProperty(N.prototype,"parent",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.buffer}}),Object.defineProperty(N.prototype,"offset",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.byteOffset}});function j(S){if(S>O)throw new RangeError('The value "'+S+'" is invalid for option "size"');const A=new L(S);return Object.setPrototypeOf(A,N.prototype),A}function N(S,A,C){if(typeof S=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return H(S)}return V(S,A,C)}N.poolSize=8192;function V(S,A,C){if(typeof S=="string")return X(S,A);if(F.isView(S))return he(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(ut(S,F)||S&&ut(S.buffer,F)||typeof x<"u"&&(ut(S,x)||S&&ut(S.buffer,x)))return Te(S,A,C);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const J=S.valueOf&&S.valueOf();if(J!=null&&J!==S)return N.from(J,A,C);const ie=Ne(S);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return N.from(S[Symbol.toPrimitive]("string"),A,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}N.from=function(S,A,C){return V(S,A,C)},Object.setPrototypeOf(N.prototype,L.prototype),Object.setPrototypeOf(N,L);function $(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function q(S,A,C){return $(S),S<=0?j(S):A!==void 0?typeof C=="string"?j(S).fill(A,C):j(S).fill(A):j(S)}N.alloc=function(S,A,C){return q(S,A,C)};function H(S){return $(S),j(S<0?0:$e(S)|0)}N.allocUnsafe=function(S){return H(S)},N.allocUnsafeSlow=function(S){return H(S)};function X(S,A){if((typeof A!="string"||A==="")&&(A="utf8"),!N.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const C=ce(S,A)|0;let J=j(C);const ie=J.write(S,A);return ie!==C&&(J=J.slice(0,ie)),J}function Y(S){const A=S.length<0?0:$e(S.length)|0,C=j(A);for(let J=0;J<A;J+=1)C[J]=S[J]&255;return C}function he(S){if(ut(S,L)){const A=new L(S);return Te(A.buffer,A.byteOffset,A.byteLength)}return Y(S)}function Te(S,A,C){if(A<0||S.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<A+(C||0))throw new RangeError('"length" is outside of buffer bounds');let J;return A===void 0&&C===void 0?J=new L(S):C===void 0?J=new L(S,A):J=new L(S,A,C),Object.setPrototypeOf(J,N.prototype),J}function Ne(S){if(N.isBuffer(S)){const A=$e(S.length)|0,C=j(A);return C.length===0||S.copy(C,0,0,A),C}if(S.length!==void 0)return typeof S.length!="number"||at(S.length)?j(0):Y(S);if(S.type==="Buffer"&&Array.isArray(S.data))return Y(S.data)}function $e(S){if(S>=O)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+O.toString(16)+" bytes");return S|0}function de(S){return+S!=S&&(S=0),N.alloc(+S)}N.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==N.prototype},N.compare=function(A,C){if(ut(A,L)&&(A=N.from(A,A.offset,A.byteLength)),ut(C,L)&&(C=N.from(C,C.offset,C.byteLength)),!N.isBuffer(A)||!N.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===C)return 0;let J=A.length,ie=C.length;for(let be=0,ve=Math.min(J,ie);be<ve;++be)if(A[be]!==C[be]){J=A[be],ie=C[be];break}return J<ie?-1:ie<J?1:0},N.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},N.concat=function(A,C){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return N.alloc(0);let J;if(C===void 0)for(C=0,J=0;J<A.length;++J)C+=A[J].length;const ie=N.allocUnsafe(C);let be=0;for(J=0;J<A.length;++J){let ve=A[J];if(ut(ve,L))be+ve.length>ie.length?(N.isBuffer(ve)||(ve=N.from(ve)),ve.copy(ie,be)):L.prototype.set.call(ie,ve,be);else if(N.isBuffer(ve))ve.copy(ie,be);else throw new TypeError('"list" argument must be an Array of Buffers');be+=ve.length}return ie};function ce(S,A){if(N.isBuffer(S))return S.length;if(F.isView(S)||ut(S,F))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const C=S.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&C===0)return 0;let ie=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return ee(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return Ue(S).length;default:if(ie)return J?-1:ee(S).length;A=(""+A).toLowerCase(),ie=!0}}N.byteLength=ce;function xe(S,A,C){let J=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,A>>>=0,C<=A))return"";for(S||(S="utf8");;)switch(S){case"hex":return re(this,A,C);case"utf8":case"utf-8":return U(this,A,C);case"ascii":return Z(this,A,C);case"latin1":case"binary":return se(this,A,C);case"base64":return R(this,A,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,A,C);default:if(J)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),J=!0}}N.prototype._isBuffer=!0;function Pe(S,A,C){const J=S[A];S[A]=S[C],S[C]=J}N.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<A;C+=2)Pe(this,C,C+1);return this},N.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<A;C+=4)Pe(this,C,C+3),Pe(this,C+1,C+2);return this},N.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<A;C+=8)Pe(this,C,C+7),Pe(this,C+1,C+6),Pe(this,C+2,C+5),Pe(this,C+3,C+4);return this},N.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?U(this,0,A):xe.apply(this,arguments)},N.prototype.toLocaleString=N.prototype.toString,N.prototype.equals=function(A){if(!N.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:N.compare(this,A)===0},N.prototype.inspect=function(){let A="";const C=v.INSPECT_MAX_BYTES;return A=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(A+=" ... "),"<Buffer "+A+">"},E&&(N.prototype[E]=N.prototype.inspect),N.prototype.compare=function(A,C,J,ie,be){if(ut(A,L)&&(A=N.from(A,A.offset,A.byteLength)),!N.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(C===void 0&&(C=0),J===void 0&&(J=A?A.length:0),ie===void 0&&(ie=0),be===void 0&&(be=this.length),C<0||J>A.length||ie<0||be>this.length)throw new RangeError("out of range index");if(ie>=be&&C>=J)return 0;if(ie>=be)return-1;if(C>=J)return 1;if(C>>>=0,J>>>=0,ie>>>=0,be>>>=0,this===A)return 0;let ve=be-ie,Fe=J-C;const Je=Math.min(ve,Fe),lt=this.slice(ie,be),tt=A.slice(C,J);for(let Qe=0;Qe<Je;++Qe)if(lt[Qe]!==tt[Qe]){ve=lt[Qe],Fe=tt[Qe];break}return ve<Fe?-1:Fe<ve?1:0};function we(S,A,C,J,ie){if(S.length===0)return-1;if(typeof C=="string"?(J=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,at(C)&&(C=ie?0:S.length-1),C<0&&(C=S.length+C),C>=S.length){if(ie)return-1;C=S.length-1}else if(C<0)if(ie)C=0;else return-1;if(typeof A=="string"&&(A=N.from(A,J)),N.isBuffer(A))return A.length===0?-1:Re(S,A,C,J,ie);if(typeof A=="number")return A=A&255,typeof L.prototype.indexOf=="function"?ie?L.prototype.indexOf.call(S,A,C):L.prototype.lastIndexOf.call(S,A,C):Re(S,[A],C,J,ie);throw new TypeError("val must be string, number or Buffer")}function Re(S,A,C,J,ie){let be=1,ve=S.length,Fe=A.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(S.length<2||A.length<2)return-1;be=2,ve/=2,Fe/=2,C/=2}function Je(tt,Qe){return be===1?tt[Qe]:tt.readUInt16BE(Qe*be)}let lt;if(ie){let tt=-1;for(lt=C;lt<ve;lt++)if(Je(S,lt)===Je(A,tt===-1?0:lt-tt)){if(tt===-1&&(tt=lt),lt-tt+1===Fe)return tt*be}else tt!==-1&&(lt-=lt-tt),tt=-1}else for(C+Fe>ve&&(C=ve-Fe),lt=C;lt>=0;lt--){let tt=!0;for(let Qe=0;Qe<Fe;Qe++)if(Je(S,lt+Qe)!==Je(A,Qe)){tt=!1;break}if(tt)return lt}return-1}N.prototype.includes=function(A,C,J){return this.indexOf(A,C,J)!==-1},N.prototype.indexOf=function(A,C,J){return we(this,A,C,J,!0)},N.prototype.lastIndexOf=function(A,C,J){return we(this,A,C,J,!1)};function Se(S,A,C,J){C=Number(C)||0;const ie=S.length-C;J?(J=Number(J),J>ie&&(J=ie)):J=ie;const be=A.length;J>be/2&&(J=be/2);let ve;for(ve=0;ve<J;++ve){const Fe=parseInt(A.substr(ve*2,2),16);if(at(Fe))return ve;S[C+ve]=Fe}return ve}function z(S,A,C,J){return Ye(ee(A,S.length-C),S,C,J)}function M(S,A,C,J){return Ye(Oe(A),S,C,J)}function k(S,A,C,J){return Ye(Ue(A),S,C,J)}function T(S,A,C,J){return Ye(De(A,S.length-C),S,C,J)}N.prototype.write=function(A,C,J,ie){if(C===void 0)ie="utf8",J=this.length,C=0;else if(J===void 0&&typeof C=="string")ie=C,J=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(J)?(J=J>>>0,ie===void 0&&(ie="utf8")):(ie=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const be=this.length-C;if((J===void 0||J>be)&&(J=be),A.length>0&&(J<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let ve=!1;for(;;)switch(ie){case"hex":return Se(this,A,C,J);case"utf8":case"utf-8":return z(this,A,C,J);case"ascii":case"latin1":case"binary":return M(this,A,C,J);case"base64":return k(this,A,C,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,A,C,J);default:if(ve)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),ve=!0}},N.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(S,A,C){return A===0&&C===S.length?_.fromByteArray(S):_.fromByteArray(S.slice(A,C))}function U(S,A,C){C=Math.min(S.length,C);const J=[];let ie=A;for(;ie<C;){const be=S[ie];let ve=null,Fe=be>239?4:be>223?3:be>191?2:1;if(ie+Fe<=C){let Je,lt,tt,Qe;switch(Fe){case 1:be<128&&(ve=be);break;case 2:Je=S[ie+1],(Je&192)===128&&(Qe=(be&31)<<6|Je&63,Qe>127&&(ve=Qe));break;case 3:Je=S[ie+1],lt=S[ie+2],(Je&192)===128&&(lt&192)===128&&(Qe=(be&15)<<12|(Je&63)<<6|lt&63,Qe>2047&&(Qe<55296||Qe>57343)&&(ve=Qe));break;case 4:Je=S[ie+1],lt=S[ie+2],tt=S[ie+3],(Je&192)===128&&(lt&192)===128&&(tt&192)===128&&(Qe=(be&15)<<18|(Je&63)<<12|(lt&63)<<6|tt&63,Qe>65535&&Qe<1114112&&(ve=Qe))}}ve===null?(ve=65533,Fe=1):ve>65535&&(ve-=65536,J.push(ve>>>10&1023|55296),ve=56320|ve&1023),J.push(ve),ie+=Fe}return Q(J)}const G=4096;function Q(S){const A=S.length;if(A<=G)return String.fromCharCode.apply(String,S);let C="",J=0;for(;J<A;)C+=String.fromCharCode.apply(String,S.slice(J,J+=G));return C}function Z(S,A,C){let J="";C=Math.min(S.length,C);for(let ie=A;ie<C;++ie)J+=String.fromCharCode(S[ie]&127);return J}function se(S,A,C){let J="";C=Math.min(S.length,C);for(let ie=A;ie<C;++ie)J+=String.fromCharCode(S[ie]);return J}function re(S,A,C){const J=S.length;(!A||A<0)&&(A=0),(!C||C<0||C>J)&&(C=J);let ie="";for(let be=A;be<C;++be)ie+=ct[S[be]];return ie}function le(S,A,C){const J=S.slice(A,C);let ie="";for(let be=0;be<J.length-1;be+=2)ie+=String.fromCharCode(J[be]+J[be+1]*256);return ie}N.prototype.slice=function(A,C){const J=this.length;A=~~A,C=C===void 0?J:~~C,A<0?(A+=J,A<0&&(A=0)):A>J&&(A=J),C<0?(C+=J,C<0&&(C=0)):C>J&&(C=J),C<A&&(C=A);const ie=this.subarray(A,C);return Object.setPrototypeOf(ie,N.prototype),ie};function pe(S,A,C){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+A>C)throw new RangeError("Trying to access beyond buffer length")}N.prototype.readUintLE=N.prototype.readUIntLE=function(A,C,J){A=A>>>0,C=C>>>0,J||pe(A,C,this.length);let ie=this[A],be=1,ve=0;for(;++ve<C&&(be*=256);)ie+=this[A+ve]*be;return ie},N.prototype.readUintBE=N.prototype.readUIntBE=function(A,C,J){A=A>>>0,C=C>>>0,J||pe(A,C,this.length);let ie=this[A+--C],be=1;for(;C>0&&(be*=256);)ie+=this[A+--C]*be;return ie},N.prototype.readUint8=N.prototype.readUInt8=function(A,C){return A=A>>>0,C||pe(A,1,this.length),this[A]},N.prototype.readUint16LE=N.prototype.readUInt16LE=function(A,C){return A=A>>>0,C||pe(A,2,this.length),this[A]|this[A+1]<<8},N.prototype.readUint16BE=N.prototype.readUInt16BE=function(A,C){return A=A>>>0,C||pe(A,2,this.length),this[A]<<8|this[A+1]},N.prototype.readUint32LE=N.prototype.readUInt32LE=function(A,C){return A=A>>>0,C||pe(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},N.prototype.readUint32BE=N.prototype.readUInt32BE=function(A,C){return A=A>>>0,C||pe(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},N.prototype.readBigUInt64LE=ht(function(A){A=A>>>0,ne(A,"offset");const C=this[A],J=this[A+7];(C===void 0||J===void 0)&&fe(A,this.length-8);const ie=C+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,be=this[++A]+this[++A]*2**8+this[++A]*2**16+J*2**24;return BigInt(ie)+(BigInt(be)<<BigInt(32))}),N.prototype.readBigUInt64BE=ht(function(A){A=A>>>0,ne(A,"offset");const C=this[A],J=this[A+7];(C===void 0||J===void 0)&&fe(A,this.length-8);const ie=C*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],be=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+J;return(BigInt(ie)<<BigInt(32))+BigInt(be)}),N.prototype.readIntLE=function(A,C,J){A=A>>>0,C=C>>>0,J||pe(A,C,this.length);let ie=this[A],be=1,ve=0;for(;++ve<C&&(be*=256);)ie+=this[A+ve]*be;return be*=128,ie>=be&&(ie-=Math.pow(2,8*C)),ie},N.prototype.readIntBE=function(A,C,J){A=A>>>0,C=C>>>0,J||pe(A,C,this.length);let ie=C,be=1,ve=this[A+--ie];for(;ie>0&&(be*=256);)ve+=this[A+--ie]*be;return be*=128,ve>=be&&(ve-=Math.pow(2,8*C)),ve},N.prototype.readInt8=function(A,C){return A=A>>>0,C||pe(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},N.prototype.readInt16LE=function(A,C){A=A>>>0,C||pe(A,2,this.length);const J=this[A]|this[A+1]<<8;return J&32768?J|4294901760:J},N.prototype.readInt16BE=function(A,C){A=A>>>0,C||pe(A,2,this.length);const J=this[A+1]|this[A]<<8;return J&32768?J|4294901760:J},N.prototype.readInt32LE=function(A,C){return A=A>>>0,C||pe(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},N.prototype.readInt32BE=function(A,C){return A=A>>>0,C||pe(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},N.prototype.readBigInt64LE=ht(function(A){A=A>>>0,ne(A,"offset");const C=this[A],J=this[A+7];(C===void 0||J===void 0)&&fe(A,this.length-8);const ie=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(J<<24);return(BigInt(ie)<<BigInt(32))+BigInt(C+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),N.prototype.readBigInt64BE=ht(function(A){A=A>>>0,ne(A,"offset");const C=this[A],J=this[A+7];(C===void 0||J===void 0)&&fe(A,this.length-8);const ie=(C<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(ie)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+J)}),N.prototype.readFloatLE=function(A,C){return A=A>>>0,C||pe(A,4,this.length),w.read(this,A,!0,23,4)},N.prototype.readFloatBE=function(A,C){return A=A>>>0,C||pe(A,4,this.length),w.read(this,A,!1,23,4)},N.prototype.readDoubleLE=function(A,C){return A=A>>>0,C||pe(A,8,this.length),w.read(this,A,!0,52,8)},N.prototype.readDoubleBE=function(A,C){return A=A>>>0,C||pe(A,8,this.length),w.read(this,A,!1,52,8)};function _e(S,A,C,J,ie,be){if(!N.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>ie||A<be)throw new RangeError('"value" argument is out of bounds');if(C+J>S.length)throw new RangeError("Index out of range")}N.prototype.writeUintLE=N.prototype.writeUIntLE=function(A,C,J,ie){if(A=+A,C=C>>>0,J=J>>>0,!ie){const Fe=Math.pow(2,8*J)-1;_e(this,A,C,J,Fe,0)}let be=1,ve=0;for(this[C]=A&255;++ve<J&&(be*=256);)this[C+ve]=A/be&255;return C+J},N.prototype.writeUintBE=N.prototype.writeUIntBE=function(A,C,J,ie){if(A=+A,C=C>>>0,J=J>>>0,!ie){const Fe=Math.pow(2,8*J)-1;_e(this,A,C,J,Fe,0)}let be=J-1,ve=1;for(this[C+be]=A&255;--be>=0&&(ve*=256);)this[C+be]=A/ve&255;return C+J},N.prototype.writeUint8=N.prototype.writeUInt8=function(A,C,J){return A=+A,C=C>>>0,J||_e(this,A,C,1,255,0),this[C]=A&255,C+1},N.prototype.writeUint16LE=N.prototype.writeUInt16LE=function(A,C,J){return A=+A,C=C>>>0,J||_e(this,A,C,2,65535,0),this[C]=A&255,this[C+1]=A>>>8,C+2},N.prototype.writeUint16BE=N.prototype.writeUInt16BE=function(A,C,J){return A=+A,C=C>>>0,J||_e(this,A,C,2,65535,0),this[C]=A>>>8,this[C+1]=A&255,C+2},N.prototype.writeUint32LE=N.prototype.writeUInt32LE=function(A,C,J){return A=+A,C=C>>>0,J||_e(this,A,C,4,4294967295,0),this[C+3]=A>>>24,this[C+2]=A>>>16,this[C+1]=A>>>8,this[C]=A&255,C+4},N.prototype.writeUint32BE=N.prototype.writeUInt32BE=function(A,C,J){return A=+A,C=C>>>0,J||_e(this,A,C,4,4294967295,0),this[C]=A>>>24,this[C+1]=A>>>16,this[C+2]=A>>>8,this[C+3]=A&255,C+4};function Ie(S,A,C,J,ie){K(A,J,ie,S,C,7);let be=Number(A&BigInt(4294967295));S[C++]=be,be=be>>8,S[C++]=be,be=be>>8,S[C++]=be,be=be>>8,S[C++]=be;let ve=Number(A>>BigInt(32)&BigInt(4294967295));return S[C++]=ve,ve=ve>>8,S[C++]=ve,ve=ve>>8,S[C++]=ve,ve=ve>>8,S[C++]=ve,C}function Ee(S,A,C,J,ie){K(A,J,ie,S,C,7);let be=Number(A&BigInt(4294967295));S[C+7]=be,be=be>>8,S[C+6]=be,be=be>>8,S[C+5]=be,be=be>>8,S[C+4]=be;let ve=Number(A>>BigInt(32)&BigInt(4294967295));return S[C+3]=ve,ve=ve>>8,S[C+2]=ve,ve=ve>>8,S[C+1]=ve,ve=ve>>8,S[C]=ve,C+8}N.prototype.writeBigUInt64LE=ht(function(A,C=0){return Ie(this,A,C,BigInt(0),BigInt("0xffffffffffffffff"))}),N.prototype.writeBigUInt64BE=ht(function(A,C=0){return Ee(this,A,C,BigInt(0),BigInt("0xffffffffffffffff"))}),N.prototype.writeIntLE=function(A,C,J,ie){if(A=+A,C=C>>>0,!ie){const Je=Math.pow(2,8*J-1);_e(this,A,C,J,Je-1,-Je)}let be=0,ve=1,Fe=0;for(this[C]=A&255;++be<J&&(ve*=256);)A<0&&Fe===0&&this[C+be-1]!==0&&(Fe=1),this[C+be]=(A/ve>>0)-Fe&255;return C+J},N.prototype.writeIntBE=function(A,C,J,ie){if(A=+A,C=C>>>0,!ie){const Je=Math.pow(2,8*J-1);_e(this,A,C,J,Je-1,-Je)}let be=J-1,ve=1,Fe=0;for(this[C+be]=A&255;--be>=0&&(ve*=256);)A<0&&Fe===0&&this[C+be+1]!==0&&(Fe=1),this[C+be]=(A/ve>>0)-Fe&255;return C+J},N.prototype.writeInt8=function(A,C,J){return A=+A,C=C>>>0,J||_e(this,A,C,1,127,-128),A<0&&(A=255+A+1),this[C]=A&255,C+1},N.prototype.writeInt16LE=function(A,C,J){return A=+A,C=C>>>0,J||_e(this,A,C,2,32767,-32768),this[C]=A&255,this[C+1]=A>>>8,C+2},N.prototype.writeInt16BE=function(A,C,J){return A=+A,C=C>>>0,J||_e(this,A,C,2,32767,-32768),this[C]=A>>>8,this[C+1]=A&255,C+2},N.prototype.writeInt32LE=function(A,C,J){return A=+A,C=C>>>0,J||_e(this,A,C,4,2147483647,-2147483648),this[C]=A&255,this[C+1]=A>>>8,this[C+2]=A>>>16,this[C+3]=A>>>24,C+4},N.prototype.writeInt32BE=function(A,C,J){return A=+A,C=C>>>0,J||_e(this,A,C,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[C]=A>>>24,this[C+1]=A>>>16,this[C+2]=A>>>8,this[C+3]=A&255,C+4},N.prototype.writeBigInt64LE=ht(function(A,C=0){return Ie(this,A,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),N.prototype.writeBigInt64BE=ht(function(A,C=0){return Ee(this,A,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Me(S,A,C,J,ie,be){if(C+J>S.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function Ce(S,A,C,J,ie){return A=+A,C=C>>>0,ie||Me(S,A,C,4),w.write(S,A,C,J,23,4),C+4}N.prototype.writeFloatLE=function(A,C,J){return Ce(this,A,C,!0,J)},N.prototype.writeFloatBE=function(A,C,J){return Ce(this,A,C,!1,J)};function ke(S,A,C,J,ie){return A=+A,C=C>>>0,ie||Me(S,A,C,8),w.write(S,A,C,J,52,8),C+8}N.prototype.writeDoubleLE=function(A,C,J){return ke(this,A,C,!0,J)},N.prototype.writeDoubleBE=function(A,C,J){return ke(this,A,C,!1,J)},N.prototype.copy=function(A,C,J,ie){if(!N.isBuffer(A))throw new TypeError("argument should be a Buffer");if(J||(J=0),!ie&&ie!==0&&(ie=this.length),C>=A.length&&(C=A.length),C||(C=0),ie>0&&ie<J&&(ie=J),ie===J||A.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),A.length-C<ie-J&&(ie=A.length-C+J);const be=ie-J;return this===A&&typeof L.prototype.copyWithin=="function"?this.copyWithin(C,J,ie):L.prototype.set.call(A,this.subarray(J,ie),C),be},N.prototype.fill=function(A,C,J,ie){if(typeof A=="string"){if(typeof C=="string"?(ie=C,C=0,J=this.length):typeof J=="string"&&(ie=J,J=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!N.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(A.length===1){const ve=A.charCodeAt(0);(ie==="utf8"&&ve<128||ie==="latin1")&&(A=ve)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(C<0||this.length<C||this.length<J)throw new RangeError("Out of range index");if(J<=C)return this;C=C>>>0,J=J===void 0?this.length:J>>>0,A||(A=0);let be;if(typeof A=="number")for(be=C;be<J;++be)this[be]=A;else{const ve=N.isBuffer(A)?A:N.from(A,ie),Fe=ve.length;if(Fe===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(be=0;be<J-C;++be)this[be+C]=ve[be%Fe]}return this};const qe={};function W(S,A,C){qe[S]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}W("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(S,A){return`The "${S}" argument must be of type number. Received type ${typeof A}`},TypeError),W("ERR_OUT_OF_RANGE",function(S,A,C){let J=`The value of "${S}" is out of range.`,ie=C;return Number.isInteger(C)&&Math.abs(C)>2**32?ie=D(String(C)):typeof C=="bigint"&&(ie=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(ie=D(ie)),ie+="n"),J+=` It must be ${A}. Received ${ie}`,J},RangeError);function D(S){let A="",C=S.length;const J=S[0]==="-"?1:0;for(;C>=J+4;C-=3)A=`_${S.slice(C-3,C)}${A}`;return`${S.slice(0,C)}${A}`}function B(S,A,C){ne(A,"offset"),(S[A]===void 0||S[A+C]===void 0)&&fe(A,S.length-(C+1))}function K(S,A,C,J,ie,be){if(S>C||S<A){const ve=typeof A=="bigint"?"n":"";let Fe;throw be>3?A===0||A===BigInt(0)?Fe=`>= 0${ve} and < 2${ve} ** ${(be+1)*8}${ve}`:Fe=`>= -(2${ve} ** ${(be+1)*8-1}${ve}) and < 2 ** ${(be+1)*8-1}${ve}`:Fe=`>= ${A}${ve} and <= ${C}${ve}`,new qe.ERR_OUT_OF_RANGE("value",Fe,S)}B(J,ie,be)}function ne(S,A){if(typeof S!="number")throw new qe.ERR_INVALID_ARG_TYPE(A,"number",S)}function fe(S,A,C){throw Math.floor(S)!==S?(ne(S,C),new qe.ERR_OUT_OF_RANGE(C||"offset","an integer",S)):A<0?new qe.ERR_BUFFER_OUT_OF_BOUNDS:new qe.ERR_OUT_OF_RANGE(C||"offset",`>= ${C?1:0} and <= ${A}`,S)}const ge=/[^+/0-9A-Za-z-_]/g;function Le(S){if(S=S.split("=")[0],S=S.trim().replace(ge,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function ee(S,A){A=A||1/0;let C;const J=S.length;let ie=null;const be=[];for(let ve=0;ve<J;++ve){if(C=S.charCodeAt(ve),C>55295&&C<57344){if(!ie){if(C>56319){(A-=3)>-1&&be.push(239,191,189);continue}else if(ve+1===J){(A-=3)>-1&&be.push(239,191,189);continue}ie=C;continue}if(C<56320){(A-=3)>-1&&be.push(239,191,189),ie=C;continue}C=(ie-55296<<10|C-56320)+65536}else ie&&(A-=3)>-1&&be.push(239,191,189);if(ie=null,C<128){if((A-=1)<0)break;be.push(C)}else if(C<2048){if((A-=2)<0)break;be.push(C>>6|192,C&63|128)}else if(C<65536){if((A-=3)<0)break;be.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((A-=4)<0)break;be.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return be}function Oe(S){const A=[];for(let C=0;C<S.length;++C)A.push(S.charCodeAt(C)&255);return A}function De(S,A){let C,J,ie;const be=[];for(let ve=0;ve<S.length&&!((A-=2)<0);++ve)C=S.charCodeAt(ve),J=C>>8,ie=C%256,be.push(ie),be.push(J);return be}function Ue(S){return _.toByteArray(Le(S))}function Ye(S,A,C,J){let ie;for(ie=0;ie<J&&!(ie+C>=A.length||ie>=S.length);++ie)A[ie+C]=S[ie];return ie}function ut(S,A){return S instanceof A||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===A.name}function at(S){return S!==S}const ct=function(){const S="0123456789abcdef",A=new Array(256);for(let C=0;C<16;++C){const J=C*16;for(let ie=0;ie<16;++ie)A[J+ie]=S[C]+S[ie]}return A}();function ht(S){return typeof BigInt>"u"?te:S}function te(){throw new Error("BigInt not supported")}})(e);const b=e.Buffer;t.Blob=e.Blob,t.BlobOptions=e.BlobOptions,t.Buffer=e.Buffer,t.File=e.File,t.FileOptions=e.FileOptions,t.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,t.SlowBuffer=e.SlowBuffer,t.TranscodeEncoding=e.TranscodeEncoding,t.atob=e.atob,t.btoa=e.btoa,t.constants=e.constants,t.default=b,t.isAscii=e.isAscii,t.isUtf8=e.isUtf8,t.kMaxLength=e.kMaxLength,t.kStringMaxLength=e.kStringMaxLength,t.resolveObjectURL=e.resolveObjectURL,t.transcode=e.transcode})(gs);var kr={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array},ZW={exports:{}},Jf={exports:{}},kL;function $d(){if(kL)return Jf.exports;kL=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Jf.exports=t,Jf.exports.AbortSignal=e,Jf.exports.default=t,Jf.exports}var cD={exports:{}},vd=typeof Reflect=="object"?Reflect:null,VL=vd&&typeof vd.apply=="function"?vd.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Tw;vd&&typeof vd.ownKeys=="function"?Tw=vd.ownKeys:Object.getOwnPropertySymbols?Tw=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Tw=function(e){return Object.getOwnPropertyNames(e)};function zde(t){console&&console.warn&&console.warn(t)}var eK=Number.isNaN||function(e){return e!==e};function hr(){hr.init.call(this)}cD.exports=hr;cD.exports.once=Jde;hr.EventEmitter=hr;hr.prototype._events=void 0;hr.prototype._eventsCount=0;hr.prototype._maxListeners=void 0;var HL=10;function l2(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(hr,"defaultMaxListeners",{enumerable:!0,get:function(){return HL},set:function(t){if(typeof t!="number"||t<0||eK(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");HL=t}});hr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};hr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||eK(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function tK(t){return t._maxListeners===void 0?hr.defaultMaxListeners:t._maxListeners}hr.prototype.getMaxListeners=function(){return tK(this)};hr.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var a=e==="error",s=this._events;if(s!==void 0)a=a&&s.error===void 0;else if(!a)return!1;if(a){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")VL(c,this,r);else for(var l=c.length,d=sK(c,l),n=0;n<l;++n)VL(d[n],this,r);return!0};function rK(t,e,r,n){var a,s,o;if(l2(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),a=tK(t),a>0&&o.length>a&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,zde(u)}return t}hr.prototype.addListener=function(e,r){return rK(this,e,r,!1)};hr.prototype.on=hr.prototype.addListener;hr.prototype.prependListener=function(e,r){return rK(this,e,r,!0)};function Gde(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function nK(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},a=Gde.bind(n);return a.listener=r,n.wrapFn=a,a}hr.prototype.once=function(e,r){return l2(r),this.on(e,nK(this,e,r)),this};hr.prototype.prependOnceListener=function(e,r){return l2(r),this.prependListener(e,nK(this,e,r)),this};hr.prototype.removeListener=function(e,r){var n,a,s,o,u;if(l2(r),a=this._events,a===void 0)return this;if(n=a[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){u=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():Wde(n,s),n.length===1&&(a[e]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",e,u||r)}return this};hr.prototype.off=hr.prototype.removeListener;hr.prototype.removeAllListeners=function(e){var r,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(a=0;a<s.length;++a)o=s[a],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(e,r[a]);return this};function iK(t,e,r){var n=t._events;if(n===void 0)return[];var a=n[e];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?Kde(a):sK(a,a.length)}hr.prototype.listeners=function(e){return iK(this,e,!0)};hr.prototype.rawListeners=function(e){return iK(this,e,!1)};hr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):aK.call(t,e)};hr.prototype.listenerCount=aK;function aK(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}hr.prototype.eventNames=function(){return this._eventsCount>0?Tw(this._events):[]};function sK(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Wde(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Kde(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Jde(t,e){return new Promise(function(r,n){function a(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",a),r([].slice.call(arguments))}oK(t,e,s,{once:!0}),e!=="error"&&Xde(t,a,{once:!0})})}function Xde(t,e,r){typeof t.on=="function"&&oK(t,"error",e,r)}function oK(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function a(s){n.once&&t.removeEventListener(e,a),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Gb=cD.exports;(function(t){const e=gs,{kResistStopPropagation:r,SymbolDispose:n}=kr,a=globalThis.AbortSignal||$d().AbortSignal,s=globalThis.AbortController||$d().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,u=globalThis.Blob||e.Blob,c=typeof u<"u"?function(p){return p instanceof u}:function(p){return!1},l=(h,p)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",h)},d=(h,p)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",h)};class f extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let m="";for(let y=0;y<p.length;y++)m+=`    ${p[y].stack}
`;super(m),this.name="AggregateError",this.errors=p}}t.exports={AggregateError:f,kEmptyObject:Object.freeze({}),once(h){let p=!1;return function(...m){p||(p=!0,h.apply(this,m))}},createDeferredPromise:function(){let h,p;return{promise:new Promise((y,g)=>{h=y,p=g}),resolve:h,reject:p}},promisify(h){return new Promise((p,m)=>{h((y,...g)=>y?m(y):p(...g))})},debuglog(){return function(){}},format(h,...p){return h.replace(/%([sdifj])/g,function(...[m,y]){const g=p.shift();return y==="f"?g.toFixed(6):y==="j"?JSON.stringify(g):y==="s"&&typeof g=="object"?`${g.constructor!==Object?g.constructor.name:""} {}`.trim():g.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof o},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:c,deprecate(h,p){return h},addAbortListener:Gb.addAbortListener||function(p,m){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);l(p,"signal"),d(m,"listener");let y;return p.aborted?queueMicrotask(()=>m()):(p.addEventListener("abort",m,{__proto__:null,once:!0,[r]:!0}),y=()=>{p.removeEventListener("abort",m)}),{__proto__:null,[n](){var g;(g=y)===null||g===void 0||g()}}},AbortSignalAny:a.any||function(p){if(p.length===1)return p[0];const m=new s,y=()=>m.abort();return p.forEach(g=>{l(g,"signals"),g.addEventListener("abort",y,{once:!0})}),m.signal.addEventListener("abort",()=>{p.forEach(g=>g.removeEventListener("abort",y))},{once:!0}),m.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(ZW);var ci=ZW.exports,lD={};const{format:Yde,inspect:pS,AggregateError:Zde}=ci,efe=globalThis.AggregateError||Zde,tfe=Symbol("kIsNodeError"),rfe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],nfe=/^([A-Z][a-z0-9]*)+$/,ife="__node_internal_",d2={};function qc(t,e){if(!t)throw new d2.ERR_INTERNAL_ASSERTION(e)}function QL(t){let e="",r=t.length;const n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function afe(t,e,r){if(typeof e=="function")return qc(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);const n=(e.match(/%[dfijoOs]/g)||[]).length;return qc(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Yde(e,...r)}function In(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(afe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[tfe]=!0,d2[t]=n}function zL(t){const e=ife+t.name;return Object.defineProperty(t,"name",{value:e}),t}function sfe(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const r=new efe([e,t],e.message);return r.code=e.code,r}return t||e}let ofe=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new d2.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};In("ERR_ASSERTION","%s",Error);In("ERR_INVALID_ARG_TYPE",(t,e,r)=>{qc(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";const a=[],s=[],o=[];for(const c of e)qc(typeof c=="string","All expected entries have to be of type string"),rfe.includes(c)?a.push(c.toLowerCase()):nfe.test(c)?s.push(c):(qc(c!=="object",'The value "object" should be written as "Object"'),o.push(c));if(s.length>0){const c=a.indexOf("object");c!==-1&&(a.splice(a,c,1),s.push("Object"))}if(a.length>0){switch(a.length){case 1:n+=`of type ${a[0]}`;break;case 2:n+=`one of type ${a[0]} or ${a[1]}`;break;default:{const c=a.pop();n+=`one of type ${a.join(", ")}, or ${c}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const c=s.pop();n+=`an instance of ${s.join(", ")}, or ${c}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{const c=o.pop();n+=`one of ${o.join(", ")}, or ${c}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var u;if((u=r.constructor)!==null&&u!==void 0&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{const c=pS(r,{depth:-1});n+=`. Received ${c}`}}else{let c=pS(r,{colors:!1});c.length>25&&(c=`${c.slice(0,25)}...`),n+=`. Received type ${typeof r} (${c})`}return n},TypeError);In("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=pS(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);In("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;const a=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${a}.`},TypeError);In("ERR_MISSING_ARGS",(...t)=>{qc(t.length>0,"At least one arg needs to be specified");let e;const r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);In("ERR_OUT_OF_RANGE",(t,e,r)=>{qc(e,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=QL(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=QL(n)),n+="n"):n=pS(r),`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);In("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);In("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);In("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);In("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);In("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);In("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);In("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);In("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);In("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);In("ERR_STREAM_WRITE_AFTER_END","write after end",Error);In("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Ai={AbortError:ofe,aggregateTwoErrors:zL(sfe),hideStackFrames:zL,codes:d2};const{ArrayIsArray:dD,ArrayPrototypeIncludes:uK,ArrayPrototypeJoin:cK,ArrayPrototypeMap:ufe,NumberIsInteger:fD,NumberIsNaN:cfe,NumberMAX_SAFE_INTEGER:lfe,NumberMIN_SAFE_INTEGER:dfe,NumberParseInt:ffe,ObjectPrototypeHasOwnProperty:hfe,RegExpPrototypeExec:lK,String:pfe,StringPrototypeToUpperCase:yfe,StringPrototypeTrim:mfe}=kr,{hideStackFrames:ya,codes:{ERR_SOCKET_BAD_PORT:gfe,ERR_INVALID_ARG_TYPE:Un,ERR_INVALID_ARG_VALUE:lf,ERR_OUT_OF_RANGE:Gc,ERR_UNKNOWN_SIGNAL:GL}}=Ai,{normalizeEncoding:_fe}=ci,{isAsyncFunction:bfe,isArrayBufferView:vfe}=ci.types,WL={};function wfe(t){return t===(t|0)}function Sfe(t){return t===t>>>0}const Tfe=/^[0-7]+$/,Efe="must be a 32-bit unsigned integer or an octal string";function Afe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(lK(Tfe,t)===null)throw new lf(e,t,Efe);t=ffe(t,8)}return dK(t,e),t}const Ofe=ya((t,e,r=dfe,n=lfe)=>{if(typeof t!="number")throw new Un(e,"number",t);if(!fD(t))throw new Gc(e,"an integer",t);if(t<r||t>n)throw new Gc(e,`>= ${r} && <= ${n}`,t)}),Rfe=ya((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Un(e,"number",t);if(!fD(t))throw new Gc(e,"an integer",t);if(t<r||t>n)throw new Gc(e,`>= ${r} && <= ${n}`,t)}),dK=ya((t,e,r=!1)=>{if(typeof t!="number")throw new Un(e,"number",t);if(!fD(t))throw new Gc(e,"an integer",t);const n=r?1:0,a=4294967295;if(t<n||t>a)throw new Gc(e,`>= ${n} && <= ${a}`,t)});function hD(t,e){if(typeof t!="string")throw new Un(e,"string",t)}function xfe(t,e,r=void 0,n){if(typeof t!="number")throw new Un(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&cfe(t))throw new Gc(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}const Ife=ya((t,e,r)=>{if(!uK(r,t)){const a="must be one of: "+cK(ufe(r,s=>typeof s=="string"?`'${s}'`:pfe(s)),", ");throw new lf(e,t,a)}});function fK(t,e){if(typeof t!="boolean")throw new Un(e,"boolean",t)}function QE(t,e,r){return t==null||!hfe(t,e)?r:t[e]}const Pfe=ya((t,e,r=null)=>{const n=QE(r,"allowArray",!1),a=QE(r,"allowFunction",!1);if(!QE(r,"nullable",!1)&&t===null||!n&&dD(t)||typeof t!="object"&&(!a||typeof t!="function"))throw new Un(e,"Object",t)}),Nfe=ya((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Un(e,"a dictionary",t)}),f2=ya((t,e,r=0)=>{if(!dD(t))throw new Un(e,"Array",t);if(t.length<r){const n=`must be longer than ${r}`;throw new lf(e,t,n)}});function Dfe(t,e){f2(t,e);for(let r=0;r<t.length;r++)hD(t[r],`${e}[${r}]`)}function Cfe(t,e){f2(t,e);for(let r=0;r<t.length;r++)fK(t[r],`${e}[${r}]`)}function Lfe(t,e){f2(t,e);for(let r=0;r<t.length;r++){const n=t[r],a=`${e}[${r}]`;if(n==null)throw new Un(a,"AbortSignal",n);hK(n,a)}}function jfe(t,e="signal"){if(hD(t,e),WL[t]===void 0)throw WL[yfe(t)]!==void 0?new GL(t+" (signals must use all capital letters)"):new GL(t)}const Mfe=ya((t,e="buffer")=>{if(!vfe(t))throw new Un(e,["Buffer","TypedArray","DataView"],t)});function Ffe(t,e){const r=_fe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new lf("encoding",e,`is invalid for data of length ${n}`)}function Bfe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&mfe(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new gfe(e,t,r);return t|0}const hK=ya((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Un(e,"AbortSignal",t)}),qfe=ya((t,e)=>{if(typeof t!="function")throw new Un(e,"Function",t)}),$fe=ya((t,e)=>{if(typeof t!="function"||bfe(t))throw new Un(e,"Function",t)}),Ufe=ya((t,e)=>{if(t!==void 0)throw new Un(e,"undefined",t)});function kfe(t,e,r){if(!uK(r,t))throw new Un(e,`('${cK(r,"|")}')`,t)}const Vfe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function KL(t,e){if(typeof t>"u"||!lK(Vfe,t))throw new lf(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Hfe(t){if(typeof t=="string")return KL(t,"hints"),t;if(dD(t)){const e=t.length;let r="";if(e===0)return r;for(let n=0;n<e;n++){const a=t[n];KL(a,"hints"),r+=a,n!==e-1&&(r+=", ")}return r}throw new lf("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var Wb={isInt32:wfe,isUint32:Sfe,parseFileMode:Afe,validateArray:f2,validateStringArray:Dfe,validateBooleanArray:Cfe,validateAbortSignalArray:Lfe,validateBoolean:fK,validateBuffer:Mfe,validateDictionary:Nfe,validateEncoding:Ffe,validateFunction:qfe,validateInt32:Rfe,validateInteger:Ofe,validateNumber:xfe,validateObject:Pfe,validateOneOf:Ife,validatePlainFunction:$fe,validatePort:Bfe,validateSignalName:jfe,validateString:hD,validateUint32:dK,validateUndefined:Ufe,validateUnion:kfe,validateAbortSignal:hK,validateLinkHeaderValue:Hfe},pD={exports:{}},pK={exports:{}},Yr=pK.exports={},es,ts;function aP(){throw new Error("setTimeout has not been defined")}function sP(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?es=setTimeout:es=aP}catch{es=aP}try{typeof clearTimeout=="function"?ts=clearTimeout:ts=sP}catch{ts=sP}})();function yK(t){if(es===setTimeout)return setTimeout(t,0);if((es===aP||!es)&&setTimeout)return es=setTimeout,setTimeout(t,0);try{return es(t,0)}catch{try{return es.call(null,t,0)}catch{return es.call(this,t,0)}}}function Qfe(t){if(ts===clearTimeout)return clearTimeout(t);if((ts===sP||!ts)&&clearTimeout)return ts=clearTimeout,clearTimeout(t);try{return ts(t)}catch{try{return ts.call(null,t)}catch{return ts.call(this,t)}}}var io=[],wd=!1,Ic,Ew=-1;function zfe(){!wd||!Ic||(wd=!1,Ic.length?io=Ic.concat(io):Ew=-1,io.length&&mK())}function mK(){if(!wd){var t=yK(zfe);wd=!0;for(var e=io.length;e;){for(Ic=io,io=[];++Ew<e;)Ic&&Ic[Ew].run();Ew=-1,e=io.length}Ic=null,wd=!1,Qfe(t)}}Yr.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];io.push(new gK(t,e)),io.length===1&&!wd&&yK(mK)};function gK(t,e){this.fun=t,this.array=e}gK.prototype.run=function(){this.fun.apply(null,this.array)};Yr.title="browser";Yr.browser=!0;Yr.env={};Yr.argv=[];Yr.version="";Yr.versions={};function Ao(){}Yr.on=Ao;Yr.addListener=Ao;Yr.once=Ao;Yr.off=Ao;Yr.removeListener=Ao;Yr.removeAllListeners=Ao;Yr.emit=Ao;Yr.prependListener=Ao;Yr.prependOnceListener=Ao;Yr.listeners=function(t){return[]};Yr.binding=function(t){throw new Error("process.binding is not supported")};Yr.cwd=function(){return"/"};Yr.chdir=function(t){throw new Error("process.chdir is not supported")};Yr.umask=function(){return 0};var Oo=pK.exports;const{SymbolAsyncIterator:JL,SymbolIterator:XL,SymbolFor:ul}=kr,_K=ul("nodejs.stream.destroyed"),bK=ul("nodejs.stream.errored"),oP=ul("nodejs.stream.readable"),uP=ul("nodejs.stream.writable"),vK=ul("nodejs.stream.disturbed"),Gfe=ul("nodejs.webstream.isClosedPromise"),Wfe=ul("nodejs.webstream.controllerErrorFunction");function h2(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function p2(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Kfe(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function _s(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function wK(t){return!!(t&&!_s(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function SK(t){return!!(t&&!_s(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function TK(t){return!!(t&&!_s(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Jfe(t){return wK(t)||SK(t)||TK(t)}function Xfe(t,e){return t==null?!1:e===!0?typeof t[JL]=="function":e===!1?typeof t[XL]=="function":typeof t[JL]=="function"||typeof t[XL]=="function"}function y2(t){if(!_s(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[_K]||n!=null&&n.destroyed)}function EK(t){if(!p2(t))return null;if(t.writableEnded===!0)return!0;const e=t._writableState;return e!=null&&e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function Yfe(t,e){if(!p2(t))return null;if(t.writableFinished===!0)return!0;const r=t._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Zfe(t){if(!h2(t))return null;if(t.readableEnded===!0)return!0;const e=t._readableState;return!e||e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function AK(t,e){if(!h2(t))return null;const r=t._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function OK(t){return t&&t[oP]!=null?t[oP]:typeof(t==null?void 0:t.readable)!="boolean"?null:y2(t)?!1:h2(t)&&t.readable&&!AK(t)}function RK(t){return t&&t[uP]!=null?t[uP]:typeof(t==null?void 0:t.writable)!="boolean"?null:y2(t)?!1:p2(t)&&t.writable&&!EK(t)}function ehe(t,e){return _s(t)?y2(t)?!0:!((e==null?void 0:e.readable)!==!1&&OK(t)||(e==null?void 0:e.writable)!==!1&&RK(t)):null}function the(t){var e,r;return _s(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function rhe(t){var e,r;return _s(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function nhe(t){if(!_s(t))return null;if(typeof t.closed=="boolean")return t.closed;const e=t._writableState,r=t._readableState;return typeof(e==null?void 0:e.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(e==null?void 0:e.closed)||(r==null?void 0:r.closed):typeof t._closed=="boolean"&&xK(t)?t._closed:null}function xK(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function IK(t){return typeof t._sent100=="boolean"&&xK(t)}function ihe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function ahe(t){if(!_s(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!n&&IK(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function she(t){var e;return!!(t&&((e=t[vK])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function ohe(t){var e,r,n,a,s,o,u,c,l,d;return!!(t&&((e=(r=(n=(a=(s=(o=t[bK])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&a!==void 0?a:(u=t._readableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&n!==void 0?n:(c=t._writableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&r!==void 0?r:(l=t._readableState)===null||l===void 0?void 0:l.errored)!==null&&e!==void 0?e:!((d=t._writableState)===null||d===void 0)&&d.errored))}var Ro={isDestroyed:y2,kIsDestroyed:_K,isDisturbed:she,kIsDisturbed:vK,isErrored:ohe,kIsErrored:bK,isReadable:OK,kIsReadable:oP,kIsClosedPromise:Gfe,kControllerErrorFunction:Wfe,kIsWritable:uP,isClosed:nhe,isDuplexNodeStream:Kfe,isFinished:ehe,isIterable:Xfe,isReadableNodeStream:h2,isReadableStream:wK,isReadableEnded:Zfe,isReadableFinished:AK,isReadableErrored:rhe,isNodeStream:_s,isWebStream:Jfe,isWritable:RK,isWritableNodeStream:p2,isWritableStream:SK,isWritableEnded:EK,isWritableFinished:Yfe,isWritableErrored:the,isServerRequest:ihe,isServerResponse:IK,willEmitClose:ahe,isTransformStream:TK};const Yo=Oo,{AbortError:PK,codes:uhe}=Ai,{ERR_INVALID_ARG_TYPE:che,ERR_STREAM_PREMATURE_CLOSE:YL}=uhe,{kEmptyObject:cP,once:lP}=ci,{validateAbortSignal:lhe,validateFunction:dhe,validateObject:fhe,validateBoolean:hhe}=Wb,{Promise:phe,PromisePrototypeThen:yhe,SymbolDispose:NK}=kr,{isClosed:mhe,isReadable:ZL,isReadableNodeStream:zE,isReadableStream:ghe,isReadableFinished:ej,isReadableErrored:tj,isWritable:rj,isWritableNodeStream:nj,isWritableStream:_he,isWritableFinished:ij,isWritableErrored:aj,isNodeStream:bhe,willEmitClose:vhe,kIsClosedPromise:whe}=Ro;let Sd;function She(t){return t.setHeader&&typeof t.abort=="function"}const dP=()=>{};function DK(t,e,r){var n,a;if(arguments.length===2?(r=e,e=cP):e==null?e=cP:fhe(e,"options"),dhe(r,"callback"),lhe(e.signal,"options.signal"),r=lP(r),ghe(t)||_he(t))return The(t,e,r);if(!bhe(t))throw new che("stream",["ReadableStream","WritableStream","Stream"],t);const s=(n=e.readable)!==null&&n!==void 0?n:zE(t),o=(a=e.writable)!==null&&a!==void 0?a:nj(t),u=t._writableState,c=t._readableState,l=()=>{t.writable||h()};let d=vhe(t)&&zE(t)===s&&nj(t)===o,f=ij(t,!1);const h=()=>{f=!0,t.destroyed&&(d=!1),!(d&&(!t.readable||s))&&(!s||p)&&r.call(t)};let p=ej(t,!1);const m=()=>{p=!0,t.destroyed&&(d=!1),!(d&&(!t.writable||o))&&(!o||f)&&r.call(t)},y=E=>{r.call(t,E)};let g=mhe(t);const b=()=>{g=!0;const E=aj(t)||tj(t);if(E&&typeof E!="boolean")return r.call(t,E);if(s&&!p&&zE(t,!0)&&!ej(t,!1))return r.call(t,new YL);if(o&&!f&&!ij(t,!1))return r.call(t,new YL);r.call(t)},v=()=>{g=!0;const E=aj(t)||tj(t);if(E&&typeof E!="boolean")return r.call(t,E);r.call(t)},_=()=>{t.req.on("finish",h)};She(t)?(t.on("complete",h),d||t.on("abort",b),t.req?_():t.on("request",_)):o&&!u&&(t.on("end",l),t.on("close",l)),!d&&typeof t.aborted=="boolean"&&t.on("aborted",b),t.on("end",m),t.on("finish",h),e.error!==!1&&t.on("error",y),t.on("close",b),g?Yo.nextTick(b):u!=null&&u.errorEmitted||c!=null&&c.errorEmitted?d||Yo.nextTick(v):(!s&&(!d||ZL(t))&&(f||rj(t)===!1)||!o&&(!d||rj(t))&&(p||ZL(t)===!1)||c&&t.req&&t.aborted)&&Yo.nextTick(v);const w=()=>{r=dP,t.removeListener("aborted",b),t.removeListener("complete",h),t.removeListener("abort",b),t.removeListener("request",_),t.req&&t.req.removeListener("finish",h),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",h),t.removeListener("end",m),t.removeListener("error",y),t.removeListener("close",b)};if(e.signal&&!g){const E=()=>{const O=r;w(),O.call(t,new PK(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Yo.nextTick(E);else{Sd=Sd||ci.addAbortListener;const O=Sd(e.signal,E),L=r;r=lP((...F)=>{O[NK](),L.apply(t,F)})}}return w}function The(t,e,r){let n=!1,a=dP;if(e.signal)if(a=()=>{n=!0,r.call(t,new PK(void 0,{cause:e.signal.reason}))},e.signal.aborted)Yo.nextTick(a);else{Sd=Sd||ci.addAbortListener;const o=Sd(e.signal,a),u=r;r=lP((...c)=>{o[NK](),u.apply(t,c)})}const s=(...o)=>{n||Yo.nextTick(()=>r.apply(t,o))};return yhe(t[whe].promise,s,s),dP}function Ehe(t,e){var r;let n=!1;return e===null&&(e=cP),(r=e)!==null&&r!==void 0&&r.cleanup&&(hhe(e.cleanup,"cleanup"),n=e.cleanup),new phe((a,s)=>{const o=DK(t,e,u=>{n&&o(),u?s(u):a()})})}pD.exports=DK;pD.exports.finished=Ehe;var Ru=pD.exports;const ds=Oo,{aggregateTwoErrors:Ahe,codes:{ERR_MULTIPLE_CALLBACK:Ohe},AbortError:Rhe}=Ai,{Symbol:CK}=kr,{kIsDestroyed:xhe,isDestroyed:Ihe,isFinished:Phe,isServerRequest:Nhe}=Ro,LK=CK("kDestroy"),fP=CK("kConstruct");function jK(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function Dhe(t,e){const r=this._readableState,n=this._writableState,a=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(jK(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),a.constructed?sj(this,t,e):this.once(LK,function(s){sj(this,Ahe(s,t),e)}),this)}function sj(t,e,r){let n=!1;function a(s){if(n)return;n=!0;const o=t._readableState,u=t._writableState;jK(s,u,o),u&&(u.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?ds.nextTick(Che,t,s):ds.nextTick(MK,t)}try{t._destroy(e||null,a)}catch(s){a(s)}}function Che(t,e){hP(t,e),MK(t)}function MK(t){const e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function hP(t,e){const r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function Lhe(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function pP(t,e,r){const n=t._readableState,a=t._writableState;if(a!=null&&a.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||a!=null&&a.autoDestroy?t.destroy(e):e&&(e.stack,a&&!a.errored&&(a.errored=e),n&&!n.errored&&(n.errored=e),r?ds.nextTick(hP,t,e):hP(t,e))}function jhe(t,e){if(typeof t._construct!="function")return;const r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(fP,e),!(t.listenerCount(fP)>1)&&ds.nextTick(Mhe,t)}function Mhe(t){let e=!1;function r(n){if(e){pP(t,n??new Ohe);return}e=!0;const a=t._readableState,s=t._writableState,o=s||a;a&&(a.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(LK,n):n?pP(t,n,!0):ds.nextTick(Fhe,t)}try{t._construct(n=>{ds.nextTick(r,n)})}catch(n){ds.nextTick(r,n)}}function Fhe(t){t.emit(fP)}function oj(t){return(t==null?void 0:t.setHeader)&&typeof t.abort=="function"}function FK(t){t.emit("close")}function Bhe(t,e){t.emit("error",e),ds.nextTick(FK,t)}function qhe(t,e){!t||Ihe(t)||(!e&&!Phe(t)&&(e=new Rhe),Nhe(t)?(t.socket=null,t.destroy(e)):oj(t)?t.abort():oj(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?ds.nextTick(Bhe,t,e):ds.nextTick(FK,t),t.destroyed||(t[xhe]=!0))}var df={construct:jhe,destroyer:qhe,destroy:Dhe,undestroy:Lhe,errorOrDestroy:pP};const{ArrayIsArray:$he,ObjectSetPrototypeOf:BK}=kr,{EventEmitter:m2}=Gb;function g2(t){m2.call(this,t)}BK(g2.prototype,m2.prototype);BK(g2,m2);g2.prototype.pipe=function(t,e){const r=this;function n(d){t.writable&&t.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function a(){r.readable&&r.resume&&r.resume()}t.on("drain",a),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",u));let s=!1;function o(){s||(s=!0,t.end())}function u(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function c(d){l(),m2.listenerCount(this,"error")===0&&this.emit("error",d)}yP(r,"error",c),yP(t,"error",c);function l(){r.removeListener("data",n),t.removeListener("drain",a),r.removeListener("end",o),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t};function yP(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):$he(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}var yD={Stream:g2,prependListener:yP},qK={exports:{}};(function(t){const{SymbolDispose:e}=kr,{AbortError:r,codes:n}=Ai,{isNodeStream:a,isWebStream:s,kControllerErrorFunction:o}=Ro,u=Ru,{ERR_INVALID_ARG_TYPE:c}=n;let l;const d=(f,h)=>{if(typeof f!="object"||!("aborted"in f))throw new c(h,"AbortSignal",f)};t.exports.addAbortSignal=function(h,p){if(d(h,"signal"),!a(p)&&!s(p))throw new c("stream",["ReadableStream","WritableStream","Stream"],p);return t.exports.addAbortSignalNoValidate(h,p)},t.exports.addAbortSignalNoValidate=function(f,h){if(typeof f!="object"||!("aborted"in f))return h;const p=a(h)?()=>{h.destroy(new r(void 0,{cause:f.reason}))}:()=>{h[o](new r(void 0,{cause:f.reason}))};if(f.aborted)p();else{l=l||ci.addAbortListener;const m=l(f,p);u(h,m[e])}return h}})(qK);var _2=qK.exports;const{StringPrototypeSlice:uj,SymbolIterator:Uhe,TypedArrayPrototypeSet:wv,Uint8Array:khe}=kr,{Buffer:GE}=gs,{inspect:Vhe}=ci;var Hhe=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){const r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return GE.alloc(0);const r=GE.allocUnsafe(e>>>0);let n=this.head,a=0;for(;n;)wv(r,n.data,a),a+=n.data.length,n=n.next;return r}consume(e,r){const n=this.head.data;if(e<n.length){const a=n.slice(0,e);return this.head.data=n.slice(e),a}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Uhe](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,a=0;do{const s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++a,n.next?this.head=n.next:this.head=this.tail=null):(r+=uj(s,0,e),this.head=n,n.data=uj(s,e));break}++a}while((n=n.next)!==null);return this.length-=a,r}_getBuffer(e){const r=GE.allocUnsafe(e),n=e;let a=this.head,s=0;do{const o=a.data;if(e>o.length)wv(r,o,n-e),e-=o.length;else{e===o.length?(wv(r,o,n-e),++s,a.next?this.head=a.next:this.head=this.tail=null):(wv(r,new khe(o.buffer,o.byteOffset,e),n-e),this.head=a,a.data=o.slice(e));break}++s}while((a=a.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Vhe(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:Qhe,NumberIsInteger:zhe}=kr,{validateInteger:Ghe}=Wb,{ERR_INVALID_ARG_VALUE:Whe}=Ai.codes;let $K=16*1024,UK=16;function Khe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function kK(t){return t?UK:$K}function Jhe(t,e){Ghe(e,"value",0),t?UK=e:$K=e}function Xhe(t,e,r,n){const a=Khe(e,n,r);if(a!=null){if(!zhe(a)||a<0){const s=n?`options.${r}`:"options.highWaterMark";throw new Whe(s,a)}return Qhe(a)}return kK(t.objectMode)}var b2={getHighWaterMark:Xhe,getDefaultHighWaterMark:kK,setDefaultHighWaterMark:Jhe},VK={},mP={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=gs,n=r.Buffer;function a(o,u){for(var c in o)u[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(a(r,e),e.Buffer=s);function s(o,u,c){return n(o,u,c)}s.prototype=Object.create(n.prototype),a(n,s),s.from=function(o,u,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,u,c)},s.alloc=function(o,u,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return u!==void 0?typeof c=="string"?l.fill(u,c):l.fill(u):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(mP,mP.exports);var Yhe=mP.exports,mD=Yhe.Buffer,cj=mD.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Zhe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function epe(t){var e=Zhe(t);if(typeof e!="string"&&(mD.isEncoding===cj||!cj(t)))throw new Error("Unknown encoding: "+t);return e||t}VK.StringDecoder=Kb;function Kb(t){this.encoding=epe(t);var e;switch(this.encoding){case"utf16le":this.text=spe,this.end=ope,e=4;break;case"utf8":this.fillLast=npe,e=4;break;case"base64":this.text=upe,this.end=cpe,e=3;break;default:this.write=lpe,this.end=dpe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=mD.allocUnsafe(e)}Kb.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Kb.prototype.end=ape;Kb.prototype.text=ipe;Kb.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function WE(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function tpe(t,e,r){var n=e.length-1;if(n<r)return 0;var a=WE(e[n]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--n<r||a===-2?0:(a=WE(e[n]),a>=0?(a>0&&(t.lastNeed=a-2),a):--n<r||a===-2?0:(a=WE(e[n]),a>=0?(a>0&&(a===2?a=0:t.lastNeed=a-3),a):0))}function rpe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function npe(t){var e=this.lastTotal-this.lastNeed,r=rpe(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function ipe(t,e){var r=tpe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function ape(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function spe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function ope(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function upe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function cpe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function lpe(t){return t.toString(this.encoding)}function dpe(t){return t&&t.length?this.write(t):""}const lj=Oo,{PromisePrototypeThen:fpe,SymbolAsyncIterator:dj,SymbolIterator:fj}=kr,{Buffer:hpe}=gs,{ERR_INVALID_ARG_TYPE:ppe,ERR_STREAM_NULL_VALUES:ype}=Ai.codes;function mpe(t,e,r){let n;if(typeof e=="string"||e instanceof hpe)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let a;if(e&&e[dj])a=!0,n=e[dj]();else if(e&&e[fj])a=!1,n=e[fj]();else throw new ppe("iterable",["Iterable"],e);const s=new t({objectMode:!0,highWaterMark:1,...r});let o=!1;s._read=function(){o||(o=!0,c())},s._destroy=function(l,d){fpe(u(l),()=>lj.nextTick(d,l),f=>lj.nextTick(d,f||l))};async function u(l){const d=l!=null,f=typeof n.throw=="function";if(d&&f){const{value:h,done:p}=await n.throw(l);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function c(){for(;;){try{const{value:l,done:d}=a?await n.next():n.next();if(d)s.push(null);else{const f=l&&typeof l.then=="function"?await l:l;if(f===null)throw o=!1,new ype;if(s.push(f))continue;o=!1}}catch(l){s.destroy(l)}break}}return s}var HK=mpe,KE,hj;function v2(){if(hj)return KE;hj=1;const t=Oo,{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:a,ObjectDefineProperties:s,ObjectKeys:o,ObjectSetPrototypeOf:u,Promise:c,SafeSet:l,SymbolAsyncDispose:d,SymbolAsyncIterator:f,Symbol:h}=kr;KE=pe,pe.ReadableState=le;const{EventEmitter:p}=Gb,{Stream:m,prependListener:y}=yD,{Buffer:g}=gs,{addAbortSignal:b}=_2,v=Ru;let _=ci.debuglog("stream",te=>{_=te});const w=Hhe,E=df,{getHighWaterMark:O,getDefaultHighWaterMark:L}=b2,{aggregateTwoErrors:F,codes:{ERR_INVALID_ARG_TYPE:x,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:N,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:V},AbortError:$}=Ai,{validateObject:q}=Wb,H=h("kPaused"),{StringDecoder:X}=VK,Y=HK;u(pe.prototype,m.prototype),u(pe,m);const he=()=>{},{errorOrDestroy:Te}=E,Ne=1,$e=2,de=4,ce=8,xe=16,Pe=32,we=64,Re=128,Se=256,z=512,M=1024,k=2048,T=4096,R=8192,U=16384,G=32768,Q=65536,Z=1<<17,se=1<<18;function re(te){return{enumerable:!1,get(){return(this.state&te)!==0},set(S){S?this.state|=te:this.state&=~te}}}s(le.prototype,{objectMode:re(Ne),ended:re($e),endEmitted:re(de),reading:re(ce),constructed:re(xe),sync:re(Pe),needReadable:re(we),emittedReadable:re(Re),readableListening:re(Se),resumeScheduled:re(z),errorEmitted:re(M),emitClose:re(k),autoDestroy:re(T),destroyed:re(R),closed:re(U),closeEmitted:re(G),multiAwaitDrain:re(Q),readingMore:re(Z),dataEmitted:re(se)});function le(te,S,A){typeof A!="boolean"&&(A=S instanceof bo()),this.state=k|T|xe|Pe,te&&te.objectMode&&(this.state|=Ne),A&&te&&te.readableObjectMode&&(this.state|=Ne),this.highWaterMark=te?O(this,te,"readableHighWaterMark",A):L(!1),this.buffer=new w,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,te&&te.emitClose===!1&&(this.state&=~k),te&&te.autoDestroy===!1&&(this.state&=~T),this.errored=null,this.defaultEncoding=te&&te.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,te&&te.encoding&&(this.decoder=new X(te.encoding),this.encoding=te.encoding)}function pe(te){if(!(this instanceof pe))return new pe(te);const S=this instanceof bo();this._readableState=new le(te,this,S),te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.construct=="function"&&(this._construct=te.construct),te.signal&&!S&&b(te.signal,this)),m.call(this,te),E.construct(this,()=>{this._readableState.needReadable&&D(this,this._readableState)})}pe.prototype.destroy=E.destroy,pe.prototype._undestroy=E.undestroy,pe.prototype._destroy=function(te,S){S(te)},pe.prototype[p.captureRejectionSymbol]=function(te){this.destroy(te)},pe.prototype[d]=function(){let te;return this.destroyed||(te=this.readableEnded?null:new $,this.destroy(te)),new c((S,A)=>v(this,C=>C&&C!==te?A(C):S(null)))},pe.prototype.push=function(te,S){return _e(this,te,S,!1)},pe.prototype.unshift=function(te,S){return _e(this,te,S,!0)};function _e(te,S,A,C){_("readableAddChunk",S);const J=te._readableState;let ie;if(J.state&Ne||(typeof S=="string"?(A=A||J.defaultEncoding,J.encoding!==A&&(C&&J.encoding?S=g.from(S,A).toString(J.encoding):(S=g.from(S,A),A=""))):S instanceof g?A="":m._isUint8Array(S)?(S=m._uint8ArrayToBuffer(S),A=""):S!=null&&(ie=new x("chunk",["string","Buffer","Uint8Array"],S))),ie)Te(te,ie);else if(S===null)J.state&=~ce,ke(te,J);else if(J.state&Ne||S&&S.length>0)if(C)if(J.state&de)Te(te,new V);else{if(J.destroyed||J.errored)return!1;Ie(te,J,S,!0)}else if(J.ended)Te(te,new N);else{if(J.destroyed||J.errored)return!1;J.state&=~ce,J.decoder&&!A?(S=J.decoder.write(S),J.objectMode||S.length!==0?Ie(te,J,S,!1):D(te,J)):Ie(te,J,S,!1)}else C||(J.state&=~ce,D(te,J));return!J.ended&&(J.length<J.highWaterMark||J.length===0)}function Ie(te,S,A,C){S.flowing&&S.length===0&&!S.sync&&te.listenerCount("data")>0?(S.state&Q?S.awaitDrainWriters.clear():S.awaitDrainWriters=null,S.dataEmitted=!0,te.emit("data",A)):(S.length+=S.objectMode?1:A.length,C?S.buffer.unshift(A):S.buffer.push(A),S.state&we&&qe(te)),D(te,S)}pe.prototype.isPaused=function(){const te=this._readableState;return te[H]===!0||te.flowing===!1},pe.prototype.setEncoding=function(te){const S=new X(te);this._readableState.decoder=S,this._readableState.encoding=this._readableState.decoder.encoding;const A=this._readableState.buffer;let C="";for(const J of A)C+=S.write(J);return A.clear(),C!==""&&A.push(C),this._readableState.length=C.length,this};const Ee=1073741824;function Me(te){if(te>Ee)throw new j("size","<= 1GiB",te);return te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++,te}function Ce(te,S){return te<=0||S.length===0&&S.ended?0:S.state&Ne?1:n(te)?S.flowing&&S.length?S.buffer.first().length:S.length:te<=S.length?te:S.ended?S.length:0}pe.prototype.read=function(te){_("read",te),te===void 0?te=NaN:r(te)||(te=a(te,10));const S=this._readableState,A=te;if(te>S.highWaterMark&&(S.highWaterMark=Me(te)),te!==0&&(S.state&=~Re),te===0&&S.needReadable&&((S.highWaterMark!==0?S.length>=S.highWaterMark:S.length>0)||S.ended))return _("read: emitReadable",S.length,S.ended),S.length===0&&S.ended?Ye(this):qe(this),null;if(te=Ce(te,S),te===0&&S.ended)return S.length===0&&Ye(this),null;let C=(S.state&we)!==0;if(_("need readable",C),(S.length===0||S.length-te<S.highWaterMark)&&(C=!0,_("length less than watermark",C)),S.ended||S.reading||S.destroyed||S.errored||!S.constructed)C=!1,_("reading, ended or constructing",C);else if(C){_("do read"),S.state|=ce|Pe,S.length===0&&(S.state|=we);try{this._read(S.highWaterMark)}catch(ie){Te(this,ie)}S.state&=~Pe,S.reading||(te=Ce(A,S))}let J;return te>0?J=Ue(te,S):J=null,J===null?(S.needReadable=S.length<=S.highWaterMark,te=0):(S.length-=te,S.multiAwaitDrain?S.awaitDrainWriters.clear():S.awaitDrainWriters=null),S.length===0&&(S.ended||(S.needReadable=!0),A!==te&&S.ended&&Ye(this)),J!==null&&!S.errorEmitted&&!S.closeEmitted&&(S.dataEmitted=!0,this.emit("data",J)),J};function ke(te,S){if(_("onEofChunk"),!S.ended){if(S.decoder){const A=S.decoder.end();A&&A.length&&(S.buffer.push(A),S.length+=S.objectMode?1:A.length)}S.ended=!0,S.sync?qe(te):(S.needReadable=!1,S.emittedReadable=!0,W(te))}}function qe(te){const S=te._readableState;_("emitReadable",S.needReadable,S.emittedReadable),S.needReadable=!1,S.emittedReadable||(_("emitReadable",S.flowing),S.emittedReadable=!0,t.nextTick(W,te))}function W(te){const S=te._readableState;_("emitReadable_",S.destroyed,S.length,S.ended),!S.destroyed&&!S.errored&&(S.length||S.ended)&&(te.emit("readable"),S.emittedReadable=!1),S.needReadable=!S.flowing&&!S.ended&&S.length<=S.highWaterMark,ee(te)}function D(te,S){!S.readingMore&&S.constructed&&(S.readingMore=!0,t.nextTick(B,te,S))}function B(te,S){for(;!S.reading&&!S.ended&&(S.length<S.highWaterMark||S.flowing&&S.length===0);){const A=S.length;if(_("maybeReadMore read 0"),te.read(0),A===S.length)break}S.readingMore=!1}pe.prototype._read=function(te){throw new P("_read()")},pe.prototype.pipe=function(te,S){const A=this,C=this._readableState;C.pipes.length===1&&(C.multiAwaitDrain||(C.multiAwaitDrain=!0,C.awaitDrainWriters=new l(C.awaitDrainWriters?[C.awaitDrainWriters]:[]))),C.pipes.push(te),_("pipe count=%d opts=%j",C.pipes.length,S);const ie=(!S||S.end!==!1)&&te!==t.stdout&&te!==t.stderr?ve:Xt;C.endEmitted?t.nextTick(ie):A.once("end",ie),te.on("unpipe",be);function be(Gt,Dr){_("onunpipe"),Gt===A&&Dr&&Dr.hasUnpiped===!1&&(Dr.hasUnpiped=!0,lt())}function ve(){_("onend"),te.end()}let Fe,Je=!1;function lt(){_("cleanup"),te.removeListener("close",et),te.removeListener("finish",Ur),Fe&&te.removeListener("drain",Fe),te.removeListener("error",fi),te.removeListener("unpipe",be),A.removeListener("end",ve),A.removeListener("end",Xt),A.removeListener("data",Qe),Je=!0,Fe&&C.awaitDrainWriters&&(!te._writableState||te._writableState.needDrain)&&Fe()}function tt(){Je||(C.pipes.length===1&&C.pipes[0]===te?(_("false write response, pause",0),C.awaitDrainWriters=te,C.multiAwaitDrain=!1):C.pipes.length>1&&C.pipes.includes(te)&&(_("false write response, pause",C.awaitDrainWriters.size),C.awaitDrainWriters.add(te)),A.pause()),Fe||(Fe=K(A,te),te.on("drain",Fe))}A.on("data",Qe);function Qe(Gt){_("ondata");const Dr=te.write(Gt);_("dest.write",Dr),Dr===!1&&tt()}function fi(Gt){if(_("onerror",Gt),Xt(),te.removeListener("error",fi),te.listenerCount("error")===0){const Dr=te._writableState||te._readableState;Dr&&!Dr.errorEmitted?Te(te,Gt):te.emit("error",Gt)}}y(te,"error",fi);function et(){te.removeListener("finish",Ur),Xt()}te.once("close",et);function Ur(){_("onfinish"),te.removeListener("close",et),Xt()}te.once("finish",Ur);function Xt(){_("unpipe"),A.unpipe(te)}return te.emit("pipe",A),te.writableNeedDrain===!0?tt():C.flowing||(_("pipe resume"),A.resume()),te};function K(te,S){return function(){const C=te._readableState;C.awaitDrainWriters===S?(_("pipeOnDrain",1),C.awaitDrainWriters=null):C.multiAwaitDrain&&(_("pipeOnDrain",C.awaitDrainWriters.size),C.awaitDrainWriters.delete(S)),(!C.awaitDrainWriters||C.awaitDrainWriters.size===0)&&te.listenerCount("data")&&te.resume()}}pe.prototype.unpipe=function(te){const S=this._readableState,A={hasUnpiped:!1};if(S.pipes.length===0)return this;if(!te){const J=S.pipes;S.pipes=[],this.pause();for(let ie=0;ie<J.length;ie++)J[ie].emit("unpipe",this,{hasUnpiped:!1});return this}const C=e(S.pipes,te);return C===-1?this:(S.pipes.splice(C,1),S.pipes.length===0&&this.pause(),te.emit("unpipe",this,A),this)},pe.prototype.on=function(te,S){const A=m.prototype.on.call(this,te,S),C=this._readableState;return te==="data"?(C.readableListening=this.listenerCount("readable")>0,C.flowing!==!1&&this.resume()):te==="readable"&&!C.endEmitted&&!C.readableListening&&(C.readableListening=C.needReadable=!0,C.flowing=!1,C.emittedReadable=!1,_("on readable",C.length,C.reading),C.length?qe(this):C.reading||t.nextTick(fe,this)),A},pe.prototype.addListener=pe.prototype.on,pe.prototype.removeListener=function(te,S){const A=m.prototype.removeListener.call(this,te,S);return te==="readable"&&t.nextTick(ne,this),A},pe.prototype.off=pe.prototype.removeListener,pe.prototype.removeAllListeners=function(te){const S=m.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&t.nextTick(ne,this),S};function ne(te){const S=te._readableState;S.readableListening=te.listenerCount("readable")>0,S.resumeScheduled&&S[H]===!1?S.flowing=!0:te.listenerCount("data")>0?te.resume():S.readableListening||(S.flowing=null)}function fe(te){_("readable nexttick read 0"),te.read(0)}pe.prototype.resume=function(){const te=this._readableState;return te.flowing||(_("resume"),te.flowing=!te.readableListening,ge(this,te)),te[H]=!1,this};function ge(te,S){S.resumeScheduled||(S.resumeScheduled=!0,t.nextTick(Le,te,S))}function Le(te,S){_("resume",S.reading),S.reading||te.read(0),S.resumeScheduled=!1,te.emit("resume"),ee(te),S.flowing&&!S.reading&&te.read(0)}pe.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function ee(te){const S=te._readableState;for(_("flow",S.flowing);S.flowing&&te.read()!==null;);}pe.prototype.wrap=function(te){let S=!1;te.on("data",C=>{!this.push(C)&&te.pause&&(S=!0,te.pause())}),te.on("end",()=>{this.push(null)}),te.on("error",C=>{Te(this,C)}),te.on("close",()=>{this.destroy()}),te.on("destroy",()=>{this.destroy()}),this._read=()=>{S&&te.resume&&(S=!1,te.resume())};const A=o(te);for(let C=1;C<A.length;C++){const J=A[C];this[J]===void 0&&typeof te[J]=="function"&&(this[J]=te[J].bind(te))}return this},pe.prototype[f]=function(){return Oe(this)},pe.prototype.iterator=function(te){return te!==void 0&&q(te,"options"),Oe(this,te)};function Oe(te,S){typeof te.read!="function"&&(te=pe.wrap(te,{objectMode:!0}));const A=De(te,S);return A.stream=te,A}async function*De(te,S){let A=he;function C(be){this===te?(A(),A=he):A=be}te.on("readable",C);let J;const ie=v(te,{writable:!1},be=>{J=be?F(J,be):null,A(),A=he});try{for(;;){const be=te.destroyed?null:te.read();if(be!==null)yield be;else{if(J)throw J;if(J===null)return;await new c(C)}}}catch(be){throw J=F(J,be),J}finally{(J||(S==null?void 0:S.destroyOnReturn)!==!1)&&(J===void 0||te._readableState.autoDestroy)?E.destroyer(te,null):(te.off("readable",C),ie())}}s(pe.prototype,{readable:{__proto__:null,get(){const te=this._readableState;return!!te&&te.readable!==!1&&!te.destroyed&&!te.errorEmitted&&!te.endEmitted},set(te){this._readableState&&(this._readableState.readable=!!te)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(te){this._readableState&&(this._readableState.flowing=te)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(te){this._readableState&&(this._readableState.destroyed=te)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(le.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(te){this[H]=!!te}}}),pe._fromList=Ue;function Ue(te,S){if(S.length===0)return null;let A;return S.objectMode?A=S.buffer.shift():!te||te>=S.length?(S.decoder?A=S.buffer.join(""):S.buffer.length===1?A=S.buffer.first():A=S.buffer.concat(S.length),S.buffer.clear()):A=S.buffer.consume(te,S.decoder),A}function Ye(te){const S=te._readableState;_("endReadable",S.endEmitted),S.endEmitted||(S.ended=!0,t.nextTick(ut,S,te))}function ut(te,S){if(_("endReadableNT",te.endEmitted,te.length),!te.errored&&!te.closeEmitted&&!te.endEmitted&&te.length===0){if(te.endEmitted=!0,S.emit("end"),S.writable&&S.allowHalfOpen===!1)t.nextTick(at,S);else if(te.autoDestroy){const A=S._writableState;(!A||A.autoDestroy&&(A.finished||A.writable===!1))&&S.destroy()}}}function at(te){te.writable&&!te.writableEnded&&!te.destroyed&&te.end()}pe.from=function(te,S){return Y(pe,te,S)};let ct;function ht(){return ct===void 0&&(ct={}),ct}return pe.fromWeb=function(te,S){return ht().newStreamReadableFromReadableStream(te,S)},pe.toWeb=function(te,S){return ht().newReadableStreamFromStreamReadable(te,S)},pe.wrap=function(te,S){var A,C;return new pe({objectMode:(A=(C=te.readableObjectMode)!==null&&C!==void 0?C:te.objectMode)!==null&&A!==void 0?A:!0,...S,destroy(J,ie){E.destroyer(te,J),ie(J)}}).wrap(te)},KE}var JE,pj;function gD(){if(pj)return JE;pj=1;const t=Oo,{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:a,ObjectDefineProperties:s,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:u,Symbol:c,SymbolHasInstance:l}=kr;JE=q,q.WritableState=V;const{EventEmitter:d}=Gb,f=yD.Stream,{Buffer:h}=gs,p=df,{addAbortSignal:m}=_2,{getHighWaterMark:y,getDefaultHighWaterMark:g}=b2,{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:w,ERR_STREAM_DESTROYED:E,ERR_STREAM_ALREADY_FINISHED:O,ERR_STREAM_NULL_VALUES:L,ERR_STREAM_WRITE_AFTER_END:F,ERR_UNKNOWN_ENCODING:x}=Ai.codes,{errorOrDestroy:P}=p;o(q.prototype,f.prototype),o(q,f);function j(){}const N=c("kOnFinished");function V(T,R,U){typeof U!="boolean"&&(U=R instanceof bo()),this.objectMode=!!(T&&T.objectMode),U&&(this.objectMode=this.objectMode||!!(T&&T.writableObjectMode)),this.highWaterMark=T?y(this,T,"writableHighWaterMark",U):g(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const G=!!(T&&T.decodeStrings===!1);this.decodeStrings=!G,this.defaultEncoding=T&&T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Te.bind(void 0,R),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,$(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!T||T.emitClose!==!1,this.autoDestroy=!T||T.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[N]=[]}function $(T){T.buffered=[],T.bufferedIndex=0,T.allBuffers=!0,T.allNoop=!0}V.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},a(V.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function q(T){const R=this instanceof bo();if(!R&&!n(q,this))return new q(T);this._writableState=new V(T,this,R),T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final),typeof T.construct=="function"&&(this._construct=T.construct),T.signal&&m(T.signal,this)),f.call(this,T),p.construct(this,()=>{const U=this._writableState;U.writing||ce(this,U),Re(this,U)})}a(q,l,{__proto__:null,value:function(T){return n(this,T)?!0:this!==q?!1:T&&T._writableState instanceof V}}),q.prototype.pipe=function(){P(this,new w)};function H(T,R,U,G){const Q=T._writableState;if(typeof U=="function")G=U,U=Q.defaultEncoding;else{if(!U)U=Q.defaultEncoding;else if(U!=="buffer"&&!h.isEncoding(U))throw new x(U);typeof G!="function"&&(G=j)}if(R===null)throw new L;if(!Q.objectMode)if(typeof R=="string")Q.decodeStrings!==!1&&(R=h.from(R,U),U="buffer");else if(R instanceof h)U="buffer";else if(f._isUint8Array(R))R=f._uint8ArrayToBuffer(R),U="buffer";else throw new b("chunk",["string","Buffer","Uint8Array"],R);let Z;return Q.ending?Z=new F:Q.destroyed&&(Z=new E("write")),Z?(t.nextTick(G,Z),P(T,Z,!0),Z):(Q.pendingcb++,X(T,Q,R,U,G))}q.prototype.write=function(T,R,U){return H(this,T,R,U)===!0},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){const T=this._writableState;T.corked&&(T.corked--,T.writing||ce(this,T))},q.prototype.setDefaultEncoding=function(R){if(typeof R=="string"&&(R=u(R)),!h.isEncoding(R))throw new x(R);return this._writableState.defaultEncoding=R,this};function X(T,R,U,G,Q){const Z=R.objectMode?1:U.length;R.length+=Z;const se=R.length<R.highWaterMark;return se||(R.needDrain=!0),R.writing||R.corked||R.errored||!R.constructed?(R.buffered.push({chunk:U,encoding:G,callback:Q}),R.allBuffers&&G!=="buffer"&&(R.allBuffers=!1),R.allNoop&&Q!==j&&(R.allNoop=!1)):(R.writelen=Z,R.writecb=Q,R.writing=!0,R.sync=!0,T._write(U,G,R.onwrite),R.sync=!1),se&&!R.errored&&!R.destroyed}function Y(T,R,U,G,Q,Z,se){R.writelen=G,R.writecb=se,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new E("write")):U?T._writev(Q,R.onwrite):T._write(Q,Z,R.onwrite),R.sync=!1}function he(T,R,U,G){--R.pendingcb,G(U),de(R),P(T,U)}function Te(T,R){const U=T._writableState,G=U.sync,Q=U.writecb;if(typeof Q!="function"){P(T,new _);return}U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0,R?(R.stack,U.errored||(U.errored=R),T._readableState&&!T._readableState.errored&&(T._readableState.errored=R),G?t.nextTick(he,T,U,R,Q):he(T,U,R,Q)):(U.buffered.length>U.bufferedIndex&&ce(T,U),G?U.afterWriteTickInfo!==null&&U.afterWriteTickInfo.cb===Q?U.afterWriteTickInfo.count++:(U.afterWriteTickInfo={count:1,cb:Q,stream:T,state:U},t.nextTick(Ne,U.afterWriteTickInfo)):$e(T,U,1,Q))}function Ne({stream:T,state:R,count:U,cb:G}){return R.afterWriteTickInfo=null,$e(T,R,U,G)}function $e(T,R,U,G){for(!R.ending&&!T.destroyed&&R.length===0&&R.needDrain&&(R.needDrain=!1,T.emit("drain"));U-- >0;)R.pendingcb--,G();R.destroyed&&de(R),Re(T,R)}function de(T){if(T.writing)return;for(let Q=T.bufferedIndex;Q<T.buffered.length;++Q){var R;const{chunk:Z,callback:se}=T.buffered[Q],re=T.objectMode?1:Z.length;T.length-=re,se((R=T.errored)!==null&&R!==void 0?R:new E("write"))}const U=T[N].splice(0);for(let Q=0;Q<U.length;Q++){var G;U[Q]((G=T.errored)!==null&&G!==void 0?G:new E("end"))}$(T)}function ce(T,R){if(R.corked||R.bufferProcessing||R.destroyed||!R.constructed)return;const{buffered:U,bufferedIndex:G,objectMode:Q}=R,Z=U.length-G;if(!Z)return;let se=G;if(R.bufferProcessing=!0,Z>1&&T._writev){R.pendingcb-=Z-1;const re=R.allNoop?j:pe=>{for(let _e=se;_e<U.length;++_e)U[_e].callback(pe)},le=R.allNoop&&se===0?U:e(U,se);le.allBuffers=R.allBuffers,Y(T,R,!0,R.length,le,"",re),$(R)}else{do{const{chunk:re,encoding:le,callback:pe}=U[se];U[se++]=null;const _e=Q?1:re.length;Y(T,R,!1,_e,re,le,pe)}while(se<U.length&&!R.writing);se===U.length?$(R):se>256?(U.splice(0,se),R.bufferedIndex=0):R.bufferedIndex=se}R.bufferProcessing=!1}q.prototype._write=function(T,R,U){if(this._writev)this._writev([{chunk:T,encoding:R}],U);else throw new v("_write()")},q.prototype._writev=null,q.prototype.end=function(T,R,U){const G=this._writableState;typeof T=="function"?(U=T,T=null,R=null):typeof R=="function"&&(U=R,R=null);let Q;if(T!=null){const Z=H(this,T,R);Z instanceof r&&(Q=Z)}return G.corked&&(G.corked=1,this.uncork()),Q||(!G.errored&&!G.ending?(G.ending=!0,Re(this,G,!0),G.ended=!0):G.finished?Q=new O("end"):G.destroyed&&(Q=new E("end"))),typeof U=="function"&&(Q||G.finished?t.nextTick(U,Q):G[N].push(U)),this};function xe(T){return T.ending&&!T.destroyed&&T.constructed&&T.length===0&&!T.errored&&T.buffered.length===0&&!T.finished&&!T.writing&&!T.errorEmitted&&!T.closeEmitted}function Pe(T,R){let U=!1;function G(Q){if(U){P(T,Q??_());return}if(U=!0,R.pendingcb--,Q){const Z=R[N].splice(0);for(let se=0;se<Z.length;se++)Z[se](Q);P(T,Q,R.sync)}else xe(R)&&(R.prefinished=!0,T.emit("prefinish"),R.pendingcb++,t.nextTick(Se,T,R))}R.sync=!0,R.pendingcb++;try{T._final(G)}catch(Q){G(Q)}R.sync=!1}function we(T,R){!R.prefinished&&!R.finalCalled&&(typeof T._final=="function"&&!R.destroyed?(R.finalCalled=!0,Pe(T,R)):(R.prefinished=!0,T.emit("prefinish")))}function Re(T,R,U){xe(R)&&(we(T,R),R.pendingcb===0&&(U?(R.pendingcb++,t.nextTick((G,Q)=>{xe(Q)?Se(G,Q):Q.pendingcb--},T,R)):xe(R)&&(R.pendingcb++,Se(T,R))))}function Se(T,R){R.pendingcb--,R.finished=!0;const U=R[N].splice(0);for(let G=0;G<U.length;G++)U[G]();if(T.emit("finish"),R.autoDestroy){const G=T._readableState;(!G||G.autoDestroy&&(G.endEmitted||G.readable===!1))&&T.destroy()}}s(q.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(T){this._writableState&&(this._writableState.destroyed=T)}},writable:{__proto__:null,get(){const T=this._writableState;return!!T&&T.writable!==!1&&!T.destroyed&&!T.errored&&!T.ending&&!T.ended},set(T){this._writableState&&(this._writableState.writable=!!T)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const T=this._writableState;return T?!T.destroyed&&!T.ending&&T.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const z=p.destroy;q.prototype.destroy=function(T,R){const U=this._writableState;return!U.destroyed&&(U.bufferedIndex<U.buffered.length||U[N].length)&&t.nextTick(de,U),z.call(this,T,R),this},q.prototype._undestroy=p.undestroy,q.prototype._destroy=function(T,R){R(T)},q.prototype[d.captureRejectionSymbol]=function(T){this.destroy(T)};let M;function k(){return M===void 0&&(M={}),M}return q.fromWeb=function(T,R){return k().newStreamWritableFromWritableStream(T,R)},q.toWeb=function(T){return k().newWritableStreamFromStreamWritable(T)},JE}var XE,yj;function gpe(){if(yj)return XE;yj=1;const t=Oo,e=gs,{isReadable:r,isWritable:n,isIterable:a,isNodeStream:s,isReadableNodeStream:o,isWritableNodeStream:u,isDuplexNodeStream:c,isReadableStream:l,isWritableStream:d}=Ro,f=Ru,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:m}}=Ai,{destroyer:y}=df,g=bo(),b=v2(),v=gD(),{createDeferredPromise:_}=ci,w=HK,E=globalThis.Blob||e.Blob,O=typeof E<"u"?function(V){return V instanceof E}:function(V){return!1},L=globalThis.AbortController||$d().AbortController,{FunctionPrototypeCall:F}=kr;class x extends g{constructor(V){super(V),(V==null?void 0:V.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(V==null?void 0:V.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}XE=function N(V,$){if(c(V))return V;if(o(V))return j({readable:V});if(u(V))return j({writable:V});if(s(V))return j({writable:!1,readable:!1});if(l(V))return j({readable:b.fromWeb(V)});if(d(V))return j({writable:v.fromWeb(V)});if(typeof V=="function"){const{value:H,write:X,final:Y,destroy:he}=P(V);if(a(H))return w(x,H,{objectMode:!0,write:X,final:Y,destroy:he});const Te=H==null?void 0:H.then;if(typeof Te=="function"){let Ne;const $e=F(Te,H,de=>{if(de!=null)throw new m("nully","body",de)},de=>{y(Ne,de)});return Ne=new x({objectMode:!0,readable:!1,write:X,final(de){Y(async()=>{try{await $e,t.nextTick(de,null)}catch(ce){t.nextTick(de,ce)}})},destroy:he})}throw new m("Iterable, AsyncIterable or AsyncFunction",$,H)}if(O(V))return N(V.arrayBuffer());if(a(V))return w(x,V,{objectMode:!0,writable:!1});if(l(V==null?void 0:V.readable)&&d(V==null?void 0:V.writable))return x.fromWeb(V);if(typeof(V==null?void 0:V.writable)=="object"||typeof(V==null?void 0:V.readable)=="object"){const H=V!=null&&V.readable?o(V==null?void 0:V.readable)?V==null?void 0:V.readable:N(V.readable):void 0,X=V!=null&&V.writable?u(V==null?void 0:V.writable)?V==null?void 0:V.writable:N(V.writable):void 0;return j({readable:H,writable:X})}const q=V==null?void 0:V.then;if(typeof q=="function"){let H;return F(q,V,X=>{X!=null&&H.push(X),H.push(null)},X=>{y(H,X)}),H=new x({objectMode:!0,writable:!1,read(){}})}throw new p($,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],V)};function P(N){let{promise:V,resolve:$}=_();const q=new L,H=q.signal;return{value:N(async function*(){for(;;){const Y=V;V=null;const{chunk:he,done:Te,cb:Ne}=await Y;if(t.nextTick(Ne),Te)return;if(H.aborted)throw new h(void 0,{cause:H.reason});({promise:V,resolve:$}=_()),yield he}}(),{signal:H}),write(Y,he,Te){const Ne=$;$=null,Ne({chunk:Y,done:!1,cb:Te})},final(Y){const he=$;$=null,he({done:!0,cb:Y})},destroy(Y,he){q.abort(),he(Y)}}}function j(N){const V=N.readable&&typeof N.readable.read!="function"?b.wrap(N.readable):N.readable,$=N.writable;let q=!!r(V),H=!!n($),X,Y,he,Te,Ne;function $e(de){const ce=Te;Te=null,ce?ce(de):de&&Ne.destroy(de)}return Ne=new x({readableObjectMode:!!(V!=null&&V.readableObjectMode),writableObjectMode:!!($!=null&&$.writableObjectMode),readable:q,writable:H}),H&&(f($,de=>{H=!1,de&&y(V,de),$e(de)}),Ne._write=function(de,ce,xe){$.write(de,ce)?xe():X=xe},Ne._final=function(de){$.end(),Y=de},$.on("drain",function(){if(X){const de=X;X=null,de()}}),$.on("finish",function(){if(Y){const de=Y;Y=null,de()}})),q&&(f(V,de=>{q=!1,de&&y(V,de),$e(de)}),V.on("readable",function(){if(he){const de=he;he=null,de()}}),V.on("end",function(){Ne.push(null)}),Ne._read=function(){for(;;){const de=V.read();if(de===null){he=Ne._read;return}if(!Ne.push(de))return}}),Ne._destroy=function(de,ce){!de&&Te!==null&&(de=new h),he=null,X=null,Y=null,Te===null?ce(de):(Te=ce,y($,de),y(V,de))},Ne}return XE}var YE,mj;function bo(){if(mj)return YE;mj=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=kr;YE=o;const a=v2(),s=gD();n(o.prototype,a.prototype),n(o,a);{const d=r(s.prototype);for(let f=0;f<d.length;f++){const h=d[f];o.prototype[h]||(o.prototype[h]=s.prototype[h])}}function o(d){if(!(this instanceof o))return new o(d);a.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(o.prototype,{writable:{__proto__:null,...e(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(s.prototype,"writableLength")},writableFinished:{__proto__:null,...e(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let u;function c(){return u===void 0&&(u={}),u}o.fromWeb=function(d,f){return c().newStreamDuplexFromReadableWritablePair(d,f)},o.toWeb=function(d){return c().newReadableWritablePairFromDuplex(d)};let l;return o.from=function(d){return l||(l=gpe()),l(d,"body")},YE}const{ObjectSetPrototypeOf:QK,Symbol:_pe}=kr;var zK=vo;const{ERR_METHOD_NOT_IMPLEMENTED:bpe}=Ai.codes,_D=bo(),{getHighWaterMark:vpe}=b2;QK(vo.prototype,_D.prototype);QK(vo,_D);const W_=_pe("kCallback");function vo(t){if(!(this instanceof vo))return new vo(t);const e=t?vpe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),_D.call(this,t),this._readableState.sync=!1,this[W_]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",wpe)}function gP(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function wpe(){this._final!==gP&&gP.call(this)}vo.prototype._final=gP;vo.prototype._transform=function(t,e,r){throw new bpe("_transform()")};vo.prototype._write=function(t,e,r){const n=this._readableState,a=this._writableState,s=n.length;this._transform(t,e,(o,u)=>{if(o){r(o);return}u!=null&&this.push(u),a.ended||s===n.length||n.length<n.highWaterMark?r():this[W_]=r})};vo.prototype._read=function(){if(this[W_]){const t=this[W_];this[W_]=null,t()}};const{ObjectSetPrototypeOf:GK}=kr;var WK=Ud;const bD=zK;GK(Ud.prototype,bD.prototype);GK(Ud,bD);function Ud(t){if(!(this instanceof Ud))return new Ud(t);bD.call(this,t)}Ud.prototype._transform=function(t,e,r){r(null,t)};const b_=Oo,{ArrayIsArray:Spe,Promise:Tpe,SymbolAsyncIterator:Epe,SymbolDispose:Ape}=kr,yS=Ru,{once:Ope}=ci,Rpe=df,gj=bo(),{aggregateTwoErrors:xpe,codes:{ERR_INVALID_ARG_TYPE:_P,ERR_INVALID_RETURN_VALUE:ZE,ERR_MISSING_ARGS:Ipe,ERR_STREAM_DESTROYED:Ppe,ERR_STREAM_PREMATURE_CLOSE:Npe},AbortError:Dpe}=Ai,{validateFunction:Cpe,validateAbortSignal:Lpe}=Wb,{isIterable:uc,isReadable:eA,isReadableNodeStream:Aw,isNodeStream:_j,isTransformStream:Jl,isWebStream:jpe,isReadableStream:tA,isReadableFinished:Mpe}=Ro,Fpe=globalThis.AbortController||$d().AbortController;let rA,nA,iA;function bj(t,e,r){let n=!1;t.on("close",()=>{n=!0});const a=yS(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,Rpe.destroyer(t,s||new Ppe("pipe")))},cleanup:a}}function Bpe(t){return Cpe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function aA(t){if(uc(t))return t;if(Aw(t))return qpe(t);throw new _P("val",["Readable","Iterable","AsyncIterable"],t)}async function*qpe(t){nA||(nA=v2()),yield*nA.prototype[Epe].call(t)}async function Sv(t,e,r,{end:n}){let a,s=null;const o=l=>{if(l&&(a=l),s){const d=s;s=null,d()}},u=()=>new Tpe((l,d)=>{a?d(a):s=()=>{a?d(a):l()}});e.on("drain",o);const c=yS(e,{readable:!1},o);try{e.writableNeedDrain&&await u();for await(const l of t)e.write(l)||await u();n&&(e.end(),await u()),r()}catch(l){r(a!==l?xpe(a,l):l)}finally{c(),e.off("drain",o)}}async function sA(t,e,r,{end:n}){Jl(e)&&(e=e.writable);const a=e.getWriter();try{for await(const s of t)await a.ready,a.write(s).catch(()=>{});await a.ready,n&&await a.close(),r()}catch(s){try{await a.abort(s),r(s)}catch(o){r(o)}}}function $pe(...t){return KK(t,Ope(Bpe(t)))}function KK(t,e,r){if(t.length===1&&Spe(t[0])&&(t=t[0]),t.length<2)throw new Ipe("streams");const n=new Fpe,a=n.signal,s=r==null?void 0:r.signal,o=[];Lpe(s,"options.signal");function u(){m(new Dpe)}iA=iA||ci.addAbortListener;let c;s&&(c=iA(s,u));let l,d;const f=[];let h=0;function p(v){m(v,--h===0)}function m(v,_){var w;if(v&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=v),!(!l&&!_)){for(;f.length;)f.shift()(l);(w=c)===null||w===void 0||w[Ape](),n.abort(),_&&(l||o.forEach(E=>E()),b_.nextTick(e,l,d))}}let y;for(let v=0;v<t.length;v++){const _=t[v],w=v<t.length-1,E=v>0,O=w||(r==null?void 0:r.end)!==!1,L=v===t.length-1;if(_j(_)){let F=function(x){x&&x.name!=="AbortError"&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(x)};if(O){const{destroy:x,cleanup:P}=bj(_,w,E);f.push(x),eA(_)&&L&&o.push(P)}_.on("error",F),eA(_)&&L&&o.push(()=>{_.removeListener("error",F)})}if(v===0)if(typeof _=="function"){if(y=_({signal:a}),!uc(y))throw new ZE("Iterable, AsyncIterable or Stream","source",y)}else uc(_)||Aw(_)||Jl(_)?y=_:y=gj.from(_);else if(typeof _=="function"){if(Jl(y)){var g;y=aA((g=y)===null||g===void 0?void 0:g.readable)}else y=aA(y);if(y=_(y,{signal:a}),w){if(!uc(y,!0))throw new ZE("AsyncIterable",`transform[${v-1}]`,y)}else{var b;rA||(rA=WK);const F=new rA({objectMode:!0}),x=(b=y)===null||b===void 0?void 0:b.then;if(typeof x=="function")h++,x.call(y,N=>{d=N,N!=null&&F.write(N),O&&F.end(),b_.nextTick(p)},N=>{F.destroy(N),b_.nextTick(p,N)});else if(uc(y,!0))h++,Sv(y,F,p,{end:O});else if(tA(y)||Jl(y)){const N=y.readable||y;h++,Sv(N,F,p,{end:O})}else throw new ZE("AsyncIterable or Promise","destination",y);y=F;const{destroy:P,cleanup:j}=bj(y,!1,!0);f.push(P),L&&o.push(j)}}else if(_j(_)){if(Aw(y)){h+=2;const F=Upe(y,_,p,{end:O});eA(_)&&L&&o.push(F)}else if(Jl(y)||tA(y)){const F=y.readable||y;h++,Sv(F,_,p,{end:O})}else if(uc(y))h++,Sv(y,_,p,{end:O});else throw new _P("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=_}else if(jpe(_)){if(Aw(y))h++,sA(aA(y),_,p,{end:O});else if(tA(y)||uc(y))h++,sA(y,_,p,{end:O});else if(Jl(y))h++,sA(y.readable,_,p,{end:O});else throw new _P("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=_}else y=gj.from(_)}return(a!=null&&a.aborted||s!=null&&s.aborted)&&b_.nextTick(u),y}function Upe(t,e,r,{end:n}){let a=!1;if(e.on("close",()=>{a||r(new Npe)}),t.pipe(e,{end:!1}),n){let s=function(){a=!0,e.end()};Mpe(t)?b_.nextTick(s):t.once("end",s)}else r();return yS(t,{readable:!0,writable:!1},s=>{const o=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&o&&o.ended&&!o.errored&&!o.errorEmitted?t.once("end",r).once("error",r):r(s)}),yS(e,{readable:!1,writable:!0},r)}var vD={pipelineImpl:KK,pipeline:$pe};const{pipeline:kpe}=vD,Tv=bo(),{destroyer:Vpe}=df,{isNodeStream:Ev,isReadable:vj,isWritable:wj,isWebStream:oA,isTransformStream:Wu,isWritableStream:Sj,isReadableStream:Tj}=Ro,{AbortError:Hpe,codes:{ERR_INVALID_ARG_VALUE:Ej,ERR_MISSING_ARGS:Qpe}}=Ai,zpe=Ru;var JK=function(...e){if(e.length===0)throw new Qpe("streams");if(e.length===1)return Tv.from(e[0]);const r=[...e];if(typeof e[0]=="function"&&(e[0]=Tv.from(e[0])),typeof e[e.length-1]=="function"){const p=e.length-1;e[p]=Tv.from(e[p])}for(let p=0;p<e.length;++p)if(!(!Ev(e[p])&&!oA(e[p]))){if(p<e.length-1&&!(vj(e[p])||Tj(e[p])||Wu(e[p])))throw new Ej(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(wj(e[p])||Sj(e[p])||Wu(e[p])))throw new Ej(`streams[${p}]`,r[p],"must be writable")}let n,a,s,o,u;function c(p){const m=o;o=null,m?m(p):p?u.destroy(p):!h&&!f&&u.destroy()}const l=e[0],d=kpe(e,c),f=!!(wj(l)||Sj(l)||Wu(l)),h=!!(vj(d)||Tj(d)||Wu(d));if(u=new Tv({writableObjectMode:!!(l!=null&&l.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:f,readable:h}),f){if(Ev(l))u._write=function(m,y,g){l.write(m,y)?g():n=g},u._final=function(m){l.end(),a=m},l.on("drain",function(){if(n){const m=n;n=null,m()}});else if(oA(l)){const y=(Wu(l)?l.writable:l).getWriter();u._write=async function(g,b,v){try{await y.ready,y.write(g).catch(()=>{}),v()}catch(_){v(_)}},u._final=async function(g){try{await y.ready,y.close().catch(()=>{}),a=g}catch(b){g(b)}}}const p=Wu(d)?d.readable:d;zpe(p,()=>{if(a){const m=a;a=null,m()}})}if(h){if(Ev(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){u.push(null)}),u._read=function(){for(;;){const p=d.read();if(p===null){s=u._read;return}if(!u.push(p))return}};else if(oA(d)){const m=(Wu(d)?d.readable:d).getReader();u._read=async function(){for(;;)try{const{value:y,done:g}=await m.read();if(!u.push(y))return;if(g){u.push(null);return}}catch{return}}}}return u._destroy=function(p,m){!p&&o!==null&&(p=new Hpe),s=null,n=null,a=null,o===null?m(p):(o=m,Ev(d)&&Vpe(d,p))},u};const Gpe=globalThis.AbortController||$d().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Wpe,ERR_INVALID_ARG_TYPE:Jb,ERR_MISSING_ARGS:Kpe,ERR_OUT_OF_RANGE:Jpe},AbortError:ms}=Ai,{validateAbortSignal:cl,validateInteger:Aj,validateObject:ll}=Wb,Xpe=kr.Symbol("kWeak"),Ype=kr.Symbol("kResistStopPropagation"),{finished:Zpe}=Ru,e0e=JK,{addAbortSignalNoValidate:t0e}=_2,{isWritable:r0e,isNodeStream:n0e}=Ro,{deprecate:i0e}=ci,{ArrayPrototypePush:a0e,Boolean:s0e,MathFloor:Oj,Number:o0e,NumberIsNaN:u0e,Promise:Rj,PromiseReject:xj,PromiseResolve:c0e,PromisePrototypeThen:Ij,Symbol:XK}=kr,mS=XK("kEmpty"),Pj=XK("kEof");function l0e(t,e){if(e!=null&&ll(e,"options"),(e==null?void 0:e.signal)!=null&&cl(e.signal,"options.signal"),n0e(t)&&!r0e(t))throw new Wpe("stream",t,"must be writable");const r=e0e(this,t);return e!=null&&e.signal&&t0e(e.signal,r),r}function w2(t,e){if(typeof t!="function")throw new Jb("fn",["Function","AsyncFunction"],t);e!=null&&ll(e,"options"),(e==null?void 0:e.signal)!=null&&cl(e.signal,"options.signal");let r=1;(e==null?void 0:e.concurrency)!=null&&(r=Oj(e.concurrency));let n=r-1;return(e==null?void 0:e.highWaterMark)!=null&&(n=Oj(e.highWaterMark)),Aj(r,"options.concurrency",1),Aj(n,"options.highWaterMark",0),n+=r,(async function*(){const s=ci.AbortSignalAny([e==null?void 0:e.signal].filter(s0e)),o=this,u=[],c={signal:s};let l,d,f=!1,h=0;function p(){f=!0,m()}function m(){h-=1,y()}function y(){d&&!f&&h<r&&u.length<n&&(d(),d=null)}async function g(){try{for await(let b of o){if(f)return;if(s.aborted)throw new ms;try{if(b=t(b,c),b===mS)continue;b=c0e(b)}catch(v){b=xj(v)}h+=1,Ij(b,m,p),u.push(b),l&&(l(),l=null),!f&&(u.length>=n||h>=r)&&await new Rj(v=>{d=v})}u.push(Pj)}catch(b){const v=xj(b);Ij(v,m,p),u.push(v)}finally{f=!0,l&&(l(),l=null)}}g();try{for(;;){for(;u.length>0;){const b=await u[0];if(b===Pj)return;if(s.aborted)throw new ms;b!==mS&&(yield b),u.shift(),y()}await new Rj(b=>{l=b})}}finally{f=!0,d&&(d(),d=null)}}).call(this)}function d0e(t=void 0){return t!=null&&ll(t,"options"),(t==null?void 0:t.signal)!=null&&cl(t.signal,"options.signal"),(async function*(){let r=0;for await(const a of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ms({cause:t.signal.reason});yield[r++,a]}}).call(this)}async function YK(t,e=void 0){for await(const r of wD.call(this,t,e))return!0;return!1}async function f0e(t,e=void 0){if(typeof t!="function")throw new Jb("fn",["Function","AsyncFunction"],t);return!await YK.call(this,async(...r)=>!await t(...r),e)}async function h0e(t,e){for await(const r of wD.call(this,t,e))return r}async function p0e(t,e){if(typeof t!="function")throw new Jb("fn",["Function","AsyncFunction"],t);async function r(n,a){return await t(n,a),mS}for await(const n of w2.call(this,r,e));}function wD(t,e){if(typeof t!="function")throw new Jb("fn",["Function","AsyncFunction"],t);async function r(n,a){return await t(n,a)?n:mS}return w2.call(this,r,e)}class y0e extends Kpe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function m0e(t,e,r){var n;if(typeof t!="function")throw new Jb("reducer",["Function","AsyncFunction"],t);r!=null&&ll(r,"options"),(r==null?void 0:r.signal)!=null&&cl(r.signal,"options.signal");let a=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const l=new ms(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Zpe(this.destroy(l)),l}const s=new Gpe,o=s.signal;if(r!=null&&r.signal){const l={once:!0,[Xpe]:this,[Ype]:!0};r.signal.addEventListener("abort",()=>s.abort(),l)}let u=!1;try{for await(const l of this){var c;if(u=!0,r!=null&&(c=r.signal)!==null&&c!==void 0&&c.aborted)throw new ms;a?e=await t(e,l,{signal:o}):(e=l,a=!0)}if(!u&&!a)throw new y0e}finally{s.abort()}return e}async function g0e(t){t!=null&&ll(t,"options"),(t==null?void 0:t.signal)!=null&&cl(t.signal,"options.signal");const e=[];for await(const n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new ms(void 0,{cause:t.signal.reason});a0e(e,n)}return e}function _0e(t,e){const r=w2.call(this,t,e);return(async function*(){for await(const a of r)yield*a}).call(this)}function ZK(t){if(t=o0e(t),u0e(t))return 0;if(t<0)throw new Jpe("number",">= 0",t);return t}function b0e(t,e=void 0){return e!=null&&ll(e,"options"),(e==null?void 0:e.signal)!=null&&cl(e.signal,"options.signal"),t=ZK(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ms;for await(const s of this){var a;if(e!=null&&(a=e.signal)!==null&&a!==void 0&&a.aborted)throw new ms;t--<=0&&(yield s)}}).call(this)}function v0e(t,e=void 0){return e!=null&&ll(e,"options"),(e==null?void 0:e.signal)!=null&&cl(e.signal,"options.signal"),t=ZK(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ms;for await(const s of this){var a;if(e!=null&&(a=e.signal)!==null&&a!==void 0&&a.aborted)throw new ms;if(t-- >0&&(yield s),t<=0)return}}).call(this)}lD.streamReturningOperators={asIndexedPairs:i0e(d0e,"readable.asIndexedPairs will be removed in a future version."),drop:b0e,filter:wD,flatMap:_0e,map:w2,take:v0e,compose:l0e};lD.promiseReturningOperators={every:f0e,forEach:p0e,reduce:m0e,toArray:g0e,some:YK,find:h0e};var uA,Nj;function eJ(){if(Nj)return uA;Nj=1;const{ArrayPrototypePop:t,Promise:e}=kr,{isIterable:r,isNodeStream:n,isWebStream:a}=Ro,{pipelineImpl:s}=vD,{finished:o}=Ru;tJ();function u(...c){return new e((l,d)=>{let f,h;const p=c[c.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!a(p)){const m=t(c);f=m.signal,h=m.end}s(c,(m,y)=>{m?d(m):l(y)},{signal:f,end:h})})}return uA={finished:o,pipeline:u},uA}var Dj;function tJ(){if(Dj)return HE.exports;Dj=1;const{Buffer:t}=gs,{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=kr,{promisify:{custom:a}}=ci,{streamReturningOperators:s,promiseReturningOperators:o}=lD,{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=Ai,c=JK,{setDefaultHighWaterMark:l,getDefaultHighWaterMark:d}=b2,{pipeline:f}=vD,{destroyer:h}=df,p=Ru,m=eJ(),y=Ro,g=HE.exports=yD.Stream;g.isDestroyed=y.isDestroyed,g.isDisturbed=y.isDisturbed,g.isErrored=y.isErrored,g.isReadable=y.isReadable,g.isWritable=y.isWritable,g.Readable=v2();for(const v of r(s)){let w=function(...E){if(new.target)throw u();return g.Readable.from(n(_,this,E))};const _=s[v];e(w,"name",{__proto__:null,value:_.name}),e(w,"length",{__proto__:null,value:_.length}),e(g.Readable.prototype,v,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(const v of r(o)){let w=function(...E){if(new.target)throw u();return n(_,this,E)};const _=o[v];e(w,"name",{__proto__:null,value:_.name}),e(w,"length",{__proto__:null,value:_.length}),e(g.Readable.prototype,v,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}g.Writable=gD(),g.Duplex=bo(),g.Transform=zK,g.PassThrough=WK,g.pipeline=f;const{addAbortSignal:b}=_2;return g.addAbortSignal=b,g.finished=p,g.destroy=h,g.compose=c,g.setDefaultHighWaterMark=l,g.getDefaultHighWaterMark=d,e(g,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),e(f,a,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),e(p,a,{__proto__:null,enumerable:!0,get(){return m.finished}}),g.Stream=g,g._isUint8Array=function(_){return _ instanceof Uint8Array},g._uint8ArrayToBuffer=function(_){return t.from(_.buffer,_.byteOffset,_.byteLength)},HE.exports}(function(t){const e=tJ(),r=eJ(),n=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=n,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=e.Stream,t.exports.default=t.exports})(YW);var Pt=YW.exports;let rJ=class{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}};rJ.prototype.termType="BlankNode";let SD=class{equals(e){return!!e&&e.termType===this.termType}};SD.prototype.termType="DefaultGraph";SD.prototype.value="";function Cj(t,e){if(!e)return null;if(e.termType==="BlankNode")return t.blankNode(e.value);if(e.termType==="DefaultGraph")return t.defaultGraph();if(e.termType==="Literal")return t.literal(e.value,e.language||t.namedNode(e.datatype.value));if(e.termType==="NamedNode")return t.namedNode(e.value);if(e.termType==="Quad"){const r=t.fromTerm(e.subject),n=t.fromTerm(e.predicate),a=t.fromTerm(e.object),s=t.fromTerm(e.graph);return t.quad(r,n,a,s)}if(e.termType==="Variable")return t.variable(e.value);throw new Error(`unknown termType ${e.termType}`)}let bP=class{constructor(e,r,n){this.value=e,this.language=r,this.datatype=n}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}};bP.prototype.termType="Literal";let S2=class{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}};S2.prototype.termType="NamedNode";let TD=class{constructor(e,r,n,a){this.subject=e,this.predicate=r,this.object=n,this.graph=a}equals(e){return!!e&&(e.termType==="Quad"||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}};TD.prototype.termType="Quad";TD.prototype.value="";let nJ=class{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}};nJ.prototype.termType="Variable";const w0e=new S2("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),S0e=new S2("http://www.w3.org/2001/XMLSchema#string");let iJ=class{constructor(){this.init()}init(){this._data={blankNodeCounter:0,defaultGraph:new SD}}namedNode(e){return new S2(e)}blankNode(e){return e=e||"b"+ ++this._data.blankNodeCounter,new rJ(e)}literal(e,r){return typeof r=="string"?new bP(e,r,w0e):new bP(e,"",r||S0e)}variable(e){return new nJ(e)}defaultGraph(){return this._data.defaultGraph}quad(e,r,n,a=this.defaultGraph()){return new TD(e,r,n,a)}fromTerm(e){return Cj(this,e)}fromQuad(e){return Cj(this,e)}};iJ.exports=["blankNode","defaultGraph","fromQuad","fromTerm","literal","namedNode","quad","variable"];const $r=new iJ;class cA extends Pt.Transform{constructor(e,{factory:r=$r}={}){super({objectMode:!0}),this.factory=r,this.graph=e||this.factory.defaultGraph(),this.on("pipe",n=>{n.on("error",a=>{this.emit("error",a)})})}_transform(e,r,n){const a=this.factory.quad(e.subject,e.predicate,e.object,this.graph);n(null,a)}}function T0e(){this.__data__=[],this.size=0}var E0e=T0e;function A0e(t,e){return t===e||t!==t&&e!==e}var aJ=A0e,O0e=aJ;function R0e(t,e){for(var r=t.length;r--;)if(O0e(t[r][0],e))return r;return-1}var T2=R0e,x0e=T2,I0e=Array.prototype,P0e=I0e.splice;function N0e(t){var e=this.__data__,r=x0e(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():P0e.call(e,r,1),--this.size,!0}var D0e=N0e,C0e=T2;function L0e(t){var e=this.__data__,r=C0e(e,t);return r<0?void 0:e[r][1]}var j0e=L0e,M0e=T2;function F0e(t){return M0e(this.__data__,t)>-1}var B0e=F0e,q0e=T2;function $0e(t,e){var r=this.__data__,n=q0e(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var U0e=$0e,k0e=E0e,V0e=D0e,H0e=j0e,Q0e=B0e,z0e=U0e;function ff(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ff.prototype.clear=k0e;ff.prototype.delete=V0e;ff.prototype.get=H0e;ff.prototype.has=Q0e;ff.prototype.set=z0e;var E2=ff,G0e=E2;function W0e(){this.__data__=new G0e,this.size=0}var K0e=W0e;function J0e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var X0e=J0e;function Y0e(t){return this.__data__.get(t)}var Z0e=Y0e;function eye(t){return this.__data__.has(t)}var tye=eye,rye=typeof I=="object"&&I&&I.Object===Object&&I,sJ=rye,nye=sJ,iye=typeof self=="object"&&self&&self.Object===Object&&self,aye=nye||iye||Function("return this")(),bs=aye,sye=bs,oye=sye.Symbol,ED=oye,Lj=ED,oJ=Object.prototype,uye=oJ.hasOwnProperty,cye=oJ.toString,Xf=Lj?Lj.toStringTag:void 0;function lye(t){var e=uye.call(t,Xf),r=t[Xf];try{t[Xf]=void 0;var n=!0}catch{}var a=cye.call(t);return n&&(e?t[Xf]=r:delete t[Xf]),a}var dye=lye,fye=Object.prototype,hye=fye.toString;function pye(t){return hye.call(t)}var yye=pye,jj=ED,mye=dye,gye=yye,_ye="[object Null]",bye="[object Undefined]",Mj=jj?jj.toStringTag:void 0;function vye(t){return t==null?t===void 0?bye:_ye:Mj&&Mj in Object(t)?mye(t):gye(t)}var A2=vye;function wye(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Xb=wye,Sye=A2,Tye=Xb,Eye="[object AsyncFunction]",Aye="[object Function]",Oye="[object GeneratorFunction]",Rye="[object Proxy]";function xye(t){if(!Tye(t))return!1;var e=Sye(t);return e==Aye||e==Oye||e==Eye||e==Rye}var uJ=xye,Iye=bs,Pye=Iye["__core-js_shared__"],Nye=Pye,lA=Nye,Fj=function(){var t=/[^.]+$/.exec(lA&&lA.keys&&lA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Dye(t){return!!Fj&&Fj in t}var Cye=Dye,Lye=Function.prototype,jye=Lye.toString;function Mye(t){if(t!=null){try{return jye.call(t)}catch{}try{return t+""}catch{}}return""}var cJ=Mye,Fye=uJ,Bye=Cye,qye=Xb,$ye=cJ,Uye=/[\\^$.*+?()[\]{}|]/g,kye=/^\[object .+?Constructor\]$/,Vye=Function.prototype,Hye=Object.prototype,Qye=Vye.toString,zye=Hye.hasOwnProperty,Gye=RegExp("^"+Qye.call(zye).replace(Uye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wye(t){if(!qye(t)||Bye(t))return!1;var e=Fye(t)?Gye:kye;return e.test($ye(t))}var Kye=Wye;function Jye(t,e){return t==null?void 0:t[e]}var Xye=Jye,Yye=Kye,Zye=Xye;function eme(t,e){var r=Zye(t,e);return Yye(r)?r:void 0}var dl=eme,tme=dl,rme=bs,nme=tme(rme,"Map"),AD=nme,ime=dl,ame=ime(Object,"create"),O2=ame,Bj=O2;function sme(){this.__data__=Bj?Bj(null):{},this.size=0}var ome=sme;function ume(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cme=ume,lme=O2,dme="__lodash_hash_undefined__",fme=Object.prototype,hme=fme.hasOwnProperty;function pme(t){var e=this.__data__;if(lme){var r=e[t];return r===dme?void 0:r}return hme.call(e,t)?e[t]:void 0}var yme=pme,mme=O2,gme=Object.prototype,_me=gme.hasOwnProperty;function bme(t){var e=this.__data__;return mme?e[t]!==void 0:_me.call(e,t)}var vme=bme,wme=O2,Sme="__lodash_hash_undefined__";function Tme(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=wme&&e===void 0?Sme:e,this}var Eme=Tme,Ame=ome,Ome=cme,Rme=yme,xme=vme,Ime=Eme;function hf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hf.prototype.clear=Ame;hf.prototype.delete=Ome;hf.prototype.get=Rme;hf.prototype.has=xme;hf.prototype.set=Ime;var Pme=hf,qj=Pme,Nme=E2,Dme=AD;function Cme(){this.size=0,this.__data__={hash:new qj,map:new(Dme||Nme),string:new qj}}var Lme=Cme;function jme(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Mme=jme,Fme=Mme;function Bme(t,e){var r=t.__data__;return Fme(e)?r[typeof e=="string"?"string":"hash"]:r.map}var R2=Bme,qme=R2;function $me(t){var e=qme(this,t).delete(t);return this.size-=e?1:0,e}var Ume=$me,kme=R2;function Vme(t){return kme(this,t).get(t)}var Hme=Vme,Qme=R2;function zme(t){return Qme(this,t).has(t)}var Gme=zme,Wme=R2;function Kme(t,e){var r=Wme(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Jme=Kme,Xme=Lme,Yme=Ume,Zme=Hme,ege=Gme,tge=Jme;function pf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pf.prototype.clear=Xme;pf.prototype.delete=Yme;pf.prototype.get=Zme;pf.prototype.has=ege;pf.prototype.set=tge;var rge=pf,nge=E2,ige=AD,age=rge,sge=200;function oge(t,e){var r=this.__data__;if(r instanceof nge){var n=r.__data__;if(!ige||n.length<sge-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new age(n)}return r.set(t,e),this.size=r.size,this}var uge=oge,cge=E2,lge=K0e,dge=X0e,fge=Z0e,hge=tye,pge=uge;function yf(t){var e=this.__data__=new cge(t);this.size=e.size}yf.prototype.clear=lge;yf.prototype.delete=dge;yf.prototype.get=fge;yf.prototype.has=hge;yf.prototype.set=pge;var yge=yf;function mge(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var gge=mge,_ge=dl,bge=function(){try{var t=_ge(Object,"defineProperty");return t({},"",{}),t}catch{}}(),vge=bge,$j=vge;function wge(t,e,r){e=="__proto__"&&$j?$j(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var lJ=wge,Sge=lJ,Tge=aJ,Ege=Object.prototype,Age=Ege.hasOwnProperty;function Oge(t,e,r){var n=t[e];(!(Age.call(t,e)&&Tge(n,r))||r===void 0&&!(e in t))&&Sge(t,e,r)}var dJ=Oge,Rge=dJ,xge=lJ;function Ige(t,e,r,n){var a=!r;r||(r={});for(var s=-1,o=e.length;++s<o;){var u=e[s],c=n?n(r[u],t[u],u,r,t):void 0;c===void 0&&(c=t[u]),a?xge(r,u,c):Rge(r,u,c)}return r}var x2=Ige;function Pge(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Nge=Pge;function Dge(t){return t!=null&&typeof t=="object"}var Yb=Dge,Cge=A2,Lge=Yb,jge="[object Arguments]";function Mge(t){return Lge(t)&&Cge(t)==jge}var Fge=Mge,Uj=Fge,Bge=Yb,fJ=Object.prototype,qge=fJ.hasOwnProperty,$ge=fJ.propertyIsEnumerable,Uge=Uj(function(){return arguments}())?Uj:function(t){return Bge(t)&&qge.call(t,"callee")&&!$ge.call(t,"callee")},kge=Uge,Vge=Array.isArray,OD=Vge,gS={exports:{}};function Hge(){return!1}var Qge=Hge;gS.exports;(function(t,e){var r=bs,n=Qge,a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===a,u=o?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||n;t.exports=l})(gS,gS.exports);var hJ=gS.exports,zge=9007199254740991,Gge=/^(?:0|[1-9]\d*)$/;function Wge(t,e){var r=typeof t;return e=e??zge,!!e&&(r=="number"||r!="symbol"&&Gge.test(t))&&t>-1&&t%1==0&&t<e}var Kge=Wge,Jge=9007199254740991;function Xge(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Jge}var pJ=Xge,Yge=A2,Zge=pJ,e_e=Yb,t_e="[object Arguments]",r_e="[object Array]",n_e="[object Boolean]",i_e="[object Date]",a_e="[object Error]",s_e="[object Function]",o_e="[object Map]",u_e="[object Number]",c_e="[object Object]",l_e="[object RegExp]",d_e="[object Set]",f_e="[object String]",h_e="[object WeakMap]",p_e="[object ArrayBuffer]",y_e="[object DataView]",m_e="[object Float32Array]",g_e="[object Float64Array]",__e="[object Int8Array]",b_e="[object Int16Array]",v_e="[object Int32Array]",w_e="[object Uint8Array]",S_e="[object Uint8ClampedArray]",T_e="[object Uint16Array]",E_e="[object Uint32Array]",Er={};Er[m_e]=Er[g_e]=Er[__e]=Er[b_e]=Er[v_e]=Er[w_e]=Er[S_e]=Er[T_e]=Er[E_e]=!0;Er[t_e]=Er[r_e]=Er[p_e]=Er[n_e]=Er[y_e]=Er[i_e]=Er[a_e]=Er[s_e]=Er[o_e]=Er[u_e]=Er[c_e]=Er[l_e]=Er[d_e]=Er[f_e]=Er[h_e]=!1;function A_e(t){return e_e(t)&&Zge(t.length)&&!!Er[Yge(t)]}var O_e=A_e;function R_e(t){return function(e){return t(e)}}var RD=R_e,_S={exports:{}};_S.exports;(function(t,e){var r=sJ,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,o=s&&r.process,u=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=u})(_S,_S.exports);var xD=_S.exports,x_e=O_e,I_e=RD,kj=xD,Vj=kj&&kj.isTypedArray,P_e=Vj?I_e(Vj):x_e,N_e=P_e,D_e=Nge,C_e=kge,L_e=OD,j_e=hJ,M_e=Kge,F_e=N_e,B_e=Object.prototype,q_e=B_e.hasOwnProperty;function $_e(t,e){var r=L_e(t),n=!r&&C_e(t),a=!r&&!n&&j_e(t),s=!r&&!n&&!a&&F_e(t),o=r||n||a||s,u=o?D_e(t.length,String):[],c=u.length;for(var l in t)(e||q_e.call(t,l))&&!(o&&(l=="length"||a&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||M_e(l,c)))&&u.push(l);return u}var yJ=$_e,U_e=Object.prototype;function k_e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||U_e;return t===r}var ID=k_e;function V_e(t,e){return function(r){return t(e(r))}}var mJ=V_e,H_e=mJ,Q_e=H_e(Object.keys,Object),z_e=Q_e,G_e=ID,W_e=z_e,K_e=Object.prototype,J_e=K_e.hasOwnProperty;function X_e(t){if(!G_e(t))return W_e(t);var e=[];for(var r in Object(t))J_e.call(t,r)&&r!="constructor"&&e.push(r);return e}var Y_e=X_e,Z_e=uJ,ebe=pJ;function tbe(t){return t!=null&&ebe(t.length)&&!Z_e(t)}var gJ=tbe,rbe=yJ,nbe=Y_e,ibe=gJ;function abe(t){return ibe(t)?rbe(t):nbe(t)}var PD=abe,sbe=x2,obe=PD;function ube(t,e){return t&&sbe(e,obe(e),t)}var cbe=ube;function lbe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var dbe=lbe,fbe=Xb,hbe=ID,pbe=dbe,ybe=Object.prototype,mbe=ybe.hasOwnProperty;function gbe(t){if(!fbe(t))return pbe(t);var e=hbe(t),r=[];for(var n in t)n=="constructor"&&(e||!mbe.call(t,n))||r.push(n);return r}var _be=gbe,bbe=yJ,vbe=_be,wbe=gJ;function Sbe(t){return wbe(t)?bbe(t,!0):vbe(t)}var ND=Sbe,Tbe=x2,Ebe=ND;function Abe(t,e){return t&&Tbe(e,Ebe(e),t)}var Obe=Abe,bS={exports:{}};bS.exports;(function(t,e){var r=bs,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,o=s?r.Buffer:void 0,u=o?o.allocUnsafe:void 0;function c(l,d){if(d)return l.slice();var f=l.length,h=u?u(f):new l.constructor(f);return l.copy(h),h}t.exports=c})(bS,bS.exports);var Rbe=bS.exports;function xbe(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Ibe=xbe;function Pbe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[a++]=o)}return s}var Nbe=Pbe;function Dbe(){return[]}var _J=Dbe,Cbe=Nbe,Lbe=_J,jbe=Object.prototype,Mbe=jbe.propertyIsEnumerable,Hj=Object.getOwnPropertySymbols,Fbe=Hj?function(t){return t==null?[]:(t=Object(t),Cbe(Hj(t),function(e){return Mbe.call(t,e)}))}:Lbe,DD=Fbe,Bbe=x2,qbe=DD;function $be(t,e){return Bbe(t,qbe(t),e)}var Ube=$be;function kbe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var bJ=kbe,Vbe=mJ,Hbe=Vbe(Object.getPrototypeOf,Object),vJ=Hbe,Qbe=bJ,zbe=vJ,Gbe=DD,Wbe=_J,Kbe=Object.getOwnPropertySymbols,Jbe=Kbe?function(t){for(var e=[];t;)Qbe(e,Gbe(t)),t=zbe(t);return e}:Wbe,wJ=Jbe,Xbe=x2,Ybe=wJ;function Zbe(t,e){return Xbe(t,Ybe(t),e)}var e1e=Zbe,t1e=bJ,r1e=OD;function n1e(t,e,r){var n=e(t);return r1e(t)?n:t1e(n,r(t))}var SJ=n1e,i1e=SJ,a1e=DD,s1e=PD;function o1e(t){return i1e(t,s1e,a1e)}var u1e=o1e,c1e=SJ,l1e=wJ,d1e=ND;function f1e(t){return c1e(t,d1e,l1e)}var h1e=f1e,p1e=dl,y1e=bs,m1e=p1e(y1e,"DataView"),g1e=m1e,_1e=dl,b1e=bs,v1e=_1e(b1e,"Promise"),w1e=v1e,S1e=dl,T1e=bs,E1e=S1e(T1e,"Set"),A1e=E1e,O1e=dl,R1e=bs,x1e=O1e(R1e,"WeakMap"),I1e=x1e,vP=g1e,wP=AD,SP=w1e,TP=A1e,EP=I1e,TJ=A2,mf=cJ,Qj="[object Map]",P1e="[object Object]",zj="[object Promise]",Gj="[object Set]",Wj="[object WeakMap]",Kj="[object DataView]",N1e=mf(vP),D1e=mf(wP),C1e=mf(SP),L1e=mf(TP),j1e=mf(EP),cc=TJ;(vP&&cc(new vP(new ArrayBuffer(1)))!=Kj||wP&&cc(new wP)!=Qj||SP&&cc(SP.resolve())!=zj||TP&&cc(new TP)!=Gj||EP&&cc(new EP)!=Wj)&&(cc=function(t){var e=TJ(t),r=e==P1e?t.constructor:void 0,n=r?mf(r):"";if(n)switch(n){case N1e:return Kj;case D1e:return Qj;case C1e:return zj;case L1e:return Gj;case j1e:return Wj}return e});var CD=cc,M1e=Object.prototype,F1e=M1e.hasOwnProperty;function B1e(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&F1e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var q1e=B1e,$1e=bs,U1e=$1e.Uint8Array,k1e=U1e,Jj=k1e;function V1e(t){var e=new t.constructor(t.byteLength);return new Jj(e).set(new Jj(t)),e}var LD=V1e,H1e=LD;function Q1e(t,e){var r=e?H1e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var z1e=Q1e,G1e=/\w*$/;function W1e(t){var e=new t.constructor(t.source,G1e.exec(t));return e.lastIndex=t.lastIndex,e}var K1e=W1e,Xj=ED,Yj=Xj?Xj.prototype:void 0,Zj=Yj?Yj.valueOf:void 0;function J1e(t){return Zj?Object(Zj.call(t)):{}}var X1e=J1e,Y1e=LD;function Z1e(t,e){var r=e?Y1e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var eve=Z1e,tve=LD,rve=z1e,nve=K1e,ive=X1e,ave=eve,sve="[object Boolean]",ove="[object Date]",uve="[object Map]",cve="[object Number]",lve="[object RegExp]",dve="[object Set]",fve="[object String]",hve="[object Symbol]",pve="[object ArrayBuffer]",yve="[object DataView]",mve="[object Float32Array]",gve="[object Float64Array]",_ve="[object Int8Array]",bve="[object Int16Array]",vve="[object Int32Array]",wve="[object Uint8Array]",Sve="[object Uint8ClampedArray]",Tve="[object Uint16Array]",Eve="[object Uint32Array]";function Ave(t,e,r){var n=t.constructor;switch(e){case pve:return tve(t);case sve:case ove:return new n(+t);case yve:return rve(t,r);case mve:case gve:case _ve:case bve:case vve:case wve:case Sve:case Tve:case Eve:return ave(t,r);case uve:return new n;case cve:case fve:return new n(t);case lve:return nve(t);case dve:return new n;case hve:return ive(t)}}var Ove=Ave,Rve=Xb,eM=Object.create,xve=function(){function t(){}return function(e){if(!Rve(e))return{};if(eM)return eM(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Ive=xve,Pve=Ive,Nve=vJ,Dve=ID;function Cve(t){return typeof t.constructor=="function"&&!Dve(t)?Pve(Nve(t)):{}}var Lve=Cve,jve=CD,Mve=Yb,Fve="[object Map]";function Bve(t){return Mve(t)&&jve(t)==Fve}var qve=Bve,$ve=qve,Uve=RD,tM=xD,rM=tM&&tM.isMap,kve=rM?Uve(rM):$ve,Vve=kve,Hve=CD,Qve=Yb,zve="[object Set]";function Gve(t){return Qve(t)&&Hve(t)==zve}var Wve=Gve,Kve=Wve,Jve=RD,nM=xD,iM=nM&&nM.isSet,Xve=iM?Jve(iM):Kve,Yve=Xve,Zve=yge,ewe=gge,twe=dJ,rwe=cbe,nwe=Obe,iwe=Rbe,awe=Ibe,swe=Ube,owe=e1e,uwe=u1e,cwe=h1e,lwe=CD,dwe=q1e,fwe=Ove,hwe=Lve,pwe=OD,ywe=hJ,mwe=Vve,gwe=Xb,_we=Yve,bwe=PD,vwe=ND,wwe=1,Swe=2,Twe=4,EJ="[object Arguments]",Ewe="[object Array]",Awe="[object Boolean]",Owe="[object Date]",Rwe="[object Error]",AJ="[object Function]",xwe="[object GeneratorFunction]",Iwe="[object Map]",Pwe="[object Number]",OJ="[object Object]",Nwe="[object RegExp]",Dwe="[object Set]",Cwe="[object String]",Lwe="[object Symbol]",jwe="[object WeakMap]",Mwe="[object ArrayBuffer]",Fwe="[object DataView]",Bwe="[object Float32Array]",qwe="[object Float64Array]",$we="[object Int8Array]",Uwe="[object Int16Array]",kwe="[object Int32Array]",Vwe="[object Uint8Array]",Hwe="[object Uint8ClampedArray]",Qwe="[object Uint16Array]",zwe="[object Uint32Array]",mr={};mr[EJ]=mr[Ewe]=mr[Mwe]=mr[Fwe]=mr[Awe]=mr[Owe]=mr[Bwe]=mr[qwe]=mr[$we]=mr[Uwe]=mr[kwe]=mr[Iwe]=mr[Pwe]=mr[OJ]=mr[Nwe]=mr[Dwe]=mr[Cwe]=mr[Lwe]=mr[Vwe]=mr[Hwe]=mr[Qwe]=mr[zwe]=!0;mr[Rwe]=mr[AJ]=mr[jwe]=!1;function Ow(t,e,r,n,a,s){var o,u=e&wwe,c=e&Swe,l=e&Twe;if(r&&(o=a?r(t,n,a,s):r(t)),o!==void 0)return o;if(!gwe(t))return t;var d=pwe(t);if(d){if(o=dwe(t),!u)return awe(t,o)}else{var f=lwe(t),h=f==AJ||f==xwe;if(ywe(t))return iwe(t,u);if(f==OJ||f==EJ||h&&!a){if(o=c||h?{}:hwe(t),!u)return c?owe(t,nwe(o,t)):swe(t,rwe(o,t))}else{if(!mr[f])return a?t:{};o=fwe(t,f,u)}}s||(s=new Zve);var p=s.get(t);if(p)return p;s.set(t,o),_we(t)?t.forEach(function(g){o.add(Ow(g,e,r,g,t,s))}):mwe(t)&&t.forEach(function(g,b){o.set(b,Ow(g,e,r,b,t,s))});var m=l?c?cwe:uwe:c?vwe:bwe,y=d?void 0:m(t);return ewe(y||t,function(g,b){y&&(b=g,g=t[b]),twe(o,b,Ow(g,e,r,b,t,s))}),o}var Gwe=Ow,Wwe=Gwe,Kwe=4;function Jwe(t){return Wwe(t,Kwe)}var Xwe=Jwe;const Ywe=WW(Xwe);function Zwe(t){let e="";for(let r=0;r<t;r++)e+=" ";return e}let gf=class{constructor({type:e,attr:r={},children:n=[]}={}){this.type=e,this.attr=r,this.children=n}clone(e){const r=new this.constructor;return r.type=this.type,r.attr=Ywe(this.attr),r.children=this.children.map(n=>typeof n.clone=="function"?n.clone():n),e&&e(r),r}toStringStart(){return null}toStringChildren({multiline:e=!1,indent:r=!1}={}){const n=e?`
`:" ";let a=this.children.map(s=>s.toString()).filter(Boolean).join(n);return r&&(a=a.split(`
`).map(s=>Zwe(2)+s).join(`
`)),a}toStringEnd(){return null}toString({multiline:e=!1}={}){const r=e?`
`:" ";return[this.toStringStart(),this.toStringChildren(),this.toStringEnd()].filter(Boolean).join(r)}};function eSe(t){return"_:"+t.value}function tSe(t,e){return[...t].map(r=>e(r)).join(`
`)+`
`}function rSe(){return""}function RJ(t){return"<"+t.value+">"}const nSe=/["\\\\\n\r]/,iSe=/["\\\\\n\r]/g,aSe={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r"};function sSe(t){return aSe[t]}function oSe(t){return nSe.test(t)?t.replace(iSe,sSe):t}function uSe(t){const e=oSe(t.value);return t.datatype.value==="http://www.w3.org/2001/XMLSchema#string"?'"'+e+'"':t.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?'"'+e+'"@'+t.language:'"'+e+'"^^'+RJ(t.datatype)}function cSe(t,e){const r=e(t.subject),n=e(t.predicate),a=e(t.object),s=e(t.graph);return`${r} ${n} ${a} ${s?s+" ":""}.`}function lSe(t){return"?"+t.value}function AP(t){if(!t)return null;if(t.termType==="BlankNode")return eSe(t);if(t.termType==="DefaultGraph")return rSe();if(t.termType==="Literal")return uSe(t);if(t.termType==="NamedNode")return RJ(t);if(t.termType==="Quad"||t.subject&&t.predicate&&t.object&&t.graph)return cSe(t,AP);if(t.termType==="Variable")return lSe(t);if(t[Symbol.iterator])return tSe(t,AP);throw new Error(`unknown termType ${t.termType}`)}function K_(t){return t.termType&&AP(t)||t.toString()}class jD extends gf{constructor({type:e="Patterns"}={}){super({type:e})}add(e){this.children.push(e)}addAll(e=[]){e.forEach(r=>{this.add(r)})}}class MD extends gf{constructor(e){super({type:"SubQuery"}),this.children=e?[e]:[]}toStringStart(){return this.children.length!==0&&"{"}toStringChildren(){return super.toStringChildren({indent:!0})}toStringEnd(){return this.children.length!==0&&"}"}toString(){return super.toString({multiline:!0})}}class dSe extends jD{constructor(e=[]){super({type:"GraphPattern"}),this.addAll(e)}get graph(){const e=this.children.filter(r=>r.type==="TriplePattern")[0];return e&&e.attr.graph}add(e){if(e.type==="TriplePattern"&&this.graph&&!this.graph.equals(e.attr.graph))throw new Error(`graph of new pattern ${e.attr.graph.value} doesn't match existing graph ${this.graph.value}`);super.add(e)}toStringStart(){if(!(!this.graph||this.graph.termType==="DefaultGraph"))return`GRAPH ${K_(this.graph)} {
`}toStringChildren(){if(this.graph)return this.graph.termType==="DefaultGraph"?super.toStringChildren({multiline:!0}):super.toStringChildren({multiline:!0,indent:!0})}toStringEnd(){if(!(!this.graph||this.graph.termType==="DefaultGraph"))return`
}`}}class Av extends gf{constructor(e){super({type:"Path"}),this.attr.elements=e}toStringStart(){return this.attr.elements.map(e=>K_(e)).join("/")}}class aM extends gf{constructor(e,r,n,a){super({type:"TriplePattern"}),this.attr.subject=Array.isArray(e)?new Av(e):e,this.attr.predicate=Array.isArray(r)?new Av(r):r,this.attr.object=Array.isArray(n)?new Av(n):n,this.attr.graph=Array.isArray(a)?new Av(a):a||$r.defaultGraph()}toStringStart(){return[K_(this.attr.subject),K_(this.attr.predicate),K_(this.attr.object),"."].join(" ")}}function fSe(t,e){if(Array.isArray(e)&&(e=new aM(...e)),e.termType==="Quad"&&(e=new aM(e.subject,e.predicate,e.object,e.graph)),e.type==="Select")return t.children.push(new MD(e));if(e.type==="TriplePattern"&&t){const r=t.children.slice(-1)[0];return r&&r.type==="GraphPattern"&&r.graph.equals(e.attr.graph)?r.add(e):t.children.push(new dSe([e]))}return t.children.push(e)}function xJ(t,e){return e.forEach(r=>{fSe(t,r)}),t}class hSe extends gf{constructor(e=[],{queryPrefix:r}={}){super({type:"DeleteData"}),this.attr={queryPrefix:r},e.length===0?this.children=[""]:(this.children=[new MD(new jD)],xJ(this._patterns,e))}get _patterns(){return this.children[0].children[0]}toStringStart(){return[this.attr.queryPrefix,"DELETE DATA"].filter(Boolean).join("")}}class pSe extends gf{constructor(e=[],{queryPrefix:r}={}){super({type:"InsertData"}),this.attr={queryPrefix:r},e.length===0?this.children=[""]:(this.children=[new MD(new jD)],xJ(this._patterns,e))}get _patterns(){return this.children[0].children[0]}toStringStart(){return[this.attr.queryPrefix,"INSERT DATA"].filter(Boolean).join("")}}const ySe=(t,e)=>new hSe(t,e),mSe=(t,e)=>new pSe(t,e);function IJ(t,e){return function(){return t.apply(e,arguments)}}const{toString:gSe}=Object.prototype,{getPrototypeOf:FD}=Object,I2=(t=>e=>{const r=gSe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),vs=t=>(t=t.toLowerCase(),e=>I2(e)===t),P2=t=>e=>typeof e===t,{isArray:_f}=Array,hb=P2("undefined");function _Se(t){return t!==null&&!hb(t)&&t.constructor!==null&&!hb(t.constructor)&&ua(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const PJ=vs("ArrayBuffer");function bSe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&PJ(t.buffer),e}const vSe=P2("string"),ua=P2("function"),NJ=P2("number"),N2=t=>t!==null&&typeof t=="object",wSe=t=>t===!0||t===!1,Rw=t=>{if(I2(t)!=="object")return!1;const e=FD(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},SSe=vs("Date"),TSe=vs("File"),ESe=vs("Blob"),ASe=vs("FileList"),OSe=t=>N2(t)&&ua(t.pipe),RSe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ua(t.append)&&((e=I2(t))==="formdata"||e==="object"&&ua(t.toString)&&t.toString()==="[object FormData]"))},xSe=vs("URLSearchParams"),ISe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zb(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),_f(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let u;for(n=0;n<o;n++)u=s[n],e.call(null,t[u],u,t)}}function DJ(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const CJ=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:NI,LJ=t=>!hb(t)&&t!==CJ;function OP(){const{caseless:t}=LJ(this)&&this||{},e={},r=(n,a)=>{const s=t&&DJ(e,a)||a;Rw(e[s])&&Rw(n)?e[s]=OP(e[s],n):Rw(n)?e[s]=OP({},n):_f(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Zb(arguments[n],r);return e}const PSe=(t,e,r,{allOwnKeys:n}={})=>(Zb(e,(a,s)=>{r&&ua(a)?t[s]=IJ(a,r):t[s]=a},{allOwnKeys:n}),t),NSe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),DSe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},CSe=(t,e,r,n)=>{let a,s,o;const u={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)o=a[s],(!n||n(o,t,e))&&!u[o]&&(e[o]=t[o],u[o]=!0);t=r!==!1&&FD(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},LSe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},jSe=t=>{if(!t)return null;if(_f(t))return t;let e=t.length;if(!NJ(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},MSe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&FD(Uint8Array)),FSe=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},BSe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},qSe=vs("HTMLFormElement"),$Se=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),sM=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),USe=vs("RegExp"),jJ=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Zb(r,(a,s)=>{let o;(o=e(a,s,t))!==!1&&(n[s]=o||a)}),Object.defineProperties(t,n)},kSe=t=>{jJ(t,(e,r)=>{if(ua(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ua(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},VSe=(t,e)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return _f(t)?n(t):n(String(t).split(e)),r},HSe=()=>{},QSe=(t,e)=>(t=+t,Number.isFinite(t)?t:e),dA="abcdefghijklmnopqrstuvwxyz",oM="0123456789",MJ={DIGIT:oM,ALPHA:dA,ALPHA_DIGIT:dA+dA.toUpperCase()+oM},zSe=(t=16,e=MJ.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function GSe(t){return!!(t&&ua(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const WSe=t=>{const e=new Array(10),r=(n,a)=>{if(N2(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const s=_f(n)?[]:{};return Zb(n,(o,u)=>{const c=r(o,a+1);!hb(c)&&(s[u]=c)}),e[a]=void 0,s}}return n};return r(t,0)},KSe=vs("AsyncFunction"),JSe=t=>t&&(N2(t)||ua(t))&&ua(t.then)&&ua(t.catch),ze={isArray:_f,isArrayBuffer:PJ,isBuffer:_Se,isFormData:RSe,isArrayBufferView:bSe,isString:vSe,isNumber:NJ,isBoolean:wSe,isObject:N2,isPlainObject:Rw,isUndefined:hb,isDate:SSe,isFile:TSe,isBlob:ESe,isRegExp:USe,isFunction:ua,isStream:OSe,isURLSearchParams:xSe,isTypedArray:MSe,isFileList:ASe,forEach:Zb,merge:OP,extend:PSe,trim:ISe,stripBOM:NSe,inherits:DSe,toFlatObject:CSe,kindOf:I2,kindOfTest:vs,endsWith:LSe,toArray:jSe,forEachEntry:FSe,matchAll:BSe,isHTMLForm:qSe,hasOwnProperty:sM,hasOwnProp:sM,reduceDescriptors:jJ,freezeMethods:kSe,toObjectSet:VSe,toCamelCase:$Se,noop:HSe,toFiniteNumber:QSe,findKey:DJ,global:CJ,isContextDefined:LJ,ALPHABET:MJ,generateString:zSe,isSpecCompliantForm:GSe,toJSONObject:WSe,isAsyncFn:KSe,isThenable:JSe};var BD={},D2={};D2.byteLength=ZSe;D2.toByteArray=t2e;D2.fromByteArray=i2e;var as=[],Xi=[],XSe=typeof Uint8Array<"u"?Uint8Array:Array,fA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ll=0,YSe=fA.length;Ll<YSe;++Ll)as[Ll]=fA[Ll],Xi[fA.charCodeAt(Ll)]=Ll;Xi[45]=62;Xi[95]=63;function FJ(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function ZSe(t){var e=FJ(t),r=e[0],n=e[1];return(r+n)*3/4-n}function e2e(t,e,r){return(e+r)*3/4-r}function t2e(t){var e,r=FJ(t),n=r[0],a=r[1],s=new XSe(e2e(t,n,a)),o=0,u=a>0?n-4:n,c;for(c=0;c<u;c+=4)e=Xi[t.charCodeAt(c)]<<18|Xi[t.charCodeAt(c+1)]<<12|Xi[t.charCodeAt(c+2)]<<6|Xi[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return a===2&&(e=Xi[t.charCodeAt(c)]<<2|Xi[t.charCodeAt(c+1)]>>4,s[o++]=e&255),a===1&&(e=Xi[t.charCodeAt(c)]<<10|Xi[t.charCodeAt(c+1)]<<4|Xi[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function r2e(t){return as[t>>18&63]+as[t>>12&63]+as[t>>6&63]+as[t&63]}function n2e(t,e,r){for(var n,a=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),a.push(r2e(n));return a.join("")}function i2e(t){for(var e,r=t.length,n=r%3,a=[],s=16383,o=0,u=r-n;o<u;o+=s)a.push(n2e(t,o,o+s>u?u:o+s));return n===1?(e=t[r-1],a.push(as[e>>2]+as[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],a.push(as[e>>10]+as[e>>4&63]+as[e<<2&63]+"=")),a.join("")}var qD={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */qD.read=function(t,e,r,n,a){var s,o,u=a*8-n-1,c=(1<<u)-1,l=c>>1,d=-7,f=r?a-1:0,h=r?-1:1,p=t[e+f];for(f+=h,s=p&(1<<-d)-1,p>>=-d,d+=u;d>0;s=s*256+t[e+f],f+=h,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=o*256+t[e+f],f+=h,d-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(p?-1:1)*o*Math.pow(2,s-n)};qD.write=function(t,e,r,n,a,s){var o,u,c,l=s*8-a-1,d=(1<<l)-1,f=d>>1,h=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,m=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?e+=h/c:e+=h*Math.pow(2,1-f),e*c>=2&&(o++,c/=2),o+f>=d?(u=0,o=d):o+f>=1?(u=(e*c-1)*Math.pow(2,a),o=o+f):(u=e*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;t[r+p]=u&255,p+=m,u/=256,a-=8);for(o=o<<a|u,l+=a;l>0;t[r+p]=o&255,p+=m,o/=256,l-=8);t[r+p-m]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=D2,r=qD,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=d,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const a=2147483647;t.kMaxLength=a;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:u}=globalThis;d.TYPED_ARRAY_SUPPORT=c(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const W=new s(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,s.prototype),Object.setPrototypeOf(W,D),W.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function l(W){if(W>a)throw new RangeError('The value "'+W+'" is invalid for option "size"');const D=new s(W);return Object.setPrototypeOf(D,d.prototype),D}function d(W,D,B){if(typeof W=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(W)}return f(W,D,B)}d.poolSize=8192;function f(W,D,B){if(typeof W=="string")return y(W,D);if(o.isView(W))return b(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Ee(W,o)||W&&Ee(W.buffer,o)||typeof u<"u"&&(Ee(W,u)||W&&Ee(W.buffer,u)))return v(W,D,B);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const K=W.valueOf&&W.valueOf();if(K!=null&&K!==W)return d.from(K,D,B);const ne=_(W);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return d.from(W[Symbol.toPrimitive]("string"),D,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}d.from=function(W,D,B){return f(W,D,B)},Object.setPrototypeOf(d.prototype,s.prototype),Object.setPrototypeOf(d,s);function h(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function p(W,D,B){return h(W),W<=0?l(W):D!==void 0?typeof B=="string"?l(W).fill(D,B):l(W).fill(D):l(W)}d.alloc=function(W,D,B){return p(W,D,B)};function m(W){return h(W),l(W<0?0:w(W)|0)}d.allocUnsafe=function(W){return m(W)},d.allocUnsafeSlow=function(W){return m(W)};function y(W,D){if((typeof D!="string"||D==="")&&(D="utf8"),!d.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const B=O(W,D)|0;let K=l(B);const ne=K.write(W,D);return ne!==B&&(K=K.slice(0,ne)),K}function g(W){const D=W.length<0?0:w(W.length)|0,B=l(D);for(let K=0;K<D;K+=1)B[K]=W[K]&255;return B}function b(W){if(Ee(W,s)){const D=new s(W);return v(D.buffer,D.byteOffset,D.byteLength)}return g(W)}function v(W,D,B){if(D<0||W.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<D+(B||0))throw new RangeError('"length" is outside of buffer bounds');let K;return D===void 0&&B===void 0?K=new s(W):B===void 0?K=new s(W,D):K=new s(W,D,B),Object.setPrototypeOf(K,d.prototype),K}function _(W){if(d.isBuffer(W)){const D=w(W.length)|0,B=l(D);return B.length===0||W.copy(B,0,0,D),B}if(W.length!==void 0)return typeof W.length!="number"||Me(W.length)?l(0):g(W);if(W.type==="Buffer"&&Array.isArray(W.data))return g(W.data)}function w(W){if(W>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return W|0}function E(W){return+W!=W&&(W=0),d.alloc(+W)}d.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==d.prototype},d.compare=function(D,B){if(Ee(D,s)&&(D=d.from(D,D.offset,D.byteLength)),Ee(B,s)&&(B=d.from(B,B.offset,B.byteLength)),!d.isBuffer(D)||!d.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===B)return 0;let K=D.length,ne=B.length;for(let fe=0,ge=Math.min(K,ne);fe<ge;++fe)if(D[fe]!==B[fe]){K=D[fe],ne=B[fe];break}return K<ne?-1:ne<K?1:0},d.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(D,B){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return d.alloc(0);let K;if(B===void 0)for(B=0,K=0;K<D.length;++K)B+=D[K].length;const ne=d.allocUnsafe(B);let fe=0;for(K=0;K<D.length;++K){let ge=D[K];if(Ee(ge,s))fe+ge.length>ne.length?(d.isBuffer(ge)||(ge=d.from(ge)),ge.copy(ne,fe)):s.prototype.set.call(ne,ge,fe);else if(d.isBuffer(ge))ge.copy(ne,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=ge.length}return ne};function O(W,D){if(d.isBuffer(W))return W.length;if(o.isView(W)||Ee(W,o))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const B=W.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&B===0)return 0;let ne=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return re(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B*2;case"hex":return B>>>1;case"base64":return _e(W).length;default:if(ne)return K?-1:re(W).length;D=(""+D).toLowerCase(),ne=!0}}d.byteLength=O;function L(W,D,B){let K=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0,D>>>=0,B<=D))return"";for(W||(W="utf8");;)switch(W){case"hex":return $e(this,D,B);case"utf8":case"utf-8":return X(this,D,B);case"ascii":return Te(this,D,B);case"latin1":case"binary":return Ne(this,D,B);case"base64":return H(this,D,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,D,B);default:if(K)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),K=!0}}d.prototype._isBuffer=!0;function F(W,D,B){const K=W[D];W[D]=W[B],W[B]=K}d.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<D;B+=2)F(this,B,B+1);return this},d.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<D;B+=4)F(this,B,B+3),F(this,B+1,B+2);return this},d.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<D;B+=8)F(this,B,B+7),F(this,B+1,B+6),F(this,B+2,B+5),F(this,B+3,B+4);return this},d.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?X(this,0,D):L.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(D){if(!d.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:d.compare(this,D)===0},d.prototype.inspect=function(){let D="";const B=t.INSPECT_MAX_BYTES;return D=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(D+=" ... "),"<Buffer "+D+">"},n&&(d.prototype[n]=d.prototype.inspect),d.prototype.compare=function(D,B,K,ne,fe){if(Ee(D,s)&&(D=d.from(D,D.offset,D.byteLength)),!d.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(B===void 0&&(B=0),K===void 0&&(K=D?D.length:0),ne===void 0&&(ne=0),fe===void 0&&(fe=this.length),B<0||K>D.length||ne<0||fe>this.length)throw new RangeError("out of range index");if(ne>=fe&&B>=K)return 0;if(ne>=fe)return-1;if(B>=K)return 1;if(B>>>=0,K>>>=0,ne>>>=0,fe>>>=0,this===D)return 0;let ge=fe-ne,Le=K-B;const ee=Math.min(ge,Le),Oe=this.slice(ne,fe),De=D.slice(B,K);for(let Ue=0;Ue<ee;++Ue)if(Oe[Ue]!==De[Ue]){ge=Oe[Ue],Le=De[Ue];break}return ge<Le?-1:Le<ge?1:0};function x(W,D,B,K,ne){if(W.length===0)return-1;if(typeof B=="string"?(K=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,Me(B)&&(B=ne?0:W.length-1),B<0&&(B=W.length+B),B>=W.length){if(ne)return-1;B=W.length-1}else if(B<0)if(ne)B=0;else return-1;if(typeof D=="string"&&(D=d.from(D,K)),d.isBuffer(D))return D.length===0?-1:P(W,D,B,K,ne);if(typeof D=="number")return D=D&255,typeof s.prototype.indexOf=="function"?ne?s.prototype.indexOf.call(W,D,B):s.prototype.lastIndexOf.call(W,D,B):P(W,[D],B,K,ne);throw new TypeError("val must be string, number or Buffer")}function P(W,D,B,K,ne){let fe=1,ge=W.length,Le=D.length;if(K!==void 0&&(K=String(K).toLowerCase(),K==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(W.length<2||D.length<2)return-1;fe=2,ge/=2,Le/=2,B/=2}function ee(De,Ue){return fe===1?De[Ue]:De.readUInt16BE(Ue*fe)}let Oe;if(ne){let De=-1;for(Oe=B;Oe<ge;Oe++)if(ee(W,Oe)===ee(D,De===-1?0:Oe-De)){if(De===-1&&(De=Oe),Oe-De+1===Le)return De*fe}else De!==-1&&(Oe-=Oe-De),De=-1}else for(B+Le>ge&&(B=ge-Le),Oe=B;Oe>=0;Oe--){let De=!0;for(let Ue=0;Ue<Le;Ue++)if(ee(W,Oe+Ue)!==ee(D,Ue)){De=!1;break}if(De)return Oe}return-1}d.prototype.includes=function(D,B,K){return this.indexOf(D,B,K)!==-1},d.prototype.indexOf=function(D,B,K){return x(this,D,B,K,!0)},d.prototype.lastIndexOf=function(D,B,K){return x(this,D,B,K,!1)};function j(W,D,B,K){B=Number(B)||0;const ne=W.length-B;K?(K=Number(K),K>ne&&(K=ne)):K=ne;const fe=D.length;K>fe/2&&(K=fe/2);let ge;for(ge=0;ge<K;++ge){const Le=parseInt(D.substr(ge*2,2),16);if(Me(Le))return ge;W[B+ge]=Le}return ge}function N(W,D,B,K){return Ie(re(D,W.length-B),W,B,K)}function V(W,D,B,K){return Ie(le(D),W,B,K)}function $(W,D,B,K){return Ie(_e(D),W,B,K)}function q(W,D,B,K){return Ie(pe(D,W.length-B),W,B,K)}d.prototype.write=function(D,B,K,ne){if(B===void 0)ne="utf8",K=this.length,B=0;else if(K===void 0&&typeof B=="string")ne=B,K=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(K)?(K=K>>>0,ne===void 0&&(ne="utf8")):(ne=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const fe=this.length-B;if((K===void 0||K>fe)&&(K=fe),D.length>0&&(K<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let ge=!1;for(;;)switch(ne){case"hex":return j(this,D,B,K);case"utf8":case"utf-8":return N(this,D,B,K);case"ascii":case"latin1":case"binary":return V(this,D,B,K);case"base64":return $(this,D,B,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,D,B,K);default:if(ge)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),ge=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(W,D,B){return D===0&&B===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(D,B))}function X(W,D,B){B=Math.min(W.length,B);const K=[];let ne=D;for(;ne<B;){const fe=W[ne];let ge=null,Le=fe>239?4:fe>223?3:fe>191?2:1;if(ne+Le<=B){let ee,Oe,De,Ue;switch(Le){case 1:fe<128&&(ge=fe);break;case 2:ee=W[ne+1],(ee&192)===128&&(Ue=(fe&31)<<6|ee&63,Ue>127&&(ge=Ue));break;case 3:ee=W[ne+1],Oe=W[ne+2],(ee&192)===128&&(Oe&192)===128&&(Ue=(fe&15)<<12|(ee&63)<<6|Oe&63,Ue>2047&&(Ue<55296||Ue>57343)&&(ge=Ue));break;case 4:ee=W[ne+1],Oe=W[ne+2],De=W[ne+3],(ee&192)===128&&(Oe&192)===128&&(De&192)===128&&(Ue=(fe&15)<<18|(ee&63)<<12|(Oe&63)<<6|De&63,Ue>65535&&Ue<1114112&&(ge=Ue))}}ge===null?(ge=65533,Le=1):ge>65535&&(ge-=65536,K.push(ge>>>10&1023|55296),ge=56320|ge&1023),K.push(ge),ne+=Le}return he(K)}const Y=4096;function he(W){const D=W.length;if(D<=Y)return String.fromCharCode.apply(String,W);let B="",K=0;for(;K<D;)B+=String.fromCharCode.apply(String,W.slice(K,K+=Y));return B}function Te(W,D,B){let K="";B=Math.min(W.length,B);for(let ne=D;ne<B;++ne)K+=String.fromCharCode(W[ne]&127);return K}function Ne(W,D,B){let K="";B=Math.min(W.length,B);for(let ne=D;ne<B;++ne)K+=String.fromCharCode(W[ne]);return K}function $e(W,D,B){const K=W.length;(!D||D<0)&&(D=0),(!B||B<0||B>K)&&(B=K);let ne="";for(let fe=D;fe<B;++fe)ne+=Ce[W[fe]];return ne}function de(W,D,B){const K=W.slice(D,B);let ne="";for(let fe=0;fe<K.length-1;fe+=2)ne+=String.fromCharCode(K[fe]+K[fe+1]*256);return ne}d.prototype.slice=function(D,B){const K=this.length;D=~~D,B=B===void 0?K:~~B,D<0?(D+=K,D<0&&(D=0)):D>K&&(D=K),B<0?(B+=K,B<0&&(B=0)):B>K&&(B=K),B<D&&(B=D);const ne=this.subarray(D,B);return Object.setPrototypeOf(ne,d.prototype),ne};function ce(W,D,B){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+D>B)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(D,B,K){D=D>>>0,B=B>>>0,K||ce(D,B,this.length);let ne=this[D],fe=1,ge=0;for(;++ge<B&&(fe*=256);)ne+=this[D+ge]*fe;return ne},d.prototype.readUintBE=d.prototype.readUIntBE=function(D,B,K){D=D>>>0,B=B>>>0,K||ce(D,B,this.length);let ne=this[D+--B],fe=1;for(;B>0&&(fe*=256);)ne+=this[D+--B]*fe;return ne},d.prototype.readUint8=d.prototype.readUInt8=function(D,B){return D=D>>>0,B||ce(D,1,this.length),this[D]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(D,B){return D=D>>>0,B||ce(D,2,this.length),this[D]|this[D+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(D,B){return D=D>>>0,B||ce(D,2,this.length),this[D]<<8|this[D+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(D,B){return D=D>>>0,B||ce(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(D,B){return D=D>>>0,B||ce(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},d.prototype.readBigUInt64LE=ke(function(D){D=D>>>0,G(D,"offset");const B=this[D],K=this[D+7];(B===void 0||K===void 0)&&Q(D,this.length-8);const ne=B+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,fe=this[++D]+this[++D]*2**8+this[++D]*2**16+K*2**24;return BigInt(ne)+(BigInt(fe)<<BigInt(32))}),d.prototype.readBigUInt64BE=ke(function(D){D=D>>>0,G(D,"offset");const B=this[D],K=this[D+7];(B===void 0||K===void 0)&&Q(D,this.length-8);const ne=B*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],fe=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+K;return(BigInt(ne)<<BigInt(32))+BigInt(fe)}),d.prototype.readIntLE=function(D,B,K){D=D>>>0,B=B>>>0,K||ce(D,B,this.length);let ne=this[D],fe=1,ge=0;for(;++ge<B&&(fe*=256);)ne+=this[D+ge]*fe;return fe*=128,ne>=fe&&(ne-=Math.pow(2,8*B)),ne},d.prototype.readIntBE=function(D,B,K){D=D>>>0,B=B>>>0,K||ce(D,B,this.length);let ne=B,fe=1,ge=this[D+--ne];for(;ne>0&&(fe*=256);)ge+=this[D+--ne]*fe;return fe*=128,ge>=fe&&(ge-=Math.pow(2,8*B)),ge},d.prototype.readInt8=function(D,B){return D=D>>>0,B||ce(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},d.prototype.readInt16LE=function(D,B){D=D>>>0,B||ce(D,2,this.length);const K=this[D]|this[D+1]<<8;return K&32768?K|4294901760:K},d.prototype.readInt16BE=function(D,B){D=D>>>0,B||ce(D,2,this.length);const K=this[D+1]|this[D]<<8;return K&32768?K|4294901760:K},d.prototype.readInt32LE=function(D,B){return D=D>>>0,B||ce(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},d.prototype.readInt32BE=function(D,B){return D=D>>>0,B||ce(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},d.prototype.readBigInt64LE=ke(function(D){D=D>>>0,G(D,"offset");const B=this[D],K=this[D+7];(B===void 0||K===void 0)&&Q(D,this.length-8);const ne=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(K<<24);return(BigInt(ne)<<BigInt(32))+BigInt(B+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),d.prototype.readBigInt64BE=ke(function(D){D=D>>>0,G(D,"offset");const B=this[D],K=this[D+7];(B===void 0||K===void 0)&&Q(D,this.length-8);const ne=(B<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(ne)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+K)}),d.prototype.readFloatLE=function(D,B){return D=D>>>0,B||ce(D,4,this.length),r.read(this,D,!0,23,4)},d.prototype.readFloatBE=function(D,B){return D=D>>>0,B||ce(D,4,this.length),r.read(this,D,!1,23,4)},d.prototype.readDoubleLE=function(D,B){return D=D>>>0,B||ce(D,8,this.length),r.read(this,D,!0,52,8)},d.prototype.readDoubleBE=function(D,B){return D=D>>>0,B||ce(D,8,this.length),r.read(this,D,!1,52,8)};function xe(W,D,B,K,ne,fe){if(!d.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ne||D<fe)throw new RangeError('"value" argument is out of bounds');if(B+K>W.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(D,B,K,ne){if(D=+D,B=B>>>0,K=K>>>0,!ne){const Le=Math.pow(2,8*K)-1;xe(this,D,B,K,Le,0)}let fe=1,ge=0;for(this[B]=D&255;++ge<K&&(fe*=256);)this[B+ge]=D/fe&255;return B+K},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(D,B,K,ne){if(D=+D,B=B>>>0,K=K>>>0,!ne){const Le=Math.pow(2,8*K)-1;xe(this,D,B,K,Le,0)}let fe=K-1,ge=1;for(this[B+fe]=D&255;--fe>=0&&(ge*=256);)this[B+fe]=D/ge&255;return B+K},d.prototype.writeUint8=d.prototype.writeUInt8=function(D,B,K){return D=+D,B=B>>>0,K||xe(this,D,B,1,255,0),this[B]=D&255,B+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(D,B,K){return D=+D,B=B>>>0,K||xe(this,D,B,2,65535,0),this[B]=D&255,this[B+1]=D>>>8,B+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(D,B,K){return D=+D,B=B>>>0,K||xe(this,D,B,2,65535,0),this[B]=D>>>8,this[B+1]=D&255,B+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(D,B,K){return D=+D,B=B>>>0,K||xe(this,D,B,4,4294967295,0),this[B+3]=D>>>24,this[B+2]=D>>>16,this[B+1]=D>>>8,this[B]=D&255,B+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(D,B,K){return D=+D,B=B>>>0,K||xe(this,D,B,4,4294967295,0),this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=D&255,B+4};function Pe(W,D,B,K,ne){U(D,K,ne,W,B,7);let fe=Number(D&BigInt(4294967295));W[B++]=fe,fe=fe>>8,W[B++]=fe,fe=fe>>8,W[B++]=fe,fe=fe>>8,W[B++]=fe;let ge=Number(D>>BigInt(32)&BigInt(4294967295));return W[B++]=ge,ge=ge>>8,W[B++]=ge,ge=ge>>8,W[B++]=ge,ge=ge>>8,W[B++]=ge,B}function we(W,D,B,K,ne){U(D,K,ne,W,B,7);let fe=Number(D&BigInt(4294967295));W[B+7]=fe,fe=fe>>8,W[B+6]=fe,fe=fe>>8,W[B+5]=fe,fe=fe>>8,W[B+4]=fe;let ge=Number(D>>BigInt(32)&BigInt(4294967295));return W[B+3]=ge,ge=ge>>8,W[B+2]=ge,ge=ge>>8,W[B+1]=ge,ge=ge>>8,W[B]=ge,B+8}d.prototype.writeBigUInt64LE=ke(function(D,B=0){return Pe(this,D,B,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=ke(function(D,B=0){return we(this,D,B,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(D,B,K,ne){if(D=+D,B=B>>>0,!ne){const ee=Math.pow(2,8*K-1);xe(this,D,B,K,ee-1,-ee)}let fe=0,ge=1,Le=0;for(this[B]=D&255;++fe<K&&(ge*=256);)D<0&&Le===0&&this[B+fe-1]!==0&&(Le=1),this[B+fe]=(D/ge>>0)-Le&255;return B+K},d.prototype.writeIntBE=function(D,B,K,ne){if(D=+D,B=B>>>0,!ne){const ee=Math.pow(2,8*K-1);xe(this,D,B,K,ee-1,-ee)}let fe=K-1,ge=1,Le=0;for(this[B+fe]=D&255;--fe>=0&&(ge*=256);)D<0&&Le===0&&this[B+fe+1]!==0&&(Le=1),this[B+fe]=(D/ge>>0)-Le&255;return B+K},d.prototype.writeInt8=function(D,B,K){return D=+D,B=B>>>0,K||xe(this,D,B,1,127,-128),D<0&&(D=255+D+1),this[B]=D&255,B+1},d.prototype.writeInt16LE=function(D,B,K){return D=+D,B=B>>>0,K||xe(this,D,B,2,32767,-32768),this[B]=D&255,this[B+1]=D>>>8,B+2},d.prototype.writeInt16BE=function(D,B,K){return D=+D,B=B>>>0,K||xe(this,D,B,2,32767,-32768),this[B]=D>>>8,this[B+1]=D&255,B+2},d.prototype.writeInt32LE=function(D,B,K){return D=+D,B=B>>>0,K||xe(this,D,B,4,2147483647,-2147483648),this[B]=D&255,this[B+1]=D>>>8,this[B+2]=D>>>16,this[B+3]=D>>>24,B+4},d.prototype.writeInt32BE=function(D,B,K){return D=+D,B=B>>>0,K||xe(this,D,B,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=D&255,B+4},d.prototype.writeBigInt64LE=ke(function(D,B=0){return Pe(this,D,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=ke(function(D,B=0){return we(this,D,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Re(W,D,B,K,ne,fe){if(B+K>W.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function Se(W,D,B,K,ne){return D=+D,B=B>>>0,ne||Re(W,D,B,4),r.write(W,D,B,K,23,4),B+4}d.prototype.writeFloatLE=function(D,B,K){return Se(this,D,B,!0,K)},d.prototype.writeFloatBE=function(D,B,K){return Se(this,D,B,!1,K)};function z(W,D,B,K,ne){return D=+D,B=B>>>0,ne||Re(W,D,B,8),r.write(W,D,B,K,52,8),B+8}d.prototype.writeDoubleLE=function(D,B,K){return z(this,D,B,!0,K)},d.prototype.writeDoubleBE=function(D,B,K){return z(this,D,B,!1,K)},d.prototype.copy=function(D,B,K,ne){if(!d.isBuffer(D))throw new TypeError("argument should be a Buffer");if(K||(K=0),!ne&&ne!==0&&(ne=this.length),B>=D.length&&(B=D.length),B||(B=0),ne>0&&ne<K&&(ne=K),ne===K||D.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),D.length-B<ne-K&&(ne=D.length-B+K);const fe=ne-K;return this===D&&typeof s.prototype.copyWithin=="function"?this.copyWithin(B,K,ne):s.prototype.set.call(D,this.subarray(K,ne),B),fe},d.prototype.fill=function(D,B,K,ne){if(typeof D=="string"){if(typeof B=="string"?(ne=B,B=0,K=this.length):typeof K=="string"&&(ne=K,K=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!d.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(D.length===1){const ge=D.charCodeAt(0);(ne==="utf8"&&ge<128||ne==="latin1")&&(D=ge)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(B<0||this.length<B||this.length<K)throw new RangeError("Out of range index");if(K<=B)return this;B=B>>>0,K=K===void 0?this.length:K>>>0,D||(D=0);let fe;if(typeof D=="number")for(fe=B;fe<K;++fe)this[fe]=D;else{const ge=d.isBuffer(D)?D:d.from(D,ne),Le=ge.length;if(Le===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(fe=0;fe<K-B;++fe)this[fe+B]=ge[fe%Le]}return this};const M={};function k(W,D,B){M[W]=class extends B{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}k("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),k("ERR_INVALID_ARG_TYPE",function(W,D){return`The "${W}" argument must be of type number. Received type ${typeof D}`},TypeError),k("ERR_OUT_OF_RANGE",function(W,D,B){let K=`The value of "${W}" is out of range.`,ne=B;return Number.isInteger(B)&&Math.abs(B)>2**32?ne=T(String(B)):typeof B=="bigint"&&(ne=String(B),(B>BigInt(2)**BigInt(32)||B<-(BigInt(2)**BigInt(32)))&&(ne=T(ne)),ne+="n"),K+=` It must be ${D}. Received ${ne}`,K},RangeError);function T(W){let D="",B=W.length;const K=W[0]==="-"?1:0;for(;B>=K+4;B-=3)D=`_${W.slice(B-3,B)}${D}`;return`${W.slice(0,B)}${D}`}function R(W,D,B){G(D,"offset"),(W[D]===void 0||W[D+B]===void 0)&&Q(D,W.length-(B+1))}function U(W,D,B,K,ne,fe){if(W>B||W<D){const ge=typeof D=="bigint"?"n":"";let Le;throw fe>3?D===0||D===BigInt(0)?Le=`>= 0${ge} and < 2${ge} ** ${(fe+1)*8}${ge}`:Le=`>= -(2${ge} ** ${(fe+1)*8-1}${ge}) and < 2 ** ${(fe+1)*8-1}${ge}`:Le=`>= ${D}${ge} and <= ${B}${ge}`,new M.ERR_OUT_OF_RANGE("value",Le,W)}R(K,ne,fe)}function G(W,D){if(typeof W!="number")throw new M.ERR_INVALID_ARG_TYPE(D,"number",W)}function Q(W,D,B){throw Math.floor(W)!==W?(G(W,B),new M.ERR_OUT_OF_RANGE(B||"offset","an integer",W)):D<0?new M.ERR_BUFFER_OUT_OF_BOUNDS:new M.ERR_OUT_OF_RANGE(B||"offset",`>= ${B?1:0} and <= ${D}`,W)}const Z=/[^+/0-9A-Za-z-_]/g;function se(W){if(W=W.split("=")[0],W=W.trim().replace(Z,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function re(W,D){D=D||1/0;let B;const K=W.length;let ne=null;const fe=[];for(let ge=0;ge<K;++ge){if(B=W.charCodeAt(ge),B>55295&&B<57344){if(!ne){if(B>56319){(D-=3)>-1&&fe.push(239,191,189);continue}else if(ge+1===K){(D-=3)>-1&&fe.push(239,191,189);continue}ne=B;continue}if(B<56320){(D-=3)>-1&&fe.push(239,191,189),ne=B;continue}B=(ne-55296<<10|B-56320)+65536}else ne&&(D-=3)>-1&&fe.push(239,191,189);if(ne=null,B<128){if((D-=1)<0)break;fe.push(B)}else if(B<2048){if((D-=2)<0)break;fe.push(B>>6|192,B&63|128)}else if(B<65536){if((D-=3)<0)break;fe.push(B>>12|224,B>>6&63|128,B&63|128)}else if(B<1114112){if((D-=4)<0)break;fe.push(B>>18|240,B>>12&63|128,B>>6&63|128,B&63|128)}else throw new Error("Invalid code point")}return fe}function le(W){const D=[];for(let B=0;B<W.length;++B)D.push(W.charCodeAt(B)&255);return D}function pe(W,D){let B,K,ne;const fe=[];for(let ge=0;ge<W.length&&!((D-=2)<0);++ge)B=W.charCodeAt(ge),K=B>>8,ne=B%256,fe.push(ne),fe.push(K);return fe}function _e(W){return e.toByteArray(se(W))}function Ie(W,D,B,K){let ne;for(ne=0;ne<K&&!(ne+B>=D.length||ne>=W.length);++ne)D[ne+B]=W[ne];return ne}function Ee(W,D){return W instanceof D||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===D.name}function Me(W){return W!==W}const Ce=function(){const W="0123456789abcdef",D=new Array(256);for(let B=0;B<16;++B){const K=B*16;for(let ne=0;ne<16;++ne)D[K+ne]=W[B]+W[ne]}return D}();function ke(W){return typeof BigInt>"u"?qe:W}function qe(){throw new Error("BigInt not supported")}})(BD);const ta=BD.Buffer,a2e=BD.Buffer;function zt(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a)}ze.inherits(zt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const BJ=zt.prototype,qJ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{qJ[t]={value:t}});Object.defineProperties(zt,qJ);Object.defineProperty(BJ,"isAxiosError",{value:!0});zt.from=(t,e,r,n,a,s)=>{const o=Object.create(BJ);return ze.toFlatObject(t,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError"),zt.call(o,t.message,e,r,n,a),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const s2e=null;function RP(t){return ze.isPlainObject(t)||ze.isArray(t)}function $J(t){return ze.endsWith(t,"[]")?t.slice(0,-2):t}function uM(t,e,r){return t?t.concat(e).map(function(a,s){return a=$J(a),!r&&s?"["+a+"]":a}).join(r?".":""):e}function o2e(t){return ze.isArray(t)&&!t.some(RP)}const u2e=ze.toFlatObject(ze,{},null,function(e){return/^is[A-Z]/.test(e)});function C2(t,e,r){if(!ze.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ze.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,g){return!ze.isUndefined(g[y])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(e);if(!ze.isFunction(a))throw new TypeError("visitor must be a function");function l(m){if(m===null)return"";if(ze.isDate(m))return m.toISOString();if(!c&&ze.isBlob(m))throw new zt("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(m)||ze.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):ta.from(m):m}function d(m,y,g){let b=m;if(m&&!g&&typeof m=="object"){if(ze.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(ze.isArray(m)&&o2e(m)||(ze.isFileList(m)||ze.endsWith(y,"[]"))&&(b=ze.toArray(m)))return y=$J(y),b.forEach(function(_,w){!(ze.isUndefined(_)||_===null)&&e.append(o===!0?uM([y],w,s):o===null?y:y+"[]",l(_))}),!1}return RP(m)?!0:(e.append(uM(g,y,s),l(m)),!1)}const f=[],h=Object.assign(u2e,{defaultVisitor:d,convertValue:l,isVisitable:RP});function p(m,y){if(!ze.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(m),ze.forEach(m,function(b,v){(!(ze.isUndefined(b)||b===null)&&a.call(e,b,ze.isString(v)?v.trim():v,y,h))===!0&&p(b,y?y.concat(v):[v])}),f.pop()}}if(!ze.isObject(t))throw new TypeError("data must be an object");return p(t),e}function cM(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function $D(t,e){this._pairs=[],t&&C2(t,this,e)}const UJ=$D.prototype;UJ.append=function(e,r){this._pairs.push([e,r])};UJ.toString=function(e){const r=e?function(n){return e.call(this,n,cM)}:cM;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function c2e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kJ(t,e,r){if(!e)return t;const n=r&&r.encode||c2e,a=r&&r.serialize;let s;if(a?s=a(e,r):s=ze.isURLSearchParams(e)?e.toString():new $D(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class lM{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ze.forEach(this.handlers,function(n){n!==null&&e(n)})}}const VJ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},l2e=typeof URLSearchParams<"u"?URLSearchParams:$D,d2e=typeof FormData<"u"?FormData:null,f2e=typeof Blob<"u"?Blob:null,h2e={isBrowser:!0,classes:{URLSearchParams:l2e,FormData:d2e,Blob:f2e},protocols:["http","https","file","blob","url","data"]},HJ=typeof window<"u"&&typeof document<"u",p2e=(t=>HJ&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),y2e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",m2e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:HJ,hasStandardBrowserEnv:p2e,hasStandardBrowserWebWorkerEnv:y2e},Symbol.toStringTag,{value:"Module"})),os={...m2e,...h2e};function g2e(t,e){return C2(t,new os.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,s){return os.isNode&&ze.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function _2e(t){return ze.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function b2e(t){const e={},r=Object.keys(t);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],e[s]=t[s];return e}function QJ(t){function e(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const u=Number.isFinite(+o),c=s>=r.length;return o=!o&&ze.isArray(a)?a.length:o,c?(ze.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!u):((!a[o]||!ze.isObject(a[o]))&&(a[o]=[]),e(r,n,a[o],s)&&ze.isArray(a[o])&&(a[o]=b2e(a[o])),!u)}if(ze.isFormData(t)&&ze.isFunction(t.entries)){const r={};return ze.forEachEntry(t,(n,a)=>{e(_2e(n),a,r,0)}),r}return null}function v2e(t,e,r){if(ze.isString(t))try{return(e||JSON.parse)(t),ze.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const UD={transitional:VJ,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=ze.isObject(e);if(s&&ze.isHTMLForm(e)&&(e=new FormData(e)),ze.isFormData(e))return a?JSON.stringify(QJ(e)):e;if(ze.isArrayBuffer(e)||ze.isBuffer(e)||ze.isStream(e)||ze.isFile(e)||ze.isBlob(e))return e;if(ze.isArrayBufferView(e))return e.buffer;if(ze.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return g2e(e,this.formSerializer).toString();if((u=ze.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return C2(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),v2e(e)):e}],transformResponse:[function(e){const r=this.transitional||UD.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(e&&ze.isString(e)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(u){if(o)throw u.name==="SyntaxError"?zt.from(u,zt.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:os.classes.FormData,Blob:os.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],t=>{UD.headers[t]={}});const kD=UD,w2e=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),S2e=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||e[r]&&w2e[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},dM=Symbol("internals");function Yf(t){return t&&String(t).trim().toLowerCase()}function xw(t){return t===!1||t==null?t:ze.isArray(t)?t.map(xw):String(t)}function T2e(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const E2e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function hA(t,e,r,n,a){if(ze.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!ze.isString(e)){if(ze.isString(n))return e.indexOf(n)!==-1;if(ze.isRegExp(n))return n.test(e)}}function A2e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function O2e(t,e){const r=ze.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,s,o){return this[n].call(this,e,a,s,o)},configurable:!0})})}class L2{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function s(u,c,l){const d=Yf(c);if(!d)throw new Error("header name must be a non-empty string");const f=ze.findKey(a,d);(!f||a[f]===void 0||l===!0||l===void 0&&a[f]!==!1)&&(a[f||c]=xw(u))}const o=(u,c)=>ze.forEach(u,(l,d)=>s(l,d,c));return ze.isPlainObject(e)||e instanceof this.constructor?o(e,r):ze.isString(e)&&(e=e.trim())&&!E2e(e)?o(S2e(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=Yf(e),e){const n=ze.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return T2e(a);if(ze.isFunction(r))return r.call(this,a,n);if(ze.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Yf(e),e){const n=ze.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||hA(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function s(o){if(o=Yf(o),o){const u=ze.findKey(n,o);u&&(!r||hA(n,n[u],u,r))&&(delete n[u],a=!0)}}return ze.isArray(e)?e.forEach(s):s(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!e||hA(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const r=this,n={};return ze.forEach(this,(a,s)=>{const o=ze.findKey(n,s);if(o){r[o]=xw(a),delete r[s];return}const u=e?A2e(s):String(s).trim();u!==s&&delete r[s],r[u]=xw(a),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ze.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&ze.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[dM]=this[dM]={accessors:{}}).accessors,a=this.prototype;function s(o){const u=Yf(o);n[u]||(O2e(a,o),n[u]=!0)}return ze.isArray(e)?e.forEach(s):s(e),this}}L2.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(L2.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ze.freezeMethods(L2);const po=L2;function pA(t,e){const r=this||kD,n=e||r,a=po.from(n.headers);let s=n.data;return ze.forEach(t,function(u){s=u.call(r,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function zJ(t){return!!(t&&t.__CANCEL__)}function e1(t,e,r){zt.call(this,t??"canceled",zt.ERR_CANCELED,e,r),this.name="CanceledError"}ze.inherits(e1,zt,{__CANCEL__:!0});function R2e(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new zt("Request failed with status code "+r.status,[zt.ERR_BAD_REQUEST,zt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const x2e=os.hasStandardBrowserEnv?{write(t,e,r,n,a,s){const o=[t+"="+encodeURIComponent(e)];ze.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ze.isString(n)&&o.push("path="+n),ze.isString(a)&&o.push("domain="+a),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function I2e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function P2e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function GJ(t,e){return t&&!I2e(e)?P2e(t,e):e}const N2e=os.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function a(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=a(window.location.href),function(o){const u=ze.isString(o)?a(o):o;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}();function D2e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function C2e(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),d=n[s];o||(o=l),r[a]=c,n[a]=l;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),l-o<e)return;const p=d&&l-d;return p?Math.round(h*1e3/p):void 0}}function fM(t,e){let r=0;const n=C2e(50,250);return a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,u=s-r,c=n(u),l=s<=o;r=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:u,rate:c||void 0,estimated:c&&o&&l?(o-s)/c:void 0,event:a};d[e?"download":"upload"]=!0,t(d)}}const L2e=typeof XMLHttpRequest<"u",j2e=L2e&&function(t){return new Promise(function(r,n){let a=t.data;const s=po.from(t.headers).normalize();let{responseType:o,withXSRFToken:u}=t,c;function l(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let d;if(ze.isFormData(a)){if(os.hasStandardBrowserEnv||os.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((d=s.getContentType())!==!1){const[y,...g]=d?d.split(";").map(b=>b.trim()).filter(Boolean):[];s.setContentType([y||"multipart/form-data",...g].join("; "))}}let f=new XMLHttpRequest;if(t.auth){const y=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(y+":"+g))}const h=GJ(t.baseURL,t.url);f.open(t.method.toUpperCase(),kJ(h,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function p(){if(!f)return;const y=po.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:y,config:t,request:f};R2e(function(_){r(_),l()},function(_){n(_),l()},b),f=null}if("onloadend"in f?f.onloadend=p:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(p)},f.onabort=function(){f&&(n(new zt("Request aborted",zt.ECONNABORTED,t,f)),f=null)},f.onerror=function(){n(new zt("Network Error",zt.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||VJ;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),n(new zt(g,b.clarifyTimeoutError?zt.ETIMEDOUT:zt.ECONNABORTED,t,f)),f=null},os.hasStandardBrowserEnv&&(u&&ze.isFunction(u)&&(u=u(t)),u||u!==!1&&N2e(h))){const y=t.xsrfHeaderName&&t.xsrfCookieName&&x2e.read(t.xsrfCookieName);y&&s.set(t.xsrfHeaderName,y)}a===void 0&&s.setContentType(null),"setRequestHeader"in f&&ze.forEach(s.toJSON(),function(g,b){f.setRequestHeader(b,g)}),ze.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",fM(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",fM(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=y=>{f&&(n(!y||y.type?new e1(null,t,f):y),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const m=D2e(h);if(m&&os.protocols.indexOf(m)===-1){n(new zt("Unsupported protocol "+m+":",zt.ERR_BAD_REQUEST,t));return}f.send(a||null)})},xP={http:s2e,xhr:j2e};ze.forEach(xP,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const hM=t=>`- ${t}`,M2e=t=>ze.isFunction(t)||t===null||t===!1,WJ={getAdapter:t=>{t=ze.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let s=0;s<e;s++){r=t[s];let o;if(n=r,!M2e(r)&&(n=xP[(o=String(r)).toLowerCase()],n===void 0))throw new zt(`Unknown adapter '${o}'`);if(n)break;a[o||"#"+s]=n}if(!n){const s=Object.entries(a).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(hM).join(`
`):" "+hM(s[0]):"as no adapter specified";throw new zt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:xP};function yA(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new e1(null,t)}function pM(t){return yA(t),t.headers=po.from(t.headers),t.data=pA.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),WJ.getAdapter(t.adapter||kD.adapter)(t).then(function(n){return yA(t),n.data=pA.call(t,t.transformResponse,n),n.headers=po.from(n.headers),n},function(n){return zJ(n)||(yA(t),n&&n.response&&(n.response.data=pA.call(t,t.transformResponse,n.response),n.response.headers=po.from(n.response.headers))),Promise.reject(n)})}const yM=t=>t instanceof po?{...t}:t;function kd(t,e){e=e||{};const r={};function n(l,d,f){return ze.isPlainObject(l)&&ze.isPlainObject(d)?ze.merge.call({caseless:f},l,d):ze.isPlainObject(d)?ze.merge({},d):ze.isArray(d)?d.slice():d}function a(l,d,f){if(ze.isUndefined(d)){if(!ze.isUndefined(l))return n(void 0,l,f)}else return n(l,d,f)}function s(l,d){if(!ze.isUndefined(d))return n(void 0,d)}function o(l,d){if(ze.isUndefined(d)){if(!ze.isUndefined(l))return n(void 0,l)}else return n(void 0,d)}function u(l,d,f){if(f in e)return n(l,d);if(f in t)return n(void 0,l)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:(l,d)=>a(yM(l),yM(d),!0)};return ze.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=c[d]||a,h=f(t[d],e[d],d);ze.isUndefined(h)&&f!==u||(r[d]=h)}),r}const KJ="1.6.8",VD={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{VD[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const mM={};VD.transitional=function(e,r,n){function a(s,o){return"[Axios v"+KJ+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,u)=>{if(e===!1)throw new zt(a(o," has been removed"+(r?" in "+r:"")),zt.ERR_DEPRECATED);return r&&!mM[o]&&(mM[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,u):!0}};function F2e(t,e,r){if(typeof t!="object")throw new zt("options must be an object",zt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const s=n[a],o=e[s];if(o){const u=t[s],c=u===void 0||o(u,s,t);if(c!==!0)throw new zt("option "+s+" must be "+c,zt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new zt("Unknown option "+s,zt.ERR_BAD_OPTION)}}const IP={assertOptions:F2e,validators:VD},Bo=IP.validators;class vS{constructor(e){this.defaults=e,this.interceptors={request:new lM,response:new lM}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=kd(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&IP.assertOptions(n,{silentJSONParsing:Bo.transitional(Bo.boolean),forcedJSONParsing:Bo.transitional(Bo.boolean),clarifyTimeoutError:Bo.transitional(Bo.boolean)},!1),a!=null&&(ze.isFunction(a)?r.paramsSerializer={serialize:a}:IP.assertOptions(a,{encode:Bo.function,serialize:Bo.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&ze.merge(s.common,s[r.method]);s&&ze.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=po.concat(o,s);const u=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,u.unshift(y.fulfilled,y.rejected))});const l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});let d,f=0,h;if(!c){const m=[pM.bind(this),void 0];for(m.unshift.apply(m,u),m.push.apply(m,l),h=m.length,d=Promise.resolve(r);f<h;)d=d.then(m[f++],m[f++]);return d}h=u.length;let p=r;for(f=0;f<h;){const m=u[f++],y=u[f++];try{p=m(p)}catch(g){y.call(this,g);break}}try{d=pM.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=l.length;f<h;)d=d.then(l[f++],l[f++]);return d}getUri(e){e=kd(this.defaults,e);const r=GJ(e.baseURL,e.url);return kJ(r,e.params,e.paramsSerializer)}}ze.forEach(["delete","get","head","options"],function(e){vS.prototype[e]=function(r,n){return this.request(kd(n||{},{method:e,url:r,data:(n||{}).data}))}});ze.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,u){return this.request(kd(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}vS.prototype[e]=r(),vS.prototype[e+"Form"]=r(!0)});const Iw=vS;class HD{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(u=>{n.subscribe(u),s=u}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,u){n.reason||(n.reason=new e1(s,o,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new HD(function(a){e=a}),cancel:e}}}const B2e=HD;function q2e(t){return function(r){return t.apply(null,r)}}function $2e(t){return ze.isObject(t)&&t.isAxiosError===!0}const PP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(PP).forEach(([t,e])=>{PP[e]=t});const U2e=PP;function JJ(t){const e=new Iw(t),r=IJ(Iw.prototype.request,e);return ze.extend(r,Iw.prototype,e,{allOwnKeys:!0}),ze.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return JJ(kd(t,a))},r}const an=JJ(kD);an.Axios=Iw;an.CanceledError=e1;an.CancelToken=B2e;an.isCancel=zJ;an.VERSION=KJ;an.toFormData=C2;an.AxiosError=zt;an.Cancel=an.CanceledError;an.all=function(e){return Promise.all(e)};an.spread=q2e;an.isAxiosError=$2e;an.mergeConfig=kd;an.AxiosHeaders=po;an.formToJSON=t=>QJ(ze.isHTMLForm(t)?new FormData(t):t);an.getAdapter=WJ.getAdapter;an.HttpStatusCode=U2e;an.default=an;var QD={},j2={},zD={},t1={},XJ={},M2={},st={},Wc={},r1="delete",Ar=5,na=1<<Ar,ti=na-1,Ht={};function NP(){return{value:!1}}function ia(t){t&&(t.value=!0)}function GD(){}function Vd(t){return t.size===void 0&&(t.size=t.__iterate(YJ)),t.size}function mu(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?Vd(t)+e:e}function YJ(){return!0}function n1(t,e,r){return(t===0&&!eX(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function bf(t,e){return ZJ(t,e,0)}function i1(t,e){return ZJ(t,e,e)}function ZJ(t,e,r){return t===void 0?r:eX(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function eX(t){return t<0||t===0&&1/t===-1/0}var tX="@@__IMMUTABLE_ITERABLE__@@";function Bn(t){return!!(t&&t[tX])}var rX="@@__IMMUTABLE_KEYED__@@";function yr(t){return!!(t&&t[rX])}var nX="@@__IMMUTABLE_INDEXED__@@";function On(t){return!!(t&&t[nX])}function vf(t){return yr(t)||On(t)}var Rr=function(e){return Bn(e)?e:qn(e)},ma=function(t){function e(r){return yr(r)?r:Iu(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Rr),fl=function(t){function e(r){return On(r)?r:ga(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Rr),wf=function(t){function e(r){return Bn(r)&&!vf(r)?r:Ef(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Rr);Rr.Keyed=ma;Rr.Indexed=fl;Rr.Set=wf;var iX="@@__IMMUTABLE_SEQ__@@";function a1(t){return!!(t&&t[iX])}var aX="@@__IMMUTABLE_RECORD__@@";function xu(t){return!!(t&&t[aX])}function Hi(t){return Bn(t)||xu(t)}var Sf="@@__IMMUTABLE_ORDERED__@@";function qi(t){return!!(t&&t[Sf])}var s1=0,Fa=1,fa=2,DP=typeof Symbol=="function"&&Symbol.iterator,sX="@@iterator",F2=DP||sX,Jt=function(e){this.next=e};Jt.prototype.toString=function(){return"[Iterator]"};Jt.KEYS=s1;Jt.VALUES=Fa;Jt.ENTRIES=fa;Jt.prototype.inspect=Jt.prototype.toSource=function(){return this.toString()};Jt.prototype[F2]=function(){return this};function xr(t,e,r,n){var a=t===0?e:t===1?r:[e,r];return n?n.value=a:n={value:a,done:!1},n}function si(){return{value:void 0,done:!0}}function WD(t){return Array.isArray(t)?!0:!!B2(t)}function gM(t){return t&&typeof t.next=="function"}function CP(t){var e=B2(t);return e&&e.call(t)}function B2(t){var e=t&&(DP&&t[DP]||t[sX]);if(typeof e=="function")return e}function k2e(t){var e=B2(t);return e&&e===t.entries}function V2e(t){var e=B2(t);return e&&e===t.keys}var Tf=Object.prototype.hasOwnProperty;function KD(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var qn=function(t){function e(r){return r==null?XD():Hi(r)?r.toSeq():Q2e(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,a){var s=this._cache;if(s){for(var o=s.length,u=0;u!==o;){var c=s[a?o-++u:u++];if(n(c[1],c[0],this)===!1)break}return u}return this.__iterateUncached(n,a)},e.prototype.__iterator=function(n,a){var s=this._cache;if(s){var o=s.length,u=0;return new Jt(function(){if(u===o)return si();var c=s[a?o-++u:u++];return xr(n,c[0],c[1])})}return this.__iteratorUncached(n,a)},e}(Rr),Iu=function(t){function e(r){return r==null?XD().toKeyedSeq():Bn(r)?yr(r)?r.toSeq():r.fromEntrySeq():xu(r)?r.toSeq():YD(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(qn),ga=function(t){function e(r){return r==null?XD():Bn(r)?yr(r)?r.entrySeq():r.toIndexedSeq():xu(r)?r.toSeq().entrySeq():oX(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(qn),Ef=function(t){function e(r){return(Bn(r)&&!vf(r)?r:ga(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(qn);qn.isSeq=a1;qn.Keyed=Iu;qn.Set=Ef;qn.Indexed=ga;qn.prototype[iX]=!0;var Kc=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return this.has(n)?this._array[mu(this,n)]:a},e.prototype.__iterate=function(n,a){for(var s=this._array,o=s.length,u=0;u!==o;){var c=a?o-++u:u++;if(n(s[c],c,this)===!1)break}return u},e.prototype.__iterator=function(n,a){var s=this._array,o=s.length,u=0;return new Jt(function(){if(u===o)return si();var c=a?o-++u:u++;return xr(n,c,s[c])})},e}(ga),JD=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return a!==void 0&&!this.has(n)?a:this._object[n]},e.prototype.has=function(n){return Tf.call(this._object,n)},e.prototype.__iterate=function(n,a){for(var s=this._object,o=this._keys,u=o.length,c=0;c!==u;){var l=o[a?u-++c:c++];if(n(s[l],l,this)===!1)break}return c},e.prototype.__iterator=function(n,a){var s=this._object,o=this._keys,u=o.length,c=0;return new Jt(function(){if(c===u)return si();var l=o[a?u-++c:c++];return xr(n,l,s[l])})},e}(Iu);JD.prototype[Sf]=!0;var H2e=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,a){if(a)return this.cacheResult().__iterate(n,a);var s=this._collection,o=CP(s),u=0;if(gM(o))for(var c;!(c=o.next()).done&&n(c.value,u++,this)!==!1;);return u},e.prototype.__iteratorUncached=function(n,a){if(a)return this.cacheResult().__iterator(n,a);var s=this._collection,o=CP(s);if(!gM(o))return new Jt(si);var u=0;return new Jt(function(){var c=o.next();return c.done?c:xr(n,u++,c.value)})},e}(ga),_M;function XD(){return _M||(_M=new Kc([]))}function YD(t){var e=ZD(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new JD(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function oX(t){var e=ZD(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function Q2e(t){var e=ZD(t);if(e)return k2e(t)?e.fromEntrySeq():V2e(t)?e.toSetSeq():e;if(typeof t=="object")return new JD(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function ZD(t){return KD(t)?new Kc(t):WD(t)?new H2e(t):void 0}var uX="@@__IMMUTABLE_MAP__@@";function o1(t){return!!(t&&t[uX])}function q2(t){return o1(t)&&qi(t)}function wS(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function hn(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(wS(t)&&wS(e)&&t.equals(e))}var Zf=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,a=r&65535;return n*a+((e>>>16)*a+n*(r>>>16)<<16>>>0)|0};function $2(t){return t>>>1&1073741824|t&3221225471}var z2e=Object.prototype.valueOf;function Zn(t){if(t==null)return bM(t);if(typeof t.hashCode=="function")return $2(t.hashCode(t));var e=Y2e(t);if(e==null)return bM(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return G2e(e);case"string":return e.length>Z2e?W2e(e):LP(e);case"object":case"function":return J2e(e);case"symbol":return K2e(e);default:if(typeof e.toString=="function")return LP(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function bM(t){return t===null?1108378658:1108378659}function G2e(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return $2(e)}function W2e(t){var e=_A[t];return e===void 0&&(e=LP(t),gA===eTe&&(gA=0,_A={}),gA++,_A[t]=e),e}function LP(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return $2(e)}function K2e(t){var e=SM[t];return e!==void 0||(e=cX(),SM[t]=e),e}function J2e(t){var e;if(jP&&(e=MP.get(t),e!==void 0)||(e=t[vc],e!==void 0)||!wM&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[vc],e!==void 0||(e=X2e(t),e!==void 0)))return e;if(e=cX(),jP)MP.set(t,e);else{if(vM!==void 0&&vM(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(wM)Object.defineProperty(t,vc,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[vc]=e;else if(t.nodeType!==void 0)t[vc]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var vM=Object.isExtensible,wM=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function X2e(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function Y2e(t){return t.valueOf!==z2e&&typeof t.valueOf=="function"?t.valueOf(t):t}function cX(){var t=++mA;return mA&1073741824&&(mA=0),t}var jP=typeof WeakMap=="function",MP;jP&&(MP=new WeakMap);var SM=Object.create(null),mA=0,vc="__immutablehash__";typeof Symbol=="function"&&(vc=Symbol(vc));var Z2e=16,eTe=255,gA=0,_A={},U2=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return this._iter.get(n,a)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,a=eC(this,!0);return this._useKeys||(a.valueSeq=function(){return n._iter.toSeq().reverse()}),a},e.prototype.map=function(n,a){var s=this,o=pX(this,n,a);return this._useKeys||(o.valueSeq=function(){return s._iter.toSeq().map(n,a)}),o},e.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(o,u){return n(o,u,s)},a)},e.prototype.__iterator=function(n,a){return this._iter.__iterator(n,a)},e}(Iu);U2.prototype[Sf]=!0;var lX=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,a){var s=this,o=0;return a&&Vd(this),this._iter.__iterate(function(u){return n(u,a?s.size-++o:o++,s)},a)},e.prototype.__iterator=function(n,a){var s=this,o=this._iter.__iterator(Fa,a),u=0;return a&&Vd(this),new Jt(function(){var c=o.next();return c.done?c:xr(n,a?s.size-++u:u++,c.value,c)})},e}(ga),dX=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(o){return n(o,o,s)},a)},e.prototype.__iterator=function(n,a){var s=this._iter.__iterator(Fa,a);return new Jt(function(){var o=s.next();return o.done?o:xr(n,o.value,o.value,o)})},e}(Ef),fX=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(o){if(o){EM(o);var u=Bn(o);return n(u?o.get(1):o[1],u?o.get(0):o[0],s)}},a)},e.prototype.__iterator=function(n,a){var s=this._iter.__iterator(Fa,a);return new Jt(function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value;if(u){EM(u);var c=Bn(u);return xr(n,c?u.get(0):u[0],c?u.get(1):u[1],o)}}})},e}(Iu);lX.prototype.cacheResult=U2.prototype.cacheResult=dX.prototype.cacheResult=fX.prototype.cacheResult=nC;function hX(t){var e=ws(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=nC,e.__iterateUncached=function(r,n){var a=this;return t.__iterate(function(s,o){return r(o,s,a)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===fa){var a=t.__iterator(r,n);return new Jt(function(){var s=a.next();if(!s.done){var o=s.value[0];s.value[0]=s.value[1],s.value[1]=o}return s})}return t.__iterator(r===Fa?s1:Fa,n)},e}function pX(t,e,r){var n=ws(t);return n.size=t.size,n.has=function(a){return t.has(a)},n.get=function(a,s){var o=t.get(a,Ht);return o===Ht?s:e.call(r,o,a,t)},n.__iterateUncached=function(a,s){var o=this;return t.__iterate(function(u,c,l){return a(e.call(r,u,c,l),c,o)!==!1},s)},n.__iteratorUncached=function(a,s){var o=t.__iterator(fa,s);return new Jt(function(){var u=o.next();if(u.done)return u;var c=u.value,l=c[0];return xr(a,l,e.call(r,c[1],l,t),u)})},n}function eC(t,e){var r=this,n=ws(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var a=hX(t);return a.reverse=function(){return t.flip()},a}),n.get=function(a,s){return t.get(e?a:-1-a,s)},n.has=function(a){return t.has(e?a:-1-a)},n.includes=function(a){return t.includes(a)},n.cacheResult=nC,n.__iterate=function(a,s){var o=this,u=0;return s&&Vd(t),t.__iterate(function(c,l){return a(c,e?l:s?o.size-++u:u++,o)},!s)},n.__iterator=function(a,s){var o=0;s&&Vd(t);var u=t.__iterator(fa,!s);return new Jt(function(){var c=u.next();if(c.done)return c;var l=c.value;return xr(a,e?l[0]:s?r.size-++o:o++,l[1],c)})},n}function yX(t,e,r,n){var a=ws(t);return n&&(a.has=function(s){var o=t.get(s,Ht);return o!==Ht&&!!e.call(r,o,s,t)},a.get=function(s,o){var u=t.get(s,Ht);return u!==Ht&&e.call(r,u,s,t)?u:o}),a.__iterateUncached=function(s,o){var u=this,c=0;return t.__iterate(function(l,d,f){if(e.call(r,l,d,f))return c++,s(l,n?d:c-1,u)},o),c},a.__iteratorUncached=function(s,o){var u=t.__iterator(fa,o),c=0;return new Jt(function(){for(;;){var l=u.next();if(l.done)return l;var d=l.value,f=d[0],h=d[1];if(e.call(r,h,f,t))return xr(s,n?f:c++,h,l)}})},a}function tTe(t,e,r){var n=Nu().asMutable();return t.__iterate(function(a,s){n.update(e.call(r,a,s,t),0,function(o){return o+1})}),n.asImmutable()}function rTe(t,e,r){var n=yr(t),a=(qi(t)?Ba():Nu()).asMutable();t.__iterate(function(o,u){a.update(e.call(r,o,u,t),function(c){return c=c||[],c.push(n?[u,o]:o),c})});var s=rC(t);return a.map(function(o){return pr(t,s(o))}).asImmutable()}function nTe(t,e,r){var n=yr(t),a=[[],[]];t.__iterate(function(o,u){a[e.call(r,o,u,t)?1:0].push(n?[u,o]:o)});var s=rC(t);return a.map(function(o){return pr(t,s(o))})}function tC(t,e,r,n){var a=t.size;if(n1(e,r,a))return t;var s=bf(e,a),o=i1(r,a);if(s!==s||o!==o)return tC(t.toSeq().cacheResult(),e,r,n);var u=o-s,c;u===u&&(c=u<0?0:u);var l=ws(t);return l.size=c===0?c:t.size&&c||void 0,!n&&a1(t)&&c>=0&&(l.get=function(d,f){return d=mu(this,d),d>=0&&d<c?t.get(d+s,f):f}),l.__iterateUncached=function(d,f){var h=this;if(c===0)return 0;if(f)return this.cacheResult().__iterate(d,f);var p=0,m=!0,y=0;return t.__iterate(function(g,b){if(!(m&&(m=p++<s)))return y++,d(g,n?b:y-1,h)!==!1&&y!==c}),y},l.__iteratorUncached=function(d,f){if(c!==0&&f)return this.cacheResult().__iterator(d,f);if(c===0)return new Jt(si);var h=t.__iterator(d,f),p=0,m=0;return new Jt(function(){for(;p++<s;)h.next();if(++m>c)return si();var y=h.next();return n||d===Fa||y.done?y:d===s1?xr(d,m-1,void 0,y):xr(d,m-1,y.value[1],y)})},l}function iTe(t,e,r){var n=ws(t);return n.__iterateUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterate(a,s);var u=0;return t.__iterate(function(c,l,d){return e.call(r,c,l,d)&&++u&&a(c,l,o)}),u},n.__iteratorUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterator(a,s);var u=t.__iterator(fa,s),c=!0;return new Jt(function(){if(!c)return si();var l=u.next();if(l.done)return l;var d=l.value,f=d[0],h=d[1];return e.call(r,h,f,o)?a===fa?l:xr(a,f,h,l):(c=!1,si())})},n}function mX(t,e,r,n){var a=ws(t);return a.__iterateUncached=function(s,o){var u=this;if(o)return this.cacheResult().__iterate(s,o);var c=!0,l=0;return t.__iterate(function(d,f,h){if(!(c&&(c=e.call(r,d,f,h))))return l++,s(d,n?f:l-1,u)}),l},a.__iteratorUncached=function(s,o){var u=this;if(o)return this.cacheResult().__iterator(s,o);var c=t.__iterator(fa,o),l=!0,d=0;return new Jt(function(){var f,h,p;do{if(f=c.next(),f.done)return n||s===Fa?f:s===s1?xr(s,d++,void 0,f):xr(s,d++,f.value[1],f);var m=f.value;h=m[0],p=m[1],l&&(l=e.call(r,p,h,u))}while(l);return s===fa?f:xr(s,h,p,f)})},a}function aTe(t,e){var r=yr(t),n=[t].concat(e).map(function(o){return Bn(o)?r&&(o=ma(o)):o=r?YD(o):oX(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return t;if(n.length===1){var a=n[0];if(a===t||r&&yr(a)||On(t)&&On(a))return a}var s=new Kc(n);return r?s=s.toKeyedSeq():On(t)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=n.reduce(function(o,u){if(o!==void 0){var c=u.size;if(c!==void 0)return o+c}},0),s}function gX(t,e,r){var n=ws(t);return n.__iterateUncached=function(a,s){if(s)return this.cacheResult().__iterate(a,s);var o=0,u=!1;function c(l,d){l.__iterate(function(f,h){return(!e||d<e)&&Bn(f)?c(f,d+1):(o++,a(f,r?h:o-1,n)===!1&&(u=!0)),!u},s)}return c(t,0),o},n.__iteratorUncached=function(a,s){if(s)return this.cacheResult().__iterator(a,s);var o=t.__iterator(a,s),u=[],c=0;return new Jt(function(){for(;o;){var l=o.next();if(l.done!==!1){o=u.pop();continue}var d=l.value;if(a===fa&&(d=d[1]),(!e||u.length<e)&&Bn(d))u.push(o),o=d.__iterator(a,s);else return r?l:xr(a,c++,d,l)}return si()})},n}function sTe(t,e,r){var n=rC(t);return t.toSeq().map(function(a,s){return n(e.call(r,a,s,t))}).flatten(!0)}function oTe(t,e){var r=ws(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,a){var s=this,o=0;return t.__iterate(function(u){return(!o||n(e,o++,s)!==!1)&&n(u,o++,s)!==!1},a),o},r.__iteratorUncached=function(n,a){var s=t.__iterator(Fa,a),o=0,u;return new Jt(function(){return(!u||o%2)&&(u=s.next(),u.done)?u:o%2?xr(n,o++,e):xr(n,o++,u.value,u)})},r}function Hd(t,e,r){e||(e=_X);var n=yr(t),a=0,s=t.toSeq().map(function(o,u){return[u,o,a++,r?r(o,u,t):o]}).valueSeq().toArray();return s.sort(function(o,u){return e(o[3],u[3])||o[2]-u[2]}).forEach(n?function(o,u){s[u].length=2}:function(o,u){s[u]=o[1]}),n?Iu(s):On(t)?ga(s):Ef(s)}function Ov(t,e,r){if(e||(e=_X),r){var n=t.toSeq().map(function(a,s){return[a,r(a,s,t)]}).reduce(function(a,s){return TM(e,a[1],s[1])?s:a});return n&&n[0]}return t.reduce(function(a,s){return TM(e,a,s)?s:a})}function TM(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function Rv(t,e,r,n){var a=ws(t),s=new Kc(r).map(function(o){return o.size});return a.size=n?s.max():s.min(),a.__iterate=function(o,u){for(var c=this.__iterator(Fa,u),l,d=0;!(l=c.next()).done&&o(l.value,d++,this)!==!1;);return d},a.__iteratorUncached=function(o,u){var c=r.map(function(f){return f=Rr(f),CP(u?f.reverse():f)}),l=0,d=!1;return new Jt(function(){var f;return d||(f=c.map(function(h){return h.next()}),d=n?f.every(function(h){return h.done}):f.some(function(h){return h.done})),d?si():xr(o,l++,e.apply(null,f.map(function(h){return h.value})))})},a}function pr(t,e){return t===e?t:a1(t)?e:t.constructor(e)}function EM(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function rC(t){return yr(t)?ma:On(t)?fl:wf}function ws(t){return Object.create((yr(t)?Iu:On(t)?ga:Ef).prototype)}function nC(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):qn.prototype.cacheResult.call(this)}function _X(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function ss(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),a=0;a<r;a++)n[a]=t[a+e];return n}function iC(t,e){if(!t)throw new Error(e)}function ji(t){iC(t!==1/0,"Cannot perform this action with an infinite size.")}function bX(t){if(KD(t)&&typeof t!="string")return t;if(qi(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var uTe=Object.prototype.toString;function k2(t){if(!t||typeof t!="object"||uTe.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function gu(t){return typeof t=="object"&&(Hi(t)||Array.isArray(t)||k2(t))}function pb(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function aC(t,e){return Hi(t)?t.has(e):gu(t)&&Tf.call(t,e)}function V2(t,e,r){return Hi(t)?t.get(e,r):aC(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function SS(t){if(Array.isArray(t))return ss(t);var e={};for(var r in t)Tf.call(t,r)&&(e[r]=t[r]);return e}function sC(t,e){if(!gu(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Hi(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Tf.call(t,e))return t;var r=SS(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function oC(t,e,r){if(!gu(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Hi(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(Tf.call(t,e)&&r===t[e])return t;var n=SS(t);return n[e]=r,n}function Pu(t,e,r,n){n||(n=r,r=void 0);var a=vX(Hi(t),t,bX(e),0,r,n);return a===Ht?r:a}function vX(t,e,r,n,a,s){var o=e===Ht;if(n===r.length){var u=o?a:e,c=s(u);return c===u?e:c}if(!o&&!gu(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(pb)+"]: "+e);var l=r[n],d=o?Ht:V2(e,l,Ht),f=vX(d===Ht?t:Hi(d),d,r,n+1,a,s);return f===d?e:f===Ht?sC(e,l):oC(o?t?La():{}:e,l,f)}function uC(t,e,r){return Pu(t,e,Ht,function(){return r})}function cC(t,e){return uC(this,t,e)}function lC(t,e){return Pu(t,e,function(){return Ht})}function dC(t){return lC(this,t)}function H2(t,e,r,n){return Pu(t,[e],r,n)}function fC(t,e,r){return arguments.length===1?t(this):H2(this,t,e,r)}function hC(t,e,r){return Pu(this,t,e,r)}function wX(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return TX(this,t)}function SX(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return TX(this,e,t)}function TX(t,e,r){for(var n=[],a=0;a<e.length;a++){var s=ma(e[a]);s.size!==0&&n.push(s)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(o){for(var u=r?function(l,d){H2(o,d,Ht,function(f){return f===Ht?l:r(f,l,d)})}:function(l,d){o.set(d,l)},c=0;c<n.length;c++)n[c].forEach(u)})}function EX(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return c1(t,e)}function AX(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return c1(e,r,t)}function OX(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return u1(t,e)}function RX(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return u1(e,r,t)}function u1(t,e,r){return c1(t,e,cTe(r))}function c1(t,e,r){if(!gu(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Hi(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),a=t,s=n?fl:ma,o=n?function(c){a===t&&(a=SS(a)),a.push(c)}:function(c,l){var d=Tf.call(a,l),f=d&&r?r(a[l],c,l):c;(!d||f!==a[l])&&(a===t&&(a=SS(a)),a[l]=f)},u=0;u<e.length;u++)s(e[u]).forEach(o);return a}function cTe(t){function e(r,n,a){return gu(r)&&gu(n)&&lTe(r,n)?c1(r,[n],e):t?t(r,n,a):n}return e}function lTe(t,e){var r=qn(t),n=qn(e);return On(r)===On(n)&&yr(r)===yr(n)}function xX(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return u1(this,t)}function IX(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return u1(this,e,t)}function pC(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Pu(this,t,La(),function(n){return c1(n,e)})}function yC(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Pu(this,t,La(),function(n){return u1(n,e)})}function l1(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function d1(){return this.__ownerID?this:this.__ensureOwner(new GD)}function f1(){return this.__ensureOwner()}function mC(){return this.__altered}var Nu=function(t){function e(r){return r==null?La():o1(r)&&!qi(r)?r:La().withMutations(function(n){var a=t(r);ji(a.size),a.forEach(function(s,o){return n.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return La().withMutations(function(s){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);s.set(n[o],n[o+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,a){return this._root?this._root.get(0,void 0,n,a):a},e.prototype.set=function(n,a){return RM(this,n,a)},e.prototype.remove=function(n){return RM(this,n,Ht)},e.prototype.deleteAll=function(n){var a=Rr(n);return a.size===0?this:this.withMutations(function(s){a.forEach(function(o){return s.remove(o)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):La()},e.prototype.sort=function(n){return Ba(Hd(this,n))},e.prototype.sortBy=function(n,a){return Ba(Hd(this,a,n))},e.prototype.map=function(n,a){var s=this;return this.withMutations(function(o){o.forEach(function(u,c){o.set(c,n.call(a,u,c,s))})})},e.prototype.__iterator=function(n,a){return new dTe(this,n,a)},e.prototype.__iterate=function(n,a){var s=this,o=0;return this._root&&this._root.iterate(function(u){return o++,n(u[1],u[0],s)},a),o},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?gC(this.size,this._root,n,this.__hash):this.size===0?La():(this.__ownerID=n,this.__altered=!1,this)},e}(ma);Nu.isMap=o1;var Pr=Nu.prototype;Pr[uX]=!0;Pr[r1]=Pr.remove;Pr.removeAll=Pr.deleteAll;Pr.setIn=cC;Pr.removeIn=Pr.deleteIn=dC;Pr.update=fC;Pr.updateIn=hC;Pr.merge=Pr.concat=wX;Pr.mergeWith=SX;Pr.mergeDeep=xX;Pr.mergeDeepWith=IX;Pr.mergeIn=pC;Pr.mergeDeepIn=yC;Pr.withMutations=l1;Pr.wasAltered=mC;Pr.asImmutable=f1;Pr["@@transducer/init"]=Pr.asMutable=d1;Pr["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};Pr["@@transducer/result"]=function(t){return t.asImmutable()};var yb=function(e,r){this.ownerID=e,this.entries=r};yb.prototype.get=function(e,r,n,a){for(var s=this.entries,o=0,u=s.length;o<u;o++)if(hn(n,s[o][0]))return s[o][1];return a};yb.prototype.update=function(e,r,n,a,s,o,u){for(var c=s===Ht,l=this.entries,d=0,f=l.length;d<f&&!hn(a,l[d][0]);d++);var h=d<f;if(h?l[d][1]===s:c)return this;if(ia(u),(c||!h)&&ia(o),!(c&&l.length===1)){if(!h&&!c&&l.length>=gTe)return fTe(e,l,a,s);var p=e&&e===this.ownerID,m=p?l:ss(l);return h?c?d===f-1?m.pop():m[d]=m.pop():m[d]=[a,s]:m.push([a,s]),p?(this.entries=m,this):new yb(e,m)}};var Qd=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};Qd.prototype.get=function(e,r,n,a){r===void 0&&(r=Zn(n));var s=1<<((e===0?r:r>>>e)&ti),o=this.bitmap;return o&s?this.nodes[PX(o&s-1)].get(e+Ar,r,n,a):a};Qd.prototype.update=function(e,r,n,a,s,o,u){n===void 0&&(n=Zn(a));var c=(r===0?n:n>>>r)&ti,l=1<<c,d=this.bitmap,f=(d&l)!==0;if(!f&&s===Ht)return this;var h=PX(d&l-1),p=this.nodes,m=f?p[h]:void 0,y=_C(m,e,r+Ar,n,a,s,o,u);if(y===m)return this;if(!f&&y&&p.length>=_Te)return pTe(e,p,d,c,y);if(f&&!y&&p.length===2&&xM(p[h^1]))return p[h^1];if(f&&y&&p.length===1&&xM(y))return y;var g=e&&e===this.ownerID,b=f?y?d:d^l:d|l,v=f?y?NX(p,h,y,g):mTe(p,h,g):yTe(p,h,y,g);return g?(this.bitmap=b,this.nodes=v,this):new Qd(e,b,v)};var mb=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};mb.prototype.get=function(e,r,n,a){r===void 0&&(r=Zn(n));var s=(e===0?r:r>>>e)&ti,o=this.nodes[s];return o?o.get(e+Ar,r,n,a):a};mb.prototype.update=function(e,r,n,a,s,o,u){n===void 0&&(n=Zn(a));var c=(r===0?n:n>>>r)&ti,l=s===Ht,d=this.nodes,f=d[c];if(l&&!f)return this;var h=_C(f,e,r+Ar,n,a,s,o,u);if(h===f)return this;var p=this.count;if(!f)p++;else if(!h&&(p--,p<bTe))return hTe(e,d,p,c);var m=e&&e===this.ownerID,y=NX(d,c,h,m);return m?(this.count=p,this.nodes=y,this):new mb(e,p,y)};var zd=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};zd.prototype.get=function(e,r,n,a){for(var s=this.entries,o=0,u=s.length;o<u;o++)if(hn(n,s[o][0]))return s[o][1];return a};zd.prototype.update=function(e,r,n,a,s,o,u){n===void 0&&(n=Zn(a));var c=s===Ht;if(n!==this.keyHash)return c?this:(ia(u),ia(o),bC(this,e,r,n,[a,s]));for(var l=this.entries,d=0,f=l.length;d<f&&!hn(a,l[d][0]);d++);var h=d<f;if(h?l[d][1]===s:c)return this;if(ia(u),(c||!h)&&ia(o),c&&f===2)return new wo(e,this.keyHash,l[d^1]);var p=e&&e===this.ownerID,m=p?l:ss(l);return h?c?d===f-1?m.pop():m[d]=m.pop():m[d]=[a,s]:m.push([a,s]),p?(this.entries=m,this):new zd(e,this.keyHash,m)};var wo=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};wo.prototype.get=function(e,r,n,a){return hn(n,this.entry[0])?this.entry[1]:a};wo.prototype.update=function(e,r,n,a,s,o,u){var c=s===Ht,l=hn(a,this.entry[0]);if(l?s===this.entry[1]:c)return this;if(ia(u),c){ia(o);return}return l?e&&e===this.ownerID?(this.entry[1]=s,this):new wo(e,this.keyHash,[a,s]):(ia(o),bC(this,e,r,Zn(a),[a,s]))};yb.prototype.iterate=zd.prototype.iterate=function(t,e){for(var r=this.entries,n=0,a=r.length-1;n<=a;n++)if(t(r[e?a-n:n])===!1)return!1};Qd.prototype.iterate=mb.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,a=r.length-1;n<=a;n++){var s=r[e?a-n:n];if(s&&s.iterate(t,e)===!1)return!1}};wo.prototype.iterate=function(t,e){return t(this.entry)};var dTe=function(t){function e(r,n,a){this._type=n,this._reverse=a,this._stack=r._root&&AM(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,a=this._stack;a;){var s=a.node,o=a.index++,u=void 0;if(s.entry){if(o===0)return bA(n,s.entry)}else if(s.entries){if(u=s.entries.length-1,o<=u)return bA(n,s.entries[this._reverse?u-o:o])}else if(u=s.nodes.length-1,o<=u){var c=s.nodes[this._reverse?u-o:o];if(c){if(c.entry)return bA(n,c.entry);a=this._stack=AM(c,a)}continue}a=this._stack=this._stack.__prev}return si()},e}(Jt);function bA(t,e){return xr(t,e[0],e[1])}function AM(t,e){return{node:t,index:0,__prev:e}}function gC(t,e,r,n){var a=Object.create(Pr);return a.size=t,a._root=e,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var OM;function La(){return OM||(OM=gC(0))}function RM(t,e,r){var n,a;if(t._root){var s=NP(),o=NP();if(n=_C(t._root,t.__ownerID,0,void 0,e,r,s,o),!o.value)return t;a=t.size+(s.value?r===Ht?-1:1:0)}else{if(r===Ht)return t;a=1,n=new yb(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=a,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?gC(a,n):La()}function _C(t,e,r,n,a,s,o,u){return t?t.update(e,r,n,a,s,o,u):s===Ht?t:(ia(u),ia(o),new wo(e,n,[a,s]))}function xM(t){return t.constructor===wo||t.constructor===zd}function bC(t,e,r,n,a){if(t.keyHash===n)return new zd(e,n,[t.entry,a]);var s=(r===0?t.keyHash:t.keyHash>>>r)&ti,o=(r===0?n:n>>>r)&ti,u,c=s===o?[bC(t,e,r+Ar,n,a)]:(u=new wo(e,n,a),s<o?[t,u]:[u,t]);return new Qd(e,1<<s|1<<o,c)}function fTe(t,e,r,n){t||(t=new GD);for(var a=new wo(t,Zn(r),[r,n]),s=0;s<e.length;s++){var o=e[s];a=a.update(t,0,void 0,o[0],o[1])}return a}function hTe(t,e,r,n){for(var a=0,s=0,o=new Array(r),u=0,c=1,l=e.length;u<l;u++,c<<=1){var d=e[u];d!==void 0&&u!==n&&(a|=c,o[s++]=d)}return new Qd(t,a,o)}function pTe(t,e,r,n,a){for(var s=0,o=new Array(na),u=0;r!==0;u++,r>>>=1)o[u]=r&1?e[s++]:void 0;return o[n]=a,new mb(t,s+1,o)}function PX(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function NX(t,e,r,n){var a=n?t:ss(t);return a[e]=r,a}function yTe(t,e,r,n){var a=t.length+1;if(n&&e+1===a)return t[e]=r,t;for(var s=new Array(a),o=0,u=0;u<a;u++)u===e?(s[u]=r,o=-1):s[u]=t[u+o];return s}function mTe(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var a=new Array(n),s=0,o=0;o<n;o++)o===e&&(s=1),a[o]=t[o+s];return a}var gTe=na/4,_Te=na/2,bTe=na/4,DX="@@__IMMUTABLE_LIST__@@";function Q2(t){return!!(t&&t[DX])}var Af=function(t){function e(r){var n=Pw();if(r==null)return n;if(Q2(r))return r;var a=t(r),s=a.size;return s===0?n:(ji(s),s>0&&s<na?gb(0,s,Ar,null,new ou(a.toArray())):n.withMutations(function(o){o.setSize(s),a.forEach(function(u,c){return o.set(c,u)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,a){if(n=mu(this,n),n>=0&&n<this.size){n+=this._origin;var s=CX(this,n);return s&&s.array[n&ti]}return a},e.prototype.set=function(n,a){return vTe(this,n,a)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,a){return this.splice(n,0,a)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Ar,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Pw()},e.prototype.push=function(){var n=arguments,a=this.size;return this.withMutations(function(s){Zo(s,0,a+n.length);for(var o=0;o<n.length;o++)s.set(a+o,n[o])})},e.prototype.pop=function(){return Zo(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(a){Zo(a,-n.length);for(var s=0;s<n.length;s++)a.set(s,n[s])})},e.prototype.shift=function(){return Zo(this,1)},e.prototype.concat=function(){for(var n=arguments,a=[],s=0;s<arguments.length;s++){var o=n[s],u=t(typeof o!="string"&&WD(o)?o:[o]);u.size!==0&&a.push(u)}return a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(c){a.forEach(function(l){return l.forEach(function(d){return c.push(d)})})})},e.prototype.setSize=function(n){return Zo(this,0,n)},e.prototype.map=function(n,a){var s=this;return this.withMutations(function(o){for(var u=0;u<s.size;u++)o.set(u,n.call(a,o.get(u),u,s))})},e.prototype.slice=function(n,a){var s=this.size;return n1(n,a,s)?this:Zo(this,bf(n,s),i1(a,s))},e.prototype.__iterator=function(n,a){var s=a?this.size:0,o=IM(this,a);return new Jt(function(){var u=o();return u===J_?si():xr(n,a?--s:s++,u)})},e.prototype.__iterate=function(n,a){for(var s=a?this.size:0,o=IM(this,a),u;(u=o())!==J_&&n(u,a?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?gb(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?Pw():(this.__ownerID=n,this.__altered=!1,this)},e}(fl);Af.isList=Q2;var sn=Af.prototype;sn[DX]=!0;sn[r1]=sn.remove;sn.merge=sn.concat;sn.setIn=cC;sn.deleteIn=sn.removeIn=dC;sn.update=fC;sn.updateIn=hC;sn.mergeIn=pC;sn.mergeDeepIn=yC;sn.withMutations=l1;sn.wasAltered=mC;sn.asImmutable=f1;sn["@@transducer/init"]=sn.asMutable=d1;sn["@@transducer/step"]=function(t,e){return t.push(e)};sn["@@transducer/result"]=function(t){return t.asImmutable()};var ou=function(e,r){this.array=e,this.ownerID=r};ou.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var a=n>>>r&ti;if(a>=this.array.length)return new ou([],e);var s=a===0,o;if(r>0){var u=this.array[a];if(o=u&&u.removeBefore(e,r-Ar,n),o===u&&s)return this}if(s&&!o)return this;var c=Gd(this,e);if(!s)for(var l=0;l<a;l++)c.array[l]=void 0;return o&&(c.array[a]=o),c};ou.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var a=n-1>>>r&ti;if(a>=this.array.length)return this;var s;if(r>0){var o=this.array[a];if(s=o&&o.removeAfter(e,r-Ar,n),s===o&&a===this.array.length-1)return this}var u=Gd(this,e);return u.array.splice(a+1),s&&(u.array[a]=s),u};var J_={};function IM(t,e){var r=t._origin,n=t._capacity,a=_b(n),s=t._tail;return o(t._root,t._level,0);function o(l,d,f){return d===0?u(l,f):c(l,d,f)}function u(l,d){var f=d===a?s&&s.array:l&&l.array,h=d>r?0:r-d,p=n-d;return p>na&&(p=na),function(){if(h===p)return J_;var m=e?--p:h++;return f&&f[m]}}function c(l,d,f){var h,p=l&&l.array,m=f>r?0:r-f>>d,y=(n-f>>d)+1;return y>na&&(y=na),function(){for(;;){if(h){var g=h();if(g!==J_)return g;h=null}if(m===y)return J_;var b=e?--y:m++;h=o(p&&p[b],d-Ar,f+(b<<d))}}}}function gb(t,e,r,n,a,s,o){var u=Object.create(sn);return u.size=e-t,u._origin=t,u._capacity=e,u._level=r,u._root=n,u._tail=a,u.__ownerID=s,u.__hash=o,u.__altered=!1,u}var PM;function Pw(){return PM||(PM=gb(0,0,Ar))}function vTe(t,e,r){if(e=mu(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(o){e<0?Zo(o,e).set(0,r):Zo(o,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,a=t._root,s=NP();return e>=_b(t._capacity)?n=FP(n,t.__ownerID,0,e,r,s):a=FP(a,t.__ownerID,t._level,e,r,s),s.value?t.__ownerID?(t._root=a,t._tail=n,t.__hash=void 0,t.__altered=!0,t):gb(t._origin,t._capacity,t._level,a,n):t}function FP(t,e,r,n,a,s){var o=n>>>r&ti,u=t&&o<t.array.length;if(!u&&a===void 0)return t;var c;if(r>0){var l=t&&t.array[o],d=FP(l,e,r-Ar,n,a,s);return d===l?t:(c=Gd(t,e),c.array[o]=d,c)}return u&&t.array[o]===a?t:(s&&ia(s),c=Gd(t,e),a===void 0&&o===c.array.length-1?c.array.pop():c.array[o]=a,c)}function Gd(t,e){return e&&t&&e===t.ownerID?t:new ou(t?t.array.slice():[],e)}function CX(t,e){if(e>=_b(t._capacity))return t._tail;if(e<1<<t._level+Ar){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&ti],n-=Ar;return r}}function Zo(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new GD,a=t._origin,s=t._capacity,o=a+e,u=r===void 0?s:r<0?s+r:a+r;if(o===a&&u===s)return t;if(o>=u)return t.clear();for(var c=t._level,l=t._root,d=0;o+d<0;)l=new ou(l&&l.array.length?[void 0,l]:[],n),c+=Ar,d+=1<<c;d&&(o+=d,a+=d,u+=d,s+=d);for(var f=_b(s),h=_b(u);h>=1<<c+Ar;)l=new ou(l&&l.array.length?[l]:[],n),c+=Ar;var p=t._tail,m=h<f?CX(t,u-1):h>f?new ou([],n):p;if(p&&h>f&&o<s&&p.array.length){l=Gd(l,n);for(var y=l,g=c;g>Ar;g-=Ar){var b=f>>>g&ti;y=y.array[b]=Gd(y.array[b],n)}y.array[f>>>Ar&ti]=p}if(u<s&&(m=m&&m.removeAfter(n,0,u)),o>=h)o-=h,u-=h,c=Ar,l=null,m=m&&m.removeBefore(n,0,o);else if(o>a||h<f){for(d=0;l;){var v=o>>>c&ti;if(v!==h>>>c&ti)break;v&&(d+=(1<<c)*v),c-=Ar,l=l.array[v]}l&&o>a&&(l=l.removeBefore(n,c,o-d)),l&&h<f&&(l=l.removeAfter(n,c,h-d)),d&&(o-=d,u-=d)}return t.__ownerID?(t.size=u-o,t._origin=o,t._capacity=u,t._level=c,t._root=l,t._tail=m,t.__hash=void 0,t.__altered=!0,t):gb(o,u,c,l,m)}function _b(t){return t<na?0:t-1>>>Ar<<Ar}var Ba=function(t){function e(r){return r==null?v_():q2(r)?r:v_().withMutations(function(n){var a=ma(r);ji(a.size),a.forEach(function(s,o){return n.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,a){var s=this._map.get(n);return s!==void 0?this._list.get(s)[1]:a},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):v_()},e.prototype.set=function(n,a){return DM(this,n,a)},e.prototype.remove=function(n){return DM(this,n,Ht)},e.prototype.__iterate=function(n,a){var s=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],s)},a)},e.prototype.__iterator=function(n,a){return this._list.fromEntrySeq().__iterator(n,a)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n),s=this._list.__ensureOwner(n);return n?vC(a,s,n,this.__hash):this.size===0?v_():(this.__ownerID=n,this.__altered=!1,this._map=a,this._list=s,this)},e}(Nu);Ba.isOrderedMap=q2;Ba.prototype[Sf]=!0;Ba.prototype[r1]=Ba.prototype.remove;function vC(t,e,r,n){var a=Object.create(Ba.prototype);return a.size=t?t.size:0,a._map=t,a._list=e,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var NM;function v_(){return NM||(NM=vC(La(),Pw()))}function DM(t,e,r){var n=t._map,a=t._list,s=n.get(e),o=s!==void 0,u,c;if(r===Ht){if(!o)return t;a.size>=na&&a.size>=n.size*2?(c=a.filter(function(l,d){return l!==void 0&&s!==d}),u=c.toKeyedSeq().map(function(l){return l[0]}).flip().toMap(),t.__ownerID&&(u.__ownerID=c.__ownerID=t.__ownerID)):(u=n.remove(e),c=s===a.size-1?a.pop():a.set(s,void 0))}else if(o){if(r===a.get(s)[1])return t;u=n,c=a.set(s,[e,r])}else u=n.set(e,a.size),c=a.set(a.size,[e,r]);return t.__ownerID?(t.size=u.size,t._map=u,t._list=c,t.__hash=void 0,t.__altered=!0,t):vC(u,c)}var LX="@@__IMMUTABLE_STACK__@@";function bb(t){return!!(t&&t[LX])}var h1=function(t){function e(r){return r==null?xv():bb(r)?r:xv().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,a){var s=this._head;for(n=mu(this,n);s&&n--;)s=s.next;return s?s.value:a},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var a=this.size+arguments.length,s=this._head,o=arguments.length-1;o>=0;o--)s={value:n[o],next:s};return this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):w_(a,s)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&bb(n))return n;ji(n.size);var a=this.size,s=this._head;return n.__iterate(function(o){a++,s={value:o,next:s}},!0),this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):w_(a,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):xv()},e.prototype.slice=function(n,a){if(n1(n,a,this.size))return this;var s=bf(n,this.size),o=i1(a,this.size);if(o!==this.size)return t.prototype.slice.call(this,n,a);for(var u=this.size-s,c=this._head;s--;)c=c.next;return this.__ownerID?(this.size=u,this._head=c,this.__hash=void 0,this.__altered=!0,this):w_(u,c)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?w_(this.size,this._head,n,this.__hash):this.size===0?xv():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,a){var s=this;if(a)return new Kc(this.toArray()).__iterate(function(c,l){return n(c,l,s)},a);for(var o=0,u=this._head;u&&n(u.value,o++,this)!==!1;)u=u.next;return o},e.prototype.__iterator=function(n,a){if(a)return new Kc(this.toArray()).__iterator(n,a);var s=0,o=this._head;return new Jt(function(){if(o){var u=o.value;return o=o.next,xr(n,s++,u)}return si()})},e}(fl);h1.isStack=bb;var oi=h1.prototype;oi[LX]=!0;oi.shift=oi.pop;oi.unshift=oi.push;oi.unshiftAll=oi.pushAll;oi.withMutations=l1;oi.wasAltered=mC;oi.asImmutable=f1;oi["@@transducer/init"]=oi.asMutable=d1;oi["@@transducer/step"]=function(t,e){return t.unshift(e)};oi["@@transducer/result"]=function(t){return t.asImmutable()};function w_(t,e,r,n){var a=Object.create(oi);return a.size=t,a._head=e,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var CM;function xv(){return CM||(CM=w_(0))}var jX="@@__IMMUTABLE_SET__@@";function p1(t){return!!(t&&t[jX])}function z2(t){return p1(t)&&qi(t)}function wC(t,e){if(t===e)return!0;if(!Bn(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||yr(t)!==yr(e)||On(t)!==On(e)||qi(t)!==qi(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!vf(t);if(qi(t)){var n=t.entries();return e.every(function(c,l){var d=n.next().value;return d&&hn(d[1],c)&&(r||hn(d[0],l))})&&n.next().done}var a=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{a=!0;var s=t;t=e,e=s}var o=!0,u=e.__iterate(function(c,l){if(r?!t.has(c):a?!hn(c,t.get(l,Ht)):!hn(t.get(l,Ht),c))return o=!1,!1});return o&&t.size===u}function hl(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function TS(t){if(!t||typeof t!="object")return t;if(!Bn(t)){if(!gu(t))return t;t=qn(t)}if(yr(t)){var e={};return t.__iterate(function(n,a){e[a]=TS(n)}),e}var r=[];return t.__iterate(function(n){r.push(TS(n))}),r}var Of=function(t){function e(r){return r==null?S_():p1(r)&&!qi(r)?r:S_().withMutations(function(n){var a=t(r);ji(a.size),a.forEach(function(s){return n.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(ma(n).keySeq())},e.intersect=function(n){return n=Rr(n).toArray(),n.length?Rn.intersect.apply(e(n.pop()),n):S_()},e.union=function(n){return n=Rr(n).toArray(),n.length?Rn.union.apply(e(n.pop()),n):S_()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return Iv(this,this._map.set(n,n))},e.prototype.remove=function(n){return Iv(this,this._map.remove(n))},e.prototype.clear=function(){return Iv(this,this._map.clear())},e.prototype.map=function(n,a){var s=this,o=!1,u=Iv(this,this._map.mapEntries(function(c){var l=c[1],d=n.call(a,l,l,s);return d!==l&&(o=!0),[d,d]},a));return o?u:this},e.prototype.union=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return n=n.filter(function(s){return s.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(s){for(var o=0;o<n.length;o++)typeof n[o]=="string"?s.add(n[o]):t(n[o]).forEach(function(u){return s.add(u)})})},e.prototype.intersect=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(o){return t(o)});var s=[];return this.forEach(function(o){n.every(function(u){return u.includes(o)})||s.push(o)}),this.withMutations(function(o){s.forEach(function(u){o.remove(u)})})},e.prototype.subtract=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(o){return t(o)});var s=[];return this.forEach(function(o){n.some(function(u){return u.includes(o)})&&s.push(o)}),this.withMutations(function(o){s.forEach(function(u){o.remove(u)})})},e.prototype.sort=function(n){return Jc(Hd(this,n))},e.prototype.sortBy=function(n,a){return Jc(Hd(this,a,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,a){var s=this;return this._map.__iterate(function(o){return n(o,o,s)},a)},e.prototype.__iterator=function(n,a){return this._map.__iterator(n,a)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n);return n?this.__make(a,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=a,this)},e}(wf);Of.isSet=p1;var Rn=Of.prototype;Rn[jX]=!0;Rn[r1]=Rn.remove;Rn.merge=Rn.concat=Rn.union;Rn.withMutations=l1;Rn.asImmutable=f1;Rn["@@transducer/init"]=Rn.asMutable=d1;Rn["@@transducer/step"]=function(t,e){return t.add(e)};Rn["@@transducer/result"]=function(t){return t.asImmutable()};Rn.__empty=S_;Rn.__make=MX;function Iv(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function MX(t,e){var r=Object.create(Rn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var LM;function S_(){return LM||(LM=MX(La()))}var SC=function(t){function e(r,n,a){if(!(this instanceof e))return new e(r,n,a);if(iC(a!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),a=a===void 0?1:Math.abs(a),n<r&&(a=-a),this._start=r,this._end=n,this._step=a,this.size=Math.max(0,Math.ceil((n-r)/a-1)+1),this.size===0){if(vA)return vA;vA=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,a){return this.has(n)?this._start+mu(this,n)*this._step:a},e.prototype.includes=function(n){var a=(n-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)},e.prototype.slice=function(n,a){return n1(n,a,this.size)?this:(n=bf(n,this.size),a=i1(a,this.size),a<=n?new e(0,0):new e(this.get(n,this._end),this.get(a,this._end),this._step))},e.prototype.indexOf=function(n){var a=n-this._start;if(a%this._step===0){var s=a/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,a){for(var s=this.size,o=this._step,u=a?this._start+(s-1)*o:this._start,c=0;c!==s&&n(u,a?s-++c:c++,this)!==!1;)u+=a?-o:o;return c},e.prototype.__iterator=function(n,a){var s=this.size,o=this._step,u=a?this._start+(s-1)*o:this._start,c=0;return new Jt(function(){if(c===s)return si();var l=u;return u+=a?-o:o,xr(n,a?s-++c:c++,l)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:wC(this,n)},e}(ga),vA;function G2(t,e,r){for(var n=bX(e),a=0;a!==n.length;)if(t=V2(t,n[a++],Ht),t===Ht)return r;return t}function FX(t,e){return G2(this,t,e)}function TC(t,e){return G2(t,e,Ht)!==Ht}function wTe(t){return TC(this,t)}function BX(){ji(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}Rr.isIterable=Bn;Rr.isKeyed=yr;Rr.isIndexed=On;Rr.isAssociative=vf;Rr.isOrdered=qi;Rr.Iterator=Jt;hl(Rr,{toArray:function(){ji(this.size);var e=new Array(this.size||0),r=yr(this),n=0;return this.__iterate(function(a,s){e[n++]=r?[s,a]:a}),e},toIndexedSeq:function(){return new lX(this)},toJS:function(){return TS(this)},toKeyedSeq:function(){return new U2(this,!0)},toMap:function(){return Nu(this.toKeyedSeq())},toObject:BX,toOrderedMap:function(){return Ba(this.toKeyedSeq())},toOrderedSet:function(){return Jc(yr(this)?this.valueSeq():this)},toSet:function(){return Of(yr(this)?this.valueSeq():this)},toSetSeq:function(){return new dX(this)},toSeq:function(){return On(this)?this.toIndexedSeq():yr(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return h1(yr(this)?this.valueSeq():this)},toList:function(){return Af(yr(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return pr(this,aTe(this,e))},includes:function(e){return this.some(function(r){return hn(r,e)})},entries:function(){return this.__iterator(fa)},every:function(e,r){ji(this.size);var n=!0;return this.__iterate(function(a,s,o){if(!e.call(r,a,s,o))return n=!1,!1}),n},filter:function(e,r){return pr(this,yX(this,e,r,!0))},partition:function(e,r){return nTe(this,e,r)},find:function(e,r,n){var a=this.findEntry(e,r);return a?a[1]:n},forEach:function(e,r){return ji(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){ji(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(a){n?n=!1:r+=e,r+=a!=null?a.toString():""}),r},keys:function(){return this.__iterator(s1)},map:function(e,r){return pr(this,pX(this,e,r))},reduce:function(e,r,n){return jM(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return jM(this,e,r,n,arguments.length<2,!0)},reverse:function(){return pr(this,eC(this,!0))},slice:function(e,r){return pr(this,tC(this,e,r,!0))},some:function(e,r){ji(this.size);var n=!1;return this.__iterate(function(a,s,o){if(e.call(r,a,s,o))return n=!0,!1}),n},sort:function(e){return pr(this,Hd(this,e))},values:function(){return this.__iterator(Fa)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return Vd(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return tTe(this,e,r)},equals:function(e){return wC(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Kc(e._cache);var r=e.toSeq().map(TTe).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(wA(e),r)},findEntry:function(e,r,n){var a=n;return this.__iterate(function(s,o,u){if(e.call(r,s,o,u))return a=[o,s],!1}),a},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(YJ,null,e)},flatMap:function(e,r){return pr(this,sTe(this,e,r))},flatten:function(e){return pr(this,gX(this,e,!0))},fromEntrySeq:function(){return new fX(this)},get:function(e,r){return this.find(function(n,a){return hn(a,e)},void 0,r)},getIn:FX,groupBy:function(e,r){return rTe(this,e,r)},has:function(e){return this.get(e,Ht)!==Ht},hasIn:wTe,isSubset:function(e){return e=typeof e.includes=="function"?e:Rr(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Rr(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return hn(r,e)})},keySeq:function(){return this.toSeq().map(STe).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Ov(this,e)},maxBy:function(e,r){return Ov(this,r,e)},min:function(e){return Ov(this,e?MM(e):BM)},minBy:function(e,r){return Ov(this,r?MM(r):BM,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return pr(this,mX(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(wA(e),r)},sortBy:function(e,r){return pr(this,Hd(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return pr(this,iTe(this,e,r))},takeUntil:function(e,r){return this.takeWhile(wA(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ETe(this))}});var $n=Rr.prototype;$n[tX]=!0;$n[F2]=$n.values;$n.toJSON=$n.toArray;$n.__toStringMapper=pb;$n.inspect=$n.toSource=function(){return this.toString()};$n.chain=$n.flatMap;$n.contains=$n.includes;hl(ma,{flip:function(){return pr(this,hX(this))},mapEntries:function(e,r){var n=this,a=0;return pr(this,this.toSeq().map(function(s,o){return e.call(r,[o,s],a++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return pr(this,this.toSeq().flip().map(function(a,s){return e.call(r,a,s,n)}).flip())}});var y1=ma.prototype;y1[rX]=!0;y1[F2]=$n.entries;y1.toJSON=BX;y1.__toStringMapper=function(t,e){return pb(e)+": "+pb(t)};hl(fl,{toKeyedSeq:function(){return new U2(this,!1)},filter:function(e,r){return pr(this,yX(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return pr(this,eC(this,!1))},slice:function(e,r){return pr(this,tC(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=bf(e,e<0?this.count():this.size);var a=this.slice(0,e);return pr(this,n===1?a:a.concat(ss(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return pr(this,gX(this,e,!1))},get:function(e,r){return e=mu(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,a){return a===e},void 0,r)},has:function(e){return e=mu(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return pr(this,oTe(this,e))},interleave:function(){var e=[this].concat(ss(arguments)),r=Rv(this.toSeq(),ga.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),pr(this,n)},keySeq:function(){return SC(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return pr(this,mX(this,e,r,!1))},zip:function(){var e=[this].concat(ss(arguments));return pr(this,Rv(this,FM,e))},zipAll:function(){var e=[this].concat(ss(arguments));return pr(this,Rv(this,FM,e,!0))},zipWith:function(e){var r=ss(arguments);return r[0]=this,pr(this,Rv(this,e,r))}});var Rf=fl.prototype;Rf[nX]=!0;Rf[Sf]=!0;hl(wf,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Wd=wf.prototype;Wd.has=$n.includes;Wd.contains=Wd.includes;Wd.keys=Wd.values;hl(Iu,y1);hl(ga,Rf);hl(Ef,Wd);function jM(t,e,r,n,a,s){return ji(t.size),t.__iterate(function(o,u,c){a?(a=!1,r=o):r=e.call(n,r,o,u,c)},s),r}function STe(t,e){return e}function TTe(t,e){return[e,t]}function wA(t){return function(){return!t.apply(this,arguments)}}function MM(t){return function(){return-t.apply(this,arguments)}}function FM(){return ss(arguments)}function BM(t,e){return t<e?1:t>e?-1:0}function ETe(t){if(t.size===1/0)return 0;var e=qi(t),r=yr(t),n=e?1:0,a=t.__iterate(r?e?function(s,o){n=31*n+qM(Zn(s),Zn(o))|0}:function(s,o){n=n+qM(Zn(s),Zn(o))|0}:e?function(s){n=31*n+Zn(s)|0}:function(s){n=n+Zn(s)|0});return ATe(a,n)}function ATe(t,e){return e=Zf(e,3432918353),e=Zf(e<<15|e>>>-15,461845907),e=Zf(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Zf(e^e>>>16,2246822507),e=Zf(e^e>>>13,3266489909),e=$2(e^e>>>16),e}function qM(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var Jc=function(t){function e(r){return r==null?BP():z2(r)?r:BP().withMutations(function(n){var a=wf(r);ji(a.size),a.forEach(function(s){return n.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(ma(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Of);Jc.isOrderedSet=z2;var pl=Jc.prototype;pl[Sf]=!0;pl.zip=Rf.zip;pl.zipWith=Rf.zipWith;pl.zipAll=Rf.zipAll;pl.__empty=BP;pl.__make=qX;function qX(t,e){var r=Object.create(pl);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var $M;function BP(){return $M||($M=qX(v_()))}var $X={LeftThenRight:-1,RightThenLeft:1};function OTe(t){if(xu(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Hi(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var on=function(e,r){var n;OTe(e);var a=function(u){var c=this;if(u instanceof a)return u;if(!(this instanceof a))return new a(u);if(!n){n=!0;var l=Object.keys(e),d=s._indices={};s._name=r,s._keys=l,s._defaultValues=e;for(var f=0;f<l.length;f++){var h=l[f];d[h]=f,s[h]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+AC(this)+' with property "'+h+'" since that property name is part of the Record API.'):RTe(s,h)}}return this.__ownerID=void 0,this._values=Af().withMutations(function(p){p.setSize(c._keys.length),ma(u).forEach(function(m,y){p.set(c._indices[y],m===c._defaultValues[y]?void 0:m)})}),this},s=a.prototype=Object.create(_r);return s.constructor=a,r&&(a.displayName=r),a};on.prototype.toString=function(){for(var e=AC(this)+" { ",r=this._keys,n,a=0,s=r.length;a!==s;a++)n=r[a],e+=(a?", ":"")+n+": "+pb(this.get(n));return e+" }"};on.prototype.equals=function(e){return this===e||xu(e)&&Kd(this).equals(Kd(e))};on.prototype.hashCode=function(){return Kd(this).hashCode()};on.prototype.has=function(e){return this._indices.hasOwnProperty(e)};on.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],a=this._values.get(n);return a===void 0?this._defaultValues[e]:a};on.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return EC(this,n)}return this};on.prototype.remove=function(e){return this.set(e)};on.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:EC(this,e)};on.prototype.wasAltered=function(){return this._values.wasAltered()};on.prototype.toSeq=function(){return Kd(this)};on.prototype.toJS=function(){return TS(this)};on.prototype.entries=function(){return this.__iterator(fa)};on.prototype.__iterator=function(e,r){return Kd(this).__iterator(e,r)};on.prototype.__iterate=function(e,r){return Kd(this).__iterate(e,r)};on.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?EC(this,r,e):(this.__ownerID=e,this._values=r,this)};on.isRecord=xu;on.getDescriptiveName=AC;var _r=on.prototype;_r[aX]=!0;_r[r1]=_r.remove;_r.deleteIn=_r.removeIn=dC;_r.getIn=FX;_r.hasIn=$n.hasIn;_r.merge=wX;_r.mergeWith=SX;_r.mergeIn=pC;_r.mergeDeep=xX;_r.mergeDeepWith=IX;_r.mergeDeepIn=yC;_r.setIn=cC;_r.update=fC;_r.updateIn=hC;_r.withMutations=l1;_r.asMutable=d1;_r.asImmutable=f1;_r[F2]=_r.entries;_r.toJSON=_r.toObject=$n.toObject;_r.inspect=_r.toSource=function(){return this.toString()};function EC(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function AC(t){return t.constructor.displayName||t.constructor.name||"Record"}function Kd(t){return YD(t._keys.map(function(e){return[e,t.get(e)]}))}function RTe(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){iC(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch{}}var UX=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(SA)return SA;SA=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,a){return this.has(n)?this._value:a},e.prototype.includes=function(n){return hn(this._value,n)},e.prototype.slice=function(n,a){var s=this.size;return n1(n,a,s)?this:new e(this._value,i1(a,s)-bf(n,s))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return hn(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return hn(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,a){for(var s=this.size,o=0;o!==s&&n(this._value,a?s-++o:o++,this)!==!1;);return o},e.prototype.__iterator=function(n,a){var s=this,o=this.size,u=0;return new Jt(function(){return u===o?si():xr(n,a?o-++u:u++,s._value)})},e.prototype.equals=function(n){return n instanceof e?hn(this._value,n._value):wC(this,n)},e}(ga),SA;function kX(t,e){return VX([],e||xTe,t,"",e&&e.length>2?[]:void 0,{"":t})}function VX(t,e,r,n,a,s){if(typeof r!="string"&&!Hi(r)&&(KD(r)||WD(r)||k2(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),a&&n!==""&&a.push(n);var o=e.call(s,n,qn(r).map(function(u,c){return VX(t,e,u,c,a,r)}),a&&a.slice());return t.pop(),a&&a.pop(),o}return r}function xTe(t,e){return On(e)?e.toList():yr(e)?e.toMap():e.toSet()}var HX="4.3.6",ITe={version:HX,Collection:Rr,Iterable:Rr,Seq:qn,Map:Nu,OrderedMap:Ba,List:Af,Stack:h1,Set:Of,OrderedSet:Jc,PairSorting:$X,Record:on,Range:SC,Repeat:UX,is:hn,fromJS:kX,hash:Zn,isImmutable:Hi,isCollection:Bn,isKeyed:yr,isIndexed:On,isAssociative:vf,isOrdered:qi,isValueObject:wS,isPlainObject:k2,isSeq:a1,isList:Q2,isMap:o1,isOrderedMap:q2,isStack:bb,isSet:p1,isOrderedSet:z2,isRecord:xu,get:V2,getIn:G2,has:aC,hasIn:TC,merge:EX,mergeDeep:OX,mergeWith:AX,mergeDeepWith:RX,remove:sC,removeIn:lC,set:oC,setIn:uC,update:H2,updateIn:Pu},PTe=Rr;const NTe=Object.freeze(Object.defineProperty({__proto__:null,Collection:Rr,Iterable:PTe,List:Af,Map:Nu,OrderedMap:Ba,OrderedSet:Jc,PairSorting:$X,Range:SC,Record:on,Repeat:UX,Seq:qn,Set:Of,Stack:h1,default:ITe,fromJS:kX,get:V2,getIn:G2,has:aC,hasIn:TC,hash:Zn,is:hn,isAssociative:vf,isCollection:Bn,isImmutable:Hi,isIndexed:On,isKeyed:yr,isList:Q2,isMap:o1,isOrdered:qi,isOrderedMap:q2,isOrderedSet:z2,isPlainObject:k2,isRecord:xu,isSeq:a1,isSet:p1,isStack:bb,isValueObject:wS,merge:EX,mergeDeep:OX,mergeDeepWith:RX,mergeWith:AX,remove:sC,removeIn:lC,set:oC,setIn:uC,update:H2,updateIn:Pu,version:HX},Symbol.toStringTag,{value:"Module"})),OC=sD(NTe);Object.defineProperty(Wc,"__esModule",{value:!0});Wc.ActionContextKey=Wc.ActionContext=void 0;const UM=OC;class rd{constructor(e={}){this.map=(0,UM.Map)(e)}setDefault(e,r){return this.has(e)?this:this.set(e,r)}set(e,r){return this.setRaw(e.name,r)}setRaw(e,r){return new rd(this.map.set(e,r))}delete(e){return new rd(this.map.delete(e.name))}get(e){return this.getRaw(e.name)}getRaw(e){return this.map.get(e)}getSafe(e){if(!this.has(e))throw new Error(`Context entry ${e.name} is required but not available`);return this.get(e)}has(e){return this.hasRaw(e.name)}hasRaw(e){return this.map.has(e)}merge(...e){let r=this;for(const n of e)for(const a of n.keys())r=r.set(a,n.get(a));return r}keys(){return[...this.map.keys()].map(e=>new QX(e))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(e){return e instanceof rd?e:new rd((0,UM.Map)(e??{}))}}Wc.ActionContext=rd;class QX{constructor(e){this.name=e}}Wc.ActionContextKey=QX;var m1={};Object.defineProperty(m1,"__esModule",{value:!0});m1.Bus=void 0;class DTe{constructor(e){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,e)}subscribe(e){this.actors.push(e),this.reorderForDependencies()}subscribeObserver(e){this.observers.push(e)}unsubscribe(e){const r=this.actors.indexOf(e);return r>=0?(this.actors.splice(r,1),!0):!1}unsubscribeObserver(e){const r=this.observers.indexOf(e);return r>=0?(this.observers.splice(r,1),!0):!1}publish(e){return this.actors.map(r=>({actor:r,reply:r.test(e)}))}onRun(e,r,n){for(const a of this.observers)a.onRun(e,r,n)}addDependencies(e,r){for(const n of r){let a=this.dependencyLinks.get(n);a||(a=[],this.dependencyLinks.set(n,a)),a.push(e)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const e=[];for(const r of this.dependencyLinks.keys()){const n=this.actors.indexOf(r);n>=0&&(this.actors.splice(n,1),e.push(r))}for(;e.length>0;){let r=-1;for(let a=0;a<e.length;a++){let s=!0;for(const o of this.dependencyLinks.get(e[a]))if(!this.actors.includes(o)&&e.includes(o)){s=!1;break}if(s){r=a;break}}if(r<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const n=e.splice(r,1)[0];this.actors.push(n)}}}}m1.Bus=DTe;var W2={};Object.defineProperty(W2,"__esModule",{value:!0});W2.BusIndexed=void 0;const CTe=m1;class LTe extends CTe.Bus{constructor(e){super(e),this.actorsIndex={}}subscribe(e){const r=this.getActorIdentifier(e)||"_undefined_";let n=this.actorsIndex[r];n||(n=this.actorsIndex[r]=[]),n.push(e),super.subscribe(e)}unsubscribe(e){const r=this.getActorIdentifier(e)||"_undefined_",n=this.actorsIndex[r];if(n){const a=n.indexOf(e);a>=0&&n.splice(a,1),n.length===0&&delete this.actorsIndex[r]}return super.unsubscribe(e)}publish(e){const r=this.getActionIdentifier(e);return r?[...this.actorsIndex[r]||[],...this.actorsIndex._undefined_||[]].map(a=>({actor:a,reply:a.test(e)})):super.publish(e)}getActorIdentifier(e){return this.actorIdentifierFields.reduce((r,n)=>r[n],e)}getActionIdentifier(e){return this.actionIdentifierFields.reduce((r,n)=>r[n],e)}}W2.BusIndexed=LTe;var g1={};Object.defineProperty(g1,"__esModule",{value:!0});g1.CONTEXT_KEY_LOGGER=void 0;const jTe=Wc;g1.CONTEXT_KEY_LOGGER=new jTe.ActionContextKey("@comunica/core:log");var K2={};Object.defineProperty(K2,"__esModule",{value:!0});K2.ActionObserver=void 0;class MTe{constructor(e){Object.assign(this,e)}}K2.ActionObserver=MTe;var J2={};Object.defineProperty(J2,"__esModule",{value:!0});J2.Actor=void 0;const FTe=g1;class eu{constructor(e){this.beforeActors=[],Object.assign(this,e),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors)}static getContextLogger(e){return e.get(FTe.CONTEXT_KEY_LOGGER)}runObservable(e){const r=this.run(e);return this.bus.onRun(this,e,r),r}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(e,r){const n=r?r():{};return n.actor=this.name,n}logTrace(e,r,n){const a=eu.getContextLogger(e);a&&a.trace(r,this.getDefaultLogData(e,n))}logDebug(e,r,n){const a=eu.getContextLogger(e);a&&a.debug(r,this.getDefaultLogData(e,n))}logInfo(e,r,n){const a=eu.getContextLogger(e);a&&a.info(r,this.getDefaultLogData(e,n))}logWarn(e,r,n){const a=eu.getContextLogger(e);a&&a.warn(r,this.getDefaultLogData(e,n))}logError(e,r,n){const a=eu.getContextLogger(e);a&&a.error(r,this.getDefaultLogData(e,n))}logFatal(e,r,n){const a=eu.getContextLogger(e);a&&a.fatal(r,this.getDefaultLogData(e,n))}}J2.Actor=eu;var X2={};Object.defineProperty(X2,"__esModule",{value:!0});X2.Mediator=void 0;class BTe{constructor(e){Object.assign(this,e)}publish(e){const r=this.bus.publish(e);if(r.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return r}async mediateActor(e){return await this.mediateWith(e,this.publish(e))}async mediate(e){return(await this.mediateActor(e)).runObservable(e)}}X2.Mediator=BTe;(function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Wc,t),r(m1,t),r(W2,t),r(g1,t),r(K2,t),r(J2,t),r(X2,t)})(st);Object.defineProperty(M2,"__esModule",{value:!0});M2.ActorInit=void 0;const qTe=st;class $Te extends qTe.Actor{constructor(e){super(e)}}M2.ActorInit=$Te;(function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(M2,t)})(XJ);Object.defineProperty(t1,"__esModule",{value:!0});t1.ActorInitQueryBase=void 0;const UTe=XJ;class kTe extends UTe.ActorInit{async test(e){return!0}async run(e){throw new Error("ActorInitSparql#run is not supported in the browser.")}}t1.ActorInitQueryBase=kTe;function VTe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zX={exports:{}},Zr=zX.exports={},rs,ns;function qP(){throw new Error("setTimeout has not been defined")}function $P(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?rs=setTimeout:rs=qP}catch{rs=qP}try{typeof clearTimeout=="function"?ns=clearTimeout:ns=$P}catch{ns=$P}})();function GX(t){if(rs===setTimeout)return setTimeout(t,0);if((rs===qP||!rs)&&setTimeout)return rs=setTimeout,setTimeout(t,0);try{return rs(t,0)}catch{try{return rs.call(null,t,0)}catch{return rs.call(this,t,0)}}}function HTe(t){if(ns===clearTimeout)return clearTimeout(t);if((ns===$P||!ns)&&clearTimeout)return ns=clearTimeout,clearTimeout(t);try{return ns(t)}catch{try{return ns.call(null,t)}catch{return ns.call(this,t)}}}var ao=[],Td=!1,Pc,Nw=-1;function QTe(){!Td||!Pc||(Td=!1,Pc.length?ao=Pc.concat(ao):Nw=-1,ao.length&&WX())}function WX(){if(!Td){var t=GX(QTe);Td=!0;for(var e=ao.length;e;){for(Pc=ao,ao=[];++Nw<e;)Pc&&Pc[Nw].run();Nw=-1,e=ao.length}Pc=null,Td=!1,HTe(t)}}Zr.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ao.push(new KX(t,e)),ao.length===1&&!Td&&GX(WX)};function KX(t,e){this.fun=t,this.array=e}KX.prototype.run=function(){this.fun.apply(null,this.array)};Zr.title="browser";Zr.browser=!0;Zr.env={};Zr.argv=[];Zr.version="";Zr.versions={};function xo(){}Zr.on=xo;Zr.addListener=xo;Zr.once=xo;Zr.off=xo;Zr.removeListener=xo;Zr.removeAllListeners=xo;Zr.emit=xo;Zr.prependListener=xo;Zr.prependOnceListener=xo;Zr.listeners=function(t){return[]};Zr.binding=function(t){throw new Error("process.binding is not supported")};Zr.cwd=function(){return"/"};Zr.chdir=function(t){throw new Error("process.chdir is not supported")};Zr.umask=function(){return 0};var zTe=zX.exports;const yo=VTe(zTe);var Y2={};Object.defineProperty(Y2,"__esModule",{value:!0});Y2.ActorInitQuery=void 0;const GTe=t1;typeof yo>"u"&&(globalThis.process=Oo);class WTe extends GTe.ActorInitQueryBase{}Y2.ActorInitQuery=WTe;var Z2={},qt={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.KeysRdfJoin=dr.KeysMergeBindingsContext=dr.KeysRdfUpdateQuads=dr.KeysQuerySourceIdentify=dr.KeysRdfParseHtmlScript=dr.KeysRdfParseJsonLd=dr.KeysQueryOperation=dr.KeysInitQuery=dr.KeysHttpProxy=dr.KeysHttpMemento=dr.KeysHttpWayback=dr.KeysHttp=dr.KeysCore=void 0;const St=st;dr.KeysCore={log:St.CONTEXT_KEY_LOGGER};dr.KeysHttp={includeCredentials:new St.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new St.ActionContextKey("@comunica/bus-http:auth"),fetch:new St.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new St.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new St.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new St.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelay:new St.ActionContextKey("@comunica/bus-http:http-retry-delay"),httpRetryOnServerError:new St.ActionContextKey("@comunica/bus-http:http-retry-on-server-error")};dr.KeysHttpWayback={recoverBrokenLinks:new St.ActionContextKey("@comunica/bus-http:recover-broken-links")};dr.KeysHttpMemento={datetime:new St.ActionContextKey("@comunica/actor-http-memento:datetime")};dr.KeysHttpProxy={httpProxyHandler:new St.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")};dr.KeysInitQuery={querySourcesUnidentified:new St.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new St.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new St.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new St.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new St.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new St.ActionContextKey("@comunica/actor-init-query:queryString"),query:new St.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new St.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new St.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new St.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),extensionFunctionCreator:new St.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new St.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new St.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new St.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new St.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new St.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new St.ActionContextKey("@context"),noCache:new St.ActionContextKey("@comunica/actor-init-query:noCache")};dr.KeysQueryOperation={operation:new St.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new St.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new St.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new St.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new St.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new St.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new St.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new St.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new St.ActionContextKey("@comunica/bus-query-operation:querySources")};dr.KeysRdfParseJsonLd={documentLoader:new St.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new St.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new St.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")};dr.KeysRdfParseHtmlScript={processingHtmlScript:new St.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new St.ActionContextKey("extractAllScripts")};dr.KeysQuerySourceIdentify={sourceIds:new St.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new St.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new St.ActionContextKey("@comunica/bus-query-source-identify:traverse")};dr.KeysRdfUpdateQuads={destination:new St.ActionContextKey("@comunica/bus-rdf-update-quads:destination")};dr.KeysMergeBindingsContext={sourcesBinding:new St.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")};dr.KeysRdfJoin={lastPhysicalJoin:new St.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")};(function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(dr,t)})(qt);Object.defineProperty(Z2,"__esModule",{value:!0});Z2.QueryEngineBase=void 0;const KTe=qt,eh=st;class ES{constructor(e){this.actorInitQuery=e}async queryBindings(e,r){return this.queryOfType(e,r,"bindings")}async queryQuads(e,r){return this.queryOfType(e,r,"quads")}async queryBoolean(e,r){return this.queryOfType(e,r,"boolean")}async queryVoid(e,r){return this.queryOfType(e,r,"void")}async queryOfType(e,r,n){const a=await this.query(e,r);if(a.resultType===n)return await a.execute();throw new Error(`Query result type '${n}' was expected, while '${a.resultType}' was found.`)}async query(e,r){const n=await this.queryOrExplain(e,r);if("explain"in n)throw new Error("Tried to explain a query when in query-only mode");return n}async explain(e,r,n){return r.explain=n,await this.queryOrExplain(e,r)}async queryOrExplain(e,r){const n=eh.ActionContext.ensureActionContext(r);n.get(KTe.KeysInitQuery.noCache)&&await this.invalidateHttpCache();const{result:a}=await this.actorInitQuery.mediatorQueryProcess.mediate({query:e,context:n});return"explain"in a?a:ES.internalToFinalResult(a)}async getResultMediaTypes(e){return e=eh.ActionContext.ensureActionContext(e),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(e){return e=eh.ActionContext.ensureActionContext(e),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:e,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(e,r,n){if(n=eh.ActionContext.ensureActionContext(n),!r)switch(e.resultType){case"bindings":r="application/json";break;case"quads":r="application/trig";break;default:r="simple";break}const a={...await ES.finalToInternalResult(e),context:n};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:n,handle:a,handleMediaType:r})).handle}invalidateHttpCache(e,r){return r=eh.ActionContext.ensureActionContext(r),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:e,context:r})}static internalToFinalResult(e){switch(e.type){case"bindings":return{resultType:"bindings",execute:async()=>e.bindingsStream,metadata:async()=>await e.metadata(),context:e.context};case"quads":return{resultType:"quads",execute:async()=>e.quadStream,metadata:async()=>await e.metadata(),context:e.context};case"boolean":return{resultType:"boolean",execute:async()=>e.execute(),context:e.context};case"void":return{resultType:"void",execute:async()=>e.execute(),context:e.context}}}static async finalToInternalResult(e){switch(e.resultType){case"bindings":return{type:"bindings",bindingsStream:await e.execute(),metadata:async()=>await e.metadata()};case"quads":return{type:"quads",quadStream:await e.execute(),metadata:async()=>await e.metadata()};case"boolean":return{type:"boolean",execute:()=>e.execute()};case"void":return{type:"void",execute:()=>e.execute()}}}}Z2.QueryEngineBase=ES;(function(t){var e=I&&I.__createBinding||(Object.create?function(a,s,o,u){u===void 0&&(u=o);var c=Object.getOwnPropertyDescriptor(s,o);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(a,u,c)}:function(a,s,o,u){u===void 0&&(u=o),a[u]=s[o]}),r=I&&I.__exportStar||function(a,s){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,a,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryEngineBase=void 0,r(t1,t),r(Y2,t);var n=Z2;Object.defineProperty(t,"QueryEngineBase",{enumerable:!0,get:function(){return n.QueryEngineBase}})})(zD);var TA={},th={},EA={},AA={},kM;function JTe(){return kM||(kM=1,Object.defineProperty(AA,"__esModule",{value:!0})),AA}var OA={},VM;function XTe(){return VM||(VM=1,Object.defineProperty(OA,"__esModule",{value:!0})),OA}var RA={},HM;function YTe(){return HM||(HM=1,Object.defineProperty(RA,"__esModule",{value:!0})),RA}var xA={},QM;function ZTe(){return QM||(QM=1,Object.defineProperty(xA,"__esModule",{value:!0})),xA}var IA={},zM;function eEe(){return zM||(zM=1,Object.defineProperty(IA,"__esModule",{value:!0})),IA}var PA={},GM;function tEe(){return GM||(GM=1,Object.defineProperty(PA,"__esModule",{value:!0})),PA}var NA={},WM;function rEe(){return WM||(WM=1,Object.defineProperty(NA,"__esModule",{value:!0})),NA}var DA={},KM;function nEe(){return KM||(KM=1,Object.defineProperty(DA,"__esModule",{value:!0})),DA}var CA={},JM;function iEe(){return JM||(JM=1,Object.defineProperty(CA,"__esModule",{value:!0})),CA}var LA={},XM;function aEe(){return XM||(XM=1,Object.defineProperty(LA,"__esModule",{value:!0})),LA}var jA={},YM;function sEe(){return YM||(YM=1,Object.defineProperty(jA,"__esModule",{value:!0})),jA}var MA={},ZM;function oEe(){return ZM||(ZM=1,Object.defineProperty(MA,"__esModule",{value:!0})),MA}var FA={},e8;function uEe(){return e8||(e8=1,Object.defineProperty(FA,"__esModule",{value:!0})),FA}var rh={},t8;function cEe(){if(t8)return rh;t8=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.Logger=void 0;let t=class JX{static getLevelOrdinal(r){return JX.LEVELS[r]}};return rh.Logger=t,t.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},rh}var r8;function lEe(){return r8||(r8=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(JTe(),t),r(XTe(),t),r(YTe(),t),r(ZTe(),t),r(eEe(),t),r(tEe(),t),r(rEe(),t),r(nEe(),t),r(iEe(),t),r(aEe(),t),r(sEe(),t),r(oEe(),t),r(uEe(),t),r(cEe(),t)}(EA)),EA}var n8;function dEe(){if(n8)return th;n8=1,Object.defineProperty(th,"__esModule",{value:!0}),th.LoggerVoid=void 0;const t=lEe();let e=class extends t.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}};return th.LoggerVoid=e,th}var i8;function fEe(){return i8||(i8=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(dEe(),t)}(TA)),TA}var BA={},nh={},qA={},ih={},a8;function hEe(){if(a8)return ih;a8=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.BlankNodeScoped=void 0;let t=class{constructor(r,n){this.termType="BlankNode",this.value=r,this.skolemized=n}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}};return ih.BlankNodeScoped=t,ih}var ah={},s8;function pEe(){if(s8)return ah;s8=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.BlankNodeBindingsScoped=void 0;let t=class{constructor(r){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}};return ah.BlankNodeBindingsScoped=t,ah}var o8;function RC(){return o8||(o8=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(hEe(),t),r(pEe(),t)}(qA)),qA}var Ku={},nr={},Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.stringQuadToQuad=Mn.quadToStringQuad=Mn.stringToTerm=Mn.getLiteralLanguage=Mn.getLiteralType=Mn.getLiteralValue=Mn.termToString=void 0;const yEe=Ot,XX=new yEe.DataFactory;function so(t){if(t)switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const e=t;return'"'+e.value+'"'+(e.datatype&&e.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&e.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+e.datatype.value:"")+(e.language?"@"+e.language:"");case"Quad":return`<<${so(t.subject)} ${so(t.predicate)} ${so(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+so(t.graph)}>>`;case"Variable":return"?"+t.value;case"DefaultGraph":return t.value}}Mn.termToString=so;function YX(t){const e=/^"([^]*)"/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]}Mn.getLiteralValue=YX;function ZX(t){const e=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]||(e[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Mn.getLiteralType=ZX;function eY(t){const e=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]?e[1].toLowerCase():""}Mn.getLiteralLanguage=eY;function oo(t,e){if(e=e||XX,!t||!t.length)return e.defaultGraph();switch(t[0]){case"_":return e.blankNode(t.substr(2));case"?":if(!e.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return e.variable(t.substr(1));case'"':const r=eY(t),n=e.namedNode(ZX(t));return e.literal(YX(t),r||n);case"<":default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const a=t.slice(2,-2).trim();let s=[],o=0,u=0,c=!1;for(let l=0;l<a.length;l++){const d=a[l];if(d==="<"&&o++,d===">"){if(o===0)throw new Error("Found closing tag without opening tag in "+t);o--}if(d==='"'){let f=!1,h=l;for(;h-- >0&&a[h]==="\\";)f=!f;f||(c=!c)}if(d===" "&&!c&&o===0){for(s.push(a.slice(u,l));a[l+1]===" ";)l+=1;u=l+1}}if(o!==0)throw new Error("Found opening tag without closing tag in "+t);if(s.push(a.slice(u,a.length)),s.length!==3&&s.length!==4)throw new Error("Nested quad syntax error "+t);return s=s.map(l=>l.startsWith("<")&&!l.includes(" ")?l.slice(1,-1):l),e.quad(oo(s[0]),oo(s[1]),oo(s[2]),s[3]?oo(s[3]):void 0)}return e.namedNode(t)}}Mn.stringToTerm=oo;function mEe(t){return{subject:so(t.subject),predicate:so(t.predicate),object:so(t.object),graph:so(t.graph)}}Mn.quadToStringQuad=mEe;function gEe(t,e){return e=e||XX,e.quad(oo(t.subject,e),oo(t.predicate,e),oo(t.object,e),oo(t.graph,e))}Mn.stringQuadToQuad=gEe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=Mn;Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(nr);var $A={},mt={},u8;function tY(){if(u8)return mt;u8=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.matchPatternMappings=mt.matchPatternComplete=mt.matchPattern=mt.matchTerm=mt.getValueNestedPath=mt.someTermsNested=mt.someTerms=mt.everyTermsNested=mt.everyTerms=mt.reduceTermsNested=mt.reduceTerms=mt.mapTermsNested=mt.mapTerms=mt.filterQuadTermNamesNested=mt.filterQuadTermNames=mt.filterTermsNested=mt.filterTerms=mt.forEachTermsNested=mt.forEachTerms=mt.collectNamedTerms=mt.getNamedTerms=mt.getTermsNested=mt.getTerms=mt.TRIPLE_TERM_NAMES=mt.QUAD_TERM_NAMES=void 0;const t=Ot,e=new t.DataFactory;mt.QUAD_TERM_NAMES=["subject","predicate","object","graph"],mt.TRIPLE_TERM_NAMES=["subject","predicate","object"];function r(x,P){return P&&x.graph.termType==="DefaultGraph"?[x.subject,x.predicate,x.object]:[x.subject,x.predicate,x.object,x.graph]}mt.getTerms=r;function n(x,P){const j=[];for(const N of r(x,P))N.termType==="Quad"?n(N,P).forEach(V=>j.push(V)):j.push(N);return j}mt.getTermsNested=n;function a(x){return[{key:"subject",value:x.subject},{key:"predicate",value:x.predicate},{key:"object",value:x.object},{key:"graph",value:x.graph}]}mt.getNamedTerms=a;function s(x,P,j){const N={};return x.forEach(V=>N[V.key]=V.value),P&&(N.subject=N.subject||P("subject"),N.predicate=N.predicate||P("predicate"),N.object=N.object||P("object"),N.graph=N.graph||P("graph")),(j||e).quad(N.subject,N.predicate,N.object,N.graph)}mt.collectNamedTerms=s;function o(x,P){P(x.subject,"subject"),P(x.predicate,"predicate"),P(x.object,"object"),P(x.graph,"graph")}mt.forEachTerms=o;function u(x,P,j=[]){x.subject.termType==="Quad"?u(x.subject,P,[...j,"subject"]):P(x.subject,[...j,"subject"]),x.predicate.termType==="Quad"?u(x.predicate,P,[...j,"predicate"]):P(x.predicate,[...j,"predicate"]),x.object.termType==="Quad"?u(x.object,P,[...j,"object"]):P(x.object,[...j,"object"]),x.graph.termType==="Quad"?u(x.graph,P,[...j,"graph"]):P(x.graph,[...j,"graph"])}mt.forEachTermsNested=u;function c(x,P){const j=[];return P(x.subject,"subject")&&j.push(x.subject),P(x.predicate,"predicate")&&j.push(x.predicate),P(x.object,"object")&&j.push(x.object),P(x.graph,"graph")&&j.push(x.graph),j}mt.filterTerms=c;function l(x,P,j=[]){let N=[];return x.subject.termType==="Quad"?N=[...N,...l(x.subject,P,[...j,"subject"])]:P(x.subject,[...j,"subject"])&&N.push(x.subject),x.predicate.termType==="Quad"?N=[...N,...l(x.predicate,P,[...j,"predicate"])]:P(x.predicate,[...j,"predicate"])&&N.push(x.predicate),x.object.termType==="Quad"?N=[...N,...l(x.object,P,[...j,"object"])]:P(x.object,[...j,"object"])&&N.push(x.object),x.graph.termType==="Quad"?N=[...N,...l(x.graph,P,[...j,"graph"])]:P(x.graph,[...j,"graph"])&&N.push(x.graph),N}mt.filterTermsNested=l;function d(x,P){const j=[];return P(x.subject,"subject")&&j.push("subject"),P(x.predicate,"predicate")&&j.push("predicate"),P(x.object,"object")&&j.push("object"),P(x.graph,"graph")&&j.push("graph"),j}mt.filterQuadTermNames=d;function f(x,P,j=[]){let N=[];const V=[...j,"subject"];x.subject.termType==="Quad"?N=[...N,...f(x.subject,P,V)]:P(x.subject,V)&&N.push(V);const $=[...j,"predicate"];x.predicate.termType==="Quad"?N=[...N,...f(x.predicate,P,$)]:P(x.predicate,$)&&N.push($);const q=[...j,"object"];x.object.termType==="Quad"?N=[...N,...f(x.object,P,q)]:P(x.object,q)&&N.push(q);const H=[...j,"graph"];return x.graph.termType==="Quad"?N=[...N,...f(x.graph,P,H)]:P(x.graph,H)&&N.push(H),N}mt.filterQuadTermNamesNested=f;function h(x,P,j){return(j||e).quad(P(x.subject,"subject"),P(x.predicate,"predicate"),P(x.object,"object"),P(x.graph,"graph"))}mt.mapTerms=h;function p(x,P,j,N=[]){return(j||e).quad(x.subject.termType==="Quad"?p(x.subject,P,j,[...N,"subject"]):P(x.subject,[...N,"subject"]),x.predicate.termType==="Quad"?p(x.predicate,P,j,[...N,"predicate"]):P(x.predicate,[...N,"predicate"]),x.object.termType==="Quad"?p(x.object,P,j,[...N,"object"]):P(x.object,[...N,"object"]),x.graph.termType==="Quad"?p(x.graph,P,j,[...N,"graph"]):P(x.graph,[...N,"graph"]))}mt.mapTermsNested=p;function m(x,P,j){let N=j;return N=P(N,x.subject,"subject"),N=P(N,x.predicate,"predicate"),N=P(N,x.object,"object"),P(N,x.graph,"graph")}mt.reduceTerms=m;function y(x,P,j,N=[]){let V=j;return x.subject.termType==="Quad"?V=y(x.subject,P,V,[...N,"subject"]):V=P(V,x.subject,[...N,"subject"]),x.predicate.termType==="Quad"?V=y(x.predicate,P,V,[...N,"predicate"]):V=P(V,x.predicate,[...N,"predicate"]),x.object.termType==="Quad"?V=y(x.object,P,V,[...N,"object"]):V=P(V,x.object,[...N,"object"]),x.graph.termType==="Quad"?V=y(x.graph,P,V,[...N,"graph"]):V=P(V,x.graph,[...N,"graph"]),V}mt.reduceTermsNested=y;function g(x,P){return P(x.subject,"subject")&&P(x.predicate,"predicate")&&P(x.object,"object")&&P(x.graph,"graph")}mt.everyTerms=g;function b(x,P,j=[]){return(x.subject.termType==="Quad"?b(x.subject,P,[...j,"subject"]):P(x.subject,[...j,"subject"]))&&(x.predicate.termType==="Quad"?b(x.predicate,P,[...j,"predicate"]):P(x.predicate,[...j,"predicate"]))&&(x.object.termType==="Quad"?b(x.object,P,[...j,"object"]):P(x.object,[...j,"object"]))&&(x.graph.termType==="Quad"?b(x.graph,P,[...j,"graph"]):P(x.graph,[...j,"graph"]))}mt.everyTermsNested=b;function v(x,P){return P(x.subject,"subject")||P(x.predicate,"predicate")||P(x.object,"object")||P(x.graph,"graph")}mt.someTerms=v;function _(x,P,j=[]){return(x.subject.termType==="Quad"?_(x.subject,P,[...j,"subject"]):P(x.subject,[...j,"subject"]))||(x.predicate.termType==="Quad"?_(x.predicate,P,[...j,"predicate"]):P(x.predicate,[...j,"predicate"]))||(x.object.termType==="Quad"?_(x.object,P,[...j,"object"]):P(x.object,[...j,"object"]))||(x.graph.termType==="Quad"?_(x.graph,P,[...j,"graph"]):P(x.graph,[...j,"graph"]))}mt.someTermsNested=_;function w(x,P){if(P.length===0)return x;if(x.termType==="Quad")return w(x[P[0]],P.slice(1));throw new Error(`Tried to get ${P[0]} from term of type ${x.termType}`)}mt.getValueNestedPath=w;function E(x,P){return!P||P.termType==="Variable"||P.termType==="Quad"&&x.termType==="Quad"&&L(x,P)||P.equals(x)}mt.matchTerm=E;function O(x,P,j,N,V){return E(x.subject,P)&&E(x.predicate,j)&&E(x.object,N)&&E(x.graph,V)}mt.matchPattern=O;function L(x,P){return O(x,P.subject,P.predicate,P.object,P.graph)}mt.matchPatternComplete=L;function F(x,P,j={}){const N={};function V($,q){return g($,(H,X)=>{var Y,he;const Te=q[X];switch(H.termType){case"Variable":return j.skipVarMapping&&Te.termType==="Variable"||((he=(Y=N[H.value])===null||Y===void 0?void 0:Y.equals(Te))!==null&&he!==void 0?he:(N[H.value]=Te,!0));case"Quad":return Te.termType==="Quad"&&V(H,Te);default:return H.equals(Te)}})}return V(P,x)&&(j.returnMappings?N:!0)}return mt.matchPatternMappings=F,mt}var Gr={},c8;function _Ee(){if(c8)return Gr;c8=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.getQuads=Gr.getDefaultGraphs=Gr.getVariables=Gr.getLiterals=Gr.getBlankNodes=Gr.getNamedNodes=Gr.getTermsOfType=Gr.uniqTerms=Gr.TERM_TYPES=void 0;const t=nr;Gr.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function e(l){const d={};return l.filter(f=>{const h=(0,t.termToString)(f);return!(h in d)&&(d[h]=!0)})}Gr.uniqTerms=e;function r(l,d){return l.filter(f=>f.termType===d)}Gr.getTermsOfType=r;function n(l){return r(l,"NamedNode")}Gr.getNamedNodes=n;function a(l){return r(l,"BlankNode")}Gr.getBlankNodes=a;function s(l){return r(l,"Literal")}Gr.getLiterals=s;function o(l){return r(l,"Variable")}Gr.getVariables=o;function u(l){return r(l,"DefaultGraph")}Gr.getDefaultGraphs=u;function c(l){return r(l,"Quad")}return Gr.getQuads=c,Gr}var l8;function Pn(){return l8||(l8=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(tY(),t),r(_Ee(),t)}($A)),$A}var UA={},Pv={},kA,d8;function bEe(){return d8||(d8=1,kA=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(a of e.entries())if(!r.has(a[0]))return!1;for(a of e.entries())if(!t(a[1],r.get(a[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(a of e.entries())if(!r.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(e[a]!==r[a])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var o=s[a];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),kA}var VA={},f8;function _1(){return f8||(f8=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.expressionTypes=t.types=void 0,function(e){e.ALT="alt",e.ASK="ask",e.BGP="bgp",e.CONSTRUCT="construct",e.DESCRIBE="describe",e.DISTINCT="distinct",e.EXPRESSION="expression",e.EXTEND="extend",e.FILTER="filter",e.FROM="from",e.GRAPH="graph",e.GROUP="group",e.INV="inv",e.JOIN="join",e.LEFT_JOIN="leftjoin",e.LINK="link",e.MINUS="minus",e.NOP="nop",e.NPS="nps",e.ONE_OR_MORE_PATH="OneOrMorePath",e.ORDER_BY="orderby",e.PATH="path",e.PATTERN="pattern",e.PROJECT="project",e.REDUCED="reduced",e.SEQ="seq",e.SERVICE="service",e.SLICE="slice",e.UNION="union",e.VALUES="values",e.ZERO_OR_MORE_PATH="ZeroOrMorePath",e.ZERO_OR_ONE_PATH="ZeroOrOnePath",e.COMPOSITE_UPDATE="compositeupdate",e.DELETE_INSERT="deleteinsert",e.LOAD="load",e.CLEAR="clear",e.CREATE="create",e.DROP="drop",e.ADD="add",e.MOVE="move",e.COPY="copy"}(t.types||(t.types={})),function(e){e.AGGREGATE="aggregate",e.EXISTENCE="existence",e.NAMED="named",e.OPERATOR="operator",e.TERM="term",e.WILDCARD="wildcard"}(t.expressionTypes||(t.expressionTypes={}))}(VA)),VA}var Nv={},h8;function eT(){if(h8)return Nv;h8=1;var t=I&&I.__createBinding||(Object.create?function(c,l,d,f){f===void 0&&(f=d);var h=Object.getOwnPropertyDescriptor(l,d);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(c,f,h)}:function(c,l,d,f){f===void 0&&(f=d),c[f]=l[d]}),e=I&&I.__setModuleDefault||(Object.create?function(c,l){Object.defineProperty(c,"default",{enumerable:!0,value:l})}:function(c,l){c.default=l}),r=I&&I.__importStar||function(c){if(c&&c.__esModule)return c;var l={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&t(l,c,d);return e(l,c),l};Object.defineProperty(Nv,"__esModule",{value:!0});const n=r(_1()),a=Ot,s=nr,o=ol;class u{constructor(l){this.dataFactory=l||new a.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(l,d=!0){return this.flattenMulti({type:n.types.ALT,input:l},d)}createAsk(l){return{type:n.types.ASK,input:l}}createBoundAggregate(l,d,f,h,p){const m=this.createAggregateExpression(d,f,h,p);return m.variable=l,m}createBgp(l){return{type:n.types.BGP,patterns:l}}createConstruct(l,d){return{type:n.types.CONSTRUCT,input:l,template:d}}createDescribe(l,d){return{type:n.types.DESCRIBE,input:l,terms:d}}createDistinct(l){return{type:n.types.DISTINCT,input:l}}createExtend(l,d,f){return{type:n.types.EXTEND,input:l,variable:d,expression:f}}createFrom(l,d,f){return{type:n.types.FROM,input:l,default:d,named:f}}createFilter(l,d){return{type:n.types.FILTER,input:l,expression:d}}createGraph(l,d){return{type:n.types.GRAPH,input:l,name:d}}createGroup(l,d,f){return{type:n.types.GROUP,input:l,variables:d,aggregates:f}}createInv(l){return{type:n.types.INV,path:l}}createJoin(l,d=!0){return this.flattenMulti({type:n.types.JOIN,input:l},d)}createLeftJoin(l,d,f){return f?{type:n.types.LEFT_JOIN,input:[l,d],expression:f}:{type:n.types.LEFT_JOIN,input:[l,d]}}createLink(l){return{type:n.types.LINK,iri:l}}createMinus(l,d){return{type:n.types.MINUS,input:[l,d]}}createNop(){return{type:n.types.NOP}}createNps(l){return{type:n.types.NPS,iris:l}}createOneOrMorePath(l){return{type:n.types.ONE_OR_MORE_PATH,path:l}}createOrderBy(l,d){return{type:n.types.ORDER_BY,input:l,expressions:d}}createPath(l,d,f,h){return h?{type:n.types.PATH,subject:l,predicate:d,object:f,graph:h}:{type:n.types.PATH,subject:l,predicate:d,object:f,graph:this.dataFactory.defaultGraph()}}createPattern(l,d,f,h){const p=this.dataFactory.quad(l,d,f,h);return p.type=n.types.PATTERN,p}createProject(l,d){return{type:n.types.PROJECT,input:l,variables:d}}createReduced(l){return{type:n.types.REDUCED,input:l}}createSeq(l,d=!0){return this.flattenMulti({type:n.types.SEQ,input:l},d)}createService(l,d,f){return{type:n.types.SERVICE,input:l,name:d,silent:!!f}}createSlice(l,d,f){return d=d||0,f!==void 0?{type:n.types.SLICE,input:l,start:d,length:f}:{type:n.types.SLICE,input:l,start:d}}createUnion(l,d=!0){return this.flattenMulti({type:n.types.UNION,input:l},d)}createValues(l,d){return{type:n.types.VALUES,variables:l,bindings:d}}createZeroOrMorePath(l){return{type:n.types.ZERO_OR_MORE_PATH,path:l}}createZeroOrOnePath(l){return{type:n.types.ZERO_OR_ONE_PATH,path:l}}createAggregateExpression(l,d,f,h){return h?{type:n.types.EXPRESSION,expressionType:n.expressionTypes.AGGREGATE,aggregator:l,expression:d,separator:h,distinct:f}:{type:n.types.EXPRESSION,expressionType:n.expressionTypes.AGGREGATE,aggregator:l,expression:d,distinct:f}}createExistenceExpression(l,d){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.EXISTENCE,not:l,input:d}}createNamedExpression(l,d){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.NAMED,name:l,args:d}}createOperatorExpression(l,d){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.OPERATOR,operator:l,args:d}}createTermExpression(l){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.TERM,term:l}}createWildcardExpression(){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.WILDCARD,wildcard:new o.Wildcard}}createTerm(l){return l[0]==="$"&&(l=l.replace("$","?")),(0,s.stringToTerm)(l,this.dataFactory)}createCompositeUpdate(l){return{type:n.types.COMPOSITE_UPDATE,updates:l}}createDeleteInsert(l,d,f){const h={type:n.types.DELETE_INSERT};return l&&(h.delete=l),d&&(h.insert=d),f&&(h.where=f),h}createLoad(l,d,f){const h={type:n.types.LOAD,source:l};return d&&(h.destination=d),this.addSilent(h,!!f)}createClear(l,d){return this.addSilent({type:n.types.CLEAR,source:l},!!d)}createCreate(l,d){return this.addSilent({type:n.types.CREATE,source:l},!!d)}createDrop(l,d){return this.addSilent({type:n.types.DROP,source:l},!!d)}createAdd(l,d,f){return this.addSilent({type:n.types.ADD,source:l,destination:d},!!f)}createMove(l,d,f){return this.addSilent({type:n.types.MOVE,source:l,destination:d},!!f)}createCopy(l,d,f){return this.addSilent({type:n.types.COPY,source:l,destination:d},!!f)}addSilent(l,d){return d&&(l.silent=d),l}flattenMulti(l,d){if(!d)return l;const f=l.type,h=l.input;let p=[];for(const m of h)m.type===f?p.push(...m.input):p.push(m);return l.input=p,l}}return Nv.default=u,Nv}var Dv={},p8;function xC(){if(p8)return Dv;p8=1;var t=I&&I.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Dv,"__esModule",{value:!0});const e=_1(),r=t(eT()),n=Pn();class a{static flatten(o){return Array.prototype.concat(...o).filter(u=>u)}static objectify(o){if(o.termType){if(o.termType==="Quad")return{type:"pattern",termType:"Quad",subject:a.objectify(o.subject),predicate:a.objectify(o.predicate),object:a.objectify(o.object),graph:a.objectify(o.graph)};{let u={termType:o.termType,value:o.value};return o.language&&(u.language=o.language),o.datatype&&(u.datatype=a.objectify(o.datatype)),u}}if(Array.isArray(o))return o.map(u=>a.objectify(u));if(o===Object(o)){let u={};for(let c of Object.keys(o))u[c]=a.objectify(o[c]);return u}return o}static inScopeVariables(o){const u=[];function c(d){u.find(f=>d.value===f.value)||u.push(d)}function l(d){d.subject.termType==="Variable"&&c(d.subject),d.predicate.termType==="Variable"&&c(d.predicate),d.object.termType==="Variable"&&c(d.object),d.graph.termType==="Variable"&&c(d.graph),d.subject.termType==="Quad"&&l(d.subject),d.predicate.termType==="Quad"&&l(d.predicate),d.object.termType==="Quad"&&l(d.object),d.graph.termType==="Quad"&&l(d.graph)}return a.recurseOperation(o,{[e.types.EXPRESSION]:d=>(d.expressionType===e.expressionTypes.AGGREGATE&&d.variable&&c(d.variable),!0),[e.types.EXTEND]:d=>(c(d.variable),!0),[e.types.GRAPH]:d=>(d.name.termType==="Variable"&&c(d.name),!0),[e.types.GROUP]:d=>(d.variables.forEach(c),!0),[e.types.PATH]:d=>(d.subject.termType==="Variable"&&c(d.subject),d.object.termType==="Variable"&&c(d.object),d.graph.termType==="Variable"&&c(d.graph),d.subject.termType==="Quad"&&l(d.subject),d.object.termType==="Quad"&&l(d.object),d.graph.termType==="Quad"&&l(d.graph),!0),[e.types.PATTERN]:d=>(l(d),!0),[e.types.PROJECT]:d=>(d.variables.forEach(c),!1),[e.types.SERVICE]:d=>(d.name.termType==="Variable"&&c(d.name),!0),[e.types.VALUES]:d=>(d.variables.forEach(c),!0)}),u}static recurseOperation(o,u){let c=o,l=!0;const d=u[o.type];if(d&&(l=d(o)),!l)return;let f=h=>a.recurseOperation(h,u);switch(c.type){case e.types.ALT:c.input.map(f);break;case e.types.ASK:f(c.input);break;case e.types.BGP:c.patterns.forEach(f);break;case e.types.CONSTRUCT:f(c.input),c.template.map(f);break;case e.types.DESCRIBE:f(c.input);break;case e.types.DISTINCT:f(c.input);break;case e.types.EXPRESSION:c.expressionType===e.expressionTypes.EXISTENCE&&f(c.input);break;case e.types.EXTEND:f(c.input),f(c.expression);break;case e.types.FILTER:f(c.input),f(c.expression);break;case e.types.FROM:f(c.input);break;case e.types.GRAPH:f(c.input);break;case e.types.GROUP:f(c.input),c.aggregates.forEach(f);break;case e.types.INV:f(c.path);break;case e.types.JOIN:c.input.map(f);break;case e.types.LEFT_JOIN:c.input.map(f),c.expression&&f(c.expression);break;case e.types.LINK:break;case e.types.MINUS:c.input.map(f);break;case e.types.NOP:break;case e.types.NPS:break;case e.types.ONE_OR_MORE_PATH:f(c.path);break;case e.types.ORDER_BY:f(c.input),c.expressions.forEach(f);break;case e.types.PATH:f(c.predicate);break;case e.types.PATTERN:break;case e.types.PROJECT:f(c.input);break;case e.types.REDUCED:f(c.input);break;case e.types.SEQ:c.input.map(f);break;case e.types.SERVICE:f(c.input);break;case e.types.SLICE:f(c.input);break;case e.types.UNION:c.input.map(f);break;case e.types.VALUES:break;case e.types.ZERO_OR_MORE_PATH:f(c.path);break;case e.types.ZERO_OR_ONE_PATH:f(c.path);break;case e.types.COMPOSITE_UPDATE:c.updates.forEach(h=>f(h));break;case e.types.DELETE_INSERT:c.delete&&c.delete.forEach(h=>f(h)),c.insert&&c.insert.forEach(h=>f(h)),c.where&&f(c.where);break;case e.types.LOAD:break;case e.types.CLEAR:break;case e.types.CREATE:break;case e.types.DROP:break;case e.types.ADD:break;case e.types.MOVE:break;case e.types.COPY:break;default:throw new Error(`Unknown Operation type ${c.type}`)}}static mapOperation(o,u,c){let l=o,d=!0,f=!0;c=c||new r.default;const h=u[o.type];if(h){const y=h(o,c);l=y.result,d=y.recurse,f=y.copyMetadata!==!1}let p;if(f&&(l.metadata||o.metadata)&&(p={...l.metadata,...o.metadata}),!d)return p&&(l.metadata=p),l;let m=y=>a.mapOperation(y,u,c);switch(l.type){case e.types.ALT:l=c.createAlt(l.input.map(m));break;case e.types.ASK:l=c.createAsk(m(l.input));break;case e.types.BGP:l=c.createBgp(l.patterns.map(m));break;case e.types.CONSTRUCT:l=c.createConstruct(m(l.input),l.template.map(m));break;case e.types.DESCRIBE:l=c.createDescribe(m(l.input),l.terms);break;case e.types.DISTINCT:l=c.createDistinct(m(l.input));break;case e.types.EXPRESSION:l=a.mapExpression(l,u,c);break;case e.types.EXTEND:l=c.createExtend(m(l.input),l.variable,m(l.expression));break;case e.types.FILTER:l=c.createFilter(m(l.input),m(l.expression));break;case e.types.FROM:l=c.createFrom(m(l.input),[...l.default],[...l.named]);break;case e.types.GRAPH:l=c.createGraph(m(l.input),l.name);break;case e.types.GROUP:l=c.createGroup(m(l.input),[].concat(l.variables),l.aggregates.map(m));break;case e.types.INV:l=c.createInv(m(l.path));break;case e.types.JOIN:l=c.createJoin(l.input.map(m));break;case e.types.LEFT_JOIN:l=c.createLeftJoin(m(l.input[0]),m(l.input[1]),l.expression?m(l.expression):void 0);break;case e.types.LINK:l=c.createLink(l.iri);break;case e.types.MINUS:l=c.createMinus(m(l.input[0]),m(l.input[1]));break;case e.types.NOP:l=c.createNop();break;case e.types.NPS:l=c.createNps([].concat(l.iris));break;case e.types.ONE_OR_MORE_PATH:l=c.createOneOrMorePath(m(l.path));break;case e.types.ORDER_BY:l=c.createOrderBy(m(l.input),l.expressions.map(m));break;case e.types.PATH:l=c.createPath(l.subject,m(l.predicate),l.object,l.graph);break;case e.types.PATTERN:l=c.createPattern(l.subject,l.predicate,l.object,l.graph);break;case e.types.PROJECT:l=c.createProject(m(l.input),[...l.variables]);break;case e.types.REDUCED:l=c.createReduced(m(l.input));break;case e.types.SEQ:l=c.createSeq(l.input.map(m));break;case e.types.SERVICE:l=c.createService(m(l.input),l.name,l.silent);break;case e.types.SLICE:l=c.createSlice(m(l.input),l.start,l.length);break;case e.types.UNION:l=c.createUnion(l.input.map(m));break;case e.types.VALUES:l=c.createValues([].concat(l.variables),l.bindings.map(y=>Object.assign({},y)));break;case e.types.ZERO_OR_MORE_PATH:l=c.createZeroOrMorePath(m(l.path));break;case e.types.ZERO_OR_ONE_PATH:l=c.createZeroOrOnePath(m(l.path));break;case e.types.COMPOSITE_UPDATE:l=c.createCompositeUpdate(l.updates.map(m));break;case e.types.DELETE_INSERT:l=c.createDeleteInsert(l.delete?l.delete.map(m):void 0,l.insert?l.insert.map(m):void 0,l.where?m(l.where):void 0);break;case e.types.LOAD:l=c.createLoad(l.source,l.destination,l.silent);break;case e.types.CLEAR:l=c.createClear(l.source,l.silent);break;case e.types.CREATE:l=c.createCreate(l.source,l.silent);break;case e.types.DROP:l=c.createDrop(l.source,l.silent);break;case e.types.ADD:l=c.createAdd(l.source,l.destination);break;case e.types.MOVE:l=c.createMove(l.source,l.destination);break;case e.types.COPY:l=c.createCopy(l.source,l.destination);break;default:throw new Error(`Unknown Operation type ${l.type}`)}return p&&(l.metadata=p),l}static mapExpression(o,u,c){let l=o,d=!0;c=c||new r.default;const f=u[o.expressionType];if(f&&({result:l,recurse:d}=f(o,c)),!d)return l;let h=p=>a.mapOperation(p,u,c);switch(o.expressionType){case e.expressionTypes.AGGREGATE:return o.variable?c.createBoundAggregate(o.variable,o.aggregator,h(o.expression),o.distinct,o.separator):c.createAggregateExpression(o.aggregator,h(o.expression),o.distinct,o.separator);case e.expressionTypes.EXISTENCE:return c.createExistenceExpression(o.not,h(o.input));case e.expressionTypes.NAMED:return c.createNamedExpression(o.name,o.args.map(h));case e.expressionTypes.OPERATOR:return c.createOperatorExpression(o.operator,o.args.map(h));case e.expressionTypes.TERM:return c.createTermExpression(o.term);case e.expressionTypes.WILDCARD:return c.createWildcardExpression();default:throw new Error(`Unknown Expression type ${o.expressionType}`)}}static cloneOperation(o){return a.mapOperation(o,{})}static cloneExpression(o){return a.mapExpression(o,{})}static createUniqueVariable(o,u,c){let l=0,d=o;for(;u[d];)d=`${o}${l++}`;return c.variable(d)}static isSimpleTerm(o){return o.termType!==void 0&&o.termType!=="Quad"&&o.termType!=="Wildcard"}static isQuad(o){return o.termType==="Quad"}static hasQuadVariables(o){return(0,n.someTermsNested)(o,u=>u.termType==="Variable")}static isWildcard(o){return o.termType==="Wildcard"}}return Dv.default=a,Dv}var y8;function vEe(){if(y8)return Pv;y8=1;var t=I&&I.__createBinding||(Object.create?function(M,k,T,R){R===void 0&&(R=T);var U=Object.getOwnPropertyDescriptor(k,T);(!U||("get"in U?!k.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return k[T]}}),Object.defineProperty(M,R,U)}:function(M,k,T,R){R===void 0&&(R=T),M[R]=k[T]}),e=I&&I.__setModuleDefault||(Object.create?function(M,k){Object.defineProperty(M,"default",{enumerable:!0,value:k})}:function(M,k){M.default=k}),r=I&&I.__importStar||function(M){if(M&&M.__esModule)return M;var k={};if(M!=null)for(var T in M)T!=="default"&&Object.prototype.hasOwnProperty.call(M,T)&&t(k,M,T);return e(k,M),k},n=I&&I.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(Pv,"__esModule",{value:!0});const a=bEe(),s=nr,o=r(_1()),u=n(eT()),c=n(xC()),l=ol.Parser,d=o.types;let f=new Set,h=0,p=!1,m;function y(M,k){k=k||{},m=new u.default(k.dataFactory);let T;if(b(M)){let R=new l(k);R._resetBlanks(),T=R.parse(M)}else T=M;return g(T,k.quads,k.blankToVariable)}Pv.default=y;function g(M,k,T){if(f=new Set,h=0,p=!!k,!M.type)return m.createNop();if(M.type!=="query"&&M.type!=="update")throw new Error("Translate only works on complete query or update objects.");let R;if(E(M),M.type==="query"){const U={type:"group",patterns:M.where||[]};R=L(U),R=Te(M,R)}else M.type==="update"&&(R=de(M));return T&&(R=z(R)),R}function b(M){return typeof M=="string"}function v(M){return!!(M!=null&&M.termType)}function _(M){return M.subject&&M.predicate&&M.object}function w(M){return(M==null?void 0:M.termType)==="Variable"}function E(M){if(v(M))w(M)&&f.add(`?${M.value}`);else if(Array.isArray(M))for(const k of M)E(k);else if(M&&typeof M=="object")for(let k of Object.keys(M))k.startsWith("?")?f.add(k):k.startsWith("$")&&f.add(`?${k.slice(1)}`),E(M[k])}function O(M){let k={};if(_(M)){const T=[O(M.subject),O(M.predicate),O(M.object),M.graph?O(M.graph):{}];Object.assign(k,...T)}else if(v(M))w(M)&&(k[M.value]=M);else if(M.type==="bgp"){const T=M.triples;Object.assign(k,...T.map(O))}else if(M.type==="path")Object.assign(k,...M.items.map(O));else if(M.type==="group"||M.type==="union"||M.type==="optional")Object.assign(k,...M.patterns.map(O));else if(M.type==="service"||M.type==="graph")Object.assign(k,O(M.name)),Object.assign(k,...M.patterns.map(O));else if(M.type==="bind")Object.assign(k,O(M.variable));else if(M.type==="values"){if(M.values.length>0){const T=Object.keys(M.values[0]).map(R=>m.createTerm(R));Object.assign(k,...T.map(O))}}else if(M.type==="query"&&(M.queryType==="SELECT"||M.queryType==="DESCRIBE")){M.where&&M.variables.some(c.default.isWildcard)&&Object.assign(k,...M.where.map(O));for(const T of M.variables)w(T)?Object.assign(k,O(T)):T.variable&&Object.assign(k,O(T.variable));if(M.queryType==="SELECT"){if(M.group)for(const T of M.group)T.variable&&Object.assign(k,O(T.variable));if(M.values){const T={type:"values",values:M.values};Object.assign(k,O(T))}}}return k}function L(M){if(M.type==="bgp")return x(M);if(M.type==="union")return m.createUnion(M.patterns.map(k=>(k.type!=="group"&&(k={type:"group",patterns:[k]}),L(k))));if(M.type==="graph"){const k={type:"group",patterns:M.patterns};let T=L(k);return p?T=H(T,M.name):T=m.createGraph(T,M.name),T}if(M.type==="values")return he(M);if(M.type==="query")return g(M,p,!1);if(M.type==="group"){let k=[],T=[];for(let G of M.patterns)(G.type==="filter"?k:T).push(G);let R=T.reduce(X,m.createBgp([])),U=k.map(G=>F(G.expression));return U.length>0&&(R=m.createFilter(R,U.reduce((G,Q)=>m.createOperatorExpression("&&",[G,Q])))),R}throw new Error(`Unexpected type: ${M.type}`)}function F(M){if(c.default.isSimpleTerm(M))return m.createTermExpression(M);if(c.default.isQuad(M))return c.default.hasQuadVariables(M)?m.createOperatorExpression("triple",[F(M.subject),F(M.predicate),F(M.object)]):m.createTermExpression(M);if(c.default.isWildcard(M))return m.createWildcardExpression();if("aggregation"in M)return m.createAggregateExpression(M.aggregation,F(M.expression),!!M.distinct,M.separator);if("function"in M)return m.createNamedExpression(M.function,M.args.map(F));if("operator"in M)return M.operator==="exists"||M.operator==="notexists"?m.createExistenceExpression(M.operator==="notexists",L(M.args[0])):((M.operator==="in"||M.operator==="notin")&&(M.args=[M.args[0]].concat(M.args[1])),m.createOperatorExpression(M.operator,M.args.map(F)));throw new Error(`Unknown expression: ${JSON.stringify(M)}`)}function x(M){let k=[],T=[];for(let R of M.triples)if("pathType"in R.predicate){let U=P(R);for(let G of U)G.type===d.PATH?(k.length>0&&T.push(m.createBgp(k)),k=[],T.push(G)):k.push(G)}else k.push($(R));return k.length>0&&T.push(m.createBgp(k)),T.length===1?T[0]:m.createJoin(T)}function P(M){let k=M.subject,T=j(M.predicate),R=M.object;return N(k,T,R)}function j(M){if(c.default.isSimpleTerm(M)){if(M.termType==="NamedNode")return m.createLink(M);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(M)}`)}if(M.pathType==="^")return m.createInv(j(M.items[0]));if(M.pathType==="!"){let k=[],T=[],R;"pathType"in M.items[0]&&M.items[0].pathType==="|"?R=M.items[0].items:R=M.items;for(let Q of R)if(c.default.isSimpleTerm(Q))k.push(Q);else if(Q.pathType==="^")T.push(Q.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify(Q)}`);let U=m.createNps(k),G=m.createInv(m.createNps(T));return T.length===0?U:k.length===0?G:m.createAlt([U,G])}if(M.pathType==="/")return m.createSeq(M.items.map(j));if(M.pathType==="|")return m.createAlt(M.items.map(j));if(M.pathType==="*")return m.createZeroOrMorePath(j(M.items[0]));if(M.pathType==="+")return m.createOneOrMorePath(j(M.items[0]));if(M.pathType==="?")return m.createZeroOrOnePath(j(M.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(M)}`)}function N(M,k,T){if(k.type===d.LINK)return[m.createPattern(M,k.iri,T)];if(k.type===d.INV)return N(T,k.path,M);if(k.type===d.SEQ){let R=M;return c.default.flatten(k.input.map((U,G)=>{const Q=G===k.input.length-1?T:V(),Z=N(R,U,Q);return Q.termType==="Variable"&&(R=Q),Z}))}return[m.createPath(M,k,T)]}function V(){let M=`?var${h++}`;return f.has(M)?V():(f.add(M),m.createTerm(M))}function $(M){if("pathType"in M.predicate)throw new Error("Trying to translate property path to quad.");return m.createPattern(M.subject,M.predicate,M.object,M.graph)}let q=Object.values(d);function H(M,k,T){if(M.type===d.GRAPH){if(T)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");M=H(M.input,M.name)}else if(M.type!==d.SERVICE)if(M.type===d.BGP)M.patterns=M.patterns.map(R=>(T&&(R.subject.equals(k)&&(R.subject=T),R.predicate.equals(k)&&(R.predicate=T),R.object.equals(k)&&(R.object=T)),R.graph.termType==="DefaultGraph"&&(R.graph=k),R));else if(M.type===d.PATH)T&&(M.subject.equals(k)&&(M.subject=T),M.object.equals(k)&&(M.object=T)),M.graph.termType==="DefaultGraph"&&(M.graph=k);else if(M.type===d.PROJECT&&!T)M.variables.some(R=>R.equals(k))||(T=V()),M.input=H(M.input,k,T);else if(M.type===d.EXTEND&&!T)M.variable.equals(k)&&(T=V()),M.input=H(M.input,k,T);else for(let R of Object.keys(M))Array.isArray(M[R])?M[R]=M[R].map(U=>H(U,k,T)):q.indexOf(M[R].type)>=0?M[R]=H(M[R],k,T):T&&w(M[R])&&M[R].equals(k)&&(M[R]=T);return M}function X(M,k){if(k.type==="optional"){const T=L({type:"group",patterns:k.patterns});T.type===d.FILTER?M=m.createLeftJoin(M,T.input,T.expression):M=m.createLeftJoin(M,T)}else if(k.type==="minus"){const T=L({type:"group",patterns:k.patterns});M=m.createMinus(M,T)}else if(k.type==="bind")M=m.createExtend(M,k.variable,F(k.expression));else if(k.type==="service"){const T={type:"group",patterns:k.patterns},R=m.createService(L(T),k.name,k.silent);M=Y(M,R)}else{const T=L(k);M=Y(M,T)}return M}function Y(M,k){return M.type===d.BGP&&k.type===d.BGP?M=m.createBgp([...M.patterns,...k.patterns]):M.type===d.BGP&&M.patterns.length===0?M=k:k.type===d.BGP&&k.patterns.length===0||(M=m.createJoin([M,k])),M}function he(M){let k=(M.values.length===0?[]:Object.keys(M.values[0])).map(m.createTerm.bind(m)),T=M.values.map(R=>{let U=Object.keys(R);U=U.filter(Q=>R[Q]!==void 0);let G={};for(let Q of U)G[Q]=R[Q];return G});return m.createValues(k,T)}function Te(M,k){const T=M,R=[],U={};if(T.variables=T.variables&&T.variables.map(Q=>Ne(Q,U)),T.having=T.having&&T.having.map(Q=>Ne(Q,U)),T.order=T.order&&T.order.map(Q=>Ne(Q,U)),T.group||Object.keys(U).length>0){const Q=Object.keys(U).map(se=>$e(U[se],m.createTerm(se))),Z=[];if(T.group)for(const se of T.group)if(c.default.isSimpleTerm(se.expression))Z.push(se.expression);else{const re="variable"in se?se.variable:V();k=m.createExtend(k,re,F(se.expression)),Z.push(re)}k=m.createGroup(k,Z,Q)}if(T.having)for(let Q of T.having)k=m.createFilter(k,F(Q));M.values&&(k=m.createJoin([k,he(M)]));let G=[];if(M.queryType==="SELECT"||M.queryType==="DESCRIBE")if(M.variables.some(Q=>Q&&c.default.isWildcard(Q)))G=Object.values(O(M)).sort((Q,Z)=>Q.value.localeCompare(Z.value));else for(let Q of M.variables)w(Q)||!("variable"in Q)?G.push(Q):Q.variable&&(G.push(Q.variable),R.push(Q));for(let Q of R)k=m.createExtend(k,Q.variable,F(Q.expression));return T.order&&(k=m.createOrderBy(k,T.order.map(Q=>{let Z=F(Q.expression);return Q.descending&&(Z=m.createOperatorExpression("desc",[Z])),Z}))),M.queryType==="SELECT"&&(k=m.createProject(k,G)),T.distinct&&(k=m.createDistinct(k)),T.reduced&&(k=m.createReduced(k)),M.queryType==="CONSTRUCT"?k=m.createConstruct(k,(M.template||[]).map($)):M.queryType==="ASK"?k=m.createAsk(k):M.queryType==="DESCRIBE"&&(k=m.createDescribe(k,G)),(T.offset||T.limit)&&(k=m.createSlice(k,T.offset||0,T.limit)),T.from&&(k=m.createFrom(k,T.from.default,T.from.named)),k}function Ne(M,k){if("type"in M&&M.type==="aggregate"){let T=!1,R;for(let U of Object.keys(k))if(a(k[U],M)){R=m.createTerm(U),T=!0;break}return T||(R=V(),k[(0,s.termToString)(R)]=M),R}return"expression"in M&&M.expression?{...M,expression:Ne(M.expression,k)}:"args"in M&&M.args?{...M,args:M.args.map(T=>Ne(T,k))}:M}function $e(M,k){if(M.type!=="aggregate"||!M.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(M)}`);const T=F(M);return T.variable=k,T}function de(M){return M.updates.length===1?ce(M.updates[0]):m.createCompositeUpdate(M.updates.map(ce))}function ce(M){if("type"in M){if(M.type==="load")return Re(M);if(M.type==="clear"||M.type==="create"||M.type==="drop")return we(M);if(M.type==="add"||M.type==="copy"||M.type==="move")return Se(M)}else if(M.updateType==="insertdelete"||M.updateType==="deletewhere"||M.updateType==="delete"||M.updateType==="insert")return xe(M);throw new Error(`Unknown update type ${JSON.stringify(M)}`)}function xe(M){if(!p)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let k=[],T=[],R;if(M.delete&&(k=c.default.flatten(M.delete.map(U=>Pe(U,M.graph)))),M.insert&&(T=c.default.flatten(M.insert.map(U=>Pe(U,M.graph)))),M.where&&M.where.length>0){R=L({type:"group",patterns:M.where});const U=M.using;U?R=m.createFrom(R,U.default,U.named):M.graph&&(R=H(R,M.graph))}else M.updateType==="deletewhere"&&k.length>0&&(R=m.createBgp(k));return m.createDeleteInsert(k.length>0?k:void 0,T.length>0?T:void 0,R)}function Pe(M,k){let T=k;M.type==="graph"&&(T=M.name);let R=M.triples;return T&&(R=R.map(U=>Object.assign(U,{graph:T}))),R.map($)}function we(M){let k;switch(c.default.isSimpleTerm(M.graph)?k=M.graph:M.graph.all?k="ALL":M.graph.default?k="DEFAULT":M.graph.named?k="NAMED":k=M.graph.name,M.type){case"clear":return m.createClear(k,M.silent);case"create":return m.createCreate(k,M.silent);case"drop":return m.createDrop(k,M.silent)}}function Re(M){return m.createLoad(M.source,M.destination,M.silent)}function Se(M){const k=M.source.default?"DEFAULT":M.source.name,T=M.destination.default?"DEFAULT":M.destination.name;switch(M.type){case"copy":return m.createCopy(k,T,M.silent);case"move":return m.createMove(k,T,M.silent);case"add":return m.createAdd(k,T,M.silent)}}function z(M){const k={},T=Array.from(f).reduce((U,G)=>(U[G]=!0,U),{});return c.default.mapOperation(M,{[o.types.DELETE_INSERT]:U=>({result:m.createDeleteInsert(U.delete,U.insert,U.where&&z(U.where)),recurse:!1}),[o.types.PATH]:(U,G)=>({result:G.createPath(R(U.subject),U.predicate,R(U.object),R(U.graph)),recurse:!1}),[o.types.PATTERN]:(U,G)=>({result:G.createPattern(R(U.subject),R(U.predicate),R(U.object),R(U.graph)),recurse:!1}),[o.types.CONSTRUCT]:U=>({result:m.createConstruct(z(U.input),U.template),recurse:!1})});function R(U){if(U.termType==="BlankNode"){let G=k[U.value];return G||(G=c.default.createUniqueVariable(U.value,T,m.dataFactory),T[G.value]=!0,k[U.value]=G),G}return U}}return Pv}var Ju={},HA={},Ut={},QA={},ur={},zA,m8;function b1(){if(m8)return zA;m8=1,zA=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,a){if(r!=n)throw new Error(a||"Assertion failed: "+r+" != "+n)},zA}var Cv={exports:{}},g8;function wEe(){return g8||(g8=1,typeof Object.create=="function"?Cv.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Cv.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Cv.exports}var _8;function Ss(){if(_8)return ur;_8=1;var t=b1(),e=wEe();ur.inherits=e;function r(N,V){return(N.charCodeAt(V)&64512)!==55296||V<0||V+1>=N.length?!1:(N.charCodeAt(V+1)&64512)===56320}function n(N,V){if(Array.isArray(N))return N.slice();if(!N)return[];var $=[];if(typeof N=="string")if(V){if(V==="hex")for(N=N.replace(/[^a-z0-9]+/ig,""),N.length%2!==0&&(N="0"+N),H=0;H<N.length;H+=2)$.push(parseInt(N[H]+N[H+1],16))}else for(var q=0,H=0;H<N.length;H++){var X=N.charCodeAt(H);X<128?$[q++]=X:X<2048?($[q++]=X>>6|192,$[q++]=X&63|128):r(N,H)?(X=65536+((X&1023)<<10)+(N.charCodeAt(++H)&1023),$[q++]=X>>18|240,$[q++]=X>>12&63|128,$[q++]=X>>6&63|128,$[q++]=X&63|128):($[q++]=X>>12|224,$[q++]=X>>6&63|128,$[q++]=X&63|128)}else for(H=0;H<N.length;H++)$[H]=N[H]|0;return $}ur.toArray=n;function a(N){for(var V="",$=0;$<N.length;$++)V+=u(N[$].toString(16));return V}ur.toHex=a;function s(N){var V=N>>>24|N>>>8&65280|N<<8&16711680|(N&255)<<24;return V>>>0}ur.htonl=s;function o(N,V){for(var $="",q=0;q<N.length;q++){var H=N[q];V==="little"&&(H=s(H)),$+=c(H.toString(16))}return $}ur.toHex32=o;function u(N){return N.length===1?"0"+N:N}ur.zero2=u;function c(N){return N.length===7?"0"+N:N.length===6?"00"+N:N.length===5?"000"+N:N.length===4?"0000"+N:N.length===3?"00000"+N:N.length===2?"000000"+N:N.length===1?"0000000"+N:N}ur.zero8=c;function l(N,V,$,q){var H=$-V;t(H%4===0);for(var X=new Array(H/4),Y=0,he=V;Y<X.length;Y++,he+=4){var Te;q==="big"?Te=N[he]<<24|N[he+1]<<16|N[he+2]<<8|N[he+3]:Te=N[he+3]<<24|N[he+2]<<16|N[he+1]<<8|N[he],X[Y]=Te>>>0}return X}ur.join32=l;function d(N,V){for(var $=new Array(N.length*4),q=0,H=0;q<N.length;q++,H+=4){var X=N[q];V==="big"?($[H]=X>>>24,$[H+1]=X>>>16&255,$[H+2]=X>>>8&255,$[H+3]=X&255):($[H+3]=X>>>24,$[H+2]=X>>>16&255,$[H+1]=X>>>8&255,$[H]=X&255)}return $}ur.split32=d;function f(N,V){return N>>>V|N<<32-V}ur.rotr32=f;function h(N,V){return N<<V|N>>>32-V}ur.rotl32=h;function p(N,V){return N+V>>>0}ur.sum32=p;function m(N,V,$){return N+V+$>>>0}ur.sum32_3=m;function y(N,V,$,q){return N+V+$+q>>>0}ur.sum32_4=y;function g(N,V,$,q,H){return N+V+$+q+H>>>0}ur.sum32_5=g;function b(N,V,$,q){var H=N[V],X=N[V+1],Y=q+X>>>0,he=(Y<q?1:0)+$+H;N[V]=he>>>0,N[V+1]=Y}ur.sum64=b;function v(N,V,$,q){var H=V+q>>>0,X=(H<V?1:0)+N+$;return X>>>0}ur.sum64_hi=v;function _(N,V,$,q){var H=V+q;return H>>>0}ur.sum64_lo=_;function w(N,V,$,q,H,X,Y,he){var Te=0,Ne=V;Ne=Ne+q>>>0,Te+=Ne<V?1:0,Ne=Ne+X>>>0,Te+=Ne<X?1:0,Ne=Ne+he>>>0,Te+=Ne<he?1:0;var $e=N+$+H+Y+Te;return $e>>>0}ur.sum64_4_hi=w;function E(N,V,$,q,H,X,Y,he){var Te=V+q+X+he;return Te>>>0}ur.sum64_4_lo=E;function O(N,V,$,q,H,X,Y,he,Te,Ne){var $e=0,de=V;de=de+q>>>0,$e+=de<V?1:0,de=de+X>>>0,$e+=de<X?1:0,de=de+he>>>0,$e+=de<he?1:0,de=de+Ne>>>0,$e+=de<Ne?1:0;var ce=N+$+H+Y+Te+$e;return ce>>>0}ur.sum64_5_hi=O;function L(N,V,$,q,H,X,Y,he,Te,Ne){var $e=V+q+X+he+Ne;return $e>>>0}ur.sum64_5_lo=L;function F(N,V,$){var q=V<<32-$|N>>>$;return q>>>0}ur.rotr64_hi=F;function x(N,V,$){var q=N<<32-$|V>>>$;return q>>>0}ur.rotr64_lo=x;function P(N,V,$){return N>>>$}ur.shr64_hi=P;function j(N,V,$){var q=N<<32-$|V>>>$;return q>>>0}return ur.shr64_lo=j,ur}var GA={},b8;function v1(){if(b8)return GA;b8=1;var t=Ss(),e=b1();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return GA.BlockHash=r,r.prototype.update=function(a,s){if(a=t.toArray(a,s),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var o=a.length%this._delta8;this.pending=a.slice(a.length-o,a.length),this.pending.length===0&&(this.pending=null),a=t.join32(a,0,a.length-o,this.endian);for(var u=0;u<a.length;u+=this._delta32)this._update(a,u,u+this._delta32)}return this},r.prototype.digest=function(a){return this.update(this._pad()),e(this.pending===null),this._digest(a)},r.prototype._pad=function(){var a=this.pendingTotal,s=this._delta8,o=s-(a+this.padLength)%s,u=new Array(o+this.padLength);u[0]=128;for(var c=1;c<o;c++)u[c]=0;if(a<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)u[c++]=0;u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=a>>>24&255,u[c++]=a>>>16&255,u[c++]=a>>>8&255,u[c++]=a&255}else for(u[c++]=a&255,u[c++]=a>>>8&255,u[c++]=a>>>16&255,u[c++]=a>>>24&255,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,l=8;l<this.padLength;l++)u[c++]=0;return u},GA}var Xu={},Wa={},v8;function rY(){if(v8)return Wa;v8=1;var t=Ss(),e=t.rotr32;function r(d,f,h,p){if(d===0)return n(f,h,p);if(d===1||d===3)return s(f,h,p);if(d===2)return a(f,h,p)}Wa.ft_1=r;function n(d,f,h){return d&f^~d&h}Wa.ch32=n;function a(d,f,h){return d&f^d&h^f&h}Wa.maj32=a;function s(d,f,h){return d^f^h}Wa.p32=s;function o(d){return e(d,2)^e(d,13)^e(d,22)}Wa.s0_256=o;function u(d){return e(d,6)^e(d,11)^e(d,25)}Wa.s1_256=u;function c(d){return e(d,7)^e(d,18)^d>>>3}Wa.g0_256=c;function l(d){return e(d,17)^e(d,19)^d>>>10}return Wa.g1_256=l,Wa}var WA,w8;function SEe(){if(w8)return WA;w8=1;var t=Ss(),e=v1(),r=rY(),n=t.rotl32,a=t.sum32,s=t.sum32_5,o=r.ft_1,u=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(l,u),WA=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(f,h){for(var p=this.W,m=0;m<16;m++)p[m]=f[h+m];for(;m<p.length;m++)p[m]=n(p[m-3]^p[m-8]^p[m-14]^p[m-16],1);var y=this.h[0],g=this.h[1],b=this.h[2],v=this.h[3],_=this.h[4];for(m=0;m<p.length;m++){var w=~~(m/20),E=s(n(y,5),o(w,g,b,v),_,p[m],c[w]);_=v,v=b,b=n(g,30),g=y,y=E}this.h[0]=a(this.h[0],y),this.h[1]=a(this.h[1],g),this.h[2]=a(this.h[2],b),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],_)},l.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},WA}var KA,S8;function nY(){if(S8)return KA;S8=1;var t=Ss(),e=v1(),r=rY(),n=b1(),a=t.sum32,s=t.sum32_4,o=t.sum32_5,u=r.ch32,c=r.maj32,l=r.s0_256,d=r.s1_256,f=r.g0_256,h=r.g1_256,p=e.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}return t.inherits(y,p),KA=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(b,v){for(var _=this.W,w=0;w<16;w++)_[w]=b[v+w];for(;w<_.length;w++)_[w]=s(h(_[w-2]),_[w-7],f(_[w-15]),_[w-16]);var E=this.h[0],O=this.h[1],L=this.h[2],F=this.h[3],x=this.h[4],P=this.h[5],j=this.h[6],N=this.h[7];for(n(this.k.length===_.length),w=0;w<_.length;w++){var V=o(N,d(x),u(x,P,j),this.k[w],_[w]),$=a(l(E),c(E,O,L));N=j,j=P,P=x,x=a(F,V),F=L,L=O,O=E,E=a(V,$)}this.h[0]=a(this.h[0],E),this.h[1]=a(this.h[1],O),this.h[2]=a(this.h[2],L),this.h[3]=a(this.h[3],F),this.h[4]=a(this.h[4],x),this.h[5]=a(this.h[5],P),this.h[6]=a(this.h[6],j),this.h[7]=a(this.h[7],N)},y.prototype._digest=function(b){return b==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},KA}var JA,T8;function TEe(){if(T8)return JA;T8=1;var t=Ss(),e=nY();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),JA=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(a){return a==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},JA}var XA,E8;function iY(){if(E8)return XA;E8=1;var t=Ss(),e=v1(),r=b1(),n=t.rotr64_hi,a=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,u=t.sum64,c=t.sum64_hi,l=t.sum64_lo,d=t.sum64_4_hi,f=t.sum64_4_lo,h=t.sum64_5_hi,p=t.sum64_5_lo,m=e.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}t.inherits(g,m),XA=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function($,q){for(var H=this.W,X=0;X<32;X++)H[X]=$[q+X];for(;X<H.length;X+=2){var Y=j(H[X-4],H[X-3]),he=N(H[X-4],H[X-3]),Te=H[X-14],Ne=H[X-13],$e=x(H[X-30],H[X-29]),de=P(H[X-30],H[X-29]),ce=H[X-32],xe=H[X-31];H[X]=d(Y,he,Te,Ne,$e,de,ce,xe),H[X+1]=f(Y,he,Te,Ne,$e,de,ce,xe)}},g.prototype._update=function($,q){this._prepareBlock($,q);var H=this.W,X=this.h[0],Y=this.h[1],he=this.h[2],Te=this.h[3],Ne=this.h[4],$e=this.h[5],de=this.h[6],ce=this.h[7],xe=this.h[8],Pe=this.h[9],we=this.h[10],Re=this.h[11],Se=this.h[12],z=this.h[13],M=this.h[14],k=this.h[15];r(this.k.length===H.length);for(var T=0;T<H.length;T+=2){var R=M,U=k,G=L(xe,Pe),Q=F(xe,Pe),Z=b(xe,Pe,we,Re,Se),se=v(xe,Pe,we,Re,Se,z),re=this.k[T],le=this.k[T+1],pe=H[T],_e=H[T+1],Ie=h(R,U,G,Q,Z,se,re,le,pe,_e),Ee=p(R,U,G,Q,Z,se,re,le,pe,_e);R=E(X,Y),U=O(X,Y),G=_(X,Y,he,Te,Ne),Q=w(X,Y,he,Te,Ne,$e);var Me=c(R,U,G,Q),Ce=l(R,U,G,Q);M=Se,k=z,Se=we,z=Re,we=xe,Re=Pe,xe=c(de,ce,Ie,Ee),Pe=l(ce,ce,Ie,Ee),de=Ne,ce=$e,Ne=he,$e=Te,he=X,Te=Y,X=c(Ie,Ee,Me,Ce),Y=l(Ie,Ee,Me,Ce)}u(this.h,0,X,Y),u(this.h,2,he,Te),u(this.h,4,Ne,$e),u(this.h,6,de,ce),u(this.h,8,xe,Pe),u(this.h,10,we,Re),u(this.h,12,Se,z),u(this.h,14,M,k)},g.prototype._digest=function($){return $==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function b(V,$,q,H,X){var Y=V&q^~V&X;return Y<0&&(Y+=4294967296),Y}function v(V,$,q,H,X,Y){var he=$&H^~$&Y;return he<0&&(he+=4294967296),he}function _(V,$,q,H,X){var Y=V&q^V&X^q&X;return Y<0&&(Y+=4294967296),Y}function w(V,$,q,H,X,Y){var he=$&H^$&Y^H&Y;return he<0&&(he+=4294967296),he}function E(V,$){var q=n(V,$,28),H=n($,V,2),X=n($,V,7),Y=q^H^X;return Y<0&&(Y+=4294967296),Y}function O(V,$){var q=a(V,$,28),H=a($,V,2),X=a($,V,7),Y=q^H^X;return Y<0&&(Y+=4294967296),Y}function L(V,$){var q=n(V,$,14),H=n(V,$,18),X=n($,V,9),Y=q^H^X;return Y<0&&(Y+=4294967296),Y}function F(V,$){var q=a(V,$,14),H=a(V,$,18),X=a($,V,9),Y=q^H^X;return Y<0&&(Y+=4294967296),Y}function x(V,$){var q=n(V,$,1),H=n(V,$,8),X=s(V,$,7),Y=q^H^X;return Y<0&&(Y+=4294967296),Y}function P(V,$){var q=a(V,$,1),H=a(V,$,8),X=o(V,$,7),Y=q^H^X;return Y<0&&(Y+=4294967296),Y}function j(V,$){var q=n(V,$,19),H=n($,V,29),X=s(V,$,6),Y=q^H^X;return Y<0&&(Y+=4294967296),Y}function N(V,$){var q=a(V,$,19),H=a($,V,29),X=o(V,$,6),Y=q^H^X;return Y<0&&(Y+=4294967296),Y}return XA}var YA,A8;function EEe(){if(A8)return YA;A8=1;var t=Ss(),e=iY();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),YA=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(a){return a==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},YA}var O8;function AEe(){return O8||(O8=1,Xu.sha1=SEe(),Xu.sha224=TEe(),Xu.sha256=nY(),Xu.sha384=EEe(),Xu.sha512=iY()),Xu}var ZA={},R8;function OEe(){if(R8)return ZA;R8=1;var t=Ss(),e=v1(),r=t.rotl32,n=t.sum32,a=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(u,o),ZA.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(g,b){for(var v=this.h[0],_=this.h[1],w=this.h[2],E=this.h[3],O=this.h[4],L=v,F=_,x=w,P=E,j=O,N=0;N<80;N++){var V=n(r(s(v,c(N,_,w,E),g[f[N]+b],l(N)),p[N]),O);v=O,O=E,E=r(w,10),w=_,_=V,V=n(r(s(L,c(79-N,F,x,P),g[h[N]+b],d(N)),m[N]),j),L=j,j=P,P=r(x,10),x=F,F=V}V=a(this.h[1],w,P),this.h[1]=a(this.h[2],E,j),this.h[2]=a(this.h[3],O,L),this.h[3]=a(this.h[4],v,F),this.h[4]=a(this.h[0],_,x),this.h[0]=V},u.prototype._digest=function(g){return g==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(y,g,b,v){return y<=15?g^b^v:y<=31?g&b|~g&v:y<=47?(g|~b)^v:y<=63?g&v|b&~v:g^(b|~v)}function l(y){return y<=15?0:y<=31?1518500249:y<=47?1859775393:y<=63?2400959708:2840853838}function d(y){return y<=15?1352829926:y<=31?1548603684:y<=47?1836072691:y<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ZA}var e3,x8;function REe(){if(x8)return e3;x8=1;var t=Ss(),e=b1();function r(n,a,s){if(!(this instanceof r))return new r(n,a,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(a,s))}return e3=r,r.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),e(a.length<=this.blockSize);for(var s=a.length;s<this.blockSize;s++)a.push(0);for(s=0;s<a.length;s++)a[s]^=54;for(this.inner=new this.Hash().update(a),s=0;s<a.length;s++)a[s]^=106;this.outer=new this.Hash().update(a)},r.prototype.update=function(a,s){return this.inner.update(a,s),this},r.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)},e3}var I8;function IC(){return I8||(I8=1,function(t){var e=t;e.utils=Ss(),e.common=v1(),e.sha=AEe(),e.ripemd=OEe(),e.hmac=REe(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(QA)),QA}var P8;function xEe(){if(P8)return Ut;P8=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.isTermGrounded=Ut.termToSignature=Ut.quadToSignature=Ut.sha1hex=Ut.hashTerm=Ut.hashTerms=Ut.getGraphBlankNodes=Ut.uniqGraph=Ut.deindexGraph=Ut.indexGraph=Ut.getQuadsWithoutBlankNodes=Ut.getQuadsWithBlankNodes=Ut.hasValue=Ut.hashValues=Ut.getBijectionInner=Ut.getBijection=Ut.isomorphic=void 0;const t=IC(),e=nr,r=Pn();function n(E,O){return!!a(E,O)}Ut.isomorphic=n;function a(E,O){const L=f(d(E)),F=f(d(O));if(Object.keys(L).length!==Object.keys(F).length)return null;for(const V in L)if(L[V]!==F[V])return null;const x=p(l(E)),P=p(l(O)),j=m(E),N=m(O);return s(x,P,j,N)}Ut.getBijection=a;function s(E,O,L,F,x,P){x||(x={}),P||(P={});const[j,N]=y(E,L,x),[V,$]=y(O,F,P);if(Object.keys(j).length!==Object.keys(V).length)return null;for(const H in j)if(!c(V,j[H]))return null;let q={};for(const H of L){const X=e.termToString(H),Y=N[X];for(const he in $)if($[he]===Y){q[X]=he,delete $[he];break}}if(!o(Object.keys(q).sort(),L.map(e.termToString).sort())||!o(u(q).sort(),F.map(e.termToString).sort())){q=null;for(const H of L){const X=e.termToString(H);if(!j[X])for(const Y of F){const he=e.termToString(Y);if(!V[he]&&N[X]===$[he]){const Te=b(X);q=s(E,O,L,F,Object.assign(Object.assign({},j),{[X]:Te}),Object.assign(Object.assign({},V),{[he]:Te}))}}}}return q}Ut.getBijectionInner=s;function o(E,O){if(E.length!==O.length)return!1;for(let L=E.length;L--;)if(E[L]!==O[L])return!1;return!0}function u(E){const O=[];for(const L in E)O.push(E[L]);return O}Ut.hashValues=u;function c(E,O){for(const L in E)if(E[L]===O)return!0;return!1}Ut.hasValue=c;function l(E){return E.filter(O=>r.someTerms(O,L=>L.termType==="BlankNode"||L.termType==="Quad"&&r.getTermsNested(L).some(F=>F.termType==="BlankNode")))}Ut.getQuadsWithBlankNodes=l;function d(E){return E.filter(O=>r.everyTerms(O,L=>L.termType!=="BlankNode"&&!(L.termType==="Quad"&&r.getTermsNested(L).some(F=>F.termType==="BlankNode"))))}Ut.getQuadsWithoutBlankNodes=d;function f(E){const O={};for(const L of E)O[JSON.stringify(e.quadToStringQuad(L))]=!0;return O}Ut.indexGraph=f;function h(E){return Object.keys(E).map(O=>e.stringQuadToQuad(JSON.parse(O)))}Ut.deindexGraph=h;function p(E){return h(f(E))}Ut.uniqGraph=p;function m(E){return r.uniqTerms(E.map(O=>r.getBlankNodes(r.getTermsNested(O))).reduce((O,L)=>O.concat(L),[]))}Ut.getGraphBlankNodes=m;function y(E,O,L){const F=Object.assign({},L),x={};let P=!0;for(;P;){const j=Object.keys(F).length;for(const V of O){const $=e.termToString(V);if(!F[$]){const[q,H]=g(V,E,F);q&&(F[$]=H),x[$]=H}}const N={};for(const V in x){const $=x[V];N[$]===void 0?N[$]=V:N[$]=!1}for(const V in N){const $=N[V];$&&(F[$]=V)}P=j!==Object.keys(F).length}return[F,x]}Ut.hashTerms=y;function g(E,O,L){const F=[];let x=!0;for(const j of O){const N=r.getTermsNested(j);if(N.some(V=>V.equals(E))){F.push(v(j,L,E));for(const V of N)!w(V,L)&&!V.equals(E)&&(x=!1)}}const P=b(F.sort().join(""));return[x,P]}Ut.hashTerm=g;function b(E){return t.sha1().update(E).digest("hex")}Ut.sha1hex=b;function v(E,O,L){return r.getTerms(E).map(F=>_(F,O,L)).join("|")}Ut.quadToSignature=v;function _(E,O,L){return E.equals(L)?"@self":E.termType==="BlankNode"?O[e.termToString(E)]||"@blank":E.termType==="Quad"?`<${v(E,O,L)}>`:e.termToString(E)}Ut.termToSignature=_;function w(E,O){return E.termType!=="BlankNode"&&!(E.termType==="Quad"&&r.getTermsNested(E).some(L=>!w(L,O)))||!!O[e.termToString(E)]}return Ut.isTermGrounded=w,Ut}var N8;function IEe(){return N8||(N8=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(xEe(),t)}(HA)),HA}var D8;function PEe(){if(D8)return Ju;D8=1;var t=I&&I.__createBinding||(Object.create?function(ee,Oe,De,Ue){Ue===void 0&&(Ue=De);var Ye=Object.getOwnPropertyDescriptor(Oe,De);(!Ye||("get"in Ye?!Oe.__esModule:Ye.writable||Ye.configurable))&&(Ye={enumerable:!0,get:function(){return Oe[De]}}),Object.defineProperty(ee,Ue,Ye)}:function(ee,Oe,De,Ue){Ue===void 0&&(Ue=De),ee[Ue]=Oe[De]}),e=I&&I.__setModuleDefault||(Object.create?function(ee,Oe){Object.defineProperty(ee,"default",{enumerable:!0,value:Oe})}:function(ee,Oe){ee.default=Oe}),r=I&&I.__importStar||function(ee){if(ee&&ee.__esModule)return ee;var Oe={};if(ee!=null)for(var De in ee)De!=="default"&&Object.prototype.hasOwnProperty.call(ee,De)&&t(Oe,ee,De);return e(Oe,ee),Oe},n=I&&I.__importDefault||function(ee){return ee&&ee.__esModule?ee:{default:ee}};Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.toSparqlJs=Ju.toSparql=void 0;const a=IEe(),s=nr,o=ol,u=r(_1()),c=n(eT()),l=n(xC()),d=u.types,f=u.expressionTypes;let h;const p=new c.default;function m(ee,Oe={}){return new o.Generator(Oe).stringify(y(ee))}Ju.toSparql=m;function y(ee){g(),ee=fe(ee);let Oe=b(ee);return Oe.type==="group"?Oe.patterns[0]:Oe}Ju.toSparqlJs=y;function g(){h={project:!1,extend:[],group:[],aggregates:[],order:[]}}function b(ee){switch(ee.type!==d.EXTEND&&ee.type!==d.ORDER_BY&&ee.type!==d.GRAPH&&(h.project=!1),ee.type){case d.EXPRESSION:return v(ee);case d.ASK:return Re(ee,d.ASK);case d.BGP:return V(ee);case d.CONSTRUCT:return $(ee);case d.DESCRIBE:return Re(ee,d.DESCRIBE);case d.DISTINCT:return q(ee);case d.EXTEND:return H(ee);case d.FROM:return X(ee);case d.FILTER:return Y(ee);case d.GRAPH:return he(ee);case d.GROUP:return Te(ee);case d.JOIN:return Ne(ee);case d.LEFT_JOIN:return $e(ee);case d.MINUS:return de(ee);case d.NOP:return{};case d.ORDER_BY:return ce(ee);case d.PATH:return xe(ee);case d.PATTERN:return Pe(ee);case d.PROJECT:return Re(ee,d.PROJECT);case d.REDUCED:return z(ee);case d.SERVICE:return M(ee);case d.SLICE:return k(ee);case d.UNION:return T(ee);case d.VALUES:return R(ee);case d.COMPOSITE_UPDATE:return _e(ee);case d.DELETE_INSERT:return Ie(ee);case d.LOAD:return Ee(ee);case d.CLEAR:return Me(ee);case d.CREATE:return Ce(ee);case d.DROP:return ke(ee);case d.ADD:return W(ee);case d.MOVE:return D(ee);case d.COPY:return B(ee)}throw new Error(`Unknown Operation type ${ee.type}`)}function v(ee){switch(ee.expressionType){case f.AGGREGATE:return E(ee);case f.EXISTENCE:return O(ee);case f.NAMED:return L(ee);case f.OPERATOR:return F(ee);case f.TERM:return x(ee);case f.WILDCARD:return P(ee)}throw new Error(`Unknown Expression Operation type ${ee.expressionType}`)}function _(ee){switch(ee.type){case d.ALT:return U(ee);case d.INV:return G(ee);case d.LINK:return Q(ee);case d.NPS:return Z(ee);case d.ONE_OR_MORE_PATH:return se(ee);case d.SEQ:return re(ee);case d.ZERO_OR_MORE_PATH:return le(ee);case d.ZERO_OR_ONE_PATH:return pe(ee)}throw new Error(`Unknown Path type ${ee.type}`)}function w(ee){return(0,s.termToString)(ee)}function E(ee){const Oe={expression:v(ee.expression),type:"aggregate",aggregation:ee.aggregator,distinct:ee.distinct};return ee.separator&&(Oe.separator=ee.separator),Oe}function O(ee){return{type:"operation",operator:ee.not?"notexists":"exists",args:[{type:"group",patterns:l.default.flatten([b(ee.input)])}]}}function L(ee){return{type:"functionCall",function:ee.name,args:ee.args.map(v)}}function F(ee){if(ee.operator==="desc"){const De={expression:v(ee.args[0])};return De.descending=!0,De}const Oe={type:"operation",operator:ee.operator,args:ee.args.map(v)};return(Oe.operator==="in"||Oe.operator==="notin")&&(Oe.args=[Oe.args[0]].concat([Oe.args.slice(1)])),Oe}function x(ee){return ee.term}function P(ee){return ee.wildcard}function j(ee){return Array.isArray(ee)?ee.length===1?ee[0]:{type:"group",patterns:ee}:ee}function N(ee){return ee}function V(ee){let Oe=ee.patterns.map(Pe);return Oe.length===0?null:{type:"bgp",triples:Oe}}function $(ee){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:ee.template.map(Pe),where:l.default.flatten([b(ee.input)])}}function q(ee){let Oe=b(ee.input);return Oe.patterns[0].distinct=!0,Oe}function H(ee){return h.project?(h.extend.push(ee),b(ee.input)):l.default.flatten([b(ee.input),{type:"bind",variable:ee.variable,expression:v(ee.expression)}])}function X(ee){const Oe=b(ee.input);let De=Oe;return Oe.type==="group"&&(De=Oe.patterns[0]),De.from={default:ee.default,named:ee.named},Oe}function Y(ee){return{type:"group",patterns:l.default.flatten([b(ee.input),{type:"filter",expression:v(ee.expression)}])}}function he(ee){return{type:"graph",patterns:l.default.flatten([b(ee.input)]),name:ee.name}}function Te(ee){const Oe=b(ee.input),De=ee.aggregates.map(N);return h.aggregates.push(...De),h.group.push(...ee.variables),Oe}function Ne(ee){return l.default.flatten(ee.input.map(b)).reduce((De,Ue)=>(Ue.type!=="bgp"||De.length==0||De[De.length-1].type!=="bgp"?De.push(Ue):De[De.length-1].triples.push(...Ue.triples),De),[])}function $e(ee){const Oe={type:"optional",patterns:[b(ee.input[1])]};return ee.expression&&Oe.patterns.push({type:"filter",expression:v(ee.expression)}),Oe.patterns=l.default.flatten(Oe.patterns),l.default.flatten([b(ee.input[0]),Oe])}function de(ee){let Oe=b(ee.input[1]);return Oe.type==="group"&&(Oe=Oe.patterns),Array.isArray(Oe)||(Oe=[Oe]),l.default.flatten([b(ee.input[0]),{type:"minus",patterns:Oe}])}function ce(ee){return h.order.push(...ee.expressions),b(ee.input)}function xe(ee){return{type:"bgp",triples:[{subject:ee.subject,predicate:_(ee.predicate),object:ee.object}]}}function Pe(ee){return{subject:ee.subject,predicate:ee.predicate,object:ee.object}}function we(ee,Oe){let De=l.default.isSimpleTerm(ee)?w(ee):ee;if(typeof De=="string"){if(Oe[De])return Oe[De]}else if(Array.isArray(ee))ee=ee.map(Ue=>we(Ue,Oe));else for(let Ue of Object.keys(ee))ee[Ue]=we(ee[Ue],Oe);return ee}function Re(ee,Oe){const De={type:"query",prefixes:{}},Ue=De;let Ye;Oe===d.PROJECT?(De.queryType="SELECT",Ye=ee.variables):Oe===d.ASK?De.queryType="ASK":Oe===d.DESCRIBE&&(De.queryType="DESCRIBE",Ye=ee.terms);const ut=h.extend,at=h.group,ct=h.aggregates,ht=h.order;g(),h.project=!0;let te=l.default.flatten([b(ee.input)]);te.length===1&&te[0].type==="group"&&(te=te[0].patterns),De.where=te;let S={};for(let C of h.aggregates)S[w(C.variable)]=v(C);let A={};for(let C=h.extend.length-1;C>=0;--C){let J=h.extend[C];A[w(J.variable)]=we(v(J.expression),S)}if(h.group.length>0&&(Ue.group=h.group.map(C=>{let J=w(C);if(A[J]){let ie=A[J];return delete A[J],{variable:C,expression:ie}}return{expression:C}})),h.order.length>0&&(Ue.order=h.order.map(b).map(C=>C.descending?C:{expression:C})),Ye&&(Ue.variables=Ye.map(C=>{let J=w(C);return A[J]?{variable:C,expression:A[J]}:C}),Ue.variables.length===0&&(Ue.variables=[new o.Wildcard])),De.where.length>0&&De.where[De.where.length-1].type==="filter"){const C=De.where[De.where.length-1];Se(C,Object.keys(S))&&(Ue.having=l.default.flatten([we(C.expression,S)]),De.where.splice(-1))}return h.extend=ut,h.group=at,h.aggregates=ct,h.order=ht,{type:"group",patterns:[Ue]}}function Se(ee,Oe){return l.default.isSimpleTerm(ee)?Oe.indexOf(w(ee))>=0:Array.isArray(ee)?ee.some(De=>Se(De,Oe)):ee===Object(ee)?Object.keys(ee).some(De=>Se(ee[De],Oe)):Oe.indexOf(ee)>=0}function z(ee){let Oe=b(ee.input);return Oe.patterns[0].reduced=!0,Oe}function M(ee){let Oe=b(ee.input);return Oe.type==="group"&&(Oe=Oe.patterns),Array.isArray(Oe)||(Oe=[Oe]),{type:"service",name:ee.name,silent:ee.silent,patterns:Oe}}function k(ee){let Oe=b(ee.input),De=Oe;return Oe.type&&Oe.type==="group"&&(De=Oe.patterns[0]),ee.start!==0&&(De.offset=ee.start),ee.length!==void 0&&(De.limit=ee.length),Oe}function T(ee){return{type:"union",patterns:ee.input.map(b).map(j)}}function R(ee){return{type:"values",values:ee.bindings.map(Oe=>{let De={};for(let Ue of ee.variables){let Ye=`?${Ue.value}`;Oe[Ye]?De[Ye]=Oe[Ye]:De[Ye]=void 0}return De})}}function U(ee){const Oe=ee.input.map(_);return Oe.every(De=>"pathType"in De&&De.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:l.default.flatten(Oe.map(De=>De.items))}]}:{type:"path",pathType:"|",items:Oe}}function G(ee){if(ee.path.type===d.NPS){const Oe=ee.path.iris.map(De=>({type:"path",pathType:"^",items:[De]}));return Oe.length<=1?{type:"path",pathType:"!",items:Oe}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:Oe}]}}return{type:"path",pathType:"^",items:[_(ee.path)]}}function Q(ee){return ee.iri}function Z(ee){return ee.iris.length<=1?{type:"path",pathType:"!",items:ee.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:ee.iris}]}}function se(ee){return{type:"path",pathType:"+",items:[_(ee.path)]}}function re(ee){return{type:"path",pathType:"/",items:ee.input.map(_)}}function le(ee){return{type:"path",pathType:"*",items:[_(ee.path)]}}function pe(ee){return{type:"path",pathType:"?",items:[_(ee.path)]}}function _e(ee){const Oe=ee.updates.map(De=>b(De).updates[0]);return{prefixes:{},type:"update",updates:Oe}}function Ie(ee){var Oe;let De=ee.where,Ue;if(De&&De.type===d.FROM){let ut=De;De=ut.input,Ue={default:ut.default,named:ut.named}}const Ye=[{updateType:"insertdelete",delete:ne(ee.delete||[]),insert:ne(ee.insert||[])}];if(Ue&&(Ye[0].using=Ue),!De||De.type===d.BGP&&De.patterns.length===0)Ye[0].where=[];else{const ut=[];let at=b(ge(De,ut));if(at.type==="group"?Ye[0].where=at.patterns:Ye[0].where=[at],ut.length>0){if(ut.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((Oe=ut[0])===null||Oe===void 0?void 0:Oe.value)!==""&&(Ye[0].where=[{type:"graph",patterns:Ye[0].where,name:ut[0]}])}}return!ee.delete&&!ee.where?(Ye[0].updateType="insert",delete Ye[0].delete,delete Ye[0].where):!ee.insert&&!ee.where?(delete Ye[0].insert,delete Ye[0].where,ee.delete.some(ut=>ut.subject.termType==="Variable"||ut.predicate.termType==="Variable"||ut.object.termType==="Variable")?Ye[0].updateType="deletewhere":Ye[0].updateType="delete"):!ee.insert&&ee.where&&ee.where.type==="bgp"&&(0,a.isomorphic)(ee.delete,ee.where.patterns)&&(delete Ye[0].where,Ye[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:Ye}}function Ee(ee){const Oe=[{type:"load",silent:!!ee.silent,source:ee.source}];return ee.destination&&(Oe[0].destination=ee.destination),{prefixes:{},type:"update",updates:Oe}}function Me(ee){return qe(ee,"clear")}function Ce(ee){return qe(ee,"create")}function ke(ee){return qe(ee,"drop")}function qe(ee,Oe){const De=[{type:Oe,silent:!!ee.silent}];return ee.source==="DEFAULT"?De[0].graph={default:!0}:ee.source==="NAMED"?De[0].graph={named:!0}:ee.source==="ALL"?De[0].graph={all:!0}:De[0].graph={type:"graph",name:ee.source},{prefixes:{},type:"update",updates:De}}function W(ee){return K(ee,"add")}function D(ee){return K(ee,"move")}function B(ee){return K(ee,"copy")}function K(ee,Oe){const De=[{type:Oe,silent:!!ee.silent}];return De[0].source=ee.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:ee.source},De[0].destination=ee.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:ee.destination},{prefixes:{},type:"update",updates:De}}function ne(ee){if(!ee)return[];const Oe={};return ee.forEach(De=>{const Ue=De.graph.value;Oe[Ue]||(Oe[Ue]=[]),Oe[Ue].push(De)}),Object.keys(Oe).map(De=>De===""?{type:"bgp",triples:Oe[De].map(Pe)}:{type:"graph",triples:Oe[De].map(Pe),name:Oe[De][0].graph})}function fe(ee){return ge(ee,[])}function ge(ee,Oe){if(Array.isArray(ee))return ee.map(at=>ge(at,Oe));if(!ee.type||ee.type===d.DELETE_INSERT)return ee;if((ee.type===d.PATTERN||ee.type===d.PATH)&&ee.graph)return Oe.push(ee.graph),ee.graph.name!==""?ee.type===d.PATTERN?p.createPattern(ee.subject,ee.predicate,ee.object):p.createPath(ee.subject,ee.predicate,ee.object):ee;const De={},Ue={},Ye={};for(let at of Object.keys(ee)){const ct=[];if(De[at]=ge(ee[at],ct),ct.length>0){Ue[at]=ct;for(const ht of ct)Ye[ht.value]=ht}}const ut=Object.keys(Ye);if(ut.length>0)if(ut.length===1&&![d.PROJECT,d.SERVICE].includes(ee.type))Oe.push(Ye[ut[0]]);else{if(ee.type===d.BGP)return Le(ee,Ue.patterns);for(let at of Object.keys(Ue)){const ct=De[at];Array.isArray(ct)?De[at]=ct.map((ht,te)=>Ue[at][0].value===""?ht:p.createGraph(ht,Ue[at][te])):Ue[at][0].value!==""&&(De[at]=p.createGraph(ct,Ue[at][0]))}}return De}function Le(ee,Oe){var De;const Ue={};for(let at=0;at<ee.patterns.length;++at){const ct=ee.patterns[at],ht=Oe[at].value;Ue[ht]=(De=Ue[ht])!==null&&De!==void 0?De:{patterns:[],graph:Oe[at]},Ue[ht].patterns.push(ct)}let Ye=[];for(const[at,{patterns:ct,graph:ht}]of Object.entries(Ue)){const te=p.createBgp(ct);Ye.push(at===""?te:p.createGraph(te,ht))}let ut=Ye[0];for(let at=1;at<Ye.length;++at)ut=p.createJoin([ut,Ye[at]]);return ut}return Ju}var C8;function xt(){return C8||(C8=1,function(t){var e=I&&I.__createBinding||(Object.create?function(d,f,h,p){p===void 0&&(p=h);var m=Object.getOwnPropertyDescriptor(f,h);(!m||("get"in m?!f.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,p,m)}:function(d,f,h,p){p===void 0&&(p=h),d[p]=f[h]}),r=I&&I.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),n=I&&I.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var h in d)h!=="default"&&Object.prototype.hasOwnProperty.call(d,h)&&e(f,d,h);return r(f,d),f},a=I&&I.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.toSparqlJs=t.toSparql=t.Factory=t.Algebra=t.translate=void 0;const s=a(vEe());t.translate=s.default;const o=n(_1());t.Algebra=o;const u=a(eT());t.Factory=u.default;const c=PEe();Object.defineProperty(t,"toSparql",{enumerable:!0,get:function(){return c.toSparql}}),Object.defineProperty(t,"toSparqlJs",{enumerable:!0,get:function(){return c.toSparqlJs}});const l=a(xC());t.Util=l.default}(UA)),UA}var L8;function aY(){if(L8)return Ku;L8=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.materializeOperation=Ku.materializeTerm=void 0;const t=Ot,e=nr,r=Pn(),n=xt(),a=new t.DataFactory,s=a.literal("true",a.namedNode("http://www.w3.org/2001/XMLSchema#boolean"));function o(c,l){if(c.termType==="Variable"){const d=l.get(c);if(d)return d}return c.termType==="Quad"&&(0,r.someTermsNested)(c,d=>d.termType==="Variable")?(0,r.mapTermsNested)(c,d=>o(d,l)):c}Ku.materializeTerm=o;function u(c,l,d,f={}){return f={strictTargetVariables:"strictTargetVariables"in f?f.strictTargetVariables:!1,bindFilter:"bindFilter"in f?f.bindFilter:!0},n.Util.mapOperation(c,{path(h,p){return{recurse:!1,result:Object.assign(p.createPath(o(h.subject,l),h.predicate,o(h.object,l),o(h.graph,l)),{metadata:h.metadata})}},pattern(h,p){return{recurse:!1,result:Object.assign(p.createPattern(o(h.subject,l),o(h.predicate,l),o(h.object,l),o(h.graph,l)),{metadata:h.metadata})}},extend(h){if(l.has(h.variable)){if(f.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,e.termToString)(h.variable)} in a BIND operator.`);return{recurse:!0,result:u(h.input,l,d,f)}}return{recurse:!0,result:h}},group(h,p){if(f.strictTargetVariables){for(const y of h.variables)if(l.has(y))throw new Error(`Tried to bind variable ${(0,e.termToString)(y)} in a GROUP BY operator.`);return{recurse:!0,result:h}}const m=h.variables.filter(y=>!l.has(y));return{recurse:!0,result:p.createGroup(h.input,m,h.aggregates)}},project(h,p){if(f.strictTargetVariables){for(const g of h.variables)if(l.has(g))throw new Error(`Tried to bind variable ${(0,e.termToString)(g)} in a SELECT operator.`);return{recurse:!0,result:h}}const m=h.variables.filter(g=>!l.has(g)),y=d.bindings(h.variables.map(g=>{const b=l.get(g);if(b)return[g,b]}).filter(Boolean));return{recurse:!1,result:p.createProject(u(h.input,y,d,f),m)}},values(h,p){if(f.strictTargetVariables){for(const m of h.variables)if(l.has(m))throw new Error(`Tried to bind variable ${(0,e.termToString)(m)} in a VALUES operator.`)}else{const m=h.variables.filter(g=>!l.has(g)),y=h.bindings.map(g=>{const b={...g};let v=!0;return l.forEach((_,w)=>{const E=(0,e.termToString)(w);E in b&&(_.equals(b[E])||(v=!1),delete b[E])}),v?b:void 0}).filter(Boolean);return{recurse:!0,result:p.createValues(m,y)}}return{recurse:!1,result:h}},expression(h,p){if(!f.bindFilter)return{recurse:!1,result:h};if(h.expressionType==="term")return{recurse:!1,result:p.createTermExpression(o(h.term,l))};if(h.expressionType==="operator")return h.operator==="bound"&&h.args.length===1&&h.args[0].expressionType==="term"&&[...l.keys()].some(m=>h.args[0].term.equals(m))?{recurse:!1,result:p.createTermExpression(s)}:{recurse:!0,result:h};if(h.expressionType==="aggregate"&&"variable"in h&&l.has(h.variable)){if(f.strictTargetVariables)throw new Error(`Tried to bind ${(0,e.termToString)(h.variable)} in a ${h.aggregator} aggregate.`);return{recurse:!0,result:h}}return{recurse:!0,result:h}}})}return Ku.materializeOperation=u,Ku}var j8;function sY(){if(j8)return nh;j8=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.ActorQueryOperation=void 0;const t=qt,e=st,r=RC(),n=aY();let a=0,s=class Xa extends e.Actor{constructor(u){super(u)}static getSafeBindings(u){return Xa.validateQueryOutput(u,"bindings"),u}static getSafeQuads(u){return Xa.validateQueryOutput(u,"quads"),u}static getSafeBoolean(u){return Xa.validateQueryOutput(u,"boolean"),u}static getSafeVoid(u){return Xa.validateQueryOutput(u,"void"),u}static validateQueryOutput(u,c){if(u.type!==c)throw new Error(`Invalid query output type: Expected '${c}' but got '${u.type}'`)}static getBaseExpressionContext(u){const c=u.get(t.KeysInitQuery.queryTimestamp),l=u.get(t.KeysInitQuery.baseIRI),d=u.get(t.KeysInitQuery.functionArgumentsCache)??{};if(u.has(t.KeysInitQuery.extensionFunctionCreator)&&u.has(t.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");let f=u.get(t.KeysInitQuery.extensionFunctionCreator);const h=u.get(t.KeysInitQuery.extensionFunctions);return h&&(f=p=>h[p.value]),{now:c,baseIRI:l,extensionFunctionCreator:f,functionArgumentsCache:d}}static getExpressionContext(u,c){return{...this.getBaseExpressionContext(u),bnode:l=>new r.BlankNodeBindingsScoped(l??`BNODE_${a++}`)}}static getAsyncExpressionContext(u,c,l){return{...this.getBaseExpressionContext(u),bnode:d=>Promise.resolve(new r.BlankNodeBindingsScoped(d??`BNODE_${a++}`)),exists:Xa.createExistenceResolver(u,c,l)}}static createExistenceResolver(u,c,l){return async(d,f)=>{const h=(0,n.materializeOperation)(d.input,f,l),p=await c.mediate({operation:h,context:u}),m=Xa.getSafeBindings(p);return d.not!==((await m.bindingsStream.take(1).toArray()).length===1)}}static throwOnReadOnly(u){if(u.get(t.KeysQueryOperation.readOnly))throw new Error("Attempted a write operation in read-only mode")}static getOperationSource(u){var c;return(c=u.metadata)==null?void 0:c.scopedSource}static assignOperationSource(u,c){return u={...u},u.metadata=u.metadata?{...u.metadata}:{},u.metadata.scopedSource=c,u}static removeOperationSource(u){var c;(c=u.metadata)==null||delete c.scopedSource,u.metadata&&Object.keys(u.metadata).length===0&&delete u.metadata}static doesShapeAcceptOperation(u,c,l){return u.type==="conjunction"?u.children.every(d=>Xa.doesShapeAcceptOperation(d,c,l)):u.type==="disjunction"?u.children.some(d=>Xa.doesShapeAcceptOperation(d,c,l)):u.type==="arity"?Xa.doesShapeAcceptOperation(u.child,c,l):((l==null?void 0:l.joinBindings)&&!u.joinBindings)??((l==null?void 0:l.filterBindings)&&!u.filterBindings)?!1:u.operation.operationType==="type"?u.operation.type==="project"||u.operation.type===c.type:u.operation.pattern.type===c.type}};return nh.ActorQueryOperation=s,nh}var sh={},t3={},oh={},M8;function NEe(){if(M8)return oh;M8=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.MetadataValidationState=void 0;let t=class{constructor(){this.invalidateListeners=[],this.valid=!0}addInvalidateListener(r){this.invalidateListeners.push(r)}invalidate(){if(this.valid){this.valid=!1;for(const r of this.invalidateListeners)r()}}};return oh.MetadataValidationState=t,oh}var Ii={},F8;function DEe(){if(F8)return Ii;F8=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.cachifyMetadata=Ii.validateMetadataBindings=Ii.validateMetadataQuads=Ii.getMetadataBindings=Ii.getMetadataQuads=void 0;function t(s){return a(()=>new Promise((o,u)=>{s.getProperty("metadata",c=>o(c)),s.on("error",u)}).then(o=>r(o)))}Ii.getMetadataQuads=t;function e(s){return a(()=>new Promise((o,u)=>{s.getProperty("metadata",c=>o(c)),s.on("error",u)}).then(o=>("canContainUndefs"in o||(o.canContainUndefs=!1),n(o))))}Ii.getMetadataBindings=e;function r(s){for(const o of["cardinality"])if(!(o in s))throw new Error(`Invalid metadata: missing ${o} in ${JSON.stringify(s)}`);return s}Ii.validateMetadataQuads=r;function n(s){for(const o of["cardinality","canContainUndefs","variables"])if(!(o in s))throw new Error(`Invalid metadata: missing ${o} in ${JSON.stringify(s)}`);return s}Ii.validateMetadataBindings=n;function a(s){let o;return()=>(o||(o=s(),o.then(u=>u.state.addInvalidateListener(()=>{o=void 0})).catch(()=>{})),o)}return Ii.cachifyMetadata=a,Ii}var B8;function li(){return B8||(B8=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(NEe(),t),r(DEe(),t)}(t3)),t3}var q8;function oY(){if(q8)return sh;q8=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.ActorQueryOperationTyped=void 0;const t=qt,e=li(),r=sY();let n=class extends r.ActorQueryOperation{constructor(s,o){if(super({...s,operationName:o}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(s){if(!s.operation)throw new Error("Missing field 'operation' in a query operation action.");if(s.operation.type!==this.operationName)throw new Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${s.operation.type}`);const o=s.operation;return this.testOperation(o,s.context)}async run(s){const o=s.context.get(t.KeysInitQuery.physicalQueryPlanLogger);o&&(o.logOperation(s.operation.type,void 0,s.operation,s.context.get(t.KeysInitQuery.physicalQueryPlanNode),this.name,{}),s.context=s.context.set(t.KeysInitQuery.physicalQueryPlanNode,s.operation));const u=s.operation,c=s.context.set(t.KeysQueryOperation.operation,u),l=await this.runOperation(u,c);return"metadata"in l&&(l.metadata=(0,e.cachifyMetadata)(l.metadata)),l}};return sh.ActorQueryOperationTyped=n,sh}var uh={},$8;function CEe(){if($8)return uh;$8=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.ActorQueryOperationTypedMediated=void 0;const t=oY();let e=class extends t.ActorQueryOperationTyped{constructor(n,a){super(n,a)}};return uh.ActorQueryOperationTypedMediated=e,uh}var ch={},U8;function LEe(){if(U8)return ch;U8=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.BusQueryOperation=void 0;const t=st;let e=class extends t.BusIndexed{constructor(n){super({...n,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}};return ch.BusQueryOperation=e,ch}var lh={},Mt={},tT={};Object.defineProperty(tT,"__esModule",{value:!0});tT.LinkedList=void 0;class jEe{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}get empty(){return this._head===null}push(e){const r={value:e,next:null};this._tail===null?this._head=this._tail=r:this._tail.next=this._tail=r,this._length++}shift(){if(this._head===null)return;const{value:e,next:r}=this._head;return this._head=r,r===null&&(this._tail=null),this._length--,e}clear(){this._length=0,this._head=this._tail=null}}tT.LinkedList=jEe;var rT={};Object.defineProperty(rT,"__esModule",{value:!0});rT.createTaskScheduler=void 0;const MEe=Promise.resolve(void 0);function FEe(){const t=typeof queueMicrotask=="function"?queueMicrotask:a=>MEe.then(a),e=typeof setImmediate=="function"?setImmediate:a=>setTimeout(a,0);let r=0,n=null;return a=>{n!==null?n.push(a):++r<100?t(a):(n=[a],e(()=>{for(const s of n)t(s);n=null,r=0}))}}rT.createTaskScheduler=FEe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isIterator=t.isIterable=t.isSourceExpression=t.isPromise=t.isEventEmitter=t.isFunction=t.range=t.union=t.fromIterable=t.fromIterator=t.fromArray=t.single=t.empty=t.wrap=t.WrappingIterator=t.ClonedIterator=t.UnionIterator=t.MultiTransformIterator=t.SimpleTransformIterator=t.TransformIterator=t.BufferedIterator=t.MappingIterator=t.DESTINATION=t.identity=t.IntegerIterator=t.ArrayIterator=t.SingletonIterator=t.EmptyIterator=t.AsyncIterator=t.DESTROYED=t.ENDED=t.CLOSED=t.CLOSING=t.OPEN=t.INIT=t.setTaskScheduler=t.getTaskScheduler=t.scheduleTask=t.LinkedList=void 0;const e=Gb,r=tT;Object.defineProperty(t,"LinkedList",{enumerable:!0,get:function(){return r.LinkedList}});let a=rT.createTaskScheduler();function s(k){a(k)}t.scheduleTask=s;function o(){return a}t.getTaskScheduler=o;function u(k){a=k}t.setTaskScheduler=u,t.INIT=1,t.OPEN=2,t.CLOSING=4,t.CLOSED=8,t.ENDED=16,t.DESTROYED=32;class c extends e.EventEmitter{constructor(T=t.OPEN){super(),this._readable=!1,this._state=T,this.on("newListener",l)}_changeState(T,R=!1){const U=T>this._state&&this._state<t.ENDED;return U&&(this._state=T,T===t.ENDED&&(R?a(()=>this.emit("end")):this.emit("end"))),U}read(){return null}forEach(T,R){this.on("data",xe(T,R))}close(){this._changeState(t.CLOSED)&&this._endAsync()}destroy(T){this.done||this._destroy(T,R=>{T=T||R,T&&this.emit("error",T),this._end(!0)})}_destroy(T,R){R()}_end(T=!1){this._changeState(T?t.DESTROYED:t.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){a(()=>this._end())}get readable(){return this._readable}set readable(T){T=!!T&&!this.done,this._readable!==T&&(this._readable=T,T&&a(()=>this.emit("readable")))}get closed(){return this._state>=t.CLOSING}get ended(){return this._state===t.ENDED}get destroyed(){return this._state===t.DESTROYED}get done(){return this._state>=t.ENDED}toString(){const T=this._toStringDetails();return`[${this.constructor.name}${T?` ${T}`:""}]`}_toStringDetails(){return""}toArray(T){const R=[],U=typeof(T==null?void 0:T.limit)=="number"?T.limit:1/0;return this.ended||U<=0?Promise.resolve(R):new Promise((G,Q)=>{const Z=()=>G(R),se=re=>{R.push(re),R.length>=U&&(this.removeListener("error",Q),this.removeListener("data",se),this.removeListener("end",Z),G(R))};this.on("error",Q),this.on("data",se),this.on("end",Z)})}getProperty(T,R){const U=this._properties;if(!R)return U&&U[T];if(U&&T in U)a(()=>R(U[T]));else{let G;(G=this._propertyCallbacks)||(this._propertyCallbacks=G=Object.create(null)),T in G?G[T].push(R):G[T]=[R]}}setProperty(T,R){const U=this._properties||(this._properties=Object.create(null));U[T]=R;const G=this._propertyCallbacks||{},Q=G[T];if(Q){delete G[T],a(()=>{for(const Z of Q)Z(R)});for(T in G)return;delete this._propertyCallbacks}}getProperties(){const T=this._properties,R={};for(const U in T)R[U]=T[U];return R}setProperties(T){for(const R in T)this.setProperty(R,T[R])}copyProperties(T,R){for(const U of R)T.getProperty(U,G=>this.setProperty(U,G))}transform(T){return new P(this,T)}map(T,R){return new b(this,xe(T,R))}filter(T,R){return this.map(function(U){return T.call(R||this,U)?U:null})}uniq(T=g){const R=new Set;return this.filter(function(U){const G=T.call(this,U);return R.has(G)?!1:(R.add(G),!0)})}prepend(T){return this.transform({prepend:T})}append(T){return this.transform({append:T})}surround(T,R){return this.transform({prepend:T,append:R})}skip(T){return this.map(R=>T-- >0?null:R)}take(T){return this.transform({limit:T})}range(T,R){return this.transform({offset:T,limit:Math.max(R-T+1,0)})}clone(){return new $(this)}[Symbol.asyncIterator](){const T=this;let R=null,U=null,G=null;T.addListener("readable",Q),T.addListener("end",Q),T.addListener("error",Z);function Q(){if(R!==null)if(G!==null)Z(G);else if(T.done)R({done:!0,value:void 0}),R=U=null,se();else{const re=T.read();re!==null&&(R({done:!1,value:re}),R=U=null)}}function Z(re){U!==null?(U(re),R=U=G=null,se()):G===null&&(G=re)}function se(){T.removeListener("readable",Q),T.removeListener("end",Q),T.removeListener("error",Z)}return{next(){return new Promise((re,le)=>{R=re,U=le,Q()})}}}}t.AsyncIterator=c;function l(k){k==="data"&&(this.removeListener("newListener",l),f(this,"readable",d),this.readable&&a(()=>d.call(this)))}function d(){let k;for(;this.listenerCount("data")!==0&&(k=this.read())!==null;)this.emit("data",k);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",d),f(this,"newListener",l))}function f(k,T,R){k.listeners(T).includes(R)||k.on(T,R)}class h extends c{constructor(){super(),this._changeState(t.ENDED,!0)}}t.EmptyIterator=h;class p extends c{constructor(T){super(),this._item=T,T===null?this.close():this.readable=!0}read(){const T=this._item;return this._item=null,this.close(),T}_toStringDetails(){return this._item===null?"":`(${this._item})`}}t.SingletonIterator=p;class m extends c{constructor(T=[],{autoStart:R=!0,preserve:U=!0}={}){super();const G=U||!Array.isArray(T)?[...T]:T;this._index=0,this._sourceStarted=R!==!1,this._truncateThreshold=U?-1:64,this._sourceStarted&&G.length===0?this.close():this._buffer=G,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let T=null;return this._buffer&&(this._index<this._buffer.length&&(T=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),T}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(T,R){delete this._buffer,R()}toArray(T={}){if(!this._buffer)return Promise.resolve([]);const{length:R}=this._buffer,U=this._index,G=typeof T.limit!="number"?R:U+T.limit,Q=this._buffer.slice(U,G);return this._index=G,G>=R&&this.close(),Promise.resolve(Q)}}t.ArrayIterator=m;class y extends c{constructor({start:T=0,step:R=1,end:U}={}){super(),Number.isFinite(T)&&(T=Math.trunc(T)),this._next=T,Number.isFinite(R)&&(R=Math.trunc(R)),this._step=R;const G=R>=0,Q=G?1/0:-1/0;Number.isFinite(U)?U=Math.trunc(U):U!==-Q&&(U=Q),this._last=U,!Number.isFinite(T)||(G?T>U:T<U)?this.close():this.readable=!0}read(){if(this.closed)return null;const T=this._next,R=this._step,U=this._last,G=this._next+=R;return(R>=0?G>U:G<U)&&this.close(),T}_toStringDetails(){return`(${this._next}...${this._last})`}}t.IntegerIterator=y;function g(k){return k}t.identity=g,t.DESTINATION=Symbol("destination");class b extends c{constructor(T,R=g,U={}){super(),this._map=R,this._source=v(T),this._destroySource=U.destroySource!==!1,T.done?this.close():(this._source[t.DESTINATION]=this,this._source.on("end",L),this._source.on("error",O),this._source.on("readable",E),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let T,R;for(;(T=this._source.read())!==null;)if((R=this._map(T))!==null)return R}this.readable=!1,this._source.done&&this.close()}return null}_end(T){this._source.removeListener("end",L),this._source.removeListener("error",O),this._source.removeListener("readable",E),delete this._source[t.DESTINATION],this._destroySource&&this._source.destroy(),super._end(T)}}t.MappingIterator=b;function v(k,T=!1){if(!k||!Pe(k.read)||!Pe(k.on))throw new TypeError(`Invalid source: ${k}`);if(!T&&k[t.DESTINATION])throw new Error("The source already has a destination");return k}class _ extends c{constructor({maxBufferSize:T=4,autoStart:R=!0}={}){super(t.INIT),this._buffer=new r.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=T,a(()=>this._init(R)),this._sourceStarted=R!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(T){T!==1/0&&(T=Number.isFinite(T)?Math.max(Math.trunc(T),1):4),this._maxBufferSize!==T&&(this._maxBufferSize=T,this._state===t.OPEN&&this._fillBuffer())}_init(T){let R=!1;this._reading=!0,this._begin(()=>{if(R)throw new Error("done callback called multiple times");R=!0,this._reading=!1,this._changeState(t.OPEN),T?this._fillBufferAsync():this.readable=!0})}_begin(T){T()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const T=this._buffer;let R;return T.empty?(R=null,this.readable=!1):R=T.shift(),!this._reading&&T.length<this._maxBufferSize&&(this.closed?T.empty&&this._endAsync():this._fillBufferAsync()),R}_read(T,R){R()}_push(T){this.done||(this._pushedCount++,this._buffer.push(T),this.readable=!0)}_fillBuffer(){let T;this._reading||(this.closed?this._completeClose():(T=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(T,()=>{if(!T)throw new Error("done callback called multiple times");T=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,a(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(t.CLOSING):this._completeClose()}_completeClose(){this._changeState(t.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(T,R){this._buffer.clear(),R()}_flush(T){T()}_toStringDetails(){const T=this._buffer;return`{${T.empty?"":`next: ${T.first}, `}buffer: ${T.length}}`}}t.BufferedIterator=_;class w extends _{constructor(T,R=T||{}){super(R),this._boundPush=U=>this._push(U),Se(T)||(T=R.source),we(T)?this.source=T:T&&(this._createSource=Re(T)?()=>T:T,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!R.optional,this._destroySource=R.destroySource!==!1}get source(){return Pe(this._createSource)&&this._loadSourceAsync(),this._source}set source(T){const R=this._source=this._validateSource(T);R[t.DESTINATION]=this,this.done?this._destroySource&&R.destroy():R.done?this.close():(R.on("end",F),R.on("readable",x),R.on("error",O))}_loadSourceAsync(){Pe(this._createSource)&&(Promise.resolve(this._createSource()).then(T=>{delete this._createSource,this.source=T,this._fillBuffer()},T=>this.emit("error",T)),this._createSource=null)}_validateSource(T,R=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return v(T,R)}_read(T,R){const U=()=>{this._pushedCount<T&&!this.closed?a(()=>this._readAndTransform(U,R)):R()};this._readAndTransform(U,R)}_readAndTransform(T,R){let U;const G=this.source;!G||G.done||(U=G.read())===null?R():this._optional?this._optionalTransform(U,T):this._transform(U,T,this._boundPush)}_optionalTransform(T,R){const U=this._pushedCount;this._transform(T,()=>{U===this._pushedCount&&this._push(T),R()},this._boundPush)}_transform(T,R,U){U(T),R()}_closeWhenDone(){this.close()}_end(T){const R=this._source;R&&(R.removeListener("end",F),R.removeListener("error",O),R.removeListener("readable",x),delete R[t.DESTINATION],this._destroySource&&R.destroy()),super._end(T)}}t.TransformIterator=w;function E(){this[t.DESTINATION].readable=!0}function O(k){this[t.DESTINATION].emit("error",k)}function L(){this[t.DESTINATION].close()}function F(){this[t.DESTINATION]._closeWhenDone()}function x(){this[t.DESTINATION]._sourceStarted!==!1&&this[t.DESTINATION]._fillBuffer()}class P extends w{constructor(T,R){if(super(T,R),this._offset=0,this._limit=1/0,this._filter=U=>!0,R=R||(Se(T)?null:T),R){const U=Pe(R)?R:R.transform,{limit:G,offset:Q,filter:Z,map:se,prepend:re,append:le}=R;Q===1/0||G===-1/0?this._limit=0:(Number.isFinite(Q)&&(this._offset=Math.max(Math.trunc(Q),0)),Number.isFinite(G)&&(this._limit=Math.max(Math.trunc(G),0)),Pe(Z)&&(this._filter=Z),Pe(se)&&(this._map=se),this._transform=Pe(U)?U:null),re&&(this._prepender=we(re)?re:Te(re)),le&&(this._appender=we(le)?le:Te(le))}}_read(T,R){const U=()=>this._readAndTransformSimple(T,G,R);this._readAndTransformSimple(T,G,R);function G(){a(U)}}_readAndTransformSimple(T,R,U){let G;const{source:Q}=this;if(!Q||Q.done){U();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<T&&(G=Q.read())!==null;){if(!this._filter(G)||this._offset!==0&&this._offset--)continue;const Z=typeof this._map>"u"?G:this._map(G);if(Z===null)this._optional&&this._push(G);else if(!Pe(this._transform))this._push(Z);else{this._optional?this._optionalTransform(Z,R):this._transform(Z,R,this._boundPush);return}--this._limit===0&&this.close()}U()}_begin(T){this._insert(this._prepender,T),delete this._prepender}_flush(T){this._insert(this._appender,T),delete this._appender}_insert(T,R){const U=Q=>this._push(Q);!T||T.done?R():(T.on("data",U),T.on("end",G));function G(){T.removeListener("data",U),T.removeListener("end",G),R()}}}t.SimpleTransformIterator=P;class j extends w{constructor(T,R){if(super(T,R),this._transformerQueue=[],R){const U=Pe(R)?R:R.multiTransform;U&&(this._createTransformer=U)}}_read(T,R){const U=this._transformerQueue,G=this._optional;let Q,Z;for(;(Q=U[0])&&Q.transformer.done;){G&&Q.item!==null&&(T--,this._push(Q.item)),U.shift();const{transformer:re}=Q;re.removeListener("end",x),re.removeListener("readable",x),re.removeListener("error",O)}const{source:se}=this;for(;se&&!se.done&&U.length<this.maxBufferSize&&(Z=se.read(),Z!==null);){const re=this._createTransformer(Z)||new h;re[t.DESTINATION]=this,re.on("end",x),re.on("readable",x),re.on("error",O),U.push({transformer:re,item:Z})}if(Q=U[0],Q){const{transformer:re}=Q;for(;T-- >0&&(Z=re.read())!==null;)this._push(Z),G&&(Q.item=null)}else se&&se.done&&this.close();R()}_createTransformer(T){return new p(T)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(T){if(super._end(T),this._destroySource)for(const R of this._transformerQueue)R.transformer.destroy()}}t.MultiTransformIterator=j;class N extends _{constructor(T,R={}){super(R),this._sources=[],this._currentSource=-1;const U=R.autoStart!==!1;if(we(T))T.on("error",G=>this.emit("error",G)),this._pending={loading:!1,sources:T},U&&this._loadSources();else if(Array.isArray(T)&&T.length>0)for(const G of T)this._addSource(G);else U&&this.close();this._destroySources=R.destroySources!==!1}_loadSources(){const T=this._pending.sources;this._pending.loading=!0,T.done?(delete this._pending,this.close()):(T.on("data",R=>{this._addSource(R),this._fillBufferAsync()}),T.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(T){Re(T)&&(T=X(T)),T.done||(this._sources.push(T),T[t.DESTINATION]=this,T.on("error",O),T.on("readable",x),T.on("end",V))}_removeEmptySources(){this._sources=this._sources.filter((T,R)=>(T.done&&R<=this._currentSource&&this._currentSource--,!T.done)),this._fillBuffer()}_read(T,R){var U;((U=this._pending)===null||U===void 0?void 0:U.loading)===!1&&this._loadSources();let G=0,Q;for(;G!==(G=T);)for(let Z=0;Z<this._sources.length&&T>0;Z++)this._currentSource=(this._currentSource+1)%this._sources.length,(Q=this._sources[this._currentSource].read())!==null&&(T--,this._push(Q));!this._pending&&this._sources.length===0&&this.close(),R()}_end(T=!1){if(super._end(T),this._destroySources){for(const R of this._sources)R.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}t.UnionIterator=N;function V(){this[t.DESTINATION]._removeEmptySources()}class $ extends w{constructor(T){super(T,{autoStart:!1}),this._readPosition=0,this._reading=!1,T&&(this.readable=!0)}_init(){}close(){c.prototype.close.call(this)}get source(){return super.source}set source(T){const R=this._source=this._validateSource(T),U=R&&R[t.DESTINATION]||(R[t.DESTINATION]=new q(R));this.done?this._destroySource&&R.destroy():U.endsAt(0)?this.close():(U.register(this),(R._sourceStarted===!1||U.readAt(0)!==null)&&(this.readable=!0));const G=this._propertyCallbacks;for(const Q in G){const Z=G[Q];for(const se of Z)this._getSourceProperty(Q,se)}}_validateSource(T,R=!1){const U=T&&T[t.DESTINATION];return super._validateSource(T,!U||U instanceof q)}getProperty(T,R){const{source:U}=this,G=this._properties,Q=G&&T in G;if(!R)return Q?G&&G[T]:U&&U.getProperty(T);super.getProperty(T,R),U&&!Q&&this._getSourceProperty(T,R)}_getSourceProperty(T,R){this.source.getProperty(T,U=>{(!this._properties||!(T in this._properties))&&R(U)})}getProperties(){const T=this.source?this.source.getProperties():{},R=this._properties;for(const U in R)T[U]=R[U];return T}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const T=this.source;let R=null;if(!this.done&&T){const U=T[t.DESTINATION];(R=U.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,U.endsAt(this._readPosition)&&this.close()}return R}_end(T){const R=this.source,U=R==null?void 0:R[t.DESTINATION];U&&U.unregister(this),_.prototype._end.call(this,T)}}t.ClonedIterator=$;class q{constructor(T){if(this._history=[],this._trackers=new Set,this._source=T,!T.done){const R=()=>{for(const Q of this._trackers)Q.readable=!0},U=Q=>{for(const Z of this._trackers)Z.emit("error",Q)},G=()=>{for(const Q of this._trackers)Q._sourceStarted!==!1&&Q._readPosition===this._history.length&&Q.close();this._trackers.clear(),T.removeListener("end",G),T.removeListener("error",U),T.removeListener("readable",R)};T.on("end",G),T.on("error",U),T.on("readable",R)}}register(T){this._source.done||this._trackers.add(T)}unregister(T){this._trackers.delete(T)}readAt(T){let R=null;return T<this._history.length?R=this._history[T]:!this._source.done&&(R=this._source.read())!==null&&(this._history[T]=R),R}endsAt(T){return this._source.done&&this._history.length===T}}class H extends c{constructor(T,R){super(),this._source=null,this._destroySource=(R==null?void 0:R.destroySource)!==!1,Re(T)?(this._source=new c,T.then(U=>{this._source=null,this.source=U}).catch(U=>this.emit("error",U))):T&&(this.source=T)}set source(T){let R=T;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(z(R)&&(R=R[Symbol.iterator]()),M(R)){let U=R;R=new e.EventEmitter,R.read=()=>{if(U!==null){let G;for(;!(G=U.next()).done;)if(G.value!==null)return G.value;U=null,this.close()}return null}}else R=v(R);if(this.done){this._destroySource&&Pe(R.destroy)&&R.destroy();return}R[t.DESTINATION]=this,R.on("end",L),R.on("error",O),R.on("readable",E),this._source=R,this.readable=R.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const T=this._source.read();if(T!==null)return T;this.readable=!1}return null}_end(T=!1){this._source!==null&&(this._source.removeListener("end",L),this._source.removeListener("error",O),this._source.removeListener("readable",E),delete this._source[t.DESTINATION],this._destroySource&&Pe(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(T)}}t.WrappingIterator=H;function X(k,T){if(T&&("autoStart"in T||"optional"in T||"source"in T||"maxBufferSize"in T))return k&&!we(k)&&(k=new H(k)),new w(k,T);if(!k)return Y();if(Re(k))return new H(k,T);if(k instanceof c)return k;if(Array.isArray(k))return Te(k);if(z(k)||M(k)||we(k))return new H(k,T);throw new TypeError(`Invalid source: ${k}`)}t.wrap=X;function Y(){return new h}t.empty=Y;function he(k){return new p(k)}t.single=he;function Te(k){return new m(k)}t.fromArray=Te;function Ne(k){return new H(k)}t.fromIterator=Ne;function $e(k){return new H(k)}t.fromIterable=$e;function de(k){return new N(k)}t.union=de;function ce(k,T,R){return new y({start:k,end:T,step:R})}t.range=ce;function xe(k,T){return T?k.bind(T):k}function Pe(k){return typeof k=="function"}t.isFunction=Pe;function we(k){return Pe(k==null?void 0:k.on)}t.isEventEmitter=we;function Re(k){return Pe(k==null?void 0:k.then)}t.isPromise=Re;function Se(k){return k&&(we(k)||Re(k)||Pe(k))}t.isSourceExpression=Se;function z(k){return k&&Symbol.iterator in k}t.isIterable=z;function M(k){return Pe(k==null?void 0:k.next)}t.isIterator=M})(Mt);var k8;function BEe(){if(k8)return lh;k8=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.ClosableTransformIterator=void 0;const t=Mt;let e=class extends t.TransformIterator{constructor(n,a){super(n,a),this.onClose=a.onClose}_end(n){this.onClose(),super._end(n)}};return lh.ClosableTransformIterator=e,lh}var V8;function Tt(){return V8||(V8=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(sY(),t),r(oY(),t),r(CEe(),t),r(aY(),t),r(LEe(),t),r(BEe(),t)}(BA)),BA}var r3={},dh={},n3={},fh={},H8;function qEe(){if(H8)return fh;H8=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.ActorContextPreprocess=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return fh.ActorContextPreprocess=e,fh}var Q8;function w1(){return Q8||(Q8=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(qEe(),t)}(n3)),n3}var z8;function $Ee(){if(z8)return dh;z8=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.ActorContextPreprocessConvertShortcuts=void 0;const t=w1(),e=st;let r=class uY extends t.ActorContextPreprocess{constructor(a){super(a)}async test(a){return!0}async run(a){return{context:uY.expandShortcuts(a.context,this.contextKeyShortcuts)}}static expandShortcuts(a,s){for(const o of a.keys())s[o.name]&&(a=a.set(new e.ActionContextKey(s[o.name]),a.get(o)).delete(o));return a}};return dh.ActorContextPreprocessConvertShortcuts=r,dh}var G8;function UEe(){return G8||(G8=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r($Ee(),t)}(r3)),r3}var i3={},hh={},W8;function kEe(){if(W8)return hh;W8=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.ActorContextPreprocessSetDefaults=void 0;const t=w1(),e=qt;let r=class extends t.ActorContextPreprocess{constructor(a){super(a),this.defaultFunctionArgumentsCache={}}async test(a){return!0}async run(a){let s=a.context;if(a.initialize){s=s.setDefault(e.KeysInitQuery.queryTimestamp,new Date).setDefault(e.KeysQuerySourceIdentify.sourceIds,new Map).setDefault(e.KeysCore.log,this.logger).setDefault(e.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(e.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores,new Map);let o={language:"sparql",version:"1.1"};s.has(e.KeysInitQuery.queryFormat)?(o=s.get(e.KeysInitQuery.queryFormat),o.language==="graphql"&&(s=s.setDefault(e.KeysInitQuery.graphqlSingularizeVariables,{}))):s=s.set(e.KeysInitQuery.queryFormat,o)}return{context:s}}};return hh.ActorContextPreprocessSetDefaults=r,hh}var K8;function VEe(){return K8||(K8=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kEe(),t)}(i3)),i3}var a3={},ph={},J8;function HEe(){if(J8)return ph;J8=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.ActorContextPreprocessSourceToDestination=void 0;const t=w1(),e=qt;let r=class extends t.ActorContextPreprocess{constructor(a){super(a)}async test(a){return!0}async run(a){if(a.context.get(e.KeysInitQuery.querySourcesUnidentified)&&!a.context.get(e.KeysRdfUpdateQuads.destination)){const s=a.context.get(e.KeysInitQuery.querySourcesUnidentified);if(s.length===1)return{context:a.context.set(e.KeysRdfUpdateQuads.destination,s[0])}}return a}};return ph.ActorContextPreprocessSourceToDestination=r,ph}var X8;function QEe(){return X8||(X8=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(HEe(),t)}(a3)),a3}var s3={},yh={},mh={},o3={},Y8;function PC(){return Y8||(Y8=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.deskolemizeOperation=t.deskolemizeQuad=t.deskolemizeTermNestedThrowing=t.deskolemizeTerm=t.skolemizeBindingsStream=t.skolemizeQuadStream=t.skolemizeBindings=t.skolemizeQuad=t.skolemizeTerm=t.getSourceId=t.SKOLEM_PREFIX=void 0;const e=RC(),r=Ot,n=Pn(),a=xt(),s=new r.DataFactory;t.SKOLEM_PREFIX="urn:comunica_skolem:source_";function o(g,b){let v=g.get(b.referenceValue);return v===void 0&&(v=`${g.size}`,g.set(b.referenceValue,v)),v}t.getSourceId=o;function u(g,b){return g.termType==="BlankNode"?new e.BlankNodeScoped(`bc_${b}_${g.value}`,s.namedNode(`${t.SKOLEM_PREFIX}${b}:${g.value}`)):g}t.skolemizeTerm=u;function c(g,b){return(0,n.mapTermsNested)(g,v=>u(v,b))}t.skolemizeQuad=c;function l(g,b){return g.map(v=>v.termType==="Quad"?c(v,b):u(v,b))}t.skolemizeBindings=l;function d(g,b){const v=g.map(w=>c(w,b));function _(){g.getProperty("metadata",w=>{v.setProperty("metadata",w),w.state.addInvalidateListener(_)})}return _(),v}t.skolemizeQuadStream=d;function f(g,b){const v=g.map(w=>l(w,b));function _(){g.getProperty("metadata",w=>{v.setProperty("metadata",w),w.state.addInvalidateListener(_)})}return _(),v}t.skolemizeBindingsStream=f;function h(g,b){if(g.termType==="BlankNode"&&"skolemized"in g&&(g=g.skolemized),g.termType==="NamedNode"&&g.value.startsWith(t.SKOLEM_PREFIX)){const v=g.value.indexOf(":",t.SKOLEM_PREFIX.length);if(g.value.slice(t.SKOLEM_PREFIX.length,v)===b){const w=g.value.slice(v+1,g.value.length);return s.blankNode(w)}return null}return g}t.deskolemizeTerm=h;function p(g,b){if(g.termType==="Quad")return(0,n.mapTermsNested)(g,_=>{const w=h(_,b);if(!w)throw new Error("Skolemized term is not in scope for this source");return w});const v=h(g,b);if(v===null)throw new Error("Skolemized term is not in scope for this source");return v}t.deskolemizeTermNestedThrowing=p;function m(g,b){return(0,n.mapTermsNested)(g,v=>h(v,b)??v)}t.deskolemizeQuad=m;function y(g,b){try{return a.Util.mapOperation(g,{[a.Algebra.types.PATTERN](v,_){return{result:Object.assign(_.createPattern(p(v.subject,b),p(v.predicate,b),p(v.object,b),p(v.graph,b)),{metadata:v.metadata}),recurse:!1}},[a.Algebra.types.PATH](v,_){return{result:Object.assign(_.createPath(p(v.subject,b),v.predicate,p(v.object,b),p(v.graph,b)),{metadata:v.metadata}),recurse:!1}}})}catch{}}t.deskolemizeOperation=y}(o3)),o3}var Z8;function cY(){if(Z8)return mh;Z8=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.QuerySourceSkolemized=void 0;const t=li(),e=Mt,r=PC();let n=class{constructor(s,o){this.innerSource=s,this.sourceId=o}async getSelectorShape(s){return this.innerSource.getSelectorShape(s)}queryBindings(s,o,u){const c=(0,r.deskolemizeOperation)(s,this.sourceId);if(!c){const l=new e.ArrayIterator([],{autoStart:!1});return l.setProperty("metadata",{state:new t.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:[]}),l}return(0,r.skolemizeBindingsStream)(this.innerSource.queryBindings(c,o,u),this.sourceId)}queryBoolean(s,o){return this.innerSource.queryBoolean(s,o)}queryQuads(s,o){const u=(0,r.deskolemizeOperation)(s,this.sourceId);if(!u){const c=new e.ArrayIterator([],{autoStart:!1});return c.setProperty("metadata",{state:new t.MetadataValidationState,cardinality:{type:"exact",value:0}}),c}return(0,r.skolemizeQuadStream)(this.innerSource.queryQuads(u,o),this.sourceId)}queryVoid(s,o){return this.innerSource.queryVoid(s,o)}get referenceValue(){return this.innerSource.referenceValue}toString(){return`${this.innerSource.toString()}(SkolemID:${this.sourceId})`}};return mh.QuerySourceSkolemized=n,mh}var eF;function zEe(){if(eF)return yh;eF=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.ActorContextPreprocessQuerySourceSkolemize=void 0;const t=w1(),e=qt,r=cY(),n=PC();let a=class extends t.ActorContextPreprocess{constructor(o){super(o)}async test(o){return!0}async run(o){let u=o.context;if(u.has(e.KeysQueryOperation.querySources)){u.has(e.KeysQuerySourceIdentify.sourceIds)||(u=u.set(e.KeysQuerySourceIdentify.sourceIds,new Map));const c=u.getSafe(e.KeysQuerySourceIdentify.sourceIds);let l=u.getSafe(e.KeysQueryOperation.querySources);l=l.map(d=>({source:new r.QuerySourceSkolemized(d.source,(0,n.getSourceId)(c,d.source)),context:d.context})),u=u.set(e.KeysQueryOperation.querySources,l)}return{context:u}}};return yh.ActorContextPreprocessQuerySourceSkolemize=a,yh}var tF;function lY(){return tF||(tF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(zEe(),t),r(cY(),t),r(PC(),t)}(s3)),s3}var u3={},gh={},rF;function GEe(){if(rF)return gh;rF=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.MediatorCombinePipeline=void 0;const t=st;let e=class extends t.Mediator{constructor(n){super(n)}async mediate(n){let a;try{a=this.publish(n)}catch{return n}if(this.filterErrors){const o=[];for(const u of a)try{await u.reply,o.push(u)}catch{}a=o}if(a=await Promise.all(a.map(async({actor:o,reply:u})=>({actor:o,reply:await u}))),this.order){const o=u=>{const c=this.field?u[this.field]:u;if(typeof c!="number")throw new TypeError("Cannot order elements that are not numbers.");return c};a=a.sort((u,c)=>(this.order==="increasing"?1:-1)*(o(u.reply)-o(c.reply)))}let s=n;for(const{actor:o}of a)s={...s,...await o.runObservable(s)};return s}mediateWith(){throw new Error("Method not supported.")}};return gh.MediatorCombinePipeline=e,gh}var nF;function iF(){return nF||(nF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(GEe(),t)}(u3)),u3}var c3={},_h={},l3={},bh={},aF;function WEe(){if(aF)return bh;aF=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.ActorHashBindings=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return bh.ActorHashBindings=e,bh}var sF;function KEe(){return sF||(sF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(WEe(),t)}(l3)),l3}var d3,oF;function JEe(){return oF||(oF=1,d3=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((a,s,o)=>`${a}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((n,a)=>{if(e[a]===void 0||typeof e[a]=="symbol")return n;const s=n.length===0?"":",";return`${n}${s}${t(a)}:${t(e[a])}`},"")}}`}),d3}var uF;function XEe(){if(uF)return _h;uF=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.ActorHashBindingsSha1=void 0;const t=KEe(),e=IC(),r=nr,n=JEe();let a=class extends t.ActorHashBindings{async test(o){if(!o.allowHashCollisions)throw new Error(`Actor ${this.name} can not provide hash functions without hash collisions`);return!0}async run(o){return{hashFunction:u=>(0,e.sha1)().update(n(Object.fromEntries([...u].map(([c,l])=>[(0,r.termToString)(c),(0,r.termToString)(l)])))).digest("hex"),hashCollisions:!0}}};return _h.ActorHashBindingsSha1=a,_h}var cF;function YEe(){return cF||(cF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(XEe(),t)}(c3)),c3}var f3={},vh={},lF;function ZEe(){if(lF)return vh;lF=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.MediatorRace=void 0;const t=st;let e=class extends t.Mediator{constructor(n){super(n)}mediateWith(n,a){return new Promise((s,o)=>{const u=[];for(const c of a)c.reply.then(()=>{s(c.actor)}).catch(l=>{u.push(l),u.length===a.length&&o(new Error(`${this.name} mediated over all rejecting actors:
${u.map(d=>d.message).join(`
`)}`))})})}};return vh.MediatorRace=e,vh}var dF;function zn(){return dF||(dF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ZEe(),t)}(f3)),f3}var h3={},wh={},p3={},Sh={},fF;function eAe(){if(fF)return Sh;fF=1,Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.ActorOptimizeQueryOperation=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return Sh.ActorOptimizeQueryOperation=e,Sh}var hF;function Ua(){return hF||(hF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(eAe(),t)}(p3)),p3}var pF;function tAe(){if(pF)return wh;pF=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.ActorOptimizeQueryOperationRewriteCopy=void 0;const t=Ua(),e=xt();let r=class extends t.ActorOptimizeQueryOperation{constructor(a){super(a)}async test(a){return!0}async run(a){return{operation:e.Util.mapOperation(a.operation,{[e.Algebra.types.COPY](o,u){let c;return typeof o.destination=="string"&&typeof o.source=="string"&&o.destination===o.source||typeof o.destination!="string"&&typeof o.source!="string"&&o.destination.equals(o.source)?c=u.createCompositeUpdate([]):c=u.createCompositeUpdate([u.createDrop(o.destination,!0),u.createAdd(o.source,o.destination,o.silent)]),{result:c,recurse:!1}}}),context:a.context}}};return wh.ActorOptimizeQueryOperationRewriteCopy=r,wh}var yF;function rAe(){return yF||(yF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(tAe(),t)}(h3)),h3}var y3={},Th={},mF;function nAe(){if(mF)return Th;mF=1,Object.defineProperty(Th,"__esModule",{value:!0}),Th.ActorOptimizeQueryOperationRewriteMove=void 0;const t=Ua(),e=xt();let r=class extends t.ActorOptimizeQueryOperation{constructor(a){super(a)}async test(a){return!0}async run(a){return{operation:e.Util.mapOperation(a.operation,{[e.Algebra.types.MOVE](o,u){let c;if(typeof o.destination=="string"&&typeof o.source=="string"&&o.destination===o.source||typeof o.destination!="string"&&typeof o.source!="string"&&o.destination.equals(o.source))c=u.createCompositeUpdate([]);else{const l=[u.createDrop(o.destination,!0),u.createAdd(o.source,o.destination,o.silent),u.createDrop(o.source)];c=u.createCompositeUpdate(l)}return{result:c,recurse:!1}}}),context:a.context}}};return Th.ActorOptimizeQueryOperationRewriteMove=r,Th}var gF;function iAe(){return gF||(gF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(nAe(),t)}(y3)),y3}var m3={},Eh={},_F;function aAe(){if(_F)return Eh;_F=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.ActorOptimizeQueryOperationRewriteAdd=void 0;const t=Ua(),e=Ot,r=xt(),n=new e.DataFactory;let a=class extends t.ActorOptimizeQueryOperation{constructor(o){super(o)}async test(o){return!0}async run(o){return{operation:r.Util.mapOperation(o.operation,{[r.Algebra.types.ADD](c,l){const d=c.destination==="DEFAULT"?n.defaultGraph():c.destination,f=c.source==="DEFAULT"?n.defaultGraph():c.source;return{result:l.createDeleteInsert(void 0,[l.createPattern(n.variable("s"),n.variable("p"),n.variable("o"),d)],l.createPattern(n.variable("s"),n.variable("p"),n.variable("o"),f)),recurse:!1}}}),context:o.context}}};return Eh.ActorOptimizeQueryOperationRewriteAdd=a,Eh}var bF;function sAe(){return bF||(bF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(aAe(),t)}(m3)),m3}var g3={},Ah={},vF;function oAe(){if(vF)return Ah;vF=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.ActorOptimizeQueryOperationGroupSources=void 0;const t=Ua(),e=Tt(),r=xt(),n=new r.Factory;let a=class extends t.ActorOptimizeQueryOperation{constructor(o){super(o)}async test(o){if(e.ActorQueryOperation.getOperationSource(o.operation))throw new Error(`Actor ${this.name} does not work with top-level operation sources.`);return!0}async run(o){return{operation:await this.groupOperation(o.operation,o.context),context:o.context}}async groupOperation(o,u){var f;if(e.ActorQueryOperation.getOperationSource(o)??!("input"in o))return o;if(!Array.isArray(o.input)){const h=await this.groupOperation(o.input,u);if((f=h.metadata)!=null&&f.scopedSource){const p=e.ActorQueryOperation.getOperationSource(h);e.ActorQueryOperation.doesShapeAcceptOperation(await p.source.getSelectorShape(u),o)&&(this.logDebug(u,`Hoist 1 source-specific operation into a single ${o.type} operation for ${p.source.toString()}`),e.ActorQueryOperation.removeOperationSource(h),o=e.ActorQueryOperation.assignOperationSource(o,p))}return{...o,input:h}}const c=await Promise.all(o.input.map(h=>this.groupOperation(h,u))),l=this.clusterOperationsWithEqualSources(c);if(l.length===1){const h=l[0],p=e.ActorQueryOperation.getOperationSource(l[0][0]);return{...await this.moveSourceAnnotationUpwardsIfPossible(o,h,p,u),input:h}}if(l.length===c.length)return{...o,input:c};let d;switch(o.type){case r.Algebra.types.JOIN:d=n.createJoin.bind(n);break;case r.Algebra.types.UNION:d=n.createUnion.bind(n);break;case r.Algebra.types.ALT:d=n.createAlt.bind(n);break;case r.Algebra.types.SEQ:d=n.createSeq.bind(n);break;default:throw new Error(`Unsupported operation '${o.type}' detected while grouping sources`)}return await this.groupOperationMulti(l,d,u)}async groupOperationMulti(o,u,c){let l=!0;const d=await Promise.all(o.map(async f=>{const h=e.ActorQueryOperation.getOperationSource(f[0]),p=await this.moveSourceAnnotationUpwardsIfPossible(u(f,!0),f,h,c);return e.ActorQueryOperation.getOperationSource(p)&&(l=!1),p}));return u(d,l)}clusterOperationsWithEqualSources(o){const u=new Map,c=[];for(const d of o){const f=e.ActorQueryOperation.getOperationSource(d);f?(u.has(f)||u.set(f,[]),u.get(f).push(d)):c.push(d)}const l=[];c.length>0&&l.push(c);for(const[d,f]of u.entries())l.push(f.map(h=>e.ActorQueryOperation.assignOperationSource(h,d)));return l}async moveSourceAnnotationUpwardsIfPossible(o,u,c,l){if(c&&e.ActorQueryOperation.doesShapeAcceptOperation(await c.source.getSelectorShape(l),o)){this.logDebug(l,`Hoist ${u.length} source-specific operations into a single ${o.type} operation for ${c.source.toString()}`),o=e.ActorQueryOperation.assignOperationSource(o,c);for(const d of u)e.ActorQueryOperation.removeOperationSource(d)}return o}};return Ah.ActorOptimizeQueryOperationGroupSources=a,Ah}var wF;function uAe(){return wF||(wF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(oAe(),t)}(g3)),g3}var _3={},Oh={},b3={},Rh={},SF;function cAe(){if(SF)return Rh;SF=1,Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.ActorQueryParse=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return Rh.ActorQueryParse=e,Rh}var TF;function dY(){return TF||(TF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(cAe(),t)}(b3)),b3}var EF;function lAe(){if(EF)return Oh;EF=1,Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.ActorQueryParseSparql=void 0;const t=dY(),e=xt(),r=ol;let n=class extends t.ActorQueryParse{constructor(s){super(s),this.prefixes=Object.freeze(this.prefixes)}async test(s){if(s.queryFormat&&s.queryFormat.language!=="sparql")throw new Error("This actor can only parse SPARQL queries");return!0}async run(s){const u=new r.Parser({prefixes:this.prefixes,baseIRI:s.baseIRI,sparqlStar:!0}).parse(s.query);return{baseIRI:u.type==="query"?u.base:void 0,operation:(0,e.translate)(u,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:s.baseIRI})}}};return Oh.ActorQueryParseSparql=n,Oh}var AF;function dAe(){return AF||(AF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(lAe(),t)}(_3)),_3}var v3={},xh={},w3={},S3={},T3={},Ih={},OF;function xf(){if(OF)return Ih;OF=1,Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.DirectiveNodeHandlerAdapter=void 0;let t=class{constructor(r,n,a){this.targetKind=r,this.util=n,this.settings=a}getDirectiveConditionalValue(r,n){const a=this.util.getArgument(r.arguments,"if");if(!a)throw new Error(`The directive ${r.name.value} is missing an if-argument.`);const s=this.util.handleNodeValue(a.value,a.name.value,n);if(s.terms.length!==1)throw new Error(`Can not apply the directive ${r.name.value} with a list.`);return s.terms[0]}isDirectiveScopeAll(r){const n=this.util.getArgument(r.arguments,"scope");return n&&n.value.kind==="EnumValue"&&n.value.value==="all"}};return Ih.DirectiveNodeHandlerAdapter=t,Ih}var Ph={},RF;function fAe(){if(RF)return Ph;RF=1,Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.DirectiveNodeHandlerInclude=void 0;const t=xf();let e=class extends t.DirectiveNodeHandlerAdapter{constructor(n,a){super("include",n,a)}handle(n,a){const s=this.getDirectiveConditionalValue(n.directive,a);return s.termType==="Literal"&&s.value==="false"?{ignore:!0}:{}}};return Ph.DirectiveNodeHandlerInclude=e,Ph}var Nh={},xF;function hAe(){if(xF)return Nh;xF=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.DirectiveNodeHandlerOptional=void 0;const t=xf();let e=class extends t.DirectiveNodeHandlerAdapter{constructor(n,a){super("optional",n,a)}handle(n,a){return{operationOverrider:s=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),s)}}};return Nh.DirectiveNodeHandlerOptional=e,Nh}var Dh={},E3={},IF;function S1(){return IF||(IF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SingularizeState=void 0,function(e){e[e.SINGLE=0]="SINGLE",e[e.PLURAL=1]="PLURAL"}(t.SingularizeState||(t.SingularizeState={}))}(E3)),E3}var PF;function pAe(){if(PF)return Dh;PF=1,Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.DirectiveNodeHandlerPlural=void 0;const t=S1(),e=xf();let r=class extends e.DirectiveNodeHandlerAdapter{constructor(a,s){super("plural",a,s)}handle(a,s){return this.isDirectiveScopeAll(a.directive)&&(s.singularizeState=t.SingularizeState.PLURAL),delete s.singularizeVariables[this.util.nameToVariable(a.fieldLabel,s).value],{}}};return Dh.DirectiveNodeHandlerPlural=r,Dh}var Ch={},NF;function yAe(){if(NF)return Ch;NF=1,Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.DirectiveNodeHandlerSingle=void 0;const t=S1(),e=xf();let r=class extends e.DirectiveNodeHandlerAdapter{constructor(a,s){super("single",a,s)}handle(a,s){return this.isDirectiveScopeAll(a.directive)&&(s.singularizeState=t.SingularizeState.SINGLE),s.singularizeVariables[this.util.nameToVariable(a.fieldLabel,s).value]=!0,{}}};return Ch.DirectiveNodeHandlerSingle=r,Ch}var Lh={},DF;function mAe(){if(DF)return Lh;DF=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.DirectiveNodeHandlerSkip=void 0;const t=xf();let e=class extends t.DirectiveNodeHandlerAdapter{constructor(n,a){super("skip",n,a)}handle(n,a){const s=this.getDirectiveConditionalValue(n.directive,a);return s.termType==="Literal"&&s.value==="true"?{ignore:!0}:{}}};return Lh.DirectiveNodeHandlerSkip=e,Lh}var CF;function fY(){return CF||(CF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(xf(),t),r(fAe(),t),r(hAe(),t),r(pAe(),t),r(yAe(),t),r(mAe(),t)}(T3)),T3}var A3={},jh={},LF;function Ts(){if(LF)return jh;LF=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.NodeValueHandlerAdapter=void 0;let t=class{constructor(r,n,a){this.targetKind=r,this.util=n,this.settings=a}};return jh.NodeValueHandlerAdapter=t,jh}var Mh={},jF;function gAe(){if(jF)return Mh;jF=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.NodeValueHandlerBoolean=void 0;const t=Ts();let e=class extends t.NodeValueHandlerAdapter{constructor(n,a){super("BooleanValue",n,a),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(n,a,s){return{terms:[this.util.dataFactory.literal(n.value?"true":"false",this.datatype)]}}};return Mh.NodeValueHandlerBoolean=e,Mh}var Fh={},MF;function _Ae(){if(MF)return Fh;MF=1,Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.NodeValueHandlerEnum=void 0;const t=Ts();let e=class extends t.NodeValueHandlerAdapter{constructor(n,a){super("EnumValue",n,a)}handle(n,a,s){return{terms:[this.util.valueToNamedNode(n.value,s.context)]}}};return Fh.NodeValueHandlerEnum=e,Fh}var Bh={},FF;function bAe(){if(FF)return Bh;FF=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.NodeValueHandlerFloat=void 0;const t=Ts();let e=class extends t.NodeValueHandlerAdapter{constructor(n,a){super("FloatValue",n,a),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(n,a,s){return{terms:[this.util.dataFactory.literal(n.value,this.datatype)]}}};return Bh.NodeValueHandlerFloat=e,Bh}var qh={},BF;function vAe(){if(BF)return qh;BF=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.NodeValueHandlerInt=void 0;const t=Ts();let e=class extends t.NodeValueHandlerAdapter{constructor(n,a){super("IntValue",n,a),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(n,a,s){return{terms:[this.util.dataFactory.literal(n.value,this.datatype)]}}};return qh.NodeValueHandlerInt=e,qh}var $h={},qF;function wAe(){if(qF)return $h;qF=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.NodeValueHandlerList=void 0;const t=Ts();let e=class extends t.NodeValueHandlerAdapter{constructor(n,a){super("ListValue",n,a),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(n,a,s){const o=[];let u=[];for(const c of n.values){const l=this.util.handleNodeValue(c,a,s);for(const d of l.terms)o.push(d);l.auxiliaryPatterns&&(u=u.concat(l.auxiliaryPatterns))}if(this.settings.arraysToRdfLists){const c=this.util.dataFactory.blankNode();let l=c,d=o.length;for(const f of o){u.push(this.util.operationFactory.createPattern(l,this.nodeFirst,f,s.graph));const h=--d===0?this.nodeNil:this.util.dataFactory.blankNode();u.push(this.util.operationFactory.createPattern(l,this.nodeRest,h,s.graph)),l=h}return{terms:[c],auxiliaryPatterns:u}}else return{terms:o,auxiliaryPatterns:u}}};return $h.NodeValueHandlerList=e,$h}var Uh={},$F;function SAe(){if($F)return Uh;$F=1,Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.NodeValueHandlerNull=void 0;const t=Ts();let e=class extends t.NodeValueHandlerAdapter{constructor(n,a){super("NullValue",n,a),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(n,a,s){return{terms:[this.nil]}}};return Uh.NodeValueHandlerNull=e,Uh}var kh={},UF;function TAe(){if(UF)return kh;UF=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.NodeValueHandlerObject=void 0;const t=Ts();let e=class extends t.NodeValueHandlerAdapter{constructor(n,a){super("ObjectValue",n,a)}handle(n,a,s){const o=this.util.dataFactory.blankNode();let u=[];for(const c of n.fields){const l=this.util.handleNodeValue(c.value,a,s);for(const d of l.terms)u.push(this.util.createQuadPattern(o,c.name,d,s.graph,s.context));l.auxiliaryPatterns&&(u=u.concat(l.auxiliaryPatterns))}return{terms:[o],auxiliaryPatterns:u}}};return kh.NodeValueHandlerObject=e,kh}var Vh={},kF;function EAe(){if(kF)return Vh;kF=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.NodeValueHandlerString=void 0;const t=Ts();let e=class extends t.NodeValueHandlerAdapter{constructor(n,a){super("StringValue",n,a)}handle(n,a,s){const o=s.context.getContextRaw()[a];let u,c;return o&&typeof o!="string"&&(o["@language"]?u=o["@language"]:o["@type"]&&(c=this.util.dataFactory.namedNode(o["@type"]))),{terms:[this.util.dataFactory.literal(n.value,u||c)]}}};return Vh.NodeValueHandlerString=e,Vh}var Hh={},VF;function AAe(){if(VF)return Hh;VF=1,Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.NodeValueHandlerVariable=void 0;const t=Ts();let e=class extends t.NodeValueHandlerAdapter{constructor(n,a){super("Variable",n,a)}handle(n,a,s){const o=n.name.value,u=s.variablesDict[o],c=s.variablesMetaDict[o];if(!u){if(!s.ignoreUnknownVariables&&(!c||c.mandatory))throw new Error(`Undefined variable: ${o}`);{const l=this.util.dataFactory.variable(o);return s.terminalVariables.map(d=>d.value).indexOf(o)<0&&s.terminalVariables.push(l),{terms:[l]}}}if(u.kind==="Variable")throw new Error(`Variable refers to another variable: ${o}`);if(c)if(c.list){if(u.kind!=="ListValue")throw new Error(`Expected a list, but got ${u.kind} for ${o}`);if(c.type){const l=u;for(const d of l.values)if(d.kind!==c.type)throw new Error(`Expected ${c.type}, but got ${d.kind} for ${o}`)}}else c.type;return this.util.handleNodeValue(u,a,s)}};return Hh.NodeValueHandlerVariable=e,Hh}var HF;function OAe(){return HF||(HF=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ts(),t),r(gAe(),t),r(_Ae(),t),r(bAe(),t),r(vAe(),t),r(wAe(),t),r(SAe(),t),r(TAe(),t),r(EAe(),t),r(AAe(),t)}(A3)),A3}var Qh={},QF;function nT(){if(QF)return Qh;QF=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.NodeHandlerAdapter=void 0;let t=class{constructor(r,n,a){this.targetKind=r,this.util=n,this.settings=a}getNodeQuadContextSelectionSet(r,n,a){const s={};if(r){for(const o of r.selections)if(o.kind==="Field"){const u=o;this.handleNodeQuadContextField(u,a,s,"id","subject"),this.handleNodeQuadContextField(u,a,s,"graph","graph")}}return s}handleNodeQuadContextField(r,n,a,s,o){if(!a[o]&&r.name.value===s){if(!a[o]){const u=this.util.getArgument(r.arguments,"_");if(u){const c=this.util.handleNodeValue(u.value,r.name.value,n);if(c.terms.length!==1)throw new Error(`Only single values can be set as ${s}, but got ${c.terms.length} at ${r.name.value}`);a[o]=c.terms[0],c.auxiliaryPatterns&&(a.auxiliaryPatterns||(a.auxiliaryPatterns=[]),a.auxiliaryPatterns.concat(c.auxiliaryPatterns))}}if(!a[o]){const u=this.util.nameToVariable(this.util.getFieldLabel(r),n);n.terminalVariables.push(u),a[o]=u}}}getDirectiveOutputs(r,n,a){const s=[];if(r)for(const o of r){const u=this.util.handleDirectiveNode({directive:o,fieldLabel:n},a);if(u){if(u.ignore)return null;s.push(u)}}return s}handleDirectiveOutputs(r,n){for(const a of r){if(a.ignore)return this.util.operationFactory.createBgp([]);a.operationOverrider&&(n=a.operationOverrider(n))}return n}};return Qh.NodeHandlerAdapter=t,Qh}var zh={},zF;function NC(){if(zF)return zh;zF=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.NodeHandlerDefinitionAdapter=void 0;const t=nT();let e=class extends t.NodeHandlerAdapter{constructor(n,a,s){super(n,a,s)}};return zh.NodeHandlerDefinitionAdapter=e,zh}var Gh={},GF;function RAe(){if(GF)return Gh;GF=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.NodeHandlerDefinitionFragment=void 0;const t=NC();let e=class extends t.NodeHandlerDefinitionAdapter{constructor(n,a){super("FragmentDefinition",n,a)}handle(n,a){throw new Error("Illegal state: fragment definitions must be indexed and removed before processing")}};return Gh.NodeHandlerDefinitionFragment=e,Gh}var Wh={},WF;function xAe(){if(WF)return Wh;WF=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.NodeHandlerDefinitionOperation=void 0;const t=NC();let e=class extends t.NodeHandlerDefinitionAdapter{constructor(n,a){super("OperationDefinition",n,a)}handle(n,a){if(n.operation!=="query")throw new Error("Unsupported definition operation: "+n.operation);if(n.variableDefinitions)for(const u of n.variableDefinitions){const c=u.variable.name.value;u.defaultValue&&(a.variablesDict[c]||(a.variablesDict[c]=u.defaultValue));let l=u.type;const d=l.kind==="NonNullType";d&&(l=l.type);const f=l.kind==="ListType";f&&(l=l.type);const h=l.name.value;a.variablesMetaDict[c]={mandatory:d,list:f,type:h}}const s=this.getDirectiveOutputs(n.directives,n.name?n.name.value:"",a);if(!s)return this.util.operationFactory.createBgp([]);const o=this.util.joinOperations(n.selectionSet.selections.map(u=>this.util.handleNode(u,a)));return this.handleDirectiveOutputs(s,o)}};return Wh.NodeHandlerDefinitionOperation=e,Wh}var Kh={},KF;function IAe(){if(KF)return Kh;KF=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.NodeHandlerDocument=void 0;const t=xt(),e=nT();let r=class extends e.NodeHandlerAdapter{constructor(a,s){super("Document",a,s)}handle(a,s){const o=a.definitions.map(c=>{const l=this.getNodeQuadContextDefinitionNode(c,Object.assign(Object.assign({},s),{ignoreUnknownVariables:!0})),d=Object.assign(Object.assign({},s),{graph:l.graph||s.graph,subject:l.subject||this.util.dataFactory.blankNode()});let f=this.util.handleNode(c,d);return l&&l.auxiliaryPatterns&&(f=this.util.joinOperations([f,this.util.operationFactory.createBgp(l.auxiliaryPatterns)])),f}),u=this.util.operationFactory.createProject(o.length===1?o[0]:this.util.operationFactory.createUnion(o),s.terminalVariables);return this.translateBlankNodesToVariables(u)}getNodeQuadContextDefinitionNode(a,s){if(a.kind==="OperationDefinition")return this.getNodeQuadContextSelectionSet(a.selectionSet,a.name?a.name.value:"",s);throw new Error(`Unsupported definition: ${a.kind}`)}translateBlankNodesToVariables(a){const s=this,o={},u=Array.from(a.variables).reduce((l,d)=>(l[d.value]=!0,l),{});return t.Util.mapOperation(a,{path:(l,d)=>({recurse:!1,result:d.createPath(c(l.subject),l.predicate,c(l.object),c(l.graph))}),pattern:(l,d)=>({recurse:!1,result:d.createPattern(c(l.subject),c(l.predicate),c(l.object),c(l.graph))})});function c(l){if(l.termType==="BlankNode"){let d=o[l.value];return d||(d=t.Util.createUniqueVariable(l.value,u,s.util.dataFactory),u[d.value]=!0,o[l.value]=d),d}return l}}};return Kh.NodeHandlerDocument=r,Kh}var Jh={},JF;function iT(){if(JF)return Jh;JF=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.NodeHandlerSelectionAdapter=void 0;const t=xt(),e=S1(),r=nT();let n=class extends r.NodeHandlerAdapter{constructor(s,o,u){super(s,o,u)}getNodeQuadContextFieldNode(s,o,u){return this.getNodeQuadContextSelectionSet(s.selectionSet,o,Object.assign(Object.assign({},u),{path:this.util.appendFieldToPath(u.path,o)}))}fieldToOperation(s,o,u,c){const l=u;let d=0,f;if((o.name.value==="id"||o.name.value==="graph")&&(u=!1,o.arguments))for(const E of o.arguments)E.name.value==="_"&&this.util.handleNodeValue(E.value,o.name.value,s);const h=this.util.getFieldLabel(o);if(s.singularizeState===e.SingularizeState.SINGLE&&(s.singularizeVariables[this.util.nameToVariable(h,s).value]=!0),u){const E=this.handleMetaField(s,h,c);if(E)return E}const p=c?[this.util.operationFactory.createBgp(c)]:[],m=this.getNodeQuadContextFieldNode(o,h,s);let y=m.subject||this.util.nameToVariable(h,s),g=m.graph||s.graph;m.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(m.auxiliaryPatterns));let b=!0,v=null;if(u&&o.arguments&&o.arguments.length){for(const E of o.arguments)if(E.name.value==="_"){const O=this.util.handleNodeValue(E.value,o.name.value,s);v=O.terms,p.push(this.util.operationFactory.createBgp(O.terms.map(L=>this.util.createQuadPattern(s.subject,o.name,L,s.graph,s.context)))),O.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(O.auxiliaryPatterns)),u=!1;break}else if(E.name.value==="graph"){const O=this.util.handleNodeValue(E.value,o.name.value,s);if(O.terms.length!==1)throw new Error(`Only single values can be set as graph, but got ${O.terms.length} at ${o.name.value}`);g=O.terms[0],s=Object.assign(Object.assign({},s),{graph:g}),O.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(O.auxiliaryPatterns));break}else if(E.name.value==="alt"){let O=E.value;O.kind!=="ListValue"&&(O={kind:"ListValue",values:[O]}),p.push(this.util.createQuadPath(s.subject,o.name,O,y,s.graph,s.context)),b=!1;break}}if(u&&b&&p.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(s.subject,o.name,y,s.graph,s.context)])),o.arguments&&o.arguments.length){for(const E of o.arguments)if(!(E.name.value==="_"||E.name.value==="graph"||E.name.value==="alt"))if(E.name.value==="first"){if(E.value.kind!=="IntValue")throw new Error("Invalid value type for 'first' argument: "+E.value.kind);f=parseInt(E.value.value,10)}else if(E.name.value==="offset"){if(E.value.kind!=="IntValue")throw new Error("Invalid value type for 'offset' argument: "+E.value.kind);d=parseInt(E.value.value,10)}else{const O=this.util.handleNodeValue(E.value,E.name.value,s);p.push(this.util.operationFactory.createBgp(O.terms.map(L=>this.util.createQuadPattern(y,E.name,L,s.graph,s.context)))),O.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(O.auxiliaryPatterns))}}const _=this.getDirectiveOutputs(o.directives,h,s);if(!_)return this.util.operationFactory.createBgp([]);let w=this.util.joinOperations(p);if(o.selectionSet&&o.selectionSet.selections.length){if(v){if(v.length!==1)throw new Error(`Only single values can be set as id, but got ${v.length} at ${o.name.value}`);y=v[0]}const E=Object.assign(Object.assign(Object.assign({},s),l?{path:this.util.appendFieldToPath(s.path,h)}:{}),{graph:g,subject:l?y:s.subject});let O=!1;const L=o.selectionSet.selections.filter(x=>x.kind==="Field"&&x.name.value==="totalCount"?(O=!0,!1):!0);let F=this.util.joinOperations(p.concat(L.map(x=>this.util.handleNode(x,E))));if(O){const x=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),P=this.util.dataFactory.variable(y.value+this.settings.variableDelimiter+"totalCount"),j=this.util.operationFactory.createBoundAggregate(x,"count",this.util.operationFactory.createTermExpression(y),!1),N=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(w,[],[j]),P,this.util.operationFactory.createTermExpression(x)),[P]);s.terminalVariables.push(P),L.length?F=this.util.operationFactory.createJoin([this.util.operationFactory.createProject(F,[]),N]):F=N}w=F}else u&&y.termType==="Variable"&&s.terminalVariables.push(y);return(d||f)&&(w=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(w,t.Util.inScopeVariables(w)),d,f)),this.handleDirectiveOutputs(_,w)}handleMetaField(s,o,u){if(o==="__typename"){const c=this.util.nameToVariable(o,s);return s.terminalVariables.push(c),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(s.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(o,s),s.graph)].concat(u||[]))}}};return Jh.NodeHandlerSelectionAdapter=n,Jh}var Xh={},XF;function PAe(){if(XF)return Xh;XF=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.NodeHandlerSelectionField=void 0;const t=iT();let e=class extends t.NodeHandlerSelectionAdapter{constructor(n,a){super("Field",n,a)}handle(n,a){return this.fieldToOperation(a,n,!0)}};return Xh.NodeHandlerSelectionField=e,Xh}var Yh={},YF;function NAe(){if(YF)return Yh;YF=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.NodeHandlerSelectionFragmentSpread=void 0;const t=iT();let e=class extends t.NodeHandlerSelectionAdapter{constructor(n,a){super("FragmentSpread",n,a)}handle(n,a){const s=a.fragmentDefinitions[n.name.value];if(!s)throw new Error("Undefined fragment definition: "+n.name.value);const o={alias:void 0,arguments:void 0,directives:s.directives,kind:"Field",name:n.name,selectionSet:s.selectionSet},u=[this.util.newTypePattern(a.subject,s.typeCondition,a)];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(a,o,!1,u))}};return Yh.NodeHandlerSelectionFragmentSpread=e,Yh}var Zh={},ZF;function DAe(){if(ZF)return Zh;ZF=1,Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.NodeHandlerSelectionInlineFragment=void 0;const t=iT();let e=class extends t.NodeHandlerSelectionAdapter{constructor(n,a){super("InlineFragment",n,a)}handle(n,a){const s={alias:void 0,arguments:void 0,directives:n.directives,kind:"Field",name:{kind:"Name",value:a.subject.value},selectionSet:n.selectionSet},o=n.typeCondition?[this.util.newTypePattern(a.subject,n.typeCondition,a)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(a,s,!1,o))}};return Zh.NodeHandlerSelectionInlineFragment=e,Zh}var e5;function hY(){return e5||(e5=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fY(),t),r(OAe(),t),r(nT(),t),r(NC(),t),r(RAe(),t),r(xAe(),t),r(IAe(),t),r(iT(),t),r(PAe(),t),r(NAe(),t),r(DAe(),t)}(S3)),S3}var ep={},pY=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag",UP=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;function Dw(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dw=function(r){return typeof r}:Dw=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dw(t)}var CAe=10,yY=2;function mY(t){return aT(t,[])}function aT(t,e){switch(Dw(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":LAe(t,e);default:return String(t)}}function LAe(t,e){if(e.indexOf(t)!==-1)return"[Circular]";var r=[].concat(e,[t]),n=FAe(t);if(n!==void 0){var a=n.call(t);if(a!==t)return typeof a=="string"?a:aT(a,r)}else if(Array.isArray(t))return MAe(t,r);return jAe(t,r)}function jAe(t,e){var r=Object.keys(t);if(r.length===0)return"{}";if(e.length>yY)return"["+BAe(t)+"]";var n=r.map(function(a){var s=aT(t[a],e);return a+": "+s});return"{ "+n.join(", ")+" }"}function MAe(t,e){if(t.length===0)return"[]";if(e.length>yY)return"[Array]";for(var r=Math.min(CAe,t.length),n=t.length-r,a=[],s=0;s<r;++s)a.push(aT(t[s],e));return n===1?a.push("... 1 more item"):n>1&&a.push("... ".concat(n," more items")),"["+a.join(", ")+"]"}function FAe(t){var e=t[String(UP)];if(typeof e=="function")return e;if(typeof t.inspect=="function")return t.inspect}function BAe(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){var r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}function O3(t,e){var r=!!t;if(!r)throw new Error(e)}const qAe=function(e,r){return e instanceof r};function t5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $Ae(t,e,r){return e&&t5(t.prototype,e),r&&t5(t,r),t}var DC=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||O3(0,"Body must be a string. Received: ".concat(mY(e),".")),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||O3(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||O3(0,"column in locationOffset is 1-indexed and must be positive.")}return $Ae(t,[{key:pY,get:function(){return"Source"}}]),t}();function UAe(t){return qAe(t,DC)}function AS(t,e){for(var r=/\r\n|[\n\r]/g,n=1,a=e+1,s;(s=r.exec(t.body))&&s.index<e;)n+=1,a=e+1-(s.index+s[0].length);return{line:n,column:a}}function gY(t){return CC(t.source,AS(t.source,t.start))}function CC(t,e){var r=t.locationOffset.column-1,n=Cw(r)+t.body,a=e.line-1,s=t.locationOffset.line-1,o=e.line+s,u=e.line===1?r:0,c=e.column+u,l="".concat(t.name,":").concat(o,":").concat(c,`
`),d=n.split(/\r\n|[\n\r]/g),f=d[a];if(f.length>120){for(var h=Math.floor(c/80),p=c%80,m=[],y=0;y<f.length;y+=80)m.push(f.slice(y,y+80));return l+r5([["".concat(o),m[0]]].concat(m.slice(1,h+1).map(function(g){return["",g]}),[[" ",Cw(p-1)+"^"],["",m[h+1]]]))}return l+r5([["".concat(o-1),d[a-1]],["".concat(o),f],["",Cw(c-1)+"^"],["".concat(o+1),d[a+1]]])}function r5(t){var e=t.filter(function(n){n[0];var a=n[1];return a!==void 0}),r=Math.max.apply(Math,e.map(function(n){var a=n[0];return a.length}));return e.map(function(n){var a=n[0],s=n[1];return kAe(r,a)+(s?" | "+s:" |")}).join(`
`)}function Cw(t){return Array(t+1).join(" ")}function kAe(t,e){return Cw(t-e.length)+e}var rt=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),Ve=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Lw(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lw=function(r){return typeof r}:Lw=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lw(t)}function VAe(t){return Lw(t)=="object"&&t!==null}function jw(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jw=function(r){return typeof r}:jw=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jw(t)}function n5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HAe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(r),!0).forEach(function(n){QAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QAe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function GAe(t,e,r){return e&&i5(t.prototype,e),r&&i5(t,r),t}function WAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vb(t,e)}function KAe(t){var e=bY();return function(){var n=wb(t),a;if(e){var s=wb(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return _Y(this,a)}}function _Y(t,e){return e&&(jw(e)==="object"||typeof e=="function")?e:T_(t)}function T_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kP(t){var e=typeof Map=="function"?new Map:void 0;return kP=function(n){if(n===null||!JAe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return Mw(n,arguments,wb(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),vb(a,n)},kP(t)}function Mw(t,e,r){return bY()?Mw=Reflect.construct:Mw=function(a,s,o){var u=[null];u.push.apply(u,s);var c=Function.bind.apply(a,u),l=new c;return o&&vb(l,o.prototype),l},Mw.apply(null,arguments)}function bY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function JAe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function vb(t,e){return vb=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},vb(t,e)}function wb(t){return wb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(t)}var XAe=function(t){WAe(r,t);var e=KAe(r);function r(n,a,s,o,u,c,l){var d,f,h,p;zAe(this,r),p=e.call(this,n),p.name="GraphQLError",p.originalError=c??void 0,p.nodes=a5(Array.isArray(a)?a:a?[a]:void 0);for(var m=[],y=0,g=(b=p.nodes)!==null&&b!==void 0?b:[];y<g.length;y++){var b,v=g[y],_=v.loc;_!=null&&m.push(_)}m=a5(m),p.source=s??((d=m)===null||d===void 0?void 0:d[0].source),p.positions=o??((f=m)===null||f===void 0?void 0:f.map(function(E){return E.start})),p.locations=o&&s?o.map(function(E){return AS(s,E)}):(h=m)===null||h===void 0?void 0:h.map(function(E){return AS(E.source,E.start)}),p.path=u??void 0;var w=c==null?void 0:c.extensions;return l==null&&VAe(w)?p.extensions=HAe({},w):p.extensions=l??{},Object.defineProperties(T_(p),{message:{enumerable:!0},locations:{enumerable:p.locations!=null},path:{enumerable:p.path!=null},extensions:{enumerable:p.extensions!=null&&Object.keys(p.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?(Object.defineProperty(T_(p),"stack",{value:c.stack,writable:!0,configurable:!0}),_Y(p)):(Error.captureStackTrace?Error.captureStackTrace(T_(p),r):Object.defineProperty(T_(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return GAe(r,[{key:"toString",value:function(){return YAe(this)}},{key:pY,get:function(){return"Object"}}]),r}(kP(Error));function a5(t){return t===void 0||t.length===0?void 0:t}function YAe(t){var e=t.message;if(t.nodes)for(var r=0,n=t.nodes;r<n.length;r++){var a=n[r];a.loc&&(e+=`

`+gY(a.loc))}else if(t.source&&t.locations)for(var s=0,o=t.locations;s<o.length;s++){var u=o[s];e+=`

`+CC(t.source,u)}return e}function Bi(t,e,r){return new XAe("Syntax Error: ".concat(r),void 0,t,[e])}function ZAe(t,e){var r=!!t;if(!r)throw new Error(e??"Unexpected invariant triggered.")}function vY(t){var e=t.prototype.toJSON;typeof e=="function"||ZAe(0),t.prototype.inspect=e,UP&&(t.prototype[UP]=e)}var LC=function(){function t(r,n,a){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=a}var e=t.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},t}();vY(LC);var qr=function(){function t(r,n,a,s,o,u,c){this.kind=r,this.start=n,this.end=a,this.line=s,this.column=o,this.value=c,this.prev=u,this.next=null}var e=t.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();vY(qr);function s5(t){return t!=null&&typeof t.kind=="string"}function e3e(t){var e=t.split(/\r\n|[\n\r]/g),r=t3e(t);if(r!==0)for(var n=1;n<e.length;n++)e[n]=e[n].slice(r);for(var a=0;a<e.length&&o5(e[a]);)++a;for(var s=e.length;s>a&&o5(e[s-1]);)--s;return e.slice(a,s).join(`
`)}function o5(t){for(var e=0;e<t.length;++e)if(t[e]!==" "&&t[e]!=="	")return!1;return!0}function t3e(t){for(var e,r=!0,n=!0,a=0,s=null,o=0;o<t.length;++o)switch(t.charCodeAt(o)){case 13:t.charCodeAt(o+1)===10&&++o;case 10:r=!1,n=!0,a=0;break;case 9:case 32:++a;break;default:n&&!r&&(s===null||a<s)&&(s=a),n=!1}return(e=s)!==null&&e!==void 0?e:0}function r3e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=t.indexOf(`
`)===-1,a=t[0]===" "||t[0]==="	",s=t[t.length-1]==='"',o=t[t.length-1]==="\\",u=!n||s||o||r,c="";return u&&!(n&&a)&&(c+=`
`+e),c+=e?t.replace(/\n/g,`
`+e):t,u&&(c+=`
`),'"""'+c.replace(/"""/g,'\\"""')+'"""'}var wY=function(){function t(r){var n=new qr(Ve.SOF,0,0,0,0,null);this.source=r,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},e.lookahead=function(){var n=this.token;if(n.kind!==Ve.EOF)do{var a;n=(a=n.next)!==null&&a!==void 0?a:n.next=i3e(this,n)}while(n.kind===Ve.COMMENT);return n},t}();function n3e(t){return t===Ve.BANG||t===Ve.DOLLAR||t===Ve.AMP||t===Ve.PAREN_L||t===Ve.PAREN_R||t===Ve.SPREAD||t===Ve.COLON||t===Ve.EQUALS||t===Ve.AT||t===Ve.BRACKET_L||t===Ve.BRACKET_R||t===Ve.BRACE_L||t===Ve.PIPE||t===Ve.BRACE_R}function Xc(t){return isNaN(t)?Ve.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function i3e(t,e){for(var r=t.source,n=r.body,a=n.length,s=e.end;s<a;){var o=n.charCodeAt(s),u=t.line,c=1+s-t.lineStart;switch(o){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++t.line,t.lineStart=s;continue;case 13:n.charCodeAt(s+1)===10?s+=2:++s,++t.line,t.lineStart=s;continue;case 33:return new qr(Ve.BANG,s,s+1,u,c,e);case 35:return s3e(r,s,u,c,e);case 36:return new qr(Ve.DOLLAR,s,s+1,u,c,e);case 38:return new qr(Ve.AMP,s,s+1,u,c,e);case 40:return new qr(Ve.PAREN_L,s,s+1,u,c,e);case 41:return new qr(Ve.PAREN_R,s,s+1,u,c,e);case 46:if(n.charCodeAt(s+1)===46&&n.charCodeAt(s+2)===46)return new qr(Ve.SPREAD,s,s+3,u,c,e);break;case 58:return new qr(Ve.COLON,s,s+1,u,c,e);case 61:return new qr(Ve.EQUALS,s,s+1,u,c,e);case 64:return new qr(Ve.AT,s,s+1,u,c,e);case 91:return new qr(Ve.BRACKET_L,s,s+1,u,c,e);case 93:return new qr(Ve.BRACKET_R,s,s+1,u,c,e);case 123:return new qr(Ve.BRACE_L,s,s+1,u,c,e);case 124:return new qr(Ve.PIPE,s,s+1,u,c,e);case 125:return new qr(Ve.BRACE_R,s,s+1,u,c,e);case 34:return n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34?c3e(r,s,u,c,e,t):u3e(r,s,u,c,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return o3e(r,s,o,u,c,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return d3e(r,s,u,c,e)}throw Bi(r,s,a3e(o))}var l=t.line,d=1+s-t.lineStart;return new qr(Ve.EOF,a,a,l,d,e)}function a3e(t){return t<32&&t!==9&&t!==10&&t!==13?"Cannot contain the invalid character ".concat(Xc(t),"."):t===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(Xc(t),".")}function s3e(t,e,r,n,a){var s=t.body,o,u=e;do o=s.charCodeAt(++u);while(!isNaN(o)&&(o>31||o===9));return new qr(Ve.COMMENT,e,u,r,n,a,s.slice(e+1,u))}function o3e(t,e,r,n,a,s){var o=t.body,u=r,c=e,l=!1;if(u===45&&(u=o.charCodeAt(++c)),u===48){if(u=o.charCodeAt(++c),u>=48&&u<=57)throw Bi(t,c,"Invalid number, unexpected digit after 0: ".concat(Xc(u),"."))}else c=R3(t,c,u),u=o.charCodeAt(c);if(u===46&&(l=!0,u=o.charCodeAt(++c),c=R3(t,c,u),u=o.charCodeAt(c)),(u===69||u===101)&&(l=!0,u=o.charCodeAt(++c),(u===43||u===45)&&(u=o.charCodeAt(++c)),c=R3(t,c,u),u=o.charCodeAt(c)),u===46||f3e(u))throw Bi(t,c,"Invalid number, expected digit but got: ".concat(Xc(u),"."));return new qr(l?Ve.FLOAT:Ve.INT,e,c,n,a,s,o.slice(e,c))}function R3(t,e,r){var n=t.body,a=e,s=r;if(s>=48&&s<=57){do s=n.charCodeAt(++a);while(s>=48&&s<=57);return a}throw Bi(t,a,"Invalid number, expected digit but got: ".concat(Xc(s),"."))}function u3e(t,e,r,n,a){for(var s=t.body,o=e+1,u=o,c=0,l="";o<s.length&&!isNaN(c=s.charCodeAt(o))&&c!==10&&c!==13;){if(c===34)return l+=s.slice(u,o),new qr(Ve.STRING,e,o+1,r,n,a,l);if(c<32&&c!==9)throw Bi(t,o,"Invalid character within String: ".concat(Xc(c),"."));if(++o,c===92){switch(l+=s.slice(u,o-1),c=s.charCodeAt(o),c){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+=`
`;break;case 114:l+="\r";break;case 116:l+="	";break;case 117:{var d=l3e(s.charCodeAt(o+1),s.charCodeAt(o+2),s.charCodeAt(o+3),s.charCodeAt(o+4));if(d<0){var f=s.slice(o+1,o+5);throw Bi(t,o,"Invalid character escape sequence: \\u".concat(f,"."))}l+=String.fromCharCode(d),o+=4;break}default:throw Bi(t,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}++o,u=o}}throw Bi(t,o,"Unterminated string.")}function c3e(t,e,r,n,a,s){for(var o=t.body,u=e+3,c=u,l=0,d="";u<o.length&&!isNaN(l=o.charCodeAt(u));){if(l===34&&o.charCodeAt(u+1)===34&&o.charCodeAt(u+2)===34)return d+=o.slice(c,u),new qr(Ve.BLOCK_STRING,e,u+3,r,n,a,e3e(d));if(l<32&&l!==9&&l!==10&&l!==13)throw Bi(t,u,"Invalid character within String: ".concat(Xc(l),"."));l===10?(++u,++s.line,s.lineStart=u):l===13?(o.charCodeAt(u+1)===10?u+=2:++u,++s.line,s.lineStart=u):l===92&&o.charCodeAt(u+1)===34&&o.charCodeAt(u+2)===34&&o.charCodeAt(u+3)===34?(d+=o.slice(c,u)+'"""',u+=4,c=u):++u}throw Bi(t,u,"Unterminated string.")}function l3e(t,e,r,n){return Lv(t)<<12|Lv(e)<<8|Lv(r)<<4|Lv(n)}function Lv(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function d3e(t,e,r,n,a){for(var s=t.body,o=s.length,u=e+1,c=0;u!==o&&!isNaN(c=s.charCodeAt(u))&&(c===95||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++u;return new qr(Ve.NAME,e,u,r,n,a,s.slice(e,u))}function f3e(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}var SY=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function h3e(t,e){var r=new jC(t,e);return r.parseDocument()}function p3e(t,e){var r=new jC(t,e);r.expectToken(Ve.SOF);var n=r.parseValueLiteral(!1);return r.expectToken(Ve.EOF),n}function y3e(t,e){var r=new jC(t,e);r.expectToken(Ve.SOF);var n=r.parseTypeReference();return r.expectToken(Ve.EOF),n}var jC=function(){function t(r,n){var a=UAe(r)?r:new DC(r);this._lexer=new wY(a),this._options=n}var e=t.prototype;return e.parseName=function(){var n=this.expectToken(Ve.NAME);return{kind:rt.NAME,value:n.value,loc:this.loc(n)}},e.parseDocument=function(){var n=this._lexer.token;return{kind:rt.DOCUMENT,definitions:this.many(Ve.SOF,this.parseDefinition,Ve.EOF),loc:this.loc(n)}},e.parseDefinition=function(){if(this.peek(Ve.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Ve.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(Ve.BRACE_L))return{kind:rt.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var a=this.parseOperationType(),s;return this.peek(Ve.NAME)&&(s=this.parseName()),{kind:rt.OPERATION_DEFINITION,operation:a,name:s,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseOperationType=function(){var n=this.expectToken(Ve.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},e.parseVariableDefinitions=function(){return this.optionalMany(Ve.PAREN_L,this.parseVariableDefinition,Ve.PAREN_R)},e.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:rt.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Ve.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Ve.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},e.parseVariable=function(){var n=this._lexer.token;return this.expectToken(Ve.DOLLAR),{kind:rt.VARIABLE,name:this.parseName(),loc:this.loc(n)}},e.parseSelectionSet=function(){var n=this._lexer.token;return{kind:rt.SELECTION_SET,selections:this.many(Ve.BRACE_L,this.parseSelection,Ve.BRACE_R),loc:this.loc(n)}},e.parseSelection=function(){return this.peek(Ve.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var n=this._lexer.token,a=this.parseName(),s,o;return this.expectOptionalToken(Ve.COLON)?(s=a,o=this.parseName()):o=a,{kind:rt.FIELD,alias:s,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Ve.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},e.parseArguments=function(n){var a=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(Ve.PAREN_L,a,Ve.PAREN_R)},e.parseArgument=function(){var n=this._lexer.token,a=this.parseName();return this.expectToken(Ve.COLON),{kind:rt.ARGUMENT,name:a,value:this.parseValueLiteral(!1),loc:this.loc(n)}},e.parseConstArgument=function(){var n=this._lexer.token;return{kind:rt.ARGUMENT,name:this.parseName(),value:(this.expectToken(Ve.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},e.parseFragment=function(){var n=this._lexer.token;this.expectToken(Ve.SPREAD);var a=this.expectOptionalKeyword("on");return!a&&this.peek(Ve.NAME)?{kind:rt.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:rt.INLINE_FRAGMENT,typeCondition:a?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseFragmentDefinition=function(){var n,a=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:rt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}:{kind:rt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(n){var a=this._lexer.token;switch(a.kind){case Ve.BRACKET_L:return this.parseList(n);case Ve.BRACE_L:return this.parseObject(n);case Ve.INT:return this._lexer.advance(),{kind:rt.INT,value:a.value,loc:this.loc(a)};case Ve.FLOAT:return this._lexer.advance(),{kind:rt.FLOAT,value:a.value,loc:this.loc(a)};case Ve.STRING:case Ve.BLOCK_STRING:return this.parseStringLiteral();case Ve.NAME:switch(this._lexer.advance(),a.value){case"true":return{kind:rt.BOOLEAN,value:!0,loc:this.loc(a)};case"false":return{kind:rt.BOOLEAN,value:!1,loc:this.loc(a)};case"null":return{kind:rt.NULL,loc:this.loc(a)};default:return{kind:rt.ENUM,value:a.value,loc:this.loc(a)}}case Ve.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:rt.STRING,value:n.value,block:n.kind===Ve.BLOCK_STRING,loc:this.loc(n)}},e.parseList=function(n){var a=this,s=this._lexer.token,o=function(){return a.parseValueLiteral(n)};return{kind:rt.LIST,values:this.any(Ve.BRACKET_L,o,Ve.BRACKET_R),loc:this.loc(s)}},e.parseObject=function(n){var a=this,s=this._lexer.token,o=function(){return a.parseObjectField(n)};return{kind:rt.OBJECT,fields:this.any(Ve.BRACE_L,o,Ve.BRACE_R),loc:this.loc(s)}},e.parseObjectField=function(n){var a=this._lexer.token,s=this.parseName();return this.expectToken(Ve.COLON),{kind:rt.OBJECT_FIELD,name:s,value:this.parseValueLiteral(n),loc:this.loc(a)}},e.parseDirectives=function(n){for(var a=[];this.peek(Ve.AT);)a.push(this.parseDirective(n));return a},e.parseDirective=function(n){var a=this._lexer.token;return this.expectToken(Ve.AT),{kind:rt.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(a)}},e.parseTypeReference=function(){var n=this._lexer.token,a;return this.expectOptionalToken(Ve.BRACKET_L)?(a=this.parseTypeReference(),this.expectToken(Ve.BRACKET_R),a={kind:rt.LIST_TYPE,type:a,loc:this.loc(n)}):a=this.parseNamedType(),this.expectOptionalToken(Ve.BANG)?{kind:rt.NON_NULL_TYPE,type:a,loc:this.loc(n)}:a},e.parseNamedType=function(){var n=this._lexer.token;return{kind:rt.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},e.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===Ve.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},e.peekDescription=function(){return this.peek(Ve.STRING)||this.peek(Ve.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("schema");var s=this.parseDirectives(!0),o=this.many(Ve.BRACE_L,this.parseOperationTypeDefinition,Ve.BRACE_R);return{kind:rt.SCHEMA_DEFINITION,description:a,directives:s,operationTypes:o,loc:this.loc(n)}},e.parseOperationTypeDefinition=function(){var n=this._lexer.token,a=this.parseOperationType();this.expectToken(Ve.COLON);var s=this.parseNamedType();return{kind:rt.OPERATION_TYPE_DEFINITION,operation:a,type:s,loc:this.loc(n)}},e.parseScalarTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("scalar");var s=this.parseName(),o=this.parseDirectives(!0);return{kind:rt.SCALAR_TYPE_DEFINITION,description:a,name:s,directives:o,loc:this.loc(n)}},e.parseObjectTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("type");var s=this.parseName(),o=this.parseImplementsInterfaces(),u=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:rt.OBJECT_TYPE_DEFINITION,description:a,name:s,interfaces:o,directives:u,fields:c,loc:this.loc(n)}},e.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var a=[];this.expectOptionalToken(Ve.AMP);do a.push(this.parseNamedType());while(this.expectOptionalToken(Ve.AMP)||this.peek(Ve.NAME));return a}return this.delimitedMany(Ve.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(Ve.BRACE_L)&&this._lexer.lookahead().kind===Ve.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Ve.BRACE_L,this.parseFieldDefinition,Ve.BRACE_R)},e.parseFieldDefinition=function(){var n=this._lexer.token,a=this.parseDescription(),s=this.parseName(),o=this.parseArgumentDefs();this.expectToken(Ve.COLON);var u=this.parseTypeReference(),c=this.parseDirectives(!0);return{kind:rt.FIELD_DEFINITION,description:a,name:s,arguments:o,type:u,directives:c,loc:this.loc(n)}},e.parseArgumentDefs=function(){return this.optionalMany(Ve.PAREN_L,this.parseInputValueDef,Ve.PAREN_R)},e.parseInputValueDef=function(){var n=this._lexer.token,a=this.parseDescription(),s=this.parseName();this.expectToken(Ve.COLON);var o=this.parseTypeReference(),u;this.expectOptionalToken(Ve.EQUALS)&&(u=this.parseValueLiteral(!0));var c=this.parseDirectives(!0);return{kind:rt.INPUT_VALUE_DEFINITION,description:a,name:s,type:o,defaultValue:u,directives:c,loc:this.loc(n)}},e.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("interface");var s=this.parseName(),o=this.parseImplementsInterfaces(),u=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:rt.INTERFACE_TYPE_DEFINITION,description:a,name:s,interfaces:o,directives:u,fields:c,loc:this.loc(n)}},e.parseUnionTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("union");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseUnionMemberTypes();return{kind:rt.UNION_TYPE_DEFINITION,description:a,name:s,directives:o,types:u,loc:this.loc(n)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(Ve.EQUALS)?this.delimitedMany(Ve.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("enum");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseEnumValuesDefinition();return{kind:rt.ENUM_TYPE_DEFINITION,description:a,name:s,directives:o,values:u,loc:this.loc(n)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(Ve.BRACE_L,this.parseEnumValueDefinition,Ve.BRACE_R)},e.parseEnumValueDefinition=function(){var n=this._lexer.token,a=this.parseDescription(),s=this.parseName(),o=this.parseDirectives(!0);return{kind:rt.ENUM_VALUE_DEFINITION,description:a,name:s,directives:o,loc:this.loc(n)}},e.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("input");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseInputFieldsDefinition();return{kind:rt.INPUT_OBJECT_TYPE_DEFINITION,description:a,name:s,directives:o,fields:u,loc:this.loc(n)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(Ve.BRACE_L,this.parseInputValueDef,Ve.BRACE_R)},e.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===Ve.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},e.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var a=this.parseDirectives(!0),s=this.optionalMany(Ve.BRACE_L,this.parseOperationTypeDefinition,Ve.BRACE_R);if(a.length===0&&s.length===0)throw this.unexpected();return{kind:rt.SCHEMA_EXTENSION,directives:a,operationTypes:s,loc:this.loc(n)}},e.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var a=this.parseName(),s=this.parseDirectives(!0);if(s.length===0)throw this.unexpected();return{kind:rt.SCALAR_TYPE_EXTENSION,name:a,directives:s,loc:this.loc(n)}},e.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),u=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&u.length===0)throw this.unexpected();return{kind:rt.OBJECT_TYPE_EXTENSION,name:a,interfaces:s,directives:o,fields:u,loc:this.loc(n)}},e.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),u=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&u.length===0)throw this.unexpected();return{kind:rt.INTERFACE_TYPE_EXTENSION,name:a,interfaces:s,directives:o,fields:u,loc:this.loc(n)}},e.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseUnionMemberTypes();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:rt.UNION_TYPE_EXTENSION,name:a,directives:s,types:o,loc:this.loc(n)}},e.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:rt.ENUM_TYPE_EXTENSION,name:a,directives:s,values:o,loc:this.loc(n)}},e.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:rt.INPUT_OBJECT_TYPE_EXTENSION,name:a,directives:s,fields:o,loc:this.loc(n)}},e.parseDirectiveDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Ve.AT);var s=this.parseName(),o=this.parseArgumentDefs(),u=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var c=this.parseDirectiveLocations();return{kind:rt.DIRECTIVE_DEFINITION,description:a,name:s,arguments:o,repeatable:u,locations:c,loc:this.loc(n)}},e.parseDirectiveLocations=function(){return this.delimitedMany(Ve.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var n=this._lexer.token,a=this.parseName();if(SY[a.value]!==void 0)return a;throw this.unexpected(n)},e.loc=function(n){var a;if(((a=this._options)===null||a===void 0?void 0:a.noLocation)!==!0)return new LC(n,this._lexer.lastToken,this._lexer.source)},e.peek=function(n){return this._lexer.token.kind===n},e.expectToken=function(n){var a=this._lexer.token;if(a.kind===n)return this._lexer.advance(),a;throw Bi(this._lexer.source,a.start,"Expected ".concat(TY(n),", found ").concat(x3(a),"."))},e.expectOptionalToken=function(n){var a=this._lexer.token;if(a.kind===n)return this._lexer.advance(),a},e.expectKeyword=function(n){var a=this._lexer.token;if(a.kind===Ve.NAME&&a.value===n)this._lexer.advance();else throw Bi(this._lexer.source,a.start,'Expected "'.concat(n,'", found ').concat(x3(a),"."))},e.expectOptionalKeyword=function(n){var a=this._lexer.token;return a.kind===Ve.NAME&&a.value===n?(this._lexer.advance(),!0):!1},e.unexpected=function(n){var a=n??this._lexer.token;return Bi(this._lexer.source,a.start,"Unexpected ".concat(x3(a),"."))},e.any=function(n,a,s){this.expectToken(n);for(var o=[];!this.expectOptionalToken(s);)o.push(a.call(this));return o},e.optionalMany=function(n,a,s){if(this.expectOptionalToken(n)){var o=[];do o.push(a.call(this));while(!this.expectOptionalToken(s));return o}return[]},e.many=function(n,a,s){this.expectToken(n);var o=[];do o.push(a.call(this));while(!this.expectOptionalToken(s));return o},e.delimitedMany=function(n,a){this.expectOptionalToken(n);var s=[];do s.push(a.call(this));while(this.expectOptionalToken(n));return s},t}();function x3(t){var e=t.value;return TY(t.kind)+(e!=null?' "'.concat(e,'"'):"")}function TY(t){return n3e(t)?'"'.concat(t,'"'):t}var m3e={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},nd=Object.freeze({});function EY(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m3e,n=void 0,a=Array.isArray(t),s=[t],o=-1,u=[],c=void 0,l=void 0,d=void 0,f=[],h=[],p=t;do{o++;var m=o===s.length,y=m&&u.length!==0;if(m){if(l=h.length===0?void 0:f[f.length-1],c=d,d=h.pop(),y){if(a)c=c.slice();else{for(var g={},b=0,v=Object.keys(c);b<v.length;b++){var _=v[b];g[_]=c[_]}c=g}for(var w=0,E=0;E<u.length;E++){var O=u[E][0],L=u[E][1];a&&(O-=w),a&&L===null?(c.splice(O,1),w++):c[O]=L}}o=n.index,s=n.keys,u=n.edits,a=n.inArray,n=n.prev}else{if(l=d?a?o:s[o]:void 0,c=d?d[l]:p,c==null)continue;d&&f.push(l)}var F=void 0;if(!Array.isArray(c)){if(!s5(c))throw new Error("Invalid AST Node: ".concat(mY(c),"."));var x=OS(e,c.kind,m);if(x){if(F=x.call(e,c,l,d,f,h),F===nd)break;if(F===!1){if(!m){f.pop();continue}}else if(F!==void 0&&(u.push([l,F]),!m))if(s5(F))c=F;else{f.pop();continue}}}if(F===void 0&&y&&u.push([l,c]),m)f.pop();else{var P;n={inArray:a,index:o,keys:s,edits:u,prev:n},a=Array.isArray(c),s=a?c:(P=r[c.kind])!==null&&P!==void 0?P:[],o=-1,u=[],d&&h.push(d),d=c}}while(n!==void 0);return u.length!==0&&(p=u[u.length-1][1]),p}function g3e(t){var e=new Array(t.length);return{enter:function(n){for(var a=0;a<t.length;a++)if(e[a]==null){var s=OS(t[a],n.kind,!1);if(s){var o=s.apply(t[a],arguments);if(o===!1)e[a]=n;else if(o===nd)e[a]=nd;else if(o!==void 0)return o}}},leave:function(n){for(var a=0;a<t.length;a++)if(e[a]==null){var s=OS(t[a],n.kind,!0);if(s){var o=s.apply(t[a],arguments);if(o===nd)e[a]=nd;else if(o!==void 0&&o!==!1)return o}}else e[a]===n&&(e[a]=null)}}}function OS(t,e,r){var n=t[e];if(n){if(!r&&typeof n=="function")return n;var a=r?n.leave:n.enter;if(typeof a=="function")return a}else{var s=r?t.leave:t.enter;if(s){if(typeof s=="function")return s;var o=s[e];if(typeof o=="function")return o}}}function _3e(t){return EY(t,{leave:v3e})}var b3e=80,v3e={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return dt(e.definitions,`

`)+`
`},OperationDefinition:function(e){var r=e.operation,n=e.name,a=Br("(",dt(e.variableDefinitions,", "),")"),s=dt(e.directives," "),o=e.selectionSet;return!n&&!s&&!a&&r==="query"?o:dt([r,dt([n,a]),s,o]," ")},VariableDefinition:function(e){var r=e.variable,n=e.type,a=e.defaultValue,s=e.directives;return r+": "+n+Br(" = ",a)+Br(" ",dt(s," "))},SelectionSet:function(e){var r=e.selections;return Ea(r)},Field:function(e){var r=e.alias,n=e.name,a=e.arguments,s=e.directives,o=e.selectionSet,u=Br("",r,": ")+n,c=u+Br("(",dt(a,", "),")");return c.length>b3e&&(c=u+Br(`(
`,Fw(dt(a,`
`)),`
)`)),dt([c,dt(s," "),o]," ")},Argument:function(e){var r=e.name,n=e.value;return r+": "+n},FragmentSpread:function(e){var r=e.name,n=e.directives;return"..."+r+Br(" ",dt(n," "))},InlineFragment:function(e){var r=e.typeCondition,n=e.directives,a=e.selectionSet;return dt(["...",Br("on ",r),dt(n," "),a]," ")},FragmentDefinition:function(e){var r=e.name,n=e.typeCondition,a=e.variableDefinitions,s=e.directives,o=e.selectionSet;return"fragment ".concat(r).concat(Br("(",dt(a,", "),")")," ")+"on ".concat(n," ").concat(Br("",dt(s," ")," "))+o},IntValue:function(e){var r=e.value;return r},FloatValue:function(e){var r=e.value;return r},StringValue:function(e,r){var n=e.value,a=e.block;return a?r3e(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(e){var r=e.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){var r=e.value;return r},ListValue:function(e){var r=e.values;return"["+dt(r,", ")+"]"},ObjectValue:function(e){var r=e.fields;return"{"+dt(r,", ")+"}"},ObjectField:function(e){var r=e.name,n=e.value;return r+": "+n},Directive:function(e){var r=e.name,n=e.arguments;return"@"+r+Br("(",dt(n,", "),")")},NamedType:function(e){var r=e.name;return r},ListType:function(e){var r=e.type;return"["+r+"]"},NonNullType:function(e){var r=e.type;return r+"!"},SchemaDefinition:Ta(function(t){var e=t.directives,r=t.operationTypes;return dt(["schema",dt(e," "),Ea(r)]," ")}),OperationTypeDefinition:function(e){var r=e.operation,n=e.type;return r+": "+n},ScalarTypeDefinition:Ta(function(t){var e=t.name,r=t.directives;return dt(["scalar",e,dt(r," ")]," ")}),ObjectTypeDefinition:Ta(function(t){var e=t.name,r=t.interfaces,n=t.directives,a=t.fields;return dt(["type",e,Br("implements ",dt(r," & ")),dt(n," "),Ea(a)]," ")}),FieldDefinition:Ta(function(t){var e=t.name,r=t.arguments,n=t.type,a=t.directives;return e+(u5(r)?Br(`(
`,Fw(dt(r,`
`)),`
)`):Br("(",dt(r,", "),")"))+": "+n+Br(" ",dt(a," "))}),InputValueDefinition:Ta(function(t){var e=t.name,r=t.type,n=t.defaultValue,a=t.directives;return dt([e+": "+r,Br("= ",n),dt(a," ")]," ")}),InterfaceTypeDefinition:Ta(function(t){var e=t.name,r=t.interfaces,n=t.directives,a=t.fields;return dt(["interface",e,Br("implements ",dt(r," & ")),dt(n," "),Ea(a)]," ")}),UnionTypeDefinition:Ta(function(t){var e=t.name,r=t.directives,n=t.types;return dt(["union",e,dt(r," "),n&&n.length!==0?"= "+dt(n," | "):""]," ")}),EnumTypeDefinition:Ta(function(t){var e=t.name,r=t.directives,n=t.values;return dt(["enum",e,dt(r," "),Ea(n)]," ")}),EnumValueDefinition:Ta(function(t){var e=t.name,r=t.directives;return dt([e,dt(r," ")]," ")}),InputObjectTypeDefinition:Ta(function(t){var e=t.name,r=t.directives,n=t.fields;return dt(["input",e,dt(r," "),Ea(n)]," ")}),DirectiveDefinition:Ta(function(t){var e=t.name,r=t.arguments,n=t.repeatable,a=t.locations;return"directive @"+e+(u5(r)?Br(`(
`,Fw(dt(r,`
`)),`
)`):Br("(",dt(r,", "),")"))+(n?" repeatable":"")+" on "+dt(a," | ")}),SchemaExtension:function(e){var r=e.directives,n=e.operationTypes;return dt(["extend schema",dt(r," "),Ea(n)]," ")},ScalarTypeExtension:function(e){var r=e.name,n=e.directives;return dt(["extend scalar",r,dt(n," ")]," ")},ObjectTypeExtension:function(e){var r=e.name,n=e.interfaces,a=e.directives,s=e.fields;return dt(["extend type",r,Br("implements ",dt(n," & ")),dt(a," "),Ea(s)]," ")},InterfaceTypeExtension:function(e){var r=e.name,n=e.interfaces,a=e.directives,s=e.fields;return dt(["extend interface",r,Br("implements ",dt(n," & ")),dt(a," "),Ea(s)]," ")},UnionTypeExtension:function(e){var r=e.name,n=e.directives,a=e.types;return dt(["extend union",r,dt(n," "),a&&a.length!==0?"= "+dt(a," | "):""]," ")},EnumTypeExtension:function(e){var r=e.name,n=e.directives,a=e.values;return dt(["extend enum",r,dt(n," "),Ea(a)]," ")},InputObjectTypeExtension:function(e){var r=e.name,n=e.directives,a=e.fields;return dt(["extend input",r,dt(n," "),Ea(a)]," ")}};function Ta(t){return function(e){return dt([e.description,t(e)],`
`)}}function dt(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=t==null?void 0:t.filter(function(n){return n}).join(r))!==null&&e!==void 0?e:""}function Ea(t){return Br(`{
`,Fw(dt(t,`
`)),`
}`)}function Br(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?t+e+r:""}function Fw(t){return Br("  ",t.replace(/\n/g,`
  `))}function w3e(t){return t.indexOf(`
`)!==-1}function u5(t){return t!=null&&t.some(w3e)}function S3e(t){return AY(t)||OY(t)||xY(t)}function AY(t){return t.kind===rt.OPERATION_DEFINITION||t.kind===rt.FRAGMENT_DEFINITION}function T3e(t){return t.kind===rt.FIELD||t.kind===rt.FRAGMENT_SPREAD||t.kind===rt.INLINE_FRAGMENT}function E3e(t){return t.kind===rt.VARIABLE||t.kind===rt.INT||t.kind===rt.FLOAT||t.kind===rt.STRING||t.kind===rt.BOOLEAN||t.kind===rt.NULL||t.kind===rt.ENUM||t.kind===rt.LIST||t.kind===rt.OBJECT}function A3e(t){return t.kind===rt.NAMED_TYPE||t.kind===rt.LIST_TYPE||t.kind===rt.NON_NULL_TYPE}function OY(t){return t.kind===rt.SCHEMA_DEFINITION||RY(t)||t.kind===rt.DIRECTIVE_DEFINITION}function RY(t){return t.kind===rt.SCALAR_TYPE_DEFINITION||t.kind===rt.OBJECT_TYPE_DEFINITION||t.kind===rt.INTERFACE_TYPE_DEFINITION||t.kind===rt.UNION_TYPE_DEFINITION||t.kind===rt.ENUM_TYPE_DEFINITION||t.kind===rt.INPUT_OBJECT_TYPE_DEFINITION}function xY(t){return t.kind===rt.SCHEMA_EXTENSION||IY(t)}function IY(t){return t.kind===rt.SCALAR_TYPE_EXTENSION||t.kind===rt.OBJECT_TYPE_EXTENSION||t.kind===rt.INTERFACE_TYPE_EXTENSION||t.kind===rt.UNION_TYPE_EXTENSION||t.kind===rt.ENUM_TYPE_EXTENSION||t.kind===rt.INPUT_OBJECT_TYPE_EXTENSION}const O3e=Object.freeze(Object.defineProperty({__proto__:null,BREAK:nd,DirectiveLocation:SY,Kind:rt,Lexer:wY,Location:LC,Source:DC,Token:qr,TokenKind:Ve,getLocation:AS,getVisitFn:OS,isDefinitionNode:S3e,isExecutableDefinitionNode:AY,isSelectionNode:T3e,isTypeDefinitionNode:RY,isTypeExtensionNode:IY,isTypeNode:A3e,isTypeSystemDefinitionNode:OY,isTypeSystemExtensionNode:xY,isValueNode:E3e,parse:h3e,parseType:y3e,parseValue:p3e,print:_3e,printLocation:gY,printSourceLocation:CC,visit:EY,visitInParallel:g3e},Symbol.toStringTag,{value:"Module"})),R3e=sD(O3e);var tp={},pn={},sT={};(function(){(function(t){(function(e){var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function n(x){return x&&DataView.prototype.isPrototypeOf(x)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(x){return x&&a.indexOf(Object.prototype.toString.call(x))>-1};function o(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(x))throw new TypeError("Invalid character in header field name");return x.toLowerCase()}function u(x){return typeof x!="string"&&(x=String(x)),x}function c(x){var P={next:function(){var j=x.shift();return{done:j===void 0,value:j}}};return r.iterable&&(P[Symbol.iterator]=function(){return P}),P}function l(x){this.map={},x instanceof l?x.forEach(function(P,j){this.append(j,P)},this):Array.isArray(x)?x.forEach(function(P){this.append(P[0],P[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(P){this.append(P,x[P])},this)}l.prototype.append=function(x,P){x=o(x),P=u(P);var j=this.map[x];this.map[x]=j?j+", "+P:P},l.prototype.delete=function(x){delete this.map[o(x)]},l.prototype.get=function(x){return x=o(x),this.has(x)?this.map[x]:null},l.prototype.has=function(x){return this.map.hasOwnProperty(o(x))},l.prototype.set=function(x,P){this.map[o(x)]=u(P)},l.prototype.forEach=function(x,P){for(var j in this.map)this.map.hasOwnProperty(j)&&x.call(P,this.map[j],j,this)},l.prototype.keys=function(){var x=[];return this.forEach(function(P,j){x.push(j)}),c(x)},l.prototype.values=function(){var x=[];return this.forEach(function(P){x.push(P)}),c(x)},l.prototype.entries=function(){var x=[];return this.forEach(function(P,j){x.push([j,P])}),c(x)},r.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function d(x){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}function f(x){return new Promise(function(P,j){x.onload=function(){P(x.result)},x.onerror=function(){j(x.error)}})}function h(x){var P=new FileReader,j=f(P);return P.readAsArrayBuffer(x),j}function p(x){var P=new FileReader,j=f(P);return P.readAsText(x),j}function m(x){for(var P=new Uint8Array(x),j=new Array(P.length),N=0;N<P.length;N++)j[N]=String.fromCharCode(P[N]);return j.join("")}function y(x){if(x.slice)return x.slice(0);var P=new Uint8Array(x.byteLength);return P.set(new Uint8Array(x)),P.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(x){this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:r.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:r.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():r.arrayBuffer&&r.blob&&n(x)?(this._bodyArrayBuffer=y(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||s(x))?this._bodyArrayBuffer=y(x):this._bodyText=x=Object.prototype.toString.call(x):this._bodyText="",this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var x=d(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var x=d(this);if(x)return x;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(x){var P=x.toUpperCase();return b.indexOf(P)>-1?P:x}function _(x,P){P=P||{};var j=P.body;if(x instanceof _){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,P.headers||(this.headers=new l(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!j&&x._bodyInit!=null&&(j=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=P.credentials||this.credentials||"same-origin",(P.headers||!this.headers)&&(this.headers=new l(P.headers)),this.method=v(P.method||this.method||"GET"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(j)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})};function w(x){var P=new FormData;return x.trim().split("&").forEach(function(j){if(j){var N=j.split("="),V=N.shift().replace(/\+/g," "),$=N.join("=").replace(/\+/g," ");P.append(decodeURIComponent(V),decodeURIComponent($))}}),P}function E(x){var P=new l,j=x.replace(/\r?\n[\t ]+/g," ");return j.split(/\r?\n/).forEach(function(N){var V=N.split(":"),$=V.shift().trim();if($){var q=V.join(":").trim();P.append($,q)}}),P}g.call(_.prototype);function O(x,P){P||(P={}),this.type="default",this.status=P.status===void 0?200:P.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in P?P.statusText:"OK",this.headers=new l(P.headers),this.url=P.url||"",this._initBody(x)}g.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},O.error=function(){var x=new O(null,{status:0,statusText:""});return x.type="error",x};var L=[301,302,303,307,308];O.redirect=function(x,P){if(L.indexOf(P)===-1)throw new RangeError("Invalid status code");return new O(null,{status:P,headers:{location:x}})},e.DOMException=t.DOMException;try{new e.DOMException}catch{e.DOMException=function(P,j){this.message=P,this.name=j;var N=Error(P);this.stack=N.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function F(x,P){return new Promise(function(j,N){var V=new _(x,P);if(V.signal&&V.signal.aborted)return N(new e.DOMException("Aborted","AbortError"));var $=new XMLHttpRequest;function q(){$.abort()}$.onload=function(){var H={status:$.status,statusText:$.statusText,headers:E($.getAllResponseHeaders()||"")};H.url="responseURL"in $?$.responseURL:H.headers.get("X-Request-URL");var X="response"in $?$.response:$.responseText;j(new O(X,H))},$.onerror=function(){N(new TypeError("Network request failed"))},$.ontimeout=function(){N(new TypeError("Network request failed"))},$.onabort=function(){N(new e.DOMException("Aborted","AbortError"))},$.open(V.method,V.url,!0),V.credentials==="include"?$.withCredentials=!0:V.credentials==="omit"&&($.withCredentials=!1),"responseType"in $&&r.blob&&($.responseType="blob"),V.headers.forEach(function(H,X){$.setRequestHeader(X,H)}),V.signal&&(V.signal.addEventListener("abort",q),$.onreadystatechange=function(){$.readyState===4&&V.signal.removeEventListener("abort",q)}),$.send(typeof V._bodyInit>"u"?null:V._bodyInit)})}return F.polyfill=!0,t.fetch||(t.fetch=F,t.Headers=l,t.Request=_,t.Response=O),e.Headers=l,e.Request=_,e.Response=O,e.fetch=F,Object.defineProperty(e,"__esModule",{value:!0}),e})({})})(typeof self<"u"?self:I)})();var _a={},uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.removeDotSegmentsOfPath=uu.removeDotSegments=uu.resolve=void 0;function x3e(t,e){e=e||"";const r=e.indexOf("#");if(r>0&&(e=e.substr(0,r)),!t.length){if(e.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);return e}if(t.startsWith("?")){const l=e.indexOf("?");return l>0&&(e=e.substr(0,l)),e+t}if(t.startsWith("#"))return e+t;if(!e.length){const l=t.indexOf(":");if(l<0)throw new Error(`Found invalid relative IRI '${t}' for a missing baseIRI`);return lc(t,l)}const n=t.indexOf(":");if(n>=0)return lc(t,n);const a=e.indexOf(":");if(a<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);const s=e.substr(0,a+1);if(t.indexOf("//")===0)return s+lc(t,n);let o;if(e.indexOf("//",a)===a+1){if(o=e.indexOf("/",a+3),o<0)return e.length>a+3?e+"/"+lc(t,n):s+lc(t,n)}else if(o=e.indexOf("/",a+1),o<0)return s+lc(t,n);if(t.indexOf("/")===0)return e.substr(0,o)+RS(t);let u=e.substr(o);const c=u.lastIndexOf("/");return c>=0&&c<u.length-1&&(u=u.substr(0,c+1),t[0]==="."&&t[1]!=="."&&t[1]!=="/"&&t[2]&&(t=t.substr(1))),t=u+t,t=RS(t),e.substr(0,o)+t}uu.resolve=x3e;function RS(t){const e=[];let r=0;for(;r<t.length;)switch(t[r]){case"/":if(t[r+1]===".")if(t[r+2]==="."){if(!c5(t[r+3])){e.push([]),r++;break}e.pop(),t[r+3]||e.push([]),r+=3}else{if(!c5(t[r+2])){e.push([]),r++;break}t[r+2]||e.push([]),r+=2}else e.push([]),r++;break;case"#":case"?":e.length||e.push([]),e[e.length-1].push(t.substr(r)),r=t.length;break;default:e.length||e.push([]),e[e.length-1].push(t[r]),r++;break}return"/"+e.map(n=>n.join("")).join("/")}uu.removeDotSegments=RS;function lc(t,e){let r=e+1;e>=0?t[e+1]==="/"&&t[e+2]==="/"&&(r=e+3):t[0]==="/"&&t[1]==="/"&&(r=2);const n=t.indexOf("/",r);if(n<0)return t;const a=t.substr(0,n),s=t.substr(n);return a+RS(s)}uu.removeDotSegmentsOfPath=lc;function c5(t){return!t||t==="#"||t==="?"||t==="/"}(function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(uu,t)})(_a);var If={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_CODES=t.ErrorCoded=void 0;class e extends Error{constructor(n,a){super(n),this.code=a}}t.ErrorCoded=e,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(t.ERROR_CODES||(t.ERROR_CODES={}))})(If);var T1={},I3e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,P3e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N3e=/\s|\uFEFF|\xA0/,D3e=/\r?\n[\x20\x09]+/g,C3e=/[;,"]/,L3e=/[;,"]|\s/,j3e=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,$s={IDLE:1,URI:2,ATTR:4};function l5(t){return t.replace(P3e,"")}function Bw(t){return N3e.test(t)}function M3e(t,e){for(;Bw(t[e]);)e++;return e}function d5(t){return L3e.test(t)||!j3e.test(t)}function F3e(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>r in e&&t[r]===e[r])}class Or{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var r=[],n=e.toLowerCase(),a=0;a<this.refs.length;a++)typeof this.refs[a].rel=="string"&&this.refs[a].rel.toLowerCase()===n&&r.push(this.refs[a]);return r}get(e,r){e=e.toLowerCase(),r=r.toLowerCase();for(var n=[],a=0;a<this.refs.length;a++)typeof this.refs[a][e]=="string"&&this.refs[a][e].toLowerCase()===r&&n.push(this.refs[a]);return n}set(e){return this.refs.push(e),this}setUnique(e){return this.refs.some(r=>F3e(r,e))||this.refs.push(e),this}has(e,r){e=e.toLowerCase(),r=r.toLowerCase();for(var n=0;n<this.refs.length;n++)if(typeof this.refs[n][e]=="string"&&this.refs[n][e].toLowerCase()===r)return!0;return!1}parse(e,s){s=s||0,e=s?e.slice(s):e,e=l5(e).replace(D3e,"");for(var n=$s.IDLE,a=e.length,s=0,o=null;s<a;)if(n===$s.IDLE){if(Bw(e[s])){s++;continue}else if(e[s]==="<"){o!=null&&(o.rel!=null?this.refs.push(...Or.expandRelations(o)):this.refs.push(o));var u=e.indexOf(">",s);if(u===-1)throw new Error("Expected end of URI delimiter at offset "+s);o={uri:e.slice(s+1,u)},s=u,n=$s.URI}else throw new Error('Unexpected character "'+e[s]+'" at offset '+s);s++}else if(n===$s.URI)if(Bw(e[s])){s++;continue}else if(e[s]===";")n=$s.ATTR,s++;else if(e[s]===",")n=$s.IDLE,s++;else throw new Error('Unexpected character "'+e[s]+'" at offset '+s);else if(n===$s.ATTR){if(e[s]===";"||Bw(e[s])){s++;continue}var u=e.indexOf("=",s);u===-1&&(u=e.indexOf(";",s)),u===-1&&(u=e.length);var c=l5(e.slice(s,u)).toLowerCase(),l="";if(s=u+1,s=M3e(e,s),e[s]==='"')for(s++;s<a;){if(e[s]==='"'){s++;break}e[s]==="\\"&&s++,l+=e[s],s++}else{for(var u=s+1;!C3e.test(e[u])&&u<a;)u++;l=e.slice(s,u),s=u}switch(o[c]&&Or.isSingleOccurenceAttr(c)||(c[c.length-1]==="*"?o[c]=Or.parseExtendedValue(l):(l=c==="type"?l.toLowerCase():l,o[c]!=null?Array.isArray(o[c])?o[c].push(l):o[c]=[o[c],l]:o[c]=l)),e[s]){case",":n=$s.IDLE;break;case";":n=$s.ATTR;break}s++}else throw new Error('Unknown parser state "'+n+'"');return o!=null&&(o.rel!=null?this.refs.push(...Or.expandRelations(o)):this.refs.push(o)),o=null,this}toString(){for(var e=[],r="",n=null,a=0;a<this.refs.length;a++)n=this.refs[a],r=Object.keys(this.refs[a]).reduce(function(s,o){return o==="uri"?s:s+"; "+Or.formatAttribute(o,n[o])},"<"+n.uri+">"),e.push(r);return e.join(", ")}}Or.isCompatibleEncoding=function(t){return I3e.test(t)};Or.parse=function(t,e){return new Or().parse(t,e)};Or.isSingleOccurenceAttr=function(t){return t==="rel"||t==="type"||t==="media"||t==="title"||t==="title*"};Or.isTokenAttr=function(t){return t==="rel"||t==="type"||t==="anchor"};Or.escapeQuotes=function(t){return t.replace(/"/g,'\\"')};Or.expandRelations=function(t){var e=t.rel.split(" ");return e.map(function(r){var n=Object.assign({},t);return n.rel=r,n})};Or.parseExtendedValue=function(t){var e=/([^']+)?(?:'([^']*)')?(.+)/.exec(t);return{language:e[2].toLowerCase(),encoding:Or.isCompatibleEncoding(e[1])?null:e[1].toLowerCase(),value:Or.isCompatibleEncoding(e[1])?decodeURIComponent(e[3]):e[3]}};Or.formatExtendedAttribute=function(t,e){var r=(e.encoding||"utf-8").toUpperCase(),n=e.language||"en",a="";return ta.isBuffer(e.value)&&Or.isCompatibleEncoding(r)?a=e.value.toString(r):ta.isBuffer(e.value)?a=e.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):a=encodeURIComponent(e.value),t+"="+r+"'"+n+"'"+a};Or.formatAttribute=function(t,e){return Array.isArray(e)?e.map(r=>Or.formatAttribute(t,r)).join("; "):t[t.length-1]==="*"||typeof e!="string"?Or.formatExtendedAttribute(t,e):(Or.isTokenAttr(t)?e=d5(e)?'"'+Or.escapeQuotes(e)+'"':Or.escapeQuotes(e):d5(e)&&(e=encodeURIComponent(e),e=e.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),e='"'+e+'"'),t+"="+e)};var PY=Or;Object.defineProperty(T1,"__esModule",{value:!0});T1.FetchDocumentLoader=void 0;const f5=If,B3e=PY,q3e=_a;class $3e{constructor(e){this.fetcher=e}async load(e){const r=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(r.ok&&r.headers){let n=r.headers.get("Content-Type");if(n){const a=n.indexOf(";");a>0&&(n=n.substr(0,a))}if(n==="application/ld+json")return await r.json();if(r.headers.has("Link")){let a;if(r.headers.forEach((s,o)=>{if(o==="link"){const u=(0,B3e.parse)(s);for(const c of u.get("type","application/ld+json"))if(c.rel==="alternate"){if(a)throw new Error("Multiple JSON-LD alternate links were found on "+e);a=(0,q3e.resolve)(c.uri,e)}}}),a)return this.load(a)}throw new f5.ErrorCoded(`Unsupported JSON-LD media type ${n}`,f5.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(r.statusText||`Status code: ${r.status}`)}}T1.FetchDocumentLoader=$3e;var MC={},Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.Util=void 0;let Qi=class Ks{static isCompactIri(e){return e.indexOf(":")>0&&!(e&&e[0]==="#")}static getPrefix(e,r){if(e&&e[0]==="#")return null;const n=e.indexOf(":");if(n>=0){if(e.length>n+1&&e.charAt(n+1)==="/"&&e.charAt(n+2)==="/")return null;const a=e.substr(0,n);if(a==="_")return null;if(r[a])return a}return null}static getContextValueId(e){if(e===null||typeof e=="string")return e;const r=e["@id"];return r||null}static isSimpleTermDefinitionPrefix(e,r){return!Ks.isPotentialKeyword(e)&&(r.allowPrefixNonGenDelims||typeof e=="string"&&(e[0]==="_"||Ks.isPrefixIriEndingWithGenDelim(e)))}static isPotentialKeyword(e){return typeof e=="string"&&Ks.KEYWORD_REGEX.test(e)}static isPrefixIriEndingWithGenDelim(e){return Ks.ENDS_WITH_GEN_DELIM.test(e)}static isPrefixValue(e){return e&&(typeof e=="string"||e&&typeof e=="object")}static isValidIri(e){return!!(e&&Ks.IRI_REGEX.test(e))}static isValidIriWeak(e){return!!e&&e[0]!==":"&&Ks.IRI_REGEX_WEAK.test(e)}static isValidKeyword(e){return Ks.VALID_KEYWORDS[e]}static isTermProtected(e,r){const n=e[r];return typeof n!="string"&&n&&n["@protected"]}static hasProtectedTerms(e){for(const r of Object.keys(e))if(Ks.isTermProtected(e,r))return!0;return!1}static isReservedInternalKeyword(e){return e.startsWith("@__")}static deepEqual(e,r){const n=Object.keys(e),a=Object.keys(r);return n.length!==a.length?!1:n.every(s=>{const o=e[s],u=r[s];return o===u||o!==null&&u!==null&&typeof o=="object"&&typeof u=="object"&&this.deepEqual(o,u)})}};Qi.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/;Qi.IRI_REGEX_WEAK=/(?::[^:])|\//;Qi.KEYWORD_REGEX=/^@[a-z]+$/i;Qi.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/;Qi.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/;Qi.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/;Qi.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0};Qi.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"];Qi.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"];Qi.ALIAS_RANGE_BLACKLIST=["@context","@preserve"];Qi.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"];Qi.CONTAINERS_1_0=["@list","@set","@index"];Pf.Util=Qi;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExpandOptions=t.JsonLdContextNormalized=void 0;const e=_a,r=If,n=Pf;class a{constructor(o){this.contextRaw=o}getContextRaw(){return this.contextRaw}expandTerm(o,u,c=t.defaultExpandOptions){const l=this.contextRaw[o];if(l===null||l&&l["@id"]===null)return null;let d=!0;if(l&&u){const g=n.Util.getContextValueId(l);if(g&&g!==o)if(typeof g!="string"||!n.Util.isValidIri(g)&&!n.Util.isValidKeyword(g))n.Util.isPotentialKeyword(g)||(d=!1);else return g}const f=n.Util.getPrefix(o,this.contextRaw),h=this.contextRaw["@vocab"],p=(!!h||h==="")&&h.indexOf(":")<0,m=this.contextRaw["@base"],y=n.Util.isPotentialKeyword(o);if(f){const g=this.contextRaw[f],b=n.Util.getContextValueId(g);if(b){if(typeof g=="string"||!c.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(b,c))return o}else if(b[0]!=="_"&&!y&&!g["@prefix"]&&!(o in this.contextRaw))return o;return b+o.substr(f.length+1)}}else if(u&&(h||h===""||c.allowVocabRelativeToBase&&m&&p)&&!y&&!n.Util.isCompactIri(o))if(p){if(c.allowVocabRelativeToBase)return(h||m?(0,e.resolve)(h,m):"")+o;throw new r.ErrorCoded(`Relative vocab expansion for term '${o}' with vocab '${h}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return h+o;else if(!u&&m&&!y&&!n.Util.isCompactIri(o))return(0,e.resolve)(o,m);if(d)return o;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${o}': '${JSON.stringify(l)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(o,u){if(u&&this.contextRaw["@vocab"]&&o.startsWith(this.contextRaw["@vocab"]))return o.substr(this.contextRaw["@vocab"].length);if(!u&&this.contextRaw["@base"]&&o.startsWith(this.contextRaw["@base"]))return o.substr(this.contextRaw["@base"].length);const c={prefix:"",suffix:o};for(const l in this.contextRaw){const d=this.contextRaw[l];if(d&&!n.Util.isPotentialKeyword(l)){const f=n.Util.getContextValueId(d);if(o.startsWith(f)){const h=o.substr(f.length);if(h)h.length<c.suffix.length&&(c.prefix=l,c.suffix=h);else if(u)return l}}}return c.prefix?c.prefix+":"+c.suffix:o}}t.JsonLdContextNormalized=a,t.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}})(MC);Object.defineProperty(sT,"__esModule",{value:!0});sT.ContextParser=void 0;const h5=_a,We=If,U3e=T1,Aa=MC,Et=Pf;class ro{constructor(e){e=e||{},this.documentLoader=e.documentLoader||new U3e.FetchDocumentLoader,this.documentCache={},this.validateContext=!e.skipValidation,this.expandContentTypeToBase=!!e.expandContentTypeToBase,this.remoteContextsDepthLimit=e.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in e?!!e.redirectSchemaOrgHttps:!0}static validateLanguage(e,r,n){if(typeof e!="string")throw new We.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(e)}'`,n);if(!Et.Util.REGEX_LANGUAGE_TAG.test(e)){if(r)throw new We.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(e)}'`,n);return!1}return!0}static validateDirection(e,r){if(typeof e!="string")throw new We.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(e)}'`,We.ERROR_CODES.INVALID_BASE_DIRECTION);if(!Et.Util.REGEX_DIRECTION_TAG.test(e)){if(r)throw new We.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(e)}'`,We.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(e){for(const r of Object.keys(e)){let n=e[r];if(n&&typeof n=="object"&&n["@reverse"]&&!n["@id"]){if(typeof n["@reverse"]!="string"||Et.Util.isValidKeyword(n["@reverse"]))throw new We.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${n["@reverse"]}'`,We.ERROR_CODES.INVALID_IRI_MAPPING);n=e[r]=Object.assign(Object.assign({},n),{"@id":n["@reverse"]}),n["@id"]=n["@reverse"],Et.Util.isPotentialKeyword(n["@reverse"])?delete n["@reverse"]:n["@reverse"]=!0}}return e}expandPrefixedTerms(e,r,n){const a=e.getContextRaw();for(const s of n||Object.keys(a))if(Et.Util.EXPAND_KEYS_BLACKLIST.indexOf(s)<0&&!Et.Util.isReservedInternalKeyword(s)){const o=a[s];if(Et.Util.isPotentialKeyword(s)&&Et.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(s)>=0&&(s!=="@type"||typeof a[s]=="object"&&!(a[s]["@protected"]||a[s]["@container"]==="@set")))throw new We.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${s} to ${JSON.stringify(o)}`,We.ERROR_CODES.KEYWORD_REDEFINITION);if(Et.Util.ALIAS_RANGE_BLACKLIST.indexOf(Et.Util.getContextValueId(o))>=0)throw new We.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${s} to ${JSON.stringify(o)}`,We.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(o&&Et.Util.isPotentialKeyword(Et.Util.getContextValueId(o))&&o["@prefix"]===!0)throw new We.ErrorCoded(`Tried to use keyword aliases as prefix: '${s}': '${JSON.stringify(o)}'`,We.ERROR_CODES.INVALID_TERM_DEFINITION);for(;Et.Util.isPrefixValue(a[s]);){const u=a[s];let c=!1;if(typeof u=="string")a[s]=e.expandTerm(u,!0),c=c||u!==a[s];else{const l=u["@id"],d=u["@type"],f=!("@prefix"in u)||Et.Util.isValidIri(s);if("@id"in u)l!=null&&typeof l=="string"&&(a[s]=Object.assign(Object.assign({},a[s]),{"@id":e.expandTerm(l,!0)}),c=c||l!==a[s]["@id"]);else if(!Et.Util.isPotentialKeyword(s)&&f){const h=e.expandTerm(s,!0);h!==s&&(a[s]=Object.assign(Object.assign({},a[s]),{"@id":h}),c=!0)}if(d&&typeof d=="string"&&d!=="@vocab"&&(!u["@container"]||!u["@container"]["@type"])&&f){let h=e.expandTerm(d,!0);r&&d===h&&(h=e.expandTerm(d,!1)),h!==d&&(c=!0,a[s]=Object.assign(Object.assign({},a[s]),{"@type":h}))}}if(!c)break}}}normalize(e,{processingMode:r,normalizeLanguageTags:n}){if(n||r===1)for(const a of Object.keys(e))if(a==="@language"&&typeof e[a]=="string")e[a]=e[a].toLowerCase();else{const s=e[a];if(s&&typeof s=="object"&&typeof s["@language"]=="string"){const o=s["@language"].toLowerCase();o!==s["@language"]&&(e[a]=Object.assign(Object.assign({},s),{"@language":o}))}}}containersToHash(e){for(const r of Object.keys(e)){const n=e[r];if(n&&typeof n=="object"){if(typeof n["@container"]=="string")e[r]=Object.assign(Object.assign({},n),{"@container":{[n["@container"]]:!0}});else if(Array.isArray(n["@container"])){const a={};for(const s of n["@container"])a[s]=!0;e[r]=Object.assign(Object.assign({},n),{"@container":a})}}}}applyScopedProtected(e,{processingMode:r},n){if(r&&r>=1.1&&e["@protected"]){for(const a of Object.keys(e))if(!Et.Util.isReservedInternalKeyword(a)&&!Et.Util.isPotentialKeyword(a)&&!Et.Util.isTermProtected(e,a)){const s=e[a];s&&typeof s=="object"?"@protected"in e[a]||(e[a]=Object.assign(Object.assign({},e[a]),{"@protected":!0})):(e[a]={"@id":s,"@protected":!0},Et.Util.isSimpleTermDefinitionPrefix(s,n)&&(e[a]=Object.assign(Object.assign({},e[a]),{"@prefix":!0})))}delete e["@protected"]}}validateKeywordRedefinitions(e,r,n,a){for(const s of a??Object.keys(r))if(Et.Util.isTermProtected(e,s)&&(typeof r[s]=="string"?r[s]={"@id":r[s],"@protected":!0}:r[s]=Object.assign(Object.assign({},r[s]),{"@protected":!0}),!Et.Util.deepEqual(e[s],r[s])))throw new We.ErrorCoded(`Attempted to override the protected keyword ${s} from ${JSON.stringify(Et.Util.getContextValueId(e[s]))} to ${JSON.stringify(Et.Util.getContextValueId(r[s]))}`,We.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(e,{processingMode:r}){for(const n of Object.keys(e)){if(Et.Util.isReservedInternalKeyword(n))continue;if(n==="")throw new We.ErrorCoded(`The empty term is not allowed, got: '${n}': '${JSON.stringify(e[n])}'`,We.ERROR_CODES.INVALID_TERM_DEFINITION);const a=e[n],s=typeof a;if(Et.Util.isPotentialKeyword(n)){switch(n.substr(1)){case"vocab":if(a!==null&&s!=="string")throw new We.ErrorCoded(`Found an invalid @vocab IRI: ${a}`,We.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(a!==null&&s!=="string")throw new We.ErrorCoded(`Found an invalid @base IRI: ${e[n]}`,We.ERROR_CODES.INVALID_BASE_IRI);break;case"language":a!==null&&ro.validateLanguage(a,!0,We.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(a!==null&&s!=="number")throw new We.ErrorCoded(`Found an invalid @version number: ${a}`,We.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":a!==null&&ro.validateDirection(a,!0);break;case"propagate":if(r===1)throw new We.ErrorCoded(`Found an illegal @propagate keyword: ${a}`,We.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(a!==null&&s!=="boolean")throw new We.ErrorCoded(`Found an invalid @propagate value: ${a}`,We.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(Et.Util.isValidKeyword(n)&&Et.Util.isValidKeyword(Et.Util.getContextValueId(a)))throw new We.ErrorCoded(`Illegal keyword alias in term value, found: '${n}': '${Et.Util.getContextValueId(a)}'`,We.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(a!==null)switch(s){case"string":if(Et.Util.getPrefix(a,e)===n)throw new We.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${n}': '${JSON.stringify(a)}'`,We.ERROR_CODES.CYCLIC_IRI_MAPPING);if(Et.Util.isValidIriWeak(n)){if(a==="@type")throw new We.ErrorCoded(`IRIs can not be mapped to @type, found: '${n}': '${a}'`,We.ERROR_CODES.INVALID_IRI_MAPPING);if(Et.Util.isValidIri(a)&&a!==new Aa.JsonLdContextNormalized(e).expandTerm(n))throw new We.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${n}': '${a}'`,We.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!Et.Util.isCompactIri(n)&&!("@id"in a)&&(a["@type"]==="@id"?!e["@base"]:!e["@vocab"]))throw new We.ErrorCoded(`Missing @id in context entry: '${n}': '${JSON.stringify(a)}'`,We.ERROR_CODES.INVALID_IRI_MAPPING);for(const o of Object.keys(a)){const u=a[o];if(u)switch(o){case"@id":if(Et.Util.isValidKeyword(u)&&u!=="@type"&&u!=="@id"&&u!=="@graph"&&u!=="@nest")throw new We.ErrorCoded(`Illegal keyword alias in term value, found: '${n}': '${JSON.stringify(a)}'`,We.ERROR_CODES.INVALID_IRI_MAPPING);if(Et.Util.isValidIriWeak(n)){if(u==="@type")throw new We.ErrorCoded(`IRIs can not be mapped to @type, found: '${n}': '${JSON.stringify(a)}'`,We.ERROR_CODES.INVALID_IRI_MAPPING);if(Et.Util.isValidIri(u)&&u!==new Aa.JsonLdContextNormalized(e).expandTerm(n))throw new We.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${n}': '${JSON.stringify(a)}'`,We.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof u!="string")throw new We.ErrorCoded(`Detected non-string @id in context entry: '${n}': '${JSON.stringify(a)}'`,We.ERROR_CODES.INVALID_IRI_MAPPING);if(Et.Util.getPrefix(u,e)===n)throw new We.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${n}': '${JSON.stringify(a)}'`,We.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(a["@container"]==="@type"&&u!=="@id"&&u!=="@vocab")throw new We.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${n}': '${u}'`,We.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof u!="string")throw new We.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(s)}'`,We.ERROR_CODES.INVALID_TYPE_MAPPING);if(u!=="@id"&&u!=="@vocab"&&(r===1||u!=="@json")&&(r===1||u!=="@none")&&(u[0]==="_"||!Et.Util.isValidIri(u)))throw new We.ErrorCoded(`A context @type must be an absolute IRI, found: '${n}': '${u}'`,We.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof u=="string"&&a["@id"]&&a["@id"]!==u)throw new We.ErrorCoded(`Found non-matching @id and @reverse term values in '${n}':'${u}' and '${a["@id"]}'`,We.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in a)throw new We.ErrorCoded(`@nest is not allowed in the reverse property '${n}'`,We.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(r===1&&(Object.keys(u).length>1||Et.Util.CONTAINERS_1_0.indexOf(Object.keys(u)[0])<0))throw new We.ErrorCoded(`Invalid term @container for '${n}' ('${Object.keys(u)}') in 1.0, must be only one of ${Et.Util.CONTAINERS_1_0.join(", ")}`,We.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const c of Object.keys(u)){if(c==="@list"&&a["@reverse"])throw new We.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${n}'`,We.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(Et.Util.CONTAINERS.indexOf(c)<0)throw new We.ErrorCoded(`Invalid term @container for '${n}' ('${c}'), must be one of ${Et.Util.CONTAINERS.join(", ")}`,We.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":ro.validateLanguage(u,!0,We.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":ro.validateDirection(u,!0);break;case"@prefix":if(u!==null&&typeof u!="boolean")throw new We.ErrorCoded(`Found an invalid term @prefix boolean in: '${n}': '${JSON.stringify(a)}'`,We.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in a)&&!Et.Util.isValidIri(n))throw new We.ErrorCoded(`Invalid @prefix definition for '${n}' ('${JSON.stringify(a)}'`,We.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(r===1||!a["@container"]||!a["@container"]["@index"])throw new We.ErrorCoded(`Attempt to add illegal key to value object: '${n}': '${JSON.stringify(a)}'`,We.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(Et.Util.isPotentialKeyword(u)&&u!=="@nest")throw new We.ErrorCoded(`Found an invalid term @nest value in: '${n}': '${JSON.stringify(a)}'`,We.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new We.ErrorCoded(`Found an invalid term value: '${n}': '${a}'`,We.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(e,r,n){return typeof e=="string"||(n&&!("@base"in e)&&r.parentContext&&typeof r.parentContext=="object"&&"@base"in r.parentContext&&(e["@base"]=r.parentContext["@base"],r.parentContext["@__baseDocument"]&&(e["@__baseDocument"]=!0)),r.baseIRI&&!r.external&&("@base"in e?e["@base"]!==null&&typeof e["@base"]=="string"&&!Et.Util.isValidIri(e["@base"])&&(e["@base"]=(0,h5.resolve)(e["@base"],r.parentContext&&r.parentContext["@base"]||r.baseIRI)):(e["@base"]=r.baseIRI,e["@__baseDocument"]=!0))),e}normalizeContextIri(e,r){if(!Et.Util.isValidIri(e))try{e=(0,h5.resolve)(e,r)}catch{throw new Error(`Invalid context IRI: ${e}`)}return this.redirectSchemaOrgHttps&&e.startsWith("http://schema.org")&&(e="https://schema.org/"),e}async parseInnerContexts(e,r,n){for(const a of n??Object.keys(e)){const s=e[a];if(s&&typeof s=="object"&&"@context"in s&&s["@context"]!==null&&!r.ignoreScopedContexts){if(this.validateContext)try{const o=Object.assign(Object.assign({},e),{[a]:Object.assign({},e[a])});delete o[a]["@context"],await this.parse(s["@context"],Object.assign(Object.assign({},r),{external:!1,parentContext:o,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(o){throw new We.ErrorCoded(o.message,We.ERROR_CODES.INVALID_SCOPED_CONTEXT)}e[a]=Object.assign(Object.assign({},s),{"@context":(await this.parse(s["@context"],Object.assign(Object.assign({},r),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:e}))).getContextRaw()})}}return e}async parse(e,r={},n={}){const{baseIRI:a,parentContext:s,external:o,processingMode:u=ro.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:c,ignoreProtection:l,minimalProcessing:d}=r,f=r.remoteContexts||{};if(Object.keys(f).length>=this.remoteContextsDepthLimit)throw new We.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(f),We.ERROR_CODES.CONTEXT_OVERFLOW);if(e==null){if(!l&&s&&Et.Util.hasProtectedTerms(s))throw new We.ErrorCoded("Illegal context nullification when terms are protected",We.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new Aa.JsonLdContextNormalized(this.applyBaseEntry({},r,!1))}else if(typeof e=="string"){const h=this.normalizeContextIri(e,a),p=this.getOverriddenLoad(h,r);if(p)return new Aa.JsonLdContextNormalized(p);const m=await this.parse(await this.load(h),Object.assign(Object.assign({},r),{baseIRI:h,external:!0,remoteContexts:Object.assign(Object.assign({},f),{[h]:!0})}));return this.applyBaseEntry(m.getContextRaw(),r,!0),m}else if(Array.isArray(e)){const h=[],p=await Promise.all(e.map((y,g)=>{if(typeof y=="string"){const b=this.normalizeContextIri(y,a);h[g]=b;const v=this.getOverriddenLoad(b,r);return v||this.load(b)}else return y}));if(d)return new Aa.JsonLdContextNormalized(p);const m=await p.reduce((y,g,b)=>y.then(v=>this.parse(g,Object.assign(Object.assign({},r),{baseIRI:h[b]||r.baseIRI,external:!!h[b]||r.external,parentContext:v.getContextRaw(),remoteContexts:h[b]?Object.assign(Object.assign({},f),{[h[b]]:!0}):f}),{skipValidation:b<p.length-1})),Promise.resolve(new Aa.JsonLdContextNormalized(s||{})));return this.applyBaseEntry(m.getContextRaw(),r,!0),m}else if(typeof e=="object"){if("@context"in e)return await this.parse(e["@context"],r);if(e=Object.assign({},e),o&&delete e["@base"],this.applyBaseEntry(e,r,!0),this.containersToHash(e),d)return new Aa.JsonLdContextNormalized(e);let h={};if("@import"in e)if(u>=1.1){if(typeof e["@import"]!="string")throw new We.ErrorCoded("An @import value must be a string, but got "+typeof e["@import"],We.ERROR_CODES.INVALID_IMPORT_VALUE);h=await this.loadImportContext(this.normalizeContextIri(e["@import"],a)),delete e["@import"]}else throw new We.ErrorCoded("Context importing is not supported in JSON-LD 1.0",We.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(h,{processingMode:u},Aa.defaultExpandOptions);const p=Object.assign(h,e);this.idifyReverseTerms(p),this.normalize(p,{processingMode:u,normalizeLanguageTags:c}),this.applyScopedProtected(p,{processingMode:u},Aa.defaultExpandOptions);const m=Object.keys(p),y=[];if(typeof s=="object")for(const b in s)b in p?y.push(b):p[b]=s[b];await this.parseInnerContexts(p,r,m);const g=new Aa.JsonLdContextNormalized(p);return(p&&p["@version"]||ro.DEFAULT_PROCESSING_MODE)>=1.1&&(e["@vocab"]&&typeof e["@vocab"]=="string"||e["@vocab"]==="")&&(s&&"@vocab"in s&&e["@vocab"].indexOf(":")<0?p["@vocab"]=s["@vocab"]+e["@vocab"]:(Et.Util.isCompactIri(e["@vocab"])||e["@vocab"]in p)&&(p["@vocab"]=g.expandTerm(e["@vocab"],!0))),this.expandPrefixedTerms(g,this.expandContentTypeToBase,m),!l&&s&&u>=1.1&&this.validateKeywordRedefinitions(s,p,Aa.defaultExpandOptions,y),this.validateContext&&!n.skipValidation&&this.validate(p,{processingMode:u}),g}else throw new We.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${e}`,We.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(e){const r=this.documentCache[e];if(r)return r;let n;try{n=await this.documentLoader.load(e)}catch(a){throw new We.ErrorCoded(`Failed to load remote context ${e}: ${a.message}`,We.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in n))throw new We.ErrorCoded(`Missing @context in remote context at ${e}`,We.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[e]=n["@context"]}getOverriddenLoad(e,r){if(e in(r.remoteContexts||{})){if(r.ignoreRemoteScopedContexts)return e;throw new We.ErrorCoded("Detected a cyclic context inclusion of "+e,We.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(e){let r=await this.load(e);if(typeof r!="object"||Array.isArray(r))throw new We.ErrorCoded("An imported context must be a single object: "+e,We.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in r)throw new We.ErrorCoded("An imported context can not import another context: "+e,We.ERROR_CODES.INVALID_CONTEXT_ENTRY);return r=Object.assign({},r),this.containersToHash(r),r}}ro.DEFAULT_PROCESSING_MODE=1.1;sT.ContextParser=ro;var NY={};Object.defineProperty(NY,"__esModule",{value:!0});var DY={};Object.defineProperty(DY,"__esModule",{value:!0});(function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(sT,t),r(If,t),r(T1,t),r(NY,t),r(DY,t),r(MC,t),r(Pf,t)})(pn);var p5;function CY(){if(p5)return tp;p5=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.Util=void 0;const t=Ot,e=pn,r=xt();class n{constructor(s){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=s,this.dataFactory=s.dataFactory||new t.DataFactory,this.operationFactory=new r.Factory(this.dataFactory),this.contextParser=new e.ContextParser}registerNodeHandler(s){this.nodeHandlers[s.targetKind]=s}registerNodeValueHandler(s){this.nodeValueHandlers[s.targetKind]=s}registerDirectiveNodeHandler(s){this.directiveNodeHandlers[s.targetKind]=s}handleNode(s,o){const u=this.nodeHandlers[s.kind];if(!u)throw new Error(`Unsupported GraphQL node '${s.kind}'`);return u.handle(s,o)}handleNodeValue(s,o,u){const c=this.nodeValueHandlers[s.kind];if(!c)throw new Error(`Unsupported GraphQL value node '${s.kind}'`);return c.handle(s,o,u)}handleDirectiveNode(s,o){const u=this.directiveNodeHandlers[s.directive.name.value];return u?u.handle(s,o):null}joinOperations(s){if(s.length===1)return s[0];const o=[],u=[];for(const c of s)c.type==="bgp"?o.push(c):u.push(c);if(o.length===s.length)return this.joinOperationsAsBgp(o);if(o.length===s.length-1&&u[0].type==="leftjoin"&&u[0].input[0].type==="bgp"){const c=u[0];return o.push(c.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(o),c.input[1])}else return u.length===s.length?this.joinOperationsAsNestedJoin(u):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(o),this.joinOperationsAsNestedJoin(u)])}joinOperationsAsBgp(s){return this.operationFactory.createBgp([].concat.apply([],s.map(o=>o.patterns)))}joinOperationsAsNestedJoin(s){return this.operationFactory.createJoin(s)}appendFieldToPath(s,o){return s.concat([o])}getFieldLabel(s){return(s.alias?s.alias:s.name).value}nameToVariable(s,o){return this.dataFactory.variable((o.path.length?o.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+s)}valueToNamedNode(s,o){const u=o.expandTerm(s,!0);if(this.settings.requireContext&&!u)throw new Error("No context entry was found for "+s);return this.dataFactory.namedNode(u||s)}getArgument(s,o){if(s){for(const u of s)if(u.name.value===o)return u}}newTypePattern(s,o,u){return this.operationFactory.createPattern(s,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(o.name.value,u.context),u.graph)}createQuadPattern(s,o,u,c,l){const d=this.valueToNamedNode(o.value,l);return l&&l.getContextRaw()[o.value]&&l.getContextRaw()[o.value]["@reverse"]?this.operationFactory.createPattern(u,d,s,c):this.operationFactory.createPattern(s,d,u,c)}createQuadPath(s,o,u,c,l,d){const f=this.valueToNamedNode(o.value,d);let h=this.operationFactory.createLink(f);for(const p of u.values){if(p.kind!=="EnumValue")throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+p.kind);h=this.operationFactory.createAlt([h,this.operationFactory.createLink(this.valueToNamedNode(p.value,d))])}return d&&d.getContextRaw()[o.value]&&d.getContextRaw()[o.value]["@reverse"]?this.operationFactory.createPath(c,h,s,l):this.operationFactory.createPath(s,h,c,l)}}return tp.Util=n,tp}var y5;function k3e(){if(y5)return ep;y5=1;var t=I&&I.__awaiter||function(u,c,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function m(b){try{g(d.next(b))}catch(v){p(v)}}function y(b){try{g(d.throw(b))}catch(v){p(v)}}function g(b){b.done?h(b.value):f(b.value).then(m,y)}g((d=d.apply(u,c||[])).next())})};Object.defineProperty(ep,"__esModule",{value:!0}),ep.Converter=void 0;const e=R3e,r=hY(),n=fY(),a=S1(),s=CY();class o{constructor(c){c=c||{},c.variableDelimiter=c.variableDelimiter||"_",c.expressionVariableCounter=c.expressionVariableCounter||0,this.util=new s.Util(c),this.initializeNodeHandlers(c)}static registerNodeHandlers(c,l){c.registerNodeHandler(new r.NodeHandlerDocument(c,l)),c.registerNodeHandler(new r.NodeHandlerDefinitionOperation(c,l)),c.registerNodeHandler(new r.NodeHandlerDefinitionFragment(c,l)),c.registerNodeHandler(new r.NodeHandlerSelectionFragmentSpread(c,l)),c.registerNodeHandler(new r.NodeHandlerSelectionInlineFragment(c,l)),c.registerNodeHandler(new r.NodeHandlerSelectionField(c,l))}static registerNodeValueHandlers(c,l){c.registerNodeValueHandler(new r.NodeValueHandlerVariable(c,l)),c.registerNodeValueHandler(new r.NodeValueHandlerInt(c,l)),c.registerNodeValueHandler(new r.NodeValueHandlerFloat(c,l)),c.registerNodeValueHandler(new r.NodeValueHandlerString(c,l)),c.registerNodeValueHandler(new r.NodeValueHandlerBoolean(c,l)),c.registerNodeValueHandler(new r.NodeValueHandlerNull(c,l)),c.registerNodeValueHandler(new r.NodeValueHandlerEnum(c,l)),c.registerNodeValueHandler(new r.NodeValueHandlerList(c,l)),c.registerNodeValueHandler(new r.NodeValueHandlerObject(c,l))}static registerDirectiveNodeHandlers(c,l){c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerInclude(c,l)),c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerOptional(c,l)),c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerPlural(c,l)),c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerSingle(c,l)),c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerSkip(c,l))}graphqlToSparqlAlgebra(c,l,d){return t(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(c,yield this.util.contextParser.parse(l),d)})}graphqlToSparqlAlgebraRawContext(c,l,d){d=d||{};const f=typeof c=="string"?(0,e.parse)(c):c,h=this.indexFragments(f),p={context:l,fragmentDefinitions:h,graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:a.SingularizeState.PLURAL,singularizeVariables:d.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:d.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(f,p)}indexFragments(c){const l={},d=[];for(const f of c.definitions)f.kind==="FragmentDefinition"?l[f.name.value]=f:d.push(f);return c.definitions=d,l}initializeNodeHandlers(c){o.registerNodeHandlers(this.util,c),o.registerNodeValueHandlers(this.util,c),o.registerDirectiveNodeHandlers(this.util,c)}}return ep.Converter=o,ep}var I3={},m5;function V3e(){return m5||(m5=1,Object.defineProperty(I3,"__esModule",{value:!0})),I3}var g5;function H3e(){return g5||(g5=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(hY(),t),r(k3e(),t),r(S1(),t),r(V3e(),t),r(CY(),t)}(w3)),w3}var _5;function Q3e(){if(_5)return xh;_5=1,Object.defineProperty(xh,"__esModule",{value:!0}),xh.ActorQueryParseGraphql=void 0;const t=dY(),e=qt,r=H3e();let n=class extends t.ActorQueryParse{constructor(s){super(s),this.graphqlToSparql=new r.Converter({requireContext:!0})}async test(s){var o;if(((o=s.queryFormat)==null?void 0:o.language)!=="graphql")throw new Error("This actor can only parse GraphQL queries");return!0}async run(s){const o=s.context.get(e.KeysInitQuery.jsonLdContext)||{},u={singularizeVariables:s.context.get(e.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(s.query,o,u)}}};return xh.ActorQueryParseGraphql=n,xh}var b5;function z3e(){return b5||(b5=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Q3e(),t)}(v3)),v3}var P3={},rp={},N3={},np={},D3={},ip={},v5;function LY(){if(v5)return ip;v5=1,Object.defineProperty(ip,"__esModule",{value:!0}),ip.ActorAbstractMediaTyped=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}async run(n){if("handle"in n){const a=n;return{handle:await this.runHandle(a.handle,a.handleMediaType,n.context)}}if("mediaTypes"in n)return{mediaTypes:await this.getMediaTypes(n.context)};if("mediaTypeFormats"in n)return{mediaTypeFormats:await this.getMediaTypeFormats(n.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(n){if("handle"in n){const a=n;return{handle:await this.testHandle(a.handle,a.handleMediaType,n.context)}}if("mediaTypes"in n)return{mediaTypes:await this.testMediaType(n.context)};if("mediaTypeFormats"in n)return{mediaTypeFormats:await this.testMediaTypeFormats(n.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}};return ip.ActorAbstractMediaTyped=e,ip}var ap={},w5;function G3e(){if(w5)return ap;w5=1,Object.defineProperty(ap,"__esModule",{value:!0}),ap.ActorAbstractMediaTypedFixed=void 0;const t=LY();let e=class extends t.ActorAbstractMediaTyped{constructor(n){super(n);const a=this.priorityScale||this.priorityScale===0?this.priorityScale:1;if(this.mediaTypePriorities)for(const[s,[o,u]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[o]=a*u;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(n,a,s){if(!a||!(a in this.mediaTypePriorities))throw new Error(`Unrecognized media type: ${a}`);return await this.testHandleChecked(n,s)}async testMediaType(n){return!0}async getMediaTypes(n){return this.mediaTypePriorities}async testMediaTypeFormats(n){return!0}async getMediaTypeFormats(n){return this.mediaTypeFormats}};return ap.ActorAbstractMediaTypedFixed=e,ap}var S5;function Nf(){return S5||(S5=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(LY(),t),r(G3e(),t)}(D3)),D3}var T5;function W3e(){if(T5)return np;T5=1,Object.defineProperty(np,"__esModule",{value:!0}),np.ActorQueryResultSerialize=void 0;const t=Nf();let e=class extends t.ActorAbstractMediaTyped{constructor(n){super(n)}};return np.ActorQueryResultSerialize=e,np}var sp={},E5;function K3e(){if(E5)return sp;E5=1,Object.defineProperty(sp,"__esModule",{value:!0}),sp.ActorQueryResultSerializeFixedMediaTypes=void 0;const t=Nf();let e=class extends t.ActorAbstractMediaTypedFixed{constructor(n){super(n)}async testHandleChecked(n,a){return!0}};return sp.ActorQueryResultSerializeFixedMediaTypes=e,sp}var A5;function Es(){return A5||(A5=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(W3e(),t),r(K3e(),t)}(N3)),N3}var O5;function J3e(){if(O5)return rp;O5=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.ActorQueryResultSerializeJson=void 0;const t=Es(),e=Mt,r=nr,n=Pt;let a=class extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,u){if(!["bindings","quads","boolean"].includes(o.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}async runHandle(o,u,c){const l=new n.Readable;if(l._read=()=>{},o.type==="bindings"||o.type==="quads"){let d=o.type==="bindings"?(0,e.wrap)(o.bindingsStream).map(h=>JSON.stringify(Object.fromEntries([...h].map(([p,m])=>[p.value,r.termToString(m)])))):(0,e.wrap)(o.quadStream).map(h=>JSON.stringify(r.quadToStringQuad(h))),f=!0;d=d.map(h=>{const p=`${f?"":","}
${h}`;return f=!1,p}).prepend(["["]).append([`
]
`]),l.wrap(d)}else try{l.push(`${JSON.stringify(await o.execute())}
`),l.push(null)}catch(d){setTimeout(()=>l.emit("error",d))}return{data:l}}};return rp.ActorQueryResultSerializeJson=a,rp}var R5;function X3e(){return R5||(R5=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(J3e(),t)}(P3)),P3}var C3={},op={},x5;function Y3e(){if(x5)return op;x5=1,Object.defineProperty(op,"__esModule",{value:!0}),op.ActorQueryResultSerializeSimple=void 0;const t=Es(),e=Mt,r=nr,n=Pt;let a=class Xl extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,u){if(!["bindings","quads","boolean","void"].includes(o.type))throw new Error("This actor can only handle bindings streams, quad streams, booleans, or updates.");return!0}static termToString(o){return o.termType==="Quad"?(0,r.termToString)(o):o.value}async runHandle(o,u,c){const l=new n.Readable;return o.type==="bindings"?l.wrap(o.bindingsStream.map(d=>`${[...d].map(([f,h])=>`?${f.value}: ${Xl.termToString(h)}`).join(`
`)}

`)):o.type==="quads"?l.wrap(o.quadStream.map(d=>`subject: ${Xl.termToString(d.subject)}
predicate: ${Xl.termToString(d.predicate)}
object: ${Xl.termToString(d.object)}
graph: ${Xl.termToString(d.graph)}

`)):l.wrap((0,e.wrap)(o.type==="boolean"?o.execute().then(d=>[`${d}
`]):o.execute().then(()=>[`ok
`]))),{data:l}}};return op.ActorQueryResultSerializeSimple=a,op}var I5;function Z3e(){return I5||(I5=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Y3e(),t)}(C3)),C3}var L3={},up={},P5;function eOe(){if(P5)return up;P5=1,Object.defineProperty(up,"__esModule",{value:!0}),up.ActorQueryResultSerializeSparqlCsv=void 0;const t=Es(),e=Pt;let r=class E_ extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}static bindingToCsvBindings(a){if(!a)return"";let s=a.value;if(a.termType==="Literal")s=`${s}`;else if(a.termType==="BlankNode")s=`_:${s}`;else if(a.termType==="Quad"){let o=E_.bindingToCsvBindings(a.object);a.object.termType==="Literal"&&(o=`"${o.replaceAll('"','""')}"`),s=`<< ${E_.bindingToCsvBindings(a.subject)} ${E_.bindingToCsvBindings(a.predicate)} ${o} >>`}else s=`<${s}>`;return/[",\n\r]/u.test(s)&&(s=`"${s.replaceAll('"','""')}"`),s}async testHandleChecked(a,s){if(a.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(a,s,o){const u=a,c=new e.Readable,l=await u.metadata();return c.push(`${l.variables.map(d=>d.value).join(",")}\r
`),c.wrap(u.bindingsStream.map(d=>`${l.variables.map(f=>E_.bindingToCsvBindings(d.get(f))).join(",")}\r
`)),{data:c}}};return up.ActorQueryResultSerializeSparqlCsv=r,up}var N5;function tOe(){return N5||(N5=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(eOe(),t)}(L3)),L3}var j3={},cp={},M3={},Sn={},D5;function rOe(){if(D5)return Sn;D5=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.stringQuadToQuad=Sn.quadToStringQuad=Sn.stringToTerm=Sn.getLiteralLanguage=Sn.getLiteralType=Sn.getLiteralValue=Sn.termToString=void 0;const t=Ot,e=new t.DataFactory;function r(m){if(m)switch(m.termType){case"NamedNode":return`<${l(m.value)}>`;case"BlankNode":return`_:${m.value}`;case"Literal":{const y=m;return`"${d(y.value)}"${y.datatype&&y.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&y.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?`^^<${y.datatype.value}>`:""}${y.language?`@${y.language}`:""}`}case"Quad":return`<<${r(m.subject)} ${r(m.predicate)} ${r(m.object)}${m.graph.termType==="DefaultGraph"?"":` ${r(m.graph)}`}>>`;case"Variable":return`?${m.value}`;case"DefaultGraph":return m.value}}Sn.termToString=r;function n(m){const y=/^"([^]*)"((\^\^.*)|(@.*))?$/u.exec(m);if(!y)throw new Error(`${m} is not a literal`);return y[1].replace(/\\"/ug,'"')}Sn.getLiteralValue=n;function a(m){const y=/^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/u.exec(m);if(!y)throw new Error(`${m} is not a literal`);return y[1]||(y[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Sn.getLiteralType=a;function s(m){const y=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/u.exec(m);if(!y)throw new Error(`${m} is not a literal`);return y[1]?y[1].toLowerCase():""}Sn.getLiteralLanguage=s;function o(m,y){if(y=y||e,!m||m.length===0)return y.defaultGraph();switch(m[0]){case"_":return y.blankNode(m.slice(2));case"?":if(!y.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return y.variable(m.slice(1));case'"':{const g=s(m),b=y.namedNode(a(m));return y.literal(n(m),g||b)}case"<":default:if(m.startsWith("<<")&&m.endsWith(">>")){const g=m.slice(2,-2),b=[];let v=0,_=0;for(let w=0;w<g.length;w++){const E=g[w];if(E==="<"&&v++,E===">"){if(v===0)throw new Error(`Found closing tag without opening tag in ${m}`);v--}E===" "&&v===0&&(b.push(g.slice(_,w)),_=w+1)}if(v!==0)throw new Error(`Found opening tag without closing tag in ${m}`);if(b.push(g.slice(_,g.length)),b.length!==3&&b.length!==4)throw new Error(`Nested quad syntax error ${m}`);return y.quad(o(b[0]),o(b[1]),o(b[2]),b[3]?o(b[3]):void 0)}if(!m.startsWith("<")||!m.endsWith(">"))throw new Error(`Detected invalid iri for named node (must be wrapped in <>): ${m}`);return y.namedNode(m.slice(1,-1))}}Sn.stringToTerm=o;function u(m){return{subject:r(m.subject),predicate:r(m.predicate),object:r(m.object),graph:r(m.graph)}}Sn.quadToStringQuad=u;function c(m,y){return y=y||e,y.quad(o(m.subject,y),o(m.predicate,y),o(m.object,y),o(m.graph,y))}Sn.stringQuadToQuad=c;function l(m){return m.replace(f,p)}function d(m){return f.test(m)&&(m=m.replace(f,p)),m}const f=/["\\\t\n\r\b\f\u0000-\u0019]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=new Map([["\\","\\\\"],['"','\\"'],["	","\\t"],[`
`,"\\n"],["\r","\\r"],["\b","\\b"],["\f","\\f"]]);function p(m){const y=h.get(m);if(!y){if(m.length===1){const b=m.charCodeAt(0).toString(16);return`${"\\u0000".slice(0,-b.length)}${b}`}const g=((m.charCodeAt(0)-55296)*1024+m.charCodeAt(1)+9216).toString(16);return`${"\\U00000000".slice(0,-g.length)}${g}`}return y}return Sn}var C5;function E1(){return C5||(C5=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=rOe();Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})}(M3)),M3}var L5;function nOe(){if(L5)return cp;L5=1,Object.defineProperty(cp,"__esModule",{value:!0}),cp.ActorQueryResultSerializeSparqlTsv=void 0;const t=Es(),e=E1(),r=Pt;let n=class jY extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(s){super(s)}static bindingToTsvBindings(s){return s?(0,e.termToString)(s).replaceAll("	","\\t").replaceAll(`
`,"\\n").replaceAll("\r","\\r"):""}async testHandleChecked(s,o){if(s.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(s,o,u){const c=s,l=new r.Readable,d=await c.metadata();return l.push(`${d.variables.map(f=>f.value).join("	")}
`),l.wrap(c.bindingsStream.map(f=>`${d.variables.map(h=>jY.bindingToTsvBindings(f.get(h))).join("	")}
`)),{data:l}}};return cp.ActorQueryResultSerializeSparqlTsv=n,cp}var j5;function iOe(){return j5||(j5=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(nOe(),t)}(j3)),j3}var F3={},lp={},dp={},M5;function aOe(){if(M5)return dp;M5=1,Object.defineProperty(dp,"__esModule",{value:!0}),dp.XmlSerializer=void 0;let t=class{constructor(){this.stack=[]}open(r,n){const a=`${this.identation()+this.formatTag(r,n,"open")}
`;return this.stack.push(r),a}close(){const r=this.stack.pop();if(r===void 0)throw new Error("There is no tag left to close");return`${this.identation()+this.formatTag(r,{},"close")}
`}serializeNode(r){if(r.children===void 0)return`${this.identation()+this.formatTag(r.name,r.attributes,"self-closing")}
`;if(typeof r.children=="string")return`${this.identation()+this.formatTag(r.name,r.attributes,"open")+this.escape(r.children)+this.formatTag(r.name,{},"close")}
`;const n=[];n.push(`${this.identation()+this.formatTag(r.name,r.attributes,"open")}
`),this.stack.push(r.name);for(const a of r.children)n.push(this.serializeNode(a));return this.stack.pop(),n.push(`${this.identation()+this.formatTag(r.name,{},"close")}
`),n.join("")}identation(){return this.stack.map(r=>"  ").join("")}formatTag(r,n,a){return`<${a==="close"?"/":""}${r}${Object.entries(n??{}).map(s=>` ${s[0]}="${this.escape(s[1])}"`)}${a==="self-closing"?"/":""}>`}escape(r){return r.replaceAll(/["&'<>]/gu,n=>{switch(n){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}};return dp.XmlSerializer=t,t.header=`<?xml version="1.0" encoding="UTF-8"?>
`,dp}var F5;function sOe(){if(F5)return lp;F5=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.ActorQueryResultSerializeSparqlXml=void 0;const t=Es(),e=Mt,r=Pt,n=aOe();let a=class MY extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}static bindingToXmlBindings(o,u){return{name:"binding",attributes:{name:u.value},children:[this.valueToXmlValue(o)]}}static valueToXmlValue(o){let u;switch(o.termType){case"Literal":return o.language?u={"xml:lang":o.language}:o.datatype&&o.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?u={datatype:o.datatype.value}:u={},{name:"literal",attributes:u,children:o.value};case"BlankNode":return{name:"bnode",children:o.value};case"Quad":return{name:"triple",children:[{name:"subject",children:[this.valueToXmlValue(o.subject)]},{name:"predicate",children:[this.valueToXmlValue(o.predicate)]},{name:"object",children:[this.valueToXmlValue(o.object)]}]};default:return{name:"uri",children:o.value}}}async testHandleChecked(o,u){if(!["bindings","boolean"].includes(o.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(o,u,c){const l=new r.Readable;l._read=()=>{};const d=new n.XmlSerializer,f=await o.metadata();if(l.push(n.XmlSerializer.header),l.push(d.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"})),l.push(d.serializeNode({name:"head",children:f.variables.map(h=>({name:"variable",attributes:{name:h.value}}))})),o.type==="bindings"){function*h(){yield d.close(),yield d.close()}l.push(d.open("results"));const p=(0,e.wrap)(o.bindingsStream).map(m=>d.serializeNode({name:"result",children:[...m].map(([y,g])=>MY.bindingToXmlBindings(g,y))})).append((0,e.wrap)(h()));l.wrap(p)}else try{const h=await o.execute();l.push(d.serializeNode({name:"boolean",children:h.toString()})),l.push(d.close()),setTimeout(()=>l.push(null))}catch(h){setTimeout(()=>l.emit("error",h))}return{data:l}}};return lp.ActorQueryResultSerializeSparqlXml=a,lp}var B5;function oOe(){return B5||(B5=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(sOe(),t)}(F3)),F3}var B3={},fp={},q5;function uOe(){if(q5)return fp;q5=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.ActorQueryResultSerializeTable=void 0;const t=Es(),e=Ot,r=nr,n=Pn(),a=Pt,s=new e.DataFactory,o=n.QUAD_TERM_NAMES.map(c=>s.variable(c));let u=class VP extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(l){super(l),this.padding=VP.repeat(" ",this.columnWidth)}static repeat(l,d){return l.repeat(d)}async testHandleChecked(l,d){if(!["bindings","quads"].includes(l.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}termToString(l){return l.termType==="Quad"?(0,r.termToString)(l):l.value}pad(l){return l.length<=this.columnWidth?l+this.padding.slice(l.length):`${l.slice(0,this.columnWidth-1)}…`}pushHeader(l,d){const f=d.map(h=>this.pad(h.value)).join(" ");l.push(`${f}
${VP.repeat("-",f.length)}
`)}createRow(l,d){return`${l.map(f=>d.has(f)?this.termToString(d.get(f)):"").map(f=>this.pad(f)).join(" ")}
`}async runHandle(l,d,f){const h=new a.Readable;let p;if(l.type==="bindings"){p=l.bindingsStream.map(y=>this.createRow(m,y));const m=(await l.metadata()).variables;this.pushHeader(h,m)}else p=l.quadStream.map(m=>`${(0,n.getTerms)(m).map(y=>this.pad(this.termToString(y))).join(" ")}
`),this.pushHeader(h,o);return h.wrap(p),{data:h}}};return fp.ActorQueryResultSerializeTable=u,fp}var $5;function cOe(){return $5||($5=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(uOe(),t)}(B3)),B3}var q3={},hp={},$3={},pp={},U3={},k3={},yp={},mp={},U5;function Jd(){if(U5)return mp;U5=1,Object.defineProperty(mp,"__esModule",{value:!0}),mp.Translator=void 0;let t=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(r){throw new Error(`Invalid RDF ${r.datatype.value} value: '${r.value}'`)}registerHandler(r,n,a){for(const s of n)this.supportedRdfDatatypes.push(s),this.fromRdfHandlers[s.value]=r;for(const s of a){let o=this.toRdfHandlers[s];o||(this.toRdfHandlers[s]=o=[]),o.push(r)}}fromRdf(r,n){const a=this.fromRdfHandlers[r.datatype.value];return a?a.fromRdf(r,n):r.value}toRdf(r,n){const a=this.toRdfHandlers[typeof r];if(a)for(const s of a){const o=s.toRdf(r,n);if(o)return o}throw new Error(`Invalid JavaScript value: '${r}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}};return mp.Translator=t,mp}var k5;function lOe(){if(k5)return yp;k5=1,Object.defineProperty(yp,"__esModule",{value:!0}),yp.TypeHandlerBoolean=void 0;const t=Jd();let e=class FY{fromRdf(n,a){switch(n.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return a&&t.Translator.incorrectRdfDataType(n),!1}toRdf(n,{datatype:a,dataFactory:s}){return s.literal(n?"true":"false",a||s.namedNode(FY.TYPE))}};return e.TYPE="http://www.w3.org/2001/XMLSchema#boolean",yp.TypeHandlerBoolean=e,yp}var gp={},V5;function dOe(){if(V5)return gp;V5=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.TypeHandlerDate=void 0;const t=Jd();let e=class HP{fromRdf(n,a){switch(a&&!n.value.match(HP.VALIDATORS[n.datatype.value.substr(33,n.datatype.value.length)])&&t.Translator.incorrectRdfDataType(n),n.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(n.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const s=n.value.split("-");return new Date(0,parseInt(s[0],10)-1,parseInt(s[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(n.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(n.value+"-01");default:return new Date(n.value)}}toRdf(n,{datatype:a,dataFactory:s}){if(a=a||s.namedNode(HP.TYPES[0]),!(n instanceof Date))return null;const o=n;let u;switch(a.value){case"http://www.w3.org/2001/XMLSchema#gDay":u=String(o.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":u=o.getUTCMonth()+1+"-"+o.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":u=String(o.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":u=o.getUTCFullYear()+"-"+(o.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":u=o.toISOString().replace(/T.*$/,"");break;default:u=o.toISOString()}return s.literal(u,a)}};return e.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],e.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},gp.TypeHandlerDate=e,gp}var _p={},H5;function fOe(){if(H5)return _p;H5=1,Object.defineProperty(_p,"__esModule",{value:!0}),_p.TypeHandlerNumberDouble=void 0;const t=Jd();let e=class BY{fromRdf(n,a){const s=parseFloat(n.value);return a&&isNaN(s)&&t.Translator.incorrectRdfDataType(n),s}toRdf(n,{datatype:a,dataFactory:s}){return a=a||s.namedNode(BY.TYPES[0]),isNaN(n)?s.literal("NaN",a):isFinite(n)?n%1===0?null:s.literal(n.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),a):s.literal(n>0?"INF":"-INF",a)}};return e.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],_p.TypeHandlerNumberDouble=e,_p}var bp={},Q5;function hOe(){if(Q5)return bp;Q5=1,Object.defineProperty(bp,"__esModule",{value:!0}),bp.TypeHandlerNumberInteger=void 0;const t=Jd();let e=class A_{fromRdf(n,a){const s=parseInt(n.value,10);return a&&(isNaN(s)||n.value.indexOf(".")>=0)&&t.Translator.incorrectRdfDataType(n),s}toRdf(n,{datatype:a,dataFactory:s}){return s.literal(String(n),a||(n<=A_.MAX_INT&&n>=A_.MIN_INT?s.namedNode(A_.TYPES[0]):s.namedNode(A_.TYPES[1])))}};return e.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],e.MAX_INT=2147483647,e.MIN_INT=-2147483648,bp.TypeHandlerNumberInteger=e,bp}var vp={},z5;function pOe(){if(z5)return vp;z5=1,Object.defineProperty(vp,"__esModule",{value:!0}),vp.TypeHandlerString=void 0;let t=class{fromRdf(r){return r.value}toRdf(r,{datatype:n,dataFactory:a}){return a.literal(r,n)}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],vp.TypeHandlerString=t,vp}var G5;function W5(){return G5||(G5=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(lOe(),t),r(dOe(),t),r(fOe(),t),r(hOe(),t),r(pOe(),t)}(k3)),k3}var V3={},K5;function yOe(){return K5||(K5=1,Object.defineProperty(V3,"__esModule",{value:!0})),V3}var J5;function mOe(){return J5||(J5=1,function(t){var e=I&&I.__createBinding||(Object.create?function(p,m,y,g){g===void 0&&(g=y);var b=Object.getOwnPropertyDescriptor(m,y);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(p,g,b)}:function(p,m,y,g){g===void 0&&(g=y),p[g]=m[y]}),r=I&&I.__exportStar||function(p,m){for(var y in p)y!=="default"&&!Object.prototype.hasOwnProperty.call(m,y)&&e(m,p,y)};Object.defineProperty(t,"__esModule",{value:!0}),t.getSupportedJavaScriptPrimitives=t.getSupportedRdfDatatypes=t.getTermRaw=t.toRdf=t.fromRdf=void 0;const n=Ot,a=W5(),s=Jd();r(W5(),t),r(yOe(),t),r(Jd(),t);const o=new n.DataFactory,u=new s.Translator;u.registerHandler(new a.TypeHandlerString,a.TypeHandlerString.TYPES.map(p=>o.namedNode(p)),["string"]),u.registerHandler(new a.TypeHandlerBoolean,[a.TypeHandlerBoolean.TYPE].map(p=>o.namedNode(p)),["boolean"]),u.registerHandler(new a.TypeHandlerNumberDouble,a.TypeHandlerNumberDouble.TYPES.map(p=>o.namedNode(p)),["number"]),u.registerHandler(new a.TypeHandlerNumberInteger,a.TypeHandlerNumberInteger.TYPES.map(p=>o.namedNode(p)),["number"]),u.registerHandler(new a.TypeHandlerDate,a.TypeHandlerDate.TYPES.map(p=>o.namedNode(p)),["object"]);function c(p,m){return u.fromRdf(p,m)}t.fromRdf=c;function l(p,m){return m&&"namedNode"in m&&(m={dataFactory:m}),m=m||{},m&&!m.dataFactory&&(m.dataFactory=o),u.toRdf(p,m)}t.toRdf=l;function d(p,m){return p.termType==="Literal"?c(p,m):p.value}t.getTermRaw=d;function f(){return u.getSupportedRdfDatatypes()}t.getSupportedRdfDatatypes=f;function h(){return u.getSupportedJavaScriptPrimitives()}t.getSupportedJavaScriptPrimitives=h}(U3)),U3}var H3={},wp={},{Buffer:ru}=gs,$t={},qY=$t.LEFT_BRACE=1,qw=$t.RIGHT_BRACE=2,$Y=$t.LEFT_BRACKET=3,QP=$t.RIGHT_BRACKET=4,$w=$t.COLON=5,xS=$t.COMMA=6,UY=$t.TRUE=7,kY=$t.FALSE=8,VY=$t.NULL=9,IS=$t.STRING=10,HY=$t.NUMBER=11,dc=$t.START=17,QY=$t.STOP=18,X5=$t.TRUE1=33,Y5=$t.TRUE2=34,Z5=$t.TRUE3=35,e9=$t.FALSE1=49,t9=$t.FALSE2=50,r9=$t.FALSE3=51,n9=$t.FALSE4=52,i9=$t.NULL1=65,a9=$t.NULL2=66,s9=$t.NULL3=67,o9=$t.NUMBER1=81,Q3=$t.NUMBER3=83,Oa=$t.STRING1=97,u9=$t.STRING2=98,c9=$t.STRING3=99,gOe=$t.STRING4=100,_Oe=$t.STRING5=101,l9=$t.STRING6=102,id=$t.VALUE=113,z3=$t.KEY=114,jv=$t.OBJECT=129,Mv=$t.ARRAY=130,bOe=92,vOe=47,wOe=8,SOe=12,TOe=10,EOe=13,AOe=9,FC=64*1024;function Fv(t){return ru.alloc?ru.alloc(t):new ru(t)}function _u(){this.tState=dc,this.value=void 0,this.string=void 0,this.stringBuffer=Fv(FC),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=id,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:Fv(2),3:Fv(3),4:Fv(4)},this.offset=-1}_u.toknam=function(t){for(var e=Object.keys($t),r=0,n=e.length;r<n;r++){var a=e[r];if($t[a]===t)return a}return t&&"0x"+t.toString(16)};var zi=_u.prototype;zi.onError=function(t){throw t};zi.charError=function(t,e){this.tState=QY,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(t[e]))+" at position "+e+" in state "+_u.toknam(this.tState)))};zi.appendStringChar=function(t){this.stringBufferOffset>=FC&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=t};zi.appendStringBuf=function(t,e,r){var n=t.length;typeof e=="number"&&(typeof r=="number"?r<0?n=t.length-e+r:n=r-e:n=t.length-e),n<0&&(n=0),this.stringBufferOffset+n>FC&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),t.copy(this.stringBuffer,this.stringBufferOffset,e,r),this.stringBufferOffset+=n};zi.write=function(t){typeof t=="string"&&(t=new ru(t));for(var e,r=0,n=t.length;r<n;r++)if(this.tState===dc){if(e=t[r],this.offset++,e===123)this.onToken(qY,"{");else if(e===125)this.onToken(qw,"}");else if(e===91)this.onToken($Y,"[");else if(e===93)this.onToken(QP,"]");else if(e===58)this.onToken($w,":");else if(e===44)this.onToken(xS,",");else if(e===116)this.tState=X5;else if(e===102)this.tState=e9;else if(e===110)this.tState=i9;else if(e===34)this.string="",this.stringBufferOffset=0,this.tState=Oa;else if(e===45)this.string="-",this.tState=o9;else if(e>=48&&e<64)this.string=String.fromCharCode(e),this.tState=Q3;else if(!(e===32||e===9||e===10||e===13))return this.charError(t,r)}else if(this.tState===Oa)if(e=t[r],this.bytes_remaining>0){for(var a=0;a<this.bytes_remaining;a++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+a]=t[a];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,r=r+a-1}else if(this.bytes_remaining===0&&e>=128){if(e<=193||e>244)return this.onError(new Error("Invalid UTF-8 character at position "+r+" in state "+_u.toknam(this.tState)));if(e>=194&&e<=223&&(this.bytes_in_sequence=2),e>=224&&e<=239&&(this.bytes_in_sequence=3),e>=240&&e<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>t.length){for(var s=0;s<=t.length-1-r;s++)this.temp_buffs[this.bytes_in_sequence][s]=t[r+s];this.bytes_remaining=r+this.bytes_in_sequence-t.length,r=t.length-1}else this.appendStringBuf(t,r,r+this.bytes_in_sequence),r=r+this.bytes_in_sequence-1}else if(e===34)this.tState=dc,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(IS,this.string),this.offset+=ru.byteLength(this.string,"utf8")+1,this.string=void 0;else if(e===92)this.tState=u9;else if(e>=32)this.appendStringChar(e);else return this.charError(t,r);else if(this.tState===u9)if(e=t[r],e===34)this.appendStringChar(e),this.tState=Oa;else if(e===92)this.appendStringChar(bOe),this.tState=Oa;else if(e===47)this.appendStringChar(vOe),this.tState=Oa;else if(e===98)this.appendStringChar(wOe),this.tState=Oa;else if(e===102)this.appendStringChar(SOe),this.tState=Oa;else if(e===110)this.appendStringChar(TOe),this.tState=Oa;else if(e===114)this.appendStringChar(EOe),this.tState=Oa;else if(e===116)this.appendStringChar(AOe),this.tState=Oa;else if(e===117)this.unicode="",this.tState=c9;else return this.charError(t,r);else if(this.tState===c9||this.tState===gOe||this.tState===_Oe||this.tState===l9)if(e=t[r],e>=48&&e<64||e>64&&e<=70||e>96&&e<=102){if(this.unicode+=String.fromCharCode(e),this.tState++===l9){var o=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&o>=56320&&o<57344?(this.appendStringBuf(new ru(String.fromCharCode(this.highSurrogate,o))),this.highSurrogate=void 0):this.highSurrogate===void 0&&o>=55296&&o<56320?this.highSurrogate=o:(this.highSurrogate!==void 0&&(this.appendStringBuf(new ru(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new ru(String.fromCharCode(o)))),this.tState=Oa}}else return this.charError(t,r);else if(this.tState===o9||this.tState===Q3)switch(e=t[r],e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(e),this.tState=Q3;break;default:this.tState=dc;var u=this.numberReviver(this.string);if(u)return u;this.offset+=this.string.length-1,this.string=void 0,r--;break}else if(this.tState===X5)if(t[r]===114)this.tState=Y5;else return this.charError(t,r);else if(this.tState===Y5)if(t[r]===117)this.tState=Z5;else return this.charError(t,r);else if(this.tState===Z5)if(t[r]===101)this.tState=dc,this.onToken(UY,!0),this.offset+=3;else return this.charError(t,r);else if(this.tState===e9)if(t[r]===97)this.tState=t9;else return this.charError(t,r);else if(this.tState===t9)if(t[r]===108)this.tState=r9;else return this.charError(t,r);else if(this.tState===r9)if(t[r]===115)this.tState=n9;else return this.charError(t,r);else if(this.tState===n9)if(t[r]===101)this.tState=dc,this.onToken(kY,!1),this.offset+=4;else return this.charError(t,r);else if(this.tState===i9)if(t[r]===117)this.tState=a9;else return this.charError(t,r);else if(this.tState===a9)if(t[r]===108)this.tState=s9;else return this.charError(t,r);else if(this.tState===s9)if(t[r]===108)this.tState=dc,this.onToken(VY,null),this.offset+=3;else return this.charError(t,r)};zi.onToken=function(t,e){};zi.parseError=function(t,e){this.tState=QY,this.onError(new Error("Unexpected "+_u.toknam(t)+(e?"("+JSON.stringify(e)+")":"")+" in state "+_u.toknam(this.state)))};zi.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})};zi.pop=function(){var t=this.value,e=this.stack.pop();this.value=e.value,this.key=e.key,this.mode=e.mode,this.emit(t),this.mode||(this.state=id)};zi.emit=function(t){this.mode&&(this.state=xS),this.onValue(t)};zi.onValue=function(t){};zi.onToken=function(t,e){if(this.state===id)if(t===IS||t===HY||t===UY||t===kY||t===VY)this.value&&(this.value[this.key]=e),this.emit(e);else if(t===qY)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=z3,this.mode=jv;else if(t===$Y)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=Mv,this.state=id;else if(t===qw)if(this.mode===jv)this.pop();else return this.parseError(t,e);else if(t===QP)if(this.mode===Mv)this.pop();else return this.parseError(t,e);else return this.parseError(t,e);else if(this.state===z3)if(t===IS)this.key=e,this.state=$w;else if(t===qw)this.pop();else return this.parseError(t,e);else if(this.state===$w)if(t===$w)this.state=id;else return this.parseError(t,e);else if(this.state===xS)if(t===xS)this.mode===Mv?(this.key++,this.state=id):this.mode===jv&&(this.state=z3);else if(t===QP&&this.mode===Mv||t===qw&&this.mode===jv)this.pop();else return this.parseError(t,e);else return this.parseError(t,e)};zi.numberReviver=function(t){var e=Number(t);if(isNaN(e))return this.charError(buffer,i);t.match(/[0-9]+/)==t&&e.toString()!=t?this.onToken(IS,t):this.onToken(HY,e)};_u.C=$t;var zY=_u,d9;function OOe(){if(d9)return wp;d9=1,Object.defineProperty(wp,"__esModule",{value:!0}),wp.SparqlJsonParser=void 0;const t=Ot,e=Pt,r=zY;let n=class{constructor(s){var o;s=s||{},this.dataFactory=s.dataFactory||new t.DataFactory,this.prefixVariableQuestionMark=!!s.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(o=s.suppressMissingStreamResultsError)!==null&&o!==void 0?o:!0}parseJsonResults(s){return s.results.bindings.map(o=>this.parseJsonBindings(o))}parseJsonResultsStream(s){const o=f=>d.emit("error",f);s.on("error",o);const u=new r;u.onError=o;let c=!1,l=!1;u.onValue=f=>{if(u.key==="vars"&&u.stack.length===2&&u.stack[1].key==="head")d.emit("variables",f.map(h=>this.dataFactory.variable(h))),c=!0;else if(u.key==="results"&&u.stack.length===1)l=!0;else if(typeof u.key=="number"&&u.stack.length===3&&u.stack[1].key==="results"&&u.stack[2].key==="bindings")try{d.push(this.parseJsonBindings(f))}catch(h){d.emit("error",h)}else u.key==="metadata"&&u.stack.length===1&&d.emit("metadata",f)};const d=s.on("end",f=>{!l&&!this.suppressMissingStreamResultsError?d.emit("error",new Error("No valid SPARQL query results were found.")):c||d.emit("variables",[])}).pipe(new e.Transform({objectMode:!0,transform(f,h,p){u.write(f),p()}}));return d}parseJsonBindings(s){const o={};for(const u in s){const c=s[u];o[this.prefixVariableQuestionMark?"?"+u:u]=this.parseJsonValue(c)}return o}parseJsonValue(s){let o;switch(s.type){case"bnode":o=this.dataFactory.blankNode(s.value);break;case"literal":s["xml:lang"]?o=this.dataFactory.literal(s.value,s["xml:lang"]):s.datatype?o=this.dataFactory.literal(s.value,this.dataFactory.namedNode(s.datatype)):o=this.dataFactory.literal(s.value);break;case"typed-literal":o=this.dataFactory.literal(s.value,this.dataFactory.namedNode(s.datatype));break;case"triple":const u=s.value;if(!u||!u.subject||!u.predicate||!u.object)throw new Error("Invalid quoted triple: "+JSON.stringify(s));o=this.dataFactory.quad(this.parseJsonValue(u.subject),this.parseJsonValue(u.predicate),this.parseJsonValue(u.object));break;default:o=this.dataFactory.namedNode(s.value);break}return o}parseJsonBoolean(s){if("boolean"in s)return s.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(s){return new Promise((o,u)=>{const c=new r;c.onError=u,c.onValue=l=>{c.key==="boolean"&&typeof l=="boolean"&&c.stack.length===1&&o(l)},s.on("error",u).on("data",l=>c.write(l)).on("end",()=>u(new Error("No valid ASK response was found.")))})}};return wp.SparqlJsonParser=n,wp}var f9;function GY(){return f9||(f9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(OOe(),t)}(H3)),H3}var h9;function ROe(){if(h9)return pp;h9=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.Converter=void 0;const t=mOe(),e=GY();let r=class Js{constructor(a){a=a||{delimiter:"_"},a.prefixVariableQuestionMark=!1,this.delimiter=a.delimiter||"_",this.parser=new e.SparqlJsonParser(a),this.materializeRdfJsTerms=a.materializeRdfJsTerms}static addValueToTree(a,s,o,u,c,l){const d=s[0],f=u?u+l+d:d,h=c.singularizeVariables[f];if(s.length===1)h?a[d]||(a[d]=o):(a[d]||(a[d]=[]),a[d].push(o));else{let p;h?(a[d]||(a[d]={}),p=a[d]):(a[d]||(a[d]=[{}]),p=a[d][0]),Js.addValueToTree(p,s.slice(1),o,f,c,l)}}static mergeTrees(a,s){if(typeof a!=typeof s)throw new Error(`Two incompatible tree nodes were found: ${typeof a} and ${typeof s}`);if(Array.isArray(a)!==Array.isArray(s))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(a)} and Array?${Array.isArray(s)}`);if(typeof a=="object"&&typeof s=="object"){if(a.termType&&s.termType)return a.equals(s)?{valid:!0,result:a}:{valid:!1,result:a};if(Array.isArray(a)&&Array.isArray(s)){if(a.length>0){const o=[];let u=!1;for(const c of a){const l=Js.mergeTrees(c,s[0]);l.valid?(u=!0,o.push(l.result)):o.push(c)}if(u)return{valid:!0,result:o}}return{valid:!0,result:a.concat(s)}}else{const o={};for(const u in s)o[u]=s[u];for(const u in a)if(o[u]){const c=Js.mergeTrees(a[u],o[u]);if(c.valid)o[u]=c.result;else return{valid:!1,result:a}}else o[u]=a[u];return{valid:!0,result:o}}}else throw new Error(`Unmergable tree types: ${typeof a} and ${typeof s}`)}static materializeTree(a){if(a.termType)return(0,t.getTermRaw)(a);if(Array.isArray(a))return a.map(Js.materializeTree);{const s={};for(const o in a)s[o]=Js.materializeTree(a[o]);return s}}sparqlJsonResultsToTree(a,s){return this.bindingsToTree(this.parser.parseJsonResults(a),s||{singularizeVariables:{}})}bindingsToTree(a,s){const o=s&&s.singularizeVariables[""];let u=o?{}:[];for(const c of a){const l=o?{}:[{}];for(const d in c){const f=d.split(this.delimiter),h=c[d];Js.addValueToTree(o?l:l[0],f,h,"",s,this.delimiter)}u=Js.mergeTrees(u,l).result}return this.materializeRdfJsTerms&&(u=Js.materializeTree(u)),u}};return pp.Converter=r,pp}var p9;function xOe(){return p9||(p9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ROe(),t)}($3)),$3}var y9;function m9(){if(y9)return hp;y9=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.ActorQueryResultSerializeTree=void 0;const t=Es(),e=qt,r=st,n=Pt,a=xOe();let s=class WY extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(u){super(u)}static async bindingsStreamToGraphQl(u,c,l){const d=r.ActionContext.ensureActionContext(c),f=new a.Converter(l),h={singularizeVariables:d.get(e.KeysInitQuery.graphqlSingularizeVariables)??{}};return f.bindingsToTree(await u.map(p=>Object.fromEntries([...p].map(([m,y])=>[m.value,y]))).toArray(),h)}async testHandleChecked(u){if(u.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(u,c){const l=new n.Readable;return l._read=()=>{l._read=()=>{},WY.bindingsStreamToGraphQl(u.bindingsStream,u.context,{materializeRdfJsTerms:!0}).then(d=>{l.push(JSON.stringify(d,null,"  ")),l.push(null)}).catch(d=>l.emit("error",d))},{data:l}}};return hp.ActorQueryResultSerializeTree=s,hp}var g9;function IOe(){return g9||(g9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(s,o,u,c){c===void 0&&(c=u);var l=Object.getOwnPropertyDescriptor(o,u);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,c,l)}:function(s,o,u,c){c===void 0&&(c=u),s[c]=o[u]}),r=I&&I.__exportStar||function(s,o){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,s,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.bindingsStreamToGraphQl=void 0;const n=m9(),{bindingsStreamToGraphQl:a}=n.ActorQueryResultSerializeTree;t.bindingsStreamToGraphQl=a,r(m9(),t)}(q3)),q3}var G3={},Sp={},_9;function POe(){if(_9)return Sp;_9=1,Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.MediatorCombineUnion=void 0;const t=st;let e=class extends t.Mediator{constructor(n){super(n),this.combiner=this.createCombiner()}async mediate(n){let a;try{a=this.publish(n)}catch{a=[]}if(this.filterErrors){const o=[];for(const u of a)try{await u.reply,o.push(u)}catch{}a=o}await Promise.all(a.map(({reply:o})=>o));const s=await Promise.all(a.map(o=>o.actor.runObservable(n)));return this.combiner(s)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return n=>{const a={};return a[this.field]={},[{}].concat(n.map(s=>s[this.field])).forEach(s=>{a[this.field]={...s,...a[this.field]}}),a}}};return Sp.MediatorCombineUnion=e,Sp}var b9;function qo(){return b9||(b9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(POe(),t)}(G3)),G3}var W3={},Tp={},v9;function NOe(){if(v9)return Tp;v9=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.MediatorNumber=void 0;const t=st;let e=class extends t.Mediator{constructor(n){super(n),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return n=>n.reduce((a,s,o)=>{const u=this.getOrDefault(s[this.field],Number.POSITIVE_INFINITY);return u!==null&&(Number.isNaN(a[0])||a[0]>u)?[u,o]:a},[Number.NaN,-1])[1];case"max":return n=>n.reduce((a,s,o)=>{const u=this.getOrDefault(s[this.field],Number.NEGATIVE_INFINITY);return u!==null&&(Number.isNaN(a[0])||a[0]<u)?[u,o]:a},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(n,a){return n===void 0?a:n}async mediateWith(n,a){let s=a.map(({reply:l})=>l);const o=[];if(this.ignoreErrors){const l={};l[this.field]=null,s=s.map(d=>d.catch(f=>(o.push(f),l)))}const u=await Promise.all(s),c=this.indexPicker(u);if(c<0)throw new Error(`All actors rejected their test in ${this.name}
${o.map(l=>l.message).join(`
`)}`);return a[c].actor}};return Tp.MediatorNumber=e,Tp}var w9;function Ep(){return w9||(w9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(NOe(),t)}(W3)),W3}var K3={},Ap={},J3={},Op={},Us={},S9;function BC(){if(S9)return Us;S9=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.ActorDereferenceBase=Us.isHardError=Us.emptyReadable=void 0;const t=qt,e=st,r=Pt;function n(){const o=new r.Readable;return o.push(null),o}Us.emptyReadable=n;function a(o){return!o.get(t.KeysInitQuery.lenient)}Us.isHardError=a;let s=class extends e.Actor{constructor(u){super(u)}async dereferenceErrorHandler(u,c,l){if(a(u.context))throw c;return this.logWarn(u.context,c.message),{...l,data:n()}}};return Us.ActorDereferenceBase=s,Us}var T9;function DOe(){if(T9)return Op;T9=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.ActorDereference=void 0;const t=BC();let e=class extends t.ActorDereferenceBase{constructor(n){super(n)}async handleDereferenceErrors(n,a,s,o=0){return this.dereferenceErrorHandler(n,a,{url:n.url,exists:!1,headers:s,requestTime:o})}};return Op.ActorDereference=e,Op}var Yu={},E9;function COe(){if(E9)return Yu;E9=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.ActorDereferenceParse=Yu.getMediaTypeFromExtension=void 0;const t=Pt,e=BC();function r(a,s){const o=a.lastIndexOf(".");return o>=0&&(s==null?void 0:s[a.slice(o+1)])||""}Yu.getMediaTypeFromExtension=r;let n=class extends e.ActorDereferenceBase{constructor(s){super(s)}async test(s){return!0}handleDereferenceStreamErrors(s,o){return(0,e.isHardError)(s.context)||(o.on("error",u=>{this.logWarn(s.context,u.message,()=>({url:s.url})),o.push(null)}),o=o.pipe(new t.PassThrough({objectMode:!0}))),o}async run(s){var l,d;const{context:o}=s,u=await this.mediatorDereference.mediate({...s,mediaTypes:async()=>{var f,h;return(h=await((f=this.mediatorParseMediatypes)==null?void 0:f.mediate({context:o,mediaTypes:!0})))==null?void 0:h.mediaTypes}});let c;try{c=(await this.mediatorParse.mediate({context:o,handle:{context:o,...u,metadata:await this.getMetadata(u)},handleMediaType:u.mediaType||r(u.url,this.mediaMappings)||s.mediaType})).handle,c.data=this.handleDereferenceStreamErrors(s,c.data)}catch(f){await((d=(l=u.data).close)==null?void 0:d.call(l)),c=await this.dereferenceErrorHandler(s,f,{})}return{...u,...c}}};return Yu.ActorDereferenceParse=n,Yu}var A9;function qC(){return A9||(A9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(DOe(),t),r(COe(),t),r(BC(),t)}(J3)),J3}var O9;function LOe(){if(O9)return Ap;O9=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.ActorDereferenceFallback=void 0;const t=qC();let e=class extends t.ActorDereference{constructor(n){super(n)}async test(n){return!0}async run(n){return this.handleDereferenceErrors(n,new Error(`Could not dereference '${n.url}'`))}};return Ap.ActorDereferenceFallback=e,Ap}var R9;function jOe(){return R9||(R9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(LOe(),t)}(K3)),K3}var X3={},Rp={},Y3={},xp={},x9;function MOe(){if(x9)return xp;x9=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.ActorRdfJoinEntriesSort=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return xp.ActorRdfJoinEntriesSort=e,xp}var I9;function FOe(){return I9||(I9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(MOe(),t)}(Y3)),Y3}var P9;function BOe(){if(P9)return Rp;P9=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.ActorRdfJoinEntriesSortCardinality=void 0;const t=FOe();let e=class extends t.ActorRdfJoinEntriesSort{constructor(n){super(n)}async test(n){return!0}async run(n){return{entries:[...n.entries].sort((s,o)=>s.metadata.cardinality.value-o.metadata.cardinality.value)}}};return Rp.ActorRdfJoinEntriesSortCardinality=e,Rp}var N9;function qOe(){return N9||(N9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(BOe(),t)}(X3)),X3}var Z3={},Zu={},eO={},Ip={},D9;function $Oe(){if(D9)return Ip;D9=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.ActorRdfJoinSelectivity=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return Ip.ActorRdfJoinSelectivity=e,Ip}var C9;function UOe(){return C9||(C9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r($Oe(),t)}(eO)),eO}var L9;function kOe(){if(L9)return Zu;L9=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.JoinTypes=Zu.ActorRdfJoinSelectivityVariableCounting=void 0;const t=UOe(),e=xt();let r=class fc extends t.ActorRdfJoinSelectivity{constructor(s){super(s)}async test(s){return{accuracy:.5}}static getPatternCost(s){let o=1;return s.subject.termType==="Variable"&&(o+=4),(s.predicate.termType==="Variable"||s.type===e.Algebra.types.PATH)&&(o+=1),s.object.termType==="Variable"&&(o+=2),s.graph.termType==="Variable"&&(o+=1),o/9}static getJoinTypes(s,o){const u=[];return s.subject.termType==="Variable"?(s.subject.equals(o.subject)&&u.push(n.unboundSS),o.type==="pattern"&&s.subject.equals(o.predicate)&&u.push(n.unboundSP),s.subject.equals(o.object)&&u.push(n.unboundSO),s.subject.equals(o.graph)&&u.push(n.unboundSG)):(s.subject.equals(o.subject)&&u.push(n.boundSS),o.type==="pattern"&&s.subject.equals(o.predicate)&&u.push(n.boundSP),s.subject.equals(o.object)&&u.push(n.boundSO),s.subject.equals(o.graph)&&u.push(n.boundSG)),s.type==="pattern"&&(s.predicate.termType==="Variable"?(s.predicate.equals(o.subject)&&u.push(n.unboundPS),o.type==="pattern"&&s.predicate.equals(o.predicate)&&u.push(n.unboundPP),s.predicate.equals(o.object)&&u.push(n.unboundPO),s.predicate.equals(o.graph)&&u.push(n.unboundPG)):(s.predicate.equals(o.subject)&&u.push(n.boundPS),o.type==="pattern"&&s.predicate.equals(o.predicate)&&u.push(n.boundPP),s.predicate.equals(o.object)&&u.push(n.boundPO),s.predicate.equals(o.graph)&&u.push(n.boundPG))),s.object.termType==="Variable"?(s.object.equals(o.subject)&&u.push(n.unboundOS),o.type==="pattern"&&s.object.equals(o.predicate)&&u.push(n.unboundOP),s.object.equals(o.object)&&u.push(n.unboundOO),s.object.equals(o.graph)&&u.push(n.unboundOG)):(s.object.equals(o.subject)&&u.push(n.boundOS),o.type==="pattern"&&s.object.equals(o.predicate)&&u.push(n.boundOP),s.object.equals(o.object)&&u.push(n.boundOO),s.object.equals(o.graph)&&u.push(n.boundOG)),s.graph.termType==="Variable"?(s.graph.equals(o.subject)&&u.push(n.unboundGS),o.type==="pattern"&&s.graph.equals(o.predicate)&&u.push(n.unboundGP),s.graph.equals(o.object)&&u.push(n.unboundGO),s.graph.equals(o.graph)&&u.push(n.unboundGG)):(s.graph.equals(o.subject)&&u.push(n.boundGS),o.type==="pattern"&&s.graph.equals(o.predicate)&&u.push(n.boundGP),s.graph.equals(o.object)&&u.push(n.boundGO),s.graph.equals(o.graph)&&u.push(n.boundGG)),u}static getOperationsPairwiseJoinCost(s,o){let u=fc.MAX_PAIRWISE_COST;for(const c of fc.getJoinTypes(s,o))switch(c){case n.boundSS:u-=2*2;break;case n.boundSP:u-=3*2;break;case n.boundSO:u-=1*2;break;case n.boundSG:u-=3*2;break;case n.boundPS:u-=3*2;break;case n.boundPP:return 1;case n.boundPO:u-=3*2;break;case n.boundPG:u-=3*2;break;case n.boundOS:u-=1*2;break;case n.boundOP:u-=3*2;break;case n.boundOO:u-=1*2;break;case n.boundOG:u-=3*2;break;case n.boundGS:u-=3*2;break;case n.boundGP:u-=3*2;break;case n.boundGO:u-=3*2;break;case n.boundGG:u-=3*2;break;case n.unboundSS:u-=2;break;case n.unboundSP:u-=3;break;case n.unboundSO:u-=1;break;case n.unboundSG:u-=3;break;case n.unboundPS:u-=3;break;case n.unboundPP:u-=3;break;case n.unboundPO:u-=3;break;case n.unboundPG:u-=3;break;case n.unboundOS:u-=1;break;case n.unboundOP:u-=3;break;case n.unboundOO:u-=1;break;case n.unboundOG:u-=3;break;case n.unboundGS:u-=3;break;case n.unboundGP:u-=3;break;case n.unboundGO:u-=3;break;case n.unboundGG:u-=3;break}return u/fc.MAX_PAIRWISE_COST}static getOperationsJoinCost(s){const o=[];for(const l of s)e.Util.recurseOperation(l,{[e.Algebra.types.PATTERN](d){return o.push(d),!1},[e.Algebra.types.PATH](d){return o.push(d),!1}});let u=0,c=0;for(const l of o)for(const d of o)l!==d&&(u+=fc.getOperationsPairwiseJoinCost(l,d),c++);return c===0?1:u/c*o.reduce((l,d)=>l*fc.getPatternCost(d),1)}async run(s){return s.entries.length<=1?{selectivity:1}:{selectivity:fc.getOperationsJoinCost(s.entries.map(o=>o.operation))}}};Zu.ActorRdfJoinSelectivityVariableCounting=r,r.MAX_PAIRWISE_COST=41*2;var n;return function(a){a[a.boundSS=0]="boundSS",a[a.boundSP=1]="boundSP",a[a.boundSO=2]="boundSO",a[a.boundSG=3]="boundSG",a[a.boundPS=4]="boundPS",a[a.boundPP=5]="boundPP",a[a.boundPO=6]="boundPO",a[a.boundPG=7]="boundPG",a[a.boundOS=8]="boundOS",a[a.boundOP=9]="boundOP",a[a.boundOO=10]="boundOO",a[a.boundOG=11]="boundOG",a[a.boundGS=12]="boundGS",a[a.boundGP=13]="boundGP",a[a.boundGO=14]="boundGO",a[a.boundGG=15]="boundGG",a[a.unboundSS=16]="unboundSS",a[a.unboundSP=17]="unboundSP",a[a.unboundSO=18]="unboundSO",a[a.unboundSG=19]="unboundSG",a[a.unboundPS=20]="unboundPS",a[a.unboundPP=21]="unboundPP",a[a.unboundPO=22]="unboundPO",a[a.unboundPG=23]="unboundPG",a[a.unboundOS=24]="unboundOS",a[a.unboundOP=25]="unboundOP",a[a.unboundOO=26]="unboundOO",a[a.unboundOG=27]="unboundOG",a[a.unboundGS=28]="unboundGS",a[a.unboundGP=29]="unboundGP",a[a.unboundGO=30]="unboundGO",a[a.unboundGG=31]="unboundGG"}(n||(Zu.JoinTypes=n={})),Zu}var j9;function VOe(){return j9||(j9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kOe(),t)}(Z3)),Z3}var tO={},Pp={},rO={},Np={},M9;function HOe(){if(M9)return Np;M9=1,Object.defineProperty(Np,"__esModule",{value:!0}),Np.ActorRdfMetadata=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return Np.ActorRdfMetadata=e,Np}var F9;function KY(){return F9||(F9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(HOe(),t)}(rO)),rO}var B9;function QOe(){if(B9)return Pp;B9=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.ActorRdfMetadataPrimaryTopic=void 0;const t=KY(),e=Pt;let r=class extends t.ActorRdfMetadata{constructor(a){super(a)}async test(a){if(a.triples)throw new Error("This actor only supports non-triple quad streams.");return!0}async run(a){const s=new e.Readable({objectMode:!0}),o=new e.Readable({objectMode:!0}),u=()=>{s._read=o._read=()=>{},a.quads.on("error",f=>{s.emit("error",f),o.emit("error",f)});const c={};let l;const d={};a.quads.on("data",f=>{f.predicate.value==="http://rdfs.org/ns/void#subset"&&f.object.value===a.url?l=f.subject.value:f.predicate.value==="http://xmlns.com/foaf/0.1/primaryTopic"&&(d[f.object.value]=f.subject.value);let h=c[f.graph.value];h||(h=c[f.graph.value]=[]),h.push(f)}),a.quads.on("end",()=>{const f=l?d[l]:void 0;for(const h in c)if(h===f){for(const p of c[h])o.push(p);if(this.metadataToData)for(const p of c[h])s.push(p)}else{for(const p of c[h])s.push(p);if(!f&&this.dataToMetadataOnInvalidMetadataGraph)for(const p of c[h])o.push(p)}s.push(null),o.push(null)})};return s._read=o._read=()=>{u()},{data:s,metadata:o}}};return Pp.ActorRdfMetadataPrimaryTopic=r,Pp}var q9;function zOe(){return q9||(q9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(QOe(),t)}(tO)),tO}var nO={},Dp={},$9;function GOe(){if($9)return Dp;$9=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.ActorRdfMetadataAll=void 0;const t=KY(),e=Pt;let r=class extends t.ActorRdfMetadata{constructor(a){super(a)}async test(a){return!0}async run(a){const s=new e.Readable({objectMode:!0}),o=new e.Readable({objectMode:!0});a.quads.on("error",c=>{s.emit("error",c),o.emit("error",c)}),a.quads.on("end",()=>{s.push(null),o.push(null)});const u=s._read=o._read=c=>{for(;c>0;){const l=a.quads.read();if(l===null)return a.quads.once("readable",()=>u(c));c--,s.push(l),o.push(l)}};return{data:s,metadata:o}}};return Dp.ActorRdfMetadataAll=r,Dp}var U9;function WOe(){return U9||(U9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(GOe(),t)}(nO)),nO}var iO={},Cp={},aO={},Lp={},k9;function KOe(){if(k9)return Lp;k9=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.ActorRdfMetadataAccumulate=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return Lp.ActorRdfMetadataAccumulate=e,Lp}var V9;function oT(){return V9||(V9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(KOe(),t)}(aO)),aO}var H9;function JOe(){if(H9)return Cp;H9=1,Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.ActorRdfMetadataAccumulateCanContainUndefs=void 0;const t=oT();let e=class extends t.ActorRdfMetadataAccumulate{constructor(n){super(n)}async test(n){return!0}async run(n){if(n.mode==="initialize")return{metadata:{canContainUndefs:!1}};let a=n.accumulatedMetadata.canContainUndefs;return n.appendingMetadata.canContainUndefs&&(a=!0),{metadata:{canContainUndefs:a}}}};return Cp.ActorRdfMetadataAccumulateCanContainUndefs=e,Cp}var Q9;function XOe(){return Q9||(Q9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(JOe(),t)}(iO)),iO}var sO={},jp={},z9;function YOe(){if(z9)return jp;z9=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.ActorRdfMetadataAccumulateCardinality=void 0;const t=oT();let e=class extends t.ActorRdfMetadataAccumulate{constructor(n){super(n)}async test(n){return!0}async run(n){if(n.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0}}};const a={...n.accumulatedMetadata.cardinality};if(a.dataset)if(n.appendingMetadata.cardinality.dataset){if(a.dataset!==n.appendingMetadata.cardinality.dataset&&n.appendingMetadata.subsetOf===a.dataset)return{metadata:{cardinality:n.appendingMetadata.cardinality}};if(a.dataset===n.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:a}};delete a.dataset}else return{metadata:{cardinality:a}};return!n.appendingMetadata.cardinality||!Number.isFinite(n.appendingMetadata.cardinality.value)?(a.type="estimate",a.value=Number.POSITIVE_INFINITY):(n.appendingMetadata.cardinality.type==="estimate"&&(a.type="estimate"),a.value+=n.appendingMetadata.cardinality.value),{metadata:{cardinality:a}}}};return jp.ActorRdfMetadataAccumulateCardinality=e,jp}var G9;function ZOe(){return G9||(G9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(YOe(),t)}(sO)),sO}var oO={},Mp={},W9;function eRe(){if(W9)return Mp;W9=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.ActorRdfMetadataAccumulatePageSize=void 0;const t=oT();let e=class extends t.ActorRdfMetadataAccumulate{constructor(n){super(n)}async test(n){return!0}async run(n){return n.mode==="initialize"?{metadata:{}}:{metadata:{..."pageSize"in n.accumulatedMetadata||"pageSize"in n.appendingMetadata?{pageSize:(n.accumulatedMetadata.pageSize??0)+(n.appendingMetadata.pageSize??0)}:{}}}}};return Mp.ActorRdfMetadataAccumulatePageSize=e,Mp}var K9;function tRe(){return K9||(K9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(eRe(),t)}(oO)),oO}var uO={},Fp={},J9;function rRe(){if(J9)return Fp;J9=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.ActorRdfMetadataAccumulateRequestTime=void 0;const t=oT();let e=class extends t.ActorRdfMetadataAccumulate{constructor(n){super(n)}async test(n){return!0}async run(n){return n.mode==="initialize"?{metadata:{}}:{metadata:{..."requestTime"in n.accumulatedMetadata||"requestTime"in n.appendingMetadata?{requestTime:(n.accumulatedMetadata.requestTime??0)+(n.appendingMetadata.requestTime??0)}:{}}}}};return Fp.ActorRdfMetadataAccumulateRequestTime=e,Fp}var X9;function nRe(){return X9||(X9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(rRe(),t)}(uO)),uO}var cO={},Bp={},lO={},qp={},Y9;function iRe(){if(Y9)return qp;Y9=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.ActorRdfMetadataExtract=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return qp.ActorRdfMetadataExtract=e,qp}var Z9;function Du(){return Z9||(Z9=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(iRe(),t)}(lO)),lO}var dO={exports:{}},e7;function aRe(){return e7||(e7=1,function(t){(function(e){var r=function(){function m(y){this.options=y}return m.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},m}(),n=function(){function m(L){return Object.prototype.toString.apply(L)==="[object Array]"}function y(L){return Object.prototype.toString.apply(L)==="[object String]"}function g(L){return Object.prototype.toString.apply(L)==="[object Number]"}function b(L){return Object.prototype.toString.apply(L)==="[object Boolean]"}function v(L,F){var x="",P=!0,j;for(j=0;j<L.length;j+=1)P?P=!1:x+=F,x+=L[j];return x}function _(L,F){for(var x=[],P=0;P<L.length;P+=1)x.push(F(L[P]));return x}function w(L,F){for(var x=[],P=0;P<L.length;P+=1)F(L[P])&&x.push(L[P]);return x}function E(L){if(typeof L!="object"||L===null)return L;Object.freeze(L);var F,x;for(x in L)L.hasOwnProperty(x)&&(F=L[x],typeof F=="object"&&O(F));return L}function O(L){return typeof Object.freeze=="function"?E(L):L}return{isArray:m,isString:y,isNumber:g,isBoolean:b,join:v,map:_,filter:w,deepFreeze:O}}(),a=function(){function m(b){return b>="a"&&b<="z"||b>="A"&&b<="Z"}function y(b){return b>="0"&&b<="9"}function g(b){return y(b)||b>="a"&&b<="f"||b>="A"&&b<="F"}return{isAlpha:m,isDigit:y,isHexDigit:g}}(),s=function(){var m={encode:function(w){return unescape(encodeURIComponent(w))},numBytes:function(w){return w<=127?1:194<=w&&w<=223?2:224<=w&&w<=239?3:240<=w&&w<=244?4:0},isValidFollowingCharCode:function(w){return 128<=w&&w<=191}};function y(w){var E="",O=m.encode(w),L,F;for(F=0;F<O.length;F+=1)L=O.charCodeAt(F),E+="%"+(L<16?"0":"")+L.toString(16).toUpperCase();return E}function g(w,E){return w.charAt(E)==="%"&&a.isHexDigit(w.charAt(E+1))&&a.isHexDigit(w.charAt(E+2))}function b(w,E){return parseInt(w.substr(E,2),16)}function v(w){if(!g(w,0))return!1;var E=b(w,1),O=m.numBytes(E);if(O===0)return!1;for(var L=1;L<O;L+=1)if(!g(w,3*L)||!m.isValidFollowingCharCode(b(w,3*L+1)))return!1;return!0}function _(w,E){var O=w.charAt(E);if(!g(w,E))return O;var L=b(w,E+1),F=m.numBytes(L);if(F===0)return O;for(var x=1;x<F;x+=1)if(!g(w,E+3*x)||!m.isValidFollowingCharCode(b(w,E+3*x+1)))return O;return w.substr(E,3*F)}return{encodeCharacter:y,isPctEncoded:v,pctCharAt:_}}(),o=function(){function m(b){return a.isAlpha(b)||a.isDigit(b)||b==="_"||s.isPctEncoded(b)}function y(b){return a.isAlpha(b)||a.isDigit(b)||b==="-"||b==="."||b==="_"||b==="~"}function g(b){return b===":"||b==="/"||b==="?"||b==="#"||b==="["||b==="]"||b==="@"||b==="!"||b==="$"||b==="&"||b==="("||b===")"||b==="*"||b==="+"||b===","||b===";"||b==="="||b==="'"}return{isVarchar:m,isUnreserved:y,isReserved:g}}(),u=function(){function m(v,_){var w="",E,O="";for((typeof v=="number"||typeof v=="boolean")&&(v=v.toString()),E=0;E<v.length;E+=O.length)O=v.charAt(E),w+=o.isUnreserved(O)||_&&o.isReserved(O)?O:s.encodeCharacter(O);return w}function y(v){return m(v,!0)}function g(v,_){var w=s.pctCharAt(v,_);return w.length>1||o.isReserved(w)||o.isUnreserved(w)?w:s.encodeCharacter(w)}function b(v){var _="",w,E="";for(w=0;w<v.length;w+=E.length)E=s.pctCharAt(v,w),E.length>1?_+=E:_+=o.isReserved(E)||o.isUnreserved(E)?E:s.encodeCharacter(E);return _}return{encode:m,encodePassReserved:y,encodeLiteral:b,encodeLiteralCharacter:g}}(),c=function(){var m={};function y(g){m[g]={symbol:g,separator:g==="?"?"&":g===""||g==="+"||g==="#"?",":g,named:g===";"||g==="&"||g==="?",ifEmpty:g==="&"||g==="?"?"=":"",first:g==="+"?"":g,encode:g==="+"||g==="#"?u.encodePassReserved:u.encode,toString:function(){return this.symbol}}}return y(""),y("+"),y("#"),y("."),y("/"),y(";"),y("?"),y("&"),{valueOf:function(g){return m[g]?m[g]:"=,!@|".indexOf(g)>=0?null:m[""]}}}();function l(m){var y;if(m==null)return!1;if(n.isArray(m))return m.length>0;if(typeof m=="string"||typeof m=="number"||typeof m=="boolean")return!0;for(y in m)if(m.hasOwnProperty(y)&&l(m[y]))return!0;return!1}var d=function(){function m(y){this.literal=u.encodeLiteral(y)}return m.prototype.expand=function(){return this.literal},m.prototype.toString=m.prototype.expand,m}(),f=function(){function m(g){var b,v=[],_=null,w=null,E=null,O,L="";function F(){var P=g.substring(w,O);if(P.length===0)throw new r({expressionText:g,message:"a varname must be specified",position:O});_={varname:P,exploded:!1,maxLength:null},w=null}function x(){if(E===O)throw new r({expressionText:g,message:"after a ':' you have to specify the length",position:O});_.maxLength=parseInt(g.substring(E,O),10),E=null}for(b=function(P){var j=c.valueOf(P);if(j===null)throw new r({expressionText:g,message:"illegal use of reserved operator",position:O,operator:P});return j}(g.charAt(0)),O=b.symbol.length,w=O;O<g.length;O+=L.length){if(L=s.pctCharAt(g,O),w!==null){if(L==="."){if(w===O)throw new r({expressionText:g,message:"a varname MUST NOT start with a dot",position:O});continue}if(o.isVarchar(L))continue;F()}if(E!==null){if(O===E&&L==="0")throw new r({expressionText:g,message:"A :prefix must not start with digit 0",position:O});if(a.isDigit(L)){if(O-E>=4)throw new r({expressionText:g,message:"A :prefix must have max 4 digits",position:O});continue}x()}if(L===":"){if(_.maxLength!==null)throw new r({expressionText:g,message:"only one :maxLength is allowed per varspec",position:O});if(_.exploded)throw new r({expressionText:g,message:"an exploeded varspec MUST NOT be varspeced",position:O});E=O+1;continue}if(L==="*"){if(_===null)throw new r({expressionText:g,message:"exploded without varspec",position:O});if(_.exploded)throw new r({expressionText:g,message:"exploded twice",position:O});if(_.maxLength)throw new r({expressionText:g,message:"an explode (*) MUST NOT follow to a prefix",position:O});_.exploded=!0;continue}if(L===","){v.push(_),_=null,w=O+1;continue}throw new r({expressionText:g,message:"illegal character",character:L,position:O})}return w!==null&&F(),E!==null&&x(),v.push(_),new h(g,b,v)}function y(g){var b,v,_=[],w=null,E=0;for(b=0;b<g.length;b+=1){if(v=g.charAt(b),E!==null){if(v==="}")throw new r({templateText:g,message:"unopened brace closed",position:b});v==="{"&&(E<b&&_.push(new d(g.substring(E,b))),E=null,w=b);continue}if(w!==null){if(v==="{")throw new r({templateText:g,message:"brace already opened",position:b});if(v==="}"){if(w+1===b)throw new r({templateText:g,message:"empty braces",position:w});try{_.push(m(g.substring(w+1,b)))}catch(O){throw O.prototype===r.prototype?new r({templateText:g,message:O.options.message,position:w+O.options.position,details:O.options}):O}w=null,E=b+1}continue}throw new Error("reached unreachable code")}if(w!==null)throw new r({templateText:g,message:"unclosed brace",position:w});return E<g.length&&_.push(new d(g.substr(E))),new p(g,_)}return y}(),h=function(){function m(L){return JSON&&JSON.stringify?JSON.stringify(L):L}function y(L){if(!l(L))return!0;if(n.isString(L))return L==="";if(n.isNumber(L)||n.isBoolean(L))return!1;if(n.isArray(L))return L.length===0;for(var F in L)if(L.hasOwnProperty(F))return!1;return!0}function g(L){var F=[],x;for(x in L)L.hasOwnProperty(x)&&F.push({name:x,value:L[x]});return F}function b(L,F,x){this.templateText=L,this.operator=F,this.varspecs=x}b.prototype.toString=function(){return this.templateText};function v(L,F,x){var P="";if(x=x.toString(),F.named){if(P+=u.encodeLiteral(L.varname),x==="")return P+=F.ifEmpty,P;P+="="}return L.maxLength!==null&&(x=x.substr(0,L.maxLength)),P+=F.encode(x),P}function _(L){return l(L.value)}function w(L,F,x){var P=[],j="";if(F.named){if(j+=u.encodeLiteral(L.varname),y(x))return j+=F.ifEmpty,j;j+="="}return n.isArray(x)?(P=x,P=n.filter(P,l),P=n.map(P,F.encode),j+=n.join(P,",")):(P=g(x),P=n.filter(P,_),P=n.map(P,function(N){return F.encode(N.name)+","+F.encode(N.value)}),j+=n.join(P,",")),j}function E(L,F,x){var P=n.isArray(x),j=[];return P?(j=x,j=n.filter(j,l),j=n.map(j,function(N){var V=u.encodeLiteral(L.varname);return y(N)?V+=F.ifEmpty:V+="="+F.encode(N),V})):(j=g(x),j=n.filter(j,_),j=n.map(j,function(N){var V=u.encodeLiteral(N.name);return y(N.value)?V+=F.ifEmpty:V+="="+F.encode(N.value),V})),n.join(j,F.separator)}function O(L,F){var x=[],P="";return n.isArray(F)?(x=F,x=n.filter(x,l),x=n.map(x,L.encode),P+=n.join(x,L.separator)):(x=g(F),x=n.filter(x,function(j){return l(j.value)}),x=n.map(x,function(j){return L.encode(j.name)+"="+L.encode(j.value)}),P+=n.join(x,L.separator)),P}return b.prototype.expand=function(L){var F=[],x,P,j,N=this.operator;for(x=0;x<this.varspecs.length;x+=1)if(P=this.varspecs[x],j=L[P.varname],j!=null)if(P.exploded,n.isArray(j),typeof j=="string"||typeof j=="number"||typeof j=="boolean")F.push(v(P,N,j));else{if(P.maxLength&&l(j))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+m(j));P.exploded?l(j)&&(N.named?F.push(E(P,N,j)):F.push(O(N,j))):(N.named||!y(j))&&F.push(w(P,N,j))}return F.length===0?"":N.first+n.join(F,N.separator)},b}(),p=function(){function m(y,g){this.templateText=y,this.expressions=g,n.deepFreeze(this)}return m.prototype.toString=function(){return this.templateText},m.prototype.expand=function(y){var g,b="";for(g=0;g<this.expressions.length;g+=1)b+=this.expressions[g].expand(y);return b},m.parse=f,m.UriTemplateError=r,m}();e(p)})(function(e){t.exports=e})}(dO)),dO.exports}var t7;function sRe(){if(t7)return Bp;t7=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.ActorRdfMetadataExtractHydraControls=void 0;const t=Du(),e=aRe();let r=class Uw extends t.ActorRdfMetadataExtract{constructor(a){super(a),this.parsedUriTemplateCache={}}async test(a){return!0}getLinks(a,s){return Object.fromEntries(Uw.LINK_TYPES.map(o=>{const u=s[o]||s[`${o}Page`],c=u&&u[a];return[o,c&&c.length>0?[c[0]]:[]]}))}parseUriTemplateCached(a){const s=this.parsedUriTemplateCache[a];return s||(this.parsedUriTemplateCache[a]=(0,e.parse)(a))}getSearchForms(a){const s=a.search,o=[];if(s)for(const u in s)for(const c of s[u]){const l=(a.template||{})[c]||[];if(l.length!==1)throw new Error(`Expected 1 hydra:template for ${c}`);const d=l[0],f=this.parseUriTemplateCached(d),h=Object.fromEntries(((a.mapping||{})[c]||[]).map(m=>{const y=((a.variable||{})[m]||[])[0],g=((a.property||{})[m]||[])[0];if(!y)throw new Error(`Expected a hydra:variable for ${m}`);if(!g)throw new Error(`Expected a hydra:property for ${m}`);return[g,y]})),p=m=>f.expand(Object.fromEntries(Object.keys(m).map(y=>[h[y],m[y]])));o.push({dataset:u,template:d,mappings:h,getUri:p})}return{values:o}}getHydraProperties(a){return new Promise((s,o)=>{a.on("error",o);const u={};a.on("data",c=>{if(c.predicate.value.startsWith(Uw.HYDRA)){const l=c.predicate.value.slice(Uw.HYDRA.length),d=u[l]||(u[l]={});(d[c.subject.value]||(d[c.subject.value]=[])).push(c.object.value)}}),a.on("end",()=>s(u))})}async run(a){const s={},o=await this.getHydraProperties(a.metadata);return Object.assign(s,this.getLinks(a.url,o)),s.searchForms=this.getSearchForms(o),{metadata:s}}};return Bp.ActorRdfMetadataExtractHydraControls=r,r.HYDRA="http://www.w3.org/ns/hydra/core#",r.LINK_TYPES=["first","next","previous","last"],Bp}var r7;function oRe(){return r7||(r7=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(sRe(),t)}(cO)),cO}var fO={},$p={},n7;function uRe(){if(n7)return $p;n7=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.ActorRdfMetadataExtractHydraCount=void 0;const t=Du();let e=class extends t.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return!0}run(n){return new Promise((a,s)=>{n.metadata.on("error",s),n.metadata.on("data",o=>{this.predicates.includes(o.predicate.value)&&a({metadata:{cardinality:{type:"estimate",value:Number.parseInt(o.object.value,10),dataset:o.subject.value}}})}),n.metadata.on("end",()=>{a({metadata:{cardinality:{type:"estimate",value:0}}})})})}};return $p.ActorRdfMetadataExtractHydraCount=e,$p}var i7;function cRe(){return i7||(i7=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(uRe(),t)}(fO)),fO}var hO={},Up={},a7;function lRe(){if(a7)return Up;a7=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.ActorRdfMetadataExtractHydraPagesize=void 0;const t=Du();let e=class extends t.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return!0}async run(n){return new Promise((a,s)=>{n.metadata.on("error",s),n.metadata.on("data",o=>{this.predicates.includes(o.predicate.value)&&a({metadata:{pageSize:Number.parseInt(o.object.value,10)}})}),n.metadata.on("end",()=>{a({metadata:{}})})})}};return Up.ActorRdfMetadataExtractHydraPagesize=e,Up}var s7;function dRe(){return s7||(s7=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(lRe(),t)}(hO)),hO}var pO={},kp={},o7;function fRe(){if(o7)return kp;o7=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.ActorRdfMetadataExtractRequestTime=void 0;const t=Du();let e=class extends t.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return!0}async run(n){return{metadata:{requestTime:n.requestTime}}}};return kp.ActorRdfMetadataExtractRequestTime=e,kp}var u7;function hRe(){return u7||(u7=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fRe(),t)}(pO)),pO}var yO={},Vp={},c7;function pRe(){if(c7)return Vp;c7=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.ActorRdfMetadataExtractAllowHttpMethods=void 0;const t=Du();let e=class extends t.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return!0}async run(n){var s,o;const a={};return(s=n.headers)!=null&&s.get("allow")&&(a.allowHttpMethods=(o=n.headers.get("allow"))==null?void 0:o.split(/, */u)),{metadata:a}}};return Vp.ActorRdfMetadataExtractAllowHttpMethods=e,Vp}var l7;function yRe(){return l7||(l7=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(pRe(),t)}(yO)),yO}var mO={},Hp={},d7;function mRe(){if(d7)return Hp;d7=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.ActorRdfMetadataExtractPutAccepted=void 0;const t=Du();let e=class extends t.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return!0}async run(n){var s,o;const a={};return(s=n.headers)!=null&&s.get("accept-put")&&(a.putAccepted=(o=n.headers.get("accept-put"))==null?void 0:o.split(/, */u)),{metadata:a}}};return Hp.ActorRdfMetadataExtractPutAccepted=e,Hp}var f7;function gRe(){return f7||(f7=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(mRe(),t)}(mO)),mO}var gO={},Qp={},h7;function _Re(){if(h7)return Qp;h7=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.ActorRdfMetadataExtractPatchSparqlUpdate=void 0;const t=Du();let e=class extends t.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return!0}async run(n){var s,o,u,c;const a={};return(((o=(s=n.headers)==null?void 0:s.get("accept-patch"))==null?void 0:o.includes("application/sparql-update"))??((c=(u=n.headers)==null?void 0:u.get("ms-author-via"))==null?void 0:c.includes("SPARQL")))&&(a.patchSparqlUpdate=!0),{metadata:a}}};return Qp.ActorRdfMetadataExtractPatchSparqlUpdate=e,Qp}var p7;function bRe(){return p7||(p7=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(_Re(),t)}(gO)),gO}var _O={},zp={},y7;function vRe(){if(y7)return zp;y7=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.ActorRdfMetadataExtractSparqlService=void 0;const t=Du(),e=_a;let r=class extends t.ActorRdfMetadataExtract{constructor(a){super(a)}async test(a){return!0}async run(a){return new Promise((s,o)=>{a.metadata.on("error",o);const u={};a.metadata.on("data",c=>{c.predicate.value==="http://www.w3.org/ns/sparql-service-description#endpoint"&&(c.subject.termType==="BlankNode"||c.subject.value===a.url)?(u.sparqlService=c.object.termType==="Literal"?(0,e.resolve)(c.object.value,a.url):c.object.value,this.inferHttpsEndpoint&&a.url.startsWith("https")&&!u.sparqlService.startsWith("https")&&(u.sparqlService=u.sparqlService.replace("http:","https:"))):c.predicate.value==="http://www.w3.org/ns/sparql-service-description#defaultGraph"&&(u.defaultGraph=c.object.value)}),a.metadata.on("end",()=>{s({metadata:u})})})}};return zp.ActorRdfMetadataExtractSparqlService=r,zp}var m7;function wRe(){return m7||(m7=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(vRe(),t)}(_O)),_O}var bO={},Gp={},vO={},Wp={},g7;function SRe(){if(g7)return Wp;g7=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.ActorRdfParse=void 0;const t=Nf();let e=class extends t.ActorAbstractMediaTyped{constructor(n){super(n)}};return Wp.ActorRdfParse=e,Wp}var Kp={},_7;function TRe(){if(_7)return Kp;_7=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.ActorRdfParseFixedMediaTypes=void 0;const t=Nf();let e=class extends t.ActorAbstractMediaTypedFixed{constructor(n){super(n)}async testHandleChecked(n){return!0}};return Kp.ActorRdfParseFixedMediaTypes=e,Kp}var b7;function Df(){return b7||(b7=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(SRe(),t),r(TRe(),t)}(vO)),vO}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let v7;var ERe=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:I):t=>(v7||(v7=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0));const JY=WW(ERe),Jp="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Xp="http://www.w3.org/2001/XMLSchema#",wO="http://www.w3.org/2000/10/swap/",Ln={xsd:{decimal:`${Xp}decimal`,boolean:`${Xp}boolean`,double:`${Xp}double`,integer:`${Xp}integer`,string:`${Xp}string`},rdf:{type:`${Jp}type`,nil:`${Jp}nil`,first:`${Jp}first`,rest:`${Jp}rest`,langString:`${Jp}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${wO}reify#forSome`,forAll:`${wO}reify#forAll`},log:{implies:`${wO}log#implies`}},{xsd:Bv}=Ln,ARe=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,w7={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},ORe=/[\x00-\x20<>\\"\{\}\|\^\`]/,RRe={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},xRe=/$0^/;let $C=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const r in this)!(r in RRe)&&this[r]instanceof RegExp&&(this[r]=xRe)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,r){let n=this._input,a=n.length;for(;;){let u,c;for(;u=this._newline.exec(n);)this._comments&&(c=this._comment.exec(u[0]))&&s("comment",c[1],"",this._line,u[0].length),n=n.substr(u[0].length,n.length),a=n.length,this._line++;if(!u&&(u=this._whitespace.exec(n))&&(n=n.substr(u[0].length,n.length)),this._endOfFile.test(n))return r&&(this._comments&&(c=this._comment.exec(n))&&s("comment",c[1],"",this._line,n.length),n=null,s("eof","","",this._line,0)),this._input=n;const l=this._line,d=n[0];let f="",h="",p="",m=null,y=0,g=!1;switch(d){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){g=!0;break}}else{this._n3Mode&&(y=1,f="^");break}case"<":if(m=this._unescapedIri.exec(n))f="IRI",h=m[1];else if(m=this._iri.exec(n)){if(h=this._unescape(m[1]),h===null||ORe.test(h))return o(this);f="IRI"}else n.length>1&&n[1]==="<"?(f="<<",y=2):this._n3Mode&&n.length>1&&n[1]==="="&&(f="inverse",y=2,h=">");break;case">":n.length>1&&n[1]===">"&&(f=">>",y=2);break;case"_":((m=this._blank.exec(n))||r&&(m=this._blank.exec(`${n} `)))&&(f="blank",p="_",h=m[1]);break;case'"':if(m=this._simpleQuotedString.exec(n))h=m[1];else if({value:h,matchLength:y}=this._parseLiteral(n),h===null)return o(this);(m!==null||y!==0)&&(f="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(m=this._simpleApostropheString.exec(n))h=m[1];else if({value:h,matchLength:y}=this._parseLiteral(n),h===null)return o(this);(m!==null||y!==0)&&(f="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(m=this._variable.exec(n))&&(f="var",h=m[0]);break;case"@":this._previousMarker==="literal"&&(m=this._langcode.exec(n))?(f="langcode",h=m[1]):(m=this._keyword.exec(n))&&(f=m[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){f=".",y=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(m=this._number.exec(n)||r&&(m=this._number.exec(`${n} `)))&&(f="literal",h=m[0],p=typeof m[1]=="string"?Bv.double:typeof m[2]=="string"?Bv.decimal:Bv.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(m=this._sparqlKeyword.exec(n))?f=m[0].toUpperCase():g=!0;break;case"f":case"t":(m=this._boolean.exec(n))?(f="literal",h=m[0],p=Bv.boolean):g=!0;break;case"a":(m=this._shortPredicates.exec(n))?(f="abbreviation",h="a"):g=!0;break;case"=":this._n3Mode&&n.length>1&&(f="abbreviation",n[1]!==">"?(y=1,h="="):(y=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(y=1,f=d);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(f="{|",y=2):(f=d,y=1));break;case"|":n.length>=2&&n[1]==="}"&&(f="|}",y=2);break;default:g=!0}if(g&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(m=this._prefix.exec(n))?(f="prefix",h=m[1]||""):((m=this._prefixed.exec(n))||r&&(m=this._prefixed.exec(`${n} `)))&&(f="prefixed",p=m[1]||"",h=this._unescape(m[2]))),this._previousMarker==="^^")switch(f){case"prefixed":f="type";break;case"IRI":f="typeIRI";break;default:f=""}if(!f)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;const b=y||m[0].length,v=s(f,h,p,l,b);this.previousToken=v,this._previousMarker=f,n=n.substr(b,n.length)}function s(u,c,l,d,f){const h=n?a-n.length:a,p=h+f,m={type:u,value:c,prefix:l,line:d,start:h,end:p};return e(null,m),m}function o(u){e(u._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let r=!1;const n=e.replace(ARe,(a,s,o,u)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof o=="string"){let c=Number.parseInt(o,16);return c<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((c-=65536)>>10),56320+(c&1023))}return u in w7?w7[u]:(r=!0,"")});return r?null:n}_parseLiteral(e){if(e.length>=3){const r=e.match(/^(?:"""|"|'''|'|)/)[0],n=r.length;let a=Math.max(this._literalClosingPos,n);for(;(a=e.indexOf(r,a))>0;){let s=0;for(;e[a-s-1]==="\\";)s++;if(s%2===0){const o=e.substring(n,a),u=o.split(/\r\n|\r|\n/).length-1,c=a+n;if(n===1&&u!==0||n===3&&this._lineMode)break;return this._line+=u,{value:this._unescape(o),matchLength:c}}a++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const r=new Error(`Unexpected "${e}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,r){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof r=="function")JY(()=>this._tokenizeToEnd(r,!0));else{const n=[];let a;if(this._tokenizeToEnd((s,o)=>s?a=s:n.push(o),!0),a)throw a;return n}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=a2e.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),e.on("error",r)}};const{rdf:IRe,xsd:wc}=Ln;let A1,PRe=0;const bu={namedNode:NRe,blankNode:DRe,variable:LRe,literal:CRe,defaultGraph:jRe,quad:S7,triple:S7};let As=class XY{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof XY?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},uT=class extends As{get termType(){return"NamedNode"}},Ed=class YY extends As{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let r=e.lastIndexOf('"')+1;return r<e.length&&e[r++]==="@"?e.substr(r).toLowerCase():""}get datatype(){return new uT(this.datatypeString)}get datatypeString(){const e=this.id,r=e.lastIndexOf('"')+1,n=r<e.length?e[r]:"";return n==="^"?e.substr(r+2):n!=="@"?wc.string:IRe.langString}equals(e){return e instanceof YY?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},UC=class extends As{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},kC=class extends As{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},VC=class extends As{constructor(){return super(""),A1||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};A1=new VC;function Nc(t,e,r){if(e=e||bu,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===bu)return new Ed(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const n=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,n-1),t[n+1]==="@"?t.substr(n+2):e.namedNode(t.substr(n+3)));case"[":t=JSON.parse(t);break;default:if(!r||!Array.isArray(t))return e.namedNode(t)}return e.quad(Nc(t[0],e,!0),Nc(t[1],e,!0),Nc(t[2],e,!0),t[3]&&Nc(t[3],e,!0))}function Xn(t,e){if(typeof t=="string")return t;if(t instanceof As&&t.termType!=="Quad")return t.id;if(!t)return A1.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==wc.string?`^^${t.datatype.value}`:""}`;case"Quad":const r=[Xn(t.subject,!0),Xn(t.predicate,!0),Xn(t.object,!0)];return t.graph&&t.graph.termType!=="DefaultGraph"&&r.push(Xn(t.graph,!0)),e?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${t.termType}`)}}let Sb=class extends As{constructor(e,r,n,a){super(""),this._subject=e,this._predicate=r,this._object=n,this._graph=a||A1}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function NRe(t){return new uT(t)}function DRe(t){return new UC(t||`n3-${PRe++}`)}function CRe(t,e){if(typeof e=="string")return new Ed(`"${t}"@${e.toLowerCase()}`);let r=e?e.value:"";return r===""&&(typeof t=="boolean"?r=wc.boolean:typeof t=="number"&&(Number.isFinite(t)?r=Number.isInteger(t)?wc.integer:wc.double:(r=wc.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),r===""||r===wc.string?new Ed(`"${t}"`):new Ed(`"${t}"^^${r}`)}function LRe(t){return new kC(t)}function jRe(){return A1}function S7(t,e,r,n){return new Sb(t,e,r,n)}let T7=0,cT=class{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&ZY(this,e.factory);const r=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),a=/trig/.test(r),s=/triple/.test(r),o=/quad/.test(r),u=this._n3Mode=/n3/.test(r),c=s||o;(this._supportsNamedGraphs=!(n||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||a||s||u),this._supportsRDFStar=r===""||/star|\*$/.test(r),c&&(this._resolveRelativeIRI=l=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new $C({lineMode:c,n3:u}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){T7=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const r=e.indexOf("#");r>=0&&(e=e.substr(0,r)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,r,n,a,s){const o=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:a,object:s,graph:r,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,r){const n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,r){let n;switch(e.type){case"IRI":case"typeIRI":const a=this._resolveIRI(e.value);if(a===null)return this._error("Invalid IRI",e);n=this._namedNode(a);break;case"type":case"prefixed":const s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._namedNode(s+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const r=e.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,e):(this._subject=null,r==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let r=null,n=null,a=this._readListItem;const s=this._subject,o=this._contextStack,u=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=r=this._blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;n=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,a=this._readListItemDataTypeOrLang):(r=this._literal(e.value,this._namedNode(e.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((r=this._readEntity(e))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),s===null?u.predicate===null?u.subject=n:u.object=n:this._emit(s,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return a}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let r=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const n=this._readEntity(e);if(n===void 0)return;r=this._literal(this._literalValue,n),e=null;break;case"langcode":r=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:r}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,r){const n=this._completeLiteral(e);if(n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let r,n=this._graph;const a=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);const o=this._predicate,u=this._object;this._subject=this._quad(a,o,u,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(e))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(a!==null){const o=this._predicate,u=this._object;s?this._emit(u,o,a,n):this._emit(a,o,u,n)}return r}_readBlankNodePunctuation(e){let r;switch(e.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const r=this._readEntity(e);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(e){const r=e.type==="IRI"&&this._resolveIRI(e.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let r;switch(e.type){case"IRI":case"prefixed":if((r=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){const a=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,a,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let r,n;const a=this._blankNode();if((n=this._readEntity(e))!==void 0)return this._predicate===null?(r=this._subject,this._subject=a):(r=this._object,this._object=a),this._emit(r,n,a,this._graph),this._readPath}_readBackwardPath(e){const r=this._blankNode();let n,a;if((n=this._readEntity(e))!==void 0)return this._predicate===null?(a=this._subject,this._subject=r):(a=this._object,this._object=r),this._emit(r,n,a,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const r=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,r,n,a){this._callback(null,this._quad(e,r,n,a||this.DEFAULTGRAPH))}_error(e,r){const n=new Error(`${e} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=SO}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const r=e.length;let n="",a=-1,s=-1,o=0,u="/";for(;a<r;){switch(u){case":":if(s<0&&e[++a]==="/"&&e[++a]==="/")for(;(s=a+1)<r&&e[s]!=="/";)a=s;break;case"?":case"#":a=r;break;case"/":if(e[a+1]===".")switch(u=e[++a+1],u){case"/":n+=e.substring(o,a-1),o=a+1;break;case void 0:case"?":case"#":return n+e.substring(o,a)+e.substr(a+1);case".":if(u=e[++a+1],u===void 0||u==="/"||u==="?"||u==="#"){if(n+=e.substring(o,a-2),(o=n.lastIndexOf("/"))>=s&&(n=n.substr(0,o)),u!=="/")return`${n}/${e.substr(a+1)}`;o=a+1}}}u=e[++a]}return n+e.substring(o)}parse(e,r,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${T7++}_`,this._prefixCallback=n||SO,this._inversePredicate=!1,this._quantified=Object.create(null),!r){const a=[];let s;if(this._callback=(o,u)=>{o?s=o:u&&a.push(u)},this._lexer.tokenize(e).every(o=>this._readCallback=this._readCallback(o)),s)throw s;return a}this._callback=r,this._lexer.tokenize(e,(a,s)=>{a!==null?(this._callback(a),this._callback=SO):this._readCallback&&(this._readCallback=this._readCallback(s))})}};function SO(){}function ZY(t,e){const r=e.namedNode;t._namedNode=r,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=r(Ln.rdf.first),t.RDF_REST=r(Ln.rdf.rest),t.RDF_NIL=r(Ln.rdf.nil),t.N3_FORALL=r(Ln.r.forAll),t.N3_FORSOME=r(Ln.r.forSome),t.ABBREVIATIONS={a:r(Ln.rdf.type),"=":r(Ln.owl.sameAs),">":r(Ln.log.implies)},t.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}ZY(cT.prototype,bu);function MRe(t){return!!t&&t.termType==="NamedNode"}function FRe(t){return!!t&&t.termType==="BlankNode"}function BRe(t){return!!t&&t.termType==="Literal"}function qRe(t){return!!t&&t.termType==="Variable"}function Tb(t){return!!t&&t.termType==="DefaultGraph"}function $Re(t){return Tb(t.graph)}function URe(t,e){return eZ({"":t.value||t},e)("")}function eZ(t,e){const r=Object.create(null);for(const a in t)n(a,t[a]);e=e||bu;function n(a,s){if(typeof s=="string"){const o=Object.create(null);r[a]=u=>o[u]||(o[u]=e.namedNode(s+u))}else if(!(a in r))throw new Error(`Unknown prefix: ${a}`);return r[a]}return n}const tZ=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:$Re,isBlankNode:FRe,isDefaultGraph:Tb,isLiteral:BRe,isNamedNode:MRe,isVariable:qRe,prefix:URe,prefixes:eZ},Symbol.toStringTag,{value:"Module"})),Yp=bu.defaultGraph(),{rdf:kRe,xsd:jl}=Ln,E7=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,A7=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,VRe={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};let Zp=class extends As{equals(e){return e===this}},HC=class{constructor(e,r){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(r=e,e=null),r=r||{},this._lists=r.lists,e)this._outputStream=e,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(a,s,o){n+=a,o&&o()},end:a=>{a&&a(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Yp,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${R7(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return Yp.equals(this._graph)}_write(e,r){this._outputStream.write(e,"utf8",r)}_writeQuad(e,r,n,a,s){try{a.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Yp.equals(a)?"":`${this._encodeIriOrBlank(a)} {
`)),this._graph=a,this._subject=null),e.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s)}catch(o){s&&s(o)}}_writeQuadLine(e,r,n,a,s){delete this._prefixMatch,this._write(this.quadToString(e,r,n,a),s)}quadToString(e,r,n,a){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${a&&a.value?` ${this._encodeIriOrBlank(a)} .
`:` .
`}`}quadsToString(e){return e.map(r=>this.quadToString(r.subject,r.predicate,r.object,r.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let r=e.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),E7.test(r)&&(r=r.replace(A7,O7));const n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(e){let r=e.value;if(E7.test(r)&&(r=r.replace(A7,O7)),e.language)return`"${r}"@${e.language}`;if(this._lineMode){if(e.datatype.value===jl.string)return`"${r}"`}else switch(e.datatype.value){case jl.string:return`"${r}"`;case jl.boolean:if(r==="true"||r==="false")return r;break;case jl.integer:if(/^[+-]?\d+$/.test(r))return r;break;case jl.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case jl.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===kRe.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:r,object:n,graph:a}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${Tb(a)?"":` ${this._encodeIriOrBlank(a)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,r,n,a,s){n===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,r):typeof a=="function"?this._writeQuad(e,r,n,Yp,a):this._writeQuad(e,r,n,a||Yp,s)}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}addPrefix(e,r,n){const a={};a[e]=r,this.addPrefixes(a,n)}addPrefixes(e,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let a in e){let s=e[a];typeof s!="string"&&(s=s.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=a+=":",this._write(`@prefix ${a} <${s}>.
`)}if(n){let a="",s="";for(const o in this._prefixIRIs)a+=a?`|${o}`:o,s+=(s?"|":"")+this._prefixIRIs[o];a=R7(a),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${a})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(e,r){let n=e,a,s;switch(e===void 0?n=[]:e.termType?n=[{predicate:e,object:r}]:"length"in e||(n=[e]),s=n.length){case 0:return new Zp("[]");case 1:if(a=n[0],!(a.object instanceof Zp))return new Zp(`[ ${this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)} ]`);default:let o="[";for(let u=0;u<s;u++)a=n[u],a.predicate.equals(e)?o+=`, ${this._encodeObject(a.object)}`:(o+=`${(u?`;
  `:`
  `)+this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)}`,e=a.predicate);return new Zp(`${o}
]`)}}list(e){const r=e&&e.length||0,n=new Array(r);for(let a=0;a<r;a++)n[a]=this._encodeObject(e[a]);return new Zp(`(${n.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=e&&((n,a)=>{r=null,e(n,a)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}};function O7(t){let e=VRe[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function R7(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}let QC=class{constructor(e,r){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!r&&e&&!e[0]&&(r=e,e=null),r=r||{},this._factory=r.factory||bu,e&&this.addQuads(e)}_termFromId(e,r){if(e[0]==="."){const n=this._entities,a=e.split(".");return this._factory.quad(this._termFromId(n[a[1]]),this._termFromId(n[a[2]]),this._termFromId(n[a[3]]),a[4]&&this._termFromId(n[a[4]]))}return Nc(e,r)}_termToNumericId(e){if(e.termType==="Quad"){const r=this._termToNumericId(e.subject),n=this._termToNumericId(e.predicate),a=this._termToNumericId(e.object);let s;return r&&n&&a&&(Tb(e.graph)||(s=this._termToNumericId(e.graph)))&&this._ids[s?`.${r}.${n}.${a}.${s}`:`.${r}.${n}.${a}`]}return this._ids[Xn(e)]}_termToNewNumericId(e){const r=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${Tb(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:Xn(e);return this._ids[r]||(this._ids[this._entities[++this._id]=r]=this._id)}get size(){let e=this._size;if(e!==null)return e;e=0;const r=this._graphs;let n,a;for(const s in r)for(const o in n=r[s].subjects)for(const u in a=n[o])e+=Object.keys(a[u]).length;return this._size=e}_addToIndex(e,r,n,a){const s=e[r]||(e[r]={}),o=s[n]||(s[n]={}),u=a in o;return u||(o[a]=null),!u}_removeFromIndex(e,r,n,a){const s=e[r],o=s[n];delete o[a];for(const u in o)return;delete s[n];for(const u in s)return;delete e[r]}*_findInIndex(e,r,n,a,s,o,u,c){let l,d,f;const h=this._entities,p=this._termFromId(c,this._factory),m={subject:null,predicate:null,object:null};r&&((l=e,e={})[r]=l[r]);for(const y in e)if(d=e[y]){m[s]=this._termFromId(h[y],this._factory),n&&((l=d,d={})[n]=l[n]);for(const g in d)if(f=d[g]){m[o]=this._termFromId(h[g],this._factory);const b=a?a in f?[a]:[]:Object.keys(f);for(let v=0;v<b.length;v++)m[u]=this._termFromId(h[b[v]],this._factory),yield this._factory.quad(m.subject,m.predicate,m.object,p)}}}_loop(e,r){for(const n in e)r(n)}_loopByKey0(e,r,n){let a,s;if(a=e[r])for(s in a)n(s)}_loopByKey1(e,r,n){let a,s;for(a in e)s=e[a],s[r]&&n(a)}_loopBy2Keys(e,r,n,a){let s,o,u;if((s=e[r])&&(o=s[n]))for(u in o)a(u)}_countInIndex(e,r,n,a){let s=0,o,u,c;r&&((o=e,e={})[r]=o[r]);for(const l in e)if(u=e[l]){n&&((o=u,u={})[n]=o[n]);for(const d in u)(c=u[d])&&(a?a in c&&s++:s+=Object.keys(c).length)}return s}_getGraphs(e){if(!HRe(e))return this._graphs;const r={};return r[e]=this._graphs[e],r}_uniqueEntities(e){const r=Object.create(null);return n=>{n in r||(r[n]=!0,e(this._termFromId(this._entities[n],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,r,n,a){r||(a=e.graph,n=e.object,r=e.predicate,e=e.subject),a=Xn(a);let s=this._graphs[a];s||(s=this._graphs[a]={subjects:{},predicates:{},objects:{}},Object.freeze(s)),e=this._termToNewNumericId(e),r=this._termToNewNumericId(r),n=this._termToNewNumericId(n);const o=this._addToIndex(s.subjects,e,r,n);return this._addToIndex(s.predicates,r,n,e),this._addToIndex(s.objects,n,e,r),this._size=null,o}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}delete(e){return this.removeQuad(e),this}has(e,r,n,a){return e&&e.subject&&({subject:e,predicate:r,object:n,graph:a}=e),!this.readQuads(e,r,n,a).next().done}import(e){return e.on("data",r=>{this.addQuad(r)}),e}removeQuad(e,r,n,a){r||(a=e.graph,n=e.object,r=e.predicate,e=e.subject),a=Xn(a);const s=this._graphs;let o,u,c;if(!(e=e&&this._termToNumericId(e))||!(r=r&&this._termToNumericId(r))||!(n=n&&this._termToNumericId(n))||!(o=s[a])||!(u=o.subjects[e])||!(c=u[r])||!(n in c))return!1;this._removeFromIndex(o.subjects,e,r,n),this._removeFromIndex(o.predicates,r,n,e),this._removeFromIndex(o.objects,n,e,r),this._size!==null&&this._size--;for(e in o.subjects)return!0;return delete s[a],!0}removeQuads(e){for(let r=0;r<e.length;r++)this.removeQuad(e[r])}remove(e){return e.on("data",r=>{this.removeQuad(r)}),e}removeMatches(e,r,n,a){const s=new Pt.Readable({objectMode:!0});return s._read=()=>{for(const o of this.readQuads(e,r,n,a))s.push(o);s.push(null)},this.remove(s)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,r,n,a){return[...this.readQuads(e,r,n,a)]}*readQuads(e,r,n,a){a=a&&Xn(a);const s=this._getGraphs(a);let o,u,c,l;if(!(e&&!(u=this._termToNumericId(e))||r&&!(c=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(const d in s)(o=s[d])&&(u?l?yield*this._findInIndex(o.objects,l,u,c,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,u,c,null,"subject","predicate","object",d):c?yield*this._findInIndex(o.predicates,c,l,null,"predicate","object","subject",d):l?yield*this._findInIndex(o.objects,l,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(e,r,n,a){return new QRe(this,e,r,n,a)}countQuads(e,r,n,a){a=a&&Xn(a);const s=this._getGraphs(a);let o=0,u,c,l,d;if(e&&!(c=this._termToNumericId(e))||r&&!(l=this._termToNumericId(r))||n&&!(d=this._termToNumericId(n)))return 0;for(const f in s)(u=s[f])&&(e?n?o+=this._countInIndex(u.objects,d,c,l):o+=this._countInIndex(u.subjects,c,l,d):r?o+=this._countInIndex(u.predicates,l,d,c):o+=this._countInIndex(u.objects,d,c,l));return o}forEach(e,r,n,a,s){this.some(o=>(e(o),!1),r,n,a,s)}every(e,r,n,a,s){let o=!1;const u=!this.some(c=>(o=!0,!e(c)),r,n,a,s);return o&&u}some(e,r,n,a,s){for(const o of this.readQuads(r,n,a,s))if(e(o))return!0;return!1}getSubjects(e,r,n){const a=[];return this.forSubjects(s=>{a.push(s)},e,r,n),a}forSubjects(e,r,n,a){a=a&&Xn(a);const s=this._getGraphs(a);let o,u,c;if(e=this._uniqueEntities(e),!(r&&!(u=this._termToNumericId(r))||n&&!(c=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?c?this._loopBy2Keys(o.predicates,u,c,e):this._loopByKey1(o.subjects,u,e):c?this._loopByKey0(o.objects,c,e):this._loop(o.subjects,e))}getPredicates(e,r,n){const a=[];return this.forPredicates(s=>{a.push(s)},e,r,n),a}forPredicates(e,r,n,a){a=a&&Xn(a);const s=this._getGraphs(a);let o,u,c;if(e=this._uniqueEntities(e),!(r&&!(u=this._termToNumericId(r))||n&&!(c=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?c?this._loopBy2Keys(o.objects,c,u,e):this._loopByKey0(o.subjects,u,e):c?this._loopByKey1(o.predicates,c,e):this._loop(o.predicates,e))}getObjects(e,r,n){const a=[];return this.forObjects(s=>{a.push(s)},e,r,n),a}forObjects(e,r,n,a){a=a&&Xn(a);const s=this._getGraphs(a);let o,u,c;if(e=this._uniqueEntities(e),!(r&&!(u=this._termToNumericId(r))||n&&!(c=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?c?this._loopBy2Keys(o.subjects,u,c,e):this._loopByKey1(o.objects,u,e):c?this._loopByKey0(o.predicates,c,e):this._loop(o.objects,e))}getGraphs(e,r,n){const a=[];return this.forGraphs(s=>{a.push(s)},e,r,n),a}forGraphs(e,r,n,a){for(const s in this._graphs)this.some(o=>(e(o.graph),!0),r,n,a,s)}createBlankNode(e){let r,n;if(e)for(r=e=`_:${e}`,n=1;this._ids[r];)r=e+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}extractLists({remove:e=!1,ignoreErrors:r=!1}={}){const n={},a=r?()=>!0:(u,c)=>{throw new Error(`${u.value} ${c}`)},s=this.getQuads(null,Ln.rdf.rest,Ln.rdf.nil,null),o=e?[...s]:[];return s.forEach(u=>{const c=[];let l=!1,d,f;const h=u.graph;let p=u.subject;for(;p&&!l;){const m=this.getQuads(null,null,p,null),y=this.getQuads(p,null,null,null);let g,b=null,v=null,_=null;for(let w=0;w<y.length&&!l;w++)g=y[w],g.graph.equals(h)?d?l=a(p,"has non-list arcs out"):g.predicate.value===Ln.rdf.first?b?l=a(p,"has multiple rdf:first arcs"):o.push(b=g):g.predicate.value===Ln.rdf.rest?v?l=a(p,"has multiple rdf:rest arcs"):o.push(v=g):m.length?l=a(p,"can't be subject and object"):(d=g,f="subject"):l=a(p,"not confined to single graph");for(let w=0;w<m.length&&!l;++w)g=m[w],d?l=a(p,"can't have coreferences"):g.predicate.value===Ln.rdf.rest?_?l=a(p,"has incoming rdf:rest arcs"):_=g:(d=g,f="object");b?c.unshift(b.object):l=a(p,"has no list head"),p=_&&_.subject}l?e=!1:d&&(n[d[f].value]=c)}),e&&this.removeQuads(o),n}*[Symbol.iterator](){yield*this.readQuads()}};function HRe(t){return typeof t=="string"||t instanceof String}let QRe=class rZ extends Pt.Readable{constructor(e,r,n,a,s){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:r,predicate:n,object:a,graph:s})}get filtered(){if(!this._filtered){const{n3Store:e,graph:r,object:n,predicate:a,subject:s}=this,o=this._filtered=new QC({factory:e._factory});for(const u of e.readQuads(s,a,n,r))o.addQuad(u)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,r,n,a){return new rZ(this.filtered,e,r,n,a)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}},nZ=class extends Pt.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new cT(e);let n,a;r.parse({on:(s,o)=>{switch(s){case"data":n=o;break;case"end":a=o;break}}},(s,o)=>{s&&this.emit("error",s)||o&&this.push(o)},(s,o)=>{this.emit("prefix",s,o)}),this._transform=(s,o,u)=>{n(s),u()},this._flush=s=>{a(),s()}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),this}},iZ=class extends Pt.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const r=this._writer=new HC({write:(n,a,s)=>{this.push(n),s&&s()},end:n=>{this.push(null),n&&n()}},e);this._transform=(n,a,s)=>{r.addQuad(n,s)},this._flush=n=>{r.end(n)}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),e.on("prefix",(r,n)=>{this._writer.addPrefix(r,n)}),this}};const zRe={Lexer:$C,Parser:cT,Writer:HC,Store:QC,StreamParser:nZ,StreamWriter:iZ,Util:tZ,DataFactory:bu,Term:As,NamedNode:uT,Literal:Ed,BlankNode:UC,Variable:kC,DefaultGraph:VC,Quad:Sb,Triple:Sb,termFromId:Nc,termToId:Xn},GRe=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:UC,DataFactory:bu,DefaultGraph:VC,Lexer:$C,Literal:Ed,NamedNode:uT,Parser:cT,Quad:Sb,Store:QC,StreamParser:nZ,StreamWriter:iZ,Term:As,Triple:Sb,Util:tZ,Variable:kC,Writer:HC,default:zRe,termFromId:Nc,termToId:Xn},Symbol.toStringTag,{value:"Module"})),Cu=sD(GRe);var x7;function WRe(){if(x7)return Gp;x7=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.ActorRdfParseN3=void 0;const t=Df(),e=Cu;let r=class extends t.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,s,o){var c;a.data.on("error",l=>u.emit("error",l));const u=a.data.pipe(new e.StreamParser({baseIRI:(c=a.metadata)==null?void 0:c.baseIRI,format:s.endsWith("n3")?s:`${s}*`}));return{data:u,metadata:{triples:s==="text/turtle"||s==="application/n-triples"||s==="text/n3"}}}};return Gp.ActorRdfParseN3=r,Gp}var I7;function KRe(){return I7||(I7=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(WRe(),t)}(bO)),bO}var TO={},e0={},aZ={},Xd={},Yc={},sZ={};(function(t){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR=`	
\r -퟿-�𐀀-􏿿`,t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var e=9,r=10,n=13,a=32;t.S_LIST=[a,r,n,e];function s(l){return l>=a&&l<=55295||l===r||l===n||l===e||l>=57344&&l<=65533||l>=65536&&l<=1114111}t.isChar=s;function o(l){return l===a||l===r||l===n||l===e}t.isS=o;function u(l){return l>=65&&l<=90||l>=97&&l<=122||l===58||l===95||l===8204||l===8205||l>=192&&l<=214||l>=216&&l<=246||l>=248&&l<=767||l>=880&&l<=893||l>=895&&l<=8191||l>=8304&&l<=8591||l>=11264&&l<=12271||l>=12289&&l<=55295||l>=63744&&l<=64975||l>=65008&&l<=65533||l>=65536&&l<=983039}t.isNameStartChar=u;function c(l){return u(l)||l>=48&&l<=57||l===45||l===46||l===183||l>=768&&l<=879||l>=8255&&l<=8256}t.isNameChar=c})(sZ);var oZ={};(function(t){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR="-퟿-�𐀀-􏿿",t.RESTRICTED_CHAR="-\b\v\f---",t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var e=9,r=10,n=13,a=32;t.S_LIST=[a,r,n,e];function s(f){return f>=1&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}t.isChar=s;function o(f){return f>=1&&f<=8||f===11||f===12||f>=14&&f<=31||f>=127&&f<=132||f>=134&&f<=159}t.isRestrictedChar=o;function u(f){return f===9||f===10||f===13||f>31&&f<127||f===133||f>159&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}t.isCharAndNotRestricted=u;function c(f){return f===a||f===r||f===n||f===e}t.isS=c;function l(f){return f>=65&&f<=90||f>=97&&f<=122||f===58||f===95||f===8204||f===8205||f>=192&&f<=214||f>=216&&f<=246||f>=248&&f<=767||f>=880&&f<=893||f>=895&&f<=8191||f>=8304&&f<=8591||f>=11264&&f<=12271||f>=12289&&f<=55295||f>=63744&&f<=64975||f>=65008&&f<=65533||f>=65536&&f<=983039}t.isNameStartChar=l;function d(f){return l(f)||f>=48&&f<=57||f===45||f===46||f===183||f>=768&&f<=879||f>=8255&&f<=8256}t.isNameChar=d})(oZ);var uZ={};(function(t){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u");function e(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}t.isNCNameStartChar=e;function r(n){return e(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}t.isNCNameChar=r})(uZ);Object.defineProperty(Yc,"__esModule",{value:!0});Yc.SaxesParser=Yc.EVENTS=void 0;const Cf=sZ,JRe=oZ,zC=uZ;var pi=Cf.isS,XRe=Cf.isChar,t0=Cf.isNameStartChar,P7=Cf.isNameChar,cZ=Cf.S_LIST,YRe=Cf.NAME_RE,ZRe=JRe.isChar,exe=zC.isNCNameStartChar,txe=zC.isNCNameChar,rxe=zC.NC_NAME_RE;const kw="http://www.w3.org/XML/1998/namespace",ad="http://www.w3.org/2000/xmlns/",nxe={__proto__:null,xml:kw,xmlns:ad},ixe={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},jr=-1,Ka=-2,N7=0,axe=1,EO=2,sxe=3,Ml=4,oxe=5,uxe=6,cxe=7,AO=8,lxe=9,dxe=10,fxe=11,hxe=12,Gn=13,qv=14,OO=15,pxe=16,RO=17,yxe=18,mxe=19,xO=20,gxe=21,_xe=22,bxe=23,D7=24,IO=25,$v=26,C7=27,vxe=28,wxe=29,L7=30,Sxe=31,Txe=32,ec=33,Exe=34,PO=35,r0=36,NO=37,Axe=38,j7=39,M7=40,Oxe=41,F7=42,Rxe=43,xxe=44,DO=9,Ra=10,CO=13,B7=32,q7=33,lZ=34,O_=38,dZ=39,Uv=45,kv=47,Ixe=59,tu=60,Yl=61,dn=62,En=63,fZ=91,Zl=93,$7=133,U7=8232,Vv=t=>t===lZ||t===dZ,hZ=[lZ,dZ],Pxe=[...hZ,fZ,dn],Nxe=[...hZ,tu,Zl],Dxe=[Yl,En,...cZ],Cxe=[...cZ,dn,O_,tu];function zP(t,e,r){switch(e){case"xml":r!==kw&&t.fail(`xml prefix must be bound to ${kw}.`);break;case"xmlns":r!==ad&&t.fail(`xmlns prefix must be bound to ${ad}.`);break}switch(r){case ad:t.fail(e===""?`the default namespace may not be set to ${r}.`:`may not assign a prefix (even "xmlns") to the URI ${ad}.`);break;case kw:switch(e){case"xml":break;case"":t.fail(`the default namespace may not be set to ${r}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}break}}function Lxe(t,e){for(const r of Object.keys(e))zP(t,r,e[r])}const jxe=t=>rxe.test(t),Mxe=t=>YRe.test(t),tc=0,k7=1,LO=2;Yc.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const V7={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class Fxe{get closed(){return this._closed}constructor(e){this.opt=e??{},this.fragmentOpt=!!this.opt.fragment;const r=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,r){this.nameStartCheck=exe,this.nameCheck=txe,this.isName=jxe,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},nxe);const n=this.opt.additionalNamespaces;n!=null&&(Lxe(this,n),Object.assign(this.ns,n))}else this.nameStartCheck=t0,this.nameCheck=P7,this.isName=Mxe,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var e;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=tc,this.attribList=[];const{fragmentOpt:r}=this;this.state=r?Gn:N7,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=r,this.xmlDeclPossible=!r,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:n}=this.opt;if(n===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");n="1.0"}this.setXMLVersion(n),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(ixe),(e=this.readyHandler)===null||e===void 0||e.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(e,r){this[V7[e]]=r}off(e){this[V7[e]]=void 0}makeError(e){var r;let n=(r=this.fileName)!==null&&r!==void 0?r:"";return this.trackPosition&&(n.length>0&&(n+=":"),n+=`${this.line}:${this.column}`),n.length>0&&(n+=": "),new Error(n+e)}fail(e){const r=this.makeError(e),n=this.errorHandler;if(n===void 0)throw r;return n(r),this}write(e){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let r=!1;e===null?(r=!0,e=""):typeof e=="object"&&(e=e.toString()),this.carriedFromPrevious!==void 0&&(e=`${this.carriedFromPrevious}${e}`,this.carriedFromPrevious=void 0);let n=e.length;const a=e.charCodeAt(n-1);!r&&(a===CO||a>=55296&&a<=56319)&&(this.carriedFromPrevious=e[n-1],n--,e=e.slice(0,n));const{stateTable:s}=this;for(this.chunk=e,this.i=0;this.i<n;)s[this.state].call(this);return this.chunkPosition+=n,r?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:e,i:r}=this;if(this.prevI=r,this.i=r+1,r>=e.length)return jr;const n=e.charCodeAt(r);if(this.column++,n<55296){if(n>=B7||n===DO)return n;switch(n){case Ra:return this.line++,this.column=0,this.positionAtNewLine=this.position,Ra;case CO:return e.charCodeAt(r+1)===Ra&&(this.i=r+2),this.line++,this.column=0,this.positionAtNewLine=this.position,Ka;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;const a=65536+(n-55296)*1024+(e.charCodeAt(r+1)-56320);return this.i=r+2,a>1114111&&this.fail("disallowed character."),a}getCode11(){const{chunk:e,i:r}=this;if(this.prevI=r,this.i=r+1,r>=e.length)return jr;const n=e.charCodeAt(r);if(this.column++,n<55296){if(n>31&&n<127||n>159&&n!==U7||n===DO)return n;switch(n){case Ra:return this.line++,this.column=0,this.positionAtNewLine=this.position,Ra;case CO:{const s=e.charCodeAt(r+1);(s===Ra||s===$7)&&(this.i=r+2)}case $7:case U7:return this.line++,this.column=0,this.positionAtNewLine=this.position,Ka;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;const a=65536+(n-55296)*1024+(e.charCodeAt(r+1)-56320);return this.i=r+2,a>1114111&&this.fail("disallowed character."),a}getCodeNorm(){const e=this.getCode();return e===Ka?Ra:e}unget(){this.i=this.prevI,this.column--}captureTo(e){let{i:r}=this;const{chunk:n}=this;for(;;){const a=this.getCode(),s=a===Ka,o=s?Ra:a;if(o===jr||e.includes(o))return this.text+=n.slice(r,this.prevI),o;s&&(this.text+=`${n.slice(r,this.prevI)}
`,r=this.i)}}captureToChar(e){let{i:r}=this;const{chunk:n}=this;for(;;){let a=this.getCode();switch(a){case Ka:this.text+=`${n.slice(r,this.prevI)}
`,r=this.i,a=Ra;break;case jr:return this.text+=n.slice(r),!1}if(a===e)return this.text+=n.slice(r,this.prevI),!0}}captureNameChars(){const{chunk:e,i:r}=this;for(;;){const n=this.getCode();if(n===jr)return this.name+=e.slice(r),jr;if(!P7(n))return this.name+=e.slice(r,this.prevI),n===Ka?Ra:n}}skipSpaces(){for(;;){const e=this.getCodeNorm();if(e===jr||!pi(e))return e}}setXMLVersion(e){this.currentXMLVersion=e,e==="1.0"?(this.isChar=XRe,this.getCode=this.getCode10):(this.isChar=ZRe,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=axe}sBeginWhitespace(){const e=this.i,r=this.skipSpaces();switch(this.prevI!==e&&(this.xmlDeclPossible=!1),r){case tu:if(this.state=OO,this.text.length!==0)throw new Error("no-empty text at start");break;case jr:break;default:this.unget(),this.state=Gn,this.xmlDeclPossible=!1}}sDoctype(){var e;const r=this.captureTo(Pxe);switch(r){case dn:{(e=this.doctypeHandler)===null||e===void 0||e.call(this,this.text),this.text="",this.state=Gn,this.doctype=!0;break}case jr:break;default:this.text+=String.fromCodePoint(r),r===fZ?this.state=Ml:Vv(r)&&(this.state=sxe,this.q=r)}}sDoctypeQuote(){const e=this.q;this.captureToChar(e)&&(this.text+=String.fromCodePoint(e),this.q=null,this.state=EO)}sDTD(){const e=this.captureTo(Nxe);e!==jr&&(this.text+=String.fromCodePoint(e),e===Zl?this.state=EO:e===tu?this.state=uxe:Vv(e)&&(this.state=oxe,this.q=e))}sDTDQuoted(){const e=this.q;this.captureToChar(e)&&(this.text+=String.fromCodePoint(e),this.state=Ml,this.q=null)}sDTDOpenWaka(){const e=this.getCodeNorm();switch(this.text+=String.fromCodePoint(e),e){case q7:this.state=cxe,this.openWakaBang="";break;case En:this.state=fxe;break;default:this.state=Ml}}sDTDOpenWakaBang(){const e=String.fromCodePoint(this.getCodeNorm()),r=this.openWakaBang+=e;this.text+=e,r!=="-"&&(this.state=r==="--"?AO:Ml,this.openWakaBang="")}sDTDComment(){this.captureToChar(Uv)&&(this.text+="-",this.state=lxe)}sDTDCommentEnding(){const e=this.getCodeNorm();this.text+=String.fromCodePoint(e),this.state=e===Uv?dxe:AO}sDTDCommentEnded(){const e=this.getCodeNorm();this.text+=String.fromCodePoint(e),e===dn?this.state=Ml:(this.fail("malformed comment."),this.state=AO)}sDTDPI(){this.captureToChar(En)&&(this.text+="?",this.state=hxe)}sDTDPIEnding(){const e=this.getCodeNorm();this.text+=String.fromCodePoint(e),e===dn&&(this.state=Ml)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:e}=this;const{chunk:r}=this;e:for(;;)switch(this.getCode()){case Ka:this.entity+=`${r.slice(e,this.prevI)}
`,e=this.i;break;case Ixe:{const{entityReturnState:n}=this,a=this.entity+r.slice(e,this.prevI);this.state=n;let s;a===""?(this.fail("empty entity name."),s="&;"):(s=this.parseEntity(a),this.entity=""),(n!==Gn||this.textHandler!==void 0)&&(this.text+=s);break e}case jr:this.entity+=r.slice(e);break e}}sOpenWaka(){const e=this.getCode();if(t0(e))this.state=Exe,this.unget(),this.xmlDeclPossible=!1;else switch(e){case kv:this.state=Rxe,this.xmlDeclPossible=!1;break;case q7:this.state=pxe,this.openWakaBang="",this.xmlDeclPossible=!1;break;case En:this.state=bxe;break;default:this.fail("disallowed character in tag name"),this.state=Gn,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=xO,this.openWakaBang="";break;case"--":this.state=RO,this.openWakaBang="";break;case"DOCTYPE":this.state=EO,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Uv)&&(this.state=yxe)}sCommentEnding(){var e;const r=this.getCodeNorm();r===Uv?(this.state=mxe,(e=this.commentHandler)===null||e===void 0||e.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(r)}`,this.state=RO)}sCommentEnded(){const e=this.getCodeNorm();e!==dn?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(e)}`,this.state=RO):this.state=Gn}sCData(){this.captureToChar(Zl)&&(this.state=gxe)}sCDataEnding(){const e=this.getCodeNorm();e===Zl?this.state=_xe:(this.text+=`]${String.fromCodePoint(e)}`,this.state=xO)}sCDataEnding2(){var e;const r=this.getCodeNorm();switch(r){case dn:{(e=this.cdataHandler)===null||e===void 0||e.call(this,this.text),this.text="",this.state=Gn;break}case Zl:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(r)}`,this.state=xO}}sPIFirstChar(){const e=this.getCodeNorm();this.nameStartCheck(e)?(this.piTarget+=String.fromCodePoint(e),this.state=D7):e===En||pi(e)?(this.fail("processing instruction without a target."),this.state=e===En?$v:IO):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e),this.state=D7)}sPIRest(){const{chunk:e,i:r}=this;for(;;){const n=this.getCodeNorm();if(n===jr){this.piTarget+=e.slice(r);return}if(!this.nameCheck(n)){this.piTarget+=e.slice(r,this.prevI);const a=n===En;a||pi(n)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=a?ec:C7):this.state=a?$v:IO:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(n));break}}}sPIBody(){if(this.text.length===0){const e=this.getCodeNorm();e===En?this.state=$v:pi(e)||(this.text=String.fromCodePoint(e))}else this.captureToChar(En)&&(this.state=$v)}sPIEnding(){var e;const r=this.getCodeNorm();if(r===dn){const{piTarget:n}=this;n.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(e=this.piHandler)===null||e===void 0||e.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=Gn}else r===En?this.text+="?":(this.text+=`?${String.fromCodePoint(r)}`,this.state=IO);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const e=this.skipSpaces();if(e===En){this.state=ec;return}e!==jr&&(this.state=vxe,this.name=String.fromCodePoint(e))}sXMLDeclName(){const e=this.captureTo(Dxe);if(e===En){this.state=ec,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(pi(e)||e===Yl){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=e===Yl?L7:wxe}}sXMLDeclEq(){const e=this.getCodeNorm();if(e===En){this.state=ec,this.fail("XML declaration is incomplete.");return}pi(e)||(e!==Yl&&this.fail("value required."),this.state=L7)}sXMLDeclValueStart(){const e=this.getCodeNorm();if(e===En){this.state=ec,this.fail("XML declaration is incomplete.");return}pi(e)||(Vv(e)?this.q=e:(this.fail("value must be quoted."),this.q=B7),this.state=Sxe)}sXMLDeclValue(){const e=this.captureTo([this.q,En]);if(e===En){this.state=ec,this.text="",this.fail("XML declaration is incomplete.");return}if(e===jr)return;const r=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const n=r;this.xmlDecl.version=n,/^1\.[0-9]+$/.test(n)?this.opt.forceXMLVersion||this.setXMLVersion(n):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(r)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=r;break;case"standalone":r!=="yes"&&r!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=r;break}this.name="",this.state=Txe}sXMLDeclSeparator(){const e=this.getCodeNorm();if(e===En){this.state=ec;return}pi(e)||(this.fail("whitespace required."),this.unget()),this.state=C7}sXMLDeclEnding(){var e;this.getCodeNorm()===dn?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(e=this.xmldeclHandler)===null||e===void 0||e.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=Gn):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var e;const r=this.captureNameChars();if(r===jr)return;const n=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=n.ns=Object.create(null)),(e=this.openTagStartHandler)===null||e===void 0||e.call(this,n),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),r){case dn:this.openTag();break;case kv:this.state=PO;break;default:pi(r)||this.fail("disallowed character in tag name."),this.state=r0}}sOpenTagSlash(){this.getCode()===dn?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=r0)}sAttrib(){const e=this.skipSpaces();e!==jr&&(t0(e)?(this.unget(),this.state=NO):e===dn?this.openTag():e===kv?this.state=PO:this.fail("disallowed character in attribute name."))}sAttribName(){const e=this.captureNameChars();e===Yl?this.state=j7:pi(e)?this.state=Axe:e===dn?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):e!==jr&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const e=this.skipSpaces();switch(e){case jr:return;case Yl:this.state=j7;break;default:this.fail("attribute without value."),this.text="",this.name="",e===dn?this.openTag():t0(e)?(this.unget(),this.state=NO):(this.fail("disallowed character in attribute name."),this.state=r0)}}sAttribValue(){const e=this.getCodeNorm();Vv(e)?(this.q=e,this.state=M7):pi(e)||(this.fail("unquoted attribute value."),this.state=F7,this.unget())}sAttribValueQuoted(){const{q:e,chunk:r}=this;let{i:n}=this;for(;;)switch(this.getCode()){case e:this.pushAttrib(this.name,this.text+r.slice(n,this.prevI)),this.name=this.text="",this.q=null,this.state=Oxe;return;case O_:this.text+=r.slice(n,this.prevI),this.state=qv,this.entityReturnState=M7;return;case Ra:case Ka:case DO:this.text+=`${r.slice(n,this.prevI)} `,n=this.i;break;case tu:this.text+=r.slice(n,this.prevI),this.fail("disallowed character.");return;case jr:this.text+=r.slice(n);return}}sAttribValueClosed(){const e=this.getCodeNorm();pi(e)?this.state=r0:e===dn?this.openTag():e===kv?this.state=PO:t0(e)?(this.fail("no whitespace between attributes."),this.unget(),this.state=NO):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const e=this.captureTo(Cxe);switch(e){case O_:this.state=qv,this.entityReturnState=F7;break;case tu:this.fail("disallowed character.");break;case jr:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",e===dn?this.openTag():this.state=r0}}sCloseTag(){const e=this.captureNameChars();e===dn?this.closeTag():pi(e)?this.state=xxe:e!==jr&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case dn:this.closeTag();break;case jr:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:e,forbiddenState:r}=this;const{chunk:n,textHandler:a}=this;e:for(;;)switch(this.getCode()){case tu:{if(this.state=OO,a!==void 0){const{text:s}=this,o=n.slice(e,this.prevI);s.length!==0?(a(s+o),this.text=""):o.length!==0&&a(o)}r=tc;break e}case O_:this.state=qv,this.entityReturnState=Gn,a!==void 0&&(this.text+=n.slice(e,this.prevI)),r=tc;break e;case Zl:switch(r){case tc:r=k7;break;case k7:r=LO;break;case LO:break;default:throw new Error("impossible state")}break;case dn:r===LO&&this.fail('the string "]]>" is disallowed in char data.'),r=tc;break;case Ka:a!==void 0&&(this.text+=`${n.slice(e,this.prevI)}
`),e=this.i,r=tc;break;case jr:a!==void 0&&(this.text+=n.slice(e));break e;default:r=tc}this.forbiddenState=r}handleTextOutsideRoot(){let{i:e}=this;const{chunk:r,textHandler:n}=this;let a=!1;e:for(;;){const s=this.getCode();switch(s){case tu:{if(this.state=OO,n!==void 0){const{text:o}=this,u=r.slice(e,this.prevI);o.length!==0?(n(o+u),this.text=""):u.length!==0&&n(u)}break e}case O_:this.state=qv,this.entityReturnState=Gn,n!==void 0&&(this.text+=r.slice(e,this.prevI)),a=!0;break e;case Ka:n!==void 0&&(this.text+=`${r.slice(e,this.prevI)}
`),e=this.i;break;case jr:n!==void 0&&(this.text+=r.slice(e));break e;default:pi(s)||(a=!0)}}a&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(e,r){var n;const{prefix:a,local:s}=this.qname(e),o={name:e,prefix:a,local:s,value:r};if(this.attribList.push(o),(n=this.attributeHandler)===null||n===void 0||n.call(this,o),a==="xmlns"){const u=r.trim();this.currentXMLVersion==="1.0"&&u===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[s]=u,zP(this,s,u)}else if(e==="xmlns"){const u=r.trim();this.topNS[""]=u,zP(this,"",u)}}pushAttribPlain(e,r){var n;const a={name:e,value:r};this.attribList.push(a),(n=this.attributeHandler)===null||n===void 0||n.call(this,a)}end(){var e,r;this.sawRoot||this.fail("document must contain a root element.");const{tags:n}=this;for(;n.length>0;){const s=n.pop();this.fail(`unclosed tag: ${s.name}`)}this.state!==N7&&this.state!==Gn&&this.fail("unexpected end.");const{text:a}=this;return a.length!==0&&((e=this.textHandler)===null||e===void 0||e.call(this,a),this.text=""),this._closed=!0,(r=this.endHandler)===null||r===void 0||r.call(this),this._init(),this}resolve(e){var r,n;let a=this.topNS[e];if(a!==void 0)return a;const{tags:s}=this;for(let o=s.length-1;o>=0;o--)if(a=s[o].ns[e],a!==void 0)return a;return a=this.ns[e],a!==void 0?a:(n=(r=this.opt).resolvePrefix)===null||n===void 0?void 0:n.call(r,e)}qname(e){const r=e.indexOf(":");if(r===-1)return{prefix:"",local:e};const n=e.slice(r+1),a=e.slice(0,r);return(a===""||n===""||n.includes(":"))&&this.fail(`malformed name: ${e}.`),{prefix:a,local:n}}processAttribsNS(){var e;const{attribList:r}=this,n=this.tag;{const{prefix:o,local:u}=this.qname(n.name);n.prefix=o,n.local=u;const c=n.uri=(e=this.resolve(o))!==null&&e!==void 0?e:"";o!==""&&(o==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),c===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(o)}.`),n.uri=o))}if(r.length===0)return;const{attributes:a}=n,s=new Set;for(const o of r){const{name:u,prefix:c,local:l}=o;let d,f;c===""?(d=u==="xmlns"?ad:"",f=u):(d=this.resolve(c),d===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(c)}.`),d=c),f=`{${d}}${l}`),s.has(f)&&this.fail(`duplicate attribute: ${f}.`),s.add(f),o.uri=d,a[u]=o}this.attribList=[]}processAttribsPlain(){const{attribList:e}=this,r=this.tag.attributes;for(const{name:n,value:a}of e)r[n]!==void 0&&this.fail(`duplicate attribute: ${n}.`),r[n]=a;this.attribList=[]}openTag(){var e;this.processAttribs();const{tags:r}=this,n=this.tag;n.isSelfClosing=!1,(e=this.openTagHandler)===null||e===void 0||e.call(this,n),r.push(n),this.state=Gn,this.name=""}openSelfClosingTag(){var e,r,n;this.processAttribs();const{tags:a}=this,s=this.tag;s.isSelfClosing=!0,(e=this.openTagHandler)===null||e===void 0||e.call(this,s),(r=this.closeTagHandler)===null||r===void 0||r.call(this,s),(this.tag=(n=a[a.length-1])!==null&&n!==void 0?n:null)===null&&(this.closedRoot=!0),this.state=Gn,this.name=""}closeTag(){const{tags:e,name:r}=this;if(this.state=Gn,this.name="",r===""){this.fail("weird empty close tag."),this.text+="</>";return}const n=this.closeTagHandler;let a=e.length;for(;a-- >0;){const s=this.tag=e.pop();if(this.topNS=s.ns,n==null||n(s),s.name===r)break;this.fail("unexpected close tag.")}a===0?this.closedRoot=!0:a<0&&(this.fail(`unmatched closing tag: ${r}.`),this.text+=`</${r}>`)}parseEntity(e){if(e[0]!=="#"){const n=this.ENTITIES[e];return n!==void 0?n:(this.fail(this.isName(e)?"undefined entity.":"disallowed character in entity name."),`&${e};`)}let r=NaN;return e[1]==="x"&&/^#x[0-9a-f]+$/i.test(e)?r=parseInt(e.slice(2),16):/^#[0-9]+$/.test(e)&&(r=parseInt(e.slice(1),10)),this.isChar(r)?String.fromCodePoint(r):(this.fail("malformed character entity."),`&${e};`)}}Yc.SaxesParser=Fxe;var lT={};Object.defineProperty(lT,"__esModule",{value:!0});lT.ParseError=void 0;class Bxe extends Error{constructor(e,r){const n=e.saxParser;super(e.trackPosition?`Line ${n.line} column ${n.column+1}: ${r}`:r)}}lT.ParseError=Bxe;var pZ={},yZ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateIri=t.IriValidationStrategy=void 0;function e(){const u="[!$&'()*+,;=]",c="%[a-fA-F0-9]{2}",l="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",d=`${l}\\.${l}\\.${l}\\.${l}`,f="[a-fA-F0-9]{1,4}",h=`(${f}:${f}|${d})`,p=`((${f}:){6}${h}|::(${f}:){5}${h}|(${f})?::(${f}:){4}${h}|((${f}:){0,1}${f})?::(${f}:){3}${h}|((${f}:){0,2}${f})?::(${f}:){2}${h}|((${f}:){0,3}${f})?::${f}:${h}|((${f}:){0,4}${f})?::${h}|((${f}:){0,5}${f})?::${f}|((${f}:){0,6}${f})?::)`,m=`v[a-fA-F0-9]+\\.(${u}|${u}|":)+`,y=`\\[(${p}|${m})\\]`,g="[0-9]*",b="[a-zA-Z][a-zA-Z0-9+\\-.]*",_="[-󰀀-󿿽􀀀-􏿽]",O="[a-zA-Z0-9\\-._~ -퟿豈-﷏ﷰ-￯𐀀-🿽𠀀-𯿽𰀀-𿿽񀀀-񏿽񐀀-񟿽񠀀-񯿽񰀀-񿿽򀀀-򏿽򐀀-򟿽򠀀-򯿽򰀀-򿿽󀀀-󏿽󐀀-󟿽󡀀-󯿽]",L=`(${O}|${c}|${u}|[:@])*`,F=`(${L}|[\\/?])*`,x=`(${L}|${_}|[\\/?])*`,P=`(${L})+`,j=`(${L})*`,N="",V=`${P}(\\/${j})*`,$=`\\/(${P}(\\/${j})*)?`,q=`(\\/${j})*`,H=`(${O}|${c}|${u})*`,X=`(${y}|${d}|${H})`,Te=`(\\/\\/${`(${`(${O}|${c}|${u}|:)*`}@)?${X}(:${g})?`}${q}|${$}|${V}|${N})`,Ne=`^${b}:${Te}(\\?${x})?(#${F})?$`;return new RegExp(Ne,"u")}const r=e(),n=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var a;(function(o){o.Strict="strict",o.Pragmatic="pragmatic",o.None="none"})(a=t.IriValidationStrategy||(t.IriValidationStrategy={}));function s(o,u=a.Strict){switch(u){case a.Strict:return r.test(o)?void 0:new Error(`Invalid IRI according to RFC 3987: '${o}'`);case a.Pragmatic:return n.test(o)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${o}'`);case a.None:return;default:return new Error(`Not supported validation strategy "${u}"`)}}t.validateIri=s})(yZ);(function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(yZ,t)})(pZ);Object.defineProperty(Xd,"__esModule",{value:!0});Xd.ParseType=Xd.RdfXmlParser=void 0;const H7=_a,qxe=Yc,Q7=Pt,$xe=lT,Uxe=Ot,jO=pZ;class tr extends Q7.Transform{constructor(e){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},e&&(Object.assign(this,e),this.options=e),this.dataFactory||(this.dataFactory=new Uxe.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?jO.IriValidationStrategy.Pragmatic:jO.IriValidationStrategy.None),this.saxParser=new qxe.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(e){const r=new Q7.PassThrough({readableObjectMode:!0});e.on("error",a=>n.emit("error",a)),e.on("data",a=>r.push(a)),e.on("end",()=>r.push(null));const n=r.pipe(new tr(this.options));return n}_transform(e,r,n){try{this.saxParser.write(e)}catch(a){return n(a)}n()}newParseError(e){return new $xe.ParseError(this,e)}valueToUri(e,r){return this.uriToNamedNode((0,H7.resolve)(e,r.baseIRI))}uriToNamedNode(e){const r=(0,jO.validateIri)(e,this.iriValidationStrategy);if(r instanceof Error)throw this.newParseError(r.message);return this.dataFactory.namedNode(e)}validateNcname(e){if(!tr.NCNAME_MATCHER.test(e))throw this.newParseError(`Not a valid NCName: ${e}`)}attachSaxListeners(){this.saxParser.on("error",e=>this.emit("error",e)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(e){const r=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let n=to.RESOURCE;if(r&&(r.hadChildren=!0,n=r.childrenParseType),r&&r.childrenStringTags){const s=e.name;let o="";for(const d in e.attributes)o+=` ${d}="${e.attributes[d].value}"`;const c=`<${`${s}${o}`}>`;r.childrenStringTags.push(c);const l={childrenStringTags:r.childrenStringTags};l.childrenStringEmitClosingTag=`</${s}>`,this.activeTagStack.push(l);return}const a={};r?(a.language=r.language,a.baseIRI=r.baseIRI):a.baseIRI=this.baseIRI,this.activeTagStack.push(a),n===to.RESOURCE?this.onTagResource(e,a,r,!r):this.onTagProperty(e,a,r)}onTagResource(e,r,n,a){r.childrenParseType=to.PROPERTY;let s=!0;if(e.uri===tr.RDF){if(!a&&tr.FORBIDDEN_NODE_ELEMENTS.indexOf(e.local)>=0)throw this.newParseError(`Illegal node element name: ${e.local}`);switch(e.local){case"RDF":r.childrenParseType=to.RESOURCE;case"Description":s=!1}}const o=[],u=[];let c=null,l=!1,d=!1,f=null;for(const h in e.attributes){const p=e.attributes[h];if(n&&p.uri===tr.RDF)switch(p.local){case"about":if(c)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${p.value} and ${c} where found.`);c=p.value;continue;case"ID":if(c)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${p.value} and ${c} where found.`);this.validateNcname(p.value),c="#"+p.value,l=!0;continue;case"nodeID":if(c)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${p.value} and ${c} where found.`);this.validateNcname(p.value),c=p.value,d=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":f=p.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(p.uri===tr.XML){if(p.local==="lang"){r.language=p.value===""?null:p.value.toLowerCase();continue}else if(p.local==="base"){r.baseIRI=(0,H7.resolve)(p.value,r.baseIRI);continue}}p.prefix!=="xml"&&p.prefix!=="xmlns"&&(p.prefix!==""||p.local!=="xmlns")&&p.uri&&(o.push(this.uriToNamedNode(p.uri+p.local)),u.push(p.value))}if(c!==null&&(r.subject=d?this.dataFactory.blankNode(c):this.valueToUri(c,r),l&&this.claimNodeId(r.subject)),r.subject||(r.subject=this.dataFactory.blankNode()),s){const h=this.uriToNamedNode(e.uri+e.local);this.emitTriple(r.subject,this.dataFactory.namedNode(tr.RDF+"type"),h,n?n.reifiedStatementId:null)}if(n){if(n.predicate)if(n.childrenCollectionSubject){const h=this.dataFactory.blankNode();this.emitTriple(n.childrenCollectionSubject,n.childrenCollectionPredicate,h,n.reifiedStatementId),this.emitTriple(h,this.dataFactory.namedNode(tr.RDF+"first"),r.subject,r.reifiedStatementId),n.childrenCollectionSubject=h,n.childrenCollectionPredicate=this.dataFactory.namedNode(tr.RDF+"rest")}else{this.emitTriple(n.subject,n.predicate,r.subject,n.reifiedStatementId);for(let h=0;h<n.predicateSubPredicates.length;h++)this.emitTriple(r.subject,n.predicateSubPredicates[h],n.predicateSubObjects[h],null);n.predicateSubPredicates=[],n.predicateSubObjects=[],n.predicateEmitted=!0}for(let h=0;h<o.length;h++){const p=this.dataFactory.literal(u[h],r.datatype||r.language);this.emitTriple(r.subject,o[h],p,n.reifiedStatementId)}f&&this.emitTriple(r.subject,this.dataFactory.namedNode(tr.RDF+"type"),this.uriToNamedNode(f),null)}}onTagProperty(e,r,n){if(r.childrenParseType=to.RESOURCE,r.subject=n.subject,e.uri===tr.RDF&&e.local==="li"?(n.listItemCounter||(n.listItemCounter=1),r.predicate=this.uriToNamedNode(e.uri+"_"+n.listItemCounter++)):r.predicate=this.uriToNamedNode(e.uri+e.local),e.uri===tr.RDF&&tr.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(e.local)>=0)throw this.newParseError(`Illegal property element name: ${e.local}`);r.predicateSubPredicates=[],r.predicateSubObjects=[];let a=!1,s=!1,o=null,u=!0;const c=[],l=[];for(const d in e.attributes){const f=e.attributes[d];if(f.uri===tr.RDF)switch(f.local){case"resource":if(o)throw this.newParseError(`Found both rdf:resource (${f.value}) and rdf:nodeID (${o}).`);if(a)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${f.value})`);r.hadChildren=!0,o=f.value,u=!1;continue;case"datatype":if(s)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${f.value}).`);if(a)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${f.value})`);r.datatype=this.valueToUri(f.value,r);continue;case"nodeID":if(s)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${f.value}).`);if(r.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${f.value}).`);if(a)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${f.value})`);this.validateNcname(f.value),r.hadChildren=!0,o=f.value,u=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(s)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(r.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${r.datatype.value})`);if(o)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${o})`);if(f.value==="Resource"){a=!0,r.childrenParseType=to.PROPERTY;const h=this.dataFactory.blankNode();this.emitTriple(r.subject,r.predicate,h,r.reifiedStatementId),r.subject=h,r.predicate=null}else f.value==="Collection"?(a=!0,r.hadChildren=!0,r.childrenCollectionSubject=r.subject,r.childrenCollectionPredicate=r.predicate,u=!1):f.value==="Literal"&&(a=!0,r.childrenTagsToString=!0,r.childrenStringTags=[]);continue;case"ID":this.validateNcname(f.value),r.reifiedStatementId=this.valueToUri("#"+f.value,r),this.claimNodeId(r.reifiedStatementId);continue}else if(f.uri===tr.XML&&f.local==="lang"){r.language=f.value===""?null:f.value.toLowerCase();continue}if(f.prefix!=="xml"&&f.prefix!=="xmlns"&&(f.prefix!==""||f.local!=="xmlns")&&f.uri){if(a||r.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${f.value}`);r.hadChildren=!0,s=!0,c.push(this.uriToNamedNode(f.uri+f.local)),l.push(this.dataFactory.literal(f.value,r.datatype||r.language))}}if(o!==null){const d=r.subject;r.subject=u?this.dataFactory.blankNode(o):this.valueToUri(o,r),this.emitTriple(d,r.predicate,r.subject,r.reifiedStatementId);for(let f=0;f<c.length;f++)this.emitTriple(r.subject,c[f],l[f],null);r.predicateEmitted=!0}else u&&(r.predicateSubPredicates=c,r.predicateSubObjects=l,r.predicateEmitted=!1)}emitTriple(e,r,n,a){this.push(this.dataFactory.quad(e,r,n,this.defaultGraph)),a&&(this.push(this.dataFactory.quad(a,this.dataFactory.namedNode(tr.RDF+"type"),this.dataFactory.namedNode(tr.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(a,this.dataFactory.namedNode(tr.RDF+"subject"),e,this.defaultGraph)),this.push(this.dataFactory.quad(a,this.dataFactory.namedNode(tr.RDF+"predicate"),r,this.defaultGraph)),this.push(this.dataFactory.quad(a,this.dataFactory.namedNode(tr.RDF+"object"),n,this.defaultGraph)))}claimNodeId(e){if(!this.allowDuplicateRdfIds){if(this.nodeIds[e.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${e.value}'.`);this.nodeIds[e.value]=!0}}onText(e){const r=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;r&&(r.childrenStringTags?r.childrenStringTags.push(e):r.predicate&&(r.text=e))}onCloseTag(){const e=this.activeTagStack.pop();if(e.childrenStringEmitClosingTag&&e.childrenStringTags.push(e.childrenStringEmitClosingTag),e.childrenTagsToString&&(e.datatype=this.dataFactory.namedNode(tr.RDF+"XMLLiteral"),e.text=e.childrenStringTags.join(""),e.hadChildren=!1),e.childrenCollectionSubject)this.emitTriple(e.childrenCollectionSubject,e.childrenCollectionPredicate,this.dataFactory.namedNode(tr.RDF+"nil"),e.reifiedStatementId);else if(e.predicate){if(!e.hadChildren&&e.childrenParseType!==to.PROPERTY)this.emitTriple(e.subject,e.predicate,this.dataFactory.literal(e.text||"",e.datatype||e.language),e.reifiedStatementId);else if(!e.predicateEmitted){const r=this.dataFactory.blankNode();this.emitTriple(e.subject,e.predicate,r,e.reifiedStatementId);for(let n=0;n<e.predicateSubPredicates.length;n++)this.emitTriple(r,e.predicateSubPredicates[n],e.predicateSubObjects[n],null)}}}onDoctype(e){e.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(r,n,a)=>(this.saxParser.ENTITIES[n]=a,""))}}Xd.RdfXmlParser=tr;tr.MIME_TYPE="application/rdf+xml";tr.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";tr.XML="http://www.w3.org/XML/1998/namespace";tr.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"];tr.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"];tr.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var to;(function(t){t[t.RESOURCE=0]="RESOURCE",t[t.PROPERTY=1]="PROPERTY"})(to||(Xd.ParseType=to={}));(function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Xd,t)})(aZ);var z7;function kxe(){if(z7)return e0;z7=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.ActorRdfParseRdfXml=void 0;const t=Df(),e=aZ;let r=class extends t.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a){var o;a.data.on("error",u=>s.emit("error",u));const s=a.data.pipe(new e.RdfXmlParser({baseIRI:(o=a.metadata)==null?void 0:o.baseIRI}));return{data:s,metadata:{triples:!0}}}};return e0.ActorRdfParseRdfXml=r,e0}var G7;function Vxe(){return G7||(G7=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kxe(),t)}(TO)),TO}var MO={},n0={},GC={},mZ={};Object.defineProperty(mZ,"__esModule",{value:!0});var gZ={};Object.defineProperty(gZ,"__esModule",{value:!0});var _Z={};Object.defineProperty(_Z,"__esModule",{value:!0});var dT={},WC={},Eb={},KC={},Zc={},JC={};Object.defineProperty(JC,"__esModule",{value:!0});JC.default=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(function(t){return t.charCodeAt(0)}));var XC={};Object.defineProperty(XC,"__esModule",{value:!0});XC.default=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(function(t){return t.charCodeAt(0)}));var GP={};(function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);t.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(s){var o="";return s>65535&&(s-=65536,o+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),o+=String.fromCharCode(s),o};function n(s){var o;return s>=55296&&s<=57343||s>1114111?65533:(o=r.get(s))!==null&&o!==void 0?o:s}t.replaceCodePoint=n;function a(s){return(0,t.fromCodePoint)(n(s))}t.default=a})(GP);(function(t){var e=I&&I.__createBinding||(Object.create?function(j,N,V,$){$===void 0&&($=V);var q=Object.getOwnPropertyDescriptor(N,V);(!q||("get"in q?!N.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return N[V]}}),Object.defineProperty(j,$,q)}:function(j,N,V,$){$===void 0&&($=V),j[$]=N[V]}),r=I&&I.__setModuleDefault||(Object.create?function(j,N){Object.defineProperty(j,"default",{enumerable:!0,value:N})}:function(j,N){j.default=N}),n=I&&I.__importStar||function(j){if(j&&j.__esModule)return j;var N={};if(j!=null)for(var V in j)V!=="default"&&Object.prototype.hasOwnProperty.call(j,V)&&e(N,j,V);return r(N,j),N},a=I&&I.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var s=a(JC);t.htmlDecodeTree=s.default;var o=a(XC);t.xmlDecodeTree=o.default;var u=n(GP);t.decodeCodePoint=u.default;var c=GP;Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return c.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return c.fromCodePoint}});var l;(function(j){j[j.NUM=35]="NUM",j[j.SEMI=59]="SEMI",j[j.EQUALS=61]="EQUALS",j[j.ZERO=48]="ZERO",j[j.NINE=57]="NINE",j[j.LOWER_A=97]="LOWER_A",j[j.LOWER_F=102]="LOWER_F",j[j.LOWER_X=120]="LOWER_X",j[j.LOWER_Z=122]="LOWER_Z",j[j.UPPER_A=65]="UPPER_A",j[j.UPPER_F=70]="UPPER_F",j[j.UPPER_Z=90]="UPPER_Z"})(l||(l={}));var d=32,f;(function(j){j[j.VALUE_LENGTH=49152]="VALUE_LENGTH",j[j.BRANCH_LENGTH=16256]="BRANCH_LENGTH",j[j.JUMP_TABLE=127]="JUMP_TABLE"})(f=t.BinTrieFlags||(t.BinTrieFlags={}));function h(j){return j>=l.ZERO&&j<=l.NINE}function p(j){return j>=l.UPPER_A&&j<=l.UPPER_F||j>=l.LOWER_A&&j<=l.LOWER_F}function m(j){return j>=l.UPPER_A&&j<=l.UPPER_Z||j>=l.LOWER_A&&j<=l.LOWER_Z||h(j)}function y(j){return j===l.EQUALS||m(j)}var g;(function(j){j[j.EntityStart=0]="EntityStart",j[j.NumericStart=1]="NumericStart",j[j.NumericDecimal=2]="NumericDecimal",j[j.NumericHex=3]="NumericHex",j[j.NamedEntity=4]="NamedEntity"})(g||(g={}));var b;(function(j){j[j.Legacy=0]="Legacy",j[j.Strict=1]="Strict",j[j.Attribute=2]="Attribute"})(b=t.DecodingMode||(t.DecodingMode={}));var v=function(){function j(N,V,$){this.decodeTree=N,this.emitCodePoint=V,this.errors=$,this.state=g.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=b.Strict}return j.prototype.startEntity=function(N){this.decodeMode=N,this.state=g.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},j.prototype.write=function(N,V){switch(this.state){case g.EntityStart:return N.charCodeAt(V)===l.NUM?(this.state=g.NumericStart,this.consumed+=1,this.stateNumericStart(N,V+1)):(this.state=g.NamedEntity,this.stateNamedEntity(N,V));case g.NumericStart:return this.stateNumericStart(N,V);case g.NumericDecimal:return this.stateNumericDecimal(N,V);case g.NumericHex:return this.stateNumericHex(N,V);case g.NamedEntity:return this.stateNamedEntity(N,V)}},j.prototype.stateNumericStart=function(N,V){return V>=N.length?-1:(N.charCodeAt(V)|d)===l.LOWER_X?(this.state=g.NumericHex,this.consumed+=1,this.stateNumericHex(N,V+1)):(this.state=g.NumericDecimal,this.stateNumericDecimal(N,V))},j.prototype.addToNumericResult=function(N,V,$,q){if(V!==$){var H=$-V;this.result=this.result*Math.pow(q,H)+parseInt(N.substr(V,H),q),this.consumed+=H}},j.prototype.stateNumericHex=function(N,V){for(var $=V;V<N.length;){var q=N.charCodeAt(V);if(h(q)||p(q))V+=1;else return this.addToNumericResult(N,$,V,16),this.emitNumericEntity(q,3)}return this.addToNumericResult(N,$,V,16),-1},j.prototype.stateNumericDecimal=function(N,V){for(var $=V;V<N.length;){var q=N.charCodeAt(V);if(h(q))V+=1;else return this.addToNumericResult(N,$,V,10),this.emitNumericEntity(q,2)}return this.addToNumericResult(N,$,V,10),-1},j.prototype.emitNumericEntity=function(N,V){var $;if(this.consumed<=V)return($=this.errors)===null||$===void 0||$.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(N===l.SEMI)this.consumed+=1;else if(this.decodeMode===b.Strict)return 0;return this.emitCodePoint((0,u.replaceCodePoint)(this.result),this.consumed),this.errors&&(N!==l.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},j.prototype.stateNamedEntity=function(N,V){for(var $=this.decodeTree,q=$[this.treeIndex],H=(q&f.VALUE_LENGTH)>>14;V<N.length;V++,this.excess++){var X=N.charCodeAt(V);if(this.treeIndex=w($,q,this.treeIndex+Math.max(1,H),X),this.treeIndex<0)return this.result===0||this.decodeMode===b.Attribute&&(H===0||y(X))?0:this.emitNotTerminatedNamedEntity();if(q=$[this.treeIndex],H=(q&f.VALUE_LENGTH)>>14,H!==0){if(X===l.SEMI)return this.emitNamedEntityData(this.treeIndex,H,this.consumed+this.excess);this.decodeMode!==b.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},j.prototype.emitNotTerminatedNamedEntity=function(){var N,V=this,$=V.result,q=V.decodeTree,H=(q[$]&f.VALUE_LENGTH)>>14;return this.emitNamedEntityData($,H,this.consumed),(N=this.errors)===null||N===void 0||N.missingSemicolonAfterCharacterReference(),this.consumed},j.prototype.emitNamedEntityData=function(N,V,$){var q=this.decodeTree;return this.emitCodePoint(V===1?q[N]&~f.VALUE_LENGTH:q[N+1],$),V===3&&this.emitCodePoint(q[N+2],$),$},j.prototype.end=function(){var N;switch(this.state){case g.NamedEntity:return this.result!==0&&(this.decodeMode!==b.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case g.NumericDecimal:return this.emitNumericEntity(0,2);case g.NumericHex:return this.emitNumericEntity(0,3);case g.NumericStart:return(N=this.errors)===null||N===void 0||N.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case g.EntityStart:return 0}},j}();t.EntityDecoder=v;function _(j){var N="",V=new v(j,function($){return N+=(0,u.fromCodePoint)($)});return function(q,H){for(var X=0,Y=0;(Y=q.indexOf("&",Y))>=0;){N+=q.slice(X,Y),V.startEntity(H);var he=V.write(q,Y+1);if(he<0){X=Y+V.end();break}X=Y+he,Y=he===0?X+1:X}var Te=N+q.slice(X);return N="",Te}}function w(j,N,V,$){var q=(N&f.BRANCH_LENGTH)>>7,H=N&f.JUMP_TABLE;if(q===0)return H!==0&&$===H?V:-1;if(H){var X=$-H;return X<0||X>=q?-1:j[V+X]-1}for(var Y=V,he=Y+q-1;Y<=he;){var Te=Y+he>>>1,Ne=j[Te];if(Ne<$)Y=Te+1;else if(Ne>$)he=Te-1;else return j[Te+q]}return-1}t.determineBranch=w;var E=_(s.default),O=_(o.default);function L(j,N){return N===void 0&&(N=b.Legacy),E(j,N)}t.decodeHTML=L;function F(j){return E(j,b.Attribute)}t.decodeHTMLAttribute=F;function x(j){return E(j,b.Strict)}t.decodeHTMLStrict=x;function P(j){return O(j,b.Strict)}t.decodeXML=P})(Zc);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=Zc,r;(function(h){h[h.Tab=9]="Tab",h[h.NewLine=10]="NewLine",h[h.FormFeed=12]="FormFeed",h[h.CarriageReturn=13]="CarriageReturn",h[h.Space=32]="Space",h[h.ExclamationMark=33]="ExclamationMark",h[h.Number=35]="Number",h[h.Amp=38]="Amp",h[h.SingleQuote=39]="SingleQuote",h[h.DoubleQuote=34]="DoubleQuote",h[h.Dash=45]="Dash",h[h.Slash=47]="Slash",h[h.Zero=48]="Zero",h[h.Nine=57]="Nine",h[h.Semi=59]="Semi",h[h.Lt=60]="Lt",h[h.Eq=61]="Eq",h[h.Gt=62]="Gt",h[h.Questionmark=63]="Questionmark",h[h.UpperA=65]="UpperA",h[h.LowerA=97]="LowerA",h[h.UpperF=70]="UpperF",h[h.LowerF=102]="LowerF",h[h.UpperZ=90]="UpperZ",h[h.LowerZ=122]="LowerZ",h[h.LowerX=120]="LowerX",h[h.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(h){h[h.Text=1]="Text",h[h.BeforeTagName=2]="BeforeTagName",h[h.InTagName=3]="InTagName",h[h.InSelfClosingTag=4]="InSelfClosingTag",h[h.BeforeClosingTagName=5]="BeforeClosingTagName",h[h.InClosingTagName=6]="InClosingTagName",h[h.AfterClosingTagName=7]="AfterClosingTagName",h[h.BeforeAttributeName=8]="BeforeAttributeName",h[h.InAttributeName=9]="InAttributeName",h[h.AfterAttributeName=10]="AfterAttributeName",h[h.BeforeAttributeValue=11]="BeforeAttributeValue",h[h.InAttributeValueDq=12]="InAttributeValueDq",h[h.InAttributeValueSq=13]="InAttributeValueSq",h[h.InAttributeValueNq=14]="InAttributeValueNq",h[h.BeforeDeclaration=15]="BeforeDeclaration",h[h.InDeclaration=16]="InDeclaration",h[h.InProcessingInstruction=17]="InProcessingInstruction",h[h.BeforeComment=18]="BeforeComment",h[h.CDATASequence=19]="CDATASequence",h[h.InSpecialComment=20]="InSpecialComment",h[h.InCommentLike=21]="InCommentLike",h[h.BeforeSpecialS=22]="BeforeSpecialS",h[h.SpecialStartSequence=23]="SpecialStartSequence",h[h.InSpecialTag=24]="InSpecialTag",h[h.BeforeEntity=25]="BeforeEntity",h[h.BeforeNumericEntity=26]="BeforeNumericEntity",h[h.InNamedEntity=27]="InNamedEntity",h[h.InNumericEntity=28]="InNumericEntity",h[h.InHexEntity=29]="InHexEntity"})(n||(n={}));function a(h){return h===r.Space||h===r.NewLine||h===r.Tab||h===r.FormFeed||h===r.CarriageReturn}function s(h){return h===r.Slash||h===r.Gt||a(h)}function o(h){return h>=r.Zero&&h<=r.Nine}function u(h){return h>=r.LowerA&&h<=r.LowerZ||h>=r.UpperA&&h<=r.UpperZ}function c(h){return h>=r.UpperA&&h<=r.UpperF||h>=r.LowerA&&h<=r.LowerF}var l;(function(h){h[h.NoValue=0]="NoValue",h[h.Unquoted=1]="Unquoted",h[h.Single=2]="Single",h[h.Double=3]="Double"})(l=t.QuoteType||(t.QuoteType={}));var d={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},f=function(){function h(p,m){var y=p.xmlMode,g=y===void 0?!1:y,b=p.decodeEntities,v=b===void 0?!0:b;this.cbs=m,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=g,this.decodeEntities=v,this.entityTrie=g?e.xmlDecodeTree:e.htmlDecodeTree}return h.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},h.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},h.prototype.end=function(){this.running&&this.finish()},h.prototype.pause=function(){this.running=!1},h.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},h.prototype.getIndex=function(){return this.index},h.prototype.getSectionStart=function(){return this.sectionStart},h.prototype.stateText=function(p){p===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity)},h.prototype.stateSpecialStartSequence=function(p){var m=this.sequenceIndex===this.currentSequence.length,y=m?s(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!y)this.isSpecial=!1;else if(!m){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(p)},h.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===r.Gt||a(p)){var m=this.index-this.currentSequence.length;if(this.sectionStart<m){var y=this.index;this.index=m,this.cbs.ontext(this.sectionStart,m),this.index=y}this.isSpecial=!1,this.sectionStart=m+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===d.TitleEnd?this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===r.Lt)},h.prototype.stateCDATASequence=function(p){p===d.Cdata[this.sequenceIndex]?++this.sequenceIndex===d.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=d.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(p))},h.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},h.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},h.prototype.isTagStartChar=function(p){return this.xmlMode?!s(p):u(p)},h.prototype.startSpecial=function(p,m){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=m,this.state=n.SpecialStartSequence},h.prototype.stateBeforeTagName=function(p){if(p===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var m=p|32;this.sectionStart=this.index,!this.xmlMode&&m===d.TitleEnd[2]?this.startSpecial(d.TitleEnd,3):this.state=!this.xmlMode&&m===d.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else p===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(p))},h.prototype.stateInTagName=function(p){s(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateBeforeClosingTagName=function(p){a(p)||(p===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(p)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},h.prototype.stateInClosingTagName=function(p){(p===r.Gt||a(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(p))},h.prototype.stateAfterClosingTagName=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeAttributeName=function(p){p===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===r.Slash?this.state=n.InSelfClosingTag:a(p)||(this.state=n.InAttributeName,this.sectionStart=this.index)},h.prototype.stateInSelfClosingTag=function(p){p===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(p)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateInAttributeName=function(p){(p===r.Eq||s(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(p))},h.prototype.stateAfterAttributeName=function(p){p===r.Eq?this.state=n.BeforeAttributeValue:p===r.Slash||p===r.Gt?(this.cbs.onattribend(l.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):a(p)||(this.cbs.onattribend(l.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},h.prototype.stateBeforeAttributeValue=function(p){p===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):p===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(p)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},h.prototype.handleInAttributeValue=function(p,m){p===m||!this.decodeEntities&&this.fastForwardTo(m)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(m===r.DoubleQuote?l.Double:l.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},h.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,r.DoubleQuote)},h.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,r.SingleQuote)},h.prototype.stateInAttributeValueNoQuotes=function(p){a(p)||p===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(l.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},h.prototype.stateBeforeDeclaration=function(p){p===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=p===r.Dash?n.BeforeComment:n.InDeclaration},h.prototype.stateInDeclaration=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateInProcessingInstruction=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeComment=function(p){p===r.Dash?(this.state=n.InCommentLike,this.currentSequence=d.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},h.prototype.stateInSpecialComment=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeSpecialS=function(p){var m=p|32;m===d.ScriptEnd[3]?this.startSpecial(d.ScriptEnd,4):m===d.StyleEnd[3]?this.startSpecial(d.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(p))},h.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===r.Number?this.state=n.BeforeNumericEntity:p===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(p))},h.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var m=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(m){var y=(m>>14)-1;if(!this.allowLegacyEntity()&&p!==r.Semi)this.trieIndex+=y;else{var g=this.index-this.entityExcess+1;g>this.sectionStart&&this.emitPartial(this.sectionStart,g),this.entityResult=this.trieIndex,this.trieIndex+=y,this.entityExcess=0,this.sectionStart=this.index+1,y===0&&this.emitNamedEntity()}}},h.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},h.prototype.stateBeforeNumericEntity=function(p){(p|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(p))},h.prototype.emitNumericEntity=function(p){var m=this.index-this.entityExcess-1,y=m+2+ +(this.state===n.InHexEntity);y!==this.index&&(m>this.sectionStart&&this.emitPartial(this.sectionStart,m),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},h.prototype.stateInNumericEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*10+(p-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.stateInHexEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*16+(p-r.Zero),this.entityExcess++):c(p)?(this.entityResult=this.entityResult*16+((p|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},h.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},h.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},h.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(p);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case n.InSpecialTag:{this.stateInSpecialTag(p);break}case n.CDATASequence:{this.stateCDATASequence(p);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case n.InAttributeName:{this.stateInAttributeName(p);break}case n.InCommentLike:{this.stateInCommentLike(p);break}case n.InSpecialComment:{this.stateInSpecialComment(p);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case n.InTagName:{this.stateInTagName(p);break}case n.InClosingTagName:{this.stateInClosingTagName(p);break}case n.BeforeTagName:{this.stateBeforeTagName(p);break}case n.AfterAttributeName:{this.stateAfterAttributeName(p);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case n.InDeclaration:{this.stateInDeclaration(p);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case n.BeforeComment:{this.stateBeforeComment(p);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case n.InNamedEntity:{this.stateInNamedEntity(p);break}case n.BeforeEntity:{this.stateBeforeEntity(p);break}case n.InHexEntity:{this.stateInHexEntity(p);break}case n.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},h.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},h.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},h.prototype.emitPartial=function(p,m){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(p,m):this.cbs.ontext(p,m)},h.prototype.emitCodePoint=function(p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},h}();t.default=f})(KC);var Hxe=I&&I.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Qxe=I&&I.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zxe=I&&I.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Hxe(e,t,r);return Qxe(e,t),e};Object.defineProperty(Eb,"__esModule",{value:!0});Eb.Parser=void 0;var Hv=zxe(KC),W7=Zc,Fl=new Set(["input","option","optgroup","select","button","datalist","textarea"]),cr=new Set(["p"]),K7=new Set(["thead","tbody"]),J7=new Set(["dd","dt"]),X7=new Set(["rt","rp"]),Gxe=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",cr],["h1",cr],["h2",cr],["h3",cr],["h4",cr],["h5",cr],["h6",cr],["select",Fl],["input",Fl],["output",Fl],["button",Fl],["datalist",Fl],["textarea",Fl],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",J7],["dt",J7],["address",cr],["article",cr],["aside",cr],["blockquote",cr],["details",cr],["div",cr],["dl",cr],["fieldset",cr],["figcaption",cr],["figure",cr],["footer",cr],["form",cr],["header",cr],["hr",cr],["main",cr],["nav",cr],["ol",cr],["pre",cr],["section",cr],["table",cr],["ul",cr],["rt",X7],["rp",X7],["tbody",K7],["tfoot",K7]]),Wxe=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Y7=new Set(["math","svg"]),Z7=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Kxe=/\s|\//,Jxe=function(){function t(e,r){r===void 0&&(r={});var n,a,s,o,u;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:!r.xmlMode,this.lowerCaseAttributeNames=(a=r.lowerCaseAttributeNames)!==null&&a!==void 0?a:!r.xmlMode,this.tokenizer=new((s=r.Tokenizer)!==null&&s!==void 0?s:Hv.default)(this.options,this),(u=(o=this.cbs).onparserinit)===null||u===void 0||u.call(o,this)}return t.prototype.ontext=function(e,r){var n,a,s=this.getSlice(e,r);this.endIndex=r-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,s),this.startIndex=r},t.prototype.ontextentity=function(e){var r,n,a=this.tokenizer.getSectionStart();this.endIndex=a-1,(n=(r=this.cbs).ontext)===null||n===void 0||n.call(r,(0,W7.fromCodePoint)(e)),this.startIndex=a},t.prototype.isVoidElement=function(e){return!this.options.xmlMode&&Wxe.has(e)},t.prototype.onopentagname=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},t.prototype.emitOpenTag=function(e){var r,n,a,s;this.openTagStart=this.startIndex,this.tagname=e;var o=!this.options.xmlMode&&Gxe.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[this.stack.length-1]);){var u=this.stack.pop();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,u,!0)}this.isVoidElement(e)||(this.stack.push(e),Y7.has(e)?this.foreignContext.push(!0):Z7.has(e)&&this.foreignContext.push(!1)),(s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,e),this.cbs.onopentag&&(this.attribs={})},t.prototype.endOpenTag=function(e){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},t.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},t.prototype.onclosetag=function(e,r){var n,a,s,o,u,c;this.endIndex=r;var l=this.getSlice(e,r);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),(Y7.has(l)||Z7.has(l))&&this.foreignContext.pop(),this.isVoidElement(l))!this.options.xmlMode&&l==="br"&&((a=(n=this.cbs).onopentagname)===null||a===void 0||a.call(n,"br"),(o=(s=this.cbs).onopentag)===null||o===void 0||o.call(s,"br",{},!0),(c=(u=this.cbs).onclosetag)===null||c===void 0||c.call(u,"br",!1));else{var d=this.stack.lastIndexOf(l);if(d!==-1)if(this.cbs.onclosetag)for(var f=this.stack.length-d;f--;)this.cbs.onclosetag(this.stack.pop(),f!==0);else this.stack.length=d;else!this.options.xmlMode&&l==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1},t.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},t.prototype.closeCurrentTag=function(e){var r,n,a=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===a&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,a,!e),this.stack.pop())},t.prototype.onattribname=function(e,r){this.startIndex=e;var n=this.getSlice(e,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},t.prototype.onattribdata=function(e,r){this.attribvalue+=this.getSlice(e,r)},t.prototype.onattribentity=function(e){this.attribvalue+=(0,W7.fromCodePoint)(e)},t.prototype.onattribend=function(e,r){var n,a;this.endIndex=r,(a=(n=this.cbs).onattribute)===null||a===void 0||a.call(n,this.attribname,this.attribvalue,e===Hv.QuoteType.Double?'"':e===Hv.QuoteType.Single?"'":e===Hv.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},t.prototype.getInstructionName=function(e){var r=e.search(Kxe),n=r<0?e:e.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},t.prototype.ondeclaration=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(a),"!".concat(n))}this.startIndex=r+1},t.prototype.onprocessinginstruction=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(a),"?".concat(n))}this.startIndex=r+1},t.prototype.oncomment=function(e,r,n){var a,s,o,u;this.endIndex=r,(s=(a=this.cbs).oncomment)===null||s===void 0||s.call(a,this.getSlice(e,r-n)),(u=(o=this.cbs).oncommentend)===null||u===void 0||u.call(o),this.startIndex=r+1},t.prototype.oncdata=function(e,r,n){var a,s,o,u,c,l,d,f,h,p;this.endIndex=r;var m=this.getSlice(e,r-n);this.options.xmlMode||this.options.recognizeCDATA?((s=(a=this.cbs).oncdatastart)===null||s===void 0||s.call(a),(u=(o=this.cbs).ontext)===null||u===void 0||u.call(o,m),(l=(c=this.cbs).oncdataend)===null||l===void 0||l.call(c)):((f=(d=this.cbs).oncomment)===null||f===void 0||f.call(d,"[CDATA[".concat(m,"]]")),(p=(h=this.cbs).oncommentend)===null||p===void 0||p.call(h)),this.startIndex=r+1},t.prototype.onend=function(){var e,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}(r=(e=this.cbs).onend)===null||r===void 0||r.call(e)},t.prototype.reset=function(){var e,r,n,a;(r=(e=this.cbs).onreset)===null||r===void 0||r.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(n=this.cbs).onparserinit)===null||a===void 0||a.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.getSlice=function(e,r){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,r-this.bufferOffset);r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n},t.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},t.prototype.write=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},t.prototype.end=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},t.prototype.parseChunk=function(e){this.write(e)},t.prototype.done=function(e){this.end(e)},t}();Eb.Parser=Jxe;var qa={},yl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function r(n){return n.type===e.Tag||n.type===e.Script||n.type===e.Style}t.isTag=r,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(yl);var kt={},Lu=I&&I.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X_=I&&I.__assign||function(){return X_=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},X_.apply(this,arguments)};Object.defineProperty(kt,"__esModule",{value:!0});kt.cloneNode=kt.hasChildren=kt.isDocument=kt.isDirective=kt.isComment=kt.isText=kt.isCDATA=kt.isTag=kt.Element=kt.Document=kt.CDATA=kt.NodeWithChildren=kt.ProcessingInstruction=kt.Comment=kt.Text=kt.DataNode=kt.Node=void 0;var Ti=yl,YC=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),ZC(this,e)},t}();kt.Node=YC;var fT=function(t){Lu(e,t);function e(r){var n=t.call(this)||this;return n.data=r,n}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),e}(YC);kt.DataNode=fT;var bZ=function(t){Lu(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=Ti.ElementType.Text,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(fT);kt.Text=bZ;var vZ=function(t){Lu(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=Ti.ElementType.Comment,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(fT);kt.Comment=vZ;var wZ=function(t){Lu(e,t);function e(r,n){var a=t.call(this,n)||this;return a.name=r,a.type=Ti.ElementType.Directive,a}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(fT);kt.ProcessingInstruction=wZ;var hT=function(t){Lu(e,t);function e(r){var n=t.call(this)||this;return n.children=r,n}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),e}(YC);kt.NodeWithChildren=hT;var SZ=function(t){Lu(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=Ti.ElementType.CDATA,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(hT);kt.CDATA=SZ;var TZ=function(t){Lu(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=Ti.ElementType.Root,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(hT);kt.Document=TZ;var EZ=function(t){Lu(e,t);function e(r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=r==="script"?Ti.ElementType.Script:r==="style"?Ti.ElementType.Style:Ti.ElementType.Tag);var o=t.call(this,a)||this;return o.name=r,o.attribs=n,o.type=s,o}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(n){var a,s;return{name:n,value:r.attribs[n],namespace:(a=r["x-attribsNamespace"])===null||a===void 0?void 0:a[n],prefix:(s=r["x-attribsPrefix"])===null||s===void 0?void 0:s[n]}})},enumerable:!1,configurable:!0}),e}(hT);kt.Element=EZ;function AZ(t){return(0,Ti.isTag)(t)}kt.isTag=AZ;function OZ(t){return t.type===Ti.ElementType.CDATA}kt.isCDATA=OZ;function RZ(t){return t.type===Ti.ElementType.Text}kt.isText=RZ;function xZ(t){return t.type===Ti.ElementType.Comment}kt.isComment=xZ;function IZ(t){return t.type===Ti.ElementType.Directive}kt.isDirective=IZ;function PZ(t){return t.type===Ti.ElementType.Root}kt.isDocument=PZ;function Xxe(t){return Object.prototype.hasOwnProperty.call(t,"children")}kt.hasChildren=Xxe;function ZC(t,e){e===void 0&&(e=!1);var r;if(RZ(t))r=new bZ(t.data);else if(xZ(t))r=new vZ(t.data);else if(AZ(t)){var n=e?FO(t.children):[],a=new EZ(t.name,X_({},t.attribs),n);n.forEach(function(c){return c.parent=a}),t.namespace!=null&&(a.namespace=t.namespace),t["x-attribsNamespace"]&&(a["x-attribsNamespace"]=X_({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(a["x-attribsPrefix"]=X_({},t["x-attribsPrefix"])),r=a}else if(OZ(t)){var n=e?FO(t.children):[],s=new SZ(n);n.forEach(function(l){return l.parent=s}),r=s}else if(PZ(t)){var n=e?FO(t.children):[],o=new TZ(n);n.forEach(function(l){return l.parent=o}),t["x-mode"]&&(o["x-mode"]=t["x-mode"]),r=o}else if(IZ(t)){var u=new wZ(t.name,t.data);t["x-name"]!=null&&(u["x-name"]=t["x-name"],u["x-publicId"]=t["x-publicId"],u["x-systemId"]=t["x-systemId"]),r=u}else throw new Error("Not implemented yet: ".concat(t.type));return r.startIndex=t.startIndex,r.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(r.sourceCodeLocation=t.sourceCodeLocation),r}kt.cloneNode=ZC;function FO(t){for(var e=t.map(function(n){return ZC(n,!0)}),r=1;r<e.length;r++)e[r].prev=e[r-1],e[r-1].next=e[r];return e}(function(t){var e=I&&I.__createBinding||(Object.create?function(u,c,l,d){d===void 0&&(d=l);var f=Object.getOwnPropertyDescriptor(c,l);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[l]}}),Object.defineProperty(u,d,f)}:function(u,c,l,d){d===void 0&&(d=l),u[d]=c[l]}),r=I&&I.__exportStar||function(u,c){for(var l in u)l!=="default"&&!Object.prototype.hasOwnProperty.call(c,l)&&e(c,u,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var n=yl,a=kt;r(kt,t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function u(c,l,d){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof l=="function"&&(d=l,l=s),typeof c=="object"&&(l=c,c=void 0),this.callback=c??null,this.options=l??s,this.elementCB=d??null}return u.prototype.onparserinit=function(c){this.parser=c},u.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},u.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},u.prototype.onerror=function(c){this.handleCallback(c)},u.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},u.prototype.onopentag=function(c,l){var d=this.options.xmlMode?n.ElementType.Tag:void 0,f=new a.Element(c,l,void 0,d);this.addNode(f),this.tagStack.push(f)},u.prototype.ontext=function(c){var l=this.lastNode;if(l&&l.type===n.ElementType.Text)l.data+=c,this.options.withEndIndices&&(l.endIndex=this.parser.endIndex);else{var d=new a.Text(c);this.addNode(d),this.lastNode=d}},u.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=c;return}var l=new a.Comment(c);this.addNode(l),this.lastNode=l},u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=function(){var c=new a.Text(""),l=new a.CDATA([c]);this.addNode(l),c.parent=l,this.lastNode=c},u.prototype.oncdataend=function(){this.lastNode=null},u.prototype.onprocessinginstruction=function(c,l){var d=new a.ProcessingInstruction(c,l);this.addNode(d)},u.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},u.prototype.addNode=function(c){var l=this.tagStack[this.tagStack.length-1],d=l.children[l.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),l.children.push(c),d&&(c.prev=d,d.next=c),c.parent=l,this.lastNode=null},u}();t.DomHandler=o,t.default=o})(qa);var $c={},Mi={},O1={},NZ={},el={},e4={};Object.defineProperty(e4,"__esModule",{value:!0});function Qv(t){for(var e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}e4.default=new Map(Qv([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(Qv([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(Qv([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(Qv([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var PS={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);t.getCodePoint=String.prototype.codePointAt!=null?function(a,s){return a.codePointAt(s)}:function(a,s){return(a.charCodeAt(s)&64512)===55296?(a.charCodeAt(s)-55296)*1024+a.charCodeAt(s+1)-56320+65536:a.charCodeAt(s)};function r(a){for(var s="",o=0,u;(u=t.xmlReplacer.exec(a))!==null;){var c=u.index,l=a.charCodeAt(c),d=e.get(l);d!==void 0?(s+=a.substring(o,c)+d,o=c+1):(s+="".concat(a.substring(o,c),"&#x").concat((0,t.getCodePoint)(a,c).toString(16),";"),o=t.xmlReplacer.lastIndex+=+((l&64512)===55296))}return s+a.substr(o)}t.encodeXML=r,t.escape=r;function n(a,s){return function(u){for(var c,l=0,d="";c=a.exec(u);)l!==c.index&&(d+=u.substring(l,c.index)),d+=s.get(c[0].charCodeAt(0)),l=c.index+1;return d+u.substring(l)}}t.escapeUTF8=n(/[&<>'"]/g,e),t.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(PS);var Yxe=I&&I.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(el,"__esModule",{value:!0});el.encodeNonAsciiHTML=el.encodeHTML=void 0;var Zxe=Yxe(e4),DZ=PS,eIe=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function tIe(t){return CZ(eIe,t)}el.encodeHTML=tIe;function rIe(t){return CZ(DZ.xmlReplacer,t)}el.encodeNonAsciiHTML=rIe;function CZ(t,e){for(var r="",n=0,a;(a=t.exec(e))!==null;){var s=a.index;r+=e.substring(n,s);var o=e.charCodeAt(s),u=Zxe.default.get(o);if(typeof u=="object"){if(s+1<e.length){var c=e.charCodeAt(s+1),l=typeof u.n=="number"?u.n===c?u.o:void 0:u.n.get(c);if(l!==void 0){r+=l,n=t.lastIndex+=1;continue}}u=u.v}if(u!==void 0)r+=u,n=s+1;else{var d=(0,DZ.getCodePoint)(e,s);r+="&#x".concat(d.toString(16),";"),n=t.lastIndex+=+(d!==o)}}return r+e.substr(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var e=Zc,r=el,n=PS,a;(function(h){h[h.XML=0]="XML",h[h.HTML=1]="HTML"})(a=t.EntityLevel||(t.EntityLevel={}));var s;(function(h){h[h.UTF8=0]="UTF8",h[h.ASCII=1]="ASCII",h[h.Extensive=2]="Extensive",h[h.Attribute=3]="Attribute",h[h.Text=4]="Text"})(s=t.EncodingMode||(t.EncodingMode={}));function o(h,p){p===void 0&&(p=a.XML);var m=typeof p=="number"?p:p.level;if(m===a.HTML){var y=typeof p=="object"?p.mode:void 0;return(0,e.decodeHTML)(h,y)}return(0,e.decodeXML)(h)}t.decode=o;function u(h,p){var m;p===void 0&&(p=a.XML);var y=typeof p=="number"?{level:p}:p;return(m=y.mode)!==null&&m!==void 0||(y.mode=e.DecodingMode.Strict),o(h,y)}t.decodeStrict=u;function c(h,p){p===void 0&&(p=a.XML);var m=typeof p=="number"?{level:p}:p;return m.mode===s.UTF8?(0,n.escapeUTF8)(h):m.mode===s.Attribute?(0,n.escapeAttribute)(h):m.mode===s.Text?(0,n.escapeText)(h):m.level===a.HTML?m.mode===s.ASCII?(0,r.encodeNonAsciiHTML)(h):(0,r.encodeHTML)(h):(0,n.encodeXML)(h)}t.encode=c;var l=PS;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return l.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return l.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return l.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return l.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return l.escapeText}});var d=el;Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return d.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return d.encodeHTML}});var f=Zc;Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return f.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return f.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return f.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return f.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return f.decodeXML}})})(NZ);var Yd={};Object.defineProperty(Yd,"__esModule",{value:!0});Yd.attributeNames=Yd.elementNames=void 0;Yd.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(t){return[t.toLowerCase(),t]}));Yd.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(t){return[t.toLowerCase(),t]}));var sd=I&&I.__assign||function(){return sd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},sd.apply(this,arguments)},nIe=I&&I.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iIe=I&&I.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aIe=I&&I.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nIe(e,t,r);return iIe(e,t),e};Object.defineProperty(O1,"__esModule",{value:!0});O1.render=void 0;var ks=aIe(yl),NS=NZ,LZ=Yd,sIe=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function oIe(t){return t.replace(/"/g,"&quot;")}function uIe(t,e){var r;if(t){var n=((r=e.encodeEntities)!==null&&r!==void 0?r:e.decodeEntities)===!1?oIe:e.xmlMode||e.encodeEntities!=="utf8"?NS.encodeXML:NS.escapeAttribute;return Object.keys(t).map(function(a){var s,o,u=(s=t[a])!==null&&s!==void 0?s:"";return e.xmlMode==="foreign"&&(a=(o=LZ.attributeNames.get(a))!==null&&o!==void 0?o:a),!e.emptyAttrs&&!e.xmlMode&&u===""?a:"".concat(a,'="').concat(n(u),'"')}).join(" ")}}var eB=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function pT(t,e){e===void 0&&(e={});for(var r=("length"in t)?t:[t],n="",a=0;a<r.length;a++)n+=cIe(r[a],e);return n}O1.render=pT;O1.default=pT;function cIe(t,e){switch(t.type){case ks.Root:return pT(t.children,e);case ks.Doctype:case ks.Directive:return hIe(t);case ks.Comment:return mIe(t);case ks.CDATA:return yIe(t);case ks.Script:case ks.Style:case ks.Tag:return fIe(t,e);case ks.Text:return pIe(t,e)}}var lIe=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),dIe=new Set(["svg","math"]);function fIe(t,e){var r;e.xmlMode==="foreign"&&(t.name=(r=LZ.elementNames.get(t.name))!==null&&r!==void 0?r:t.name,t.parent&&lIe.has(t.parent.name)&&(e=sd(sd({},e),{xmlMode:!1}))),!e.xmlMode&&dIe.has(t.name)&&(e=sd(sd({},e),{xmlMode:"foreign"}));var n="<".concat(t.name),a=uIe(t.attribs,e);return a&&(n+=" ".concat(a)),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&eB.has(t.name))?(e.xmlMode||(n+=" "),n+="/>"):(n+=">",t.children.length>0&&(n+=pT(t.children,e)),(e.xmlMode||!eB.has(t.name))&&(n+="</".concat(t.name,">"))),n}function hIe(t){return"<".concat(t.data,">")}function pIe(t,e){var r,n=t.data||"";return((r=e.encodeEntities)!==null&&r!==void 0?r:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&sIe.has(t.parent.name))&&(n=e.xmlMode||e.encodeEntities!=="utf8"?(0,NS.encodeXML)(n):(0,NS.escapeText)(n)),n}function yIe(t){return"<![CDATA[".concat(t.children[0].data,"]]>")}function mIe(t){return"<!--".concat(t.data,"-->")}var gIe=I&&I.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.innerText=Mi.textContent=Mi.getText=Mi.getInnerHTML=Mi.getOuterHTML=void 0;var fs=qa,_Ie=gIe(O1),bIe=yl;function jZ(t,e){return(0,_Ie.default)(t,e)}Mi.getOuterHTML=jZ;function vIe(t,e){return(0,fs.hasChildren)(t)?t.children.map(function(r){return jZ(r,e)}).join(""):""}Mi.getInnerHTML=vIe;function Vw(t){return Array.isArray(t)?t.map(Vw).join(""):(0,fs.isTag)(t)?t.name==="br"?`
`:Vw(t.children):(0,fs.isCDATA)(t)?Vw(t.children):(0,fs.isText)(t)?t.data:""}Mi.getText=Vw;function WP(t){return Array.isArray(t)?t.map(WP).join(""):(0,fs.hasChildren)(t)&&!(0,fs.isComment)(t)?WP(t.children):(0,fs.isText)(t)?t.data:""}Mi.textContent=WP;function KP(t){return Array.isArray(t)?t.map(KP).join(""):(0,fs.hasChildren)(t)&&(t.type===bIe.ElementType.Tag||(0,fs.isCDATA)(t))?KP(t.children):(0,fs.isText)(t)?t.data:""}Mi.innerText=KP;var gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.prevElementSibling=gn.nextElementSibling=gn.getName=gn.hasAttrib=gn.getAttributeValue=gn.getSiblings=gn.getParent=gn.getChildren=void 0;var t4=qa;function MZ(t){return(0,t4.hasChildren)(t)?t.children:[]}gn.getChildren=MZ;function FZ(t){return t.parent||null}gn.getParent=FZ;function wIe(t){var e,r,n=FZ(t);if(n!=null)return MZ(n);for(var a=[t],s=t.prev,o=t.next;s!=null;)a.unshift(s),e=s,s=e.prev;for(;o!=null;)a.push(o),r=o,o=r.next;return a}gn.getSiblings=wIe;function SIe(t,e){var r;return(r=t.attribs)===null||r===void 0?void 0:r[e]}gn.getAttributeValue=SIe;function TIe(t,e){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&t.attribs[e]!=null}gn.hasAttrib=TIe;function EIe(t){return t.name}gn.getName=EIe;function AIe(t){for(var e,r=t.next;r!==null&&!(0,t4.isTag)(r);)e=r,r=e.next;return r}gn.nextElementSibling=AIe;function OIe(t){for(var e,r=t.prev;r!==null&&!(0,t4.isTag)(r);)e=r,r=e.prev;return r}gn.prevElementSibling=OIe;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.prepend=_i.prependChild=_i.append=_i.appendChild=_i.replaceElement=_i.removeElement=void 0;function R1(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children,r=e.lastIndexOf(t);r>=0&&e.splice(r,1)}t.next=null,t.prev=null,t.parent=null}_i.removeElement=R1;function RIe(t,e){var r=e.prev=t.prev;r&&(r.next=e);var n=e.next=t.next;n&&(n.prev=e);var a=e.parent=t.parent;if(a){var s=a.children;s[s.lastIndexOf(t)]=e,t.parent=null}}_i.replaceElement=RIe;function xIe(t,e){if(R1(e),e.next=null,e.parent=t,t.children.push(e)>1){var r=t.children[t.children.length-2];r.next=e,e.prev=r}else e.prev=null}_i.appendChild=xIe;function IIe(t,e){R1(e);var r=t.parent,n=t.next;if(e.next=n,e.prev=t,t.next=e,e.parent=r,n){if(n.prev=e,r){var a=r.children;a.splice(a.lastIndexOf(n),0,e)}}else r&&r.children.push(e)}_i.append=IIe;function PIe(t,e){if(R1(e),e.parent=t,e.prev=null,t.children.unshift(e)!==1){var r=t.children[1];r.prev=e,e.next=r}else e.next=null}_i.prependChild=PIe;function NIe(t,e){R1(e);var r=t.parent;if(r){var n=r.children;n.splice(n.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=r,e.prev=t.prev,e.next=t,t.prev=e}_i.prepend=NIe;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.findAll=ei.existsOne=ei.findOne=ei.findOneChild=ei.find=ei.filter=void 0;var yT=qa;function DIe(t,e,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),BZ(t,Array.isArray(e)?e:[e],r,n)}ei.filter=DIe;function BZ(t,e,r,n){for(var a=[],s=[e],o=[0];;){if(o[0]>=s[0].length){if(o.length===1)return a;s.shift(),o.shift();continue}var u=s[0][o[0]++];if(t(u)&&(a.push(u),--n<=0))return a;r&&(0,yT.hasChildren)(u)&&u.children.length>0&&(o.unshift(0),s.unshift(u.children))}}ei.find=BZ;function CIe(t,e){return e.find(t)}ei.findOneChild=CIe;function qZ(t,e,r){r===void 0&&(r=!0);for(var n=null,a=0;a<e.length&&!n;a++){var s=e[a];if((0,yT.isTag)(s))t(s)?n=s:r&&s.children.length>0&&(n=qZ(t,s.children,!0));else continue}return n}ei.findOne=qZ;function $Z(t,e){return e.some(function(r){return(0,yT.isTag)(r)&&(t(r)||$Z(t,r.children))})}ei.existsOne=$Z;function LIe(t,e){for(var r=[],n=[e],a=[0];;){if(a[0]>=n[0].length){if(n.length===1)return r;n.shift(),a.shift();continue}var s=n[0][a[0]++];(0,yT.isTag)(s)&&(t(s)&&r.push(s),s.children.length>0&&(a.unshift(0),n.unshift(s.children)))}}ei.findAll=LIe;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.getElementsByTagType=Fi.getElementsByTagName=Fi.getElementById=Fi.getElements=Fi.testElement=void 0;var Sc=qa,mT=ei,DS={tag_name:function(t){return typeof t=="function"?function(e){return(0,Sc.isTag)(e)&&t(e.name)}:t==="*"?Sc.isTag:function(e){return(0,Sc.isTag)(e)&&e.name===t}},tag_type:function(t){return typeof t=="function"?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return typeof t=="function"?function(e){return(0,Sc.isText)(e)&&t(e.data)}:function(e){return(0,Sc.isText)(e)&&e.data===t}}};function UZ(t,e){return typeof e=="function"?function(r){return(0,Sc.isTag)(r)&&e(r.attribs[t])}:function(r){return(0,Sc.isTag)(r)&&r.attribs[t]===e}}function jIe(t,e){return function(r){return t(r)||e(r)}}function kZ(t){var e=Object.keys(t).map(function(r){var n=t[r];return Object.prototype.hasOwnProperty.call(DS,r)?DS[r](n):UZ(r,n)});return e.length===0?null:e.reduce(jIe)}function MIe(t,e){var r=kZ(t);return r?r(e):!0}Fi.testElement=MIe;function FIe(t,e,r,n){n===void 0&&(n=1/0);var a=kZ(t);return a?(0,mT.filter)(a,e,r,n):[]}Fi.getElements=FIe;function BIe(t,e,r){return r===void 0&&(r=!0),Array.isArray(e)||(e=[e]),(0,mT.findOne)(UZ("id",t),e,r)}Fi.getElementById=BIe;function qIe(t,e,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,mT.filter)(DS.tag_name(t),e,r,n)}Fi.getElementsByTagName=qIe;function $Ie(t,e,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,mT.filter)(DS.tag_type(t),e,r,n)}Fi.getElementsByTagType=$Ie;var VZ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.DocumentPosition=t.removeSubsets=void 0;var e=qa;function r(o){for(var u=o.length;--u>=0;){var c=o[u];if(u>0&&o.lastIndexOf(c,u-1)>=0){o.splice(u,1);continue}for(var l=c.parent;l;l=l.parent)if(o.includes(l)){o.splice(u,1);break}}return o}t.removeSubsets=r;var n;(function(o){o[o.DISCONNECTED=1]="DISCONNECTED",o[o.PRECEDING=2]="PRECEDING",o[o.FOLLOWING=4]="FOLLOWING",o[o.CONTAINS=8]="CONTAINS",o[o.CONTAINED_BY=16]="CONTAINED_BY"})(n=t.DocumentPosition||(t.DocumentPosition={}));function a(o,u){var c=[],l=[];if(o===u)return 0;for(var d=(0,e.hasChildren)(o)?o:o.parent;d;)c.unshift(d),d=d.parent;for(d=(0,e.hasChildren)(u)?u:u.parent;d;)l.unshift(d),d=d.parent;for(var f=Math.min(c.length,l.length),h=0;h<f&&c[h]===l[h];)h++;if(h===0)return n.DISCONNECTED;var p=c[h-1],m=p.children,y=c[h],g=l[h];return m.indexOf(y)>m.indexOf(g)?p===u?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:p===o?n.PRECEDING|n.CONTAINS:n.PRECEDING}t.compareDocumentPosition=a;function s(o){return o=o.filter(function(u,c,l){return!l.includes(u,c+1)}),o.sort(function(u,c){var l=a(u,c);return l&n.PRECEDING?-1:l&n.FOLLOWING?1:0}),o}t.uniqueSort=s})(VZ);var gT={};Object.defineProperty(gT,"__esModule",{value:!0});gT.getFeed=void 0;var UIe=Mi,x1=Fi;function kIe(t){var e=CS(GIe,t);return e?e.name==="feed"?VIe(e):HIe(e):null}gT.getFeed=kIe;function VIe(t){var e,r=t.children,n={type:"atom",items:(0,x1.getElementsByTagName)("entry",r).map(function(o){var u,c=o.children,l={media:HZ(c)};gi(l,"id","id",c),gi(l,"title","title",c);var d=(u=CS("link",c))===null||u===void 0?void 0:u.attribs.href;d&&(l.link=d);var f=nu("summary",c)||nu("content",c);f&&(l.description=f);var h=nu("updated",c);return h&&(l.pubDate=new Date(h)),l})};gi(n,"id","id",r),gi(n,"title","title",r);var a=(e=CS("link",r))===null||e===void 0?void 0:e.attribs.href;a&&(n.link=a),gi(n,"description","subtitle",r);var s=nu("updated",r);return s&&(n.updated=new Date(s)),gi(n,"author","email",r,!0),n}function HIe(t){var e,r,n=(r=(e=CS("channel",t.children))===null||e===void 0?void 0:e.children)!==null&&r!==void 0?r:[],a={type:t.name.substr(0,3),id:"",items:(0,x1.getElementsByTagName)("item",t.children).map(function(o){var u=o.children,c={media:HZ(u)};gi(c,"id","guid",u),gi(c,"title","title",u),gi(c,"link","link",u),gi(c,"description","description",u);var l=nu("pubDate",u)||nu("dc:date",u);return l&&(c.pubDate=new Date(l)),c})};gi(a,"title","title",n),gi(a,"link","link",n),gi(a,"description","description",n);var s=nu("lastBuildDate",n);return s&&(a.updated=new Date(s)),gi(a,"author","managingEditor",n,!0),a}var QIe=["url","type","lang"],zIe=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function HZ(t){return(0,x1.getElementsByTagName)("media:content",t).map(function(e){for(var r=e.attribs,n={medium:r.medium,isDefault:!!r.isDefault},a=0,s=QIe;a<s.length;a++){var o=s[a];r[o]&&(n[o]=r[o])}for(var u=0,c=zIe;u<c.length;u++){var o=c[u];r[o]&&(n[o]=parseInt(r[o],10))}return r.expression&&(n.expression=r.expression),n})}function CS(t,e){return(0,x1.getElementsByTagName)(t,e,!0,1)[0]}function nu(t,e,r){return r===void 0&&(r=!1),(0,UIe.textContent)((0,x1.getElementsByTagName)(t,e,r,1)).trim()}function gi(t,e,r,n,a){a===void 0&&(a=!1);var s=nu(r,n,a);s&&(t[e]=s)}function GIe(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}(function(t){var e=I&&I.__createBinding||(Object.create?function(a,s,o,u){u===void 0&&(u=o);var c=Object.getOwnPropertyDescriptor(s,o);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(a,u,c)}:function(a,s,o,u){u===void 0&&(u=o),a[u]=s[o]}),r=I&&I.__exportStar||function(a,s){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,a,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,r(Mi,t),r(gn,t),r(_i,t),r(ei,t),r(Fi,t),r(VZ,t),r(gT,t);var n=qa;Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})})($c);(function(t){var e=I&&I.__createBinding||(Object.create?function(b,v,_,w){w===void 0&&(w=_);var E=Object.getOwnPropertyDescriptor(v,_);(!E||("get"in E?!v.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return v[_]}}),Object.defineProperty(b,w,E)}:function(b,v,_,w){w===void 0&&(w=_),b[w]=v[_]}),r=I&&I.__setModuleDefault||(Object.create?function(b,v){Object.defineProperty(b,"default",{enumerable:!0,value:v})}:function(b,v){b.default=v}),n=I&&I.__importStar||function(b){if(b&&b.__esModule)return b;var v={};if(b!=null)for(var _ in b)_!=="default"&&Object.prototype.hasOwnProperty.call(b,_)&&e(v,b,_);return r(v,b),v},a=I&&I.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var s=Eb,o=Eb;Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.Parser}});var u=qa,c=qa;Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}});function l(b,v){var _=new u.DomHandler(void 0,v);return new s.Parser(_,v).end(b),_.root}t.parseDocument=l;function d(b,v){return l(b,v).children}t.parseDOM=d;function f(b,v,_){var w=new u.DomHandler(b,v,_);return new s.Parser(w,v)}t.createDomStream=f;var h=KC;Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(h).default}}),t.ElementType=n(yl);var p=$c,m=$c;Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return m.getFeed}});var y={xmlMode:!0};function g(b,v){return v===void 0&&(v=y),(0,p.getFeed)(d(b,v))}t.parseFeed=g,t.DomUtils=n($c)})(WC);const WIe={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}},KIe={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}};var vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.RDFA_CONTENTTYPES=vu.RDFA_FEATURES=void 0;vu.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}};vu.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"};var I1={};Object.defineProperty(I1,"__esModule",{value:!0});I1.Util=void 0;const zv=_a,JIe=vu,XIe=Ot;let ml=class Vo{constructor(e,r){this.dataFactory=e||new XIe.DataFactory,this.baseIRI=this.dataFactory.namedNode(r||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(e,r,n){const a={};if(n)for(const s in e)s.startsWith("xmlns")&&(a[s.substr(6)]=e[s]);if(e.prefix||Object.keys(a).length>0){const s=Object.assign(Object.assign({},r),a);if(e.prefix){let o;for(;o=Vo.PREFIX_REGEX.exec(e.prefix);)s[o[1]]=o[2]}return s}else return r}static expandPrefixedTerm(e,r){const n=e.indexOf(":");let a,s;if(n>=0&&(a=e.substr(0,n),s=e.substr(n+1)),a==="")return"http://www.w3.org/1999/xhtml/vocab#"+s;if(a){const o=r.prefixesAll[a];if(o)return o+s}if(e){const o=r.prefixesAll[e.toLocaleLowerCase()];if(o)return o}return e}static isValidIri(e){return Vo.IRI_REGEX.test(e)}static contentTypeToProfile(e){return JIe.RDFA_CONTENTTYPES[e]||""}getBaseIRI(e){let r=e;const n=r.indexOf("#");return n>=0&&(r=r.substr(0,n)),this.dataFactory.namedNode((0,zv.resolve)(r,this.baseIRI.value))}getResourceOrBaseIri(e,r){return e===!0?this.getBaseIriTerm(r):e}getBaseIriTerm(e){return e.localBaseIRI||this.baseIRI}createVocabIris(e,r,n,a){return e.split(/\s+/).filter(s=>s&&(n||s.indexOf(":")>=0)).map(s=>this.createIri(s,r,!0,!0,a)).filter(s=>s!=null)}createLiteral(e,r){if(r.interpretObjectAsTime&&!r.datatype){for(const n of Vo.TIME_REGEXES)if(e.match(n.regex)){r.datatype=this.dataFactory.namedNode(Vo.XSD+n.type);break}}return this.dataFactory.literal(e,r.datatype||r.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(e,r,n,a,s){if(e=e||"",!a)return n||(e=(0,zv.resolve)(e,this.getBaseIriTerm(r).value)),Vo.isValidIri(e)?this.dataFactory.namedNode(e):null;if(e.length>0&&e[0]==="["&&e[e.length-1]==="]"&&(e=e.substr(1,e.length-2),e.indexOf(":")<0))return null;if(e.startsWith("_:"))return s?this.dataFactory.blankNode(e.substr(2)||"b_identity"):null;if(n&&r.vocab&&e.indexOf(":")<0)return this.dataFactory.namedNode(r.vocab+e);let o=Vo.expandPrefixedTerm(e,r);return n?e!==o&&(o=(0,zv.resolve)(o,this.baseIRIDocument.value)):o=(0,zv.resolve)(o,this.getBaseIriTerm(r).value),Vo.isValidIri(o)?this.dataFactory.namedNode(o):null}};I1.Util=ml;ml.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";ml.XSD="http://www.w3.org/2001/XMLSchema#";ml.RDFA="http://www.w3.org/ns/rdfa#";ml.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g;ml.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}];ml.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/;Object.defineProperty(dT,"__esModule",{value:!0});dT.RdfaParser=void 0;const YIe=WC,tB=Pt,ZIe=WIe,ePe=KIe,tPe=vu,yi=I1;class r4 extends tB.Transform{constructor(e){super({readableObjectMode:!0}),this.activeTagStack=[],e=e||{},this.options=e,this.util=new yi.Util(e.dataFactory,e.baseIRI),this.defaultGraph=e.defaultGraph||this.util.dataFactory.defaultGraph();const r=e.contentType?yi.Util.contentTypeToProfile(e.contentType):e.profile||"";this.features=e.features||tPe.RDFA_FEATURES[r],this.htmlParseListener=e.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(r==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:e.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},ePe["@context"]),this.features.xhtmlInitialContext?ZIe["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:e.vocab})}import(e){const r=new tB.PassThrough({readableObjectMode:!0});e.on("error",a=>n.emit("error",a)),e.on("data",a=>r.push(a)),e.on("end",()=>r.push(null));const n=r.pipe(new r4(this.options));return n}_transform(e,r,n){this.parser.write(e.toString()),n()}_flush(e){this.parser.end(),e()}onTagOpen(e,r){let n=this.activeTagStack.length-1;for(;n>0&&this.activeTagStack[n].skipElement;)n--;let a=this.activeTagStack[n];n!==this.activeTagStack.length-1&&(a=Object.assign(Object.assign({},a),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const s={collectChildTags:a.collectChildTags,incompleteTriples:[],inlist:"inlist"in r,listMapping:[],listMappingLocal:a.listMapping,localBaseIRI:a.localBaseIRI,name:e,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(s),s.collectChildTags){for(const m of Object.keys(a.prefixesCustom).sort()){const y=a.prefixesCustom[m],g=m===""?"xmlns":"xmlns:"+m;g in r||(r[g]=y)}const p=Object.keys(r).map(m=>`${m}="${r[m]}"`).join(" ");if(s.text=[`<${e}${p?" "+p:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let o=!0,u=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in r&&"rel"in r&&(o=!1,r.rel.indexOf(":")<0&&delete r.rel),"property"in r&&"rev"in r&&(u=!1,r.rev.indexOf(":")<0&&delete r.rev)),this.features.copyRdfaPatterns){if(a.collectedPatternTag){const p={attributes:r,children:[],name:e,referenced:!1,rootPattern:!1,text:[]};a.collectedPatternTag.children.push(p),s.collectedPatternTag=p;return}if(r.typeof==="rdfa:Pattern"){s.collectedPatternTag={attributes:r,children:[],name:e,parentTag:a,referenced:!1,rootPattern:!0,text:[]};return}if(r.property==="rdfa:copy"){const p=r.resource||r.href||r.src;this.rdfaPatterns[p]?this.emitPatternCopy(a,this.rdfaPatterns[p],p):(this.pendingRdfaPatternCopies[p]||(this.pendingRdfaPatternCopies[p]=[]),this.pendingRdfaPatternCopies[p].push(a));return}}this.features.baseTag&&e==="base"&&r.href&&(this.util.baseIRI=this.util.getBaseIRI(r.href)),this.features.xmlBase&&r["xml:base"]&&(s.localBaseIRI=this.util.getBaseIRI(r["xml:base"])),this.features.timeTag&&e==="time"&&!r.datatype&&(s.interpretObjectAsTime=!0);let c,l,d;if("vocab"in r?r.vocab?(s.vocab=r.vocab,this.emitTriple(this.util.getBaseIriTerm(s),this.util.dataFactory.namedNode(yi.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(s.vocab))):s.vocab=this.activeTagStack[0].vocab:s.vocab=a.vocab,s.prefixesCustom=yi.Util.parsePrefixes(r,a.prefixesCustom,this.features.xmlnsPrefixMappings),s.prefixesAll=Object.keys(s.prefixesCustom).length>0?Object.assign(Object.assign({},a.prefixesAll),s.prefixesCustom):a.prefixesAll,this.features.roleAttribute&&r.role){const p=r.id?this.util.createIri("#"+r.id,s,!1,!1,!1):this.util.createBlankNode(),m=s.vocab;s.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const y of this.util.createVocabIris(r.role,s,!0,!1))this.emitTriple(p,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),y);s.vocab=m}"xml:lang"in r||this.features.langAttribute&&"lang"in r?s.language=r["xml:lang"]||r.lang:s.language=a.language;const f=this.activeTagStack.length===2;if(!("rel"in r)&&!("rev"in r)?"property"in r&&!("content"in r)&&!("datatype"in r)?("about"in r?(c=this.util.createIri(r.about,s,!1,!0,!0),s.explicitNewSubject=!!c):f?c=!0:a.object&&(c=a.object),"typeof"in r&&("about"in r&&(d=this.util.createIri(r.about,s,!1,!0,!0)),!d&&f&&(d=!0),!d&&"resource"in r&&(d=this.util.createIri(r.resource,s,!1,!0,!0)),!d&&("href"in r||"src"in r)&&(d=this.util.createIri(r.href||r.src,s,!1,!1,!0)),!d&&this.isInheritSubjectInHeadBody(e)&&(d=c),d||(d=this.util.createBlankNode()),l=d)):(("about"in r||"resource"in r)&&(c=this.util.createIri(r.about||r.resource,s,!1,!0,!0),s.explicitNewSubject=!!c),!c&&("href"in r||"src"in r)&&(c=this.util.createIri(r.href||r.src,s,!1,!1,!0),s.explicitNewSubject=!!c),c||(f?c=!0:this.isInheritSubjectInHeadBody(e)?c=a.object:"typeof"in r?(c=this.util.createBlankNode(),s.explicitNewSubject=!0):a.object&&(c=a.object,"property"in r||(s.skipElement=!0))),"typeof"in r&&(d=c)):("about"in r?(c=this.util.createIri(r.about,s,!1,!0,!0),s.explicitNewSubject=!!c,"typeof"in r&&(d=c)):f?c=!0:a.object&&(c=a.object),"resource"in r&&(l=this.util.createIri(r.resource,s,!1,!0,!0)),l||("href"in r||"src"in r?l=this.util.createIri(r.href||r.src,s,!1,!1,!0):"typeof"in r&&!("about"in r)&&!this.isInheritSubjectInHeadBody(e)&&(l=this.util.createBlankNode())),"typeof"in r&&!("about"in r)&&(this.isInheritSubjectInHeadBody(e)?d=c:d=l)),d)for(const p of this.util.createVocabIris(r.typeof,s,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(d,s),this.util.dataFactory.namedNode(yi.Util.RDF+"type"),p);if(c&&(s.listMapping={}),l){if("rel"in r&&"inlist"in r)for(const p of this.util.createVocabIris(r.rel,s,o,!1))this.addListMapping(s,c,p,l);if(!("rel"in r&&"inlist"in r)){if("rel"in r)for(const p of this.util.createVocabIris(r.rel,s,o,!1))this.emitTriple(this.util.getResourceOrBaseIri(c,s),p,this.util.getResourceOrBaseIri(l,s));if("rev"in r)for(const p of this.util.createVocabIris(r.rev,s,u,!1))this.emitTriple(this.util.getResourceOrBaseIri(l,s),p,this.util.getResourceOrBaseIri(c,s))}}if(!l){if("rel"in r)if("inlist"in r)for(const p of this.util.createVocabIris(r.rel,s,o,!1))this.addListMapping(s,c,p,null),s.incompleteTriples.push({predicate:p,reverse:!1,list:!0});else for(const p of this.util.createVocabIris(r.rel,s,o,!1))s.incompleteTriples.push({predicate:p,reverse:!1});if("rev"in r)for(const p of this.util.createVocabIris(r.rev,s,u,!1))s.incompleteTriples.push({predicate:p,reverse:!0});s.incompleteTriples.length>0&&(l=this.util.createBlankNode())}if("property"in r){s.predicates=this.util.createVocabIris(r.property,s,!0,!1);let p;if("datatype"in r?(s.datatype=this.util.createIri(r.datatype,s,!0,!0,!1),s.datatype&&(s.datatype.value===yi.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&s.datatype.value===yi.Util.RDF+"HTML")&&(s.collectChildTags=!0)):(!("rev"in r)&&!("rel"in r)&&!("content"in r)&&("resource"in r&&(p=this.util.createIri(r.resource,s,!1,!0,!0)),!p&&"href"in r&&(p=this.util.createIri(r.href,s,!1,!1,!0)),!p&&"src"in r&&(p=this.util.createIri(r.src,s,!1,!1,!0))),"typeof"in r&&!("about"in r)&&(p=d)),"content"in r){const m=this.util.createLiteral(r.content,s);if("inlist"in r)for(const y of s.predicates)this.addListMapping(s,c,y,m);else{const y=this.util.getResourceOrBaseIri(c,s);for(const g of s.predicates)this.emitTriple(y,g,m)}s.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in r){s.interpretObjectAsTime=!0;const m=this.util.createLiteral(r.datetime,s);if("inlist"in r)for(const y of s.predicates)this.addListMapping(s,c,y,m);else{const y=this.util.getResourceOrBaseIri(c,s);for(const g of s.predicates)this.emitTriple(y,g,m)}s.predicates=null}else if(p){const m=this.util.getResourceOrBaseIri(p,s);if("inlist"in r)for(const y of s.predicates)this.addListMapping(s,c,y,m);else{const y=this.util.getResourceOrBaseIri(c,s);for(const g of s.predicates)this.emitTriple(y,g,m)}s.predicates=null}}let h=!1;if(!s.skipElement&&c&&a.incompleteTriples.length>0){h=!0;const p=this.util.getResourceOrBaseIri(a.subject,s),m=this.util.getResourceOrBaseIri(c,s);for(const y of a.incompleteTriples)if(y.reverse)this.emitTriple(m,y.predicate,p);else if(y.list){let g=null;for(let b=this.activeTagStack.length-1;b>=0;b--)if(this.activeTagStack[b].inlist){g=this.activeTagStack[b];break}this.addListMapping(g,c,y.predicate,m)}else this.emitTriple(p,y.predicate,m)}!h&&a.incompleteTriples.length>0&&(s.incompleteTriples=s.incompleteTriples.concat(a.incompleteTriples)),s.subject=c||a.subject,s.object=l||c}onText(e){const r=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&r.collectedPatternTag){r.collectedPatternTag.text.push(e);return}r.text||(r.text=[]),r.text.push(e)}onTagClose(){const e=this.activeTagStack[this.activeTagStack.length-1],r=this.activeTagStack[this.activeTagStack.length-2];if(!(e.collectChildTags&&r.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&e.collectedPatternTag&&e.collectedPatternTag.rootPattern){const n=e.collectedPatternTag.attributes.resource;if(delete e.collectedPatternTag.attributes.resource,delete e.collectedPatternTag.attributes.typeof,this.rdfaPatterns[n]=e.collectedPatternTag,this.pendingRdfaPatternCopies[n]){for(const a of this.pendingRdfaPatternCopies[n])this.emitPatternCopy(a,e.collectedPatternTag,n);delete this.pendingRdfaPatternCopies[n]}this.activeTagStack.pop();return}if(e.predicates){const n=this.util.getResourceOrBaseIri(e.subject,e);let a=e.text||[];e.collectChildTags&&r.collectChildTags&&(a=a.slice(1));const s=this.util.createLiteral(a.join(""),e);if(e.inlist)for(const o of e.predicates)this.addListMapping(e,n,o,s);else for(const o of e.predicates)this.emitTriple(n,o,s);r.predicates||(e.text=null)}if(e.object&&Object.keys(e.listMapping).length>0){const n=this.util.getResourceOrBaseIri(e.object,e);for(const a in e.listMapping){const s=this.util.dataFactory.namedNode(a),o=e.listMapping[a];if(o.length>0){const u=o.map(()=>this.util.createBlankNode());for(let c=0;c<o.length;c++){const l=this.util.getResourceOrBaseIri(o[c],e);this.emitTriple(u[c],this.util.dataFactory.namedNode(yi.Util.RDF+"first"),l),this.emitTriple(u[c],this.util.dataFactory.namedNode(yi.Util.RDF+"rest"),c<o.length-1?u[c+1]:this.util.dataFactory.namedNode(yi.Util.RDF+"nil"))}this.emitTriple(n,s,u[0])}else this.emitTriple(n,s,this.util.dataFactory.namedNode(yi.Util.RDF+"nil"))}}}this.activeTagStack.pop(),e.collectChildTags&&e.text&&e.text.push(`</${e.name}>`),e.text&&r&&(r.text?r.text=r.text.concat(e.text):r.text=e.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const e in this.rdfaPatterns){const r=this.rdfaPatterns[e];r.referenced||(r.attributes.typeof="rdfa:Pattern",r.attributes.resource=e,this.emitPatternCopy(r.parentTag,r,e),r.referenced=!1,delete r.attributes.typeof,delete r.attributes.resource)}for(const e in this.pendingRdfaPatternCopies)for(const r of this.pendingRdfaPatternCopies[e])this.activeTagStack.push(r),this.onTagOpen("link",{property:"rdfa:copy",href:e}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(e){return this.features.inheritSubjectInHeadBody&&(e==="head"||e==="body")}addListMapping(e,r,n,a){if(e.explicitNewSubject){const s=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(r,e),n,s),this.emitTriple(s,this.util.dataFactory.namedNode(yi.Util.RDF+"first"),this.util.getResourceOrBaseIri(a,e)),this.emitTriple(s,this.util.dataFactory.namedNode(yi.Util.RDF+"rest"),this.util.dataFactory.namedNode(yi.Util.RDF+"nil"))}else{let s=e.listMappingLocal[n.value];s||(e.listMappingLocal[n.value]=s=[]),a&&s.push(a)}}emitTriple(e,r,n){e.termType==="NamedNode"&&e.value.indexOf(":")<0||r.termType==="NamedNode"&&r.value.indexOf(":")<0||n.termType==="NamedNode"&&n.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(e,r,n,this.defaultGraph))}emitPatternCopy(e,r,n){if(this.activeTagStack.push(e),r.referenced=!0,!r.constructedBlankNodes)r.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const a=this.util.dataFactory.blankNode();return r.constructedBlankNodes.push(a),a};else{let a=0;this.util.blankNodeFactory=()=>r.constructedBlankNodes[a++]}this.emitPatternCopyAbsolute(r,!0,n),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(e,r,n){if(!(!r&&e.attributes.property==="rdfa:copy"&&e.attributes.href===n)){this.onTagOpen(e.name,e.attributes);for(const a of e.text)this.onText(a);for(const a of e.children)this.emitPatternCopyAbsolute(a,!1,n);this.onTagClose()}}initializeParser(e){return new YIe.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(r){this.emit("error",r)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(r){this.emit("error",r)}},onopentag:(r,n)=>{try{this.onTagOpen(r,n),this.htmlParseListener&&this.htmlParseListener.onTagOpen(r,n)}catch(a){this.emit("error",a)}},ontext:r=>{try{this.onText(r),this.htmlParseListener&&this.htmlParseListener.onText(r)}catch(n){this.emit("error",n)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:e})}}dT.RdfaParser=r4;(function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(mZ,t),r(gZ,t),r(_Z,t),r(dT,t),r(vu,t),r(I1,t)})(GC);var rB;function rPe(){if(rB)return n0;rB=1,Object.defineProperty(n0,"__esModule",{value:!0}),n0.ActorRdfParseXmlRdfa=void 0;const t=Df(),e=GC;let r=class extends t.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,s,o){var l;const u=(a.headers&&a.headers.get("content-language"))??void 0;a.data.on("error",d=>c.emit("error",d));const c=a.data.pipe(new e.RdfaParser({baseIRI:(l=a.metadata)==null?void 0:l.baseIRI,profile:"xml",language:u}));return{data:c,metadata:{triples:!0}}}};return n0.ActorRdfParseXmlRdfa=r,n0}var nB;function nPe(){return nB||(nB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(rPe(),t)}(MO)),MO}var BO={},i0={},n4={},iPe=function(){var t=function(be,ve,Fe,Je){for(Fe=Fe||{},Je=be.length;Je--;Fe[be[Je]]=ve);return Fe},e=[7,12,13,14,15,16,20,25,115,130],r=[7,13,16,20,25,115,130],n=[7,13,16,115,130],a=[1,25],s=[1,29],o=[1,27],u=[1,28],c=[13,16,115,130],l=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],d=[28,56],f=[1,42],h=[46,48,53,56],p=[1,54],m=[1,60],y=[1,56],g=[1,57],b=[1,58],v=[1,63],_=[1,64],w=[1,65],E=[1,66],O=[1,67],L=[1,68],F=[1,75],x=[28,46,48,53,56],P=[28,42,46,48,53,56],j=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],N=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],V=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],$=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],q=[13,16,28,56,115,130],H=[13,16,38,58,87,96,109,115,126,130],X=[1,116],Y=[1,112],he=[1,108],Te=[1,114],Ne=[1,111],$e=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],de=[48,53],ce=[48,53,87,96,126],xe=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],Pe=[1,126],we=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],Re=[1,129],Se=[48,53,67,87,96,126],z=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],M=[1,133],k=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],T=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],R=[1,151],U=[1,153],G=[1,156],Q=[1,157],Z=[1,158],se=[1,167],re=[1,175],le=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],pe=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],_e=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],Ie={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function(ve,Fe,Je,lt,tt,Qe,fi){var et=Qe.length-1;switch(tt){case 1:this.$=te(ie.factory.namedNode(De("")),ie.factory.namedNode(Me),ie.factory.namedNode(ge+"Ontology"));break;case 5:ie.base=ie.factory.namedNode(Qe[et].slice(1,-1)),ie.n3Parser._setBase(ie.base.value);break;case 6:this.$=te(ie.base,ie.factory.namedNode(ge+"imports"),ie.factory.namedNode(Qe[et].slice(1,-1)));break;case 7:this.$=ie.prefixes[Qe[et-1].substr(0,Qe[et-1].length-1)]=De(Qe[et]);break;case 8:ie.nodeShapeStack=!1,te(ie.currentNodeShape=Qe[et],ie.factory.namedNode(Me),ie.factory.namedNode(fe+"NodeShape"));break;case 10:this.$=te(ie.currentNodeShape,ie.factory.namedNode(Me),ie.factory.namedNode(Le+"Class"));break;case 11:this.$=C();break;case 13:this.$=Qe[et].forEach(Gt=>te(ie.currentNodeShape,Qe[et-1],Gt));break;case 14:this.$=[Qe[et-1],...Qe[et]];break;case 18:this.$=Oe(Qe[et-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=Qe[et];break;case 20:ie.tempCurrentNodeShape=ie.currentNodeShape,this.$=ie.currentNodeShape=at();break;case 21:ie.currentNodeShape=ie.tempCurrentNodeShape;break;case 22:case 31:this.$=Qe[et-2];break;case 23:ie.tempCurrentNodeShape=ie.currentNodeShape,ie.currentNodeShape=ie.currentPropertyNode;break;case 24:ie.currentNodeShape=ie.tempCurrentNodeShape;break;case 26:ie.currentNodeShape=Qe[et];break;case 29:ie.nodeShapeStack?(ie.nodeShapeStack.push(ie.currentNodeShape),te(ie.currentPropertyNode,ie.factory.namedNode(fe+"node"),ie.currentNodeShape=at())):ie.nodeShapeStack=[],this.$=ie.currentNodeShape;break;case 30:ie.nodeShapeStack.length>0&&(ie.currentNodeShape=ie.nodeShapeStack.pop());break;case 32:this.$=Qe[et].forEach(Gt=>{te(ie.currentNodeShape,ie.factory.namedNode(fe+"targetClass"),Gt)});break;case 35:this.$=te(ie.currentNodeShape,ie.factory.namedNode(fe+Qe[et][0]),Qe[et][1]);break;case 36:break;case 37:const Ur=Oe([Qe[et-1],...Qe[et]].map(Gt=>{const Dr=at();return te(Dr,ie.factory.namedNode(fe+Gt[0]),Gt[1]),Dr}));this.$=["or",Ur];break;case 39:case 46:this.$=A("not",...Qe[et]);break;case 40:case 50:this.$=[Qe[et-2],Qe[et]];break;case 43:this.$=Qe[et]&&S(...Qe[et]);break;case 44:this.$=S("or",Oe([Qe[et-1],...Qe[et]].map(Gt=>{const Dr=at();return te(Dr,ie.factory.namedNode(fe+Gt[0]),Gt[1]),Dr})));break;case 47:this.$=[ee[Qe[et].value]?"datatype":"class",Qe[et]];break;case 48:this.$=["nodeKind",ie.factory.namedNode(fe+Qe[et])];break;case 49:this.$=["node",ie.factory.namedNode(Qe[et])];break;case 51:this.$=void 0;break;case 53:this.$=Qe[et]>0&&S("minCount",Ye(Qe[et],D));break;case 54:this.$=S("maxCount",Ye(Qe[et],D));break;case 56:this.$=Ue(Qe[et].slice(1));break;case 57:this.$=De(Qe[et]);break;case 59:te(ie.currentNodeShape,ie.factory.namedNode(fe+"property"),ie.currentPropertyNode=at()),S("path",Qe[et]);break;case 62:const Xt=at();te(Xt,ie.factory.namedNode(fe+"alternativePath"),Oe([Qe[et-1],...Qe[et]])),this.$=Xt;break;case 65:this.$=Oe([Qe[et-1],...Qe[et]]);break;case 67:te(this.$=at(),ie.factory.namedNode(fe+Qe[et]),Qe[et-1]);break;case 69:te(this.$=at(),ie.factory.namedNode(fe+"inversePath"),Qe[et]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=Qe[et-1];break;case 77:this.$=Oe(Qe[et-1]);break;case 80:this.$=ie.factory.namedNode(De(Qe[et]));break;case 81:this.$=ie.factory.namedNode(Ue(Qe[et]));break;case 82:this.$=C(ie.factory.namedNode(Me));break;case 83:this.$=Ye(Qe[et]);break;case 84:this.$=ut(Qe[et-1],lowercase(Qe[et].substr(1)));break;case 85:this.$=Ye(Qe[et-2],Qe[et]);break;case 86:this.$=Ye(Qe[et],D);break;case 87:this.$=Ye(Qe[et],B);break;case 88:this.$=Ye(Qe[et].toLowerCase(),K);break;case 89:this.$=Ye(Qe[et].toLowerCase(),ne);break;case 90:this.$=ht(Qe[et],1);break;case 91:this.$=ht(Qe[et],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:Qe[et-1].push(Qe[et]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[Qe[et]];break}},table:[t(e,[2,92],{3:1,4:2}),{1:[3]},t(r,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),t(n,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),t(e,[2,93]),t(e,[2,2]),t(e,[2,3]),t(e,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},t(r,[2,97]),{7:[2,28],13:a,16:s,18:24,51:23,52:22,114:26,115:o,130:u},t(r,[2,94]),t(r,[2,95]),{13:a,16:s,17:30,18:31,114:26,115:o,130:u},{13:a,16:s,17:32,18:31,114:26,115:o,130:u},t(e,[2,5]),t(e,[2,6]),{13:[1,33]},{1:[2,1]},t(n,[2,111]),{13:a,16:s,18:36,29:34,30:35,114:26,115:o,130:u},t(c,[2,26]),t(l,[2,80]),t(l,[2,81]),t(l,[2,82]),t(l,[2,140]),t(l,[2,141]),t(d,[2,98],{21:37,60:38,61:[1,39]}),t([28,56,61],[2,8]),{26:40,27:41,28:f,56:[2,102]},t(e,[2,7]),{53:[1,43]},t(h,[2,104],{31:44,27:45,28:f}),{13:a,16:s,18:51,32:46,33:47,35:48,36:49,37:50,38:p,43:53,44:m,92:y,113:52,114:26,115:o,116:55,119:g,120:b,121:59,122:61,123:62,130:u,131:v,132:_,133:w,134:E,135:O,136:L},{22:69,27:70,28:f,56:[2,100]},t(d,[2,99]),{13:a,16:s,18:72,62:71,114:26,115:o,130:u},{23:73,55:74,56:F},{56:[2,103]},{13:a,16:s,18:36,29:76,30:35,114:26,115:o,130:u},t(n,[2,27]),t(h,[2,12]),t(h,[2,105]),t(x,[2,13]),t(P,[2,106],{34:77}),t(j,[2,15]),t(j,[2,16]),t(j,[2,17]),t(N,[2,78]),t(N,[2,79]),{13:a,16:s,18:36,29:78,30:35,114:26,115:o,130:u},t(V,[2,108],{39:79}),t(N,[2,83],{117:[1,80],118:[1,81]}),t(N,[2,86]),t(N,[2,87]),t(N,[2,88]),t(N,[2,89]),t(c,[2,20]),t($,[2,90]),t($,[2,91]),t(N,[2,142]),t(N,[2,143]),t($,[2,144]),t($,[2,145]),t($,[2,146]),t($,[2,147]),{23:82,55:74,56:F},{56:[2,101]},t(d,[2,32],{114:26,18:83,13:a,16:s,115:o,130:u}),t(q,[2,114]),t(r,[2,10]),t(H,[2,112],{59:84}),t(H,[2,29]),t(h,[2,11]),t(x,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:a,16:s,18:51,33:90,35:48,36:49,37:50,38:p,40:[1,89],43:53,44:m,92:y,113:52,114:26,115:o,116:55,119:g,120:b,121:59,122:61,123:62,130:u,131:v,132:_,133:w,134:E,135:O,136:L},t(N,[2,84]),{13:a,16:s,18:91,114:26,115:o,130:u},t(r,[2,9]),t(q,[2,115]),{13:a,16:s,18:115,38:X,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:Y,96:he,97:101,99:103,103:106,105:109,106:113,108:110,109:Te,114:26,115:o,125:96,126:Ne,130:u},t(P,[2,107]),{13:a,16:s,18:51,33:117,35:48,36:49,37:50,38:p,43:53,44:m,92:y,113:52,114:26,115:o,116:55,119:g,120:b,121:59,122:61,123:62,130:u,131:v,132:_,133:w,134:E,135:O,136:L},t(j,[2,22]),t(j,[2,21]),t(j,[2,18]),t(V,[2,109]),t(N,[2,85]),t($e,[2,31]),t(H,[2,113]),t($e,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},t(de,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:Y,96:he,126:Ne}),t(de,[2,119]),t(ce,[2,116]),t(xe,[2,128],{79:123}),t(ce,[2,35]),t(xe,[2,59]),t(ce,[2,36],{71:124,66:125,67:Pe}),t(we,[2,61],{100:127,98:128,67:Re}),t(Se,[2,38]),{72:130,74:107,87:Y,126:Ne},t(z,[2,64],{104:131,101:132,102:M}),{75:[1,134]},t([13,16,56,85,87,95,115,126,128,129,130],[2,58]),t(k,[2,68]),{13:a,16:s,18:115,38:X,105:135,106:113,114:26,115:o,130:u},{75:[2,124]},{75:[2,125]},t(k,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),t([13,16,38,115,130],[2,70]),t(T,[2,74]),{13:a,16:s,18:115,38:X,97:140,99:103,103:106,105:109,106:113,108:110,109:Te,114:26,115:o,130:u},t(P,[2,19]),{53:[1,141]},{53:[2,121]},{13:a,16:s,18:36,29:142,30:35,114:26,115:o,130:u},t(c,[2,23]),t(ce,[2,117]),t(de,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:a,16:s,44:[1,146],56:F,85:R,87:U,95:G,96:he,115:o,128:Q,129:Z,130:u}),t(ce,[2,37],{66:159,67:Pe}),t(Se,[2,122]),{68:160,72:104,73:105,74:107,87:Y,96:he,126:Ne},t(we,[2,62],{98:161,67:Re}),t(z,[2,134]),{13:a,16:s,18:115,38:X,99:162,103:106,105:109,106:113,108:110,109:Te,114:26,115:o,130:u},t(Se,[2,39]),t(z,[2,65],{101:163,102:M}),t(k,[2,136]),{13:a,16:s,18:115,38:X,103:164,105:109,106:113,108:110,109:Te,114:26,115:o,130:u},{13:a,16:s,18:51,35:166,44:se,76:165,92:y,113:52,114:26,115:o,116:55,119:g,120:b,121:59,122:61,123:62,130:u,131:v,132:_,133:w,134:E,135:O,136:L},t(k,[2,69]),t(k,[2,67]),t(k,[2,71]),t(k,[2,72]),t(k,[2,73]),{40:[1,168]},t(H,[2,33]),{48:[1,170],49:169},t(xe,[2,129]),t(xe,[2,126]),t(xe,[2,127]),{89:171,92:[1,172]},t(xe,[2,43],{83:173,80:174,67:re}),t(le,[2,45]),{13:a,16:s,18:150,23:154,55:74,56:F,84:176,85:R,86:152,87:U,94:155,95:G,114:26,115:o,128:Q,129:Z,130:u},t(le,[2,47]),t(le,[2,48]),t(le,[2,49]),{75:[1,177]},t(le,[2,51]),t(le,[2,56]),{13:[1,178]},t(le,[2,132]),t(le,[2,133]),t(Se,[2,123]),t(Se,[2,34]),t(z,[2,135]),t(z,[2,60]),t(k,[2,137]),t(k,[2,63]),t(Se,[2,40]),t(pe,[2,76]),t(_e,[2,138],{112:179}),t(T,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},t(xe,[2,44],{80:181,67:re}),t(le,[2,130]),{13:a,16:s,18:150,23:154,55:74,56:F,73:149,81:182,84:148,85:R,86:152,87:U,94:155,95:G,96:he,114:26,115:o,128:Q,129:Z,130:u},t(le,[2,46]),{13:a,16:s,18:51,35:166,44:se,76:183,92:y,113:52,114:26,115:o,116:55,119:g,120:b,121:59,122:61,123:62,130:u,131:v,132:_,133:w,134:E,135:O,136:L},t(le,[2,57]),{13:a,16:s,18:51,35:185,46:[1,184],92:y,113:52,114:26,115:o,116:55,119:g,120:b,121:59,122:61,123:62,130:u,131:v,132:_,133:w,134:E,135:O,136:L},{91:186,92:[1,187],93:[1,188]},t(le,[2,131]),t(le,[2,42]),t(le,[2,50]),t(pe,[2,77]),t(_e,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},t(xe,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function(ve,Fe){if(Fe.recoverable)this.trace(ve);else{var Je=new Error(ve);throw Je.hash=Fe,Je}},parse:function(ve){var Fe=this,Je=[0],lt=[null],tt=[],Qe=this.table,fi="",et=0,Ur=0,Xt=2,Gt=1,Dr=tt.slice.call(arguments,1),Ct=Object.create(this.lexer),Gi={yy:{}};for(var Oi in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Oi)&&(Gi.yy[Oi]=this.yy[Oi]);Ct.setInput(ve,Gi.yy),Gi.yy.lexer=Ct,Gi.yy.parser=this,typeof Ct.yylloc>"u"&&(Ct.yylloc={});var or=Ct.yylloc;tt.push(or);var Ps=Ct.options&&Ct.options.ranges;typeof Gi.yy.parseError=="function"?this.parseError=Gi.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Io=function(){var Nn;return Nn=Ct.lex()||Gt,typeof Nn!="number"&&(Nn=Fe.symbols_[Nn]||Nn),Nn},Hr,hi,un,Ri,cn={},ba,en,Ha,va;;){if(hi=Je[Je.length-1],this.defaultActions[hi]?un=this.defaultActions[hi]:((Hr===null||typeof Hr>"u")&&(Hr=Io()),un=Qe[hi]&&Qe[hi][Hr]),typeof un>"u"||!un.length||!un[0]){var kn="";va=[];for(ba in Qe[hi])this.terminals_[ba]&&ba>Xt&&va.push("'"+this.terminals_[ba]+"'");Ct.showPosition?kn="Parse error on line "+(et+1)+`:
`+Ct.showPosition()+`
Expecting `+va.join(", ")+", got '"+(this.terminals_[Hr]||Hr)+"'":kn="Parse error on line "+(et+1)+": Unexpected "+(Hr==Gt?"end of input":"'"+(this.terminals_[Hr]||Hr)+"'"),this.parseError(kn,{text:Ct.match,token:this.terminals_[Hr]||Hr,line:Ct.yylineno,loc:or,expected:va})}if(un[0]instanceof Array&&un.length>1)throw new Error("Parse Error: multiple actions possible at state: "+hi+", token: "+Hr);switch(un[0]){case 1:Je.push(Hr),lt.push(Ct.yytext),tt.push(Ct.yylloc),Je.push(un[1]),Hr=null,Ur=Ct.yyleng,fi=Ct.yytext,et=Ct.yylineno,or=Ct.yylloc;break;case 2:if(en=this.productions_[un[1]][1],cn.$=lt[lt.length-en],cn._$={first_line:tt[tt.length-(en||1)].first_line,last_line:tt[tt.length-1].last_line,first_column:tt[tt.length-(en||1)].first_column,last_column:tt[tt.length-1].last_column},Ps&&(cn._$.range=[tt[tt.length-(en||1)].range[0],tt[tt.length-1].range[1]]),Ri=this.performAction.apply(cn,[fi,Ur,et,Gi.yy,un[1],lt,tt].concat(Dr)),typeof Ri<"u")return Ri;en&&(Je=Je.slice(0,-1*en*2),lt=lt.slice(0,-1*en),tt=tt.slice(0,-1*en)),Je.push(this.productions_[un[1]][0]),lt.push(cn.$),tt.push(cn._$),Ha=Qe[Je[Je.length-2]][Je[Je.length-1]],Je.push(Ha);break;case 3:return!0}}return!0}};const Ee="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Me=Ee+"type",Ce=Ee+"first",ke=Ee+"rest",qe=Ee+"nil",W="http://www.w3.org/2001/XMLSchema#",D=W+"integer",B=W+"decimal",K=W+"double",ne=W+"boolean",fe="http://www.w3.org/ns/shacl#",ge="http://www.w3.org/2002/07/owl#",Le="http://www.w3.org/2000/01/rdf-schema#",ee={[D]:!0,[B]:!0,[W+"float"]:!0,[K]:!0,[W+"string"]:!0,[ne]:!0,[W+"dateTime"]:!0,[W+"nonPositiveInteger"]:!0,[W+"negativeInteger"]:!0,[W+"long"]:!0,[W+"int"]:!0,[W+"short"]:!0,[W+"byte"]:!0,[W+"nonNegativeInteger"]:!0,[W+"unsignedLong"]:!0,[W+"unsignedShort"]:!0,[W+"unsignedByte"]:!0,[W+"positiveInteger"]:!0,[Ee+"langString"]:!0};function Oe(be,ve=!1){let Fe=0,Je=be.length;if(ve&&Je===0)return ie.factory.namedNode(qe);const lt=head=at();return Je===0&&te(head,ie.factory.namedNode(ke),ie.factory.namedNode(qe)),be.forEach(tt=>{if(tt===void 0)throw new Error("b");te(head,ie.factory.namedNode(Ce),tt),te(head,ie.factory.namedNode(ke),head=++Fe<Je?at():ie.factory.namedNode(qe))}),lt}function De(be){return ie.n3Parser._resolveIRI(be[0]==="<"?be.substring(1,be.length-1):be)}function Ue(be){const ve=be.indexOf(":"),Fe=be.substr(0,ve),Je=ie.prefixes[Fe];if(!Je)throw new Error("Unknown prefix: "+Fe);return De(Je+be.substr(ve+1))}function Ye(be,ve){return ve&&ve.termType!=="NamedNode"&&(ve=ie.factory.namedNode(ve)),ie.factory.literal(be,ve)}function ut(be,ve){return ie.factory.literal(be,ve)}function at(be){return typeof be=="string"?be.startsWith("e_")?ie.factory.blankNode(be):ie.factory.blankNode("e_"+be):ie.factory.blankNode("g_"+ct++)}var ct=0;ie._resetBlanks=function(){ct=0};function ht(be,ve){return ie.n3Parser._lexer._unescape(be.substring(ve,be.length-ve))}function te(be,ve,Fe){if(!be.termType||!ve.termType||ve.value.includes(",")||!Fe.termType)throw new Error(`boo ${be.value} ${ve.value} ${Fe.value}`);ie.onQuad(ie.factory.quad(be,ve,Fe))}function S(be,ve){te(ie.currentPropertyNode,ie.factory.namedNode(fe+be),ve)}function A(be,ve,Fe){const Je=at();return te(Je,ie.factory.namedNode(fe+ve),Fe),[be,Je]}function C(be){if(!ie.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return be}var J=function(){var be={EOF:1,parseError:function(Fe,Je){if(this.yy.parser)this.yy.parser.parseError(Fe,Je);else throw new Error(Fe)},setInput:function(ve,Fe){return this.yy=Fe||this.yy||{},this._input=ve,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ve=this._input[0];this.yytext+=ve,this.yyleng++,this.offset++,this.match+=ve,this.matched+=ve;var Fe=ve.match(/(?:\r\n?|\n).*/g);return Fe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ve},unput:function(ve){var Fe=ve.length,Je=ve.split(/(?:\r\n?|\n)/g);this._input=ve+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Fe),this.offset-=Fe;var lt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Je.length-1&&(this.yylineno-=Je.length-1);var tt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Je?(Je.length===lt.length?this.yylloc.first_column:0)+lt[lt.length-Je.length].length-Je[0].length:this.yylloc.first_column-Fe},this.options.ranges&&(this.yylloc.range=[tt[0],tt[0]+this.yyleng-Fe]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ve){this.unput(this.match.slice(ve))},pastInput:function(){var ve=this.matched.substr(0,this.matched.length-this.match.length);return(ve.length>20?"...":"")+ve.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ve=this.match;return ve.length<20&&(ve+=this._input.substr(0,20-ve.length)),(ve.substr(0,20)+(ve.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ve=this.pastInput(),Fe=new Array(ve.length+1).join("-");return ve+this.upcomingInput()+`
`+Fe+"^"},test_match:function(ve,Fe){var Je,lt,tt;if(this.options.backtrack_lexer&&(tt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(tt.yylloc.range=this.yylloc.range.slice(0))),lt=ve[0].match(/(?:\r\n?|\n).*/g),lt&&(this.yylineno+=lt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lt?lt[lt.length-1].length-lt[lt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ve[0].length},this.yytext+=ve[0],this.match+=ve[0],this.matches=ve,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ve[0].length),this.matched+=ve[0],Je=this.performAction.call(this,this.yy,this,Fe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Je)return Je;if(this._backtrack){for(var Qe in tt)this[Qe]=tt[Qe];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ve,Fe,Je,lt;this._more||(this.yytext="",this.match="");for(var tt=this._currentRules(),Qe=0;Qe<tt.length;Qe++)if(Je=this._input.match(this.rules[tt[Qe]]),Je&&(!Fe||Je[0].length>Fe[0].length)){if(Fe=Je,lt=Qe,this.options.backtrack_lexer){if(ve=this.test_match(Je,tt[Qe]),ve!==!1)return ve;if(this._backtrack){Fe=!1;continue}else return!1}else if(!this.options.flex)break}return Fe?(ve=this.test_match(Fe,tt[lt]),ve!==!1?ve:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Fe=this.next();return Fe||this.lex()},begin:function(Fe){this.conditionStack.push(Fe)},popState:function(){var Fe=this.conditionStack.length-1;return Fe>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Fe){return Fe=this.conditionStack.length-1-Math.abs(Fe||0),Fe>=0?this.conditionStack[Fe]:"INITIAL"},pushState:function(Fe){this.begin(Fe)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(Fe,Je,lt,tt){switch(lt){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(Je.yytext);break}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return be}();Ie.lexer=J;function ie(){this.yy={}}return ie.prototype=Ie,Ie.Parser=ie,new ie}(),aPe=iPe;const sPe=aPe.Parser,qO=Cu;let QZ=class{constructor(){}parse(e,{extendedSyntax:r,baseIRI:n}={}){this._parser=new sPe,this._parser.Parser.factory=qO.DataFactory,this._parser.Parser.base=qO.DataFactory.namedNode(n||"urn:x-base:default"),this._parser.Parser.extended=r===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new qO.Parser({baseIRI:n||"urn:x-base:default"});const a=[];return this._parser.Parser.onQuad=s=>{a.push(s)},this._parser.parse(e),a.prefixes=this._parser.Parser.prefixes,a}};n4.Parser=QZ;n4.parse=function(e,r){return new QZ().parse(e,r)};var zZ={exports:{}};(function(t){(function(){var e;typeof window=="object"&&window?e=window:e=I,t.exports?t.exports=e.Promise?e.Promise:s:e.Promise||(e.Promise=s);var r=e.setImmediate||function(h){setTimeout(h,1)};function n(h,p){return function(){h.apply(p,arguments)}}var a=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function s(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof h!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(h,n(u,this),n(c,this))}function o(h){var p=this;if(this._state===null){this._deferreds.push(h);return}r(function(){var m=p._state?h.onFulfilled:h.onRejected;if(m===null){(p._state?h.resolve:h.reject)(p._value);return}var y;try{y=m(p._value)}catch(g){h.reject(g);return}h.resolve(y)})}function u(h){try{if(h===this)throw new TypeError("A promise cannot be resolved with itself.");if(h&&(typeof h=="object"||typeof h=="function")){var p=h.then;if(typeof p=="function"){f(n(p,h),n(u,this),n(c,this));return}}this._state=!0,this._value=h,l.call(this)}catch(m){c.call(this,m)}}function c(h){this._state=!1,this._value=h,l.call(this)}function l(){for(var h=0,p=this._deferreds.length;h<p;h++)o.call(this,this._deferreds[h]);this._deferreds=null}function d(h,p,m,y){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof p=="function"?p:null,this.resolve=m,this.reject=y}function f(h,p,m){var y=!1;try{h(function(g){y||(y=!0,p(g))},function(g){y||(y=!0,m(g))})}catch(g){if(y)return;y=!0,m(g)}}s.prototype.catch=function(h){return this.then(null,h)},s.prototype.then=function(h,p){var m=this;return new s(function(y,g){o.call(m,new d(h,p,y,g))})},s.all=function(){var h=Array.prototype.slice.call(arguments.length===1&&a(arguments[0])?arguments[0]:arguments);return new s(function(p,m){if(h.length===0)return p([]);var y=h.length;function g(v,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var w=_.then;if(typeof w=="function"){w.call(_,function(E){g(v,E)},m);return}}h[v]=_,--y===0&&p(h)}catch(E){m(E)}}for(var b=0;b<h.length;b++)g(b,h[b])})},s.resolve=function(h){return h&&typeof h=="object"&&h.constructor===s?h:new s(function(p){p(h)})},s.reject=function(h){return new s(function(p,m){m(h)})},s.race=function(h){return new s(function(p,m){for(var y=0,g=h.length;y<g;y++)h[y].then(p,m)})}})()})(zZ);var oPe=zZ.exports,uPe=oPe,gl=function(t,e,r){typeof e=="function"&&(r=e,e=null);var n="",a=new uPe(function(s,o){t.on("data",function(u){n+=typeof e=="string"?u.toString(e):u.toString()}),t.on("end",function(){s(n)}),t.on("error",o)});return r&&a.then(function(s){r(null,s)},r),a},a0={},iB;function cPe(){if(iB)return a0;iB=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.PrefixWrappingIterator=void 0;const t=Mt;let e=class extends t.WrappingIterator{constructor(n){super(n==null?void 0:n.then(a=>(this.prefixes=a.prefixes,a)))}read(){if(this.prefixes){for(const n of Object.entries(this.prefixes))this.emit("prefix",...n);delete this.prefixes}return super.read()}};return a0.PrefixWrappingIterator=e,a0}var aB;function lPe(){if(aB)return i0;aB=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.ActorRdfParseShaclc=void 0;const t=Df(),e=Pt,r=n4,n=gl,a=cPe();let s=class extends t.ActorRdfParseFixedMediaTypes{constructor(u){super(u)}async runHandle(u,c,l){const d=new a.PrefixWrappingIterator(n(u.data).then(h=>{var p;return(0,r.parse)(h,{extendedSyntax:c==="text/shaclc-ext",baseIRI:(p=u.metadata)==null?void 0:p.baseIRI})})),f=new e.Readable({objectMode:!0});return d.on("prefix",(...h)=>f.emit("prefix",...h)),{data:f.wrap(d),metadata:{triples:!0}}}};return i0.ActorRdfParseShaclc=s,i0}var sB;function dPe(){return sB||(sB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(lPe(),t)}(BO)),BO}var $O={},s0={},GZ={},Ab={},Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.QuoteType=void 0;var Bl=Zc,vt;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(vt||(vt={}));var Ke;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"})(Ke||(Ke={}));function Xs(t){return t===vt.Space||t===vt.NewLine||t===vt.Tab||t===vt.FormFeed||t===vt.CarriageReturn}function Gv(t){return t===vt.Slash||t===vt.Gt||Xs(t)}function fPe(t){return t>=vt.LowerA&&t<=vt.LowerZ||t>=vt.UpperA&&t<=vt.UpperZ}var Tc;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(Tc||(Lf.QuoteType=Tc={}));var Tn={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])},hPe=function(){function t(e,r){var n=e.xmlMode,a=n===void 0?!1:n,s=e.decodeEntities,o=s===void 0?!0:s,u=this;this.cbs=r,this.state=Ke.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Ke.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=a,this.decodeEntities=o,this.entityDecoder=new Bl.EntityDecoder(a?Bl.xmlDecodeTree:Bl.htmlDecodeTree,function(c,l){return u.emitCodePoint(c,l)})}return t.prototype.reset=function(){this.state=Ke.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Ke.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},t.prototype.write=function(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()},t.prototype.end=function(){this.running&&this.finish()},t.prototype.pause=function(){this.running=!1},t.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},t.prototype.stateText=function(e){e===vt.Lt||!this.decodeEntities&&this.fastForwardTo(vt.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Ke.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===vt.Amp&&this.startEntity()},t.prototype.stateSpecialStartSequence=function(e){var r=this.sequenceIndex===this.currentSequence.length,n=r?Gv(e):(e|32)===this.currentSequence[this.sequenceIndex];if(!n)this.isSpecial=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Ke.InTagName,this.stateInTagName(e)},t.prototype.stateInSpecialTag=function(e){if(this.sequenceIndex===this.currentSequence.length){if(e===vt.Gt||Xs(e)){var r=this.index-this.currentSequence.length;if(this.sectionStart<r){var n=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=n}this.isSpecial=!1,this.sectionStart=r+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Tn.TitleEnd?this.decodeEntities&&e===vt.Amp&&this.startEntity():this.fastForwardTo(vt.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===vt.Lt)},t.prototype.stateCDATASequence=function(e){e===Tn.Cdata[this.sequenceIndex]?++this.sequenceIndex===Tn.Cdata.length&&(this.state=Ke.InCommentLike,this.currentSequence=Tn.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Ke.InDeclaration,this.stateInDeclaration(e))},t.prototype.fastForwardTo=function(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1},t.prototype.stateInCommentLike=function(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Tn.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Ke.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},t.prototype.isTagStartChar=function(e){return this.xmlMode?!Gv(e):fPe(e)},t.prototype.startSpecial=function(e,r){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=r,this.state=Ke.SpecialStartSequence},t.prototype.stateBeforeTagName=function(e){if(e===vt.ExclamationMark)this.state=Ke.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===vt.Questionmark)this.state=Ke.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){var r=e|32;this.sectionStart=this.index,this.xmlMode?this.state=Ke.InTagName:r===Tn.ScriptEnd[2]?this.state=Ke.BeforeSpecialS:r===Tn.TitleEnd[2]?this.state=Ke.BeforeSpecialT:this.state=Ke.InTagName}else e===vt.Slash?this.state=Ke.BeforeClosingTagName:(this.state=Ke.Text,this.stateText(e))},t.prototype.stateInTagName=function(e){Gv(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Ke.BeforeAttributeName,this.stateBeforeAttributeName(e))},t.prototype.stateBeforeClosingTagName=function(e){Xs(e)||(e===vt.Gt?this.state=Ke.Text:(this.state=this.isTagStartChar(e)?Ke.InClosingTagName:Ke.InSpecialComment,this.sectionStart=this.index))},t.prototype.stateInClosingTagName=function(e){(e===vt.Gt||Xs(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Ke.AfterClosingTagName,this.stateAfterClosingTagName(e))},t.prototype.stateAfterClosingTagName=function(e){(e===vt.Gt||this.fastForwardTo(vt.Gt))&&(this.state=Ke.Text,this.sectionStart=this.index+1)},t.prototype.stateBeforeAttributeName=function(e){e===vt.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Ke.InSpecialTag,this.sequenceIndex=0):this.state=Ke.Text,this.sectionStart=this.index+1):e===vt.Slash?this.state=Ke.InSelfClosingTag:Xs(e)||(this.state=Ke.InAttributeName,this.sectionStart=this.index)},t.prototype.stateInSelfClosingTag=function(e){e===vt.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Ke.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Xs(e)||(this.state=Ke.BeforeAttributeName,this.stateBeforeAttributeName(e))},t.prototype.stateInAttributeName=function(e){(e===vt.Eq||Gv(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Ke.AfterAttributeName,this.stateAfterAttributeName(e))},t.prototype.stateAfterAttributeName=function(e){e===vt.Eq?this.state=Ke.BeforeAttributeValue:e===vt.Slash||e===vt.Gt?(this.cbs.onattribend(Tc.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Ke.BeforeAttributeName,this.stateBeforeAttributeName(e)):Xs(e)||(this.cbs.onattribend(Tc.NoValue,this.sectionStart),this.state=Ke.InAttributeName,this.sectionStart=this.index)},t.prototype.stateBeforeAttributeValue=function(e){e===vt.DoubleQuote?(this.state=Ke.InAttributeValueDq,this.sectionStart=this.index+1):e===vt.SingleQuote?(this.state=Ke.InAttributeValueSq,this.sectionStart=this.index+1):Xs(e)||(this.sectionStart=this.index,this.state=Ke.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))},t.prototype.handleInAttributeValue=function(e,r){e===r||!this.decodeEntities&&this.fastForwardTo(r)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===vt.DoubleQuote?Tc.Double:Tc.Single,this.index+1),this.state=Ke.BeforeAttributeName):this.decodeEntities&&e===vt.Amp&&this.startEntity()},t.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,vt.DoubleQuote)},t.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,vt.SingleQuote)},t.prototype.stateInAttributeValueNoQuotes=function(e){Xs(e)||e===vt.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Tc.Unquoted,this.index),this.state=Ke.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===vt.Amp&&this.startEntity()},t.prototype.stateBeforeDeclaration=function(e){e===vt.OpeningSquareBracket?(this.state=Ke.CDATASequence,this.sequenceIndex=0):this.state=e===vt.Dash?Ke.BeforeComment:Ke.InDeclaration},t.prototype.stateInDeclaration=function(e){(e===vt.Gt||this.fastForwardTo(vt.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Ke.Text,this.sectionStart=this.index+1)},t.prototype.stateInProcessingInstruction=function(e){(e===vt.Gt||this.fastForwardTo(vt.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Ke.Text,this.sectionStart=this.index+1)},t.prototype.stateBeforeComment=function(e){e===vt.Dash?(this.state=Ke.InCommentLike,this.currentSequence=Tn.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Ke.InDeclaration},t.prototype.stateInSpecialComment=function(e){(e===vt.Gt||this.fastForwardTo(vt.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Ke.Text,this.sectionStart=this.index+1)},t.prototype.stateBeforeSpecialS=function(e){var r=e|32;r===Tn.ScriptEnd[3]?this.startSpecial(Tn.ScriptEnd,4):r===Tn.StyleEnd[3]?this.startSpecial(Tn.StyleEnd,4):(this.state=Ke.InTagName,this.stateInTagName(e))},t.prototype.stateBeforeSpecialT=function(e){var r=e|32;r===Tn.TitleEnd[3]?this.startSpecial(Tn.TitleEnd,4):r===Tn.TextareaEnd[3]?this.startSpecial(Tn.TextareaEnd,4):(this.state=Ke.InTagName,this.stateInTagName(e))},t.prototype.startEntity=function(){this.baseState=this.state,this.state=Ke.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?Bl.DecodingMode.Strict:this.baseState===Ke.Text||this.baseState===Ke.InSpecialTag?Bl.DecodingMode.Legacy:Bl.DecodingMode.Attribute)},t.prototype.stateInEntity=function(){var e=this.entityDecoder.write(this.buffer,this.index-this.offset);e>=0?(this.state=this.baseState,e===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1},t.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===Ke.Text||this.state===Ke.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Ke.InAttributeValueDq||this.state===Ke.InAttributeValueSq||this.state===Ke.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},t.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},t.prototype.parse=function(){for(;this.shouldContinue();){var e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Ke.Text:{this.stateText(e);break}case Ke.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case Ke.InSpecialTag:{this.stateInSpecialTag(e);break}case Ke.CDATASequence:{this.stateCDATASequence(e);break}case Ke.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case Ke.InAttributeName:{this.stateInAttributeName(e);break}case Ke.InCommentLike:{this.stateInCommentLike(e);break}case Ke.InSpecialComment:{this.stateInSpecialComment(e);break}case Ke.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case Ke.InTagName:{this.stateInTagName(e);break}case Ke.InClosingTagName:{this.stateInClosingTagName(e);break}case Ke.BeforeTagName:{this.stateBeforeTagName(e);break}case Ke.AfterAttributeName:{this.stateAfterAttributeName(e);break}case Ke.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case Ke.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case Ke.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case Ke.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case Ke.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case Ke.BeforeSpecialT:{this.stateBeforeSpecialT(e);break}case Ke.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case Ke.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case Ke.InDeclaration:{this.stateInDeclaration(e);break}case Ke.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case Ke.BeforeComment:{this.stateBeforeComment(e);break}case Ke.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case Ke.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()},t.prototype.finish=function(){this.state===Ke.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()},t.prototype.handleTrailingData=function(){var e=this.buffer.length+this.offset;this.sectionStart>=e||(this.state===Ke.InCommentLike?this.currentSequence===Tn.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===Ke.InTagName||this.state===Ke.BeforeAttributeName||this.state===Ke.BeforeAttributeValue||this.state===Ke.AfterAttributeName||this.state===Ke.InAttributeName||this.state===Ke.InAttributeValueSq||this.state===Ke.InAttributeValueDq||this.state===Ke.InAttributeValueNq||this.state===Ke.InClosingTagName||this.cbs.ontext(this.sectionStart,e))},t.prototype.emitCodePoint=function(e,r){this.baseState!==Ke.Text&&this.baseState!==Ke.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+r,this.index=this.sectionStart-1,this.cbs.onattribentity(e)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+r,this.index=this.sectionStart-1,this.cbs.ontextentity(e,this.sectionStart))},t}();Lf.default=hPe;var pPe=I&&I.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yPe=I&&I.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mPe=I&&I.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pPe(e,t,r);return yPe(e,t),e};Object.defineProperty(Ab,"__esModule",{value:!0});Ab.Parser=void 0;var Wv=mPe(Lf),oB=Zc,ql=new Set(["input","option","optgroup","select","button","datalist","textarea"]),lr=new Set(["p"]),uB=new Set(["thead","tbody"]),cB=new Set(["dd","dt"]),lB=new Set(["rt","rp"]),gPe=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",lr],["h1",lr],["h2",lr],["h3",lr],["h4",lr],["h5",lr],["h6",lr],["select",ql],["input",ql],["output",ql],["button",ql],["datalist",ql],["textarea",ql],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",cB],["dt",cB],["address",lr],["article",lr],["aside",lr],["blockquote",lr],["details",lr],["div",lr],["dl",lr],["fieldset",lr],["figcaption",lr],["figure",lr],["footer",lr],["form",lr],["header",lr],["hr",lr],["main",lr],["nav",lr],["ol",lr],["pre",lr],["section",lr],["table",lr],["ul",lr],["rt",lB],["rp",lB],["tbody",uB],["tfoot",uB]]),_Pe=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),dB=new Set(["math","svg"]),fB=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),bPe=/\s|\//,vPe=function(){function t(e,r){r===void 0&&(r={});var n,a,s,o,u,c;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:this.htmlMode,this.lowerCaseAttributeNames=(a=r.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(s=r.recognizeSelfClosing)!==null&&s!==void 0?s:!this.htmlMode,this.tokenizer=new((o=r.Tokenizer)!==null&&o!==void 0?o:Wv.default)(this.options,this),this.foreignContext=[!this.htmlMode],(c=(u=this.cbs).onparserinit)===null||c===void 0||c.call(u,this)}return t.prototype.ontext=function(e,r){var n,a,s=this.getSlice(e,r);this.endIndex=r-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,s),this.startIndex=r},t.prototype.ontextentity=function(e,r){var n,a;this.endIndex=r-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,(0,oB.fromCodePoint)(e)),this.startIndex=r},t.prototype.isVoidElement=function(e){return this.htmlMode&&_Pe.has(e)},t.prototype.onopentagname=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},t.prototype.emitOpenTag=function(e){var r,n,a,s;this.openTagStart=this.startIndex,this.tagname=e;var o=this.htmlMode&&gPe.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[0]);){var u=this.stack.shift();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,u,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(dB.has(e)?this.foreignContext.unshift(!0):fB.has(e)&&this.foreignContext.unshift(!1))),(s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,e),this.cbs.onopentag&&(this.attribs={})},t.prototype.endOpenTag=function(e){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},t.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},t.prototype.onclosetag=function(e,r){var n,a,s,o,u,c,l,d;this.endIndex=r;var f=this.getSlice(e,r);if(this.lowerCaseTagNames&&(f=f.toLowerCase()),this.htmlMode&&(dB.has(f)||fB.has(f))&&this.foreignContext.shift(),this.isVoidElement(f))this.htmlMode&&f==="br"&&((o=(s=this.cbs).onopentagname)===null||o===void 0||o.call(s,"br"),(c=(u=this.cbs).onopentag)===null||c===void 0||c.call(u,"br",{},!0),(d=(l=this.cbs).onclosetag)===null||d===void 0||d.call(l,"br",!1));else{var h=this.stack.indexOf(f);if(h!==-1)for(var p=0;p<=h;p++){var m=this.stack.shift();(a=(n=this.cbs).onclosetag)===null||a===void 0||a.call(n,m,p!==h)}else this.htmlMode&&f==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1},t.prototype.onselfclosingtag=function(e){this.endIndex=e,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},t.prototype.closeCurrentTag=function(e){var r,n,a=this.tagname;this.endOpenTag(e),this.stack[0]===a&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,a,!e),this.stack.shift())},t.prototype.onattribname=function(e,r){this.startIndex=e;var n=this.getSlice(e,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},t.prototype.onattribdata=function(e,r){this.attribvalue+=this.getSlice(e,r)},t.prototype.onattribentity=function(e){this.attribvalue+=(0,oB.fromCodePoint)(e)},t.prototype.onattribend=function(e,r){var n,a;this.endIndex=r,(a=(n=this.cbs).onattribute)===null||a===void 0||a.call(n,this.attribname,this.attribvalue,e===Wv.QuoteType.Double?'"':e===Wv.QuoteType.Single?"'":e===Wv.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},t.prototype.getInstructionName=function(e){var r=e.search(bPe),n=r<0?e:e.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},t.prototype.ondeclaration=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(a),"!".concat(n))}this.startIndex=r+1},t.prototype.onprocessinginstruction=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(a),"?".concat(n))}this.startIndex=r+1},t.prototype.oncomment=function(e,r,n){var a,s,o,u;this.endIndex=r,(s=(a=this.cbs).oncomment)===null||s===void 0||s.call(a,this.getSlice(e,r-n)),(u=(o=this.cbs).oncommentend)===null||u===void 0||u.call(o),this.startIndex=r+1},t.prototype.oncdata=function(e,r,n){var a,s,o,u,c,l,d,f,h,p;this.endIndex=r;var m=this.getSlice(e,r-n);!this.htmlMode||this.options.recognizeCDATA?((s=(a=this.cbs).oncdatastart)===null||s===void 0||s.call(a),(u=(o=this.cbs).ontext)===null||u===void 0||u.call(o,m),(l=(c=this.cbs).oncdataend)===null||l===void 0||l.call(c)):((f=(d=this.cbs).oncomment)===null||f===void 0||f.call(d,"[CDATA[".concat(m,"]]")),(p=(h=this.cbs).oncommentend)===null||p===void 0||p.call(h)),this.startIndex=r+1},t.prototype.onend=function(){var e,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=0;n<this.stack.length;n++)this.cbs.onclosetag(this.stack[n],!0)}(r=(e=this.cbs).onend)===null||r===void 0||r.call(e)},t.prototype.reset=function(){var e,r,n,a;(r=(e=this.cbs).onreset)===null||r===void 0||r.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(n=this.cbs).onparserinit)===null||a===void 0||a.call(n,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.getSlice=function(e,r){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,r-this.bufferOffset);r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n},t.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},t.prototype.write=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},t.prototype.end=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},t.prototype.parseChunk=function(e){this.write(e)},t.prototype.done=function(e){this.end(e)},t}();Ab.Parser=vPe;(function(t){var e=I&&I.__createBinding||(Object.create?function(v,_,w,E){E===void 0&&(E=w);var O=Object.getOwnPropertyDescriptor(_,w);(!O||("get"in O?!_.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(v,E,O)}:function(v,_,w,E){E===void 0&&(E=w),v[E]=_[w]}),r=I&&I.__setModuleDefault||(Object.create?function(v,_){Object.defineProperty(v,"default",{enumerable:!0,value:_})}:function(v,_){v.default=_}),n=I&&I.__importStar||function(v){if(v&&v.__esModule)return v;var _={};if(v!=null)for(var w in v)w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)&&e(_,v,w);return r(_,v),_},a=I&&I.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.QuoteType=t.Tokenizer=t.createDomStream=t.createDocumentStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var s=Ab,o=Ab;Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.Parser}});var u=qa,c=qa;Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}});function l(v,_){var w=new u.DomHandler(void 0,_);return new s.Parser(w,_).end(v),w.root}t.parseDocument=l;function d(v,_){return l(v,_).children}t.parseDOM=d;function f(v,_,w){var E=new u.DomHandler(function(O){return v(O,E.root)},_,w);return new s.Parser(E,_)}t.createDocumentStream=f;function h(v,_,w){var E=new u.DomHandler(v,_,w);return new s.Parser(E,_)}t.createDomStream=h;var p=Lf;Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(p).default}}),Object.defineProperty(t,"QuoteType",{enumerable:!0,get:function(){return p.QuoteType}}),t.ElementType=n(yl);var m=$c,y=$c;Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return y.getFeed}});var g={xmlMode:!0};function b(v,_){return _===void 0&&(_=g),(0,m.getFeed)(d(v,_))}t.parseFeed=b,t.DomUtils=n($c)})(GZ);var hB;function wPe(){if(hB)return s0;hB=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.ActorRdfParseHtml=void 0;const t=Df(),e=GZ,r=Pt;class n extends t.ActorRdfParseFixedMediaTypes{constructor(s){super(s)}async runHandle(s,o,u){var m;const c=new r.Readable({objectMode:!0});c._read=()=>{};let l=0,d=1;function f(y){c.emit("error",y)}function h(){--d===0&&c.push(null)}const p={baseIRI:((m=s.metadata)==null?void 0:m.baseIRI)??"",context:u,emit:y=>{l--,c.push(y)},end:h,error:f,headers:s.headers};try{const y=await Promise.all(this.busRdfParseHtml.publish(p));d+=y.length;const g=[];for(const _ of y){const{htmlParseListener:w}=await _.actor.run(p);g.push(w)}const b=new e.Parser({onclosetag(){try{for(const _ of g)_.onTagClose()}catch(_){f(_)}},onend(){try{for(const _ of g)_.onEnd()}catch(_){f(_)}h()},onopentag(_,w){try{for(const E of g)E.onTagOpen(_,w)}catch(E){f(E)}},ontext(_){try{for(const w of g)w.onText(_)}catch(w){f(w)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),v=c._read=_=>{for(l=Math.max(_,l);l>0;){const w=s.data.read();if(w===null){s.data.once("readable",()=>v(0));return}b.write(w.toString())}};s.data.on("error",f).on("end",()=>b.end())}catch(y){setTimeout(()=>{c.emit("error",y)})}return{data:c}}}return s0.ActorRdfParseHtml=n,s0}var pB;function SPe(){return pB||(pB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(wPe(),t)}($O)),$O}var UO={},o0={},kO={},u0={},yB;function TPe(){if(yB)return u0;yB=1,Object.defineProperty(u0,"__esModule",{value:!0}),u0.ActorRdfParseHtml=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return u0.ActorRdfParseHtml=e,u0}var mB;function i4(){return mB||(mB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(TPe(),t)}(kO)),kO}var WZ={},KZ={};Object.defineProperty(KZ,"__esModule",{value:!0});var P1={};Object.defineProperty(P1,"__esModule",{value:!0});P1.ItemPropertyHandlerContent=void 0;class EPe{canHandle(e,r){return"content"in r}getObject(e,r,n){return r.createLiteral(e.content,n)}}P1.ItemPropertyHandlerContent=EPe;var N1={},_l={};Object.defineProperty(_l,"__esModule",{value:!0});_l.Util=void 0;const APe=Ot,gB=_a;let D1=class R_{constructor(e,r){this.dataFactory=e||new APe.DataFactory,this.baseIRI=r||""}static isValidIri(e){return R_.IRI_REGEX.test(e)}createVocabIris(e,r,n){return e.split(/\s+/u).filter(a=>!!a).map(a=>{if(!R_.isValidIri(a)){if(!n)return;a=`${r.vocab||`${this.baseIRI}#`}${a}`}return this.dataFactory.namedNode(a)}).filter(a=>!!a)}getVocabularyExpansionType(e,r,n){const a=e.split(/\s+/u);if(a.includes("subPropertyOf")||a.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${R_.RDF}type`)];if(r.vocab&&r.vocab in n&&n[r.vocab].properties){let s=[];for(const[o,u]of Object.entries(n[r.vocab].properties))a.includes(o)&&(s=[...Object.values(u).map(c=>this.dataFactory.namedNode(c))]);return s}return[]}createSubject(e){if(!R_.isValidIri(e))try{e=(0,gB.resolve)(e,this.baseIRI)}catch{return}return this.dataFactory.namedNode(e)}createLiteral(e,r){return this.dataFactory.literal(e,r.language)}deriveVocab(e,r){let n;for(const a in r)if(e.startsWith(a)){n=a,n.endsWith("/")||(n+="#");break}if(!n){const a=e.indexOf("#");a>0?n=e.slice(0,a+1):n=(0,gB.resolve)(".",e)}return n}};_l.Util=D1;D1.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";D1.XSD="http://www.w3.org/2001/XMLSchema#";D1.RDFA="http://www.w3.org/ns/rdfa#";D1.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u;Object.defineProperty(N1,"__esModule",{value:!0});N1.ItemPropertyHandlerNumber=void 0;const _B=_l;class OPe{constructor(e,r){this.tagName=e,this.attributeName=r}canHandle(e,r){return this.tagName===e&&this.attributeName in r}getObject(e,r,n){const a=e[this.attributeName];let s;return!Number.isNaN(Number.parseInt(a,10))&&!a.includes(".")?s=`${_B.Util.XSD}integer`:Number.isNaN(Number.parseFloat(a))||(s=`${_B.Util.XSD}double`),r.dataFactory.literal(a,s&&r.dataFactory.namedNode(s))}}N1.ItemPropertyHandlerNumber=OPe;var C1={};Object.defineProperty(C1,"__esModule",{value:!0});C1.ItemPropertyHandlerTime=void 0;const RPe=_l;class _T{canHandle(e,r){return e==="time"&&"datetime"in r}getObject(e,r,n){const a=e.datetime;let s;for(const o of _T.TIME_REGEXES)if(o.regex.test(a)){s=r.dataFactory.namedNode(RPe.Util.XSD+o.type);break}return r.dataFactory.literal(a,s)}}C1.ItemPropertyHandlerTime=_T;_T.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}];var L1={};Object.defineProperty(L1,"__esModule",{value:!0});L1.ItemPropertyHandlerUrl=void 0;const xPe=_a;class IPe{constructor(e,r){this.tagName=e,this.attributeName=r}canHandle(e,r){return this.tagName===e&&this.attributeName in r}getObject(e,r,n){return r.dataFactory.namedNode((0,xPe.resolve)(e[this.attributeName],r.baseIRI))}}L1.ItemPropertyHandlerUrl=IPe;var JZ={};Object.defineProperty(JZ,"__esModule",{value:!0});var XZ={};Object.defineProperty(XZ,"__esModule",{value:!0});var YZ={};Object.defineProperty(YZ,"__esModule",{value:!0});var bT={};const PPe={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}};Object.defineProperty(bT,"__esModule",{value:!0});bT.MicrodataRdfParser=void 0;const NPe=WC,bB=Pt,DPe=P1,vB=N1,CPe=C1,xa=L1,wB=_l,LPe=PPe;class Ob extends bB.Transform{constructor(e){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},e=e||{},this.options=e,this.util=new wB.Util(e.dataFactory,e.baseIRI),this.defaultGraph=e.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=e.htmlParseListener,this.vocabRegistry=e.vocabRegistry||LPe,this.parser=this.initializeParser(!!e.xmlMode)}import(e){const r=new bB.PassThrough({readableObjectMode:!0});e.on("error",a=>n.emit("error",a)),e.on("data",a=>r.push(a)),e.on("end",()=>r.push(null));const n=r.pipe(new Ob(this.options));return n}_transform(e,r,n){this.parser.write(e.toString()),n()}_flush(e){this.parser.end(),e()}getItemScope(e){let r=this.itemScopeStack.length-(e?2:1);for(;r>0&&!this.itemScopeStack[r];)r--;return this.itemScopeStack[r]}getDepth(){return this.itemScopeStack.length}onTagOpen(e,r){if(!this.isEmittingReferences){if("id"in r){const a=r.id;this.pendingItemRefsRangeCollecting[a]={events:[],counter:0,ids:[]}}for(const a of Object.values(this.pendingItemRefsRangeCollecting))a.counter++,a.events.push({type:"open",name:e,attributes:r})}this.textBufferStack.push(void 0);let n;if("itemscope"in r){let a;if(this.emittingReferencesItemScopeIdGenerator)a=this.emittingReferencesItemScopeIdGenerator();else{a="itemid"in r&&this.util.createSubject(r.itemid)||this.util.dataFactory.blankNode();for(const o of Object.values(this.pendingItemRefsRangeCollecting))o.ids.push(a)}n={subject:a},this.isEmittingReferences&&(n.blockEmission=!0);const s=this.getItemScope();s&&s.vocab&&(n.vocab=s.vocab),this.itemScopeStack.push(n)}else n=this.getItemScope(),this.itemScopeStack.push(void 0);if(n){if("itemtype"in r)for(const a of this.util.createVocabIris(r.itemtype,n,!1))n.vocab||(n.vocab=this.util.deriveVocab(a.value,this.vocabRegistry)),n.blockEmission||this.emitTriple(n.subject,this.util.dataFactory.namedNode(`${wB.Util.RDF}type`),a);if("lang"in r&&(n.language=r.lang),"xml:lang"in r&&(n.language=r["xml:lang"]),"itemscope"in r&&!this.isEmittingReferences&&"itemref"in r)for(const a of r.itemref.split(/\s+/u))a in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[a]=[]),this.pendingItemRefsDomain[a].push(n),this.tryToEmitReferences(a,n)}"itemprop"in r&&this.handleItemProperties(r.itemprop,!1,n,e,r),"itemprop-reverse"in r&&this.handleItemProperties(r["itemprop-reverse"],!0,n,e,r)}onText(e){if(!this.isEmittingReferences)for(const r of Object.values(this.pendingItemRefsRangeCollecting))r.events.push({type:"text",data:e});for(const r of this.textBufferStack)r&&r.push(e)}onTagClose(){if(!this.isEmittingReferences)for(const[r,n]of Object.entries(this.pendingItemRefsRangeCollecting))n.counter--,n.events.push({type:"close"}),n.counter===0&&(this.pendingItemRefsRangeFinalized[r]=n,delete this.pendingItemRefsRangeCollecting[r],this.tryToEmitReferences(r));const e=this.getItemScope(!0);if(e){const r=this.getDepth();if(e.predicates&&r in e.predicates)for(const[n,a]of Object.entries(e.predicates[r])){const s=this.util.createLiteral(this.textBufferStack[r].join(""),e);this.emitPredicateTriples(e,a,s,n==="reverse"),delete e.predicates[r][n]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(e){return new NPe.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(r){this.emit("error",r)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(r){this.emit("error",r)}},onopentag:(r,n)=>{try{this.onTagOpen(r,n),this.htmlParseListener&&this.htmlParseListener.onTagOpen(r,n)}catch(a){this.emit("error",a)}},ontext:r=>{try{this.onText(r),this.htmlParseListener&&this.htmlParseListener.onText(r)}catch(n){this.emit("error",n)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:e})}handleItemProperties(e,r,n,a,s){const o=this.getItemScope(!0);if(o){const u=this.getDepth(),c=this.util.createVocabIris(e,o,!0);o.predicates||(o.predicates={}),o.predicates[u]||(o.predicates[u]={});const l=r?"reverse":"forward";o.predicates[u][l]=c;for(const d of this.util.getVocabularyExpansionType(e,o,this.vocabRegistry))c.push(d);if(n&&"itemscope"in s)this.emitPredicateTriples(o,c,n.subject,r),delete o.predicates[u][l];else for(const d of Ob.ITEM_PROPERTY_HANDLERS)if(d.canHandle(a,s)){const f=d.getObject(s,this.util,o);this.emitPredicateTriples(o,c,f,r),delete o.predicates[u][l]}o.predicates[u][l]&&(this.textBufferStack[u]=[])}}emitPredicateTriples(e,r,n,a){if(!e.blockEmission)for(const s of r)a?n.termType!=="Literal"&&this.emitTriple(n,s,e.subject):this.emitTriple(e.subject,s,n)}emitTriple(e,r,n){this.push(this.util.dataFactory.quad(e,r,n,this.defaultGraph))}tryToEmitReferences(e,r){const n=this.pendingItemRefsRangeFinalized[e];if(n){let a;if(r){a=[r];const s=this.pendingItemRefsDomain[e].indexOf(r);this.pendingItemRefsDomain[e].splice(s,1)}else a=this.pendingItemRefsDomain[e],delete this.pendingItemRefsDomain[e];if(a){const s=this.itemScopeStack,o=this.textBufferStack;this.isEmittingReferences=!0;for(const u of a){this.itemScopeStack=[u],this.textBufferStack=[void 0];const c=[...n.ids];this.emittingReferencesItemScopeIdGenerator=()=>c.shift();for(const l of n.events)switch(l.type){case"open":this.onTagOpen(l.name,l.attributes);break;case"text":this.onText(l.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=s,this.textBufferStack=o,this.isEmittingReferences=!1}}}}bT.MicrodataRdfParser=Ob;Ob.ITEM_PROPERTY_HANDLERS=[new DPe.ItemPropertyHandlerContent,new xa.ItemPropertyHandlerUrl("a","href"),new xa.ItemPropertyHandlerUrl("area","href"),new xa.ItemPropertyHandlerUrl("audio","src"),new xa.ItemPropertyHandlerUrl("embed","src"),new xa.ItemPropertyHandlerUrl("iframe","src"),new xa.ItemPropertyHandlerUrl("img","src"),new xa.ItemPropertyHandlerUrl("link","href"),new xa.ItemPropertyHandlerUrl("object","data"),new xa.ItemPropertyHandlerUrl("source","src"),new xa.ItemPropertyHandlerUrl("track","src"),new xa.ItemPropertyHandlerUrl("video","src"),new vB.ItemPropertyHandlerNumber("data","value"),new vB.ItemPropertyHandlerNumber("meter","value"),new CPe.ItemPropertyHandlerTime];(function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(KZ,t),r(P1,t),r(N1,t),r(C1,t),r(L1,t),r(JZ,t),r(XZ,t),r(YZ,t),r(bT,t),r(_l,t)})(WZ);var SB;function jPe(){if(SB)return o0;SB=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.ActorRdfParseHtmlMicrodata=void 0;const t=i4(),e=WZ;let r=class extends t.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return!0}async run(a){const s=a.headers?a.headers.get("content-type"):null,o=s==null?void 0:s.includes("xml"),u=new e.MicrodataRdfParser({baseIRI:a.baseIRI,xmlMode:o});u.on("error",a.error),u.on("data",a.emit);const c=u.onEnd;return u.onEnd=()=>{c.call(u),a.end()},{htmlParseListener:u}}};return o0.ActorRdfParseHtmlMicrodata=r,o0}var TB;function MPe(){return TB||(TB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(jPe(),t)}(UO)),UO}var VO={},c0={},EB;function FPe(){if(EB)return c0;EB=1,Object.defineProperty(c0,"__esModule",{value:!0}),c0.ActorRdfParseHtmlRdfa=void 0;const t=i4(),e=GC;let r=class extends t.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return!0}async run(a){const s=a.headers?a.headers.get("content-type"):null,o=(a.headers&&a.headers.get("content-language"))??void 0,u=s&&s.includes("xml")?"xhtml":"html",c=new e.RdfaParser({baseIRI:a.baseIRI,profile:u,language:o});c.on("error",a.error),c.on("data",a.emit);const l=c.onEnd;return c.onEnd=()=>{l.call(c),a.end()},{htmlParseListener:c}}};return c0.ActorRdfParseHtmlRdfa=r,c0}var AB;function BPe(){return AB||(AB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(FPe(),t)}(VO)),VO}var HO={},l0={},QO={},d0={},OB;function qPe(){if(OB)return d0;OB=1,Object.defineProperty(d0,"__esModule",{value:!0}),d0.ActorRdfResolveHypermediaLinksQueue=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return d0.ActorRdfResolveHypermediaLinksQueue=e,d0}var zO={},RB;function $Pe(){return RB||(RB=1,Object.defineProperty(zO,"__esModule",{value:!0})),zO}var f0={},xB;function UPe(){if(xB)return f0;xB=1,Object.defineProperty(f0,"__esModule",{value:!0}),f0.LinkQueueWrapper=void 0;let t=class{constructor(r){this.linkQueue=r}push(r,n){return this.linkQueue.push(r,n)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}};return f0.LinkQueueWrapper=t,f0}var IB;function kPe(){return IB||(IB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(qPe(),t),r($Pe(),t),r(UPe(),t)}(QO)),QO}var h0={},PB;function ZZ(){if(PB)return h0;PB=1,Object.defineProperty(h0,"__esModule",{value:!0}),h0.LinkQueueFifo=void 0;let t=class{constructor(){this.links=[]}push(r){return this.links.push(r),!0}getSize(){return this.links.length}isEmpty(){return this.links.length===0}pop(){return this.links.shift()}peek(){return this.links[0]}};return h0.LinkQueueFifo=t,h0}var NB;function VPe(){if(NB)return l0;NB=1,Object.defineProperty(l0,"__esModule",{value:!0}),l0.ActorRdfResolveHypermediaLinksQueueFifo=void 0;const t=kPe(),e=ZZ();let r=class extends t.ActorRdfResolveHypermediaLinksQueue{constructor(a){super(a)}async test(a){return!0}async run(a){return{linkQueue:new e.LinkQueueFifo}}};return l0.ActorRdfResolveHypermediaLinksQueueFifo=r,l0}var DB;function HPe(){return DB||(DB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(VPe(),t),r(ZZ(),t)}(HO)),HO}var GO={},p0={},WO={},y0={},CB;function QPe(){if(CB)return y0;CB=1,Object.defineProperty(y0,"__esModule",{value:!0}),y0.ActorRdfResolveHypermediaLinks=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return y0.ActorRdfResolveHypermediaLinks=e,y0}var LB;function zPe(){return LB||(LB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(QPe(),t)}(WO)),WO}var jB;function GPe(){if(jB)return p0;jB=1,Object.defineProperty(p0,"__esModule",{value:!0}),p0.ActorRdfResolveHypermediaLinksNext=void 0;const t=zPe();let e=class extends t.ActorRdfResolveHypermediaLinks{constructor(n){super(n)}async test(n){if(!n.metadata.next||n.metadata.next.length===0)throw new Error(`Actor ${this.name} requires a 'next' metadata entry.`);return!0}async run(n){return{links:n.metadata.next.map(a=>({url:a}))}}};return p0.ActorRdfResolveHypermediaLinksNext=e,p0}var MB;function WPe(){return MB||(MB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(GPe(),t)}(GO)),GO}var KO={},m0={},JO={},g0={},FB;function KPe(){if(FB)return g0;FB=1,Object.defineProperty(g0,"__esModule",{value:!0}),g0.ActorRdfSerialize=void 0;const t=Nf();let e=class extends t.ActorAbstractMediaTyped{constructor(n){super(n)}};return g0.ActorRdfSerialize=e,g0}var _0={},BB;function JPe(){if(BB)return _0;BB=1,Object.defineProperty(_0,"__esModule",{value:!0}),_0.ActorRdfSerializeFixedMediaTypes=void 0;const t=Nf();let e=class extends t.ActorAbstractMediaTypedFixed{constructor(n){super(n)}async testHandleChecked(){return!0}};return _0.ActorRdfSerializeFixedMediaTypes=e,_0}var qB;function a4(){return qB||(qB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(KPe(),t),r(JPe(),t)}(JO)),JO}var $B;function XPe(){if($B)return m0;$B=1,Object.defineProperty(m0,"__esModule",{value:!0}),m0.ActorRdfSerializeN3=void 0;const t=a4(),e=Cu;let r=class extends t.ActorRdfSerializeFixedMediaTypes{constructor(a){super(a)}async runHandle(a,s){const o=new e.StreamWriter({format:s});let u;return"pipe"in a.quadStream?(a.quadStream.on("error",c=>o.emit("error",c)),u=a.quadStream.pipe(o)):u=o.import(a.quadStream),{data:u,triples:s==="text/turtle"||s==="application/n-triples"||s==="text/n3"}}};return m0.ActorRdfSerializeN3=r,m0}var UB;function YPe(){return UB||(UB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(XPe(),t)}(KO)),KO}var XO={},b0={},YO={},v0={},w0={},kB;function ZPe(){if(kB)return w0;kB=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.SeparatorType=void 0;let t=class{constructor(r){this.label=r}};return w0.SeparatorType=t,t.COMMA=new t(","),t.OBJECT_START=new t("{"),t.OBJECT_END=new t("}"),t.OBJECT_END_COMMA=new t("},"),t.ARRAY_START=new t("["),t.ARRAY_END=new t("]"),t.ARRAY_END_COMMA=new t("],"),t.GRAPH_FIELD_NONCOMPACT=new t('"@graph": ['),t.GRAPH_FIELD_COMPACT=new t('"@graph":['),t.CONTEXT_FIELD=new t('"@context":'),w0}var S0={},VB;function eee(){if(VB)return S0;VB=1,Object.defineProperty(S0,"__esModule",{value:!0}),S0.Util=void 0;const t=pn;class e{static termToValue(n,a,s={compactIds:!1,useNativeTypes:!1}){switch(n.termType){case"NamedNode":const o=a.compactIri(n.value,s.vocab);return s.compactIds?o:{"@id":o};case"DefaultGraph":return s.compactIds?n.value:{"@id":n.value};case"BlankNode":const u=`_:${n.value}`;return s.compactIds?u:{"@id":u};case"Literal":if(n.datatype.value===e.RDF_JSON){let d;try{d=JSON.parse(n.value)}catch(f){throw new t.ErrorCoded("Invalid JSON literal: "+f.message,t.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":d,"@type":"@json"}}if(s.rdfDirection==="i18n-datatype"&&n.datatype.value.startsWith(e.I18N)){const[d,f]=n.datatype.value.substr(e.I18N.length,n.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":n.value},d?{"@language":d}:{}),f?{"@direction":f}:{})}const c=n.datatype.value===e.XSD_STRING,l={"@value":!c&&s.useNativeTypes?e.stringToNativeType(n.value,n.datatype.value):n.value};return n.language?Object.assign(Object.assign({},l),{"@language":n.language}):!c&&typeof l["@value"]=="string"?Object.assign(Object.assign({},l),{"@type":n.datatype.value}):l}}static stringToNativeType(n,a){if(a.startsWith(e.XSD))switch(a.substr(e.XSD.length)){case"boolean":if(n==="true")return!0;if(n==="false")return!1;throw new Error(`Invalid xsd:boolean value '${n}'`);case"integer":case"number":case"int":case"byte":case"long":const o=parseInt(n,10);if(isNaN(o))throw new Error(`Invalid xsd:integer value '${n}'`);return o;case"float":case"double":const u=parseFloat(n);if(isNaN(u))throw new Error(`Invalid xsd:float value '${n}'`);return u}return n}}return S0.Util=e,e.XSD="http://www.w3.org/2001/XMLSchema#",e.XSD_STRING=e.XSD+"string",e.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",e.RDF_TYPE=e.RDF+"type",e.RDF_JSON=e.RDF+"JSON",e.I18N="https://www.w3.org/ns/i18n#",S0}var HB;function eNe(){if(HB)return v0;HB=1,Object.defineProperty(v0,"__esModule",{value:!0}),v0.JsonLdSerializer=void 0;const t=pn,e=ZPe(),r=eee(),n=Pt;let a=class tee extends n.Transform{constructor(o={}){super({objectMode:!0}),this.indentation=0,this.options=o,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=new t.ContextParser().parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new t.JsonLdContextNormalized({}))}import(o){const u=new n.PassThrough({objectMode:!0});o.on("error",l=>c.emit("error",l)),o.on("data",l=>u.push(l)),o.on("end",()=>u.push(null));const c=u.pipe(new tee(this.options));return c}_transform(o,u,c){this.context.then(l=>{this.transformQuad(o,l),c()}).catch(c)}async list(o){const u=await this.context;return{"@list":o.map(c=>r.Util.termToValue(c,u,this.options))}}_flush(o){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.endGraph(),this.endDocument(),o(null,null)}transformQuad(o,u){this.opened||this.pushDocumentStart();const c=this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.lastGraph.equals(o.subject);if(!c&&(!this.lastGraph||!o.graph.equals(this.lastGraph))){let l=o.graph.termType!=="DefaultGraph"&&this.lastSubject&&this.lastSubject.equals(o.graph);this.lastGraph&&(this.lastGraph.termType!=="DefaultGraph"?(this.endPredicate(),this.endSubject(),this.endGraph(!0),l=!1):l?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),o.graph.termType!=="DefaultGraph"&&(l||this.pushId(o.graph,!0,u),this.pushSeparator(this.options.space?e.SeparatorType.GRAPH_FIELD_NONCOMPACT:e.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=o.graph}(!this.lastSubject||!o.subject.equals(this.lastSubject))&&(c?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END_COMMA),this.lastGraph=o.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(o.subject,!0,u)),this.lastSubject=o.subject),(!this.lastPredicate||!o.predicate.equals(this.lastPredicate))&&(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(o.predicate,u)),this.pushObject(o.object,u)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(e.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(e.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?e.SeparatorType.GRAPH_FIELD_NONCOMPACT:e.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(e.SeparatorType.ARRAY_START),this.indentation++)}pushId(o,u,c){if(o.termType==="Quad")this.pushNestedQuad(o,!0,c);else{const l=o.termType==="BlankNode"?"_:"+o.value:c.compactIri(o.value,!1);u?this.pushSeparator(e.SeparatorType.OBJECT_START):(this.push(e.SeparatorType.OBJECT_START.label),this.options.space&&this.push(`
`)),this.indentation++,this.pushIndented(this.options.space?`"@id": "${l}",`:`"@id":"${l}",`)}}pushPredicate(o,u){let c=o.value;!this.options.useRdfType&&c===r.Util.RDF_TYPE&&(c="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const l=u.compactIri(c,!0);this.pushIndented(this.options.space?`"${l}": [`:`"${l}":[`),this.indentation++,this.lastPredicate=o}pushObject(o,u){if(this.hadObjectForPredicate?this.pushSeparator(e.SeparatorType.COMMA):this.hadObjectForPredicate=!0,o.termType==="Quad"){const l=this.lastSubject,d=this.lastPredicate;this.hadObjectForPredicate=!1,this.pushNestedQuad(o,!1,u),this.endSubject(!1),this.hadObjectForPredicate=!0,this.lastPredicate=d,this.lastSubject=l;return}let c;try{o["@list"]?c=o:c=r.Util.termToValue(o,u,this.objectOptions||this.options)}catch(l){return this.emit("error",l)}this.pushIndented(JSON.stringify(c,null,this.options.space))}pushNestedQuad(o,u,c){this.pushSeparator(e.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?'"@id": ':'"@id":',!1),o.graph.termType!=="DefaultGraph"&&this.emit("error",new Error(`Found a nested quad with the non-default graph: ${o.graph.value}`)),this.pushId(o.subject,!1,c),this.pushPredicate(o.predicate,c),this.pushObject(o.object,c),this.endPredicate(!1),this.endSubject(u)}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(e.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END))}endPredicate(o){this.indentation--,this.pushSeparator(o?e.SeparatorType.ARRAY_END_COMMA:e.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(o){this.indentation--,this.pushSeparator(o?e.SeparatorType.OBJECT_END_COMMA:e.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(o){this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(o?e.SeparatorType.OBJECT_END_COMMA:e.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(o){this.pushIndented(o.label)}pushIndented(o,u=!0){const c=this.getIndentPrefix(),l=o.split(`
`).map(d=>c+d).join(`
`);this.push(l),this.options.space&&u&&this.push(`
`)}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}};return v0.JsonLdSerializer=a,v0}var QB;function tNe(){return QB||(QB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(eNe(),t),r(eee(),t)}(YO)),YO}var zB;function rNe(){if(zB)return b0;zB=1,Object.defineProperty(b0,"__esModule",{value:!0}),b0.ActorRdfSerializeJsonLd=void 0;const t=a4(),e=tNe();let r=class extends t.ActorRdfSerializeFixedMediaTypes{constructor(a){super(a)}async runHandle(a,s,o){const u=new e.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)});let c;return"pipe"in a.quadStream?(a.quadStream.on("error",l=>u.emit("error",l)),c=a.quadStream.pipe(u)):c=u.import(a.quadStream),{data:c}}};return b0.ActorRdfSerializeJsonLd=r,b0}var GB;function nNe(){return GB||(GB=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(rNe(),t)}(XO)),XO}var ZO={},T0={},Kv={},WB;function iNe(){if(WB)return Kv;WB=1,Object.defineProperty(Kv,"__esModule",{value:!0});function t(r,n){return new Promise((a,s)=>{r.on("end",()=>a(n)),r.on("error",s)})}function e(r){const n=[];return t(r.on("data",a=>n.push(a)),n)}return Kv.default=e,Kv}var E0={},Jv={},eR={},A0={},KB;function aNe(){if(KB)return A0;KB=1,Object.defineProperty(A0,"__esModule",{value:!0}),A0.fragment=void 0;function t(n){let a=n;(a.endsWith("/")||a.endsWith("#"))&&(a=a.slice(0,a.length-1));const s=[];a.lastIndexOf("/")>0&&s.push(a.lastIndexOf("/")),a.lastIndexOf("#")>0&&s.push(a.lastIndexOf("#"));const o=Math.max(...s);return a.slice(o+1)}function e(n){var a;const s=(a=n.split(/[^a-z0-9]+/ig).filter(o=>o!=="").map(o=>o[0].toUpperCase()+o.slice(1)).join("").match(/[a-z][a-z0-9]+/ig))===null||a===void 0?void 0:a[0];return typeof s>"u"?void 0:s[0].toLowerCase()+s.slice(1)}function r(n){let a=t(n);return a=a?e(a):void 0,a||"v"}return A0.fragment=r,A0}var tR={},O0={},rc={},Xv={exports:{}},JB;function sNe(){return JB||(JB=1,function(t,e){var r=typeof self<"u"?self:I,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var u={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c($){return $&&DataView.prototype.isPrototypeOf($)}if(u.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function($){return $&&l.indexOf(Object.prototype.toString.call($))>-1};function f($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test($))throw new TypeError("Invalid character in header field name");return $.toLowerCase()}function h($){return typeof $!="string"&&($=String($)),$}function p($){var q={next:function(){var H=$.shift();return{done:H===void 0,value:H}}};return u.iterable&&(q[Symbol.iterator]=function(){return q}),q}function m($){this.map={},$ instanceof m?$.forEach(function(q,H){this.append(H,q)},this):Array.isArray($)?$.forEach(function(q){this.append(q[0],q[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(q){this.append(q,$[q])},this)}m.prototype.append=function($,q){$=f($),q=h(q);var H=this.map[$];this.map[$]=H?H+", "+q:q},m.prototype.delete=function($){delete this.map[f($)]},m.prototype.get=function($){return $=f($),this.has($)?this.map[$]:null},m.prototype.has=function($){return this.map.hasOwnProperty(f($))},m.prototype.set=function($,q){this.map[f($)]=h(q)},m.prototype.forEach=function($,q){for(var H in this.map)this.map.hasOwnProperty(H)&&$.call(q,this.map[H],H,this)},m.prototype.keys=function(){var $=[];return this.forEach(function(q,H){$.push(H)}),p($)},m.prototype.values=function(){var $=[];return this.forEach(function(q){$.push(q)}),p($)},m.prototype.entries=function(){var $=[];return this.forEach(function(q,H){$.push([H,q])}),p($)},u.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y($){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}function g($){return new Promise(function(q,H){$.onload=function(){q($.result)},$.onerror=function(){H($.error)}})}function b($){var q=new FileReader,H=g(q);return q.readAsArrayBuffer($),H}function v($){var q=new FileReader,H=g(q);return q.readAsText($),H}function _($){for(var q=new Uint8Array($),H=new Array(q.length),X=0;X<q.length;X++)H[X]=String.fromCharCode(q[X]);return H.join("")}function w($){if($.slice)return $.slice(0);var q=new Uint8Array($.byteLength);return q.set(new Uint8Array($)),q.buffer}function E(){return this.bodyUsed=!1,this._initBody=function($){this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:u.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:u.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:u.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():u.arrayBuffer&&u.blob&&c($)?(this._bodyArrayBuffer=w($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||d($))?this._bodyArrayBuffer=w($):this._bodyText=$=Object.prototype.toString.call($):this._bodyText="",this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var $=y(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var $=y(this);if($)return $;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function L($){var q=$.toUpperCase();return O.indexOf(q)>-1?q:$}function F($,q){q=q||{};var H=q.body;if($ instanceof F){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,q.headers||(this.headers=new m($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!H&&$._bodyInit!=null&&(H=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=q.credentials||this.credentials||"same-origin",(q.headers||!this.headers)&&(this.headers=new m(q.headers)),this.method=L(q.method||this.method||"GET"),this.mode=q.mode||this.mode||null,this.signal=q.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(H)}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function x($){var q=new FormData;return $.trim().split("&").forEach(function(H){if(H){var X=H.split("="),Y=X.shift().replace(/\+/g," "),he=X.join("=").replace(/\+/g," ");q.append(decodeURIComponent(Y),decodeURIComponent(he))}}),q}function P($){var q=new m,H=$.replace(/\r?\n[\t ]+/g," ");return H.split(/\r?\n/).forEach(function(X){var Y=X.split(":"),he=Y.shift().trim();if(he){var Te=Y.join(":").trim();q.append(he,Te)}}),q}E.call(F.prototype);function j($,q){q||(q={}),this.type="default",this.status=q.status===void 0?200:q.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in q?q.statusText:"OK",this.headers=new m(q.headers),this.url=q.url||"",this._initBody($)}E.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},j.error=function(){var $=new j(null,{status:0,statusText:""});return $.type="error",$};var N=[301,302,303,307,308];j.redirect=function($,q){if(N.indexOf(q)===-1)throw new RangeError("Invalid status code");return new j(null,{status:q,headers:{location:$}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(q,H){this.message=q,this.name=H;var X=Error(q);this.stack=X.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function V($,q){return new Promise(function(H,X){var Y=new F($,q);if(Y.signal&&Y.signal.aborted)return X(new o.DOMException("Aborted","AbortError"));var he=new XMLHttpRequest;function Te(){he.abort()}he.onload=function(){var Ne={status:he.status,statusText:he.statusText,headers:P(he.getAllResponseHeaders()||"")};Ne.url="responseURL"in he?he.responseURL:Ne.headers.get("X-Request-URL");var $e="response"in he?he.response:he.responseText;H(new j($e,Ne))},he.onerror=function(){X(new TypeError("Network request failed"))},he.ontimeout=function(){X(new TypeError("Network request failed"))},he.onabort=function(){X(new o.DOMException("Aborted","AbortError"))},he.open(Y.method,Y.url,!0),Y.credentials==="include"?he.withCredentials=!0:Y.credentials==="omit"&&(he.withCredentials=!1),"responseType"in he&&u.blob&&(he.responseType="blob"),Y.headers.forEach(function(Ne,$e){he.setRequestHeader($e,Ne)}),Y.signal&&(Y.signal.addEventListener("abort",Te),he.onreadystatechange=function(){he.readyState===4&&Y.signal.removeEventListener("abort",Te)}),he.send(typeof Y._bodyInit>"u"?null:Y._bodyInit)})}return V.polyfill=!0,s.fetch||(s.fetch=V,s.Headers=m,s.Request=F,s.Response=j),o.Headers=m,o.Request=F,o.Response=j,o.fetch=V,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=n;e=a.fetch,e.default=a.fetch,e.fetch=a.fetch,e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response,t.exports=e}(Xv,Xv.exports)),Xv.exports}var XB;function s4(){if(XB)return rc;XB=1;var t=I&&I.__awaiter||function(a,s,o,u){function c(l){return l instanceof o?l:new o(function(d){d(l)})}return new(o||(o=Promise))(function(l,d){function f(m){try{p(u.next(m))}catch(y){d(y)}}function h(m){try{p(u.throw(m))}catch(y){d(y)}}function p(m){m.done?l(m.value):c(m.value).then(f,h)}p((u=u.apply(a,s||[])).next())})};Object.defineProperty(rc,"__esModule",{value:!0}),rc.fetchContext=rc.fetchJson=void 0;const e=sNe();function r(a,s){var o;return t(this,void 0,void 0,function*(){return(yield((o=s==null?void 0:s.fetch)!==null&&o!==void 0?o:e.fetch)(a)).json()})}rc.fetchJson=r;function n(a,s){return t(this,void 0,void 0,function*(){return(yield r(a,s))["@context"]})}return rc.fetchContext=n,rc}var YB;function oNe(){if(YB)return O0;YB=1;var t=I&&I.__awaiter||function(n,a,s,o){function u(c){return c instanceof s?c:new s(function(l){l(c)})}return new(s||(s=Promise))(function(c,l){function d(p){try{h(o.next(p))}catch(m){l(m)}}function f(p){try{h(o.throw(p))}catch(m){l(m)}}function h(p){p.done?c(p.value):u(p.value).then(d,f)}h((o=o.apply(n,a||[])).next())})};Object.defineProperty(O0,"__esModule",{value:!0}),O0.lookupUri=void 0;const e=s4();function r(n,a){return t(this,void 0,void 0,function*(){const s=(yield(0,e.fetchContext)(`https://prefix.cc/${n}.file.jsonld`,a))[n];if(typeof s!="string")throw new Error(`Expected uri to be a string, received: ${s} of type ${typeof s}`);return s})}return O0.lookupUri=r,O0}var R0={},ZB;function uNe(){if(ZB)return R0;ZB=1;var t=I&&I.__awaiter||function(n,a,s,o){function u(c){return c instanceof s?c:new s(function(l){l(c)})}return new(s||(s=Promise))(function(c,l){function d(p){try{h(o.next(p))}catch(m){l(m)}}function f(p){try{h(o.throw(p))}catch(m){l(m)}}function h(p){p.done?c(p.value):u(p.value).then(d,f)}h((o=o.apply(n,a||[])).next())})};Object.defineProperty(R0,"__esModule",{value:!0}),R0.lookupPrefix=void 0;const e=s4();function r(n,a){return t(this,void 0,void 0,function*(){const s=new URL("https://prefix.cc/reverse");s.searchParams.append("uri",n),s.searchParams.append("format","jsonld");const o=Object.keys(yield(0,e.fetchContext)(s,a));if(o.length===0)throw new Error("No prefixes returned");return o[0]})}return R0.lookupPrefix=r,R0}var x0={},eq;function cNe(){if(eq)return x0;eq=1;var t=I&&I.__awaiter||function(n,a,s,o){function u(c){return c instanceof s?c:new s(function(l){l(c)})}return new(s||(s=Promise))(function(c,l){function d(p){try{h(o.next(p))}catch(m){l(m)}}function f(p){try{h(o.throw(p))}catch(m){l(m)}}function h(p){p.done?c(p.value):u(p.value).then(d,f)}h((o=o.apply(n,a||[])).next())})};Object.defineProperty(x0,"__esModule",{value:!0}),x0.lookupAllPrefixes=void 0;const e=s4();function r(n){return t(this,void 0,void 0,function*(){return(0,e.fetchContext)("https://prefix.cc/context",n)})}return x0.lookupAllPrefixes=r,x0}var tq;function rq(){return tq||(tq=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(oNe(),t),r(uNe(),t),r(cNe(),t)}(tR)),tR}var nq;function lNe(){return nq||(nq=1,function(t){var e=I&&I.__awaiter||function(u,c,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function m(b){try{g(d.next(b))}catch(v){p(v)}}function y(b){try{g(d.throw(b))}catch(v){p(v)}}function g(b){b.done?h(b.value):f(b.value).then(m,y)}g((d=d.apply(u,c||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.lookupAllPrefixes=t.prefixToUri=t.uriToPrefix=void 0;const r=aNe(),n=rq();function a(u,c){return e(this,void 0,void 0,function*(){let l;try{l=yield(0,n.lookupPrefix)(u,c)}catch{c!=null&&c.mintOnUnknown&&(l=(0,r.fragment)(u).slice(0,4))}if(typeof l<"u"&&typeof(c==null?void 0:c.existingPrefixes)=="object"&&l in c.existingPrefixes){let d=0;for(;`${l}${d}`in c.existingPrefixes;)d+=1;l=`${l}${d}`}return l})}t.uriToPrefix=a;function s(u,c){return e(this,void 0,void 0,function*(){try{return yield(0,n.lookupUri)(u,c)}catch{return}})}t.prefixToUri=s;var o=rq();Object.defineProperty(t,"lookupAllPrefixes",{enumerable:!0,get:function(){return o.lookupAllPrefixes}})}(eR)),eR}var I0={},iq;function dNe(){if(iq)return I0;iq=1,Object.defineProperty(I0,"__esModule",{value:!0}),I0.getShaclName=void 0;function t(e){if(e.termType!=="NamedNode"||!e.value.startsWith("http://www.w3.org/ns/shacl#"))throw new Error(`Term ${e.value} is not part of the SHACL namespace`);return e.value.slice(27)}return I0.getShaclName=t,I0}var Yv={},aq;function fNe(){return aq||(aq=1,Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.default={deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,uniqueLang:!0,equals:!0,disjoint:!0,lessThan:!0,lessThanOrEquals:!0,qualifiedValueShape:!0,qualifiedMinCount:!0,qualifiedMaxCount:!0,qualifiedValueShapesDisjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0,node:!0}),Yv}var Zv={},sq;function hNe(){return sq||(sq=1,Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.default={owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"}),Zv}var ew={},oq;function pNe(){return oq||(oq=1,Object.defineProperty(ew,"__esModule",{value:!0}),ew.default={targetNode:!0,targetObjectsOf:!0,targetSubjectsOf:!0,deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,equals:!0,disjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0}),ew}var uq;function yNe(){if(uq)return Jv;uq=1;var t=I&&I.__awaiter||function(p,m,y,g){function b(v){return v instanceof y?v:new y(function(_){_(v)})}return new(y||(y=Promise))(function(v,_){function w(L){try{O(g.next(L))}catch(F){_(F)}}function E(L){try{O(g.throw(L))}catch(F){_(F)}}function O(L){L.done?v(L.value):b(L.value).then(w,E)}O((g=g.apply(p,m||[])).next())})},e=I&&I.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Jv,"__esModule",{value:!0});const r=Cu,n=lNe(),a=E1(),s=dNe(),o=e(fNe()),u=e(hNe()),c=e(pNe());function l(p){var m;return(m=/^[^]*[#/]/.exec(p))===null||m===void 0?void 0:m[0]}const d={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/ns/shacl#":"sh","http://www.w3.org/2001/XMLSchema#":"xsd"},f={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};class h{constructor(m,y,g={},b=void 0,v=!0,_=!1,w,E=!1){this.store=m,this.base=b,this.errorOnExtraQuads=v,this.mintUnspecifiedPrefixes=_,this.fetch=w,this.extendedSyntax=E,this.prefixes={},this.prefixRev={};for(const O of Object.keys(g)){const L=g[O],F=typeof L=="string"?L:L.value;!(F in d)&&!(O in f)&&(this.prefixRev[F]=O,this.prefixes[O]=F)}this.writer=y}write(){return t(this,void 0,void 0,function*(){const m=this.store.getQuads(null,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/2002/07/owl#Ontology",null);if(m.length===1&&m[0].subject.termType==="NamedNode"){const g=m[0].subject;this.store.removeQuads(m),g.equals(new r.NamedNode("urn:x-base:default"))||this.writer.add(`BASE ${(0,a.termToString)(g)}`),yield this.writeImports(g)}else throw new Error("Base expected");if(this.mintUnspecifiedPrefixes){const g=new Set;for(const v of[...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)])if(v.termType==="NamedNode"){const _=l(v.value);_&&!(_ in this.prefixRev)&&!(_ in d)&&g.add(_)}const b=Object.assign(Object.assign({},this.prefixes),f);yield Promise.all([...g].map(v=>(0,n.uriToPrefix)(v,{fetch:this.fetch,mintOnUnknown:!0,existingPrefixes:b}).then(_=>{this.prefixes[_]=v,b[_]=v,this.prefixRev[v]=_})))}const y=new Set([...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)].filter(g=>g.termType==="NamedNode").map(g=>l(g.value)).filter(g=>typeof g=="string"));for(const g in this.prefixRev)y.has(g)||(delete this.prefixes[this.prefixRev[g]],delete this.prefixRev[g]);if(yield this.writePrefixes(),this.prefixes=Object.assign(Object.assign({},this.prefixes),f),this.prefixRev=Object.assign(Object.assign({},this.prefixRev),d),this.writer.newLine(),yield this.writeShapes(),this.extendedSyntax){const g=this.store.getSubjects(null,null,null);g.length>0&&this.writer.newLine(1);for(const b of g)this.writer.add(yield this.termToString(b,!0,!0)),this.writer.add(" "),this.writer.indent(),yield this.writeTurtlePredicates(b),this.writer.deindent();g.length>0&&(this.writer.add(" ."),this.writer.newLine())}if(this.errorOnExtraQuads&&this.store.size>0)throw new Error(`Dataset contains quads that cannot be written in SHACLC [
${new r.Writer({prefixes:this.prefixes}).quadsToString(this.store.getQuads(null,null,null,null))}]`);this.writer.end()})}writeImports(m){return t(this,void 0,void 0,function*(){const y=this.store.getObjectsOnce(m,new r.NamedNode("http://www.w3.org/2002/07/owl#imports"),null);if(y.length>0)for(const g of y)this.writer.add(`IMPORTS <${g.value}>`,!0)})}writePrefixes(){return t(this,void 0,void 0,function*(){const m=Object.keys(this.prefixes).filter(y=>!(y in u.default)).sort();if(m.length>0)for(const y of m)this.writer.add(`PREFIX ${y}: <${this.prefixes[y]}>`,!0)})}termToString(m,y=!1,g=!1){return t(this,void 0,void 0,function*(){try{if(y)throw new Error("Shacl name disabled");return(0,s.getShaclName)(m)}catch{}if(m.termType==="NamedNode"){const b=l(m.value);return b&&b in this.prefixRev&&b in this.prefixRev?`${this.prefixRev[b]}:${m.value.slice(b.length)}`:(0,a.termToString)(m)}if(m.termType==="Literal")return m.datatypeString==="http://www.w3.org/2001/XMLSchema#integer"||m.datatypeString==="http://www.w3.org/2001/XMLSchema#boolean"?m.value:(0,a.termToString)(m);throw m.termType==="BlankNode"&&g&&(0,a.termToString)(m),new Error(`Invalid term type for extra statement ${m.value} (${m.termType})`)})}writeShapes(){return t(this,void 0,void 0,function*(){for(const m of this.store.getSubjectsOnce(new r.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new r.NamedNode("http://www.w3.org/ns/shacl#NodeShape"),null)){this.store.getQuadsOnce(m,new r.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new r.NamedNode("http://www.w3.org/2000/01/rdf-schema#Class"),null).length>0?this.writer.add("shapeClass "):this.writer.add("shape "),this.writer.add(yield this.termToString(m)),this.writer.add(" ");const y=this.store.getObjectsOnce(m,new r.NamedNode("http://www.w3.org/ns/shacl#targetClass"),null);if(y.length>0){this.writer.add("-> ");for(const b of y)b.termType==="NamedNode"?this.writer.add(yield this.termToString(b)):(this.writer.add("!"),this.writer.add(yield this.termToString(this.singleObject(b,new r.NamedNode("http://www.w3.org/ns/shacl#not"),!0)))),this.writer.add(" ")}const g=this.store.getPredicates(m,null,null).filter(b=>[new r.NamedNode("http://www.w3.org/ns/shacl#targetClass"),new r.NamedNode("http://www.w3.org/ns/shacl#property"),new r.NamedNode("http://www.w3.org/ns/shacl#or"),...Object.keys(c.default).map(v=>new r.NamedNode("http://www.w3.org/ns/shacl#"+v))].every(v=>!b.equals(v)));g.length>0&&(this.writer.add(";"),this.writer.indent(),this.writer.newLine(1)),this.extendedSyntax&&(yield this.writeGivenTurtlePredicates(m,g)),g.length>0&&(this.writer.add(" "),this.writer.deindent()),yield this.writeShapeBody(m,!1)}})}getSingleProperty(m,y){let g=[m];try{let b=(0,s.getShaclName)(m.predicate),v="pred";if(b==="not"){const _=this.store.getQuadsOnce(m.object,null,null,null);if(g=g.concat(_),_.length!==1)throw new Error("Can only handle having one predicate of 'not'");[m]=_,b=(0,s.getShaclName)(m.predicate),v="not"}if(!(b in y))throw new Error(`${b} is not allowed`);return{name:b,type:v,object:m.object}}catch{this.store.addQuads(g)}}singleLayerPropertiesList(m,y){const g=[];for(const b of this.store.getQuadsOnce(m,null,null,null)){const v=this.getSingleProperty(b,y);v&&g.push(v)}return g}expectOneProperty(m,y){const g=this.store.getQuadsOnce(m,null,null,null);if(g.length===1){const b=this.getSingleProperty(g[0],y);if(b)return b}this.store.addQuads(g)}orProperties(m,y){const g=[];for(const b of this.store.getQuadsOnce(m,new r.NamedNode("http://www.w3.org/ns/shacl#or"),null,null)){const v=[];for(const _ of this.getList(b.object)){const w=this.expectOneProperty(_,y);if(!w)throw this.store.addQuad(b),new Error("Each entry of the 'or' statement must declare exactly one property");v.push(w)}g.push(v)}return g}getList(m){let y=m;const g=[];for(;!y.equals(new r.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));)g.push(this.singleObject(y,new r.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),!0)),y=this.singleObject(y,new r.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),!0);return g}writeIriLiteralOrArray(m){return t(this,void 0,void 0,function*(){if(m.termType==="BlankNode"){this.writer.add("[");let y=!0;for(const g of this.getList(m))y?y=!1:this.writer.add(" "),this.writer.add(yield this.termToString(g));this.writer.add("]")}else this.writer.add(yield this.termToString(m))})}singleObject(m,y,g){var b;return(b=this.singleQuad(m,y,g))===null||b===void 0?void 0:b.object}singleQuad(m,y,g=!1){const b=this.store.getQuadsOnce(m,y,null,null);if(g&&b.length!==1)throw this.store.addQuads(b),new Error(`The subject and predicate ${m==null?void 0:m.value} ${y==null?void 0:y.value} must have exactly one object. Instead has ${b.length}`);if(b.length>1)throw this.store.addQuads(b),new Error(`The subject and predicate ${m==null?void 0:m.value} ${y==null?void 0:y.value} can have at most one object. Instead has ${b.length}`);return b.length===1?b[0]:void 0}writeAssigment({name:m,type:y,object:g}){return t(this,void 0,void 0,function*(){y==="not"&&this.writer.add("!"),this.writer.add(m),this.writer.add("="),yield this.writeIriLiteralOrArray(g)})}writeAtom({name:m,type:y,object:g}){return t(this,void 0,void 0,function*(){switch(y==="not"&&this.writer.add("!"),m){case"node":{if(g.termType==="NamedNode")this.writer.add(`@${yield this.termToString(g)}`);else if(g.termType==="BlankNode")yield this.writeShapeBody(g);else throw new Error("Invalid nested shape, must be blank node or IRI");return}case"nodeKind":{this.writer.add((0,s.getShaclName)(g));return}case"class":{this.writer.add(yield this.termToString(g));return}case"datatype":{this.writer.add(yield this.termToString(g));return}default:this.writer.add(m),this.writer.add("="),yield this.writeIriLiteralOrArray(g)}})}writeAssigments(m,y=" ",g=!0,b){return t(this,void 0,void 0,function*(){for(const v of m)g?g=!1:this.writer.add(y),b?yield this.writeAtom(v):yield this.writeAssigment(v)})}writeParams(m,y=!0,g,b=!1,v=!1){return t(this,void 0,void 0,function*(){const _=this.orProperties(m,g),w=this.singleLayerPropertiesList(m,g);v&&(_.length>0||w.length>0)&&this.writer.newLine(1);for(const E of _)y?y=!1:this.writer.add(" "),yield this.writeAssigments(E,"|",!0,b);yield this.writeAssigments(w," ",y,b),v&&(_.length>0||w.length>0)&&this.writer.add(" .")})}writeShapeBody(m,y=!0){return t(this,void 0,void 0,function*(){this.writer.add("{").indent();const g=this.store.getObjectsOnce(m,new r.NamedNode("http://www.w3.org/ns/shacl#property"),null);yield this.writeParams(m,!0,c.default,!1,!0);for(const b of g)this.writer.newLine(1),yield this.writeProperty(b);this.writer.deindent().newLine(1),y?this.writer.add("} ."):this.writer.add("}").newLine(1)})}writeProperty(m){return t(this,void 0,void 0,function*(){yield this.writePath(this.singleObject(m,new r.NamedNode("http://www.w3.org/ns/shacl#path"),!0));const y=this.singleObject(m,new r.NamedNode("http://www.w3.org/ns/shacl#minCount")),g=this.singleObject(m,new r.NamedNode("http://www.w3.org/ns/shacl#maxCount")),b=this.singleObject(m,new r.NamedNode("http://www.w3.org/ns/shacl#nodeKind")),v=this.singleObject(m,new r.NamedNode("http://www.w3.org/ns/shacl#class")),_=this.singleObject(m,new r.NamedNode("http://www.w3.org/ns/shacl#datatype")),w=this.store.getObjectsOnce(m,new r.NamedNode("http://www.w3.org/ns/shacl#node"),null);if(b&&(this.writer.add(" "),this.writer.add((0,s.getShaclName)(b))),v&&(this.writer.add(" "),this.writer.add(yield this.termToString(v))),_&&(this.writer.add(" "),this.writer.add(yield this.termToString(_))),y!==void 0||g!==void 0){if(this.writer.add(" ["),y){if(y.termType!=="Literal"||y.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid min value, must me an integer literal");this.writer.add(y.value)}else this.writer.add("0");if(this.writer.add(".."),g){if(g.termType!=="Literal"||g.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid max value, must me an integer literal");this.store.removeMatches(m,new r.NamedNode("http://www.w3.org/ns/shacl#maxCount"),void 0,void 0),this.writer.add(g.value)}else this.writer.add("*");this.writer.add("]")}yield this.writeParams(m,!1,o.default,!0);const E=[];for(const O of w)if(O.termType==="NamedNode")this.writer.add(" "),this.writer.add(`@${yield this.termToString(O)}`);else if(O.termType==="BlankNode")E.push(O);else throw new Error("Invalid nested shape, must be blank node or IRI");for(const O of E)this.writer.add(" "),yield this.writeShapeBody(O);this.extendedSyntax&&this.store.getQuads(m,null,null,null).length>0&&(this.writer.add(" %"),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(m),this.writer.deindent(),this.writer.newLine(1),this.writer.add("%")),E.length===0&&this.writer.add(" .")})}writeTurtlePredicates(m){return t(this,void 0,void 0,function*(){return this.writeGivenTurtlePredicates(m,this.store.getPredicates(m,null,null))})}writeGivenTurtlePredicates(m,y){return t(this,void 0,void 0,function*(){let g=!1;if(y.some(b=>b.equals(r.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")))){const b=this.store.getObjectsOnce(m,r.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null);b.length>0&&(g=!0,this.writer.add("a "),yield this.writeTurtleObjects(b))}for(const b of y)b.equals(r.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))||(g?(this.writer.add(" ;"),this.writer.newLine(1)):g=!0,this.writer.add(yield this.termToString(b,!0)),this.writer.add(" "),yield this.writeTurtleObjects(this.store.getObjectsOnce(m,b,null)))})}writeTurtleObjects(m){return t(this,void 0,void 0,function*(){const y=[],g=[];for(const v of m)v.termType==="BlankNode"&&[...this.store.match(null,null,v),...this.store.match(null,v,null)].length===0?y.push(v):g.push(v);this.writer.add((yield Promise.all(g.map(v=>this.termToString(v,!0,!0)))).join(", "));let b=g.length>0;if(y.length>0)for(const v of y)b?this.writer.add(", "):b=!0,(yield this.writeList(v))||(this.writer.add("["),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(v),this.writer.deindent(),this.writer.newLine(1),this.writer.add("]"))})}writeList(m){return t(this,void 0,void 0,function*(){let y=m;const g=[],b=[];for(;!y.equals(r.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));){const _=this.store.getQuadsOnce(y,r.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null,null),w=this.store.getQuadsOnce(y,r.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null,null);if(b.push(..._,...w),_.length!==1||w.length!==1||this.store.getQuads(y,null,null,null).length!==0)return this.store.addQuads(b),!1;g.push(_[0].object),y=w[0].object}let v=!1;this.writer.add("(");for(const _ of g)v?this.writer.add(" "):v=!0,yield this.writeTurtleObjects([_]);return this.writer.add(")"),!0})}writePath(m,y=!1){return t(this,void 0,void 0,function*(){if(m.termType==="NamedNode")this.writer.add(yield this.termToString(m));else if(m.termType==="BlankNode"){const g=this.store.getQuadsOnce(m,null,null,null);if(g.length===1){const{predicate:b,object:v}=g[0];switch(b.value){case"http://www.w3.org/ns/shacl#inversePath":this.writer.add("^"),yield this.writePath(v,!0);return;case"http://www.w3.org/ns/shacl#alternativePath":{const _=this.getList(v);if(_.length===0)throw new Error("Invalid Alternative Path - no options");if(_.length===1)yield this.writePath(_[0]);else{y&&this.writer.add("(");let w=!0;for(const E of _)w?w=!1:this.writer.add("|"),yield this.writePath(E,!0);y&&this.writer.add(")")}return}case"http://www.w3.org/ns/shacl#zeroOrMorePath":yield this.writePath(v,!0),this.writer.add("*");return;case"http://www.w3.org/ns/shacl#oneOrMorePath":yield this.writePath(v,!0),this.writer.add("+");return;case"http://www.w3.org/ns/shacl#zeroOrOnePath":yield this.writePath(v,!0),this.writer.add("?");return;default:throw new Error(`Invalid path type ${m.value}`)}}else{this.store.addQuads(g);const b=this.getList(m);if(b.length===0)throw new Error("Invalid Path");{y&&this.writer.add("(");let v=!0;for(const _ of b)v?v=!1:this.writer.add("/"),yield this.writePath(_,!0);y&&this.writer.add(")")}}}else throw new Error("Path should be named node or blank node")})}}return Jv.default=h,Jv}var tw={},cq;function mNe(){if(cq)return tw;cq=1,Object.defineProperty(tw,"__esModule",{value:!0});class t{constructor(r){this.indents=0,this.write=r.write,this.end=r.end}indent(){return this.indents+=1,this}deindent(){if(this.indents<1)throw new Error(`Trying to deindent when indent is only ${this.indents}`);return this.indents-=1,this}add(r,n=!1){return this.write(n?`
${"	".repeat(this.indents)}${r}`:r,"utf-8"),this}newLine(r=2){return this.write(`
`.repeat(r)+"	".repeat(this.indents),"utf-8"),this}}return tw.default=t,tw}var rw={},lq;function gNe(){if(lq)return rw;lq=1,Object.defineProperty(rw,"__esModule",{value:!0});const t=Cu;class e extends t.Store{getQuadsOnce(n,a,s,o){const u=this.getQuads(n,a,s,o);return this.removeQuads(u),u}getSubjectsOnce(n,a,s){return this.getQuadsOnce(null,n,a,s).map(o=>o.subject)}getObjectsOnce(n,a,s){return this.getQuadsOnce(n,a,null,s).map(o=>o.object)}}return rw.default=e,rw}var dq;function _Ne(){if(dq)return E0;dq=1;var t=I&&I.__awaiter||function(u,c,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function m(b){try{g(d.next(b))}catch(v){p(v)}}function y(b){try{g(d.throw(b))}catch(v){p(v)}}function g(b){b.done?h(b.value):f(b.value).then(m,y)}g((d=d.apply(u,c||[])).next())})},e=I&&I.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(E0,"__esModule",{value:!0}),E0.write=void 0;const r=Cu,n=e(yNe()),a=e(mNe()),s=e(gNe());function o(u,c){return t(this,void 0,void 0,function*(){return new Promise((l,d)=>t(this,void 0,void 0,function*(){try{let f="";const h=new s.default(u),p=h.getGraphs(null,null,null);if(p.length>1)throw new Error("More than one graph found - can serialize in the default graph");if(p.length===1&&!p[0].equals(r.DataFactory.defaultGraph()))throw new Error(`Expected all triples to be in the default graph, instead triples were in ${p[0].value}`);const m=new a.default({write:g=>{f+=g},end:()=>{let g=h.getQuads(null,null,null,null);g.length===0&&(g=void 0),l({text:f,extraQuads:g})}});yield new n.default(h,m,c==null?void 0:c.prefixes,void 0,(c==null?void 0:c.errorOnUnused)!==!1,c==null?void 0:c.mintPrefixes,c==null?void 0:c.fetch,c==null?void 0:c.extendedSyntax).write()}catch(f){d(f)}}))})}return E0.write=o,E0}var fq;function bNe(){if(fq)return T0;fq=1,Object.defineProperty(T0,"__esModule",{value:!0}),T0.ActorRdfSerializeShaclc=void 0;const t=a4(),e=iNe(),r=Pt,n=_Ne();let a=class extends t.ActorRdfSerializeFixedMediaTypes{constructor(o){super(o)}async runHandle(o,u){const c=new r.Readable;c._read=()=>{};try{const l={};o.quadStream.on("prefix",(f,h)=>{l[f]=h});const{text:d}=await(0,n.write)(await(0,e.default)(o.quadStream),{errorOnUnused:!0,extendedSyntax:u==="text/shaclc-ext",prefixes:l});c.push(d),c.push(null)}catch(l){c._read=()=>{c.emit("error",l)}}return{data:c,triples:!0}}};return T0.ActorRdfSerializeShaclc=a,T0}var hq;function vNe(){return hq||(hq=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(bNe(),t)}(ZO)),ZO}var rR={},P0={},nR={},N0={},pq;function ree(){if(pq)return N0;pq=1,Object.defineProperty(N0,"__esModule",{value:!0}),N0.ActorRdfUpdateQuads=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return N0.ActorRdfUpdateQuads=e,N0}var Vs={},yq;function wNe(){if(yq)return Vs;yq=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.ActorRdfUpdateQuadsDestination=Vs.deskolemize=Vs.deskolemizeStream=void 0;const t=lY(),e=qt,r=ree();function n(o,u){return o==null?void 0:o.map(c=>(0,t.deskolemizeQuad)(c,u))}Vs.deskolemizeStream=n;function a(o){var l;const u=o.context.get(e.KeysRdfUpdateQuads.destination),c=(l=o.context.get(e.KeysQuerySourceIdentify.sourceIds))==null?void 0:l.get(u);return c?{...o,quadStreamInsert:n(o.quadStreamInsert,c),quadStreamDelete:n(o.quadStreamDelete,c)}:o}Vs.deskolemize=a;let s=class extends r.ActorRdfUpdateQuads{async test(u){return!0}async run(u){const c=await this.getDestination(u.context);return await this.getOutput(c,a(u))}async getOutput(u,c){return{execute:async()=>{await(c.quadStreamDelete?u.delete(c.quadStreamDelete):Promise.resolve()),await(c.deleteGraphs?u.deleteGraphs(c.deleteGraphs.graphs,c.deleteGraphs.requireExistence,c.deleteGraphs.dropGraphs):Promise.resolve()),await(c.createGraphs?u.createGraphs(c.createGraphs.graphs,c.createGraphs.requireNonExistence):Promise.resolve()),await(c.quadStreamInsert?u.insert(c.quadStreamInsert):Promise.resolve())}}}};return Vs.ActorRdfUpdateQuadsDestination=s,Vs}var iR={},mq;function SNe(){return mq||(mq=1,Object.defineProperty(iR,"__esModule",{value:!0})),iR}var Wn={},gq;function TNe(){if(gq)return Wn;gq=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.getContextDestinationUrl=Wn.getContextDestination=Wn.getDataDestinationContext=Wn.getDataDestinationValue=Wn.getDataDestinationType=Wn.isDataDestinationRawType=void 0;const t=qt;function e(u){return typeof u=="string"||"remove"in u}Wn.isDataDestinationRawType=e;function r(u){return typeof u=="string"?"":"remove"in u?"rdfjsStore":u.type}Wn.getDataDestinationType=r;function n(u){return e(u)?u:u.value}Wn.getDataDestinationValue=n;function a(u,c){return typeof u=="string"||"remove"in u||!u.context?c:c.merge(u.context)}Wn.getDataDestinationContext=a;function s(u){return u.get(t.KeysRdfUpdateQuads.destination)}Wn.getContextDestination=s;function o(u){if(u){let c=n(u);if(typeof c=="string"){const l=c.indexOf("#");return l>=0&&(c=c.slice(0,l)),c}}}return Wn.getContextDestinationUrl=o,Wn}var _q;function o4(){return _q||(_q=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ree(),t),r(wNe(),t),r(SNe(),t),r(TNe(),t)}(nR)),nR}var D0={},vT={};Object.defineProperty(vT,"__esModule",{value:!0});var nee=vT.promisifyEventEmitter=void 0;function ENe(t,e){return new Promise((r,n)=>{t.on("end",()=>r(e)),t.on("error",n)})}nee=vT.promisifyEventEmitter=ENe;var bq;function ANe(){if(bq)return D0;bq=1,Object.defineProperty(D0,"__esModule",{value:!0}),D0.RdfJsQuadDestination=void 0;const t=vT,e=Ot,r=nr,n=new e.DataFactory;let a=class{constructor(o){this.store=o}delete(o){return(0,t.promisifyEventEmitter)(this.store.remove(o))}insert(o){return(0,t.promisifyEventEmitter)(this.store.import(o))}async deleteGraphs(o,u,c){switch(o){case"ALL":await(0,t.promisifyEventEmitter)(this.store.deleteGraph(n.defaultGraph()));case"NAMED":const l=this.store.match(),d={};l.on("data",f=>{f.graph.termType!=="DefaultGraph"&&(d[(0,r.termToString)(f.graph)]=!0)}),await(0,t.promisifyEventEmitter)(l),await Promise.all(Object.keys(d).map(f=>(0,t.promisifyEventEmitter)(this.store.deleteGraph((0,r.stringToTerm)(f)))));break;default:for(const f of Array.isArray(o)?o:[o])await(0,t.promisifyEventEmitter)(this.store.deleteGraph(f))}}async createGraphs(o,u){if(u)for(const c of o){const l=this.store.match(void 0,void 0,void 0,c);await new Promise((d,f)=>{l.once("data",()=>{f(new Error(`Unable to create graph ${c.value} as it already exists`))}),l.on("end",d),l.on("error",f)})}}};return D0.RdfJsQuadDestination=a,D0}var vq;function ONe(){if(vq)return P0;vq=1,Object.defineProperty(P0,"__esModule",{value:!0}),P0.ActorRdfUpdateQuadsRdfJsStore=void 0;const t=o4(),e=ANe();let r=class extends t.ActorRdfUpdateQuadsDestination{constructor(a){super(a)}async test(a){const s=(0,t.getContextDestination)(a.context);if(!s||typeof s=="string"||!("remove"in s)&&"value"in s&&!s.value.remove)throw new Error(`${this.name} received an invalid rdfjsStore.`);return!0}async getDestination(a){const s=(0,t.getContextDestination)(a);return new e.RdfJsQuadDestination("remove"in s?s:s.value)}};return P0.ActorRdfUpdateQuadsRdfJsStore=r,P0}var wq;function RNe(){return wq||(wq=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ONe(),t)}(rR)),rR}var aR={},C0={},sR={},L0={},oR={},nc={},Sq;function xNe(){if(Sq)return nc;Sq=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.readableFromWeb=nc.ReadableFromWeb=void 0;const t=Pt;let e=class extends t.Readable{constructor(a,s){super(s),this.reader=a.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(o=>{this.readerClosed=!0,this.destroy(o)})}_read(){this.reader.read().then(a=>this.push(a.done?null:a.value)).catch(a=>this.destroy(a))}destroy(a){return this.readerClosed||this.reader.cancel(a).then().catch(()=>{}),super.destroy(a)}};nc.ReadableFromWeb=e;function r(n,a){return new e(n,a)}return nc.readableFromWeb=r,nc}var Tq;function INe(){return Tq||(Tq=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.readableFromWeb=void 0;var e=xNe();Object.defineProperty(t,"readableFromWeb",{enumerable:!0,get:function(){return e.readableFromWeb}})}(oR)),oR}function nw(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uR={exports:{}},Eq;function PNe(){return Eq||(Eq=1,function(t,e){(function(r){t.exports=r()})(function(){return function r(n,a,s){function o(l,d){if(!a[l]){if(!n[l]){var f=typeof nw=="function"&&nw;if(!d&&f)return f(l,!0);if(u)return u(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var p=a[l]={exports:{}};n[l][0].call(p.exports,function(m){var y=n[l][1][m];return o(y||m)},p,p.exports,r,n,a,s)}return a[l].exports}for(var u=typeof nw=="function"&&nw,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(r,n,a){Object.defineProperty(a,"__esModule",{value:!0});var s=r("./spec/reference-implementation/lib/readable-stream"),o=s.ReadableStream,u=r("./spec/reference-implementation/lib/writable-stream"),c=u.WritableStream,l=r("./spec/reference-implementation/lib/byte-length-queuing-strategy"),d=r("./spec/reference-implementation/lib/count-queuing-strategy"),f=r("./spec/reference-implementation/lib/transform-stream"),h=f.TransformStream;a.ByteLengthQueuingStrategy=l,a.CountQueuingStrategy=d,a.ReadableStream=o,a.WritableStream=c,a.TransformStream=h;var p={ReadableStream:o,WritableStream:c,ByteLengthQueuingStrategy:l,CountQueuingStrategy:d,TransformStream:h};a.default=p},{"./spec/reference-implementation/lib/byte-length-queuing-strategy":8,"./spec/reference-implementation/lib/count-queuing-strategy":9,"./spec/reference-implementation/lib/readable-stream":12,"./spec/reference-implementation/lib/transform-stream":13,"./spec/reference-implementation/lib/writable-stream":15}],2:[function(r,n,a){(function(s){function o($,q){if($===q)return 0;for(var H=$.length,X=q.length,Y=0,he=Math.min(H,X);Y<he;++Y)if($[Y]!==q[Y]){H=$[Y],X=q[Y];break}return H<X?-1:X<H?1:0}function u($){return s.Buffer&&typeof s.Buffer.isBuffer=="function"?s.Buffer.isBuffer($):!($==null||!$._isBuffer)}function c($){return Object.prototype.toString.call($)}function l($){return!u($)&&typeof s.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView($):!!$&&($ instanceof DataView||!!($.buffer&&$.buffer instanceof ArrayBuffer)))}function d($){if(L.isFunction($)){if(P)return $.name;var q=$.toString().match(N);return q&&q[1]}}function f($,q){return typeof $=="string"?$.length<q?$:$.slice(0,q):$}function h($){if(P||!L.isFunction($))return L.inspect($);var q=d($);return"[Function"+(q?": "+q:"")+"]"}function p($){return f(h($.actual),128)+" "+$.operator+" "+f(h($.expected),128)}function m($,q,H,X,Y){throw new j.AssertionError({message:H,actual:$,expected:q,operator:X,stackStartFunction:Y})}function y($,q){$||m($,!0,q,"==",j.ok)}function g($,q,H,X){if($===q)return!0;if(u($)&&u(q))return o($,q)===0;if(L.isDate($)&&L.isDate(q))return $.getTime()===q.getTime();if(L.isRegExp($)&&L.isRegExp(q))return $.source===q.source&&$.global===q.global&&$.multiline===q.multiline&&$.lastIndex===q.lastIndex&&$.ignoreCase===q.ignoreCase;if($!==null&&typeof $=="object"||q!==null&&typeof q=="object"){if(l($)&&l(q)&&c($)===c(q)&&!($ instanceof Float32Array||$ instanceof Float64Array))return o(new Uint8Array($.buffer),new Uint8Array(q.buffer))===0;if(u($)!==u(q))return!1;var Y=(X=X||{actual:[],expected:[]}).actual.indexOf($);return Y!==-1&&Y===X.expected.indexOf(q)||(X.actual.push($),X.expected.push(q),v($,q,H,X))}return H?$===q:$==q}function b($){return Object.prototype.toString.call($)=="[object Arguments]"}function v($,q,H,X){if($==null||q===null||q===void 0)return!1;if(L.isPrimitive($)||L.isPrimitive(q))return $===q;if(H&&Object.getPrototypeOf($)!==Object.getPrototypeOf(q))return!1;var Y=b($),he=b(q);if(Y&&!he||!Y&&he)return!1;if(Y)return $=x.call($),q=x.call(q),g($,q,H);var Te,Ne,$e=V($),de=V(q);if($e.length!==de.length)return!1;for($e.sort(),de.sort(),Ne=$e.length-1;Ne>=0;Ne--)if($e[Ne]!==de[Ne])return!1;for(Ne=$e.length-1;Ne>=0;Ne--)if(Te=$e[Ne],!g($[Te],q[Te],H,X))return!1;return!0}function _($,q,H){g($,q,!0)&&m($,q,H,"notDeepStrictEqual",_)}function w($,q){if(!$||!q)return!1;if(Object.prototype.toString.call(q)=="[object RegExp]")return q.test($);try{if($ instanceof q)return!0}catch{}return!Error.isPrototypeOf(q)&&q.call({},$)===!0}function E($){var q;try{$()}catch(H){q=H}return q}function O($,q,H,X){var Y;if(typeof q!="function")throw new TypeError('"block" argument must be a function');typeof H=="string"&&(X=H,H=null),Y=E(q),X=(H&&H.name?" ("+H.name+").":".")+(X?" "+X:"."),$&&!Y&&m(Y,H,"Missing expected exception"+X);var he=typeof X=="string",Te=!$&&L.isError(Y),Ne=!$&&Y&&!H;if((Te&&he&&w(Y,H)||Ne)&&m(Y,H,"Got unwanted exception"+X),$&&Y&&H&&!w(Y,H)||!$&&Y)throw Y}var L=r("util/"),F=Object.prototype.hasOwnProperty,x=Array.prototype.slice,P=(function(){}).name==="foo",j=n.exports=y,N=/\s*function\s+([^\(\s]*)\s*/;j.AssertionError=function(q){this.name="AssertionError",this.actual=q.actual,this.expected=q.expected,this.operator=q.operator,q.message?(this.message=q.message,this.generatedMessage=!1):(this.message=p(this),this.generatedMessage=!0);var H=q.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,H);else{var X=new Error;if(X.stack){var Y=X.stack,he=d(H),Te=Y.indexOf(`
`+he);if(Te>=0){var Ne=Y.indexOf(`
`,Te+1);Y=Y.substring(Ne+1)}this.stack=Y}}},L.inherits(j.AssertionError,Error),j.fail=m,j.ok=y,j.equal=function(q,H,X){q!=H&&m(q,H,X,"==",j.equal)},j.notEqual=function(q,H,X){q==H&&m(q,H,X,"!=",j.notEqual)},j.deepEqual=function(q,H,X){g(q,H,!1)||m(q,H,X,"deepEqual",j.deepEqual)},j.deepStrictEqual=function(q,H,X){g(q,H,!0)||m(q,H,X,"deepStrictEqual",j.deepStrictEqual)},j.notDeepEqual=function(q,H,X){g(q,H,!1)&&m(q,H,X,"notDeepEqual",j.notDeepEqual)},j.notDeepStrictEqual=_,j.strictEqual=function(q,H,X){q!==H&&m(q,H,X,"===",j.strictEqual)},j.notStrictEqual=function(q,H,X){q===H&&m(q,H,X,"!==",j.notStrictEqual)},j.throws=function($,q,H){O(!0,$,q,H)},j.doesNotThrow=function($,q,H){O(!1,$,q,H)},j.ifError=function($){if($)throw $};var V=Object.keys||function($){var q=[];for(var H in $)F.call($,H)&&q.push(H);return q}}).call(this,typeof I<"u"?I:typeof self<"u"?self:typeof window<"u"?window:{})},{"util/":7}],3:[function(r,n,a){},{}],4:[function(r,n,a){function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(w){if(p===setTimeout)return setTimeout(w,0);if((p===s||!p)&&setTimeout)return p=setTimeout,setTimeout(w,0);try{return p(w,0)}catch{try{return p.call(null,w,0)}catch{return p.call(this,w,0)}}}function c(w){if(m===clearTimeout)return clearTimeout(w);if((m===o||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(w);try{return m(w)}catch{try{return m.call(null,w)}catch{return m.call(this,w)}}}function l(){v&&g&&(v=!1,g.length?b=g.concat(b):_=-1,b.length&&d())}function d(){if(!v){var w=u(l);v=!0;for(var E=b.length;E;){for(g=b,b=[];++_<E;)g&&g[_].run();_=-1,E=b.length}g=null,v=!1,c(w)}}function f(w,E){this.fun=w,this.array=E}function h(){}var p,m,y=n.exports={};(function(){try{p=typeof setTimeout=="function"?setTimeout:s}catch{p=s}try{m=typeof clearTimeout=="function"?clearTimeout:o}catch{m=o}})();var g,b=[],v=!1,_=-1;y.nextTick=function(w){var E=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)E[O-1]=arguments[O];b.push(new f(w,E)),b.length!==1||v||u(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=h,y.addListener=h,y.once=h,y.off=h,y.removeListener=h,y.removeAllListeners=h,y.emit=h,y.prependListener=h,y.prependOnceListener=h,y.listeners=function(w){return[]},y.binding=function(w){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(w){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},{}],5:[function(r,n,a){typeof Object.create=="function"?n.exports=function(o,u){o.super_=u,o.prototype=Object.create(u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(o,u){o.super_=u;var c=function(){};c.prototype=u.prototype,o.prototype=new c,o.prototype.constructor=o}},{}],6:[function(r,n,a){n.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],7:[function(r,n,a){(function(s,o){function u(de,ce){var xe={seen:[],stylize:l};return arguments.length>=3&&(xe.depth=arguments[2]),arguments.length>=4&&(xe.colors=arguments[3]),v(ce)?xe.showHidden=ce:ce&&a._extend(xe,ce),F(xe.showHidden)&&(xe.showHidden=!1),F(xe.depth)&&(xe.depth=2),F(xe.colors)&&(xe.colors=!1),F(xe.customInspect)&&(xe.customInspect=!0),xe.colors&&(xe.stylize=c),f(xe,de,xe.depth)}function c(de,ce){var xe=u.styles[ce];return xe?"\x1B["+u.colors[xe][0]+"m"+de+"\x1B["+u.colors[xe][1]+"m":de}function l(de,ce){return de}function d(de){var ce={};return de.forEach(function(xe,Pe){ce[xe]=!0}),ce}function f(de,ce,xe){if(de.customInspect&&ce&&V(ce.inspect)&&ce.inspect!==a.inspect&&(!ce.constructor||ce.constructor.prototype!==ce)){var Pe=ce.inspect(xe,de);return O(Pe)||(Pe=f(de,Pe,xe)),Pe}var we=h(de,ce);if(we)return we;var Re=Object.keys(ce),Se=d(Re);if(de.showHidden&&(Re=Object.getOwnPropertyNames(ce)),N(ce)&&(Re.indexOf("message")>=0||Re.indexOf("description")>=0))return p(ce);if(Re.length===0){if(V(ce)){var z=ce.name?": "+ce.name:"";return de.stylize("[Function"+z+"]","special")}if(x(ce))return de.stylize(RegExp.prototype.toString.call(ce),"regexp");if(j(ce))return de.stylize(Date.prototype.toString.call(ce),"date");if(N(ce))return p(ce)}var M="",k=!1,T=["{","}"];if(b(ce)&&(k=!0,T=["[","]"]),V(ce)&&(M=" [Function"+(ce.name?": "+ce.name:"")+"]"),x(ce)&&(M=" "+RegExp.prototype.toString.call(ce)),j(ce)&&(M=" "+Date.prototype.toUTCString.call(ce)),N(ce)&&(M=" "+p(ce)),Re.length===0&&(!k||ce.length==0))return T[0]+M+T[1];if(xe<0)return x(ce)?de.stylize(RegExp.prototype.toString.call(ce),"regexp"):de.stylize("[Object]","special");de.seen.push(ce);var R;return R=k?m(de,ce,xe,Se,Re):Re.map(function(U){return y(de,ce,xe,Se,U,k)}),de.seen.pop(),g(R,M,T)}function h(de,ce){if(F(ce))return de.stylize("undefined","undefined");if(O(ce)){var xe="'"+JSON.stringify(ce).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return de.stylize(xe,"string")}return E(ce)?de.stylize(""+ce,"number"):v(ce)?de.stylize(""+ce,"boolean"):_(ce)?de.stylize("null","null"):void 0}function p(de){return"["+Error.prototype.toString.call(de)+"]"}function m(de,ce,xe,Pe,we){for(var Re=[],Se=0,z=ce.length;Se<z;++Se)Y(ce,String(Se))?Re.push(y(de,ce,xe,Pe,String(Se),!0)):Re.push("");return we.forEach(function(M){M.match(/^\d+$/)||Re.push(y(de,ce,xe,Pe,M,!0))}),Re}function y(de,ce,xe,Pe,we,Re){var Se,z,M;if((M=Object.getOwnPropertyDescriptor(ce,we)||{value:ce[we]}).get?z=M.set?de.stylize("[Getter/Setter]","special"):de.stylize("[Getter]","special"):M.set&&(z=de.stylize("[Setter]","special")),Y(Pe,we)||(Se="["+we+"]"),z||(de.seen.indexOf(M.value)<0?(z=_(xe)?f(de,M.value,null):f(de,M.value,xe-1)).indexOf(`
`)>-1&&(z=Re?z.split(`
`).map(function(k){return"  "+k}).join(`
`).substr(2):`
`+z.split(`
`).map(function(k){return"   "+k}).join(`
`)):z=de.stylize("[Circular]","special")),F(Se)){if(Re&&we.match(/^\d+$/))return z;(Se=JSON.stringify(""+we)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Se=Se.substr(1,Se.length-2),Se=de.stylize(Se,"name")):(Se=Se.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Se=de.stylize(Se,"string"))}return Se+": "+z}function g(de,ce,xe){var Pe=0;return de.reduce(function(we,Re){return Pe++,Re.indexOf(`
`)>=0&&Pe++,we+Re.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?xe[0]+(ce===""?"":ce+`
 `)+" "+de.join(`,
  `)+" "+xe[1]:xe[0]+ce+" "+de.join(", ")+" "+xe[1]}function b(de){return Array.isArray(de)}function v(de){return typeof de=="boolean"}function _(de){return de===null}function w(de){return de==null}function E(de){return typeof de=="number"}function O(de){return typeof de=="string"}function L(de){return typeof de=="symbol"}function F(de){return de===void 0}function x(de){return P(de)&&q(de)==="[object RegExp]"}function P(de){return typeof de=="object"&&de!==null}function j(de){return P(de)&&q(de)==="[object Date]"}function N(de){return P(de)&&(q(de)==="[object Error]"||de instanceof Error)}function V(de){return typeof de=="function"}function $(de){return de===null||typeof de=="boolean"||typeof de=="number"||typeof de=="string"||typeof de=="symbol"||de===void 0}function q(de){return Object.prototype.toString.call(de)}function H(de){return de<10?"0"+de.toString(10):de.toString(10)}function X(){var de=new Date,ce=[H(de.getHours()),H(de.getMinutes()),H(de.getSeconds())].join(":");return[de.getDate(),$e[de.getMonth()],ce].join(" ")}function Y(de,ce){return Object.prototype.hasOwnProperty.call(de,ce)}var he=/%[sdj%]/g;a.format=function(de){if(!O(de)){for(var ce=[],xe=0;xe<arguments.length;xe++)ce.push(u(arguments[xe]));return ce.join(" ")}for(var xe=1,Pe=arguments,we=Pe.length,Re=String(de).replace(he,function(M){if(M==="%%")return"%";if(xe>=we)return M;switch(M){case"%s":return String(Pe[xe++]);case"%d":return Number(Pe[xe++]);case"%j":try{return JSON.stringify(Pe[xe++])}catch{return"[Circular]"}default:return M}}),Se=Pe[xe];xe<we;Se=Pe[++xe])_(Se)||!P(Se)?Re+=" "+Se:Re+=" "+u(Se);return Re},a.deprecate=function(de,ce){if(F(o.process))return function(){return a.deprecate(de,ce).apply(this,arguments)};if(s.noDeprecation===!0)return de;var xe=!1;return function(){if(!xe){if(s.throwDeprecation)throw new Error(ce);s.traceDeprecation?console.trace(ce):console.error(ce),xe=!0}return de.apply(this,arguments)}};var Te,Ne={};a.debuglog=function(de){if(F(Te)&&(Te=s.env.NODE_DEBUG||""),de=de.toUpperCase(),!Ne[de])if(new RegExp("\\b"+de+"\\b","i").test(Te)){var ce=s.pid;Ne[de]=function(){var xe=a.format.apply(a,arguments);console.error("%s %d: %s",de,ce,xe)}}else Ne[de]=function(){};return Ne[de]},a.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},a.isArray=b,a.isBoolean=v,a.isNull=_,a.isNullOrUndefined=w,a.isNumber=E,a.isString=O,a.isSymbol=L,a.isUndefined=F,a.isRegExp=x,a.isObject=P,a.isDate=j,a.isError=N,a.isFunction=V,a.isPrimitive=$,a.isBuffer=r("./support/isBuffer");var $e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];a.log=function(){console.log("%s - %s",X(),a.format.apply(a,arguments))},a.inherits=r("inherits"),a._extend=function(de,ce){if(!ce||!P(ce))return de;for(var xe=Object.keys(ce),Pe=xe.length;Pe--;)de[xe[Pe]]=ce[xe[Pe]];return de}}).call(this,r("_process"),typeof I<"u"?I:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":6,_process:4,inherits:5}],8:[function(r,n,a){function s(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&l(d.prototype,f),h&&l(d,h),d}}(),u=r("./helpers.js"),c=u.createDataProperty;n.exports=function(){function l(d){var f=d.highWaterMark;s(this,l),c(this,"highWaterMark",f)}return o(l,[{key:"size",value:function(f){return f.byteLength}}]),l}()},{"./helpers.js":10}],9:[function(r,n,a){function s(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&l(d.prototype,f),h&&l(d,h),d}}(),u=r("./helpers.js"),c=u.createDataProperty;n.exports=function(){function l(d){var f=d.highWaterMark;s(this,l),c(this,"highWaterMark",f)}return o(l,[{key:"size",value:function(){return 1}}]),l}()},{"./helpers.js":10}],10:[function(r,n,a){function s(l,d,f){if(typeof l!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(l,d,f)}function o(l,d,f){try{return Promise.resolve(s(l,d,f))}catch(h){return Promise.reject(h)}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};r("better-assert");var c=Symbol('is "detached" for our purposes');a.typeIsObject=function(l){return(l===void 0?"undefined":u(l))==="object"&&l!==null||typeof l=="function"},a.createDataProperty=function(l,d,f){Object.defineProperty(l,d,{value:f,writable:!0,enumerable:!0,configurable:!0})},a.createArrayFromList=function(l){return l.slice()},a.ArrayBufferCopy=function(l,d,f,h,p){new Uint8Array(l).set(new Uint8Array(f,h,p),d)},a.CreateIterResultObject=function(l,d){var f={};return Object.defineProperty(f,"value",{value:l,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(f,"done",{value:d,enumerable:!0,writable:!0,configurable:!0}),f},a.IsFiniteNonNegativeNumber=function(l){return a.IsNonNegativeNumber(l)!==!1&&l!==1/0},a.IsNonNegativeNumber=function(l){return typeof l=="number"&&!Number.isNaN(l)&&!(l<0)},a.Call=s,a.CreateAlgorithmFromUnderlyingMethod=function(l,d,f,h){var p=l[d];if(p!==void 0){if(typeof p!="function")throw new TypeError(p+" is not a method");switch(f){case 0:return function(){return o(p,l,h)};case 1:return function(m){var y=[m].concat(h);return o(p,l,y)}}}return function(){return Promise.resolve()}},a.InvokeOrNoop=function(l,d,f){var h=l[d];if(h!==void 0)return s(h,l,f)},a.PromiseCall=o,a.TransferArrayBuffer=function(l){var d=l.slice();return Object.defineProperty(l,"byteLength",{get:function(){return 0}}),l[c]=!0,d},a.IsDetachedBuffer=function(l){return c in l},a.ValidateAndNormalizeHighWaterMark=function(l){if(l=Number(l),Number.isNaN(l)||l<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return l},a.MakeSizeAlgorithmFromSizeFunction=function(l){if(l===void 0)return function(){return 1};if(typeof l!="function")throw new TypeError("size property of a queuing strategy must be a function");return function(d){return l(d)}}},{"better-assert":16}],11:[function(r,n,a){r("better-assert");var s=r("./helpers.js"),o=s.IsFiniteNonNegativeNumber;a.DequeueValue=function(u){var c=u._queue.shift();return u._queueTotalSize-=c.size,u._queueTotalSize<0&&(u._queueTotalSize=0),c.value},a.EnqueueValueWithSize=function(u,c,l){if(l=Number(l),!o(l))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");u._queue.push({value:c,size:l}),u._queueTotalSize+=l},a.PeekQueueValue=function(u){return u._queue[0].value},a.ResetQueue=function(u){u._queue=[],u._queueTotalSize=0}},{"./helpers.js":10,"better-assert":16}],12:[function(r,n,a){function s(ue,ye){if(!(ue instanceof ye))throw new TypeError("Cannot call a class as a function")}function o(ue){return new Nn(ue)}function u(ue){return new kn(ue)}function c(ue,ye,Ae){var Ze=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},ot=Object.create(va.prototype);return d(ot),we(ot,Object.create(Po.prototype),ue,ye,Ae,Ze,it),ot}function l(ue,ye,Ae){var Ze=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,ot=Object.create(va.prototype);return d(ot),K(ot,Object.create(wl.prototype),ue,ye,Ae,Ze,it),ot}function d(ue){ue._state="readable",ue._reader=void 0,ue._storedError=void 0,ue._disturbed=!1}function f(ue){return!!Ur(ue)&&!!Object.prototype.hasOwnProperty.call(ue,"_readableStreamController")}function h(ue){return ue._disturbed}function p(ue){return ue._reader!==void 0}function m(ue,ye){function Ae(){return H(it).then(function(_n){var Hn=_n.value;if(_n.done===!0&&ot===!1&&(Nt===!1&&Te(Zt._readableStreamController),Vt===!1&&Te(br._readableStreamController),ot=!0),ot!==!0){var Sa=Hn,yn=Hn;Nt===!1&&Ne(Zt._readableStreamController,Sa),Vt===!1&&Ne(br._readableStreamController,yn)}})}function Ze(){}var it=u(ue),ot=!1,Nt=!1,Vt=!1,ir=void 0,Cr=void 0,Zt=void 0,br=void 0,Vn=void 0,Dn=new Promise(function(_n){Vn=_n});return Zt=c(Ze,Ae,function(Hn){if(Nt=!0,ir=Hn,Vt===!0){var Sa=et([ir,Cr]),yn=b(ue,Sa);Vn(yn)}return Dn}),br=c(Ze,Ae,function(Hn){if(Vt=!0,Cr=Hn,Nt===!0){var Sa=et([ir,Cr]),yn=b(ue,Sa);Vn(yn)}return Dn}),it._closedPromise.catch(function(_n){ot!==!0&&(de(Zt._readableStreamController,_n),de(br._readableStreamController,_n),ot=!0)}),[Zt,br]}function y(ue){return new Promise(function(ye,Ae){var Ze={_resolve:ye,_reject:Ae};ue._reader._readIntoRequests.push(Ze)})}function g(ue){return new Promise(function(ye,Ae){var Ze={_resolve:ye,_reject:Ae};ue._reader._readRequests.push(Ze)})}function b(ue,ye){return ue._disturbed=!0,ue._state==="closed"?Promise.resolve(void 0):ue._state==="errored"?Promise.reject(ue._storedError):(v(ue),ue._readableStreamController[en](ye).then(function(){}))}function v(ue){ue._state="closed";var ye=ue._reader;if(ye!==void 0){if(j(ye)===!0){var Ae=!0,Ze=!1,it=void 0;try{for(var ot,Nt=ye._readRequests[Symbol.iterator]();!(Ae=(ot=Nt.next()).done);Ae=!0)(0,ot.value._resolve)(ve(void 0,!0))}catch(Vt){Ze=!0,it=Vt}finally{try{!Ae&&Nt.return&&Nt.return()}finally{if(Ze)throw it}}ye._readRequests=[]}at(ye)}}function _(ue,ye){ue._state="errored",ue._storedError=ye;var Ae=ue._reader;if(Ae!==void 0){if(j(Ae)===!0){var Ze=!0,it=!1,ot=void 0;try{for(var Nt,Vt=Ae._readRequests[Symbol.iterator]();!(Ze=(Nt=Vt.next()).done);Ze=!0)Nt.value._reject(ye)}catch(Dn){it=!0,ot=Dn}finally{try{!Ze&&Vt.return&&Vt.return()}finally{if(it)throw ot}}Ae._readRequests=[]}else{var ir=!0,Cr=!1,Zt=void 0;try{for(var br,Vn=Ae._readIntoRequests[Symbol.iterator]();!(ir=(br=Vn.next()).done);ir=!0)br.value._reject(ye)}catch(Dn){Cr=!0,Zt=Dn}finally{try{!ir&&Vn.return&&Vn.return()}finally{if(Cr)throw Zt}}Ae._readIntoRequests=[]}Ye(Ae,ye),Ae._closedPromise.catch(function(){})}}function w(ue,ye,Ae){ue._reader._readIntoRequests.shift()._resolve(ve(ye,Ae))}function E(ue,ye,Ae){ue._reader._readRequests.shift()._resolve(ve(ye,Ae))}function O(ue){return ue._reader._readIntoRequests.length}function L(ue){return ue._reader._readRequests.length}function F(ue){var ye=ue._reader;return ye!==void 0&&P(ye)!==!1}function x(ue){var ye=ue._reader;return ye!==void 0&&j(ye)!==!1}function P(ue){return!!Ur(ue)&&!!Object.prototype.hasOwnProperty.call(ue,"_readIntoRequests")}function j(ue){return!!Ur(ue)&&!!Object.prototype.hasOwnProperty.call(ue,"_readRequests")}function N(ue,ye){ue._ownerReadableStream=ye,ye._reader=ue,ye._state==="readable"?Oe(ue):ye._state==="closed"?Ue(ue):(De(ue,ye._storedError),ue._closedPromise.catch(function(){}))}function V(ue,ye){return b(ue._ownerReadableStream,ye)}function $(ue){ue._ownerReadableStream._state==="readable"?Ye(ue,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ut(ue,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),ue._closedPromise.catch(function(){}),ue._ownerReadableStream._reader=void 0,ue._ownerReadableStream=void 0}function q(ue,ye){var Ae=ue._ownerReadableStream;return Ae._disturbed=!0,Ae._state==="errored"?Promise.reject(Ae._storedError):le(Ae._readableStreamController,ye)}function H(ue){var ye=ue._ownerReadableStream;return ye._disturbed=!0,ye._state==="closed"?Promise.resolve(ve(void 0,!0)):ye._state==="errored"?Promise.reject(ye._storedError):ye._readableStreamController[Ha]()}function X(ue){return!!Ur(ue)&&!!Object.prototype.hasOwnProperty.call(ue,"_controlledReadableStream")}function Y(ue){he(ue)!==!1&&(ue._pulling!==!0?(ue._pulling=!0,ue._pullAlgorithm().then(function(){if(ue._pulling=!1,ue._pullAgain===!0)return ue._pullAgain=!1,Y(ue)},function(ye){de(ue,ye)}).catch(Gt)):ue._pullAgain=!0)}function he(ue){var ye=ue._controlledReadableStream;return Pe(ue)!==!1&&ue._started!==!1&&(p(ye)===!0&&L(ye)>0||ce(ue)>0)}function Te(ue){var ye=ue._controlledReadableStream;ue._closeRequested=!0,ue._queue.length===0&&v(ye)}function Ne(ue,ye){var Ae=ue._controlledReadableStream;if(p(Ae)===!0&&L(Ae)>0)E(Ae,ye,!1);else{var Ze=void 0;try{Ze=ue._strategySizeAlgorithm(ye)}catch(it){throw de(ue,it),it}try{Gi(ue,ye,Ze)}catch(it){throw de(ue,it),it}}Y(ue)}function $e(ue,ye){var Ae=ue._controlledReadableStream;Oi(ue),_(Ae,ye)}function de(ue,ye){ue._controlledReadableStream._state==="readable"&&$e(ue,ye)}function ce(ue){var ye=ue._controlledReadableStream._state;return ye==="errored"?null:ye==="closed"?0:ue._strategyHWM-ue._queueTotalSize}function xe(ue){return he(ue)!==!0}function Pe(ue){var ye=ue._controlledReadableStream._state;return ue._closeRequested===!1&&ye==="readable"}function we(ue,ye,Ae,Ze,it,ot,Nt){ye._controlledReadableStream=ue,ye._queue=void 0,ye._queueTotalSize=void 0,Oi(ye),ye._started=!1,ye._closeRequested=!1,ye._pullAgain=!1,ye._pulling=!1,ye._strategySizeAlgorithm=Nt,ye._strategyHWM=ot,ye._pullAlgorithm=Ze,ye._cancelAlgorithm=it,ue._readableStreamController=ye;var Vt=Ae();Promise.resolve(Vt).then(function(){ye._started=!0,Y(ye)},function(ir){de(ye,ir)}).catch(Gt)}function Re(ue,ye,Ae,Ze){var it=Object.create(Po.prototype),ot=be(ye,"pull",0,[it]),Nt=be(ye,"cancel",1,[]);we(ue,it,function(){return Je(ye,"start",[it])},ot,Nt,Ae,Ze)}function Se(ue){return!!Ur(ue)&&!!Object.prototype.hasOwnProperty.call(ue,"_controlledReadableByteStream")}function z(ue){return!!Ur(ue)&&!!Object.prototype.hasOwnProperty.call(ue,"_associatedReadableByteStreamController")}function M(ue){Me(ue)!==!1&&(ue._pulling!==!0?(ue._pulling=!0,ue._pullAlgorithm().then(function(){ue._pulling=!1,ue._pullAgain===!0&&(ue._pullAgain=!1,M(ue))},function(ye){ue._controlledReadableByteStream._state==="readable"&&qe(ue,ye)}).catch(Gt)):ue._pullAgain=!0)}function k(ue){se(ue),ue._pendingPullIntos=[]}function T(ue,ye){var Ae=!1;ue._state==="closed"&&(Ae=!0);var Ze=R(ye);ye.readerType==="default"?E(ue,Ze,Ae):w(ue,Ze,Ae)}function R(ue){var ye=ue.bytesFilled,Ae=ue.elementSize;return new ue.ctor(ue.buffer,ue.byteOffset,ye/Ae)}function U(ue,ye,Ae,Ze){ue._queue.push({buffer:ye,byteOffset:Ae,byteLength:Ze}),ue._queueTotalSize+=Ze}function G(ue,ye){var Ae=ye.elementSize,Ze=ye.bytesFilled-ye.bytesFilled%Ae,it=Math.min(ue._queueTotalSize,ye.byteLength-ye.bytesFilled),ot=ye.bytesFilled+it,Nt=ot-ot%Ae,Vt=it,ir=!1;Nt>Ze&&(Vt=Nt-ye.bytesFilled,ir=!0);for(var Cr=ue._queue;Vt>0;){var Zt=Cr[0],br=Math.min(Vt,Zt.byteLength),Vn=ye.byteOffset+ye.bytesFilled;ie(ye.buffer,Vn,Zt.buffer,Zt.byteOffset,br),Zt.byteLength===br?Cr.shift():(Zt.byteOffset+=br,Zt.byteLength-=br),ue._queueTotalSize-=br,Q(ue,br,ye),Vt-=br}return ir}function Q(ue,ye,Ae){se(ue),Ae.bytesFilled+=ye}function Z(ue){ue._queueTotalSize===0&&ue._closeRequested===!0?v(ue._controlledReadableByteStream):M(ue)}function se(ue){ue._byobRequest!==void 0&&(ue._byobRequest._associatedReadableByteStreamController=void 0,ue._byobRequest._view=void 0,ue._byobRequest=void 0)}function re(ue){for(;ue._pendingPullIntos.length>0;){if(ue._queueTotalSize===0)return;var ye=ue._pendingPullIntos[0];G(ue,ye)===!0&&(Ee(ue),T(ue._controlledReadableByteStream,ye))}}function le(ue,ye){var Ae=ue._controlledReadableByteStream,Ze=1;ye.constructor!==DataView&&(Ze=ye.constructor.BYTES_PER_ELEMENT);var it=ye.constructor,ot={buffer:tt(ye.buffer),byteOffset:ye.byteOffset,byteLength:ye.byteLength,bytesFilled:0,elementSize:Ze,ctor:it,readerType:"byob"};if(ue._pendingPullIntos.length>0)return ue._pendingPullIntos.push(ot),y(Ae);if(Ae._state==="closed"){var Nt=new ye.constructor(ot.buffer,ot.byteOffset,0);return Promise.resolve(ve(Nt,!0))}if(ue._queueTotalSize>0){if(G(ue,ot)===!0){var Vt=R(ot);return Z(ue),Promise.resolve(ve(Vt,!1))}if(ue._closeRequested===!0){var ir=new TypeError("Insufficient bytes to fill elements in the given buffer");return qe(ue,ir),Promise.reject(ir)}}ue._pendingPullIntos.push(ot);var Cr=y(Ae);return M(ue),Cr}function pe(ue,ye){ye.buffer=tt(ye.buffer);var Ae=ue._controlledReadableByteStream;if(F(Ae)===!0)for(;O(Ae)>0;)T(Ae,Ee(ue))}function _e(ue,ye,Ae){if(Ae.bytesFilled+ye>Ae.byteLength)throw new RangeError("bytesWritten out of range");if(Q(ue,ye,Ae),!(Ae.bytesFilled<Ae.elementSize)){Ee(ue);var Ze=Ae.bytesFilled%Ae.elementSize;if(Ze>0){var it=Ae.byteOffset+Ae.bytesFilled,ot=Ae.buffer.slice(it-Ze,it);U(ue,ot,0,ot.byteLength)}Ae.buffer=tt(Ae.buffer),Ae.bytesFilled-=Ze,T(ue._controlledReadableByteStream,Ae),re(ue)}}function Ie(ue,ye){var Ae=ue._pendingPullIntos[0];if(ue._controlledReadableByteStream._state==="closed"){if(ye!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");pe(ue,Ae)}else _e(ue,ye,Ae)}function Ee(ue){var ye=ue._pendingPullIntos.shift();return se(ue),ye}function Me(ue){var ye=ue._controlledReadableByteStream;return ye._state==="readable"&&ue._closeRequested!==!0&&ue._started!==!1&&(x(ye)===!0&&L(ye)>0||F(ye)===!0&&O(ye)>0||W(ue)>0)}function Ce(ue){var ye=ue._controlledReadableByteStream;if(ue._queueTotalSize>0)ue._closeRequested=!0;else{if(ue._pendingPullIntos.length>0&&ue._pendingPullIntos[0].bytesFilled>0){var Ae=new TypeError("Insufficient bytes to fill elements in the given buffer");throw qe(ue,Ae),Ae}v(ye)}}function ke(ue,ye){var Ae=ue._controlledReadableByteStream,Ze=ye.buffer,it=ye.byteOffset,ot=ye.byteLength,Nt=tt(Ze);x(Ae)===!0?L(Ae)===0?U(ue,Nt,it,ot):E(Ae,new Uint8Array(Nt,it,ot),!1):F(Ae)===!0?(U(ue,Nt,it,ot),re(ue)):U(ue,Nt,it,ot)}function qe(ue,ye){var Ae=ue._controlledReadableByteStream;k(ue),Oi(ue),_(Ae,ye)}function W(ue){var ye=ue._controlledReadableByteStream._state;return ye==="errored"?null:ye==="closed"?0:ue._strategyHWM-ue._queueTotalSize}function D(ue,ye){if(ye=Number(ye),Fe(ye)===!1)throw new RangeError("bytesWritten must be a finite");Ie(ue,ye)}function B(ue,ye){var Ae=ue._pendingPullIntos[0];if(Ae.byteOffset+Ae.bytesFilled!==ye.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(Ae.byteLength!==ye.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");Ae.buffer=ye.buffer,Ie(ue,ye.byteLength)}function K(ue,ye,Ae,Ze,it,ot,Nt){ye._controlledReadableByteStream=ue,ye._pullAgain=!1,ye._pulling=!1,k(ye),ye._queue=ye._queueTotalSize=void 0,Oi(ye),ye._closeRequested=!1,ye._started=!1,ye._strategyHWM=Qe(ot),ye._pullAlgorithm=Ze,ye._cancelAlgorithm=it,ye._autoAllocateChunkSize=Nt,ye._pendingPullIntos=[],ue._readableStreamController=ye;var Vt=Ae();Promise.resolve(Vt).then(function(){ye._started=!0,M(ye)},function(ir){ue._state==="readable"&&qe(ye,ir)}).catch(Gt)}function ne(ue,ye,Ae){var Ze=Object.create(wl.prototype),it=be(ye,"pull",0,[Ze]),ot=be(ye,"cancel",1,[]),Nt=ye.autoAllocateChunkSize;if(Nt!==void 0&&(Number.isInteger(Nt)===!1||Nt<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");K(ue,Ze,function(){return Je(ye,"start",[Ze])},it,ot,Ae,Nt)}function fe(ue,ye,Ae){ue._associatedReadableByteStreamController=ye,ue._view=Ae}function ge(ue){return new TypeError("ReadableStream.prototype."+ue+" can only be used on a ReadableStream")}function Le(ue){return new TypeError("Cannot "+ue+" a stream using a released reader")}function ee(ue){return new TypeError("ReadableStreamDefaultReader.prototype."+ue+" can only be used on a ReadableStreamDefaultReader")}function Oe(ue){ue._closedPromise=new Promise(function(ye,Ae){ue._closedPromise_resolve=ye,ue._closedPromise_reject=Ae})}function De(ue,ye){ue._closedPromise=Promise.reject(ye),ue._closedPromise_resolve=void 0,ue._closedPromise_reject=void 0}function Ue(ue){ue._closedPromise=Promise.resolve(void 0),ue._closedPromise_resolve=void 0,ue._closedPromise_reject=void 0}function Ye(ue,ye){ue._closedPromise_reject(ye),ue._closedPromise_resolve=void 0,ue._closedPromise_reject=void 0}function ut(ue,ye){ue._closedPromise=Promise.reject(ye)}function at(ue){ue._closedPromise_resolve(void 0),ue._closedPromise_resolve=void 0,ue._closedPromise_reject=void 0}function ct(ue){return new TypeError("ReadableStreamBYOBReader.prototype."+ue+" can only be used on a ReadableStreamBYOBReader")}function ht(ue){return new TypeError("ReadableStreamDefaultController.prototype."+ue+" can only be used on a ReadableStreamDefaultController")}function te(ue){return new TypeError("ReadableStreamBYOBRequest.prototype."+ue+" can only be used on a ReadableStreamBYOBRequest")}function S(ue){return new TypeError("ReadableByteStreamController.prototype."+ue+" can only be used on a ReadableByteStreamController")}function A(ue){try{Promise.prototype.then.call(ue,void 0,function(){})}catch{}}var C=function(){function ue(ye,Ae){for(var Ze=0;Ze<Ae.length;Ze++){var it=Ae[Ze];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(ye,it.key,it)}}return function(ye,Ae,Ze){return Ae&&ue(ye.prototype,Ae),Ze&&ue(ye,Ze),ye}}();r("better-assert");var J=r("./helpers.js"),ie=J.ArrayBufferCopy,be=J.CreateAlgorithmFromUnderlyingMethod,ve=J.CreateIterResultObject,Fe=J.IsFiniteNonNegativeNumber,Je=J.InvokeOrNoop,lt=J.IsDetachedBuffer,tt=J.TransferArrayBuffer,Qe=J.ValidateAndNormalizeHighWaterMark;J.IsNonNegativeNumber;var fi=J.MakeSizeAlgorithmFromSizeFunction,et=J.createArrayFromList,Ur=J.typeIsObject,Xt=r("./utils.js"),Gt=Xt.rethrowAssertionErrorRejection,Dr=r("./queue-with-sizes.js"),Ct=Dr.DequeueValue,Gi=Dr.EnqueueValueWithSize,Oi=Dr.ResetQueue,or=r("./writable-stream.js"),Ps=or.AcquireWritableStreamDefaultWriter,Io=or.IsWritableStream,Hr=or.IsWritableStreamLocked,hi=or.WritableStreamAbort,un=or.WritableStreamDefaultWriterCloseWithErrorPropagation,Ri=or.WritableStreamDefaultWriterRelease,cn=or.WritableStreamDefaultWriterWrite,ba=or.WritableStreamCloseQueuedOrInFlight,en=Symbol("[[CancelSteps]]"),Ha=Symbol("[[PullSteps]]"),va=function(){function ue(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ze=Ae.size,it=Ae.highWaterMark;s(this,ue),d(this);var ot=ye.type;if(String(ot)==="bytes"){if(it===void 0&&(it=0),it=Qe(it),Ze!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");ne(this,ye,it)}else{if(ot!==void 0)throw new RangeError("Invalid type is specified");it===void 0&&(it=1),Re(this,ye,it=Qe(it),fi(Ze))}}return C(ue,[{key:"cancel",value:function(Ae){return f(this)===!1?Promise.reject(ge("cancel")):p(this)===!0?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):b(this,Ae)}},{key:"getReader",value:function(){var Ae=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).mode;if(f(this)===!1)throw ge("getReader");if(Ae===void 0)return u(this);if((Ae=String(Ae))==="byob")return o(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(Ae,Ze){var it=Ae.writable,ot=Ae.readable;if(it===void 0||ot===void 0)throw new TypeError("readable and writable arguments must be defined");return A(this.pipeTo(it,Ze)),ot}},{key:"pipeTo",value:function(Ae){var Ze=this,it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=it.preventClose,Nt=it.preventAbort,Vt=it.preventCancel;if(f(this)===!1)return Promise.reject(ge("pipeTo"));if(Io(Ae)===!1)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(ot=!!ot,Nt=!!Nt,Vt=!!Vt,p(this)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(Hr(Ae)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var ir=u(this),Cr=Ps(Ae),Zt=!1,br=Promise.resolve();return new Promise(function(Vn,Dn){function _n(){return Zt===!0?Promise.resolve():Cr._readyPromise.then(function(){return H(ir).then(function(Yt){var mn=Yt.value;Yt.done!==!0&&(br=cn(Cr,mn).catch(function(){}))})}).then(_n)}function Hn(){var Yt=br;return br.then(function(){return Yt!==br?Hn():void 0})}function Sa(Yt,mn,Ds){Yt._state==="errored"?Ds(Yt._storedError):mn.catch(Ds).catch(Gt)}function yn(Yt,mn,Ds){function No(){Yt().then(function(){return qu(mn,Ds)},function(k1){return qu(!0,k1)}).catch(Gt)}Zt!==!0&&(Zt=!0,Ae._state==="writable"&&ba(Ae)===!1?Hn().then(No):No())}function Ns(Yt,mn){Zt!==!0&&(Zt=!0,Ae._state==="writable"&&ba(Ae)===!1?Hn().then(function(){return qu(Yt,mn)}).catch(Gt):qu(Yt,mn))}function qu(Yt,mn){Ri(Cr),$(ir),Yt?Dn(mn):Vn(void 0)}if(Sa(Ze,ir._closedPromise,function(Yt){Nt===!1?yn(function(){return hi(Ae,Yt)},!0,Yt):Ns(!0,Yt)}),Sa(Ae,Cr._closedPromise,function(Yt){Vt===!1?yn(function(){return b(Ze,Yt)},!0,Yt):Ns(!0,Yt)}),function(mn,Ds,No){mn._state==="closed"?No():Ds.then(No).catch(Gt)}(Ze,ir._closedPromise,function(){ot===!1?yn(function(){return un(Cr)}):Ns()}),ba(Ae)===!0||Ae._state==="closed"){var $u=new TypeError("the destination writable stream closed before all data could be piped to it");Vt===!1?yn(function(){return b(Ze,$u)},!0,$u):Ns(!0,$u)}_n().catch(function(Yt){br=Promise.resolve(),Gt(Yt)})})}},{key:"tee",value:function(){if(f(this)===!1)throw ge("tee");var Ae=m(this);return et(Ae)}},{key:"locked",get:function(){if(f(this)===!1)throw ge("locked");return p(this)}}]),ue}();n.exports={CreateReadableByteStream:l,CreateReadableStream:c,ReadableStream:va,IsReadableStreamDisturbed:h,ReadableStreamDefaultControllerClose:Te,ReadableStreamDefaultControllerEnqueue:Ne,ReadableStreamDefaultControllerError:$e,ReadableStreamDefaultControllerGetDesiredSize:ce,ReadableStreamDefaultControllerHasBackpressure:xe,ReadableStreamDefaultControllerCanCloseOrEnqueue:Pe};var kn=function(){function ue(ye){if(s(this,ue),f(ye)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(p(ye)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");N(this,ye),this._readRequests=[]}return C(ue,[{key:"cancel",value:function(Ae){return j(this)===!1?Promise.reject(ee("cancel")):this._ownerReadableStream===void 0?Promise.reject(Le("cancel")):V(this,Ae)}},{key:"read",value:function(){return j(this)===!1?Promise.reject(ee("read")):this._ownerReadableStream===void 0?Promise.reject(Le("read from")):H(this)}},{key:"releaseLock",value:function(){if(j(this)===!1)throw ee("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");$(this)}}},{key:"closed",get:function(){return j(this)===!1?Promise.reject(ee("closed")):this._closedPromise}}]),ue}(),Nn=function(){function ue(ye){if(s(this,ue),!f(ye))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(Se(ye._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(p(ye))throw new TypeError("This stream has already been locked for exclusive reading by another reader");N(this,ye),this._readIntoRequests=[]}return C(ue,[{key:"cancel",value:function(Ae){return P(this)?this._ownerReadableStream===void 0?Promise.reject(Le("cancel")):V(this,Ae):Promise.reject(ct("cancel"))}},{key:"read",value:function(Ae){return P(this)?this._ownerReadableStream===void 0?Promise.reject(Le("read from")):ArrayBuffer.isView(Ae)?lt(Ae.buffer)===!0?Promise.reject(new TypeError("Cannot read into a view onto a detached ArrayBuffer")):Ae.byteLength===0?Promise.reject(new TypeError("view must have non-zero byteLength")):q(this,Ae):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(ct("read"))}},{key:"releaseLock",value:function(){if(!P(this))throw ct("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");$(this)}}},{key:"closed",get:function(){return P(this)?this._closedPromise:Promise.reject(ct("closed"))}}]),ue}(),Po=function(){function ue(){throw s(this,ue),new TypeError}return C(ue,[{key:"close",value:function(){if(X(this)===!1)throw ht("close");if(Pe(this)===!1)throw new TypeError("The stream is not in a state that permits close");Te(this)}},{key:"enqueue",value:function(Ae){if(X(this)===!1)throw ht("enqueue");if(Pe(this)===!1)throw new TypeError("The stream is not in a state that permits enqueue");return Ne(this,Ae)}},{key:"error",value:function(Ae){if(X(this)===!1)throw ht("error");var Ze=this._controlledReadableStream;if(Ze._state!=="readable")throw new TypeError("The stream is "+Ze._state+" and so cannot be errored");$e(this,Ae)}},{key:en,value:function(Ae){return Oi(this),this._cancelAlgorithm(Ae)}},{key:Ha,value:function(){var Ae=this._controlledReadableStream;if(this._queue.length>0){var Ze=Ct(this);return this._closeRequested===!0&&this._queue.length===0?v(Ae):Y(this),Promise.resolve(ve(Ze,!1))}var it=g(Ae);return Y(this),it}},{key:"desiredSize",get:function(){if(X(this)===!1)throw ht("desiredSize");return ce(this)}}]),ue}(),wa=function(){function ue(){throw s(this,ue),new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return C(ue,[{key:"respond",value:function(Ae){if(z(this)===!1)throw te("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(lt(this._view.buffer)===!0)throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");D(this._associatedReadableByteStreamController,Ae)}},{key:"respondWithNewView",value:function(Ae){if(z(this)===!1)throw te("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(Ae))throw new TypeError("You can only respond with array buffer views");if(lt(Ae.buffer)===!0)throw new TypeError("The supplied view's buffer has been detached and so cannot be used as a response");B(this._associatedReadableByteStreamController,Ae)}},{key:"view",get:function(){if(z(this)===!1)throw te("view");return this._view}}]),ue}(),wl=function(){function ue(){throw s(this,ue),new TypeError("ReadableByteStreamController constructor cannot be used directly")}return C(ue,[{key:"close",value:function(){if(Se(this)===!1)throw S("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var Ae=this._controlledReadableByteStream._state;if(Ae!=="readable")throw new TypeError("The stream (in "+Ae+" state) is not in the readable state and cannot be closed");Ce(this)}},{key:"enqueue",value:function(Ae){if(Se(this)===!1)throw S("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var Ze=this._controlledReadableByteStream._state;if(Ze!=="readable")throw new TypeError("The stream (in "+Ze+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(Ae))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");if(lt(Ae.buffer)===!0)throw new TypeError("Cannot enqueue a view onto a detached ArrayBuffer");ke(this,Ae)}},{key:"error",value:function(Ae){if(Se(this)===!1)throw S("error");var Ze=this._controlledReadableByteStream;if(Ze._state!=="readable")throw new TypeError("The stream is "+Ze._state+" and so cannot be errored");qe(this,Ae)}},{key:en,value:function(Ae){return this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0),Oi(this),this._cancelAlgorithm(Ae)}},{key:Ha,value:function(){var Ae=this._controlledReadableByteStream;if(this._queueTotalSize>0){var Ze=this._queue.shift();this._queueTotalSize-=Ze.byteLength,Z(this);var it=void 0;try{it=new Uint8Array(Ze.buffer,Ze.byteOffset,Ze.byteLength)}catch(Cr){return Promise.reject(Cr)}return Promise.resolve(ve(it,!1))}var ot=this._autoAllocateChunkSize;if(ot!==void 0){var Nt=void 0;try{Nt=new ArrayBuffer(ot)}catch(Cr){return Promise.reject(Cr)}var Vt={buffer:Nt,byteOffset:0,byteLength:ot,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Vt)}var ir=g(Ae);return M(this),ir}},{key:"byobRequest",get:function(){if(Se(this)===!1)throw S("byobRequest");if(this._byobRequest===void 0&&this._pendingPullIntos.length>0){var Ae=this._pendingPullIntos[0],Ze=new Uint8Array(Ae.buffer,Ae.byteOffset+Ae.bytesFilled,Ae.byteLength-Ae.bytesFilled),it=Object.create(wa.prototype);fe(it,this,Ze),this._byobRequest=it}return this._byobRequest}},{key:"desiredSize",get:function(){if(Se(this)===!1)throw S("desiredSize");return W(this)}}]),ue}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"./writable-stream.js":15,"better-assert":16}],13:[function(r,n,a){function s(z,M){if(!(z instanceof M))throw new TypeError("Cannot call a class as a function")}function o(z,M,k){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,G=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){return 1},Q=Object.create(Re.prototype),Z=void 0;u(Q,new Promise(function(re){Z=re}),T,R,U,G),p(Q,Object.create(Se.prototype),M,k);var se=z();return Z(se),Q}function u(z,M,k,T,R,U){function G(){return M}z._writable=Pe(G,function(Z){return v(z,Z)},function(){return w(z)},function(){return _(z)},k,T),z._readable=Y(G,function(){return E(z)},function(Z){return d(z,Z),Promise.resolve()},R,U),z._backpressure=void 0,z._backpressureChangePromise=void 0,z._backpressureChangePromise_resolve=void 0,f(z,!0),z._transformStreamController=void 0}function c(z){return!!$(z)&&!!Object.prototype.hasOwnProperty.call(z,"_transformStreamController")}function l(z,M){x("TransformStreamError()"),z._readable._state==="readable"&&Ne(z._readable._readableStreamController,M),d(z,M)}function d(z,M){we(z._writable._writableStreamController,M),z._backpressure===!0&&f(z,!1)}function f(z,M){x("TransformStreamSetBackpressure() [backpressure = "+M+"]"),z._backpressureChangePromise!==void 0&&z._backpressureChangePromise_resolve(),z._backpressureChangePromise=new Promise(function(k){z._backpressureChangePromise_resolve=k}),z._backpressure=M}function h(z){return!!$(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledTransformStream")}function p(z,M,k,T){M._controlledTransformStream=z,z._transformStreamController=M,M._transformAlgorithm=k,M._flushAlgorithm=T}function m(z,M){var k=Object.create(Se.prototype),T=function(Q){try{return y(k,Q),Promise.resolve()}catch(Z){return Promise.reject(Z)}},R=M.transform;if(R!==void 0){if(typeof R!="function")throw new TypeError("transform is not a method");T=function(Q){return V(R,M,[Q,k]).catch(function(Z){throw l(z,Z),Z})}}var U=N(M,"flush",0,[k]);p(z,k,T,U)}function y(z,M){x("TransformStreamDefaultControllerEnqueue()");var k=z._controlledTransformStream,T=k._readable._readableStreamController;if(ce(T)===!1)throw new TypeError("Readable side is not in a state that permits enqueue");try{Te(T,M)}catch(R){throw d(k,R),k._readable._storedError}de(T)!==k._backpressure&&f(k,!0)}function g(z,M){l(z._controlledTransformStream,M)}function b(z){x("TransformStreamDefaultControllerTerminate()");var M=z._controlledTransformStream,k=M._readable._readableStreamController;ce(k)===!0&&he(k),d(M,new TypeError("TransformStream terminated"))}function v(z,M){x("TransformStreamDefaultSinkWriteAlgorithm()");var k=z._transformStreamController;return z._backpressure===!0?z._backpressureChangePromise.then(function(){var T=z._writable;if(T._state==="erroring")throw T._storedError;return k._transformAlgorithm(M)}):k._transformAlgorithm(M)}function _(z){return l(z,new TypeError("Writable side aborted")),Promise.resolve()}function w(z){x("TransformStreamDefaultSinkCloseAlgorithm()");var M=z._readable;return z._transformStreamController._flushAlgorithm().then(function(){if(M._state==="errored")throw M._storedError;var k=M._readableStreamController;ce(k)===!0&&he(k)}).catch(function(k){throw l(z,k),M._storedError})}function E(z){return x("TransformStreamDefaultSourcePullAlgorithm()"),f(z,!1),z._backpressureChangePromise}function O(z){return new TypeError("TransformStreamDefaultController.prototype."+z+" can only be used on a TransformStreamDefaultController")}function L(z){return new TypeError("TransformStream.prototype."+z+" can only be used on a TransformStream")}var F=function(){function z(M,k){for(var T=0;T<k.length;T++){var R=k[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(M,R.key,R)}}return function(M,k,T){return k&&z(M.prototype,k),T&&z(M,T),M}}();r("better-assert");var x=r("debug")("streams:transform-stream:verbose"),P=r("./helpers.js"),j=P.InvokeOrNoop,N=P.CreateAlgorithmFromUnderlyingMethod,V=P.PromiseCall,$=P.typeIsObject,q=P.ValidateAndNormalizeHighWaterMark;P.IsNonNegativeNumber;var H=P.MakeSizeAlgorithmFromSizeFunction,X=r("./readable-stream.js"),Y=X.CreateReadableStream,he=X.ReadableStreamDefaultControllerClose,Te=X.ReadableStreamDefaultControllerEnqueue,Ne=X.ReadableStreamDefaultControllerError,$e=X.ReadableStreamDefaultControllerGetDesiredSize,de=X.ReadableStreamDefaultControllerHasBackpressure,ce=X.ReadableStreamDefaultControllerCanCloseOrEnqueue,xe=r("./writable-stream.js"),Pe=xe.CreateWritableStream,we=xe.WritableStreamDefaultControllerErrorIfNeeded,Re=function(){function z(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s(this,z),M.readableType!==void 0)throw new RangeError("Invalid readable type specified");if(M.writableType!==void 0)throw new RangeError("Invalid writable type specified");var R=k.size,U=H(R),G=k.highWaterMark;G===void 0&&(G=1),G=q(G);var Q=T.size,Z=H(Q),se=T.highWaterMark;se===void 0&&(se=0),se=q(se);var re=void 0;u(this,new Promise(function(pe){re=pe}),G,U,se,Z),m(this,M);var le=j(M,"start",[this._transformStreamController]);re(le)}return F(z,[{key:"readable",get:function(){if(c(this)===!1)throw L("readable");return this._readable}},{key:"writable",get:function(){if(c(this)===!1)throw L("writable");return this._writable}}]),z}(),Se=function(){function z(){throw s(this,z),new TypeError("TransformStreamDefaultController instances cannot be created directly")}return F(z,[{key:"enqueue",value:function(k){if(h(this)===!1)throw O("enqueue");y(this,k)}},{key:"error",value:function(k){if(h(this)===!1)throw O("error");g(this,k)}},{key:"terminate",value:function(){if(h(this)===!1)throw O("terminate");b(this)}},{key:"desiredSize",get:function(){if(h(this)===!1)throw O("desiredSize");var k=this._controlledTransformStream._readable._readableStreamController;return $e(k)}}]),z}();n.exports={CreateTransformStream:o,TransformStream:Re}},{"./helpers.js":10,"./readable-stream.js":12,"./writable-stream.js":15,"better-assert":16,debug:18}],14:[function(r,n,a){var s=r("better-assert");a.rethrowAssertionErrorRejection=function(o){o&&o.constructor===s.AssertionError&&setTimeout(function(){throw o},0)}},{"better-assert":16}],15:[function(r,n,a){function s(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function o(S){return new ht(S)}function u(S,A,C,J){var ie=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,be=arguments.length>5&&arguments[5]!==void 0?arguments[5]:function(){return 1},ve=Object.create(ct.prototype);return c(ve),Te(ve,Object.create(te.prototype),S,A,C,J,ie,be),ve}function c(S){S._state="writable",S._storedError=void 0,S._writer=void 0,S._writableStreamController=void 0,S._writeRequests=[],S._inFlightWriteRequest=void 0,S._closeRequest=void 0,S._inFlightCloseRequest=void 0,S._pendingAbortRequest=void 0,S._backpressure=!1}function l(S){return!!fe(S)&&!!Object.prototype.hasOwnProperty.call(S,"_writableStreamController")}function d(S){return S._writer!==void 0}function f(S,A){var C=S._state;if(C==="closed")return Promise.resolve(void 0);if(C==="errored")return Promise.reject(S._storedError);var J=new TypeError("Requested to abort");if(S._pendingAbortRequest!==void 0)return Promise.reject(J);var ie=!1;C==="erroring"&&(ie=!0,A=void 0);var be=new Promise(function(ve,Fe){S._pendingAbortRequest={_resolve:ve,_reject:Fe,_reason:A,_wasAlreadyErroring:ie}});return ie===!1&&m(S,J),be}function h(S){return new Promise(function(A,C){var J={_resolve:A,_reject:C};S._writeRequests.push(J)})}function p(S,A){qe("WritableStreamDealWithRejection(stream, %o)",A),S._state!=="writable"?y(S):m(S,A)}function m(S,A){qe("WritableStreamStartErroring(stream, %o)",A);var C=S._writableStreamController;S._state="erroring",S._storedError=A;var J=S._writer;J!==void 0&&q(J,A),E(S)===!1&&C._started===!0&&y(S)}function y(S){qe("WritableStreamFinishErroring()"),S._state="errored",S._writableStreamController[at]();var A=S._storedError,C=!0,J=!1,ie=void 0;try{for(var be,ve=S._writeRequests[Symbol.iterator]();!(C=(be=ve.next()).done);C=!0)be.value._reject(A)}catch(Je){J=!0,ie=Je}finally{try{!C&&ve.return&&ve.return()}finally{if(J)throw ie}}if(S._writeRequests=[],S._pendingAbortRequest!==void 0){var Fe=S._pendingAbortRequest;if(S._pendingAbortRequest=void 0,Fe._wasAlreadyErroring===!0)return Fe._reject(A),void F(S);S._writableStreamController[ut](Fe._reason).then(function(){Fe._resolve(),F(S)},function(Je){Fe._reject(Je),F(S)})}else F(S)}function g(S){S._inFlightWriteRequest._resolve(void 0),S._inFlightWriteRequest=void 0}function b(S,A){S._inFlightWriteRequest._reject(A),S._inFlightWriteRequest=void 0,p(S,A)}function v(S){S._inFlightCloseRequest._resolve(void 0),S._inFlightCloseRequest=void 0,S._state==="erroring"&&(S._storedError=void 0,S._pendingAbortRequest!==void 0&&(S._pendingAbortRequest._resolve(),S._pendingAbortRequest=void 0)),S._state="closed";var A=S._writer;A!==void 0&&re(A)}function _(S,A){S._inFlightCloseRequest._reject(A),S._inFlightCloseRequest=void 0,S._pendingAbortRequest!==void 0&&(S._pendingAbortRequest._reject(A),S._pendingAbortRequest=void 0),p(S,A)}function w(S){return S._closeRequest!==void 0||S._inFlightCloseRequest!==void 0}function E(S){return S._inFlightWriteRequest===void 0&&S._inFlightCloseRequest===void 0?(qe("WritableStreamHasOperationMarkedInFlight() is false"),!1):(qe("WritableStreamHasOperationMarkedInFlight() is true"),!0)}function O(S){S._inFlightCloseRequest=S._closeRequest,S._closeRequest=void 0}function L(S){S._inFlightWriteRequest=S._writeRequests.shift()}function F(S){qe("WritableStreamRejectCloseAndClosedPromiseIfNeeded()"),S._closeRequest!==void 0&&(S._closeRequest._reject(S._storedError),S._closeRequest=void 0);var A=S._writer;A!==void 0&&(Z(A,S._storedError),A._closedPromise.catch(function(){}))}function x(S,A){var C=S._writer;C!==void 0&&A!==S._backpressure&&(A===!0?Ee(C):Ce(C)),S._backpressure=A}function P(S){return!!fe(S)&&!!Object.prototype.hasOwnProperty.call(S,"_ownerWritableStream")}function j(S,A){return f(S._ownerWritableStream,A)}function N(S){var A=S._ownerWritableStream,C=A._state;if(C==="closed"||C==="errored")return Promise.reject(new TypeError("The stream (in "+C+" state) is not in the writable state and cannot be closed"));var J=new Promise(function(ie,be){var ve={_resolve:ie,_reject:be};A._closeRequest=ve});return A._backpressure===!0&&C==="writable"&&Ce(S),$e(A._writableStreamController),J}function V(S){var A=S._ownerWritableStream,C=A._state;return w(A)===!0||C==="closed"?Promise.resolve():C==="errored"?Promise.reject(A._storedError):N(S)}function $(S,A){S._closedPromiseState==="pending"?Z(S,A):se(S,A),S._closedPromise.catch(function(){})}function q(S,A){qe("WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, %o)",A),S._readyPromiseState==="pending"?Ie(S,A):Me(S,A),S._readyPromise.catch(function(){})}function H(S){var A=S._ownerWritableStream,C=A._state;return C==="errored"||C==="erroring"?null:C==="closed"?0:ce(A._writableStreamController)}function X(S){var A=S._ownerWritableStream,C=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");q(S,C),$(S,C),A._writer=void 0,S._ownerWritableStream=void 0}function Y(S,A){var C=S._ownerWritableStream,J=C._writableStreamController,ie=de(J,A);if(C!==S._ownerWritableStream)return Promise.reject(R("write to"));var be=C._state;if(be==="errored")return Promise.reject(C._storedError);if(w(C)===!0||be==="closed")return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if(be==="erroring")return Promise.reject(C._storedError);var ve=h(C);return xe(J,A,ie),ve}function he(S){return!!fe(S)&&!!Object.prototype.hasOwnProperty.call(S,"_controlledWritableStream")}function Te(S,A,C,J,ie,be,ve,Fe){A._controlledWritableStream=S,S._writableStreamController=A,A._queue=void 0,A._queueTotalSize=void 0,Ye(A),A._started=!1,A._strategySizeAlgorithm=Fe,A._strategyHWM=ve,A._writeAlgorithm=J,A._closeAlgorithm=ie,A._abortAlgorithm=be;var Je=z(A);x(S,Je);var lt=C();Promise.resolve(lt).then(function(){A._started=!0,Pe(A)},function(tt){A._started=!0,p(S,tt)}).catch(Le)}function Ne(S,A,C,J){var ie=Object.create(te.prototype),be=D(A,"write",1,[ie]),ve=D(A,"close",0,[]),Fe=D(A,"abort",1,[]);Te(S,ie,function(){return B(A,"start",[ie])},be,ve,Fe,C,J)}function $e(S){De(S,"close",0),Pe(S)}function de(S,A){try{return S._strategySizeAlgorithm(A)}catch(C){return we(S,C),1}}function ce(S){return S._strategyHWM-S._queueTotalSize}function xe(S,A,C){var J={chunk:A};try{De(S,J,C)}catch(be){return void we(S,be)}var ie=S._controlledWritableStream;w(ie)===!1&&ie._state==="writable"&&x(ie,z(S)),Pe(S)}function Pe(S){qe("WritableStreamDefaultControllerAdvanceQueueIfNeeded()");var A=S._controlledWritableStream;if(S._started!==!1&&A._inFlightWriteRequest===void 0){var C=A._state;if(C!=="closed"&&C!=="errored")if(C!=="erroring"){if(S._queue.length!==0){var J=Ue(S);J==="close"?Re(S):Se(S,J.chunk)}}else y(A)}}function we(S,A){S._controlledWritableStream._state==="writable"&&M(S,A)}function Re(S){var A=S._controlledWritableStream;O(A),Oe(S),S._closeAlgorithm().then(function(){v(A)},function(C){_(A,C)}).catch(Le)}function Se(S,A){var C=S._controlledWritableStream;L(C),S._writeAlgorithm(A).then(function(){g(C);var J=C._state;if(Oe(S),w(C)===!1&&J==="writable"){var ie=z(S);x(C,ie)}Pe(S)},function(J){b(C,J)}).catch(Le)}function z(S){return ce(S)<=0}function M(S,A){m(S._controlledWritableStream,A)}function k(S){return new TypeError("WritableStream.prototype."+S+" can only be used on a WritableStream")}function T(S){return new TypeError("WritableStreamDefaultWriter.prototype."+S+" can only be used on a WritableStreamDefaultWriter")}function R(S){return new TypeError("Cannot "+S+" a stream using a released writer")}function U(S){S._closedPromise=new Promise(function(A,C){S._closedPromise_resolve=A,S._closedPromise_reject=C,S._closedPromiseState="pending"})}function G(S,A){S._closedPromise=Promise.reject(A),S._closedPromise_resolve=void 0,S._closedPromise_reject=void 0,S._closedPromiseState="rejected"}function Q(S){S._closedPromise=Promise.resolve(void 0),S._closedPromise_resolve=void 0,S._closedPromise_reject=void 0,S._closedPromiseState="resolved"}function Z(S,A){S._closedPromise_reject(A),S._closedPromise_resolve=void 0,S._closedPromise_reject=void 0,S._closedPromiseState="rejected"}function se(S,A){S._closedPromise=Promise.reject(A),S._closedPromiseState="rejected"}function re(S){S._closedPromise_resolve(void 0),S._closedPromise_resolve=void 0,S._closedPromise_reject=void 0,S._closedPromiseState="resolved"}function le(S){qe("defaultWriterReadyPromiseInitialize()"),S._readyPromise=new Promise(function(A,C){S._readyPromise_resolve=A,S._readyPromise_reject=C}),S._readyPromiseState="pending"}function pe(S,A){qe("defaultWriterReadyPromiseInitializeAsRejected(writer, %o)",A),S._readyPromise=Promise.reject(A),S._readyPromise_resolve=void 0,S._readyPromise_reject=void 0,S._readyPromiseState="rejected"}function _e(S){qe("defaultWriterReadyPromiseInitializeAsResolved()"),S._readyPromise=Promise.resolve(void 0),S._readyPromise_resolve=void 0,S._readyPromise_reject=void 0,S._readyPromiseState="fulfilled"}function Ie(S,A){qe("defaultWriterReadyPromiseReject(writer, %o)",A),S._readyPromise_reject(A),S._readyPromise_resolve=void 0,S._readyPromise_reject=void 0,S._readyPromiseState="rejected"}function Ee(S){qe("defaultWriterReadyPromiseReset()"),S._readyPromise=new Promise(function(A,C){S._readyPromise_resolve=A,S._readyPromise_reject=C}),S._readyPromiseState="pending"}function Me(S,A){qe("defaultWriterReadyPromiseResetToRejected(writer, %o)",A),S._readyPromise=Promise.reject(A),S._readyPromiseState="rejected"}function Ce(S){qe("defaultWriterReadyPromiseResolve()"),S._readyPromise_resolve(void 0),S._readyPromise_resolve=void 0,S._readyPromise_reject=void 0,S._readyPromiseState="fulfilled"}var ke=function(){function S(A,C){for(var J=0;J<C.length;J++){var ie=C[J];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(A,ie.key,ie)}}return function(A,C,J){return C&&S(A.prototype,C),J&&S(A,J),A}}();r("better-assert");var qe=r("debug")("streams:writable-stream:verbose"),W=r("./helpers.js"),D=W.CreateAlgorithmFromUnderlyingMethod,B=W.InvokeOrNoop,K=W.ValidateAndNormalizeHighWaterMark;W.IsNonNegativeNumber;var ne=W.MakeSizeAlgorithmFromSizeFunction,fe=W.typeIsObject,ge=r("./utils.js"),Le=ge.rethrowAssertionErrorRejection,ee=r("./queue-with-sizes.js"),Oe=ee.DequeueValue,De=ee.EnqueueValueWithSize,Ue=ee.PeekQueueValue,Ye=ee.ResetQueue,ut=Symbol("[[AbortSteps]]"),at=Symbol("[[ErrorSteps]]"),ct=function(){function S(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=C.size,ie=C.highWaterMark,be=ie===void 0?1:ie;if(s(this,S),c(this),A.type!==void 0)throw new RangeError("Invalid type is specified");var ve=ne(J);Ne(this,A,be=K(be),ve)}return ke(S,[{key:"abort",value:function(C){return l(this)===!1?Promise.reject(k("abort")):d(this)===!0?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):f(this,C)}},{key:"getWriter",value:function(){if(l(this)===!1)throw k("getWriter");return o(this)}},{key:"locked",get:function(){if(l(this)===!1)throw k("locked");return d(this)}}]),S}();n.exports={AcquireWritableStreamDefaultWriter:o,CreateWritableStream:u,IsWritableStream:l,IsWritableStreamLocked:d,WritableStream:ct,WritableStreamAbort:f,WritableStreamDefaultControllerErrorIfNeeded:we,WritableStreamDefaultWriterCloseWithErrorPropagation:V,WritableStreamDefaultWriterRelease:X,WritableStreamDefaultWriterWrite:Y,WritableStreamCloseQueuedOrInFlight:w};var ht=function(){function S(A){if(s(this,S),l(A)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(d(A)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=A,A._writer=this;var C=A._state;if(C==="writable")w(A)===!1&&A._backpressure===!0?le(this):_e(this),U(this);else if(C==="erroring")pe(this,A._storedError),this._readyPromise.catch(function(){}),U(this);else if(C==="closed")_e(this),Q(this);else{var J=A._storedError;pe(this,J),this._readyPromise.catch(function(){}),G(this,J),this._closedPromise.catch(function(){})}}return ke(S,[{key:"abort",value:function(C){return P(this)===!1?Promise.reject(T("abort")):this._ownerWritableStream===void 0?Promise.reject(R("abort")):j(this,C)}},{key:"close",value:function(){if(P(this)===!1)return Promise.reject(T("close"));var C=this._ownerWritableStream;return C===void 0?Promise.reject(R("close")):w(C)===!0?Promise.reject(new TypeError("cannot close an already-closing stream")):N(this)}},{key:"releaseLock",value:function(){if(P(this)===!1)throw T("releaseLock");this._ownerWritableStream!==void 0&&X(this)}},{key:"write",value:function(C){return P(this)===!1?Promise.reject(T("write")):this._ownerWritableStream===void 0?Promise.reject(R("write to")):Y(this,C)}},{key:"closed",get:function(){return P(this)===!1?Promise.reject(T("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(P(this)===!1)throw T("desiredSize");if(this._ownerWritableStream===void 0)throw R("desiredSize");return H(this)}},{key:"ready",get:function(){return P(this)===!1?Promise.reject(T("ready")):this._readyPromise}}]),S}(),te=function(){function S(){throw s(this,S),new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return ke(S,[{key:"error",value:function(C){if(he(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&M(this,C)}},{key:ut,value:function(C){return this._abortAlgorithm(C)}},{key:at,value:function(){Ye(this)}}]),S}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"better-assert":16,debug:18}],16:[function(r,n,a){(function(s){function o(d){if(!d){var f=c(),h=f[1],p=h.getFileName(),m=h.getLineNumber(),y=(y=l.readFileSync(p,"utf8")).split(`
`)[m-1].match(/assert\((.*)\)/)[1];throw new u({message:y,stackStartFunction:f[0].getFunction()})}}var u=r("assert").AssertionError,c=r("callsite"),l=r("fs");n.exports=s.env.NO_ASSERT?function(){}:o}).call(this,r("_process"))},{_process:4,assert:2,callsite:17,fs:3}],17:[function(r,n,a){n.exports=function(){var s=Error.prepareStackTrace;Error.prepareStackTrace=function(c,l){return l};var o=new Error;Error.captureStackTrace(o,arguments.callee);var u=o.stack;return Error.prepareStackTrace=s,u}},{}],18:[function(r,n,a){(function(s){function o(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function u(h){var p=this.useColors;if(h[0]=(p?"%c":"")+this.namespace+(p?" %c":" ")+h[0]+(p?"%c ":" ")+"+"+a.humanize(this.diff),p){var m="color: "+this.color;h.splice(1,0,m,"color: inherit");var y=0,g=0;h[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(y++,b==="%c"&&(g=y))}),h.splice(g,0,m)}}function c(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(h){try{h==null?a.storage.removeItem("debug"):a.storage.debug=h}catch{}}function d(){var h;try{h=a.storage.debug}catch{}return!h&&typeof s<"u"&&"env"in s&&(h=s.env.DEBUG),h}function f(){try{return window.localStorage}catch{}}a=n.exports=r("./debug"),a.log=c,a.formatArgs=u,a.save=l,a.load=d,a.useColors=o,a.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:f(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],a.formatters.j=function(h){try{return JSON.stringify(h)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}},a.enable(d())}).call(this,r("_process"))},{"./debug":19,_process:4}],19:[function(r,n,a){function s(h){var p,m=0;for(p in h)m=(m<<5)-m+h.charCodeAt(p),m|=0;return a.colors[Math.abs(m)%a.colors.length]}function o(h){function p(){if(p.enabled){var y=p,g=+new Date,b=g-(m||g);y.diff=b,y.prev=m,y.curr=g,m=g;for(var v=new Array(arguments.length),_=0;_<v.length;_++)v[_]=arguments[_];v[0]=a.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var w=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(E,O){if(E==="%%")return E;w++;var L=a.formatters[O];if(typeof L=="function"){var F=v[w];E=L.call(y,F),v.splice(w,1),w--}return E}),a.formatArgs.call(y,v),(p.log||a.log||console.log.bind(console)).apply(y,v)}}var m;return p.namespace=h,p.enabled=a.enabled(h),p.useColors=a.useColors(),p.color=s(h),p.destroy=u,typeof a.init=="function"&&a.init(p),a.instances.push(p),p}function u(){var h=a.instances.indexOf(this);return h!==-1&&(a.instances.splice(h,1),!0)}function c(h){a.save(h),a.names=[],a.skips=[];var p,m=(typeof h=="string"?h:"").split(/[\s,]+/),y=m.length;for(p=0;p<y;p++)m[p]&&((h=m[p].replace(/\*/g,".*?"))[0]==="-"?a.skips.push(new RegExp("^"+h.substr(1)+"$")):a.names.push(new RegExp("^"+h+"$")));for(p=0;p<a.instances.length;p++){var g=a.instances[p];g.enabled=a.enabled(g.namespace)}}function l(){a.enable("")}function d(h){if(h[h.length-1]==="*")return!0;var p,m;for(p=0,m=a.skips.length;p<m;p++)if(a.skips[p].test(h))return!1;for(p=0,m=a.names.length;p<m;p++)if(a.names[p].test(h))return!0;return!1}function f(h){return h instanceof Error?h.stack||h.message:h}a=n.exports=o.debug=o.default=o,a.coerce=f,a.disable=l,a.enable=c,a.enabled=d,a.humanize=r("ms"),a.instances=[],a.names=[],a.skips=[],a.formatters={}},{ms:20}],20:[function(r,n,a){function s(m){if(!((m=String(m)).length>100)){var y=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(m);if(y){var g=parseFloat(y[1]);switch((y[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return g*p;case"days":case"day":case"d":return g*h;case"hours":case"hour":case"hrs":case"hr":case"h":return g*f;case"minutes":case"minute":case"mins":case"min":case"m":return g*d;case"seconds":case"second":case"secs":case"sec":case"s":return g*l;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function o(m){return m>=h?Math.round(m/h)+"d":m>=f?Math.round(m/f)+"h":m>=d?Math.round(m/d)+"m":m>=l?Math.round(m/l)+"s":m+"ms"}function u(m){return c(m,h,"day")||c(m,f,"hour")||c(m,d,"minute")||c(m,l,"second")||m+" ms"}function c(m,y,g){if(!(m<y))return m<1.5*y?Math.floor(m/y)+" "+g:Math.ceil(m/y)+" "+g+"s"}var l=1e3,d=60*l,f=60*d,h=24*f,p=365.25*h;n.exports=function(m,y){y=y||{};var g=typeof m;if(g==="string"&&m.length>0)return s(m);if(g==="number"&&isNaN(m)===!1)return y.long?u(m):o(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))}},{}]},{},[1])(1)})}(uR)),uR.exports}const hs=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";hs.writable=t=>hs(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";hs.readable=t=>hs(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";hs.duplex=t=>hs.writable(t)&&hs.readable(t);hs.transform=t=>hs.duplex(t)&&typeof t._transform=="function";var iee=hs,aee={exports:{}};(function(t){t.exports=e,t.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function e(r){if(!t.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var n=!1,a={};function s(c){a.data=d,a.end=d,a.end=f,a.close=f,a.error=f;for(var l in a)r.on(l,a[l]);r.pause();function d(h){n||(c.enqueue(h),r.pause())}function f(h){if(!n){n=!0;for(var p in a)r.removeListener(p,a[p]);h?c.error(h):c.close()}}}function o(){n||r.resume()}function u(){n=!0;for(var c in a)r.removeListener(c,a[c]);r.push(null),r.pause(),r.destroy?r.destroy():r.close&&r.close()}return new ReadableStream({start:s,pull:o,cancel:u})}})(aee);var NNe=aee.exports,Aq;function see(){if(Aq)return L0;Aq=1,Object.defineProperty(L0,"__esModule",{value:!0}),L0.ActorHttp=void 0;const t=st,e=INe();globalThis.ReadableStream||(globalThis.ReadableStream=PNe().ReadableStream);const r=iee,n=NNe;let a=class extends t.Actor{constructor(o){super(o)}static toNodeReadable(o){return r(o)||o===null?o:(0,e.readableFromWeb)(o)}static toWebReadableStream(o){return n(o)}static headersToHash(o){const u={};return o.forEach((c,l)=>{u[l]=c}),u}};return L0.ActorHttp=a,L0}var j0={},Oq;function DNe(){if(Oq)return j0;Oq=1,Object.defineProperty(j0,"__esModule",{value:!0}),j0.validateAndCloseHttpResponse=void 0;const t=gl,e=see();async function r(n,a){var s;if(a.status>=400){let o="empty response";if(a.body){const u=e.ActorHttp.toNodeReadable(a.body);o=await t(u)}throw new Error(`Could not update ${n} (HTTP status ${a.status}):
${o}`)}await((s=a.body)==null?void 0:s.cancel())}return j0.validateAndCloseHttpResponse=r,j0}var Rq;function ju(){return Rq||(Rq=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(see(),t),r(DNe(),t)}(sR)),sR}(function(t){(function(e){var r=typeof globalThis<"u"&&globalThis||typeof t<"u"&&t||typeof r<"u"&&r,n={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function a(P){return P&&DataView.prototype.isPrototypeOf(P)}if(n.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(P){return P&&s.indexOf(Object.prototype.toString.call(P))>-1};function u(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(P)||P==="")throw new TypeError('Invalid character in header field name: "'+P+'"');return P.toLowerCase()}function c(P){return typeof P!="string"&&(P=String(P)),P}function l(P){var j={next:function(){var N=P.shift();return{done:N===void 0,value:N}}};return n.iterable&&(j[Symbol.iterator]=function(){return j}),j}function d(P){this.map={},P instanceof d?P.forEach(function(j,N){this.append(N,j)},this):Array.isArray(P)?P.forEach(function(j){this.append(j[0],j[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(j){this.append(j,P[j])},this)}d.prototype.append=function(P,j){P=u(P),j=c(j);var N=this.map[P];this.map[P]=N?N+", "+j:j},d.prototype.delete=function(P){delete this.map[u(P)]},d.prototype.get=function(P){return P=u(P),this.has(P)?this.map[P]:null},d.prototype.has=function(P){return this.map.hasOwnProperty(u(P))},d.prototype.set=function(P,j){this.map[u(P)]=c(j)},d.prototype.forEach=function(P,j){for(var N in this.map)this.map.hasOwnProperty(N)&&P.call(j,this.map[N],N,this)},d.prototype.keys=function(){var P=[];return this.forEach(function(j,N){P.push(N)}),l(P)},d.prototype.values=function(){var P=[];return this.forEach(function(j){P.push(j)}),l(P)},d.prototype.entries=function(){var P=[];return this.forEach(function(j,N){P.push([N,j])}),l(P)},n.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function f(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function h(P){return new Promise(function(j,N){P.onload=function(){j(P.result)},P.onerror=function(){N(P.error)}})}function p(P){var j=new FileReader,N=h(j);return j.readAsArrayBuffer(P),N}function m(P){var j=new FileReader,N=h(j);return j.readAsText(P),N}function y(P){for(var j=new Uint8Array(P),N=new Array(j.length),V=0;V<j.length;V++)N[V]=String.fromCharCode(j[V]);return N.join("")}function g(P){if(P.slice)return P.slice(0);var j=new Uint8Array(P.byteLength);return j.set(new Uint8Array(P)),j.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(P){this.bodyUsed=this.bodyUsed,this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:n.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:n.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():n.arrayBuffer&&n.blob&&a(P)?(this._bodyArrayBuffer=g(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||o(P))?this._bodyArrayBuffer=g(P):this._bodyText=P=Object.prototype.toString.call(P):this._bodyText="",this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var P=f(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var P=f(this);return P||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(p)}),this.text=function(){var P=f(this);if(P)return P;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(P){var j=P.toUpperCase();return v.indexOf(j)>-1?j:P}function w(P,j){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');j=j||{};var N=j.body;if(P instanceof w){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,j.headers||(this.headers=new d(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!N&&P._bodyInit!=null&&(N=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new d(j.headers)),this.method=_(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(j.cache==="no-store"||j.cache==="no-cache")){var V=/([?&])_=[^&]*/;if(V.test(this.url))this.url=this.url.replace(V,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})};function E(P){var j=new FormData;return P.trim().split("&").forEach(function(N){if(N){var V=N.split("="),$=V.shift().replace(/\+/g," "),q=V.join("=").replace(/\+/g," ");j.append(decodeURIComponent($),decodeURIComponent(q))}}),j}function O(P){var j=new d,N=P.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(V){return V.indexOf(`
`)===0?V.substr(1,V.length):V}).forEach(function(V){var $=V.split(":"),q=$.shift().trim();if(q){var H=$.join(":").trim();j.append(q,H)}}),j}b.call(w.prototype);function L(P,j){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.ok=this.status>=200&&this.status<300,this.statusText=j.statusText===void 0?"":""+j.statusText,this.headers=new d(j.headers),this.url=j.url||"",this._initBody(P)}b.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},L.error=function(){var P=new L(null,{status:0,statusText:""});return P.type="error",P};var F=[301,302,303,307,308];L.redirect=function(P,j){if(F.indexOf(j)===-1)throw new RangeError("Invalid status code");return new L(null,{status:j,headers:{location:P}})},e.DOMException=r.DOMException;try{new e.DOMException}catch{e.DOMException=function(j,N){this.message=j,this.name=N;var V=Error(j);this.stack=V.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function x(P,j){return new Promise(function(N,V){var $=new w(P,j);if($.signal&&$.signal.aborted)return V(new e.DOMException("Aborted","AbortError"));var q=new XMLHttpRequest;function H(){q.abort()}q.onload=function(){var Y={status:q.status,statusText:q.statusText,headers:O(q.getAllResponseHeaders()||"")};Y.url="responseURL"in q?q.responseURL:Y.headers.get("X-Request-URL");var he="response"in q?q.response:q.responseText;setTimeout(function(){N(new L(he,Y))},0)},q.onerror=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},q.ontimeout=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},q.onabort=function(){setTimeout(function(){V(new e.DOMException("Aborted","AbortError"))},0)};function X(Y){try{return Y===""&&r.location.href?r.location.href:Y}catch{return Y}}q.open($.method,X($.url),!0),$.credentials==="include"?q.withCredentials=!0:$.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&(n.blob?q.responseType="blob":n.arrayBuffer&&$.headers.get("Content-Type")&&$.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(q.responseType="arraybuffer")),j&&typeof j.headers=="object"&&!(j.headers instanceof d)?Object.getOwnPropertyNames(j.headers).forEach(function(Y){q.setRequestHeader(Y,c(j.headers[Y]))}):$.headers.forEach(function(Y,he){q.setRequestHeader(he,Y)}),$.signal&&($.signal.addEventListener("abort",H),q.onreadystatechange=function(){q.readyState===4&&$.signal.removeEventListener("abort",H)}),q.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return x.polyfill=!0,r.fetch||(r.fetch=x,r.Headers=d,r.Request=w,r.Response=L),e.Headers=d,e.Request=w,e.Response=L,e.fetch=x,e})({})})(typeof self<"u"?self:I);var M0={},xq;function CNe(){if(xq)return M0;xq=1,Object.defineProperty(M0,"__esModule",{value:!0}),M0.FetchInitPreprocessor=void 0;const t=ju();class e{async handle(n){if(n.headers){const a=new Headers(n.headers);a.has("user-agent")&&a.delete("user-agent"),n.headers=a}if(n!=null&&n.headers&&"append"in n.headers&&(n.headers=t.ActorHttp.headersToHash(n.headers)),n.body&&typeof n.body!="string"&&"getReader"in n.body){const a=n.body.getReader(),s=[];for(;;){const{done:o,value:u}=await a.read();if(o)break;s.push(u)}n.body=s.join("")}return{keepalive:!n.body,...n}}async createAbortController(){return new AbortController}}return M0.FetchInitPreprocessor=e,M0}var Iq;function LNe(){if(Iq)return C0;Iq=1,Object.defineProperty(C0,"__esModule",{value:!0}),C0.ActorHttpFetch=void 0;const t=ju(),e=qt,r=CNe();let n=class JP extends t.ActorHttp{constructor(s){super(s),this.userAgent=JP.createUserAgent(),this.fetchInitPreprocessor=new r.FetchInitPreprocessor(s.agentOptions)}static createUserAgent(){return`Comunica/actor-http-fetch (${typeof globalThis.navigator>"u"?`Node.js ${yo.version}; ${yo.platform}`:`Browser-${globalThis.navigator.userAgent}`})`}async test(s){return{time:Number.POSITIVE_INFINITY}}static async getResponse(s,o,u,c,l,d){var p;let f,h=c+1;for(;h-- >0;)try{const m=await s(o,u);if(d&&m.status>=500&&m.status<600)throw new Error(`Server replied with response code ${m.status}: ${m.statusText}`);return m}catch(m){if(f=m,(p=u.signal)!=null&&p.aborted)throw m;h>0&&await new Promise((y,g)=>{var b;setTimeout(y,l),(b=u.signal)==null||b.addEventListener("abort",()=>{g(new Error("Fetch aborted by timeout."))})})}throw c>0?new Error(`Number of fetch retries (${c}) exceeded. Last error: ${String(f)}`):f}async run(s){var h,p,m,y,g,b,v,_;const o=((h=s.init)==null?void 0:h.headers)??{};s.init=s.init??{},s.init.headers=new Headers(o),s.init.headers.has("user-agent")||s.init.headers.append("user-agent",this.userAgent);const u=s.context.get(e.KeysHttp.auth);u&&s.init.headers.append("Authorization",`Basic ${ta.from(u).toString("base64")}`),this.logInfo(s.context,`Requesting ${typeof s.input=="string"?s.input:s.input.url}`,()=>({headers:t.ActorHttp.headersToHash(new Headers(s.init.headers)),method:s.init.method??"GET"})),(p=s.init)!=null&&p.headers&&"append"in s.init.headers&&s.context.has(e.KeysHttp.fetch)&&(s.init.headers=t.ActorHttp.headersToHash(s.init.headers));let c={...s.init};s.context.get(e.KeysHttp.includeCredentials)&&(c.credentials="include");const l=(m=s.context)==null?void 0:m.get(e.KeysHttp.httpTimeout);let d,f;if(l!==void 0){const w=await this.fetchInitPreprocessor.createAbortController();c.signal=w.signal,f=()=>w.abort(),d=setTimeout(()=>f(),l)}try{c=await this.fetchInitPreprocessor.handle(c);const w=((y=s.context)==null?void 0:y.get(e.KeysHttp.httpRetryCount))??0,E=((g=s.context)==null?void 0:g.get(e.KeysHttp.httpRetryDelay))??0,O=((b=s.context)==null?void 0:b.get(e.KeysHttp.httpRetryOnServerError))??!1,L=(v=s.context)==null?void 0:v.get(e.KeysHttp.fetch),F=await JP.getResponse(L??fetch,s.input,c,w,E,O);return d!==void 0&&((((_=s.context)==null?void 0:_.get(e.KeysHttp.httpBodyTimeout))||!1)&&F.body?(f=()=>{var P;return(P=F.body)==null?void 0:P.cancel(new Error(`HTTP timeout when reading the body of ${F.url}.
This error can be disabled by modifying the 'httpBodyTimeout' and/or 'httpTimeout' options.`))},F.body.on("close",()=>{clearTimeout(d)})):clearTimeout(d)),F.body&&!F.body.cancel&&(F.body.cancel=async x=>{F.body.destroy(x),d!==void 0&&clearTimeout(d)}),F}catch(w){throw d!==void 0&&clearTimeout(d),w}}};return C0.ActorHttpFetch=n,C0}var Pq;function jNe(){return Pq||(Pq=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(LNe(),t)}(aR)),aR}var cR={},F0={},Nq;function MNe(){if(Nq)return F0;Nq=1,Object.defineProperty(F0,"__esModule",{value:!0}),F0.ActorQueryOperationSource=void 0;const t=Tt(),e=qt,r=li(),n=xt();let a=class extends t.ActorQueryOperation{constructor(o){super(o)}async test(o){if(!t.ActorQueryOperation.getOperationSource(o.operation))throw new Error(`Actor ${this.name} requires an operation with source annotation.`);return{httpRequests:1}}async run(o){const u=o.context.get(e.KeysInitQuery.physicalQueryPlanLogger);u&&(u.logOperation(o.operation.type,void 0,o.operation,o.context.get(e.KeysInitQuery.physicalQueryPlanNode),this.name,{}),o.context=o.context.set(e.KeysInitQuery.physicalQueryPlanNode,o.operation));const c=t.ActorQueryOperation.getOperationSource(o.operation),l=c.context?o.context.merge(c.context):o.context;let d=!1;if(n.Util.recurseOperation(o.operation,{construct(){return d=!0,!1}}),d){const p=c.source.queryQuads(o.operation,l),m=(0,r.getMetadataQuads)(p);return{type:"quads",quadStream:p,metadata:m}}switch(o.operation.type){case n.Algebra.types.ASK:return{type:"boolean",execute:()=>c.source.queryBoolean(o.operation,l)};case n.Algebra.types.COMPOSITE_UPDATE:case n.Algebra.types.DELETE_INSERT:case n.Algebra.types.LOAD:case n.Algebra.types.CLEAR:case n.Algebra.types.CREATE:case n.Algebra.types.DROP:case n.Algebra.types.ADD:case n.Algebra.types.MOVE:case n.Algebra.types.COPY:return{type:"void",execute:()=>c.source.queryVoid(o.operation,l)}}const f=c.source.queryBindings(o.operation,l),h=(0,r.getMetadataBindings)(f);return{type:"bindings",bindingsStream:f,metadata:h}}};return F0.ActorQueryOperationSource=a,F0}var Dq;function FNe(){return Dq||(Dq=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(MNe(),t)}(cR)),cR}var lR={},B0={},Cq;function BNe(){if(Cq)return B0;Cq=1,Object.defineProperty(B0,"__esModule",{value:!0}),B0.MediatorJoinCoefficientsFixed=void 0;const t=qt,e=st;let r=class extends e.Mediator{constructor(a){super(a)}async mediateWith(a,s){var y;const o=[],u=s.map(({reply:g})=>g).map(g=>g.catch(b=>{o.push(b)})),c=await Promise.all(u);let l=c.map(g=>{if(g)return g.iterations*this.cpuWeight+g.persistedItems*this.memoryWeight+g.blockingItems*this.timeWeight+g.requestTime*this.ioWeight});const d=Math.max(...l.filter(g=>g!==void 0)),f=a.context.get(t.KeysQueryOperation.limitIndicator);f&&(l=l.map((g,b)=>g!==void 0&&c[b].persistedItems>0&&c[b].iterations>f?g+d:g));let h=-1,p=Number.POSITIVE_INFINITY;for(const[g,b]of l.entries())b!==void 0&&(h===-1||b<p)&&(h=g,p=b);if(h<0)throw new Error(`All actors rejected their test in ${this.name}
${o.map(g=>g.message).join(`
`)}`);const m=s[h].actor;return m.includeInLogs&&((y=e.Actor.getContextLogger(a.context))==null||y.debug(`Determined physical join operator '${m.logicalType}-${m.physicalName}'`,{entries:a.entries.length,variables:await Promise.all(a.entries.map(async g=>(await g.output.metadata()).variables.map(b=>b.value))),costs:Object.fromEntries(l.map((g,b)=>[`${s[b].actor.logicalType}-${s[b].actor.physicalName}`,g]).filter(g=>g[1]!==void 0)),coefficients:Object.fromEntries(c.map((g,b)=>[`${s[b].actor.logicalType}-${s[b].actor.physicalName}`,g]).filter(g=>g[1]!==void 0))})),m}};return B0.MediatorJoinCoefficientsFixed=r,B0}var Lq;function qNe(){return Lq||(Lq=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(BNe(),t)}(lR)),lR}var dR={},q0={},jq;function oee(){if(jq)return q0;jq=1,Object.defineProperty(q0,"__esModule",{value:!0}),q0.ActorHttpInvalidate=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return q0.ActorHttpInvalidate=e,q0}var $0={},Mq;function $Ne(){if(Mq)return $0;Mq=1,Object.defineProperty($0,"__esModule",{value:!0}),$0.ActorHttpInvalidateListenable=void 0;const t=oee();let e=class extends t.ActorHttpInvalidate{constructor(n){super(n),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(n){this.invalidateListeners.push(n)}async test(n){return!0}async run(n){for(const a of this.invalidateListeners)a(n);return{}}};return $0.ActorHttpInvalidateListenable=e,$0}var Fq;function iw(){return Fq||(Fq=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(oee(),t),r($Ne(),t)}(dR)),dR}var fR={},U0={},Bq;function UNe(){if(Bq)return U0;Bq=1,Object.defineProperty(U0,"__esModule",{value:!0}),U0.MediatorAll=void 0;const t=st;let e=class extends t.Mediator{constructor(n){super(n)}async mediate(n){const a=[];let s;try{s=this.publish(n)}catch{s=[]}for(const u of s)try{await u.reply,a.push(u.actor)}catch{}return(await Promise.all(a.map(u=>u.runObservable(n))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}};return U0.MediatorAll=e,U0}var qq;function kNe(){return qq||(qq=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(UNe(),t)}(fR)),fR}var hR={},k0={},pR={},V0={},H0={},$q;function VNe(){if($q)return H0;$q=1,Object.defineProperty(H0,"__esModule",{value:!0}),H0.instrumentIterator=void 0;function t(r){const n={count:0,timeSelf:0,timeLife:0};return e(r,n,!0),new Promise(a=>{r.on("end",()=>{a(n)})})}H0.instrumentIterator=t;function e(r,n,a){if(!("_profileInstrumented"in r)){if(r._profileInstrumented=!0,"_read"in r){const s=r._read;r._read=(o,u)=>{const c=performance.now();s.call(r,o,()=>{n.timeSelf+=performance.now()-c,u()})}}if("read"in r){const s=r.read;r.read=()=>{const o=performance.now(),u=s.call(r);return a&&u&&n.count++,n.timeSelf+=performance.now()-o,u}}if(a){const s=performance.now();r.on("end",()=>{n.timeLife=performance.now()-s})}"_source"in r&&e(r._source,n,!1)}}return H0}var Uq;function HNe(){if(Uq)return V0;Uq=1,Object.defineProperty(V0,"__esModule",{value:!0}),V0.ActorRdfJoin=void 0;const t=qt,e=st,r=li(),n=Ot,a=nr,s=VNe(),o=new n.DataFactory;let u=class hc extends e.Actor{constructor(l,d){super(l),this.includeInLogs=!0,this.logicalType=d.logicalType,this.physicalName=d.physicalName,this.limitEntries=d.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=d.limitEntriesMin??!1,this.canHandleUndefs=d.canHandleUndefs??!1,this.isLeaf=d.isLeaf??!0}static hash(l,d){return d.map(f=>{const h=l.get(f);return h?h.value:""}).join("")}static hashNonClashing(l,d){return d.map(f=>{const h=l.get(f);return h?(0,a.termToString)(h):""}).join("")}static overlappingVariables(l){const d=l.map(h=>h.variables);let f=d[0];for(const h of d.slice(1))f=f.filter(p=>h.some(m=>m.value===p.value));return f}static joinVariables(l){return[...new Set(l.flatMap(d=>d.variables.map(f=>f.value)))].map(d=>o.variable(d))}static joinBindings(...l){if(l.length===0)return null;if(l.length===1)return l[0];let d=l[0];for(const f of l.slice(1)){const h=d.merge(f);if(!h)return null;d=h}return d}static getCardinality(l){return l.cardinality}static async getMetadatas(l){return await Promise.all(l.map(d=>d.output.metadata()))}static async getEntriesWithMetadatas(l){const d=await hc.getMetadatas(l);return l.map((f,h)=>({...f,metadata:d[h]}))}static getRequestInitialTimes(l){return l.map(d=>d.pageSize?0:d.requestTime??0)}static getRequestItemTimes(l){return l.map(d=>d.pageSize?(d.requestTime??0)/d.pageSize:0)}constructState(l){const d=new r.MetadataValidationState,f=()=>d.invalidate();for(const h of l)h.state.addInvalidateListener(f);return d}async constructResultMetadata(l,d,f,h={}){let p;return h.cardinality?p=h.cardinality:(p=d.reduce((m,y)=>{const g=hc.getCardinality(y);return{type:g.type==="estimate"?"estimate":m.type,value:m.value*g.value}},{type:"exact",value:1}),p.value*=(await this.mediatorJoinSelectivity.mediate({entries:l,context:f})).selectivity),{state:this.constructState(d),...h,cardinality:{type:p.type,value:p.value},canContainUndefs:h.canContainUndefs??d.some(m=>m.canContainUndefs),variables:hc.joinVariables(d)}}static async sortJoinEntries(l,d,f){if(d.some(g=>g.metadata.canContainUndefs))return d;const p={};for(const g of d)for(const b of g.metadata.variables){let v=p[b.value];v||(v=0),p[b.value]=++v}const m=[];for(const[g,b]of Object.entries(p))b>=2&&m.push(g);if(m.length===0)throw new Error("Bind join can only join entries with at least one common variable");const y=[];for(const g of d){let b=!1;for(const v of g.metadata.variables)if(m.includes(v.value)){b=!0;break}b||y.push(g)}return(await l.mediate({entries:d,context:f})).entries.sort((g,b)=>{const v=y.includes(g),_=y.includes(b);return v===_?0:v?1:-1})}async test(l){if(l.type!==this.logicalType)throw new Error(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${l.type}' was given.`);if(l.entries.length<=1)throw new Error(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?l.entries.length<this.limitEntries:l.entries.length>this.limitEntries)throw new Error(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${l.entries.length}.`);for(const f of l.entries)if(f.output.type!=="bindings")throw new Error(`Invalid type of a join entry: Expected 'bindings' but got '${f.output.type}'`);const d=await hc.getMetadatas(l.entries);if(!this.canHandleUndefs){for(const f of d)if(f.canContainUndefs)throw new Error(`Actor ${this.name} can not join streams containing undefs`)}return await this.getJoinCoefficients(l,d)}async run(l){let d;l.context.has(t.KeysInitQuery.physicalQueryPlanLogger)&&(d=l.context.get(t.KeysInitQuery.physicalQueryPlanNode),l.context=l.context.set(t.KeysInitQuery.physicalQueryPlanNode,l));const f=l.context.get(t.KeysInitQuery.physicalQueryPlanLogger);let h;this.includeInLogs&&f&&(h={},f.stashChildren(d,g=>g.logicalOperator.startsWith("join")),f.logOperation(`join-${this.logicalType}`,this.physicalName,l,d,this.name,h));const{result:p,physicalPlanMetadata:m}=await this.getOutput(l),y=await hc.getMetadatas(l.entries);if(h){(0,s.instrumentIterator)(p.bindingsStream).then(b=>{f.appendMetadata(l,{cardinalityReal:b.count,timeSelf:b.timeSelf,timeLife:b.timeLife})}),Object.assign(h,m);const g=y.map(hc.getCardinality);if(h.cardinalities=g,h.joinCoefficients=await this.getJoinCoefficients(l,y),this.isLeaf)for(let b=0;b<l.entries.length;b++){const v=l.entries[b];f.unstashChild(v.operation,l),f.appendMetadata(v.operation,{cardinality:g[b]})}}return p.metadata=(0,r.cachifyMetadata)(p.metadata),p}};return V0.ActorRdfJoin=u,V0}var Q0={},kq;function QNe(){if(kq)return Q0;kq=1,Object.defineProperty(Q0,"__esModule",{value:!0}),Q0.ChunkedIterator=void 0;const t=Mt;let e=class extends t.TransformIterator{constructor(n,a,s){super(n,s),this.chunk=[],this.blockSize=a}consumeChunkAsIterator(){const n=new t.ArrayIterator(this.chunk,{autoStart:!1});return this.chunk=[],n}_transform(n,a,s){this.chunk.push(n),this.chunk.length>=this.blockSize&&s(this.consumeChunkAsIterator()),a()}_flush(n){this.chunk.length>0&&this._push(this.consumeChunkAsIterator()),super._flush(n)}};return Q0.ChunkedIterator=e,Q0}var Vq;function di(){return Vq||(Vq=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(HNe(),t),r(QNe(),t)}(pR)),pR}var Hq;function zNe(){if(Hq)return k0;Hq=1,Object.defineProperty(k0,"__esModule",{value:!0}),k0.ActorRdfJoinSingle=void 0;const t=di();let e=class extends t.ActorRdfJoin{constructor(n){super(n,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(n){if(n.entries.length!==1)throw new Error(`Actor ${this.name} can only join a single entry`);return await this.getJoinCoefficients()}async getOutput(n){return{result:n.entries[0].output}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};return k0.ActorRdfJoinSingle=e,k0}var Qq;function GNe(){return Qq||(Qq=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(zNe(),t)}(hR)),hR}var yR={},z0={},zq;function WNe(){if(zq)return z0;zq=1,Object.defineProperty(z0,"__esModule",{value:!0}),z0.ActorRdfJoinMultiEmpty=void 0;const t=di(),e=li(),r=Mt;let n=class extends t.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:"multi-empty",canHandleUndefs:!0})}async test(s){if((await t.ActorRdfJoin.getMetadatas(s.entries)).every(o=>t.ActorRdfJoin.getCardinality(o).value>0))throw new Error(`Actor ${this.name} can only join entries where at least one is empty`);return super.test(s)}async getOutput(s){for(const o of s.entries)o.output.bindingsStream.close();return{result:{bindingsStream:new r.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new e.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:t.ActorRdfJoin.joinVariables(await t.ActorRdfJoin.getMetadatas(s.entries))}),type:"bindings"}}}async getJoinCoefficients(s,o){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};return z0.ActorRdfJoinMultiEmpty=n,z0}var Gq;function KNe(){return Gq||(Gq=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(WNe(),t)}(yR)),yR}var mR={},G0={},Wq;function JNe(){if(Wq)return G0;Wq=1,Object.defineProperty(G0,"__esModule",{value:!0}),G0.ActorRdfJoinMultiBindSource=void 0;const t=Tt(),e=di(),r=Mt,n=xt(),a=new n.Factory;let s=class extends e.ActorRdfJoin{constructor(u){super(u,{logicalType:"inner",physicalName:"bind-source",canHandleUndefs:!0})}async getOutput(u){const c=await e.ActorRdfJoin.getEntriesWithMetadatas(u.entries),l=await this.sortJoinEntries(c,u.context);this.logDebug(u.context,"First entry for Bind Join Source: ",()=>({entry:l[0].operation,metadata:l[0].metadata}));for(const[b,v]of l.entries())b!==0&&v.output.bindingsStream.close();const d=l[0].output,f=l[0].metadata,h=[...l];h.splice(0,1);const p=t.ActorQueryOperation.getOperationSource(h[0].operation),m=this.createOperationFromEntries(h),y=new e.ChunkedIterator(d.bindingsStream,this.blockSize,{autoStart:!1});return{result:{type:"bindings",bindingsStream:new r.UnionIterator(y.map(b=>p.source.queryBindings(m,p.context?u.context.merge(p.context):u.context,{joinBindings:{bindings:b,metadata:f}}))),metadata:()=>this.constructResultMetadata(l,l.map(b=>b.metadata),u.context)},physicalPlanMetadata:{bindIndex:c.indexOf(l[0])}}}async sortJoinEntries(u,c){return u=await e.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,u,c),u=u.sort((l,d)=>l.operationModified&&!d.operationModified?-1:0),u}async getJoinCoefficients(u,c){const l=await this.sortJoinEntries(u.entries.map((_,w)=>({..._,metadata:c[w]})),u.context);c=l.map(_=>_.metadata);const d=e.ActorRdfJoin.getRequestInitialTimes(c),f=e.ActorRdfJoin.getRequestItemTimes(c),h=[...l];[...d],[...f],h.splice(0,1);const p=h.map(_=>t.ActorQueryOperation.getOperationSource(_.operation));if(p.some(_=>!_))throw new Error(`Actor ${this.name} can not bind on remaining operations without source annotation`);if(p.some(_=>_!==p[0]))throw new Error(`Actor ${this.name} can not bind on remaining operations with non-equal source annotation`);const m=p[0],y=this.createOperationFromEntries(h),g=await m.source.getSelectorShape(u.context);if(!t.ActorQueryOperation.doesShapeAcceptOperation(g,y,{joinBindings:!0}))throw new Error(`Actor ${this.name} detected a source that can not handle passing down join bindings`);const b=await Promise.all(h.map(async _=>(await this.mediatorJoinSelectivity.mediate({entries:[l[0],_],context:u.context})).selectivity*this.selectivityModifier)),v=h.map((_,w)=>_.metadata.cardinality.value*b[w]).reduce((_,w)=>_+w,0);return{iterations:1,persistedItems:c[0].cardinality.value,blockingItems:c[0].cardinality.value,requestTime:d[0]+c[0].cardinality.value*f[0]+d[1]+v*f[1]}}createOperationFromEntries(u){return u.length===1?u[0].operation:a.createJoin(u.map(c=>c.operation),!0)}};return G0.ActorRdfJoinMultiBindSource=s,G0}var Kq;function XNe(){return Kq||(Kq=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(JNe(),t)}(mR)),mR}var gR={},W0={},_R,Jq;function YNe(){if(Jq)return _R;Jq=1;let t=Mt,e=t.MultiTransformIterator,r=t.SimpleTransformIterator;class n extends e{constructor(s,o,u,c){super(s,c),this.funRight=o,this.funJoin=u}_createTransformer(s){return new r(this.funRight(s),{transform:(o,u,c)=>{let l=this.funJoin(s,o);l!==null&&c(l),u()}})}}return _R=n,_R}var bR,Xq;function ZNe(){if(Xq)return bR;Xq=1;let t=Mt.AsyncIterator;class e extends t{constructor(n,a,s,o){super(),this.addedDataListener=!1,this.left=n,this.right=a,this.funHash=s,this.funJoin=o,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",c=>this.destroy(c)),this.right.on("error",c=>this.destroy(c)),this.readable=!1,this.left.on("end",u.bind(this));function u(){this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}this.on("newListener",c=>{c==="data"&&this._addDataListenerIfNeeded()}),this.left.readable&&this._addDataListenerIfNeeded(),this.left.on("readable",()=>this._addDataListenerIfNeeded())}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this._addDataListenerIfNeeded();;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let a=this.matches[this.matchIdx++],s=this.funJoin(a,this.match);if(s!==null)return s}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let n=this.funHash(this.match);this.matches=this.leftMap.get(n)||[],this.matchIdx=0}}_addDataListenerIfNeeded(){this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())}_addDataListener(){this.left.on("data",n.bind(this));function n(a){let s=this.funHash(a);this.leftMap.has(s)||this.leftMap.set(s,[]),this.leftMap.get(s).push(a)}}}return bR=e,bR}var vR,Yq;function eDe(){if(Yq)return vR;Yq=1;const{MultiTransformIterator:t,SimpleTransformIterator:e,scheduleTask:r}=Mt;class n extends t{constructor(s,o,u,c){super(s,c),this.right=o,this.funJoin=u,this.on("end",()=>this.right.close())}_end(){super._end(),r(()=>this.right.destroy())}_createTransformer(s){return new e(this.right.clone(),{transform:(o,u,c)=>{let l=this.funJoin(s,o);l!==null&&c(l),u()}})}}return vR=n,vR}var wR,Zq;function tDe(){if(Zq)return wR;Zq=1;let t=Mt.AsyncIterator;class e extends t{constructor(n,a,s,o){super(),this.left=n,this.right=a,this.funHash=s,this.funJoin=o,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",u=>this.destroy(u)),this.right.on("error",u=>this.destroy(u)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(;;){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let s=this.matches[this.matchIdx++],o=this.usedLeft?this.funJoin(this.match,s):this.funJoin(s,this.match);if(o!==null)return o}this.hasResults()||this._end();let n=null;for(let s=0;s<2&&(n=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,n===null);++s);if(this.done||n===null)return this.readable=!1,null;let a=this.funHash(n);if(this.usedLeft&&this.right.done)this.leftMap=null;else if(this.left.done)this.rightMap=null;else{let s=this.usedLeft?this.leftMap:this.rightMap;s.has(a)||s.set(a,[]),s.get(a).push(n)}this.match=n,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(a)||[],this.matchIdx=0}}}return wR=e,wR}var SR,e$;function rDe(){if(e$)return SR;e$=1;let t=Mt.AsyncIterator;class e extends t{constructor(n){super(),Array.isArray(n)||(n=Array.prototype.slice.call(arguments)),this.streams=n;for(let a of n)a.on("readable",()=>this.emit("readable")),a.on("end",()=>this._removeStream(a));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(n){let a=this.streams.indexOf(n);a<0||(this.streams.splice(a,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let n of this.streams)n.close()}read(){for(let n=0;n<this.streams.length;++n){this.idx=(this.idx+1)%this.streams.length;let a=this.streams[this.idx].read();if(a!==null)return a}return null}}return SR=e,SR}var TR,t$;function wT(){if(t$)return TR;t$=1;const t=YNe(),e=ZNe(),r=eDe(),n=tDe(),a=rDe();return TR={DynamicNestedLoopJoin:t,HashJoin:e,NestedLoopJoin:r,SymmetricHashJoin:n,MergeStream:a},TR}var r$;function nDe(){if(r$)return W0;r$=1,Object.defineProperty(W0,"__esModule",{value:!0}),W0.ActorRdfJoinHash=void 0;const t=di(),e=wT();let r=class extends t.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"hash",limitEntries:2})}async getOutput(a){const s=await t.ActorRdfJoin.getMetadatas(a.entries),o=t.ActorRdfJoin.overlappingVariables(s);return{result:{type:"bindings",bindingsStream:new e.HashJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,c=>t.ActorRdfJoin.hash(c,o),t.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(a.entries,s,a.context)}}}async getJoinCoefficients(a,s){const o=t.ActorRdfJoin.getRequestInitialTimes(s),u=t.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value+s[1].cardinality.value,persistedItems:s[0].cardinality.value,blockingItems:s[0].cardinality.value,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return W0.ActorRdfJoinHash=r,W0}var n$;function iDe(){return n$||(n$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(nDe(),t)}(gR)),gR}var ER={},K0={},i$;function aDe(){if(i$)return K0;i$=1,Object.defineProperty(K0,"__esModule",{value:!0}),K0.ActorRdfJoinSymmetricHash=void 0;const t=di(),e=wT();let r=class uee extends t.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2})}async getOutput(a){const s=await t.ActorRdfJoin.getMetadatas(a.entries),o=t.ActorRdfJoin.overlappingVariables(s);return{result:{type:"bindings",bindingsStream:new e.SymmetricHashJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,c=>uee.hash(c,o),t.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(a.entries,s,a.context)}}}async getJoinCoefficients(a,s){const o=t.ActorRdfJoin.getRequestInitialTimes(s),u=t.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value+s[1].cardinality.value,persistedItems:s[0].cardinality.value+s[1].cardinality.value,blockingItems:0,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return K0.ActorRdfJoinSymmetricHash=r,K0}var a$;function sDe(){return a$||(a$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(aDe(),t)}(ER)),ER}var AR={},J0={},s$;function oDe(){if(s$)return J0;s$=1,Object.defineProperty(J0,"__esModule",{value:!0}),J0.ActorRdfJoinNestedLoop=void 0;const t=di(),e=wT();let r=class extends t.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(a){return{result:{type:"bindings",bindingsStream:new e.NestedLoopJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,t.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(a.entries,await t.ActorRdfJoin.getMetadatas(a.entries),a.context)}}}async getJoinCoefficients(a,s){const o=t.ActorRdfJoin.getRequestInitialTimes(s),u=t.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value*s[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return J0.ActorRdfJoinNestedLoop=r,J0}var o$;function uDe(){return o$||(o$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(oDe(),t)}(AR)),AR}var OR={},X0={},u$;function cDe(){if(u$)return X0;u$=1,Object.defineProperty(X0,"__esModule",{value:!0}),X0.ActorRdfJoinMinusHash=void 0;const t=Tt(),e=di();let r=class extends e.ActorRdfJoin{constructor(a){super(a,{logicalType:"minus",physicalName:"hash",limitEntries:2})}async getOutput(a){const s=a.entries[1].output,o=a.entries[0].output,u=await e.ActorRdfJoin.getMetadatas(a.entries),c=e.ActorRdfJoin.overlappingVariables(u);if(c.length>0){const l={},d=new t.ClosableTransformIterator(async()=>(await new Promise(f=>{s.bindingsStream.on("data",h=>{l[e.ActorRdfJoin.hashNonClashing(h,c)]=!0}),s.bindingsStream.on("end",f),s.bindingsStream.on("error",h=>{d.emit("error",h)})}),o.bindingsStream.filter(f=>!l[e.ActorRdfJoin.hashNonClashing(f,c)])),{autoStart:!1,onClose(){s.bindingsStream.destroy(),o.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:d,metadata:o.metadata}}}return s.bindingsStream.destroy(),{result:o}}async getJoinCoefficients(a,s){const o=e.ActorRdfJoin.getRequestInitialTimes(s),u=e.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value+s[1].cardinality.value,persistedItems:s[0].cardinality.value,blockingItems:s[0].cardinality.value,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return X0.ActorRdfJoinMinusHash=r,X0}var c$;function lDe(){return c$||(c$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(cDe(),t)}(OR)),OR}var RR={},Y0={},Z0={},l$;function dDe(){if(l$)return Z0;l$=1,Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.BindingsIndex=void 0;const t=nr;let e=class XP{constructor(n){this.data={},this.keys=n}static hashTerm(n){return n&&n.termType!=="Variable"?(0,t.termToString)(n):""}add(n){if(this.isBindingsValid(n)){let a=this.data;for(const s of this.keys){const o=XP.hashTerm(n.get(s));let u=a[o];u||(u=a[o]={}),a=u}}}contains(n){return this.isBindingsValid(n)?this.containsRecursive(n,this.keys,[this.data]):!1}isBindingsValid(n){let a=!1;for(const s of this.keys)if(n.get(s)){a=!0;break}return a}containsRecursive(n,a,s){if(a.length===0)return!0;let o;[o,...a]=a;for(const u of s){const c=XP.hashTerm(n.get(o));if(c){const l=[u[c],u[""]].filter(Boolean);if(l.length===0)continue;if(this.containsRecursive(n,a,l))return!0}else{let l=Object.keys(u).map(d=>u[d]);if(l.length===0&&(l=[{}]),this.containsRecursive(n,a,l))return!0}}return!1}};return Z0.BindingsIndex=e,Z0}var d$;function fDe(){if(d$)return Y0;d$=1,Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.ActorRdfJoinMinusHashUndef=void 0;const t=Tt(),e=di(),r=dDe();let n=class extends e.ActorRdfJoin{constructor(s){super(s,{logicalType:"minus",physicalName:"hash-undef",limitEntries:2,canHandleUndefs:!0})}async getOutput(s){const o=s.entries[1].output,u=s.entries[0].output,c=await e.ActorRdfJoin.getMetadatas(s.entries),l=e.ActorRdfJoin.overlappingVariables(c);if(l.length>0){const d=new r.BindingsIndex(l),f=new t.ClosableTransformIterator(async()=>(await new Promise(h=>{o.bindingsStream.on("data",p=>d.add(p)),o.bindingsStream.on("end",h),o.bindingsStream.on("error",p=>{f.emit("error",p)})}),u.bindingsStream.filter(h=>!d.contains(h))),{autoStart:!1,onClose(){o.bindingsStream.destroy(),u.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:f,async metadata(){const h=await u.metadata(),p=await u.metadata();return{...p,canContainUndefs:h.canContainUndefs||p.canContainUndefs}}}}}return o.bindingsStream.destroy(),{result:u}}async getJoinCoefficients(s,o){const u=e.ActorRdfJoin.getRequestInitialTimes(o),c=e.ActorRdfJoin.getRequestItemTimes(o);return{iterations:(o[0].cardinality.value+o[1].cardinality.value)*1.01,persistedItems:o[0].cardinality.value,blockingItems:o[0].cardinality.value,requestTime:u[0]+o[0].cardinality.value*c[0]+u[1]+o[1].cardinality.value*c[1]}}};return Y0.ActorRdfJoinMinusHashUndef=n,Y0}var f$;function hDe(){return f$||(f$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fDe(),t)}(RR)),RR}var xR={},ey={},ty={},h$;function pDe(){if(h$)return ty;h$=1,Object.defineProperty(ty,"__esModule",{value:!0}),ty.BindingsIndexDef=void 0;let t=class{constructor(r,n){this.keys=r,this.hashFn=n,this.index={}}put(r,n){return this.index[this.hashFn(r,this.keys)]=n}get(r){const n=this.getFirst(r);return n?[n]:[]}getFirst(r){return this.index[this.hashFn(r,this.keys)]}values(){return Object.values(this.index)}};return ty.BindingsIndexDef=t,ty}var ry={},p$;function yDe(){if(p$)return ry;p$=1,Object.defineProperty(ry,"__esModule",{value:!0}),ry.BindingsIndexUndef=void 0;let t=class{constructor(r,n){this.data={},this.keys=r,this.hashFn=n}put(r,n){if(this.isBindingsValid(r)){let a=this.data;for(let s=0;s<this.keys.length;s++){const o=this.keys[s],u=this.hashFn(r.get(o));let c=a[u];c||(c=a[u]=s===this.keys.length-1?n:{}),a=c}}return n}isBindingsValid(r){let n=!1;for(const a of this.keys)if(r.has(a)){n=!0;break}return n}get(r){return this.isBindingsValid(r)?this.getRecursive(r,this.keys,[this.data]):[]}getRecursive(r,n,a){if(n.length===0)return a;let s;[s,...n]=n;const o=[];for(const u of a){const c=this.hashFn(r==null?void 0:r.get(s));if(c){const l=[u[c],u[""]].filter(Boolean);if(l.length===0)continue;o.push(this.getRecursive(r,n,l))}else{const l=Object.values(u);if(l.length===0)continue;o.push(this.getRecursive(r,n,l))}}return o.flat()}getFirst(r){if(this.isBindingsValid(r))return this.getRecursiveFirst(r,this.keys,[this.data])}getRecursiveFirst(r,n,a){if(n.length===0)return a[0];let s;[s,...n]=n;for(const o of a){const u=this.hashFn(r.get(s));if(u){const c=[o[u],o[""]].filter(Boolean);if(c.length===0)continue;const l=this.getRecursiveFirst(r,n,c);if(l)return l}else{const c=Object.values(o);if(c.length===0)continue;const l=this.getRecursiveFirst(r,n,c);if(l)return l}}}values(){return this.keys.length===0?[]:this.getRecursive(void 0,this.keys,[this.data])}};return ry.BindingsIndexUndef=t,ry}var y$;function mDe(){if(y$)return ey;y$=1,Object.defineProperty(ey,"__esModule",{value:!0}),ey.ActorRdfJoinOptionalHash=void 0;const t=Tt(),e=di(),r=Mt,n=nr,a=pDe(),s=yDe();let o=class YP extends e.ActorRdfJoin{constructor(c){super(c,{logicalType:"optional",physicalName:`hash-${c.canHandleUndefs?"undef":"def"}-${c.blocking?"blocking":"nonblocking"}`,limitEntries:2,canHandleUndefs:c.canHandleUndefs})}static constructIndex(c,l){return c?new s.BindingsIndexUndef(l,d=>d&&d.termType!=="Variable"?(0,n.termToString)(d):""):new a.BindingsIndexDef(l,e.ActorRdfJoin.hashNonClashing)}async getOutput(c){const l=c.entries[1].output,d=c.entries[0].output,f=await e.ActorRdfJoin.getMetadatas(c.entries),h=e.ActorRdfJoin.overlappingVariables(f);let p;return this.blocking?p=new t.ClosableTransformIterator(async()=>{const m=YP.constructIndex(this.canHandleUndefs,h);return await new Promise(y=>{l.bindingsStream.on("data",g=>{(m.getFirst(g)??m.put(g,[])).push(g)}),l.bindingsStream.on("end",y),l.bindingsStream.on("error",g=>{p.emit("error",g)})}),new r.MultiTransformIterator(d.bindingsStream,{multiTransform:y=>new r.ArrayIterator(m.get(y).flat().map(g=>e.ActorRdfJoin.joinBindings(y,g)).filter(g=>g!==null),{autoStart:!1}),optional:!0,autoStart:!1})},{autoStart:!1,onClose(){l.bindingsStream.destroy(),d.bindingsStream.destroy()}}):p=new t.ClosableTransformIterator(async()=>{const m=YP.constructIndex(this.canHandleUndefs,h);let y=!0;return l.bindingsStream.on("data",g=>{(m.getFirst(g)??m.put(g,new r.BufferedIterator({autoStart:!1})))._push(g)}),l.bindingsStream.on("end",()=>{for(const g of m.values())g.close();y=!1}),l.bindingsStream.on("error",g=>{p.emit("error",g)}),new r.MultiTransformIterator(d.bindingsStream,{multiTransform:g=>{let b=m.get(g);return b.length===0&&(y?b=[m.put(g,new r.BufferedIterator({autoStart:!1}))]:b=[]),new r.UnionIterator(b.map(_=>_.clone()),{autoStart:!1}).map(_=>e.ActorRdfJoin.joinBindings(g,_))},optional:!0,autoStart:!1})},{autoStart:!1,onClose(){l.bindingsStream.destroy(),d.bindingsStream.destroy()}}),{result:{type:"bindings",bindingsStream:p,metadata:async()=>await this.constructResultMetadata(c.entries,await e.ActorRdfJoin.getMetadatas(c.entries),c.context,{canContainUndefs:!0})}}}async getJoinCoefficients(c,l){if(e.ActorRdfJoin.overlappingVariables(l).length===0)throw new Error(`Actor ${this.name} only join entries with at least one common variable`);const d=e.ActorRdfJoin.getRequestInitialTimes(l),f=e.ActorRdfJoin.getRequestItemTimes(l);let h=l[0].cardinality.value+l[1].cardinality.value;return this.canHandleUndefs||(h*=.8),this.blocking&&(h*=.9),{iterations:h,persistedItems:l[0].cardinality.value,blockingItems:this.blocking?l[0].cardinality.value:0,requestTime:d[0]+l[0].cardinality.value*f[0]+d[1]+l[1].cardinality.value*f[1]}}};return ey.ActorRdfJoinOptionalHash=o,ey}var m$;function aw(){return m$||(m$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(mDe(),t)}(xR)),xR}var IR={},ny={},g$;function gDe(){if(g$)return ny;g$=1,Object.defineProperty(ny,"__esModule",{value:!0}),ny.ActorRdfJoinOptionalNestedLoop=void 0;const t=di(),e=wT();let r=class extends t.ActorRdfJoin{constructor(a){super(a,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(a){return{result:{type:"bindings",bindingsStream:new e.NestedLoopJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,t.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(a.entries,await t.ActorRdfJoin.getMetadatas(a.entries),a.context,{canContainUndefs:!0})}}}async getJoinCoefficients(a,s){const o=t.ActorRdfJoin.getRequestInitialTimes(s),u=t.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value*s[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return ny.ActorRdfJoinOptionalNestedLoop=r,ny}var _$;function _De(){return _$||(_$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(gDe(),t)}(IR)),IR}var PR={},iy={},NR={},ay={},b$;function bDe(){if(b$)return ay;b$=1,Object.defineProperty(ay,"__esModule",{value:!0}),ay.ActorDereferenceRdf=void 0;const t=qC();let e=class extends t.ActorDereferenceParse{constructor(n){super(n)}};return ay.ActorDereferenceRdf=e,ay}var v$;function vDe(){return v$||(v$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(bDe(),t)}(NR)),NR}var w$;function wDe(){if(w$)return iy;w$=1,Object.defineProperty(iy,"__esModule",{value:!0}),iy.ActorDereferenceRdfParse=void 0;const t=vDe();let e=class extends t.ActorDereferenceRdf{constructor(n){super(n)}async getMetadata(n){return{baseIRI:n.url}}};return iy.ActorDereferenceRdfParse=e,iy}var S$;function SDe(){return S$||(S$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(wDe(),t)}(PR)),PR}var DR={},sy={},oy={},T$;function TDe(){if(T$)return oy;T$=1,Object.defineProperty(oy,"__esModule",{value:!0}),oy.HtmlScriptListener=void 0;const t=qt,e=Pt,r=_a;let n=class x_{constructor(s,o,u,c,l,d,f,h){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=s,this.cbQuad=o,this.cbError=u,this.cbEnd=c,this.supportedTypes=l,this.context=d.set(t.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=f,this.headers=h,this.onlyFirstScript=d.get(t.KeysRdfParseHtmlScript.extractAllScripts)===!1;const p=this.baseIRI.indexOf("#");this.targetScriptId=p>0?this.baseIRI.slice(p+1,this.baseIRI.length):null}static newErrorCoded(s,o){const u=new Error(s);return u.code=o,u}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(x_.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const s=new e.Readable({objectMode:!0});s._read=()=>{};const o=this.textChunks,u={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:s,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(u).then(({handle:c})=>{c.data.on("error",l=>this.cbError(x_.newErrorCoded(l.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const l of o)s.push(l);s.push(null)}).catch(c=>{this.targetScriptId?this.cbError(x_.newErrorCoded(c.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(s,o){s==="base"&&o.href&&(this.baseIRI=(0,r.resolve)(o.href,this.baseIRI)),s==="script"&&(!this.targetScriptId||o.id===this.targetScriptId)?this.supportedTypes[o.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=o.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(x_.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(s){this.handleMediaType&&this.textChunks.push(s)}requiresCustomJsonLdHandling(s){return!this.onlyFirstScript&&!this.targetScriptId&&s==="application/ld+json"}};return oy.HtmlScriptListener=n,oy}var E$;function EDe(){if(E$)return sy;E$=1,Object.defineProperty(sy,"__esModule",{value:!0}),sy.ActorRdfParseHtmlScript=void 0;const t=i4(),e=TDe();let r=class extends t.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return!0}async run(a){const s=(await this.mediatorRdfParseMediatypes.mediate({context:a.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new e.HtmlScriptListener(this.mediatorRdfParseHandle,a.emit,a.error,a.end,s,a.context,a.baseIRI,a.headers)}}};return sy.ActorRdfParseHtmlScript=r,sy}var A$;function ADe(){return A$||(A$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(EDe(),t)}(DR)),DR}var CR={},uy={},O$;function ODe(){if(O$)return uy;O$=1,Object.defineProperty(uy,"__esModule",{value:!0}),uy.ActorQueryResultSerializeRdf=void 0;const t=Es();let e=class extends t.ActorQueryResultSerialize{constructor(n){super(n)}async testHandle(n,a,s){if(n.type!=="quads")throw new Error(`Actor ${this.name} can only handle quad streams`);const{mediaTypes:o}=await this.mediatorMediaTypeCombiner.mediate({context:s,mediaTypes:!0});if(!(a in o))throw new Error(`Actor ${this.name} can not handle media type ${a}. All available types: ${Object.keys(o)}`);return!0}async runHandle(n,a,s){return(await this.mediatorRdfSerialize.mediate({context:s,handle:{context:s,quadStream:n.quadStream},handleMediaType:a})).handle}async testMediaType(n){return!0}async getMediaTypes(n){return(await this.mediatorMediaTypeCombiner.mediate({context:n,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(n){return!0}async getMediaTypeFormats(n){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:n,mediaTypeFormats:!0})).mediaTypeFormats}};return uy.ActorQueryResultSerializeRdf=e,uy}var R$;function RDe(){return R$||(R$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ODe(),t)}(CR)),CR}var LR={},cy={},x$;function xDe(){if(x$)return cy;x$=1,Object.defineProperty(cy,"__esModule",{value:!0}),cy.ActorHttpWayback=void 0;const t=ju(),e=qt,r=gl,n="http://wayback.archive-it.org/";function a(u){const c=new Request(u.input,u.init);return{input:new Request(new URL(`/${c.url}`,n),c)}}function s(u){const c=u.get(e.KeysHttpProxy.httpProxyHandler);return c?l=>c.getProxy(a(l)):l=>Promise.resolve(a(l))}let o=class extends t.ActorHttp{constructor(c){super(c)}async test(c){return!0}async run(c){let l=await this.mediatorHttp.mediate(c);if(l.status===404&&c.context.get(e.KeysHttpWayback.recoverBrokenLinks)){let d=await this.mediatorHttp.mediate({...c,context:c.context.set(e.KeysHttpWayback.recoverBrokenLinks,!1).set(e.KeysHttpProxy.httpProxyHandler,{getProxy:s(c.context)})});d.status===200&&([l,d]=[d,l]);const{body:f}=d;f&&("cancel"in f&&typeof f.cancel=="function"?await f.cancel():"destroy"in f&&typeof f.destroy=="function"?f.destroy():await r(t.ActorHttp.toNodeReadable(f)))}return l}};return cy.ActorHttpWayback=o,cy}var I$;function IDe(){return I$||(I$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(xDe(),t)}(LR)),LR}var jR={},ly={},cee={},dy={},ST={},fy={},hy={},TT={};Object.defineProperty(TT,"__esModule",{value:!0});TT.ContainerHandlerIdentifier=void 0;class PDe{canCombineWithGraph(){return!0}async handle(e,r,n,a,s,o){let u;if(r.emittedStack[o+1]&&r.idStack[o+1])u=r.idStack[o+1][0];else{const d=await n.getContainerKey(a[o],a,o)!==null?await n.resourceToTerm(await r.getContext(a),a[o]):n.dataFactory.blankNode();if(!d){r.emittedStack[o]=!1;return}u=d,r.idStack[o+1]=[u]}let c=r.idStack[o];c||(c=r.idStack[o]=[]),c.some(l=>l.equals(u))||c.push(u),await r.handlePendingContainerFlushBuffers()||(r.emittedStack[o]=!1)}}TT.ContainerHandlerIdentifier=PDe;var py={},yy={},P$;function ET(){if(P$)return yy;P$=1,Object.defineProperty(yy,"__esModule",{value:!0}),yy.EntryHandlerPredicate=void 0;const t=pn,e=bl();let r=class lee{static async handlePredicateObject(a,s,o,u,c,l,d,f,h){const p=await s.getPropertiesDepth(o,u),m=await s.getDepthOffsetGraph(u,o),y=u-m,g=a.idStack[p];if(g&&!h)for(const b of g)if(m>=0){const _=a.idStack[y-1];if(_)for(const w of _)s.emitQuadChecked(u,b,c,l,w,d,f);else d?(s.validateReverseSubject(l),a.getUnidentifiedGraphBufferSafe(y-1).push({subject:l,predicate:c,object:b,isEmbedded:f})):a.getUnidentifiedGraphBufferSafe(y-1).push({subject:b,predicate:c,object:l,isEmbedded:f})}else{const _=await s.getGraphContainerValue(o,p);s.emitQuadChecked(u,b,c,l,_,d,f)}else if(d&&s.validateReverseSubject(l),h){if(a.rdfstar){a.idStack[u]&&a.emitError(new t.ErrorCoded(`Found an illegal @id inside an annotation: ${a.idStack[u][0].value}`,t.ERROR_CODES.INVALID_ANNOTATION));for(let _=0;_<u;_++)await s.unaliasKeyword(o[_],o,_)==="@id"&&a.emitError(new t.ErrorCoded("Found an illegal annotation inside an embedded node",t.ERROR_CODES.INVALID_ANNOTATION));const b=a.getAnnotationsBufferSafe(p),v={predicate:c,object:l,reverse:d,nestedAnnotations:[],depth:p};b.push(v);for(let _=b.length-2;_>=0;_--){const w=b[_];w.depth>p&&(v.nestedAnnotations.push(w),b.splice(_,1))}}}else a.getUnidentifiedValueBufferSafe(p).push({predicate:c,object:l,reverse:d,isEmbedded:f})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(a,s,o,u,c){const l=o[u];if(l){const d=await a.getContext(o);if(!a.jsonLiteralStack[u]&&await s.predicateToTerm(d,o[u]))return e.Util.getContextValueType(d,l)==="@json"&&(a.jsonLiteralStack[u+1]=!0),!0}return!1}async test(a,s,o,u,c){return u[c]}async handle(a,s,o,u,c,l,d){const f=u[l],h=await a.getContext(u),p=await s.predicateToTerm(h,o);if(p){const m=await s.valueToTerm(h,o,c,l,u);if(m.length)for(let y of m){let g=await s.unaliasKeywordParent(u,l);const b=e.Util.isPropertyReverse(h,f,g);let v=0;for(;g==="@reverse"||typeof g=="number";)typeof g=="number"?v++:l--,g=await s.unaliasKeywordParent(u,l-v);const _=e.Util.isPropertyInEmbeddedNode(g);s.validateReverseInEmbeddedNode(o,b,_);const w=e.Util.isPropertyInAnnotationObject(g);if(c){const E="@list"in e.Util.getContextValueContainer(h,o);if(E||c["@list"]){if((E&&!Array.isArray(c)&&!c["@list"]||c["@list"]&&!Array.isArray(c["@list"]))&&y!==s.rdfNil){const O=s.dataFactory.blankNode();a.emitQuad(l,s.dataFactory.quad(O,s.rdfRest,s.rdfNil,s.getDefaultGraph())),a.emitQuad(l,s.dataFactory.quad(O,s.rdfFirst,y,s.getDefaultGraph())),y=O}if(b&&!a.allowSubjectList)throw new t.ErrorCoded(`Found illegal list value in subject position at ${o}`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await lee.handlePredicateObject(a,s,u,l,p,y,b,_,w)}}}};return yy.EntryHandlerPredicate=r,yy}var N$;function NDe(){if(N$)return py;N$=1,Object.defineProperty(py,"__esModule",{value:!0}),py.ContainerHandlerIndex=void 0;const t=pn,e=ET(),r=bl();let n=class{canCombineWithGraph(){return!0}async handle(s,o,u,c,l,d){if(!Array.isArray(l)){const f="@graph"in s,h=await o.getContext(c),p=c[d-1],m=r.Util.getContextValueIndex(h,p);if(m){if(t.Util.isPotentialKeyword(m))throw new t.ErrorCoded(`Keywords can not be used as @index value, got: ${m}`,t.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof m!="string")throw new t.ErrorCoded(`@index values must be strings, got: ${m}`,t.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof l!="object"){if(r.Util.getContextValueType(h,p)!=="@id")throw new t.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${l}`,t.ERROR_CODES.INVALID_VALUE_OBJECT);const b=u.resourceToTerm(h,l);b&&(o.idStack[d+1]=[b])}const g=u.createVocabOrBaseTerm(h,m);if(g){const b=await u.valueToTerm(h,m,await u.getContainerKey(c[d],c,d),d,c);if(f){const v=await u.getGraphContainerValue(c,d+1);for(const _ of b)o.emitQuad(d,u.dataFactory.quad(v,g,_,u.getDefaultGraph()))}else for(const v of b)await e.EntryHandlerPredicate.handlePredicateObject(o,u,c,d+1,g,v,!1,!1,!1)}}const y=f?2:1;await o.newOnValueJob(c.slice(0,c.length-y),l,d-y,!0),await o.handlePendingContainerFlushBuffers()}o.emittedStack[d]=!1}};return py.ContainerHandlerIndex=n,py}var AT={};Object.defineProperty(AT,"__esModule",{value:!0});AT.ContainerHandlerLanguage=void 0;const D$=pn;class DDe{canCombineWithGraph(){return!1}async handle(e,r,n,a,s,o){const u=await n.getContainerKey(a[o],a,o);if(Array.isArray(s))s=s.map(c=>({"@value":c,"@language":u}));else{if(typeof s!="string")throw new D$.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(s)}', but expected string`,D$.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);s={"@value":s,"@language":u}}await r.newOnValueJob(a.slice(0,a.length-1),s,o-1,!0),r.emittedStack[o]=!1}}AT.ContainerHandlerLanguage=DDe;var my={},C$;function CDe(){if(C$)return my;C$=1,Object.defineProperty(my,"__esModule",{value:!0}),my.ContainerHandlerType=void 0;const t=ET(),e=bl();let r=class{canCombineWithGraph(){return!1}async handle(a,s,o,u,c,l){if(!Array.isArray(c)){if(typeof c=="string"){const h=await s.getContext(u),m=e.Util.getContextValueType(h,u[l-1])==="@vocab"?await o.createVocabOrBaseTerm(h,c):await o.resourceToTerm(h,c);if(m){const y={"@id":m.termType==="NamedNode"?m.value:c};await s.newOnValueJob(u.slice(0,u.length-1),y,l-1,!0),s.idStack[l+1]=[m]}}else{const h=!!s.idStack[l+1];h||delete s.idStack[l],await s.newOnValueJob(u.slice(0,u.length-1),c,l-1,!0),h||(s.idStack[l+1]=s.idStack[l])}const d=await o.getContainerKey(u[l],u,l),f=d!==null?o.createVocabOrBaseTerm(await s.getContext(u),d):null;f&&await t.EntryHandlerPredicate.handlePredicateObject(s,o,u,l+1,o.rdfType,f,!1,!1,!1),await s.handlePendingContainerFlushBuffers()}s.emittedStack[l]=!1}};return my.ContainerHandlerType=r,my}var L$;function dee(){if(L$)return hy;L$=1,Object.defineProperty(hy,"__esModule",{value:!0}),hy.EntryHandlerContainer=void 0;const t=TT,e=NDe(),r=AT,n=CDe(),a=bl();let s=class Ho{static isSimpleGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length===2||Object.keys(u).length===1)}static isComplexGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length>2||!("@set"in u)&&Object.keys(u).length>1)}static getContainerGraphIndex(u,c,l){let d=Ho.isSimpleGraphContainer(u),f="";for(let h=c;h<l.length;h++)(!d||typeof l[h]=="number")&&(f+=":"+l[h]),!d&&typeof l[h]!="number"&&(d=!0);return f}static async getContainerHandler(u,c,l){const d={containers:{"@set":!0},depth:l,fallback:!0};let f=!1;const h=await u.getContext(c,2);for(let p=l-1;p>=0;p--)if(typeof c[p]!="number"){const m=a.Util.getContextValue(h,"@container",c[p],!1);if(m&&Ho.isSimpleGraphContainer(m))return{containers:m,depth:p+1,fallback:!1};const y=a.Util.getContextValue(h,"@container",c[p-1],!1);if(y){const g="@graph"in y;for(const b in Ho.CONTAINER_HANDLERS)if(y[b])return g?Ho.CONTAINER_HANDLERS[b].canCombineWithGraph()?{containers:y,depth:p,fallback:!1}:d:f?d:{containers:y,depth:p,fallback:!1};return d}else{if(f)return d;f=!0}}return d}static async isBufferableContainerHandler(u,c,l){const d=await Ho.getContainerHandler(u,c,l);return!d.fallback&&!("@graph"in d.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,c,l,d,f){return!!await this.test(u,c,null,l,d)}async test(u,c,l,d,f){const h=a.Util.getContextValueContainer(await u.getContext(d,2),d[f-1]);for(const p in Ho.CONTAINER_HANDLERS)if(h[p])return{containers:h,handler:Ho.CONTAINER_HANDLERS[p]};return null}async handle(u,c,l,d,f,h,p){return p.handler.handle(p.containers,u,c,d,f,h)}};return s.CONTAINER_HANDLERS={"@id":new t.ContainerHandlerIdentifier,"@index":new e.ContainerHandlerIndex,"@language":new r.ContainerHandlerLanguage,"@type":new n.ContainerHandlerType},hy.EntryHandlerContainer=s,hy}var LDe=function t(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((r,n,a)=>{const s=a===0?"":",",o=n===void 0||typeof n=="symbol"?null:n;return r+s+t(o)},"")+"]":"{"+Object.keys(e).sort().reduce((r,n,a)=>{if(e[n]===void 0||typeof e[n]=="symbol")return r;const s=r.length===0?"":",";return r+s+t(n)+":"+t(e[n])},"")+"}"},j$;function bl(){if(j$)return fy;j$=1,Object.defineProperty(fy,"__esModule",{value:!0}),fy.Util=void 0;const t=pn,e=Ot,r=dee(),n=LDe;class a{constructor(o){this.parsingContext=o.parsingContext,this.dataFactory=o.dataFactory||new e.DataFactory,this.rdfFirst=this.dataFactory.namedNode(a.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(a.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(a.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(a.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(a.RDF+"JSON")}static getContextValue(o,u,c,l){const d=o.getContextRaw()[c];if(!d)return l;const f=d[u];return f===void 0?l:f}static getContextValueContainer(o,u){return a.getContextValue(o,"@container",u,{"@set":!0})}static getContextValueType(o,u){const c=a.getContextValue(o,"@type",u,null);return c==="@none"?null:c}static getContextValueLanguage(o,u){return a.getContextValue(o,"@language",u,o.getContextRaw()["@language"]||null)}static getContextValueDirection(o,u){return a.getContextValue(o,"@direction",u,o.getContextRaw()["@direction"]||null)}static isContextValueReverse(o,u){return!!a.getContextValue(o,"@reverse",u,null)}static getContextValueIndex(o,u){return a.getContextValue(o,"@index",u,o.getContextRaw()["@index"]||null)}static isPropertyReverse(o,u,c){return c==="@reverse"!==a.isContextValueReverse(o,u)}static isPropertyInEmbeddedNode(o){return o==="@id"}static isPropertyInAnnotationObject(o){return o==="@annotation"}static isValidIri(o){return o!==null&&t.Util.isValidIri(o)}static isPrefixArray(o,u){if(o.length>u.length)return!1;for(let c=0;c<o.length;c++)if(o[c]!==u[c])return!1;return!0}async validateValueIndexes(o){if(this.parsingContext.validateValueIndexes){const u={};for(const c of o)if(c&&typeof c=="object"){const l=c["@id"],d=c["@index"];if(l&&d){const f=u[l];if(f&&f!==d)throw new t.ErrorCoded(`Conflicting @index value for ${l}`,t.ERROR_CODES.CONFLICTING_INDEXES);u[l]=d}}}}async valueToTerm(o,u,c,l,d){if(a.getContextValueType(o,u)==="@json")return[this.dataFactory.literal(this.valueToJsonString(c),this.rdfJson)];const f=typeof c;switch(f){case"object":if(c==null)return[];if(Array.isArray(c))return"@list"in a.getContextValueContainer(o,u)?c.length===0?[this.rdfNil]:this.parsingContext.idStack[l+1]||[]:(await this.validateValueIndexes(c),[]);if(o=await this.getContextSelfOrPropertyScoped(o,u),"@context"in c&&(o=await this.parsingContext.parseContext(c["@context"],(await this.parsingContext.getContext(d,0)).getContextRaw())),c=await this.unaliasKeywords(c,d,l,o),"@value"in c){let h,p,m,y,g;for(u in c){const b=c[u];switch(u){case"@value":h=b;break;case"@language":p=b;break;case"@direction":m=b;break;case"@type":y=b;break;case"@index":g=b;break;case"@annotation":break;default:throw new t.ErrorCoded(`Unknown value entry '${u}' in @value: ${JSON.stringify(c)}`,t.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(y,d,l,!0,o)==="@json")return[this.dataFactory.literal(this.valueToJsonString(h),this.rdfJson)];if(h===null)return[];if(typeof h=="object")throw new t.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(h)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&g&&typeof g!="string")throw new t.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(g)}'`,t.ERROR_CODES.INVALID_INDEX_VALUE);if(p){if(typeof h!="string")throw new t.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`,t.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!t.ContextParser.validateLanguage(p,this.parsingContext.strictValues,t.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(p=p.toLowerCase())}if(m){if(typeof h!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`);if(!t.ContextParser.validateDirection(m,this.parsingContext.strictValues))return[]}if(p&&m&&this.parsingContext.rdfDirection){if(y)throw new t.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(l,h,p,m))}else if(p){if(y)throw new t.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(h,p)]}else if(m&&this.parsingContext.rdfDirection){if(y)throw new t.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(l,h,p,m))}else if(y){if(typeof y!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(y)}'`,t.ERROR_CODES.INVALID_TYPED_VALUE);const b=this.createVocabOrBaseTerm(o,y);if(!b)throw new t.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(y)}'`,t.ERROR_CODES.INVALID_TYPED_VALUE);if(b.termType!=="NamedNode")throw new t.ErrorCoded(`Illegal value type (${b.termType}): ${y}`,t.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(h,b)]}return await this.valueToTerm(new t.JsonLdContextNormalized({}),u,h,l,d)}else if("@set"in c){if(Object.keys(c).length>1)throw new t.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${u}'`,t.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in c){if(Object.keys(c).length>1)throw new t.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u}'`,t.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const h=c["@list"];return Array.isArray(h)?h.length===0?[this.rdfNil]:this.parsingContext.idStack[l+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(d),u,h,l-1,d.slice(0,-1))}else{if("@reverse"in c&&typeof c["@reverse"]=="boolean")return[];if("@graph"in a.getContextValueContainer(await this.parsingContext.getContext(d),u)){const h=this.parsingContext.graphContainerTermStack[l+1];return h?Object.values(h):[this.dataFactory.blankNode()]}else if("@id"in c){if(Object.keys(c).length>1&&(o=await this.parsingContext.getContext(d,0)),"@context"in c&&(o=await this.parsingContext.parseContext(c["@context"],o.getContextRaw())),c["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(o,c["@id"]));{const h=c["@id"];let p;if(typeof h=="object")if(this.parsingContext.rdfstar)p=this.parsingContext.idStack[l+1][0];else throw new t.ErrorCoded(`Found illegal @id '${c}'`,t.ERROR_CODES.INVALID_ID_VALUE);else p=this.resourceToTerm(o,h);return this.nullableTermToArray(p)}}else return this.parsingContext.emittedStack[l+1]||c&&typeof c=="object"&&Object.keys(c).length===0?this.parsingContext.idStack[l+1]||(this.parsingContext.idStack[l+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(l,await this.getContextSelfOrPropertyScoped(o,u),u,c,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(l,await this.getContextSelfOrPropertyScoped(o,u),u,(!!c).toString(),this.dataFactory.namedNode(a.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(l,await this.getContextSelfOrPropertyScoped(o,u),u,c,this.dataFactory.namedNode(c%1===0&&c<1e21?a.XSD_INTEGER:a.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${f}`)),[]}}async getContextSelfOrPropertyScoped(o,u){const c=o.getContextRaw()[u];return c&&typeof c=="object"&&"@context"in c&&(o=await this.parsingContext.parseContext(c,o.getContextRaw(),!0)),o}nullableTermToArray(o){return o?[o]:[]}predicateToTerm(o,u){const c=o.expandTerm(u,!0,this.parsingContext.getExpandOptions());if(!c)return null;if(c[0]==="_"&&c[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(c.substr(2)):null;if(a.isValidIri(c))return this.dataFactory.namedNode(c);if(c&&this.parsingContext.strictValues)this.parsingContext.emitError(new t.ErrorCoded(`Invalid predicate IRI: ${c}`,t.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(o,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const c=o.expandTerm(u,!1,this.parsingContext.getExpandOptions());if(!a.isValidIri(c))if(c&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${c}`));else return null;return this.dataFactory.namedNode(c)}createVocabOrBaseTerm(o,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const c=this.parsingContext.getExpandOptions();let l=o.expandTerm(u,!0,c);if(l===u&&(l=o.expandTerm(u,!1,c)),!a.isValidIri(l))if(l&&this.parsingContext.strictValues&&!l.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${l}`));else return null;return this.dataFactory.namedNode(l)}intToString(o,u){return typeof o=="number"?Number.isFinite(o)?o%1===0&&(!u||u.value!==a.XSD_DOUBLE)?Number(o).toString():o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):o>0?"INF":"-INF":o}stringValueToTerm(o,u,c,l,d){const f=a.getContextValueType(u,c);if(f)if(f==="@id"){if(!d)return this.resourceToTerm(u,this.intToString(l,d))}else if(f==="@vocab"){if(!d)return this.createVocabOrBaseTerm(u,this.intToString(l,d))}else d=this.dataFactory.namedNode(f);if(!d){const h=a.getContextValueLanguage(u,c),p=a.getContextValueDirection(u,c);return p&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(o,this.intToString(l,d),h,p):this.dataFactory.literal(this.intToString(l,d),h)}return this.dataFactory.literal(this.intToString(l,d),d)}createLanguageDirectionLiteral(o,u,c,l){if(this.parsingContext.rdfDirection==="i18n-datatype")return c||(c=""),this.dataFactory.literal(u,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${c}_${l}`));{const d=this.dataFactory.blankNode(),f=this.getDefaultGraph();return this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(a.RDF+"value"),this.dataFactory.literal(u),f)),c&&this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(a.RDF+"language"),this.dataFactory.literal(c),f)),this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(a.RDF+"direction"),this.dataFactory.literal(l),f)),d}}valueToJsonString(o){return n(o)}async unaliasKeyword(o,u,c,l,d){if(Number.isInteger(o))return o;if(!l){const f=this.parsingContext.unaliasedKeywordCacheStack[c];if(f)return f}if(!t.Util.isPotentialKeyword(o)){d=d||await this.parsingContext.getContext(u);let f=d.getContextRaw()[o];f&&typeof f=="object"&&(f=f["@id"]),t.Util.isValidKeyword(f)&&(o=f)}return l?o:this.parsingContext.unaliasedKeywordCacheStack[c]=o}async unaliasKeywordParent(o,u){return await this.unaliasKeyword(u>0&&o[u-1],o,u-1)}async unaliasKeywords(o,u,c,l){const d={};for(const f in o)d[await this.unaliasKeyword(f,u,c+1,!0,l)]=o[f];return d}async isLiteral(o,u){for(let c=u;c>=0;c--){if(await this.unaliasKeyword(o[c],o,c)==="@annotation")return!1;if(this.parsingContext.literalStack[c]||this.parsingContext.jsonLiteralStack[c])return!0}return!1}async getDepthOffsetGraph(o,u){for(let c=o-1;c>0;c--)if(await this.unaliasKeyword(u[c],u,c)==="@graph"){const l=(await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,u,c)).containers;return r.EntryHandlerContainer.isComplexGraphContainer(l)?-1:o-c-1}return-1}validateReverseSubject(o){if(o.termType==="Literal")throw new t.ErrorCoded(`Found illegal literal in subject position: ${o.value}`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(o,u){let c=this.getDefaultGraph();const{containers:l,depth:d}=await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,o,u);if("@graph"in l){const f=r.EntryHandlerContainer.getContainerGraphIndex(l,d,o),h=this.parsingContext.graphContainerTermStack[d];if(c=h?h[f]:null,!c){let p=null;if("@id"in l){const m=await this.getContainerKey(o[d],o,d);m!==null&&(p=await this.resourceToTerm(await this.parsingContext.getContext(o),m))}p||(p=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[d]||(this.parsingContext.graphContainerTermStack[d]={}),c=this.parsingContext.graphContainerTermStack[d][f]=p}}return c}async getPropertiesDepth(o,u){let c=u;for(let l=u-1;l>0;l--)if(typeof o[l]!="number"){const d=await this.unaliasKeyword(o[l],o,l);if(d==="@reverse")return l;if(d==="@nest")c=l;else return c}return c}async getContainerKey(o,u,c){const l=await this.unaliasKeyword(o,u,c);return l==="@none"?null:l}validateReverseInEmbeddedNode(o,u,c){if(c&&u&&!this.parsingContext.rdfstarReverseInEmbedded)throw new t.ErrorCoded(`Illegal reverse property in embedded node in ${o}`,t.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(o,u,c,l,d,f,h){let p;if(f?(this.validateReverseSubject(l),p=this.dataFactory.quad(l,c,u,d)):p=this.dataFactory.quad(u,c,l,d),h){if(p.graph.termType!=="DefaultGraph"&&(p=this.dataFactory.quad(p.subject,p.predicate,p.object)),this.parsingContext.idStack[o-1])throw new t.ErrorCoded("Illegal multiple properties in an embedded node",t.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[o-1]=[p]}else this.parsingContext.emitQuad(o,p);const m=this.parsingContext.annotationsBuffer[o];if(m){for(const y of m)this.emitAnnotation(o,p,y);delete this.parsingContext.annotationsBuffer[o]}}emitAnnotation(o,u,c){let l;c.reverse?(this.validateReverseSubject(c.object),l=this.dataFactory.quad(c.object,c.predicate,u)):l=this.dataFactory.quad(u,c.predicate,c.object),this.parsingContext.emitQuad(o,l);for(const d of c.nestedAnnotations)this.emitAnnotation(o,l,d)}}return a.XSD="http://www.w3.org/2001/XMLSchema#",a.XSD_BOOLEAN=a.XSD+"boolean",a.XSD_INTEGER=a.XSD+"integer",a.XSD_DOUBLE=a.XSD+"double",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",fy.Util=a,fy}Object.defineProperty(ST,"__esModule",{value:!0});ST.EntryHandlerArrayValue=void 0;const jDe=bl(),M$=pn;class MDe{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,a,s){return this.test(e,r,null,n,a)}async test(e,r,n,a,s){return typeof a[s]=="number"}async handle(e,r,n,a,s,o){let u=await r.unaliasKeywordParent(a,o);if(u==="@list"){let c=null,l=0;for(let d=o-2;d>0;d--){const f=a[d];if(typeof f=="string"||typeof f=="number"){l=d,c=f;break}}if(c!==null){const d=await r.valueToTerm(await e.getContext(a),c,s,o,a);for(const f of d)await this.handleListElement(e,r,f,s,o,a.slice(0,l),l);d.length===0&&await this.handleListElement(e,r,null,s,o,a.slice(0,l),l)}}else if(u==="@set")await e.newOnValueJob(a.slice(0,-2),s,o-2,!1);else if(u!==void 0&&u!=="@type"){for(let l=o-1;l>0;l--)if(typeof a[l]!="number"){u=await r.unaliasKeyword(a[l],a,l);break}const c=await e.getContext(a.slice(0,-1));if("@list"in jDe.Util.getContextValueContainer(c,u)){e.emittedStack[o+1]=!0;const l=await r.valueToTerm(await e.getContext(a),u,s,o,a);for(const d of l)await this.handleListElement(e,r,d,s,o,a.slice(0,-1),o-1);l.length===0&&await this.handleListElement(e,r,null,s,o,a.slice(0,-1),o-1)}else e.shiftStack(o,1),await e.newOnValueJob(a.slice(0,-1),s,o-1,!1),e.contextTree.removeContext(a.slice(0,-1))}}async handleListElement(e,r,n,a,s,o,u){let c=e.listPointerStack[s];if(a!==null&&(await r.unaliasKeywords(a,o,s))["@value"]!==null){if(!c||!c.value){const l=r.dataFactory.blankNode();c={value:l,listRootDepth:u,listId:l}}else{const l=r.dataFactory.blankNode();e.emitQuad(s,r.dataFactory.quad(c.value,r.rdfRest,l,r.getDefaultGraph())),c.value=l}n&&e.emitQuad(s,r.dataFactory.quad(c.value,r.rdfFirst,n,r.getDefaultGraph()))}else c||(c={listRootDepth:u,listId:r.rdfNil});e.listPointerStack[s]=c,e.rdfstar&&e.annotationsBuffer[s]&&e.emitError(new M$.ErrorCoded("Found an illegal annotation inside a list",M$.ERROR_CODES.INVALID_ANNOTATION))}}ST.EntryHandlerArrayValue=MDe;var OT={};Object.defineProperty(OT,"__esModule",{value:!0});OT.EntryHandlerInvalidFallback=void 0;class FDe{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,a,s){return!1}async test(e,r,n,a,s){return!0}async handle(e,r,n,a,s,o){e.emittedStack[o]=!1}}OT.EntryHandlerInvalidFallback=FDe;var RT={},ka={};Object.defineProperty(ka,"__esModule",{value:!0});ka.EntryHandlerKeyword=void 0;class BDe{constructor(e){this.keyword=e}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,a,s){return!1}async test(e,r,n,a,s){return n===this.keyword}}ka.EntryHandlerKeyword=BDe;Object.defineProperty(RT,"__esModule",{value:!0});RT.EntryHandlerKeywordContext=void 0;const F$=pn,qDe=ka;class $De extends qDe.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(e,r,n,a,s,o){e.streamingProfile&&(e.processingStack[o]||e.processingType[o]||e.idStack[o]!==void 0)&&e.emitError(new F$.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",F$.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const u=e.getContext(a),c=e.parseContext(s,(await u).getContextRaw());e.contextTree.setContext(a.slice(0,-1),c),e.emitContext(s),await e.validateContext(await c)}}RT.EntryHandlerKeywordContext=$De;var xT={};Object.defineProperty(xT,"__esModule",{value:!0});xT.EntryHandlerKeywordGraph=void 0;const UDe=ka;class kDe extends UDe.EntryHandlerKeyword{constructor(){super("@graph")}async handle(e,r,n,a,s,o){e.graphStack[o+1]=!0}}xT.EntryHandlerKeywordGraph=kDe;var IT={};Object.defineProperty(IT,"__esModule",{value:!0});IT.EntryHandlerKeywordId=void 0;const Ja=pn,VDe=ka;class HDe extends VDe.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(e,r,n,a,s,o){if(typeof s!="string"){if(e.rdfstar&&typeof s=="object"){const c=Object.keys(s);c.length===1&&c[0]==="@id"&&e.emitError(new Ja.ErrorCoded(`Invalid embedded node without property with @id ${s["@id"]}`,Ja.ERROR_CODES.INVALID_EMBEDDED_NODE))}else e.emitError(new Ja.ErrorCoded(`Found illegal @id '${s}'`,Ja.ERROR_CODES.INVALID_ID_VALUE));return}const u=await r.getPropertiesDepth(a,o);if(e.idStack[u]!==void 0&&(e.idStack[u][0].listHead?e.emitError(new Ja.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${a[o-1]}'`,Ja.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):e.emitError(new Ja.ErrorCoded(`Found duplicate @ids '${e.idStack[u][0].value}' and '${s}'`,Ja.ERROR_CODES.COLLIDING_KEYWORDS))),e.rdfstar&&e.annotationsBuffer[o])for(const c of e.annotationsBuffer[o])c.depth===o&&e.emitError(new Ja.ErrorCoded(`Found an illegal @id inside an annotation: ${s}`,Ja.ERROR_CODES.INVALID_ANNOTATION));e.idStack[u]=r.nullableTermToArray(await r.resourceToTerm(await e.getContext(a),s))}}IT.EntryHandlerKeywordId=HDe;var PT={};Object.defineProperty(PT,"__esModule",{value:!0});PT.EntryHandlerKeywordIncluded=void 0;const $l=pn,QDe=ka;class zDe extends QDe.EntryHandlerKeyword{constructor(){super("@included")}async handle(e,r,n,a,s,o){typeof s!="object"&&e.emitError(new $l.ErrorCoded(`Found illegal @included '${s}'`,$l.ERROR_CODES.INVALID_INCLUDED_VALUE));const u=await r.unaliasKeywords(s,a,o,await e.getContext(a));"@value"in u&&e.emitError(new $l.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(s)}'`,$l.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in u&&e.emitError(new $l.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(s)}'`,$l.ERROR_CODES.INVALID_INCLUDED_VALUE)),e.emittedStack[o]=!1}}PT.EntryHandlerKeywordIncluded=zDe;var NT={};Object.defineProperty(NT,"__esModule",{value:!0});NT.EntryHandlerKeywordNest=void 0;const sw=pn,GDe=ka;class WDe extends GDe.EntryHandlerKeyword{constructor(){super("@nest")}async handle(e,r,n,a,s,o){typeof s!="object"&&e.emitError(new sw.ErrorCoded(`Found invalid @nest entry for '${n}': '${s}'`,sw.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await r.unaliasKeywords(s,a,o,await e.getContext(a))&&e.emitError(new sw.ErrorCoded(`Found an invalid @value node for '${n}'`,sw.ERROR_CODES.INVALID_NEST_VALUE)),e.emittedStack[o]=!1}}NT.EntryHandlerKeywordNest=WDe;var DT={};Object.defineProperty(DT,"__esModule",{value:!0});DT.EntryHandlerKeywordType=void 0;const gy=pn,ow=bl(),KDe=ET(),JDe=ka;class XDe extends JDe.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(e,r,n,a,s,o){const u=a[o],c=await e.getContext(a),l=r.rdfType,d=await r.unaliasKeywordParent(a,o),f=ow.Util.isPropertyReverse(c,u,d),h=ow.Util.isPropertyInEmbeddedNode(d);r.validateReverseInEmbeddedNode(n,f,h);const p=ow.Util.isPropertyInAnnotationObject(d),m=Array.isArray(s)?s:[s];for(const b of m){typeof b!="string"&&e.emitError(new gy.ErrorCoded(`Found illegal @type '${b}'`,gy.ERROR_CODES.INVALID_TYPE_VALUE));const v=r.createVocabOrBaseTerm(c,b);v&&await KDe.EntryHandlerPredicate.handlePredicateObject(e,r,a,o,l,v,f,h,p)}let y=Promise.resolve(c),g=!1;for(const b of m.sort()){const v=ow.Util.getContextValue(c,"@context",b,null);v&&(g=!0,y=y.then(_=>e.parseContext(v,_.getContextRaw())))}e.streamingProfile&&(g||!e.streamingProfileAllowOutOfOrderPlainType)&&(e.processingStack[o]||e.idStack[o])&&e.emitError(new gy.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",gy.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),g&&(y=y.then(b=>b.getContextRaw()["@propagate"]!==!0?new gy.JsonLdContextNormalized(Object.assign(Object.assign({},b.getContextRaw()),{"@propagate":!1,"@__propagateFallback":c.getContextRaw()})):b),e.contextTree.setContext(a.slice(0,a.length-1),y)),e.processingType[o]=!0}}DT.EntryHandlerKeywordType=XDe;var CT={};Object.defineProperty(CT,"__esModule",{value:!0});CT.EntryHandlerKeywordUnknownFallback=void 0;const Y_=pn;class LT{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,a,s){const o=await r.unaliasKeyword(n[a],n,a);return Y_.Util.isPotentialKeyword(o)?!(!s&&o==="@list"):!1}async test(e,r,n,a,s){return Y_.Util.isPotentialKeyword(n)}async handle(e,r,n,a,s,o){const u=LT.VALID_KEYWORDS_TYPES[n];u!==void 0?u&&typeof s!==u.type&&e.emitError(new Y_.ErrorCoded(`Invalid value type for '${n}' with value '${s}'`,u.errorCode)):e.strictValues&&e.emitError(new Error(`Unknown keyword '${n}' with value '${s}'`)),e.emittedStack[o]=!1}}LT.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:Y_.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:Y_.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null};CT.EntryHandlerKeywordUnknownFallback=LT;var jT={};Object.defineProperty(jT,"__esModule",{value:!0});jT.EntryHandlerKeywordValue=void 0;const YDe=ka;class ZDe extends YDe.EntryHandlerKeyword{constructor(){super("@value")}async validate(e,r,n,a,s){const o=n[a];return o&&!e.literalStack[a]&&await this.test(e,r,o,n,a)&&(e.literalStack[a]=!0),super.validate(e,r,n,a,s)}async test(e,r,n,a,s){return await r.unaliasKeyword(a[s],a.slice(0,a.length-1),s-1,!0)==="@value"}async handle(e,r,n,a,s,o){e.literalStack[o]=!0,delete e.unidentifiedValuesBuffer[o],delete e.unidentifiedGraphsBuffer[o],e.emittedStack[o]=!1}}jT.EntryHandlerKeywordValue=ZDe;var _y={},MT={};Object.defineProperty(MT,"__esModule",{value:!0});MT.ContextTree=void 0;class u4{constructor(){this.subTrees={}}getContext(e){if(e.length>0){const[r,...n]=e,a=this.subTrees[r];if(a){const s=a.getContext(n);if(s)return s.then(({context:o,depth:u})=>({context:o,depth:u+1}))}}return this.context?this.context.then(r=>({context:r,depth:0})):null}setContext(e,r){if(e.length===0)this.context=r;else{const[n,...a]=e;let s=this.subTrees[n];s||(s=this.subTrees[n]=new u4),s.setContext(a,r)}}removeContext(e){this.setContext(e,null)}}MT.ContextTree=u4;var B$;function eCe(){if(B$)return _y;B$=1,Object.defineProperty(_y,"__esModule",{value:!0}),_y.ParsingContext=void 0;const t=pn,e=If,r=MT,n=hee();let a=class fee{constructor(o){this.contextParser=new t.ContextParser({documentLoader:o.documentLoader,skipValidation:o.skipContextValidation}),this.streamingProfile=!!o.streamingProfile,this.baseIRI=o.baseIRI,this.produceGeneralizedRdf=!!o.produceGeneralizedRdf,this.allowSubjectList=!!o.allowSubjectList,this.processingMode=o.processingMode||n.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!o.strictValues,this.validateValueIndexes=!!o.validateValueIndexes,this.defaultGraph=o.defaultGraph,this.rdfDirection=o.rdfDirection,this.normalizeLanguageTags=o.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=o.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=o.rdfstar!==!1,this.rdfstarReverseInEmbedded=o.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new r.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=o.parser,o.context?(this.rootContext=this.parseContext(o.context),this.rootContext.then(u=>this.validateContext(u))):this.rootContext=Promise.resolve(new t.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(o,u,c){return this.contextParser.parse(o,{baseIRI:this.baseIRI,ignoreProtection:c,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:u,processingMode:this.activeProcessingMode})}validateContext(o){const u=o.getContextRaw()["@version"];if(u){if(this.activeProcessingMode&&u>this.activeProcessingMode)throw new e.ErrorCoded(`Unsupported JSON-LD version '${u}' under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&u<this.activeProcessingMode)throw new e.ErrorCoded(`Invalid JSON-LD version ${u} under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=u}}async getContext(o,u=1){const c=o;for(;typeof o[o.length-1]=="number";)o=o.slice(0,o.length-1);u&&(o=o.slice(0,-u));const l=await this.getContextPropagationAware(o);let f=l.context.getContextRaw();for(let h=l.depth;h<c.length-u;h++){const p=c[h],m=f[p];if(m&&typeof m=="object"&&"@context"in m){const y=(await this.parseContext(m,f,!0)).getContextRaw(),g=!(p in y)||y[p]["@context"]["@propagate"];(g!==!1||h===c.length-1-u)&&(f=Object.assign({},y),delete f["@propagate"],f[p]=Object.assign({},f[p]),"@id"in m&&(f[p]["@id"]=m["@id"]),delete f[p]["@context"],g!==!1&&this.contextTree.setContext(c.slice(0,h+u),Promise.resolve(new t.JsonLdContextNormalized(f))))}}return new t.JsonLdContextNormalized(f)}async getContextPropagationAware(o){const u=o.length;let c=null,l;do{l=!1,c&&"@__propagateFallback"in c.context.getContextRaw()?c.context=new t.JsonLdContextNormalized(c.context.getContextRaw()["@__propagateFallback"]):(c&&(o=o.slice(0,c.depth-1)),c=await this.contextTree.getContext(o)||{context:await this.rootContext,depth:0});const d=o[o.length-1];if(d in c.context.getContextRaw()){const f=c.context.getContextRaw()[d];f&&typeof f=="object"&&"@context"in f&&(l=!0)}}while(c.depth>0&&c.context.getContextRaw()["@propagate"]===!1&&c.depth!==u&&!l);return c.depth===0&&c.context.getContextRaw()["@propagate"]===!1&&c.depth!==u&&(c.context=new t.JsonLdContextNormalized({})),c}async newOnValueJob(o,u,c,l){await this.parser.newOnValueJob(o,u,c,l)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const o of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(o.depth,o.keys),this.parser.flushStacks(o.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(o,u){o===1&&(this.topLevelProperties=!0),this.parser.push(u)}emitError(o){this.parser.emit("error",o)}emitContext(o){this.parser.emit("context",o)}getUnidentifiedValueBufferSafe(o){let u=this.unidentifiedValuesBuffer[o];return u||(u=[],this.unidentifiedValuesBuffer[o]=u),u}getUnidentifiedGraphBufferSafe(o){let u=this.unidentifiedGraphsBuffer[o];return u||(u=[],this.unidentifiedGraphsBuffer[o]=u),u}getAnnotationsBufferSafe(o){let u=this.annotationsBuffer[o];return u||(u=[],this.annotationsBuffer[o]=u),u}getExpandOptions(){return fee.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(o,u){const c=this.idStack[o+u];if(c&&(this.idStack[o]=c,this.emittedStack[o]=!0,delete this.idStack[o+u]),this.pendingContainerFlushBuffers.length)for(const l of this.pendingContainerFlushBuffers)l.depth>=o+u&&(l.depth-=u,l.keys.splice(o,u));this.unidentifiedValuesBuffer[o+u]&&(this.unidentifiedValuesBuffer[o]=this.unidentifiedValuesBuffer[o+u],delete this.unidentifiedValuesBuffer[o+u]),this.annotationsBuffer[o+u-1]&&(this.annotationsBuffer[o-1]||(this.annotationsBuffer[o-1]=[]),this.annotationsBuffer[o-1]=[...this.annotationsBuffer[o-1],...this.annotationsBuffer[o+u-1]],delete this.annotationsBuffer[o+u-1])}};return a.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},_y.ParsingContext=a,_y}var FT={};Object.defineProperty(FT,"__esModule",{value:!0});FT.EntryHandlerKeywordAnnotation=void 0;const tCe=ka,q$=pn;class rCe extends tCe.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(e,r,n,a,s,o){(typeof s=="string"||typeof s=="object"&&s["@value"])&&e.emitError(new q$.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(s)}`,q$.ERROR_CODES.INVALID_ANNOTATION))}}FT.EntryHandlerKeywordAnnotation=rCe;var $$;function hee(){if($$)return dy;$$=1,Object.defineProperty(dy,"__esModule",{value:!0}),dy.JsonLdParser=void 0;const t=zY,e=pn,r=Pt,n=ST,a=dee(),s=OT,o=ET(),u=RT,c=xT,l=IT,d=PT,f=NT,h=DT,p=CT,m=jT,y=eCe(),g=bl(),b=PY,v=FT;let _=class ed extends r.Transform{constructor(E){super({readableObjectMode:!0}),E=E||{},this.options=E,this.parsingContext=new y.ParsingContext(Object.assign({parser:this},E)),this.util=new g.Util({dataFactory:E.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new t,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(E,O,L,F){let x,P=["application/activity+json"];if(F&&F.wellKnownMediaTypes&&(P=F.wellKnownMediaTypes),O!=="application/ld+json"&&!P.includes(O)){if(O!=="application/json"&&!O.endsWith("+json"))throw new e.ErrorCoded(`Unsupported JSON-LD media type ${O}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(L&&L.has("Link")&&L.forEach((N,V)=>{if(V==="link"){const $=(0,b.parse)(N);for(const q of $.get("rel","http://www.w3.org/ns/json-ld#context")){if(x)throw new e.ErrorCoded("Multiple JSON-LD context link headers were found on "+E,e.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);x=q.uri}}}),!x&&!(F!=null&&F.ignoreMissingContextLinkHeader))throw new e.ErrorCoded(`Missing context link header for media type ${O} on ${E}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let j;if(L&&L.has("Content-Type")){const N=L.get("Content-Type"),V=/; *profile=([^"]*)/.exec(N);V&&V[1]==="http://www.w3.org/ns/json-ld#streaming"&&(j=!0)}return new ed(Object.assign({baseIRI:E,context:x,streamingProfile:j},F||{}))}import(E){if("pipe"in E){E.on("error",L=>O.emit("error",L));const O=E.pipe(new ed(this.options));return O}else{const O=new r.PassThrough({readableObjectMode:!0});E.on("error",F=>L.emit("error",F)),E.on("data",F=>O.push(F)),E.on("end",()=>O.push(null));const L=O.pipe(new ed(this.options));return L}}_transform(E,O,L){this.jsonParser.write(E),this.lastOnValueJob.then(()=>L(),F=>L(F))}async newOnValueJob(E,O,L,F){let x=!0;if(F&&L<this.lastDepth){const $=this.parsingContext.listPointerStack[this.lastDepth];$&&($.value&&this.push(this.util.dataFactory.quad($.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),$.listId.listHead=!0,this.parsingContext.idStack[$.listRootDepth+1]=[$.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await a.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),x=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const P=await this.util.unaliasKeyword(E[L],E,L),j=await this.util.unaliasKeywordParent(E,L);this.parsingContext.emittedStack[L]=!0;let N=!0;e.Util.isValidKeyword(P)&&j==="@reverse"&&P!=="@context"&&this.emit("error",new e.ErrorCoded(`Found the @id '${O}' inside an @reverse property`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let V=!1;this.parsingContext.validationStack.length>1&&(V=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let $=Math.max(1,this.parsingContext.validationStack.length-1);$<E.length-1;$++){const q=this.parsingContext.validationStack[$]||(this.parsingContext.validationStack[$]=await this.validateKey(E.slice(0,$+1),$,V));if(q.valid)!V&&q.property&&(V=!0);else{this.parsingContext.emittedStack[L]=!1,N=!1;break}}if(await this.util.isLiteral(E,L)&&(N=!1),N)for(const $ of ed.ENTRY_HANDLERS){const q=await $.test(this.parsingContext,this.util,P,E,L);if(q){await $.handle(this.parsingContext,this.util,P,E,O,L,q),$.isStackProcessor()&&(this.parsingContext.processingStack[L]=!0);break}}L===0&&Array.isArray(O)&&await this.util.validateValueIndexes(O),x&&L<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=L,this.lastKeys=E,this.parsingContext.unaliasedKeywordCacheStack.splice(L-1)}flushStacks(E){this.parsingContext.processingStack.splice(E,1),this.parsingContext.processingType.splice(E,1),this.parsingContext.emittedStack.splice(E,1),this.parsingContext.idStack.splice(E,1),this.parsingContext.graphStack.splice(E+1,1),this.parsingContext.graphContainerTermStack.splice(E,1),this.parsingContext.jsonLiteralStack.splice(E,1),this.parsingContext.validationStack.splice(E-1,2),this.parsingContext.literalStack.splice(E,this.parsingContext.literalStack.length-E),this.parsingContext.annotationsBuffer.splice(E,1)}async flushBuffer(E,O){let L=this.parsingContext.idStack[E];!!L||(L=this.parsingContext.idStack[E]=[this.util.dataFactory.blankNode()]);const x=this.parsingContext.unidentifiedValuesBuffer[E];if(x){for(const N of L){const V=await this.util.getDepthOffsetGraph(E,O),$=this.parsingContext.graphStack[E]||V>=0?this.parsingContext.idStack[E-V-1]:[await this.util.getGraphContainerValue(O,E)];if($)for(const q of $){this.parsingContext.emittedStack[E]=!0;for(const H of x)this.util.emitQuadChecked(E,N,H.predicate,H.object,q,H.reverse,H.isEmbedded)}else{const q=this.parsingContext.getUnidentifiedGraphBufferSafe(E-await this.util.getDepthOffsetGraph(E,O)-1);for(const H of x)H.reverse?q.push({object:N,predicate:H.predicate,subject:H.object,isEmbedded:H.isEmbedded}):q.push({object:H.object,predicate:H.predicate,subject:N,isEmbedded:H.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(E,1),this.parsingContext.literalStack.splice(E,1),this.parsingContext.jsonLiteralStack.splice(E,1)}const P=this.parsingContext.unidentifiedGraphsBuffer[E];if(P){for(const N of L){const V=E===1&&N.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():N;this.parsingContext.emittedStack[E]=!0;for(const $ of P)this.parsingContext.emitQuad(E,this.util.dataFactory.quad($.subject,$.predicate,$.object,V))}this.parsingContext.unidentifiedGraphsBuffer.splice(E,1)}const j=this.parsingContext.annotationsBuffer[E];if(j){j.length>0&&E===1&&this.parsingContext.emitError(new e.ErrorCoded("Annotations can not be made on top-level nodes",e.ERROR_CODES.INVALID_ANNOTATION));const N=this.parsingContext.getAnnotationsBufferSafe(E-1);for(const V of j)N.push(V);delete this.parsingContext.annotationsBuffer[E]}}async validateKey(E,O,L){for(const F of ed.ENTRY_HANDLERS)if(await F.validate(this.parsingContext,this.util,E,O,L))return{valid:!0,property:L||F.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=E=>{const O=this.jsonParser.stack.length,L=new Array(O+1).fill(0).map((F,x)=>x===O?this.jsonParser.key:this.jsonParser.stack[x].key);if(!this.isParsingContextInner(O)){const F=()=>this.newOnValueJob(L,E,O,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(L.slice(0,-1)))if(L[O]==="@context"){let x=this.contextJobs[O];x||(x=this.contextJobs[O]=[]),x.push(F)}else this.contextAwaitingJobs.push({job:F,keys:L,depth:O});else this.lastOnValueJob=this.lastOnValueJob.then(F);!this.parsingContext.streamingProfile&&O===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=E=>{this.emit("error",E)}}isParsingContextInner(E){for(let O=E;O>0;O--)if(this.jsonParser.stack[O-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const O of this.contextJobs)if(O)for(const L of O)await L();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const E=[];for(const O of this.contextAwaitingJobs)await this.util.unaliasKeyword(O.keys[O.depth],O.keys,O.depth,!0)==="@type"||typeof O.keys[O.depth]=="number"&&await this.util.unaliasKeyword(O.keys[O.depth-1],O.keys,O.depth-1,!0)==="@type"?this.typeJobs.push({job:O.job,keys:O.keys.slice(0,O.keys.length-1)}):E.push(O);for(const O of E){if(this.typeJobs.length>0){const L=[],F=[];for(let j=0;j<this.typeJobs.length;j++){const N=this.typeJobs[j];g.Util.isPrefixArray(N.keys,O.keys)&&(L.push(N),F.push(j))}const x=L.sort((j,N)=>j.keys.length-N.keys.length);for(const j of x)await j.job();const P=F.sort().reverse();for(const j of P)this.typeJobs.splice(j,1)}await O.job()}}};return _.DEFAULT_PROCESSING_MODE="1.1",_.ENTRY_HANDLERS=[new n.EntryHandlerArrayValue,new u.EntryHandlerKeywordContext,new l.EntryHandlerKeywordId,new d.EntryHandlerKeywordIncluded,new c.EntryHandlerKeywordGraph,new f.EntryHandlerKeywordNest,new h.EntryHandlerKeywordType,new m.EntryHandlerKeywordValue,new v.EntryHandlerKeywordAnnotation,new a.EntryHandlerContainer,new p.EntryHandlerKeywordUnknownFallback,new o.EntryHandlerPredicate,new s.EntryHandlerInvalidFallback],dy.JsonLdParser=_,dy}(function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(hee(),t)})(cee);var by={},U$;function yee(){if(U$)return by;U$=1,Object.defineProperty(by,"__esModule",{value:!0}),by.DocumentLoaderMediated=void 0;const t=ju(),e=pn,r=gl;let n=class pee extends e.FetchDocumentLoader{constructor(s,o){super(pee.createFetcher(s,o)),this.mediatorHttp=s,this.context=o}static createFetcher(s,o){return async(u,c)=>{const l=await s.mediate({input:u,init:c,context:o});return l.json=async()=>JSON.parse(await r(t.ActorHttp.toNodeReadable(l.body))),l}}};return by.DocumentLoaderMediated=n,by}var k$;function nCe(){if(k$)return ly;k$=1,Object.defineProperty(ly,"__esModule",{value:!0}),ly.ActorRdfParseJsonLd=void 0;const t=Df(),e=qt,r=cee,n=yee();let a=class extends t.ActorRdfParseFixedMediaTypes{constructor(o){super(o)}async testHandle(o,u,c){if(c.has(e.KeysRdfParseHtmlScript.processingHtmlScript)&&u!=="application/ld+json")throw new Error("JSON-LD in script tags can only have media type 'application/ld+json'");if(!u||!(u in this.mediaTypePriorities||u.endsWith("+json")))throw new Error(`Unrecognized media type: ${u}`);return await this.testHandleChecked(o)}async runHandle(o,u,c){var f;return{data:r.JsonLdParser.fromHttpResponse(((f=o.metadata)==null?void 0:f.baseIRI)??"",u,o.headers,{documentLoader:c.get(e.KeysRdfParseJsonLd.documentLoader)??new n.DocumentLoaderMediated(this.mediatorHttp,c),strictValues:c.get(e.KeysRdfParseJsonLd.strictValues),...c.get(e.KeysRdfParseJsonLd.parserOptions)}).import(o.data)}}};return ly.ActorRdfParseJsonLd=a,ly}var V$;function iCe(){return V$||(V$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(nCe(),t),r(yee(),t)}(jR)),jR}var MR={},vy={},FR={},wy={},H$;function aCe(){if(H$)return wy;H$=1,Object.defineProperty(wy,"__esModule",{value:!0}),wy.ActorRdfUpdateHypermedia=void 0;const t=st;let e=class extends t.Actor{constructor(n,a){super(n),this.destinationType=a}async test(n){if(n.forceDestinationType&&this.destinationType!==n.forceDestinationType)throw new Error(`Actor ${this.name} is not able to handle destination type ${n.forceDestinationType}.`);return this.testMetadata(n)}};return wy.ActorRdfUpdateHypermedia=e,wy}var Q$;function c4(){return Q$||(Q$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(aCe(),t)}(FR)),FR}var Sy={},ZP={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof I<"u"&&I,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var u=typeof s<"u"&&s||typeof self<"u"&&self||typeof u<"u"&&u,c={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function l(q){return q&&DataView.prototype.isPrototypeOf(q)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(q){return q&&d.indexOf(Object.prototype.toString.call(q))>-1};function h(q){if(typeof q!="string"&&(q=String(q)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(q)||q==="")throw new TypeError('Invalid character in header field name: "'+q+'"');return q.toLowerCase()}function p(q){return typeof q!="string"&&(q=String(q)),q}function m(q){var H={next:function(){var X=q.shift();return{done:X===void 0,value:X}}};return c.iterable&&(H[Symbol.iterator]=function(){return H}),H}function y(q){this.map={},q instanceof y?q.forEach(function(H,X){this.append(X,H)},this):Array.isArray(q)?q.forEach(function(H){this.append(H[0],H[1])},this):q&&Object.getOwnPropertyNames(q).forEach(function(H){this.append(H,q[H])},this)}y.prototype.append=function(q,H){q=h(q),H=p(H);var X=this.map[q];this.map[q]=X?X+", "+H:H},y.prototype.delete=function(q){delete this.map[h(q)]},y.prototype.get=function(q){return q=h(q),this.has(q)?this.map[q]:null},y.prototype.has=function(q){return this.map.hasOwnProperty(h(q))},y.prototype.set=function(q,H){this.map[h(q)]=p(H)},y.prototype.forEach=function(q,H){for(var X in this.map)this.map.hasOwnProperty(X)&&q.call(H,this.map[X],X,this)},y.prototype.keys=function(){var q=[];return this.forEach(function(H,X){q.push(X)}),m(q)},y.prototype.values=function(){var q=[];return this.forEach(function(H){q.push(H)}),m(q)},y.prototype.entries=function(){var q=[];return this.forEach(function(H,X){q.push([X,H])}),m(q)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function g(q){if(q.bodyUsed)return Promise.reject(new TypeError("Already read"));q.bodyUsed=!0}function b(q){return new Promise(function(H,X){q.onload=function(){H(q.result)},q.onerror=function(){X(q.error)}})}function v(q){var H=new FileReader,X=b(H);return H.readAsArrayBuffer(q),X}function _(q){var H=new FileReader,X=b(H);return H.readAsText(q),X}function w(q){for(var H=new Uint8Array(q),X=new Array(H.length),Y=0;Y<H.length;Y++)X[Y]=String.fromCharCode(H[Y]);return X.join("")}function E(q){if(q.slice)return q.slice(0);var H=new Uint8Array(q.byteLength);return H.set(new Uint8Array(q)),H.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(q){this.bodyUsed=this.bodyUsed,this._bodyInit=q,q?typeof q=="string"?this._bodyText=q:c.blob&&Blob.prototype.isPrototypeOf(q)?this._bodyBlob=q:c.formData&&FormData.prototype.isPrototypeOf(q)?this._bodyFormData=q:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(q)?this._bodyText=q.toString():c.arrayBuffer&&c.blob&&l(q)?(this._bodyArrayBuffer=E(q.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(q)||f(q))?this._bodyArrayBuffer=E(q):this._bodyText=q=Object.prototype.toString.call(q):this._bodyText="",this.headers.get("content-type")||(typeof q=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(q)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var q=g(this);if(q)return q;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var q=g(this);return q||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var q=g(this);if(q)return q;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}var L=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function F(q){var H=q.toUpperCase();return L.indexOf(H)>-1?H:q}function x(q,H){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');H=H||{};var X=H.body;if(q instanceof x){if(q.bodyUsed)throw new TypeError("Already read");this.url=q.url,this.credentials=q.credentials,H.headers||(this.headers=new y(q.headers)),this.method=q.method,this.mode=q.mode,this.signal=q.signal,!X&&q._bodyInit!=null&&(X=q._bodyInit,q.bodyUsed=!0)}else this.url=String(q);if(this.credentials=H.credentials||this.credentials||"same-origin",(H.headers||!this.headers)&&(this.headers=new y(H.headers)),this.method=F(H.method||this.method||"GET"),this.mode=H.mode||this.mode||null,this.signal=H.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&X)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(X),(this.method==="GET"||this.method==="HEAD")&&(H.cache==="no-store"||H.cache==="no-cache")){var Y=/([?&])_=[^&]*/;if(Y.test(this.url))this.url=this.url.replace(Y,"$1_="+new Date().getTime());else{var he=/\?/;this.url+=(he.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function P(q){var H=new FormData;return q.trim().split("&").forEach(function(X){if(X){var Y=X.split("="),he=Y.shift().replace(/\+/g," "),Te=Y.join("=").replace(/\+/g," ");H.append(decodeURIComponent(he),decodeURIComponent(Te))}}),H}function j(q){var H=new y,X=q.replace(/\r?\n[\t ]+/g," ");return X.split("\r").map(function(Y){return Y.indexOf(`
`)===0?Y.substr(1,Y.length):Y}).forEach(function(Y){var he=Y.split(":"),Te=he.shift().trim();if(Te){var Ne=he.join(":").trim();H.append(Te,Ne)}}),H}O.call(x.prototype);function N(q,H){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');H||(H={}),this.type="default",this.status=H.status===void 0?200:H.status,this.ok=this.status>=200&&this.status<300,this.statusText=H.statusText===void 0?"":""+H.statusText,this.headers=new y(H.headers),this.url=H.url||"",this._initBody(q)}O.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},N.error=function(){var q=new N(null,{status:0,statusText:""});return q.type="error",q};var V=[301,302,303,307,308];N.redirect=function(q,H){if(V.indexOf(H)===-1)throw new RangeError("Invalid status code");return new N(null,{status:H,headers:{location:q}})},o.DOMException=u.DOMException;try{new o.DOMException}catch{o.DOMException=function(H,X){this.message=H,this.name=X;var Y=Error(H);this.stack=Y.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function $(q,H){return new Promise(function(X,Y){var he=new x(q,H);if(he.signal&&he.signal.aborted)return Y(new o.DOMException("Aborted","AbortError"));var Te=new XMLHttpRequest;function Ne(){Te.abort()}Te.onload=function(){var de={status:Te.status,statusText:Te.statusText,headers:j(Te.getAllResponseHeaders()||"")};de.url="responseURL"in Te?Te.responseURL:de.headers.get("X-Request-URL");var ce="response"in Te?Te.response:Te.responseText;setTimeout(function(){X(new N(ce,de))},0)},Te.onerror=function(){setTimeout(function(){Y(new TypeError("Network request failed"))},0)},Te.ontimeout=function(){setTimeout(function(){Y(new TypeError("Network request failed"))},0)},Te.onabort=function(){setTimeout(function(){Y(new o.DOMException("Aborted","AbortError"))},0)};function $e(de){try{return de===""&&u.location.href?u.location.href:de}catch{return de}}Te.open(he.method,$e(he.url),!0),he.credentials==="include"?Te.withCredentials=!0:he.credentials==="omit"&&(Te.withCredentials=!1),"responseType"in Te&&(c.blob?Te.responseType="blob":c.arrayBuffer&&he.headers.get("Content-Type")&&he.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(Te.responseType="arraybuffer")),H&&typeof H.headers=="object"&&!(H.headers instanceof y)?Object.getOwnPropertyNames(H.headers).forEach(function(de){Te.setRequestHeader(de,p(H.headers[de]))}):he.headers.forEach(function(de,ce){Te.setRequestHeader(ce,de)}),he.signal&&(he.signal.addEventListener("abort",Ne),Te.onreadystatechange=function(){Te.readyState===4&&he.signal.removeEventListener("abort",Ne)}),Te.send(typeof he._bodyInit>"u"?null:he._bodyInit)})}return $.polyfill=!0,u.fetch||(u.fetch=$,u.Headers=y,u.Request=x,u.Response=N),o.Headers=y,o.Request=x,o.Response=N,o.fetch=$,o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=r.fetch?r:n;e=a.fetch,e.default=a.fetch,e.fetch=a.fetch,e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response,t.exports=e})(ZP,ZP.exports);var l4=ZP.exports,z$;function mee(){if(z$)return Sy;z$=1,Object.defineProperty(Sy,"__esModule",{value:!0}),Sy.QuadDestinationPatchSparqlUpdate=void 0;const t=ju(),e=l4,r=E1(),n=Pt;let a=class{constructor(o,u,c){this.url=o,this.context=u,this.mediatorHttp=c}insert(o){return this.wrapSparqlUpdateRequest("INSERT",o)}async delete(o){return this.wrapSparqlUpdateRequest("DELETE",o)}async wrapSparqlUpdateRequest(o,u){const c=u.map(h=>{let p=`${(0,r.termToString)(h.subject)} ${(0,r.termToString)(h.predicate)} ${(0,r.termToString)(h.object)} .`;return h.graph.termType==="DefaultGraph"?p=`  ${p}
`:p=`  GRAPH ${(0,r.termToString)(h.graph)} { ${p} }
`,p}).prepend([`${o} DATA {
`]).append(["}"]),l=new n.Readable;l.wrap(c);const d=new e.Headers({"content-type":"application/sparql-update"}),f=await this.mediatorHttp.mediate({context:this.context,init:{headers:d,method:"PATCH",body:t.ActorHttp.toWebReadableStream(l)},input:this.url});await(0,t.validateAndCloseHttpResponse)(this.url,f)}async deleteGraphs(o,u,c){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}async createGraphs(o,u){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}};return Sy.QuadDestinationPatchSparqlUpdate=a,Sy}var G$;function sCe(){if(G$)return vy;G$=1,Object.defineProperty(vy,"__esModule",{value:!0}),vy.ActorRdfUpdateHypermediaPatchSparqlUpdate=void 0;const t=c4(),e=mee();let r=class extends t.ActorRdfUpdateHypermedia{constructor(a){super(a,"patchSparqlUpdate")}async testMetadata(a){if(!a.forceDestinationType&&!a.metadata.patchSparqlUpdate)throw new Error(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`);if(!a.forceDestinationType&&!a.exists)throw new Error(`Actor ${this.name} can only patch a destination that already exists.`);return!0}async run(a){return this.logInfo(a.context,`Identified as patchSparqlUpdate destination: ${a.url}`),{destination:new e.QuadDestinationPatchSparqlUpdate(a.url,a.context,this.mediatorHttp)}}};return vy.ActorRdfUpdateHypermediaPatchSparqlUpdate=r,vy}var W$;function oCe(){return W$||(W$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(sCe(),t),r(mee(),t)}(MR)),MR}var BR={},Ty={},Ey={},K$;function gee(){if(K$)return Ey;K$=1,Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.QuadDestinationPutLdp=void 0;const t=ju(),e=l4;let r=class{constructor(a,s,o,u,c,l){this.url=a,this.context=s,this.mediaTypes=o,this.mediatorHttp=u,this.mediatorRdfSerializeMediatypes=c,this.mediatorRdfSerialize=l}insert(a){return this.wrapRdfUpdateRequest("INSERT",a)}async delete(a){throw new Error("Put-based LDP destinations don't support deletions")}async wrapRdfUpdateRequest(a,s){const{mediaTypes:o}=await this.mediatorRdfSerializeMediatypes.mediate({context:this.context,mediaTypes:!0}),u=this.mediaTypes.filter(h=>h in o),c=u.length>0?u[0]:Object.keys(o).sort((h,p)=>o[p]-o[h])[0],{handle:{data:l}}=await this.mediatorRdfSerialize.mediate({context:this.context,handle:{quadStream:s,context:this.context},handleMediaType:c}),d=new e.Headers({"content-type":c}),f=await this.mediatorHttp.mediate({context:this.context,init:{headers:d,method:"PUT",body:t.ActorHttp.toWebReadableStream(l)},input:this.url});await(0,t.validateAndCloseHttpResponse)(this.url,f)}async deleteGraphs(a,s,o){throw new Error("Put-based LDP destinations don't support named graphs")}async createGraphs(a,s){throw new Error("Put-based LDP destinations don't support named graphs")}};return Ey.QuadDestinationPutLdp=r,Ey}var J$;function uCe(){if(J$)return Ty;J$=1,Object.defineProperty(Ty,"__esModule",{value:!0}),Ty.ActorRdfUpdateHypermediaPutLdp=void 0;const t=c4(),e=gee();let r=class extends t.ActorRdfUpdateHypermedia{constructor(a){super(a,"putLdp")}async testMetadata(a){if(!a.forceDestinationType){if(!a.metadata.allowHttpMethods||!a.metadata.allowHttpMethods.includes("PUT"))throw new Error(`Actor ${this.name} could not detect a destination with 'Allow: PUT' header.`);if(a.exists)throw new Error(`Actor ${this.name} can only put on a destination that does not already exists.`)}return!0}async run(a){return this.logInfo(a.context,`Identified as putLdp destination: ${a.url}`),{destination:new e.QuadDestinationPutLdp(a.url,a.context,a.metadata.putAccepted||[],this.mediatorHttp,this.mediatorRdfSerializeMediatypes,this.mediatorRdfSerialize)}}};return Ty.ActorRdfUpdateHypermediaPutLdp=r,Ty}var X$;function cCe(){return X$||(X$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(uCe(),t),r(gee(),t)}(BR)),BR}var qR={},Ay={},Oy={},$R={},Ry={},UR={},xy={},Y$;function lCe(){if(Y$)return xy;Y$=1,Object.defineProperty(xy,"__esModule",{value:!0}),xy.SparqlXmlParser=void 0;const t=Ot,e=Yc,r=Pt;let n=class{constructor(s){s=s||{},this.dataFactory=s.dataFactory||new t.DataFactory,this.prefixVariableQuestionMark=!!s.prefixVariableQuestionMark}parseXmlResultsStream(s){const o=_=>v.emit("error",_);s.on("error",o);const u=new e.SaxesParser,c=[];let l=!1,d=!1;const f=[];let h={},p="",m="",y,g="",b=[];u.on("error",o),u.on("opentag",_=>{_.name==="variable"&&this.stackEquals(c,["sparql","head"])?f.push(this.dataFactory.variable(_.attributes.name)):_.name==="results"&&this.stackEquals(c,["sparql"])?d=!0:_.name==="result"&&this.stackEquals(c,["sparql","results"])?h={}:_.name==="binding"&&this.stackEquals(c,["sparql","results","result"])?(p=_.attributes.name||"",m="",y="",g="",b=[]):_.name==="triple"&&this.stackBeginsWith(c,["sparql","results","result"])?b.push({components:{}}):c[c.length-1]==="triple"&&this.stackBeginsWith(c,["sparql","results","result","binding"])?(m="",y="",g="",["subject","predicate","object"].includes(_.name)?b[b.length-1].currentComponent=_.name:o(new Error(`Illegal quoted triple component '${_.name}' found on line ${u.line+1}`))):this.stackBeginsWith(c,["sparql","results","result","binding"])&&(m=_.name,"xml:lang"in _.attributes?y=_.attributes["xml:lang"]:"datatype"in _.attributes?y=this.dataFactory.namedNode(_.attributes.datatype):y=void 0),c.push(_.name)}),u.on("closetag",_=>{if(this.stackEquals(c,["sparql","head"])&&(v.emit("variables",f),l=!0),this.stackEquals(c,["sparql","results","result"])&&v.push(h),this.stackBeginsWith(c,["sparql","results","result","binding"])){let w;if(!p&&m)o(new Error(`Terms should have a name on line ${u.line+1}`));else if(m==="uri")w=this.dataFactory.namedNode(g);else if(m==="bnode")w=this.dataFactory.blankNode(g);else if(m==="literal")w=this.dataFactory.literal(g,y);else if(c[c.length-1]==="triple"){const E=b.pop();E&&E.components.subject&&E.components.predicate&&E.components.object?w=this.dataFactory.quad(E.components.subject,E.components.predicate,E.components.object):o(new Error(`Incomplete quoted triple on line ${u.line+1}`))}else m&&o(new Error(`Invalid term type '${m}' on line ${u.line+1}`));if(w)if(b.length>0){const E=b[b.length-1];E.components[E.currentComponent]&&o(new Error(`The ${E.currentComponent} in a quoted triple on line ${u.line+1} was already defined before`)),E.components[E.currentComponent]=w}else{const E=this.prefixVariableQuestionMark?"?"+p:p;h[E]=w}m=void 0}c.pop()}),u.on("text",_=>{this.stackBeginsWith(c,["sparql","results","result","binding"])&&c[c.length-1]===m&&(g=_)});const v=s.on("end",_=>{d?l||v.emit("variables",[]):v.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new r.Transform({objectMode:!0,transform(_,w,E){u.write(_),E()}}));return v}parseXmlBooleanStream(s){return new Promise((o,u)=>{const c=new e.SaxesParser,l=[];c.on("error",u),c.on("opentag",d=>{l.push(d.name)}),c.on("closetag",d=>{l.pop()}),c.on("text",d=>{this.stackEquals(l,["sparql","boolean"])&&o(d==="true")}),s.on("error",u).on("data",d=>c.write(d)).on("end",()=>u(new Error("No valid ASK response was found.")))})}stackEquals(s,o){return s.length===o.length&&s.every((u,c)=>o[c]===u)}stackBeginsWith(s,o){return s.length>=o.length&&o.every((u,c)=>s[c]===u)}};return xy.SparqlXmlParser=n,xy}var Z$;function dCe(){return Z$||(Z$=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(lCe(),t)}(UR)),UR}var BT={};Object.defineProperty(BT,"__esModule",{value:!0});BT.ReadableWebToNodeStream=void 0;const fCe=Pt;class hCe extends fCe.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}BT.ReadableWebToNodeStream=hCe;var eU;function pCe(){if(eU)return Ry;eU=1,Object.defineProperty(Ry,"__esModule",{value:!0}),Ry.SparqlEndpointFetcher=void 0;const t=ol,e=GY(),r=dCe(),n=gl,a=BT,s=Cu,o=iee;let u=class pc{constructor(l){l=l||{},this.method=l.method||"POST",this.additionalUrlParams=l.additionalUrlParams||new URLSearchParams,this.defaultHeaders=l.defaultHeaders||new Headers,this.fetchCb=l.fetch,this.sparqlJsonParser=new e.SparqlJsonParser(l),this.sparqlXmlParser=new r.SparqlXmlParser(l),this.sparqlParsers={[pc.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:d=>this.sparqlJsonParser.parseJsonBooleanStream(d),parseResultsStream:d=>this.sparqlJsonParser.parseJsonResultsStream(d)},[pc.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:d=>this.sparqlXmlParser.parseXmlBooleanStream(d),parseResultsStream:d=>this.sparqlXmlParser.parseXmlResultsStream(d)}},this.timeout=l.timeout}getQueryType(l){const d=new t.Parser({sparqlStar:!0}).parse(l);return d.type==="query"?d.queryType==="DESCRIBE"?"CONSTRUCT":d.queryType:"UNKNOWN"}getUpdateTypes(l){const d=new t.Parser({sparqlStar:!0}).parse(l);if(d.type==="update"){const f={};for(const h of d.updates)"type"in h?f[h.type]=!0:f[h.updateType]=!0;return f}else return"UNKNOWN"}async fetchBindings(l,d){const[f,h]=await this.fetchRawStream(l,d,pc.CONTENTTYPE_SPARQL),p=this.sparqlParsers[f];if(!p)throw new Error("Unknown SPARQL results content type: "+f);return p.parseResultsStream(h)}async fetchAsk(l,d){const[f,h]=await this.fetchRawStream(l,d,pc.CONTENTTYPE_SPARQL),p=this.sparqlParsers[f];if(!p)throw new Error("Unknown SPARQL results content type: "+f);return p.parseBooleanStream(h)}async fetchTriples(l,d){return(await this.fetchRawStream(l,d,pc.CONTENTTYPE_TURTLE))[1].pipe(new s.StreamParser({format:pc.CONTENTTYPE_TURTLE}))}async fetchUpdate(l,d){const f=globalThis.AbortController||await Promise.resolve().then(()=>$d()),h=new f,p={};this.defaultHeaders.forEach((y,g)=>{p[g]=y});const m={method:"POST",headers:Object.assign(Object.assign({},p),{"content-type":"application/sparql-update"}),body:d,signal:h.signal};await this.handleFetchCall(l,m,{ignoreBody:!0}),h.abort()}async fetchRawStream(l,d,f){let h=this.method==="POST"?l:l+"?query="+encodeURIComponent(d);const p=new Headers(this.defaultHeaders);let m;return p.append("Accept",f),this.method==="POST"?(p.append("Content-Type","application/x-www-form-urlencoded"),m=new URLSearchParams,m.set("query",d),this.additionalUrlParams.forEach((y,g)=>{m.set(g,y)}),p.append("Content-Length",m.toString().length.toString())):this.additionalUrlParams.toString()!==""&&(h+=`&${this.additionalUrlParams.toString()}`),this.handleFetchCall(h,{headers:p,method:this.method,body:m})}async handleFetchCall(l,d,f={}){let h;if(this.timeout){const g=new AbortController;d.signal=g.signal,h=setTimeout(()=>g.abort(),this.timeout)}const p=await(this.fetchCb||fetch)(l,d);clearTimeout(h);let m;f.ignoreBody||(m=o(p.body)?p.body:new a.ReadableWebToNodeStream(p.body));let y=p.headers.get("Content-Type")||"";if(y.indexOf(";")>0&&(y=y.substr(0,y.indexOf(";"))),!p.ok){const g=/^[^?]*/u.exec(l)[0];let b="empty response";throw m&&(b=await n(m)),new Error(`Invalid SPARQL endpoint response from ${g} (HTTP status ${p.status}):
${b}`)}return[y,m]}};return u.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",u.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",u.CONTENTTYPE_SPARQL=`${u.CONTENTTYPE_SPARQL_JSON};q=1.0,${u.CONTENTTYPE_SPARQL_XML};q=0.7`,u.CONTENTTYPE_TURTLE="text/turtle",Ry.SparqlEndpointFetcher=u,Ry}var tU;function _ee(){return tU||(tU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(pCe(),t)}($R)),$R}var rU;function bee(){if(rU)return Oy;rU=1,Object.defineProperty(Oy,"__esModule",{value:!0}),Oy.QuadDestinationSparql=void 0;const t=_ee(),e=E1(),r=gl;let n=class{constructor(s,o,u){this.url=s,this.context=o,this.mediatorHttp=u,this.endpointFetcher=new t.SparqlEndpointFetcher({fetch:(c,l)=>this.mediatorHttp.mediate({input:c,init:l,context:this.context}),prefixVariableQuestionMark:!0})}insert(s){return this.wrapSparqlUpdateRequest("INSERT",s)}async delete(s){return this.wrapSparqlUpdateRequest("DELETE",s)}async wrapSparqlUpdateRequest(s,o){const u=o.map(l=>{let d=`${(0,e.termToString)(l.subject)} ${(0,e.termToString)(l.predicate)} ${(0,e.termToString)(l.object)} .`;return l.graph.termType==="DefaultGraph"?d=`  ${d}
`:d=`  GRAPH ${(0,e.termToString)(l.graph)} { ${d} }
`,d}).prepend([`${s} DATA {
`]).append(["}"]),c=await r(u);await this.endpointFetcher.fetchUpdate(this.url,c)}async deleteGraphs(s,o,u){const c=Array.isArray(s)?s:[s],l=[];for(const d of c){let f;typeof d=="string"?f=d:d.termType==="DefaultGraph"?f="DEFAULT":f=`GRAPH <${d.value}>`,l.push(`${u?"DROP":"CLEAR"} ${o?"":"SILENT "}${f}`)}await this.endpointFetcher.fetchUpdate(this.url,l.join("; "))}async createGraphs(s,o){const u=[];for(const c of s)u.push(`CREATE${o?"":" SILENT"} GRAPH <${c.value}>`);await this.endpointFetcher.fetchUpdate(this.url,u.join("; "))}};return Oy.QuadDestinationSparql=n,Oy}var nU;function yCe(){if(nU)return Ay;nU=1,Object.defineProperty(Ay,"__esModule",{value:!0}),Ay.ActorRdfUpdateHypermediaSparql=void 0;const t=c4(),e=bee();let r=class extends t.ActorRdfUpdateHypermedia{constructor(a){super(a,"sparql")}async testMetadata(a){if(!a.forceDestinationType&&!a.metadata.sparqlService&&!(this.checkUrlSuffixSparql&&a.url.endsWith("/sparql"))&&!(this.checkUrlSuffixUpdate&&a.url.endsWith("/update")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql or /update.`);return!0}async run(a){return this.logInfo(a.context,`Identified as sparql destination: ${a.url}`),{destination:new e.QuadDestinationSparql(a.metadata.sparqlService||a.url,a.context,this.mediatorHttp)}}};return Ay.ActorRdfUpdateHypermediaSparql=r,Ay}var iU;function mCe(){return iU||(iU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(yCe(),t),r(bee(),t)}(qR)),qR}var kR={},Iy={},aU;function gCe(){if(aU)return Iy;aU=1,Object.defineProperty(Iy,"__esModule",{value:!0}),Iy.ActorQueryOperationAsk=void 0;const t=Tt();let e=class extends t.ActorQueryOperationTypedMediated{constructor(n){super(n,"ask")}async testOperation(n,a){return!0}async runOperation(n,a){const s=await this.mediatorQueryOperation.mediate({operation:n.input,context:a}),{bindingsStream:o}=t.ActorQueryOperation.getSafeBindings(s);return{type:"boolean",execute:async()=>(await o.take(1).toArray()).length===1}}};return Iy.ActorQueryOperationAsk=e,Iy}var sU;function _Ce(){return sU||(sU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(gCe(),t)}(kR)),kR}var VR={},Py={},oU;function bCe(){if(oU)return Py;oU=1,Object.defineProperty(Py,"__esModule",{value:!0}),Py.ActorQueryOperationBgpJoin=void 0;const t=Tt(),e=xt();let r=class vee extends t.ActorQueryOperationTypedMediated{constructor(a){super(a,"bgp")}async testOperation(a,s){return!0}async runOperation(a,s){return this.mediatorQueryOperation.mediate({operation:vee.FACTORY.createJoin(a.patterns),context:s})}};return Py.ActorQueryOperationBgpJoin=r,r.FACTORY=new e.Factory,Py}var uU;function vCe(){return uU||(uU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(bCe(),t)}(VR)),VR}var HR={},Ny={},cU;function wCe(){if(cU)return Ny;cU=1,Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.ActorQueryOperationDistinctHash=void 0;const t=Tt();let e=class extends t.ActorQueryOperationTypedMediated{constructor(n){super(n,"distinct")}async testOperation(n,a){return!0}async runOperation(n,a){const s=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:n.input,context:a}));return{type:"bindings",bindingsStream:s.bindingsStream.filter(await this.newHashFilter(a)),metadata:s.metadata}}async newHashFilter(n){const{hashFunction:a}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:n}),s={};return o=>{const u=a(o);return!(u in s)&&(s[u]=!0)}}};return Ny.ActorQueryOperationDistinctHash=e,Ny}var lU;function SCe(){return lU||(lU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(wCe(),t)}(HR)),HR}var QR={},Dy={},Cy={},dU;function wee(){if(dU)return Cy;dU=1,Object.defineProperty(Cy,"__esModule",{value:!0}),Cy.BindingsToQuadsIterator=void 0;const t=Mt,e=Ot,r=Pn(),n=new e.DataFactory;let a=class I_ extends t.MultiTransformIterator{constructor(o,u){super(u,{autoStart:!1}),this.template=o,this.blankNodeCounter=0}static bindTerm(o,u){return u.termType==="Variable"?o.get(u):u}static bindQuad(o,u){try{return(0,r.mapTermsNested)(u,c=>{const l=I_.bindTerm(o,c);if(!l)throw new Error("Unbound term");return l})}catch{}}static localizeBlankNode(o,u){return u.termType==="BlankNode"?n.blankNode(`${u.value}${o}`):u}static localizeQuad(o,u){return(0,r.mapTermsNested)(u,c=>I_.localizeBlankNode(o,c))}bindTemplate(o,u,c){return u.map(I_.localizeQuad.bind(null,c)).map(d=>I_.bindQuad.bind(null,o)(d)).filter(Boolean)}_createTransformer(o){return new t.ArrayIterator(this.bindTemplate(o,this.template,this.blankNodeCounter++),{autoStart:!1})}};return Cy.BindingsToQuadsIterator=a,Cy}var fU;function TCe(){if(fU)return Dy;fU=1,Object.defineProperty(Dy,"__esModule",{value:!0}),Dy.ActorQueryOperationConstruct=void 0;const t=Tt(),e=Pn(),r=xt(),n=wee();let a=class See extends t.ActorQueryOperationTypedMediated{constructor(o){super(o,"construct")}static getVariables(o){return(0,e.uniqTerms)([].concat.apply([],o.map(u=>(0,e.getVariables)((0,e.getTermsNested)(u)))))}async testOperation(o,u){return!0}async runOperation(o,u){const c=See.getVariables(o.template),l={type:r.Algebra.types.PROJECT,input:o.input,variables:c},d=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:l,context:u})),f=new n.BindingsToQuadsIterator(o.template,d.bindingsStream);return{metadata:()=>d.metadata().then(p=>({...p,order:void 0,cardinality:{type:p.cardinality.type,value:p.cardinality.value*o.template.length},canContainUndefs:!1,availableOrders:void 0})),quadStream:f,type:"quads"}}};return Dy.ActorQueryOperationConstruct=a,Dy}var hU;function Tee(){return hU||(hU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(TCe(),t),r(wee(),t)}(QR)),QR}var zR={},Ly={},pU;function ECe(){if(pU)return Ly;pU=1,Object.defineProperty(Ly,"__esModule",{value:!0}),Ly.ActorQueryOperationFromQuad=void 0;const t=Tt(),e=xt();let r=class wr extends t.ActorQueryOperationTypedMediated{constructor(a){super(a,"from")}static copyOperation(a,s){const o={};for(const u of Object.keys(a))Array.isArray(a[u])&&u!=="template"?u==="variables"?o[u]=a[u]:o[u]=a[u].map(s):wr.ALGEBRA_TYPES.includes(a[u].type)?o[u]=s(a[u]):o[u]=a[u];return o}static applyOperationDefaultGraph(a,s){if(a.type==="bgp"&&a.patterns.length>0||a.type==="path"||a.type==="pattern"){if(a.type==="bgp")return wr.joinOperations(a.patterns.map(u=>{if(u.graph.termType!=="DefaultGraph")return wr.FACTORY.createBgp([u]);const c=s.map(l=>wr.FACTORY.createBgp([Object.assign(wr.FACTORY.createPattern(u.subject,u.predicate,u.object,l),{metadata:u.metadata})]));return wr.unionOperations(c)}));if(a.graph.termType!=="DefaultGraph")return a;const o=s.map(u=>a.type==="path"?wr.FACTORY.createPath(a.subject,a.predicate,a.object,u):Object.assign(wr.FACTORY.createPattern(a.subject,a.predicate,a.object,u),{metadata:a.metadata}));return wr.unionOperations(o)}return wr.copyOperation(a,o=>this.applyOperationDefaultGraph(o,s))}static applyOperationNamedGraph(a,s,o){if(a.type==="bgp"&&a.patterns.length>0||a.type==="path"||a.type==="pattern"){const u=a.type==="bgp"?a.patterns[0].graph:a.graph;if(u.termType==="DefaultGraph")return{type:e.Algebra.types.BGP,patterns:[]};if(u.termType==="Variable"){if(s.length===1){const l=s[0],d={};d[`?${u.value}`]=l;const f=wr.FACTORY.createValues([u],[d]);let h;return a.type==="bgp"?h=wr.FACTORY.createBgp(a.patterns.map(p=>wr.FACTORY.createPattern(p.subject,p.predicate,p.object,l))):a.type==="path"?h=wr.FACTORY.createPath(a.subject,a.predicate,a.object,l):h=wr.FACTORY.createPattern(a.subject,a.predicate,a.object,l),wr.FACTORY.createJoin([f,h])}return wr.unionOperations(s.map(l=>wr.applyOperationNamedGraph(a,[l],o)))}return[...s,...o].some(l=>l.equals(u))?a:{type:e.Algebra.types.BGP,patterns:[]}}return wr.copyOperation(a,u=>this.applyOperationNamedGraph(u,s,o))}static joinOperations(a){if(a.length===1)return a[0];if(a.length>1)return wr.FACTORY.createJoin(a);throw new Error("A join can only be applied on at least one operation")}static unionOperations(a){if(a.length===1)return a[0];if(a.length>1)return wr.FACTORY.createUnion(a);throw new Error("A union can only be applied on at least one operation")}static createOperation(a){let s=a.input;return a.default.length>0&&(s=wr.applyOperationDefaultGraph(s,a.default)),(a.named.length>0||a.default.length>0)&&(s=wr.applyOperationNamedGraph(s,a.named,a.default)),s}async testOperation(a,s){return!0}async runOperation(a,s){const o=wr.createOperation(a);return this.mediatorQueryOperation.mediate({operation:o,context:s})}};return Ly.ActorQueryOperationFromQuad=r,r.FACTORY=new e.Factory,r.ALGEBRA_TYPES=Object.keys(e.Algebra.types).map(n=>e.Algebra.types[n]),Ly}var yU;function ACe(){return yU||(yU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ECe(),t)}(zR)),zR}var GR={},jy={},mU;function OCe(){if(mU)return jy;mU=1,Object.defineProperty(jy,"__esModule",{value:!0}),jy.ActorQueryOperationProject=void 0;const t=Tt(),e=RC(),r=Ot,n=new r.DataFactory;let a=class extends t.ActorQueryOperationTypedMediated{constructor(o){super(o,"project")}async testOperation(o,u){return!0}async runOperation(o,u){const c=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:o.input,context:u})),l=await c.metadata(),d=o.variables,f=l.variables.filter(y=>!d.some(g=>y.value===g.value)),h=d.filter(y=>!l.variables.some(g=>y.value===g.value));if(h.length>0)throw new Error(`Variables '${h.map(y=>`?${y.value}`)}' are used in the projection result, but are not assigned.`);let p=f.length===0?c.bindingsStream:c.bindingsStream.map(y=>{for(const g of f)y=y.delete(g);return y}),m=0;return p=p.map(y=>{m++;const g=new Map;return y.map(b=>{if(b instanceof e.BlankNodeBindingsScoped){let v=g.get(b.value);return v||(v=n.blankNode(`${b.value}${m}`),g.set(b.value,v)),v}return b})}),{type:"bindings",bindingsStream:p,metadata:async()=>({...l,variables:d})}}};return jy.ActorQueryOperationProject=a,jy}var gU;function RCe(){return gU||(gU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(OCe(),t)}(GR)),GR}var WR={},My={},Fy={},_U;function Mu(){var h,p,y,g,b,v,_,w,E,O,L,F,x,P,j,N,V,$,q,H,X,Y,he,Te,Ne,eN,de,ce,xe,Pe,we,Eee,Se,z,M,k,Qo,R,zo,G,tN,Z,se,Hw,le,Qw,_e,Sr,Ee,rN,Ce,P_;if(_U)return Fy;_U=1,Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.LRUCache=void 0;const t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,e=new Set,r=typeof yo=="object"&&yo?yo:{},n=(W,D,B,K)=>{typeof r.emitWarning=="function"?r.emitWarning(W,D,B,K):console.error(`[${B}] ${D}: ${W}`)};let a=globalThis.AbortController,s=globalThis.AbortSignal;if(typeof a>"u"){s=class{constructor(){Lr(this,"onabort");Lr(this,"_onabort",[]);Lr(this,"reason");Lr(this,"aborted",!1)}addEventListener(K,ne){this._onabort.push(ne)}},a=class{constructor(){Lr(this,"signal",new s);D()}abort(K){var ne,fe;if(!this.signal.aborted){this.signal.reason=K,this.signal.aborted=!0;for(const ge of this.signal._onabort)ge(K);(fe=(ne=this.signal).onabort)==null||fe.call(ne,K)}}};let W=((h=r.env)==null?void 0:h.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const D=()=>{W&&(W=!1,n("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",D))}}const o=W=>!e.has(W),u=W=>W&&W===Math.floor(W)&&W>0&&isFinite(W),c=W=>u(W)?W<=Math.pow(2,8)?Uint8Array:W<=Math.pow(2,16)?Uint16Array:W<=Math.pow(2,32)?Uint32Array:W<=Number.MAX_SAFE_INTEGER?l:null:null;class l extends Array{constructor(D){super(D),this.fill(0)}}const m=class m{constructor(D,B){Lr(this,"heap");Lr(this,"length");if(!me(m,p))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new B(D),this.length=0}static create(D){const B=c(D);if(!B)return[];wt(m,p,!0);const K=new m(D,B);return wt(m,p,!1),K}push(D){this.heap[this.length++]=D}pop(){return this.heap[--this.length]}};p=new WeakMap,Lt(m,p,!1);let d=m;const qe=class qe{constructor(D){Lt(this,Ne);Lt(this,we);Lt(this,k);Lt(this,R);Lt(this,G);Lt(this,se);Lt(this,le);Lt(this,_e);Lt(this,Ee);Lt(this,Ce);Lt(this,y,void 0);Lt(this,g,void 0);Lt(this,b,void 0);Lt(this,v,void 0);Lt(this,_,void 0);Lr(this,"ttl");Lr(this,"ttlResolution");Lr(this,"ttlAutopurge");Lr(this,"updateAgeOnGet");Lr(this,"updateAgeOnHas");Lr(this,"allowStale");Lr(this,"noDisposeOnSet");Lr(this,"noUpdateTTL");Lr(this,"maxEntrySize");Lr(this,"sizeCalculation");Lr(this,"noDeleteOnFetchRejection");Lr(this,"noDeleteOnStaleGet");Lr(this,"allowStaleOnFetchAbort");Lr(this,"allowStaleOnFetchRejection");Lr(this,"ignoreFetchAbort");Lt(this,w,void 0);Lt(this,E,void 0);Lt(this,O,void 0);Lt(this,L,void 0);Lt(this,F,void 0);Lt(this,x,void 0);Lt(this,P,void 0);Lt(this,j,void 0);Lt(this,N,void 0);Lt(this,V,void 0);Lt(this,$,void 0);Lt(this,q,void 0);Lt(this,H,void 0);Lt(this,X,void 0);Lt(this,Y,void 0);Lt(this,he,void 0);Lt(this,Te,void 0);Lt(this,de,()=>{});Lt(this,ce,()=>{});Lt(this,xe,()=>{});Lt(this,Pe,()=>!1);Lt(this,Se,D=>{});Lt(this,z,(D,B,K)=>{});Lt(this,M,(D,B,K,ne)=>{if(K||ne)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Lr(this,Z,"LRUCache");const{max:B=0,ttl:K,ttlResolution:ne=1,ttlAutopurge:fe,updateAgeOnGet:ge,updateAgeOnHas:Le,allowStale:ee,dispose:Oe,disposeAfter:De,noDisposeOnSet:Ue,noUpdateTTL:Ye,maxSize:ut=0,maxEntrySize:at=0,sizeCalculation:ct,fetchMethod:ht,noDeleteOnFetchRejection:te,noDeleteOnStaleGet:S,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:C,ignoreFetchAbort:J}=D;if(B!==0&&!u(B))throw new TypeError("max option must be a nonnegative integer");const ie=B?c(B):Array;if(!ie)throw new Error("invalid max value: "+B);if(wt(this,y,B),wt(this,g,ut),this.maxEntrySize=at||me(this,g),this.sizeCalculation=ct,this.sizeCalculation){if(!me(this,g)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(ht!==void 0&&typeof ht!="function")throw new TypeError("fetchMethod must be a function if specified");if(wt(this,_,ht),wt(this,he,!!ht),wt(this,O,new Map),wt(this,L,new Array(B).fill(void 0)),wt(this,F,new Array(B).fill(void 0)),wt(this,x,new ie(B)),wt(this,P,new ie(B)),wt(this,j,0),wt(this,N,0),wt(this,V,d.create(B)),wt(this,w,0),wt(this,E,0),typeof Oe=="function"&&wt(this,b,Oe),typeof De=="function"?(wt(this,v,De),wt(this,$,[])):(wt(this,v,void 0),wt(this,$,void 0)),wt(this,Y,!!me(this,b)),wt(this,Te,!!me(this,v)),this.noDisposeOnSet=!!Ue,this.noUpdateTTL=!!Ye,this.noDeleteOnFetchRejection=!!te,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!C,this.ignoreFetchAbort=!!J,this.maxEntrySize!==0){if(me(this,g)!==0&&!u(me(this,g)))throw new TypeError("maxSize must be a positive integer if specified");if(!u(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");pt(this,we,Eee).call(this)}if(this.allowStale=!!ee,this.noDeleteOnStaleGet=!!S,this.updateAgeOnGet=!!ge,this.updateAgeOnHas=!!Le,this.ttlResolution=u(ne)||ne===0?ne:1,this.ttlAutopurge=!!fe,this.ttl=K||0,this.ttl){if(!u(this.ttl))throw new TypeError("ttl must be a positive integer if specified");pt(this,Ne,eN).call(this)}if(me(this,y)===0&&this.ttl===0&&me(this,g)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!me(this,y)&&!me(this,g)){const be="LRU_CACHE_UNBOUNDED";o(be)&&(e.add(be),n("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",be,qe))}}static unsafeExposeInternals(D){return{starts:me(D,H),ttls:me(D,X),sizes:me(D,q),keyMap:me(D,O),keyList:me(D,L),valList:me(D,F),next:me(D,x),prev:me(D,P),get head(){return me(D,j)},get tail(){return me(D,N)},free:me(D,V),isBackgroundFetch:B=>{var K;return pt(K=D,_e,Sr).call(K,B)},backgroundFetch:(B,K,ne,fe)=>{var ge;return pt(ge=D,le,Qw).call(ge,B,K,ne,fe)},moveToTail:B=>{var K;return pt(K=D,Ce,P_).call(K,B)},indexes:B=>{var K;return pt(K=D,k,Qo).call(K,B)},rindexes:B=>{var K;return pt(K=D,R,zo).call(K,B)},isStale:B=>{var K;return me(K=D,Pe).call(K,B)}}}get max(){return me(this,y)}get maxSize(){return me(this,g)}get calculatedSize(){return me(this,E)}get size(){return me(this,w)}get fetchMethod(){return me(this,_)}get dispose(){return me(this,b)}get disposeAfter(){return me(this,v)}getRemainingTTL(D){return me(this,O).has(D)?1/0:0}*entries(){for(const D of pt(this,k,Qo).call(this))me(this,F)[D]!==void 0&&me(this,L)[D]!==void 0&&!pt(this,_e,Sr).call(this,me(this,F)[D])&&(yield[me(this,L)[D],me(this,F)[D]])}*rentries(){for(const D of pt(this,R,zo).call(this))me(this,F)[D]!==void 0&&me(this,L)[D]!==void 0&&!pt(this,_e,Sr).call(this,me(this,F)[D])&&(yield[me(this,L)[D],me(this,F)[D]])}*keys(){for(const D of pt(this,k,Qo).call(this)){const B=me(this,L)[D];B!==void 0&&!pt(this,_e,Sr).call(this,me(this,F)[D])&&(yield B)}}*rkeys(){for(const D of pt(this,R,zo).call(this)){const B=me(this,L)[D];B!==void 0&&!pt(this,_e,Sr).call(this,me(this,F)[D])&&(yield B)}}*values(){for(const D of pt(this,k,Qo).call(this))me(this,F)[D]!==void 0&&!pt(this,_e,Sr).call(this,me(this,F)[D])&&(yield me(this,F)[D])}*rvalues(){for(const D of pt(this,R,zo).call(this))me(this,F)[D]!==void 0&&!pt(this,_e,Sr).call(this,me(this,F)[D])&&(yield me(this,F)[D])}[Symbol.iterator](){return this.entries()}find(D,B={}){for(const K of pt(this,k,Qo).call(this)){const ne=me(this,F)[K],fe=pt(this,_e,Sr).call(this,ne)?ne.__staleWhileFetching:ne;if(fe!==void 0&&D(fe,me(this,L)[K],this))return this.get(me(this,L)[K],B)}}forEach(D,B=this){for(const K of pt(this,k,Qo).call(this)){const ne=me(this,F)[K],fe=pt(this,_e,Sr).call(this,ne)?ne.__staleWhileFetching:ne;fe!==void 0&&D.call(B,fe,me(this,L)[K],this)}}rforEach(D,B=this){for(const K of pt(this,R,zo).call(this)){const ne=me(this,F)[K],fe=pt(this,_e,Sr).call(this,ne)?ne.__staleWhileFetching:ne;fe!==void 0&&D.call(B,fe,me(this,L)[K],this)}}purgeStale(){let D=!1;for(const B of pt(this,R,zo).call(this,{allowStale:!0}))me(this,Pe).call(this,B)&&(this.delete(me(this,L)[B]),D=!0);return D}info(D){const B=me(this,O).get(D);if(B===void 0)return;const K=me(this,F)[B],ne=pt(this,_e,Sr).call(this,K)?K.__staleWhileFetching:K;if(ne===void 0)return;const fe={value:ne};if(me(this,X)&&me(this,H)){const ge=me(this,X)[B],Le=me(this,H)[B];if(ge&&Le){const ee=ge-(t.now()-Le);fe.ttl=ee,fe.start=Date.now()}}return me(this,q)&&(fe.size=me(this,q)[B]),fe}dump(){const D=[];for(const B of pt(this,k,Qo).call(this,{allowStale:!0})){const K=me(this,L)[B],ne=me(this,F)[B],fe=pt(this,_e,Sr).call(this,ne)?ne.__staleWhileFetching:ne;if(fe===void 0||K===void 0)continue;const ge={value:fe};if(me(this,X)&&me(this,H)){ge.ttl=me(this,X)[B];const Le=t.now()-me(this,H)[B];ge.start=Math.floor(Date.now()-Le)}me(this,q)&&(ge.size=me(this,q)[B]),D.unshift([K,ge])}return D}load(D){this.clear();for(const[B,K]of D){if(K.start){const ne=Date.now()-K.start;K.start=t.now()-ne}this.set(B,K.value,K)}}set(D,B,K={}){var Ye,ut,at,ct,ht;if(B===void 0)return this.delete(D),this;const{ttl:ne=this.ttl,start:fe,noDisposeOnSet:ge=this.noDisposeOnSet,sizeCalculation:Le=this.sizeCalculation,status:ee}=K;let{noUpdateTTL:Oe=this.noUpdateTTL}=K;const De=me(this,M).call(this,D,B,K.size||0,Le);if(this.maxEntrySize&&De>this.maxEntrySize)return ee&&(ee.set="miss",ee.maxEntrySizeExceeded=!0),this.delete(D),this;let Ue=me(this,w)===0?void 0:me(this,O).get(D);if(Ue===void 0)Ue=me(this,w)===0?me(this,N):me(this,V).length!==0?me(this,V).pop():me(this,w)===me(this,y)?pt(this,se,Hw).call(this,!1):me(this,w),me(this,L)[Ue]=D,me(this,F)[Ue]=B,me(this,O).set(D,Ue),me(this,x)[me(this,N)]=Ue,me(this,P)[Ue]=me(this,N),wt(this,N,Ue),tv(this,w)._++,me(this,z).call(this,Ue,De,ee),ee&&(ee.set="add"),Oe=!1;else{pt(this,Ce,P_).call(this,Ue);const te=me(this,F)[Ue];if(B!==te){if(me(this,he)&&pt(this,_e,Sr).call(this,te)){te.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:S}=te;S!==void 0&&!ge&&(me(this,Y)&&((Ye=me(this,b))==null||Ye.call(this,S,D,"set")),me(this,Te)&&((ut=me(this,$))==null||ut.push([S,D,"set"])))}else ge||(me(this,Y)&&((at=me(this,b))==null||at.call(this,te,D,"set")),me(this,Te)&&((ct=me(this,$))==null||ct.push([te,D,"set"])));if(me(this,Se).call(this,Ue),me(this,z).call(this,Ue,De,ee),me(this,F)[Ue]=B,ee){ee.set="replace";const S=te&&pt(this,_e,Sr).call(this,te)?te.__staleWhileFetching:te;S!==void 0&&(ee.oldValue=S)}}else ee&&(ee.set="update")}if(ne!==0&&!me(this,X)&&pt(this,Ne,eN).call(this),me(this,X)&&(Oe||me(this,xe).call(this,Ue,ne,fe),ee&&me(this,ce).call(this,ee,Ue)),!ge&&me(this,Te)&&me(this,$)){const te=me(this,$);let S;for(;S=te==null?void 0:te.shift();)(ht=me(this,v))==null||ht.call(this,...S)}return this}pop(){var D;try{for(;me(this,w);){const B=me(this,F)[me(this,j)];if(pt(this,se,Hw).call(this,!0),pt(this,_e,Sr).call(this,B)){if(B.__staleWhileFetching)return B.__staleWhileFetching}else if(B!==void 0)return B}}finally{if(me(this,Te)&&me(this,$)){const B=me(this,$);let K;for(;K=B==null?void 0:B.shift();)(D=me(this,v))==null||D.call(this,...K)}}}has(D,B={}){const{updateAgeOnHas:K=this.updateAgeOnHas,status:ne}=B,fe=me(this,O).get(D);if(fe!==void 0){const ge=me(this,F)[fe];if(pt(this,_e,Sr).call(this,ge)&&ge.__staleWhileFetching===void 0)return!1;if(me(this,Pe).call(this,fe))ne&&(ne.has="stale",me(this,ce).call(this,ne,fe));else return K&&me(this,de).call(this,fe),ne&&(ne.has="hit",me(this,ce).call(this,ne,fe)),!0}else ne&&(ne.has="miss");return!1}peek(D,B={}){const{allowStale:K=this.allowStale}=B,ne=me(this,O).get(D);if(ne===void 0||!K&&me(this,Pe).call(this,ne))return;const fe=me(this,F)[ne];return pt(this,_e,Sr).call(this,fe)?fe.__staleWhileFetching:fe}async fetch(D,B={}){const{allowStale:K=this.allowStale,updateAgeOnGet:ne=this.updateAgeOnGet,noDeleteOnStaleGet:fe=this.noDeleteOnStaleGet,ttl:ge=this.ttl,noDisposeOnSet:Le=this.noDisposeOnSet,size:ee=0,sizeCalculation:Oe=this.sizeCalculation,noUpdateTTL:De=this.noUpdateTTL,noDeleteOnFetchRejection:Ue=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Ye=this.allowStaleOnFetchRejection,ignoreFetchAbort:ut=this.ignoreFetchAbort,allowStaleOnFetchAbort:at=this.allowStaleOnFetchAbort,context:ct,forceRefresh:ht=!1,status:te,signal:S}=B;if(!me(this,he))return te&&(te.fetch="get"),this.get(D,{allowStale:K,updateAgeOnGet:ne,noDeleteOnStaleGet:fe,status:te});const A={allowStale:K,updateAgeOnGet:ne,noDeleteOnStaleGet:fe,ttl:ge,noDisposeOnSet:Le,size:ee,sizeCalculation:Oe,noUpdateTTL:De,noDeleteOnFetchRejection:Ue,allowStaleOnFetchRejection:Ye,allowStaleOnFetchAbort:at,ignoreFetchAbort:ut,status:te,signal:S};let C=me(this,O).get(D);if(C===void 0){te&&(te.fetch="miss");const J=pt(this,le,Qw).call(this,D,C,A,ct);return J.__returned=J}else{const J=me(this,F)[C];if(pt(this,_e,Sr).call(this,J)){const Je=K&&J.__staleWhileFetching!==void 0;return te&&(te.fetch="inflight",Je&&(te.returnedStale=!0)),Je?J.__staleWhileFetching:J.__returned=J}const ie=me(this,Pe).call(this,C);if(!ht&&!ie)return te&&(te.fetch="hit"),pt(this,Ce,P_).call(this,C),ne&&me(this,de).call(this,C),te&&me(this,ce).call(this,te,C),J;const be=pt(this,le,Qw).call(this,D,C,A,ct),Fe=be.__staleWhileFetching!==void 0&&K;return te&&(te.fetch=ie?"stale":"refresh",Fe&&ie&&(te.returnedStale=!0)),Fe?be.__staleWhileFetching:be.__returned=be}}get(D,B={}){const{allowStale:K=this.allowStale,updateAgeOnGet:ne=this.updateAgeOnGet,noDeleteOnStaleGet:fe=this.noDeleteOnStaleGet,status:ge}=B,Le=me(this,O).get(D);if(Le!==void 0){const ee=me(this,F)[Le],Oe=pt(this,_e,Sr).call(this,ee);return ge&&me(this,ce).call(this,ge,Le),me(this,Pe).call(this,Le)?(ge&&(ge.get="stale"),Oe?(ge&&K&&ee.__staleWhileFetching!==void 0&&(ge.returnedStale=!0),K?ee.__staleWhileFetching:void 0):(fe||this.delete(D),ge&&K&&(ge.returnedStale=!0),K?ee:void 0)):(ge&&(ge.get="hit"),Oe?ee.__staleWhileFetching:(pt(this,Ce,P_).call(this,Le),ne&&me(this,de).call(this,Le),ee))}else ge&&(ge.get="miss")}delete(D){var K,ne,fe,ge;let B=!1;if(me(this,w)!==0){const Le=me(this,O).get(D);if(Le!==void 0)if(B=!0,me(this,w)===1)this.clear();else{me(this,Se).call(this,Le);const ee=me(this,F)[Le];if(pt(this,_e,Sr).call(this,ee)?ee.__abortController.abort(new Error("deleted")):(me(this,Y)||me(this,Te))&&(me(this,Y)&&((K=me(this,b))==null||K.call(this,ee,D,"delete")),me(this,Te)&&((ne=me(this,$))==null||ne.push([ee,D,"delete"]))),me(this,O).delete(D),me(this,L)[Le]=void 0,me(this,F)[Le]=void 0,Le===me(this,N))wt(this,N,me(this,P)[Le]);else if(Le===me(this,j))wt(this,j,me(this,x)[Le]);else{const Oe=me(this,P)[Le];me(this,x)[Oe]=me(this,x)[Le];const De=me(this,x)[Le];me(this,P)[De]=me(this,P)[Le]}tv(this,w)._--,me(this,V).push(Le)}}if(me(this,Te)&&((fe=me(this,$))!=null&&fe.length)){const Le=me(this,$);let ee;for(;ee=Le==null?void 0:Le.shift();)(ge=me(this,v))==null||ge.call(this,...ee)}return B}clear(){var D,B,K;for(const ne of pt(this,R,zo).call(this,{allowStale:!0})){const fe=me(this,F)[ne];if(pt(this,_e,Sr).call(this,fe))fe.__abortController.abort(new Error("deleted"));else{const ge=me(this,L)[ne];me(this,Y)&&((D=me(this,b))==null||D.call(this,fe,ge,"delete")),me(this,Te)&&((B=me(this,$))==null||B.push([fe,ge,"delete"]))}}if(me(this,O).clear(),me(this,F).fill(void 0),me(this,L).fill(void 0),me(this,X)&&me(this,H)&&(me(this,X).fill(0),me(this,H).fill(0)),me(this,q)&&me(this,q).fill(0),wt(this,j,0),wt(this,N,0),me(this,V).length=0,wt(this,E,0),wt(this,w,0),me(this,Te)&&me(this,$)){const ne=me(this,$);let fe;for(;fe=ne==null?void 0:ne.shift();)(K=me(this,v))==null||K.call(this,...fe)}}};Z=Symbol.toStringTag,y=new WeakMap,g=new WeakMap,b=new WeakMap,v=new WeakMap,_=new WeakMap,w=new WeakMap,E=new WeakMap,O=new WeakMap,L=new WeakMap,F=new WeakMap,x=new WeakMap,P=new WeakMap,j=new WeakMap,N=new WeakMap,V=new WeakMap,$=new WeakMap,q=new WeakMap,H=new WeakMap,X=new WeakMap,Y=new WeakMap,he=new WeakMap,Te=new WeakMap,Ne=new WeakSet,eN=function(){const D=new l(me(this,y)),B=new l(me(this,y));wt(this,X,D),wt(this,H,B),wt(this,xe,(fe,ge,Le=t.now())=>{if(B[fe]=ge!==0?Le:0,D[fe]=ge,ge!==0&&this.ttlAutopurge){const ee=setTimeout(()=>{me(this,Pe).call(this,fe)&&this.delete(me(this,L)[fe])},ge+1);ee.unref&&ee.unref()}}),wt(this,de,fe=>{B[fe]=D[fe]!==0?t.now():0}),wt(this,ce,(fe,ge)=>{if(D[ge]){const Le=D[ge],ee=B[ge];if(!Le||!ee)return;fe.ttl=Le,fe.start=ee,fe.now=K||ne();const Oe=fe.now-ee;fe.remainingTTL=Le-Oe}});let K=0;const ne=()=>{const fe=t.now();if(this.ttlResolution>0){K=fe;const ge=setTimeout(()=>K=0,this.ttlResolution);ge.unref&&ge.unref()}return fe};this.getRemainingTTL=fe=>{const ge=me(this,O).get(fe);if(ge===void 0)return 0;const Le=D[ge],ee=B[ge];if(!Le||!ee)return 1/0;const Oe=(K||ne())-ee;return Le-Oe},wt(this,Pe,fe=>{const ge=B[fe],Le=D[fe];return!!Le&&!!ge&&(K||ne())-ge>Le})},de=new WeakMap,ce=new WeakMap,xe=new WeakMap,Pe=new WeakMap,we=new WeakSet,Eee=function(){const D=new l(me(this,y));wt(this,E,0),wt(this,q,D),wt(this,Se,B=>{wt(this,E,me(this,E)-D[B]),D[B]=0}),wt(this,M,(B,K,ne,fe)=>{if(pt(this,_e,Sr).call(this,K))return 0;if(!u(ne))if(fe){if(typeof fe!="function")throw new TypeError("sizeCalculation must be a function");if(ne=fe(K,B),!u(ne))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return ne}),wt(this,z,(B,K,ne)=>{if(D[B]=K,me(this,g)){const fe=me(this,g)-D[B];for(;me(this,E)>fe;)pt(this,se,Hw).call(this,!0)}wt(this,E,me(this,E)+D[B]),ne&&(ne.entrySize=K,ne.totalCalculatedSize=me(this,E))})},Se=new WeakMap,z=new WeakMap,M=new WeakMap,k=new WeakSet,Qo=function*({allowStale:D=this.allowStale}={}){if(me(this,w))for(let B=me(this,N);!(!pt(this,G,tN).call(this,B)||((D||!me(this,Pe).call(this,B))&&(yield B),B===me(this,j)));)B=me(this,P)[B]},R=new WeakSet,zo=function*({allowStale:D=this.allowStale}={}){if(me(this,w))for(let B=me(this,j);!(!pt(this,G,tN).call(this,B)||((D||!me(this,Pe).call(this,B))&&(yield B),B===me(this,N)));)B=me(this,x)[B]},G=new WeakSet,tN=function(D){return D!==void 0&&me(this,O).get(me(this,L)[D])===D},se=new WeakSet,Hw=function(D){var fe,ge;const B=me(this,j),K=me(this,L)[B],ne=me(this,F)[B];return me(this,he)&&pt(this,_e,Sr).call(this,ne)?ne.__abortController.abort(new Error("evicted")):(me(this,Y)||me(this,Te))&&(me(this,Y)&&((fe=me(this,b))==null||fe.call(this,ne,K,"evict")),me(this,Te)&&((ge=me(this,$))==null||ge.push([ne,K,"evict"]))),me(this,Se).call(this,B),D&&(me(this,L)[B]=void 0,me(this,F)[B]=void 0,me(this,V).push(B)),me(this,w)===1?(wt(this,j,wt(this,N,0)),me(this,V).length=0):wt(this,j,me(this,x)[B]),me(this,O).delete(K),tv(this,w)._--,B},le=new WeakSet,Qw=function(D,B,K,ne){const fe=B===void 0?void 0:me(this,F)[B];if(pt(this,_e,Sr).call(this,fe))return fe;const ge=new a,{signal:Le}=K;Le==null||Le.addEventListener("abort",()=>ge.abort(Le.reason),{signal:ge.signal});const ee={signal:ge.signal,options:K,context:ne},Oe=(ct,ht=!1)=>{const{aborted:te}=ge.signal,S=K.ignoreFetchAbort&&ct!==void 0;if(K.status&&(te&&!ht?(K.status.fetchAborted=!0,K.status.fetchError=ge.signal.reason,S&&(K.status.fetchAbortIgnored=!0)):K.status.fetchResolved=!0),te&&!S&&!ht)return Ue(ge.signal.reason);const A=ut;return me(this,F)[B]===ut&&(ct===void 0?A.__staleWhileFetching?me(this,F)[B]=A.__staleWhileFetching:this.delete(D):(K.status&&(K.status.fetchUpdated=!0),this.set(D,ct,ee.options))),ct},De=ct=>(K.status&&(K.status.fetchRejected=!0,K.status.fetchError=ct),Ue(ct)),Ue=ct=>{const{aborted:ht}=ge.signal,te=ht&&K.allowStaleOnFetchAbort,S=te||K.allowStaleOnFetchRejection,A=S||K.noDeleteOnFetchRejection,C=ut;if(me(this,F)[B]===ut&&(!A||C.__staleWhileFetching===void 0?this.delete(D):te||(me(this,F)[B]=C.__staleWhileFetching)),S)return K.status&&C.__staleWhileFetching!==void 0&&(K.status.returnedStale=!0),C.__staleWhileFetching;if(C.__returned===C)throw ct},Ye=(ct,ht)=>{var S;const te=(S=me(this,_))==null?void 0:S.call(this,D,fe,ee);te&&te instanceof Promise&&te.then(A=>ct(A===void 0?void 0:A),ht),ge.signal.addEventListener("abort",()=>{(!K.ignoreFetchAbort||K.allowStaleOnFetchAbort)&&(ct(void 0),K.allowStaleOnFetchAbort&&(ct=A=>Oe(A,!0)))})};K.status&&(K.status.fetchDispatched=!0);const ut=new Promise(Ye).then(Oe,De),at=Object.assign(ut,{__abortController:ge,__staleWhileFetching:fe,__returned:void 0});return B===void 0?(this.set(D,at,{...ee.options,status:void 0}),B=me(this,O).get(D)):me(this,F)[B]=at,at},_e=new WeakSet,Sr=function(D){if(!me(this,he))return!1;const B=D;return!!B&&B instanceof Promise&&B.hasOwnProperty("__staleWhileFetching")&&B.__abortController instanceof a},Ee=new WeakSet,rN=function(D,B){me(this,P)[B]=D,me(this,x)[D]=B},Ce=new WeakSet,P_=function(D){D!==me(this,N)&&(D===me(this,j)?wt(this,j,me(this,x)[D]):pt(this,Ee,rN).call(this,me(this,P)[D],me(this,x)[D]),pt(this,Ee,rN).call(this,me(this,N),D),wt(this,N,D))};let f=qe;return Fy.LRUCache=f,Fy}var bU;function xCe(){if(bU)return My;bU=1,Object.defineProperty(My,"__esModule",{value:!0}),My.ActorQueryOperationReducedHash=void 0;const t=Tt(),e=Mu();let r=class extends t.ActorQueryOperationTypedMediated{constructor(a){super(a,"reduced")}async testOperation(a,s){return!0}async runOperation(a,s){const o=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a.input,context:s}));return{type:"bindings",bindingsStream:o.bindingsStream.filter(await this.newHashFilter(s)),metadata:o.metadata}}async newHashFilter(a){const{hashFunction:s}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:a}),o=new e.LRUCache({max:this.cacheSize});return u=>{const c=s(u);return o.has(c)?!1:(o.set(c,!0),!0)}}};return My.ActorQueryOperationReducedHash=r,My}var vU;function ICe(){return vU||(vU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(xCe(),t)}(WR)),WR}var KR={},By={},wU;function PCe(){if(wU)return By;wU=1,Object.defineProperty(By,"__esModule",{value:!0}),By.ActorQueryOperationSlice=void 0;const t=Tt(),e=qt;let r=class extends t.ActorQueryOperationTypedMediated{constructor(a){super(a,"slice")}async testOperation(a,s){return!0}async runOperation(a,s){a.length&&(s=s.set(e.KeysQueryOperation.limitIndicator,a.length));const o=await this.mediatorQueryOperation.mediate({operation:a.input,context:s});if(o.type==="bindings")return{type:"bindings",bindingsStream:this.sliceStream(o.bindingsStream,a),metadata:this.sliceMetadata(o,a)};if(o.type==="quads")return{type:"quads",quadStream:this.sliceStream(o.quadStream,a),metadata:this.sliceMetadata(o,a)};throw new Error(`Invalid query output type: Expected 'bindings' or 'quads' but got '${o.type}'`)}sliceStream(a,s){const o=!!s.length||s.length===0,{start:u}=s,c=o?s.start+s.length-1:Number.POSITIVE_INFINITY;return a.transform({offset:u,limit:Math.max(c-u+1,0),autoStart:!1})}sliceMetadata(a,s){const o=!!s.length||s.length===0;return()=>a.metadata().then(u=>{const c={...u.cardinality};return Number.isFinite(c.value)&&(c.value=Math.max(0,c.value-s.start),o&&(c.value=Math.min(c.value,s.length))),{...u,cardinality:c}})}};return By.ActorQueryOperationSlice=r,By}var SU;function NCe(){return SU||(SU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(PCe(),t)}(KR)),KR}var JR={},qy={},TU;function DCe(){if(TU)return qy;TU=1,Object.defineProperty(qy,"__esModule",{value:!0}),qy.ActorQueryOperationUnion=void 0;const t=Tt(),e=li(),r=Mt,n=Pn();let a=class zw extends t.ActorQueryOperationTypedMediated{constructor(o){super(o,"union")}static unionVariables(o){return(0,n.uniqTerms)(o.flat())}static async unionMetadata(o,u,c,l){let d=(await l.mediate({mode:"initialize",context:c})).metadata;for(const h of o)d={...h,...(await l.mediate({mode:"append",accumulatedMetadata:d,appendingMetadata:h,context:c})).metadata};d.state=new e.MetadataValidationState;const f=()=>d.state.invalidate();for(const h of o)h.state.addInvalidateListener(f);return u&&(d.variables=zw.unionVariables(o.map(h=>h.variables))),d}async testOperation(o,u){return!0}async runOperation(o,u){const c=await Promise.all(o.input.map(d=>this.mediatorQueryOperation.mediate({operation:d,context:u})));let l;for(const d of c)if(l===void 0)l=d.type;else if(l!==d.type)throw new Error(`Unable to union ${l} and ${d.type}`);if(l==="bindings"||o.input.length===0){const d=c.map(t.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new r.UnionIterator(d.map(p=>p.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(d.map(p=>p.metadata())).then(p=>zw.unionMetadata(p,!0,u,this.mediatorRdfMetadataAccumulate))}}if(l==="quads"){const d=c.map(t.ActorQueryOperation.getSafeQuads);return{type:"quads",quadStream:new r.UnionIterator(d.map(p=>p.quadStream),{autoStart:!1}),metadata:()=>Promise.all(d.map(p=>p.metadata())).then(p=>zw.unionMetadata(p,!1,u,this.mediatorRdfMetadataAccumulate))}}throw new Error(`Unable to union ${l}`)}};return qy.ActorQueryOperationUnion=a,qy}var EU;function Aee(){return EU||(EU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(DCe(),t)}(JR)),JR}var XR={},$y={},YR={},Uy={},ky={},AU;function Oee(){if(AU)return ky;AU=1,Object.defineProperty(ky,"__esModule",{value:!0}),ky.PathVariableObjectIterator=void 0;const t=Tt(),e=Mt,r=Ot,n=nr,a=xt(),s=new r.DataFactory,o=new a.Factory;let u=class extends e.BufferedIterator{constructor(l,d,f,h,p,m,y=16){super({autoStart:!0}),this.subject=l,this.predicate=d,this.graph=f,this.context=h,this.mediatorQueryOperation=p,this.maxRunningOperations=y,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this._push(this.subject,m)}_end(l){for(const d of this.runningOperations)d.destroy();super._end(l)}_push(l,d=!0){let f;if(d&&(f=(0,n.termToString)(l),this.termHashes.has(f)))return;const h=s.variable("b");this.pendingOperations.push({variable:h,operation:o.createPath(l,this.predicate,h,this.graph)}),f&&(this.termHashes.set(f,l),super._push(l))}_read(l,d){const f=this;(async function(){for(;f.runningOperations.length<f.maxRunningOperations&&f.pendingOperations.length!==0;){const m=f.pendingOperations.pop(),y=t.ActorQueryOperation.getSafeBindings(await f.mediatorQueryOperation.mediate({operation:m.operation,context:f.context})),g=y.bindingsStream.transform({autoStart:!1,transform(b,v,_){const w=b.get(m.variable);_(w),v()}});g.done||(f.runningOperations.push(g),g.on("error",b=>f.destroy(b)),g.on("readable",()=>{f.readable=!0,f._fillBufferAsync()}),g.on("end",()=>{f.runningOperations.splice(f.runningOperations.indexOf(g),1),f.readable=!0,f._fillBufferAsync()})),f.setProperty("metadata",y.metadata)}let h=0,p;for(;h!==(h=l);)for(let m=0;m<f.runningOperations.length&&l>0;m++)(p=f.runningOperations[m].read())!==null&&(l--,f._push(p));f.runningOperations.length===0&&f.pendingOperations.length===0&&f.close()})().then(()=>{d()},h=>this.destroy(h))}};return ky.PathVariableObjectIterator=u,ky}var OU;function CCe(){if(OU)return Uy;OU=1,Object.defineProperty(Uy,"__esModule",{value:!0}),Uy.ActorAbstractPath=void 0;const t=Tt(),e=qt,r=Mt,n=Ot,a=nr,s=xt(),o=Oee(),u=new n.DataFactory;let c=class Ys extends t.ActorQueryOperationTypedMediated{constructor(d,f){super(d,"path"),this.predicateType=f}async testOperation(d,f){if(d.predicate.type!==this.predicateType)throw new Error(`This Actor only supports ${this.predicateType} Path operations.`);return!0}generateVariable(d,f){return f?d&&(d.subject.value===f||d.object.value===f)?this.generateVariable(d,`${f}b`):u.variable(f):this.generateVariable(d,"b")}async isPathArbitraryLengthDistinct(d,f){return d.get(e.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(d=d.set(e.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:d,operation:void 0}):(d=d.set(e.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:d,operation:t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:Ys.FACTORY.createDistinct(f),context:d}))})}async predicateStarGraphVariable(d,f,h,p,m,y){const g=this.getPathSources(h),b=this.generateVariable(Ys.FACTORY.createPath(d,h,f,p)),v=Ys.FACTORY.createUnion([this.assignPatternSources(Ys.FACTORY.createPattern(d,b,f,p),g),this.assignPatternSources(Ys.FACTORY.createPattern(f,b,d,p),g)]),_=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:m,operation:v})),w=new Set;return{bindingsStream:new r.MultiTransformIterator(_.bindingsStream,{multiTransform:O=>{const L=O.get(p);return w.has(L.value)?new r.EmptyIterator:(w.add(L.value),new r.TransformIterator(async()=>{const F=new r.BufferedIterator;return await this.getObjectsPredicateStar(d,h,L,m,{},F,{count:0}),F.transform({transform(x,P,j){j(y.bindings([[f,x],[p,L]])),P()}})},{maxBufferSize:128}))},autoStart:!1}),metadata:_.metadata}}async getObjectsPredicateStarEval(d,f,h,p,m,y,g){if(p.termType==="Variable")return this.predicateStarGraphVariable(d,h,f,p,m,g);const b=new o.PathVariableObjectIterator(d,f,p,m,this.mediatorQueryOperation,y);return{bindingsStream:b.transform({autoStart:!1,transform(_,w,E){E(g.bindings([[h,_]])),w()}}),async metadata(){const _=await new Promise(w=>{b.getProperty("metadata",E=>w(E()))});return _.cardinality.value++,_}}}async getObjectsPredicateStar(d,f,h,p,m,y,g){const b=(0,a.termToString)(d);if(m[b])return;y._push(d),m[b]=d,g.count++;const v=this.generateVariable(),_=Ys.FACTORY.createPath(d,f,v,h),w=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:_,context:p}));return w.bindingsStream.on("data",async E=>{const O=E.get(v);await this.getObjectsPredicateStar(O,f,h,p,m,y,g)}),w.bindingsStream.on("end",()=>{--g.count===0&&y.close()}),w.metadata}async getSubjectAndObjectBindingsPredicateStar(d,f,h,p,m,y,g,b,v,_,w,E){const O=(0,a.termToString)(p)+(0,a.termToString)(y);if(v[O])return;if(w.count++,v[O]=!0,_._push(E.bindings([[d,h],[f,p]])),O in b){const F=await b[O];for(const x of F)await this.getSubjectAndObjectBindingsPredicateStar(d,f,h,x,m,y,g,b,v,_,w,E);--w.count===0&&_.close();return}const L=new Promise(async(F,x)=>{const P=[],j=this.generateVariable(),N=Ys.FACTORY.createPath(p,m,j,y),V=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:N,context:g}));V.bindingsStream.on("data",async $=>{const q=$.get(j);P.push(q),await this.getSubjectAndObjectBindingsPredicateStar(d,f,h,q,m,y,g,b,v,_,w,E)}),V.bindingsStream.on("error",x),V.bindingsStream.on("end",()=>{--w.count===0&&_.close(),F(P)})});b[O]=L}getPathSources(d){switch(d.type){case s.Algebra.types.ALT:case s.Algebra.types.SEQ:return d.input.flatMap(f=>this.getPathSources(f));case s.Algebra.types.INV:case s.Algebra.types.ONE_OR_MORE_PATH:case s.Algebra.types.ZERO_OR_MORE_PATH:case s.Algebra.types.ZERO_OR_ONE_PATH:return this.getPathSources(d.path);case s.Algebra.types.LINK:case s.Algebra.types.NPS:{const f=t.ActorQueryOperation.getOperationSource(d);if(!f)throw new Error("Could not find a required source on a link path operation");return[f]}}}assignPatternSources(d,f){if(f.length===0)throw new Error("Attempted to assign zero sources to a pattern during property path handling");return f.length===1?t.ActorQueryOperation.assignOperationSource(d,f[0]):Ys.FACTORY.createUnion(f.map(h=>t.ActorQueryOperation.assignOperationSource(d,h)),!0)}};return Uy.ActorAbstractPath=c,c.FACTORY=new s.Factory,Uy}var RU;function Fu(){return RU||(RU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(CCe(),t),r(Oee(),t)}(YR)),YR}var xU;function LCe(){if(xU)return $y;xU=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.ActorQueryOperationPathAlt=void 0;const t=Fu(),e=Aee(),r=Tt(),n=Mt,a=xt();let s=class extends t.ActorAbstractPath{constructor(u){super(u,a.Algebra.types.ALT)}async runOperation(u,c){const l=u.predicate,d=(await Promise.all(l.input.map(p=>this.mediatorQueryOperation.mediate({context:c,operation:t.ActorAbstractPath.FACTORY.createPath(u.subject,p,u.object,u.graph)})))).map(r.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new n.UnionIterator(d.map(p=>p.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(d.map(p=>p.metadata())).then(p=>e.ActorQueryOperationUnion.unionMetadata(p,!0,c,this.mediatorRdfMetadataAccumulate))}}};return $y.ActorQueryOperationPathAlt=s,$y}var IU;function jCe(){return IU||(IU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(LCe(),t)}(XR)),XR}var ZR={},Vy={},PU;function MCe(){if(PU)return Vy;PU=1,Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.ActorQueryOperationPathInv=void 0;const t=Fu(),e=xt();let r=class extends t.ActorAbstractPath{constructor(a){super(a,e.Algebra.types.INV)}async runOperation(a,s){const o=a.predicate,u=t.ActorAbstractPath.FACTORY.createPath(a.object,o.path,a.subject,a.graph);return this.mediatorQueryOperation.mediate({operation:u,context:s})}};return Vy.ActorQueryOperationPathInv=r,Vy}var NU;function FCe(){return NU||(NU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(MCe(),t)}(ZR)),ZR}var ex={},Hy={},DU;function BCe(){if(DU)return Hy;DU=1,Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.ActorQueryOperationPathLink=void 0;const t=Fu(),e=xt();let r=class extends t.ActorAbstractPath{constructor(a){super(a,e.Algebra.types.LINK)}async runOperation(a,s){const o=a.predicate,u=Object.assign(t.ActorAbstractPath.FACTORY.createPattern(a.subject,o.iri,a.object,a.graph),{metadata:o.metadata});return this.mediatorQueryOperation.mediate({operation:u,context:s})}};return Hy.ActorQueryOperationPathLink=r,Hy}var CU;function qCe(){return CU||(CU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(BCe(),t)}(ex)),ex}var tx={},Qy={},LU;function $Ce(){if(LU)return Qy;LU=1,Object.defineProperty(Qy,"__esModule",{value:!0}),Qy.ActorQueryOperationPathNps=void 0;const t=Fu(),e=Tt(),r=xt();let n=class extends t.ActorAbstractPath{constructor(s){super(s,r.Algebra.types.NPS)}async runOperation(s,o){const u=s.predicate,c=this.generateVariable(s),l=Object.assign(t.ActorAbstractPath.FACTORY.createPattern(s.subject,c,s.object,s.graph),{metadata:u.metadata}),d=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:l,context:o}));return{type:"bindings",bindingsStream:d.bindingsStream.map(h=>u.iris.some(p=>p.equals(h.get(c)))?null:h.delete(c)),metadata:d.metadata}}};return Qy.ActorQueryOperationPathNps=n,Qy}var jU;function UCe(){return jU||(jU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r($Ce(),t)}(tx)),tx}var rx={},zy={},MU;function kCe(){if(MU)return zy;MU=1,Object.defineProperty(zy,"__esModule",{value:!0}),zy.ActorQueryOperationClear=void 0;const t=Tt(),e=Ot,r=new e.DataFactory;let n=class extends t.ActorQueryOperationTypedMediated{constructor(s){super(s,"clear")}async testOperation(s,o){return t.ActorQueryOperation.throwOnReadOnly(o),!0}async runOperation(s,o){let u;s.source==="DEFAULT"?u=r.defaultGraph():typeof s.source=="string"?u=s.source:u=[s.source];const{execute:c}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:u,requireExistence:!s.silent,dropGraphs:!1},context:o});return{type:"void",execute:c}}};return zy.ActorQueryOperationClear=n,zy}var FU;function VCe(){return FU||(FU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kCe(),t)}(rx)),rx}var nx={},Gy={},BU;function HCe(){if(BU)return Gy;BU=1,Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.ActorQueryOperationUpdateCompositeUpdate=void 0;const t=Tt();let e=class extends t.ActorQueryOperationTypedMediated{constructor(n){super(n,"compositeupdate")}async testOperation(n,a){return t.ActorQueryOperation.throwOnReadOnly(a),!0}async runOperation(n,a){return{type:"void",execute:()=>(async()=>{for(const o of n.updates)await t.ActorQueryOperation.getSafeVoid(await this.mediatorQueryOperation.mediate({operation:o,context:a})).execute()})()}}};return Gy.ActorQueryOperationUpdateCompositeUpdate=e,Gy}var qU;function QCe(){return qU||(qU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(HCe(),t)}(nx)),nx}var ix={},Wy={},$U;function zCe(){if($U)return Wy;$U=1,Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.ActorQueryOperationCreate=void 0;const t=Tt();let e=class extends t.ActorQueryOperationTypedMediated{constructor(n){super(n,"create")}async testOperation(n,a){return t.ActorQueryOperation.throwOnReadOnly(a),!0}async runOperation(n,a){const{execute:s}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[n.source],requireNonExistence:!n.silent},context:a});return{type:"void",execute:s}}};return Wy.ActorQueryOperationCreate=e,Wy}var UU;function GCe(){return UU||(UU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(zCe(),t)}(ix)),ix}var ax={},Ky={},kU;function WCe(){if(kU)return Ky;kU=1,Object.defineProperty(Ky,"__esModule",{value:!0}),Ky.ActorQueryOperationDrop=void 0;const t=Tt(),e=Ot,r=new e.DataFactory;let n=class extends t.ActorQueryOperationTypedMediated{constructor(s){super(s,"drop")}async testOperation(s,o){return t.ActorQueryOperation.throwOnReadOnly(o),!0}async runOperation(s,o){let u;s.source==="DEFAULT"?u=r.defaultGraph():typeof s.source=="string"?u=s.source:u=[s.source];const{execute:c}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:u,requireExistence:!s.silent,dropGraphs:!0},context:o});return{type:"void",execute:c}}};return Ky.ActorQueryOperationDrop=n,Ky}var VU;function KCe(){return VU||(VU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(WCe(),t)}(ax)),ax}var sx={},Jy={},HU;function JCe(){if(HU)return Jy;HU=1,Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.ActorQueryOperationLoad=void 0;const t=Tt(),e=qt,r=Ot,n=xt(),a=new r.DataFactory;let s=class Ree extends t.ActorQueryOperationTypedMediated{constructor(u){super(u,"load"),this.factory=new n.Factory}async testOperation(u,c){return t.ActorQueryOperation.throwOnReadOnly(c),!0}async runOperation(u,c){let l=c;u.silent&&(l=l.set(e.KeysInitQuery.lenient,!0));const{querySource:d}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:u.source.value},context:l});let h=Ree.getSafeQuads(await this.mediatorQueryOperation.mediate({operation:this.factory.createConstruct(t.ActorQueryOperation.assignOperationSource(this.factory.createPattern(a.variable("s"),a.variable("p"),a.variable("o")),d),[this.factory.createPattern(a.variable("s"),a.variable("p"),a.variable("o"))]),context:l})).quadStream;u.destination&&(h=h.map(m=>a.quad(m.subject,m.predicate,m.object,u.destination)));const{execute:p}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:h,context:c});return{type:"void",execute:p}}};return Jy.ActorQueryOperationLoad=s,Jy}var QU;function XCe(){return QU||(QU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(JCe(),t)}(sx)),sx}var ox={},Xy={},zU;function YCe(){if(zU)return Xy;zU=1,Object.defineProperty(Xy,"__esModule",{value:!0}),Xy.ActorQueryOperationJoin=void 0;const t=Tt();let e=class extends t.ActorQueryOperationTypedMediated{constructor(n){super(n,"join")}async testOperation(n,a){return!0}async runOperation(n,a){const s=(await Promise.all(n.input.map(async o=>({output:await this.mediatorQueryOperation.mediate({operation:o,context:a}),operation:o})))).map(({output:o,operation:u})=>({output:t.ActorQueryOperation.getSafeBindings(o),operation:u}));return this.mediatorJoin.mediate({type:"inner",entries:s,context:a})}};return Xy.ActorQueryOperationJoin=e,Xy}var GU;function ZCe(){return GU||(GU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(YCe(),t)}(ox)),ox}var ux={},Yy={},WU;function e4e(){if(WU)return Yy;WU=1,Object.defineProperty(Yy,"__esModule",{value:!0}),Yy.ActorQueryOperationMinus=void 0;const t=Tt();let e=class extends t.ActorQueryOperationTypedMediated{constructor(n){super(n,"minus")}async testOperation(n,a){return!0}async runOperation(n,a){const s=(await Promise.all(n.input.map(async o=>({output:await this.mediatorQueryOperation.mediate({operation:o,context:a}),operation:o})))).map(({output:o,operation:u})=>({output:t.ActorQueryOperation.getSafeBindings(o),operation:u}));return this.mediatorJoin.mediate({type:"minus",entries:s,context:a})}};return Yy.ActorQueryOperationMinus=e,Yy}var KU;function t4e(){return KU||(KU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(e4e(),t)}(ux)),ux}var cx={},Zy={},JU;function r4e(){if(JU)return Zy;JU=1,Object.defineProperty(Zy,"__esModule",{value:!0}),Zy.ActorQueryOperationPathSeq=void 0;const t=Fu(),e=Tt(),r=xt();let n=class extends t.ActorAbstractPath{constructor(s){super(s,r.Algebra.types.SEQ)}async runOperation(s,o){const u=s.predicate;let c=s.subject;const l=[],d=await Promise.all(u.input.map((p,m)=>{const y=m===u.input.length-1?s.object:this.generateVariable(s,`b${m}`),g=t.ActorAbstractPath.FACTORY.createPath(c,p,y,s.graph),b=this.mediatorQueryOperation.mediate({context:o,operation:g});return c=y,m<u.input.length-1&&l.push(y),{output:b,operation:g}}).map(async({output:p,operation:m})=>({output:e.ActorQueryOperation.getSafeBindings(await p),operation:m}))),f=e.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:"inner",entries:d,context:o}));return{type:"bindings",bindingsStream:f.bindingsStream.transform({transform(p,m,y){for(const g of l)p=p.delete(g);y(p),m()}}),async metadata(){const p=await f.metadata(),m=p.variables.filter(y=>!l.some(g=>g.value===y.value));return{...p,variables:m}}}}};return Zy.ActorQueryOperationPathSeq=n,Zy}var XU;function n4e(){return XU||(XU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(r4e(),t)}(cx)),cx}var lx={},em={},YU;function i4e(){if(YU)return em;YU=1,Object.defineProperty(em,"__esModule",{value:!0}),em.ActorRdfJoinMultiSmallest=void 0;const t=Tt(),e=di(),r=xt();let n=class xee extends e.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0,canHandleUndefs:!0,isLeaf:!1})}async sortJoinEntries(s,o){return(await this.mediatorJoinEntriesSort.mediate({entries:s,context:o})).entries}async getOutput(s){const o=await this.sortJoinEntries(await e.ActorRdfJoin.getEntriesWithMetadatas([...s.entries]),s.context),u=o[0],c=o[1];o.splice(0,2);const l={output:t.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:s.type,entries:[u,c],context:s.context})),operation:xee.FACTORY.createJoin([u.operation,c.operation],!1)};return o.push(l),{result:await this.mediatorJoin.mediate({type:s.type,entries:o,context:s.context})}}async getJoinCoefficients(s,o){o=[...o],o=(await this.sortJoinEntries(s.entries.map((d,f)=>({...d,metadata:o[f]})),s.context)).map(d=>d.metadata);const c=e.ActorRdfJoin.getRequestInitialTimes(o),l=e.ActorRdfJoin.getRequestItemTimes(o);return{iterations:o[0].cardinality.value*o[1].cardinality.value*o.slice(2).reduce((d,f)=>d*f.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:c[0]+o[0].cardinality.value*l[0]+c[1]+o[1].cardinality.value*l[1]+o.slice(2).reduce((d,f,h)=>d+c.slice(2)[h]+f.cardinality.value*l.slice(2)[h],0)}}};return em.ActorRdfJoinMultiSmallest=n,n.FACTORY=new r.Factory,em}var ZU;function a4e(){return ZU||(ZU=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(i4e(),t)}(lx)),lx}var dx={},tm={},fx={},rm={},nm={},ek;function Iee(){if(ek)return nm;ek=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.bindingsToString=void 0;const t=nr;function e(r){const n={};for(const a of r.keys())n[a.value]=(0,t.termToString)(r.get(a));return JSON.stringify(n,null,"  ")}return nm.bindingsToString=e,nm}var tk;function Pee(){if(tk)return rm;tk=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.Bindings=void 0;const t=st,e=OC,r=Iee();let n=class Ki{constructor(s,o,u){this.type="bindings",this.dataFactory=s,this.entries=o,this.contextHolder=u}has(s){return this.entries.has(typeof s=="string"?s:s.value)}get(s){return this.entries.get(typeof s=="string"?s:s.value)}set(s,o){return new Ki(this.dataFactory,this.entries.set(typeof s=="string"?s:s.value,o),this.contextHolder)}delete(s){return new Ki(this.dataFactory,this.entries.delete(typeof s=="string"?s:s.value),this.contextHolder)}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),s=>this.dataFactory.variable(s))}values(){return this.iteratorToIterable(this.entries.values())}forEach(s){for(const[o,u]of this.entries.entries())s(u,this.dataFactory.variable(o))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([s,o])=>[this.dataFactory.variable(s),o])[Symbol.iterator]()}equals(s){var o;if(!s)return!1;if(this===s)return!0;if(this.size!==s.size)return!1;for(const u of this.keys())if(!((o=this.get(u))!=null&&o.equals(s.get(u))))return!1;return!0}filter(s){return new Ki(this.dataFactory,(0,e.Map)(this.entries.filter((o,u)=>s(o,this.dataFactory.variable(u)))),this.contextHolder)}map(s){return new Ki(this.dataFactory,(0,e.Map)(this.entries.map((o,u)=>s(o,this.dataFactory.variable(u)))),this.contextHolder)}merge(s){const o=new Set([...this.iteratorToIterable(this.entries.keys()),...[...s.keys()].map(c=>c.value)]),u=[];for(const c of o){const l=this.entries.get(c),d=s.get(this.dataFactory.variable(c));if(l&&d&&!l.equals(d))return;const f=l||d;u.push([c,f])}return this.createBindingsWithContexts(u,s)}mergeWith(s,o){const u=new Set([...this.iteratorToIterable(this.entries.keys()),...[...o.keys()].map(l=>l.value)]),c=[];for(const l of u){const d=this.dataFactory.variable(l),f=this.entries.get(l),h=o.get(d);let p;f&&h&&!f.equals(h)?p=s(f,h,d):p=f||h,c.push([l,p])}return this.createBindingsWithContexts(c,o)}createBindingsWithContexts(s,o){if(this.contextHolder&&this.contextHolder.context){let u=this.contextHolder.context;return"contextHolder"in o&&o.contextHolder&&o.contextHolder.context&&(u=Ki.mergeContext(this.contextHolder.contextMergeHandlers,u,o.contextHolder.context)),new Ki(this.dataFactory,(0,e.Map)(s),{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:u})}return new Ki(this.dataFactory,(0,e.Map)(s),o.contextHolder)}static mergeContext(s,o,u){const c=[...o.keys(),...u.keys()],l={},d={},f=new Set(u.keys().map(p=>p.name)),h=o.keys().filter(p=>f.has(p.name));for(const p of c){if(d[p.name]===1)continue;d[p.name]=1;const m=h.some(y=>y.name===p.name);if(s[p.name]&&m){l[p.name]=s[p.name].run(o.get(p),u.get(p));continue}if(!(!s[p.name]&&m)){if(!o.get(p)){l[p.name]=u.get(p);continue}u.get(p)||(l[p.name]=o.get(p))}}return new t.ActionContext(l)}setContextEntry(s,o){return this.setContextEntryRaw(s,o)}setContextEntryRaw(s,o){var u;return this.contextHolder&&this.contextHolder.context?new Ki(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context.set(s,o)}):new Ki(this.dataFactory,this.entries,{contextMergeHandlers:((u=this.contextHolder)==null?void 0:u.contextMergeHandlers)??{},context:new t.ActionContext().set(s,o)})}deleteContextEntry(s){return this.deleteContextEntryRaw(s)}deleteContextEntryRaw(s){var o;return this.contextHolder?new Ki(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:(o=this.contextHolder.context)==null?void 0:o.delete(s)}):new Ki(this.dataFactory,this.entries)}getContext(){var s;return(s=this.contextHolder)==null?void 0:s.context}getContextEntry(s){var o;return(o=this.getContext())==null?void 0:o.get(s)}toString(){return(0,r.bindingsToString)(this)}*mapIterable(s,o){for(const u of s)yield o(u)}iteratorToIterable(s){return{[Symbol.iterator]:()=>s}}};return rm.Bindings=n,rm}var im={},rk;function s4e(){if(rk)return im;rk=1,Object.defineProperty(im,"__esModule",{value:!0}),im.BindingsFactory=void 0;const t=OC,e=Ot,r=Pee();let n=class Nee{constructor(s=new e.DataFactory,o){this.dataFactory=s,this.contextMergeHandlers=o}static async create(s,o){return new Nee(new e.DataFactory,(await s.mediate({context:o})).mergeHandlers)}bindings(s=[]){return new r.Bindings(this.dataFactory,(0,t.Map)(s.map(([o,u])=>[o.value,u])),this.contextMergeHandlers?{contextMergeHandlers:this.contextMergeHandlers}:void 0)}fromBindings(s){return this.bindings([...s])}fromRecord(s){return this.bindings(Object.entries(s).map(([o,u])=>[this.dataFactory.variable(o),u]))}};return im.BindingsFactory=n,im}var nk;function Vr(){return nk||(nk=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Pee(),t),r(s4e(),t),r(Iee(),t)}(fx)),fx}var ik;function o4e(){if(ik)return tm;ik=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.ActorRdfJoinMultiSmallestFilterBindings=void 0;const t=Vr(),e=Tt(),r=di(),n=qt,a=Mt,s=xt();let o=class Dee extends r.ActorRdfJoin{constructor(c){super(c,{logicalType:"inner",physicalName:"multi-smallest-filter-bindings",limitEntries:2,limitEntriesMin:!0,isLeaf:!1})}async sortJoinEntries(c,l){let{entries:d}=await this.mediatorJoinEntriesSort.mediate({entries:c,context:l});d=d.sort((g,b)=>g.operationModified&&!b.operationModified?-1:0);const f=d.splice(0,1)[0];let h,p=-1,m=0;for(const[g,b]of d.entries()){const v=f.metadata.variables.filter(_=>b.metadata.variables.some(w=>_.equals(w))).length;(!h||v>m||v===m&&(b.metadata.variables.length<h.metadata.variables.length||b.metadata.variables.length===h.metadata.variables.length&&b.metadata.cardinality.value<h.metadata.cardinality.value))&&(h=b,p=g,m=v)}if(m===0)throw new Error(`Actor ${this.name} can only join with common variables`);const y=d;return y.splice(p,1),{first:f,second:h,remaining:y}}async getOutput(c){const l=await r.ActorRdfJoin.getEntriesWithMetadatas([...c.entries]),{first:d,second:f,remaining:h}=await this.sortJoinEntries(l,c.context),p=d.output.bindingsStream;d.output.bindingsStream=p.clone();const m=d.metadata.variables.filter(L=>f.metadata.variables.some(F=>L.equals(F))),y={},g=p.clone().map(L=>L.filter((F,x)=>m.some(P=>P.equals(x)))).filter(L=>{const F=(0,t.bindingsToString)(L);return!(F in y)&&(y[F]=!0)}),b=new r.ChunkedIterator(g,this.blockSize,{autoStart:!1}),v=e.ActorQueryOperation.getOperationSource(f.operation),w={output:{type:"bindings",bindingsStream:new a.UnionIterator(b.map(L=>v.source.queryBindings(f.operation,v.context?c.context.merge(v.context):c.context,{filterBindings:{bindings:L,metadata:d.metadata}}))),metadata:f.output.metadata},operation:f.operation,operationModified:!0};f.output.bindingsStream.destroy();const E={output:e.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:c.type,entries:[d,w],context:c.context.set(n.KeysRdfJoin.lastPhysicalJoin,this.physicalName)})),operation:Dee.FACTORY.createJoin([d.operation,w.operation],!1),operationModified:!0},O=h;return O.unshift(E),{result:await this.mediatorJoin.mediate({type:c.type,entries:O,context:c.context}),physicalPlanMetadata:{firstIndex:l.indexOf(d),secondIndex:l.indexOf(f)}}}async getJoinCoefficients(c,l){if(c.context.get(n.KeysRdfJoin.lastPhysicalJoin)===this.physicalName)throw new Error(`Actor ${this.name} can not be called recursively`);l=[...l];const{first:d,second:f,remaining:h}=await this.sortJoinEntries(c.entries.map((w,E)=>({...w,metadata:l[E]})),c.context),p=e.ActorQueryOperation.getOperationSource(f.operation);if(!p)throw new Error(`Actor ${this.name} can only process if entries[1] has a source`);const m=f.operation,y=await p.source.getSelectorShape(c.context);if(!e.ActorQueryOperation.doesShapeAcceptOperation(y,m,{filterBindings:!0}))throw new Error(`Actor ${this.name} can only process if entries[1] accept filterBindings`);l=[d.metadata,f.metadata,...h.map(w=>w.metadata)];const g=r.ActorRdfJoin.getRequestInitialTimes(l),b=r.ActorRdfJoin.getRequestItemTimes(l),{selectivity:v}=await this.mediatorJoinSelectivity.mediate({entries:[d,f],context:c.context}),_=h.reduce((w,E)=>w*E.metadata.cardinality.value*this.selectivityModifier,1);return{iterations:v*this.selectivityModifier*f.metadata.cardinality.value*_,persistedItems:d.metadata.cardinality.value,blockingItems:d.metadata.cardinality.value,requestTime:g[0]+l[0].cardinality.value*b[0]+g[1]+_*b[1]}}};return tm.ActorRdfJoinMultiSmallestFilterBindings=o,o.FACTORY=new s.Factory,tm}var ak;function u4e(){return ak||(ak=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(o4e(),t)}(dx)),dx}var hx={},am={},sk;function c4e(){if(sk)return am;sk=1,Object.defineProperty(am,"__esModule",{value:!0}),am.ActorOptimizeQueryOperationFilterPushdown=void 0;const t=Ua(),e=Pn(),r=xt();let n=class extends t.ActorOptimizeQueryOperation{constructor(s){super(s)}async test(s){return!0}async run(s){const o=this;return{operation:r.Util.mapOperation(s.operation,{filter(c,l){const d=o.getExpressionVariables(c.expression);return{recurse:!0,result:o.filterPushdown(c.expression,d,c.input,l,s.context)}}}),context:s.context}}getExpressionVariables(s){switch(s.expressionType){case r.Algebra.expressionTypes.AGGREGATE:case r.Algebra.expressionTypes.WILDCARD:throw new Error(`Getting expression variables is not supported for ${s.expressionType}`);case r.Algebra.expressionTypes.EXISTENCE:return r.Util.inScopeVariables(s.input);case r.Algebra.expressionTypes.NAMED:return[];case r.Algebra.expressionTypes.OPERATOR:return(0,e.uniqTerms)(s.args.flatMap(o=>this.getExpressionVariables(o)));case r.Algebra.expressionTypes.TERM:return s.term.termType==="Variable"?[s.term]:[]}}getOverlappingOperations(s,o){const u=[],c=[],l=[];for(const d of s.input){const f=r.Util.inScopeVariables(d);this.variablesSubSetOf(o,f)?u.push(d):this.variablesIntersect(o,f)?c.push(d):l.push(d)}return{fullyOverlapping:u,partiallyOverlapping:c,notOverlapping:l}}filterPushdown(s,o,u,c,l){switch(u.type){case r.Algebra.types.EXTEND:return this.variablesIntersect([u.variable],o)?c.createFilter(u,s):c.createExtend(this.filterPushdown(s,o,u.input,c,l),u.variable,u.expression);case r.Algebra.types.FILTER:return c.createFilter(this.filterPushdown(s,o,u.input,c,l),u.expression);case r.Algebra.types.JOIN:{if(u.input.length===0)return c.createFilter(u,s);const{fullyOverlapping:d,partiallyOverlapping:f,notOverlapping:h}=this.getOverlappingOperations(u,o),p=[];return this.logDebug(l,`Push down filter across join entries with ${d.length} fully overlapping, ${f.length} partially overlapping, and ${h.length} not overlapping`),d.length>0&&p.push(c.createJoin(d.map(m=>this.filterPushdown(s,o,m,c,l)))),f.length>0&&p.push(c.createFilter(c.createJoin(f,!1),s)),h.length>0&&p.push(...h),p.length===1?p[0]:c.createJoin(p)}case r.Algebra.types.NOP:return u;case r.Algebra.types.PROJECT:return this.variablesIntersect(u.variables,o)?c.createProject(this.filterPushdown(s,o,u.input,c,l),u.variables):u;case r.Algebra.types.UNION:{const{fullyOverlapping:d,partiallyOverlapping:f,notOverlapping:h}=this.getOverlappingOperations(u,o),p=[];return this.logDebug(l,`Push down filter across union entries with ${d.length} fully overlapping, ${f.length} partially overlapping, and ${h.length} not overlapping`),d.length>0&&p.push(c.createUnion(d.map(m=>this.filterPushdown(s,o,m,c,l)))),f.length>0&&p.push(c.createFilter(c.createUnion(f,!1),s)),h.length>0&&p.push(...h),p.length===1?p[0]:c.createUnion(p)}case r.Algebra.types.VALUES:return this.variablesIntersect(u.variables,o)?c.createFilter(u,s):u;case r.Algebra.types.LEFT_JOIN:case r.Algebra.types.MINUS:case r.Algebra.types.ALT:case r.Algebra.types.ASK:case r.Algebra.types.BGP:case r.Algebra.types.CONSTRUCT:case r.Algebra.types.DESCRIBE:case r.Algebra.types.DISTINCT:case r.Algebra.types.EXPRESSION:case r.Algebra.types.FROM:case r.Algebra.types.GRAPH:case r.Algebra.types.GROUP:case r.Algebra.types.INV:case r.Algebra.types.LINK:case r.Algebra.types.NPS:case r.Algebra.types.ONE_OR_MORE_PATH:case r.Algebra.types.ORDER_BY:case r.Algebra.types.PATTERN:case r.Algebra.types.REDUCED:case r.Algebra.types.SEQ:case r.Algebra.types.SERVICE:case r.Algebra.types.SLICE:case r.Algebra.types.PATH:case r.Algebra.types.ZERO_OR_MORE_PATH:case r.Algebra.types.ZERO_OR_ONE_PATH:case r.Algebra.types.COMPOSITE_UPDATE:case r.Algebra.types.DELETE_INSERT:case r.Algebra.types.LOAD:case r.Algebra.types.CLEAR:case r.Algebra.types.CREATE:case r.Algebra.types.DROP:case r.Algebra.types.ADD:case r.Algebra.types.MOVE:case r.Algebra.types.COPY:return c.createFilter(u,s)}}variablesIntersect(s,o){return s.some(u=>o.some(c=>u.equals(c)))}variablesSubSetOf(s,o){return s.length<=o.length&&s.every(u=>o.some(c=>u.equals(c)))}};return am.ActorOptimizeQueryOperationFilterPushdown=n,am}var ok;function l4e(){return ok||(ok=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(c4e(),t)}(hx)),hx}var px={},sm={},ic={},uk;function Cee(){if(uk)return ic;uk=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.ActorDereferenceHttpBase=ic.mediaTypesToAcceptString=void 0;const t=qC(),e=ju(),r=l4,n=_a,a=gl,s=/^[^ ;]*/u;function o(c,l){const d="*/*;q=0.1",f=[],h=Object.entries(c).map(([m,y])=>({mediaType:m,priority:y})).sort((m,y)=>y.priority===m.priority?m.mediaType.localeCompare(y.mediaType):y.priority-m.priority);let p=h.length-1;for(const{mediaType:m,priority:y}of h){const g=m+(y===1?"":`;q=${y.toFixed(3).replace(/0*$/u,"")}`);if(p+g.length>l){for(;p+d.length>l;){const b=f.pop()??"";p-=b.length+1}f.push(d);break}f.push(g),p+=g.length}return f.length===0?"*/*":f.join(",")}ic.mediaTypesToAcceptString=o;let u=class extends t.ActorDereference{constructor(l){super(l)}async test({url:l}){if(!/^https?:/u.test(l))throw new Error(`Cannot retrieve ${l} because it is not an HTTP(S) URL.`);return!0}async run(l){var b,v;let d=!0;const f=new r.Headers(l.headers);f.append("Accept",o(await((b=l.mediaTypes)==null?void 0:b.call(l))??{},this.getMaxAcceptHeaderLength()));let h;const p=Date.now();try{h=await this.mediatorHttp.mediate({context:l.context,init:{headers:f,method:l.method},input:l.url})}catch(_){return this.handleDereferenceErrors(l,_)}const m=(0,n.resolve)(h.url,l.url),y=Date.now()-p;if(h.status!==200){d=!1;const _=h.body?await a(e.ActorHttp.toNodeReadable(h.body)):"empty response";if(!l.acceptErrors){const w=new Error(`Could not retrieve ${l.url} (HTTP status ${h.status}):
${_}`);return this.handleDereferenceErrors(l,w,h.headers,y)}}const g=(v=s.exec(h.headers.get("content-type")??""))==null?void 0:v[0];return{url:m,data:d?e.ActorHttp.toNodeReadable(h.body):(0,t.emptyReadable)(),exists:d,requestTime:y,headers:h.headers,mediaType:g==="text/plain"?void 0:g}}};return ic.ActorDereferenceHttpBase=u,ic}var ck;function d4e(){if(ck)return sm;ck=1,Object.defineProperty(sm,"__esModule",{value:!0}),sm.ActorDereferenceHttp=void 0;const t=Cee();class e extends t.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}return sm.ActorDereferenceHttp=e,sm}var lk;function f4e(){return lk||(lk=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(d4e(),t),r(Cee(),t)}(px)),px}var yx={},om={},dk;function h4e(){if(dk)return om;dk=1,Object.defineProperty(om,"__esModule",{value:!0}),om.ActorHttpProxy=void 0;const t=ju(),e=qt;let r=class extends t.ActorHttp{constructor(a){super(a)}async test(a){const s=a.context.get(e.KeysHttpProxy.httpProxyHandler);if(!s)throw new Error(`Actor ${this.name} could not find a proxy handler in the context.`);if(!await s.getProxy(a))throw new Error(`Actor ${this.name} could not determine a proxy for the given request.`);return{time:Number.POSITIVE_INFINITY}}async run(a){const s=typeof a.input=="string"?a.input:a.input.url,o=a.context.get(e.KeysHttpProxy.httpProxyHandler),u=await this.mediatorHttp.mediate({...await o.getProxy(a),context:a.context.delete(e.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(u,"url",{configurable:!0,enumerable:!0,get:()=>u.headers.get("x-final-url")??s}),u}};return om.ActorHttpProxy=r,om}var um={},fk;function p4e(){if(fk)return um;fk=1,Object.defineProperty(um,"__esModule",{value:!0}),um.ProxyHandlerStatic=void 0;let t=class{constructor(r){this.prefixUrl=r}async getProxy(r){return{init:r.init,input:this.modifyInput(r.input)}}modifyInput(r){return typeof r=="string"?this.prefixUrl+r:new Request(this.prefixUrl+r.url,r)}};return um.ProxyHandlerStatic=t,um}var hk;function y4e(){return hk||(hk=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(h4e(),t),r(p4e(),t)}(yx)),yx}var mx={},cm={},pk;function m4e(){if(pk)return cm;pk=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.ActorContextPreprocessQuerySourceIdentify=void 0;const t=w1(),e=qt,r=st,n=Mu();let a=class extends t.ActorContextPreprocess{constructor(o){super(o),this.cache=this.cacheSize?new n.LRUCache({max:this.cacheSize}):void 0;const u=this.cache;u&&this.httpInvalidator.addInvalidateListener(({url:c})=>c?u.delete(c):u.clear())}async test(o){return!0}async run(o){let u=o.context;if(u.has(e.KeysInitQuery.querySourcesUnidentified)){const c=o.context.get(e.KeysInitQuery.querySourcesUnidentified),l=await Promise.all(c.map(f=>this.expandSource(f))),d=await Promise.all(l.map(async f=>this.identifySource(f,o.context)));u=o.context.delete(e.KeysInitQuery.querySourcesUnidentified).set(e.KeysQueryOperation.querySources,d)}return{context:u}}async expandSource(o){return typeof o=="string"||"match"in o?{value:o}:{...o,context:(await this.mediatorContextPreprocess.mediate({context:r.ActionContext.ensureActionContext(o.context??{})})).context}}identifySource(o,u){let c;return typeof o.value=="string"&&this.cache&&(c=this.cache.get(o.value)),c||(c=this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:o,context:u}).then(({querySource:l})=>l),typeof o.value=="string"&&this.cache&&this.cache.set(o.value,c)),c}};return cm.ActorContextPreprocessQuerySourceIdentify=a,cm}var yk;function g4e(){return yk||(yk=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(m4e(),t)}(mx)),mx}var gx={},lm={},mk;function _4e(){if(mk)return lm;mk=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.ActorRdfUpdateQuadsHypermedia=void 0;const t=o4(),e=Mu();let r=class extends t.ActorRdfUpdateQuadsDestination{constructor(a){super(a),this.cache=this.cacheSize?new e.LRUCache({max:this.cacheSize}):void 0;const s=this.cache;s&&this.httpInvalidator.addInvalidateListener(({url:o})=>o?s.delete(o):s.clear())}async test(a){if(!(0,t.getContextDestinationUrl)((0,t.getContextDestination)(a.context)))throw new Error(`Actor ${this.name} can only update quads against a single destination URL.`);return!0}getDestination(a){const s=(0,t.getContextDestination)(a);let o=(0,t.getContextDestinationUrl)(s);if(this.cache&&this.cache.has(o))return this.cache.get(o);const u=(async()=>{var f;let c,l;try{const h=await this.mediatorDereferenceRdf.mediate({context:a,url:o,acceptErrors:!0});l=h.exists,o=h.url;const p=await this.mediatorMetadata.mediate({context:a,url:o,quads:h.data,triples:(f=h.metadata)==null?void 0:f.triples});c=(await this.mediatorMetadataExtract.mediate({context:a,url:o,metadata:p.metadata,headers:h.headers,requestTime:h.requestTime})).metadata}catch{c={},l=!1}const{destination:d}=await this.mediatorRdfUpdateHypermedia.mediate({context:a,url:o,metadata:c,exists:l,forceDestinationType:(0,t.getDataDestinationType)(s)});return d})();return this.cache&&this.cache.set(o,u),u}};return lm.ActorRdfUpdateQuadsHypermedia=r,lm}var gk;function b4e(){return gk||(gk=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(_4e(),t)}(gx)),gx}var _x={},dm={},_k;function v4e(){if(_k)return dm;_k=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.ActionObserverHttp=void 0;const t=st;class e extends t.ActionObserver{constructor(n){super(n),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(n,a,s){this.requests++}}return dm.ActionObserverHttp=e,dm}var fm={},bk;function w4e(){if(bk)return fm;bk=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.ActorQueryResultSerializeSparqlJson=void 0;const t=Es(),e=Mt,r=Pt;let n=class N_ extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(s){super(s)}static bindingToJsonBindings(s){if(s.termType==="Literal"){const o=s,u={value:o.value,type:"literal"},{language:c,datatype:l}=o;return c?u["xml:lang"]=c:l&&l.value!=="http://www.w3.org/2001/XMLSchema#string"&&(u.datatype=l.value),u}return s.termType==="BlankNode"?{value:s.value,type:"bnode"}:s.termType==="Quad"?{value:{subject:N_.bindingToJsonBindings(s.subject),predicate:N_.bindingToJsonBindings(s.predicate),object:N_.bindingToJsonBindings(s.object)},type:"triple"}:{value:s.value,type:"uri"}}async testHandleChecked(s,o){if(!["bindings","boolean"].includes(s.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(s,o,u){const c=new r.Readable,l={};if(s.type==="bindings"){const d=await s.metadata();d.variables.length>0&&(l.vars=d.variables.map(f=>f.value))}if(c.push(`{"head": ${JSON.stringify(l)},
`),s.type==="bindings"){const d=s.bindingsStream;c.push(`"results": { "bindings": [
`);let f=!0;function*h(p){yield p()}c.wrap((0,e.wrap)(d).map(p=>{const m=`${f?"":`,
`}${JSON.stringify(Object.fromEntries([...p].map(([y,g])=>[y.value,N_.bindingToJsonBindings(g)])))}`;return f=!1,m}).append((0,e.wrap)(h(()=>`
]}${this.emitMetadata?`,
"metadata": { "httpRequests": ${this.httpObserver.requests} }`:""}}
`))))}else c.wrap((0,e.wrap)(s.execute().then(d=>[`"boolean":${d}
}
`])));return{data:c}}};return fm.ActorQueryResultSerializeSparqlJson=n,fm}var vk;function wk(){return vk||(vk=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(v4e(),t),r(w4e(),t)}(_x)),_x}var bx={},hm={},Sk;function S4e(){if(Sk)return hm;Sk=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.ActionObserverHttp=void 0;const t=st;let e=class extends t.ActionObserver{constructor(n){super(n),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(n,a,s){this.requests++}};return hm.ActionObserverHttp=e,hm}var pm={},Tk;function T4e(){if(Tk)return pm;Tk=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.ActorQueryResultSerializeStats=void 0;const t=Es(),e=Mt,r=Pt,n=Oo;let a=class extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,u){if(!["bindings","quads"].includes(o.type))throw new Error("This actor can only handle bindings streams or quad streams.");return!0}pushHeader(o){const u=["Result","Delay (ms)","HTTP requests"].join(",");o.push(`${u}
`)}createStat(o,u){return`${[u,this.delay(o),this.httpObserver.requests].join(",")}
`}createFooter(o){return`${["TOTAL",this.delay(o),this.httpObserver.requests].join(",")}
`}async runHandle(o,u,c){const l=new r.Readable,d=o.type==="bindings"?o.bindingsStream:o.quadStream,f=this.now();let h=1;function*p(y){yield y()}const m=(0,e.wrap)(d).map(()=>this.createStat(f,h++)).append((0,e.wrap)(p(()=>this.createFooter(f))));return this.pushHeader(l),l.wrap(m),{data:l}}now(){if(typeof performance>"u"){const o=n.hrtime();return o[0]*1e3+o[1]/1e6}return performance.now()}delay(o){return this.now()-o}};return pm.ActorQueryResultSerializeStats=a,pm}var Ek;function Ak(){return Ek||(Ek=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(S4e(),t),r(T4e(),t)}(bx)),bx}var vx={},ym={},wx={},mm={},Ok;function E4e(){if(Ok)return mm;Ok=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.ActorQuerySourceIdentifyHypermedia=void 0;const t=st;class e extends t.Actor{constructor(n,a){super(n),this.sourceType=a}async test(n){if(n.forceSourceType&&this.sourceType!==n.forceSourceType)throw new Error(`Actor ${this.name} is not able to handle source type ${n.forceSourceType}.`);return this.testMetadata(n)}}return mm.ActorQuerySourceIdentifyHypermedia=e,mm}var Rk;function d4(){return Rk||(Rk=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(E4e(),t)}(wx)),wx}var gm={},Sx={},_m={},xk;function A4e(){if(xk)return _m;xk=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.ActorQuerySourceIdentify=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return _m.ActorQuerySourceIdentify=e,_m}var ln={},Ik;function O4e(){if(Ik)return ln;Ik=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.filterMatchingQuotedQuads=ln.quadsOrderToBindingsOrder=ln.quadsMetadataToBindingsMetadata=ln.setMetadata=ln.getDuplicateElementLinks=ln.getVariables=ln.isTermVariable=ln.quadsToBindings=void 0;const t=Tt(),e=li(),r=Ot,n=nr,a=Pn(),s=tY(),o=new r.DataFactory;function u(y,g,b,v){const _=l(g),w=g.graph.termType==="Variable"&&!v,E=d(g),O=(0,a.reduceTermsNested)(g,(F,x,P)=>(x.termType==="Variable"&&(F[P.join("_")]=x.value),F),{}),L=new t.ClosableTransformIterator(async()=>{let F=y;return w&&(F=F.filter(x=>x.graph.termType!=="DefaultGraph")),E&&(F=F.filter(x=>{for(const P in E){const j=P.split("_"),N=(0,a.getValueNestedPath)(x,j);for(const V of E[P])if(!N.equals((0,a.getValueNestedPath)(x,V)))return!1}return!0})),F.map(x=>b.bindings(Object.keys(O).map(P=>{const j=P.split("_"),N=O[P],V=(0,a.getValueNestedPath)(x,j);return[o.variable(N),V]})))},{autoStart:!1,onClose:()=>y.destroy()});return f(L,y,O,_,w||!!E),L}ln.quadsToBindings=u;function c(y){return y.termType==="Variable"}ln.isTermVariable=c;function l(y){return(0,a.uniqTerms)((0,a.getTermsNested)(y).filter(c))}ln.getVariables=l;function d(y){const g={};let b=!1;if((0,a.forEachTermsNested)(y,(_,w)=>{if(_.termType==="Variable"){const E=(0,n.termToString)(_),O=(g[E]||(g[E]=[])).push(w);b=b||O>1}}),!b)return;const v={};for(const _ in g){const w=g[_],E=w.slice(1);E.length>0&&(v[w[0].join("_")]=E)}return v}ln.getDuplicateElementLinks=d;function f(y,g,b,v,_){const w=O=>{"canContainUndefs"in O||(O.canContainUndefs=!1),_&&(O.cardinality.type="estimate"),y.setProperty("metadata",h((0,e.validateMetadataQuads)(O),b,v)),O.state&&O.state.addInvalidateListener(()=>{f(y,g,b,v,_)})},E=g.getProperty("metadata");E?w(E):g.getProperty("metadata",w)}ln.setMetadata=f;function h(y,g,b){return{...y,canContainUndefs:!1,order:y.order?p(y.order,g):void 0,availableOrders:y.availableOrders?y.availableOrders.map(v=>({cost:v.cost,terms:p(v.terms,g)})):void 0,variables:b}}ln.quadsMetadataToBindingsMetadata=h;function p(y,g){const b={};return y.map(v=>{const _=g[v.term];if(_&&!b[_])return b[_]=!0,{term:o.variable(_),direction:v.direction}}).filter(Boolean)}ln.quadsOrderToBindingsOrder=p;function m(y,g){return(0,a.someTerms)(y,b=>b.termType==="Quad")&&(g=g.filter(b=>(0,s.matchPatternMappings)(b,y))),g}return ln.filterMatchingQuotedQuads=m,ln}var Pk;function j1(){return Pk||(Pk=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(A4e(),t),r(O4e(),t)}(Sx)),Sx}var Nk;function Lee(){if(Nk)return gm;Nk=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.QuerySourceQpf=void 0;const t=j1(),e=qt,r=Mt,n=Ot,a=nr,s=E1(),o=Pn(),u=xt(),c=new u.Factory,l=new n.DataFactory;let d=class nN{constructor(p,m,y,g,b,v,_,w,E,O,L,F){this.referenceValue=E,this.mediatorMetadata=p,this.mediatorMetadataExtract=m,this.mediatorDereferenceRdf=y,this.bindingsFactory=g,this.subjectUri=b,this.predicateUri=v,this.objectUri=_,this.graphUri=w,this.url=E,this.bindingsRestricted=L,this.cachedQuads={};const x=this.getSearchForm(O);if(!x)throw new Error("Illegal state: found no TPF/QPF search form anymore in metadata.");if(this.searchForm=x,this.defaultGraph=O.defaultGraph?l.namedNode(O.defaultGraph):void 0,F){let P=(0,r.wrap)(F);this.defaultGraph&&(P=this.reverseMapQuadsToDefaultGraph(P)),P.setProperty("metadata",O),this.cacheQuads(P,l.variable(""),l.variable(""),l.variable(""),l.variable(""))}}async getSelectorShape(){return this.bindingsRestricted?nN.SELECTOR_SHAPE_BR:nN.SELECTOR_SHAPE}queryBindings(p,m,y){if(p.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${p.type}' to QuerySourceQpf`);const g=!!m.get(e.KeysQueryOperation.unionDefaultGraph);let b=this.match(p.subject,p.predicate,p.object,p.graph,g,m,y);return b=(0,t.filterMatchingQuotedQuads)(p,b),(0,t.quadsToBindings)(b,p,this.bindingsFactory,g)}getSearchForm(p){if(!p.searchForms||!p.searchForms.values)return;const{searchForms:m}=p;for(const y of m.values)if(this.graphUri&&this.subjectUri in y.mappings&&this.predicateUri in y.mappings&&this.objectUri in y.mappings&&this.graphUri in y.mappings&&Object.keys(y.mappings).length===4||this.subjectUri in y.mappings&&this.predicateUri in y.mappings&&this.objectUri in y.mappings&&Object.keys(y.mappings).length===3)return y}createFragmentUri(p,m,y,g,b){const v={},_=[{uri:this.subjectUri,term:m},{uri:this.predicateUri,term:y},{uri:this.objectUri,term:g},{uri:this.graphUri,term:b}];for(const w of _)w.uri&&(this.bindingsRestricted||w.term.termType!=="Variable"&&(w.term.termType!=="Quad"||(0,o.everyTermsNested)(w.term,E=>E.termType!=="Variable")))&&(v[w.uri]=(0,a.termToString)(w.term));return p.getUri(v)}match(p,m,y,g,b,v,_){let w=!1;if(g.termType==="DefaultGraph")if(this.defaultGraph)w=!0,g=this.defaultGraph;else if(Object.keys(this.searchForm.mappings).length===4&&!this.defaultGraph)if(b)g=l.variable("g");else{const F=new r.ArrayIterator([],{autoStart:!1});return F.setProperty("metadata",{requestTime:0,cardinality:{type:"exact",value:0},first:null,next:null,last:null,canContainUndefs:!1}),F}else Object.keys(this.searchForm.mappings).length===3&&(g=l.variable("g"));if(!(_!=null&&_.filterBindings)){const F=this.getCachedQuads(p,m,y,g);if(F)return F}const E=this;let O;const L=async function(){var N;let F=E.createFragmentUri(E.searchForm,p,m,y,g);_!=null&&_.filterBindings&&(F=await E.getBindingsRestrictedLink(p,m,y,g,F,_.filterBindings));const x=await E.mediatorDereferenceRdf.mediate({context:v,url:F});F=x.url;const P=await E.mediatorMetadata.mediate({context:v,url:F,quads:x.data,triples:(N=x.metadata)==null?void 0:N.triples}),{metadata:j}=await E.mediatorMetadataExtract.mediate({context:v,url:F,metadata:P.metadata,requestTime:x.requestTime});return O.setProperty("metadata",{...j,canContainUndefs:!1,subsetOf:E.url}),P.data}();return O=new r.TransformIterator(async()=>{const F=await L,x=l.defaultGraph();let P=(0,r.wrap)(F).transform({filter(j){return(0,o.matchPattern)(j,p,m,y,g)?!0:w&&(0,o.matchPattern)(j,p,m,y,x)}});return(w||g.termType==="Variable")&&(P=this.reverseMapQuadsToDefaultGraph(P)),P},{autoStart:!1}),_!=null&&_.filterBindings?O:(this.cacheQuads(O,p,m,y,g),this.getCachedQuads(p,m,y,g))}async getBindingsRestrictedLink(p,m,y,g,b,v){const _=[];for(const E of await v.bindings.toArray()){const O=["("];for(const L of v.metadata.variables){const F=E.get(L);O.push(F?(0,s.termToString)(F):"UNDEF"),O.push(" ")}O.push(")"),_.push(O.join(""))}_.length===0&&_.push("(<ex:comunica:unknown>)");const w=encodeURIComponent(`(${v.metadata.variables.map(E=>`?${E.value}`).join(" ")}) { ${_.join(" ")} }`);return`${b}&values=${w}`}reverseMapQuadsToDefaultGraph(p){const m=l.defaultGraph();return p.map(y=>(0,o.mapTerms)(y,(g,b)=>b==="graph"&&g.equals(this.defaultGraph)?m:g))}getPatternId(p,m,y,g){return JSON.stringify({s:p.termType==="Variable"?"":f(p),p:m.termType==="Variable"?"":f(m),o:y.termType==="Variable"?"":f(y),g:g.termType==="Variable"?"":f(g)})}cacheQuads(p,m,y,g,b){const v=this.getPatternId(m,y,g,b);this.cachedQuads[v]=p.clone()}getCachedQuads(p,m,y,g){const b=this.getPatternId(p,m,y,g),v=this.cachedQuads[b];if(v)return v.clone()}queryQuads(p,m){throw new Error("queryQuads is not implemented in QuerySourceQpf")}queryBoolean(p,m){throw new Error("queryBoolean is not implemented in QuerySourceQpf")}queryVoid(p,m){throw new Error("queryVoid is not implemented in QuerySourceQpf")}};gm.QuerySourceQpf=d,d.SELECTOR_SHAPE={type:"operation",operation:{operationType:"pattern",pattern:c.createPattern(l.variable("s"),l.variable("p"),l.variable("o"),l.variable("g"))},variablesOptional:[l.variable("s"),l.variable("p"),l.variable("o"),l.variable("g")]},d.SELECTOR_SHAPE_BR={type:"operation",operation:{operationType:"pattern",pattern:c.createPattern(l.variable("s"),l.variable("p"),l.variable("o"),l.variable("g"))},variablesOptional:[l.variable("s"),l.variable("p"),l.variable("o"),l.variable("g")],filterBindings:!0};function f(h){return h.termType==="DefaultGraph"?"|":(0,a.termToString)(h)}return gm}var Dk;function R4e(){if(Dk)return ym;Dk=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.ActorQuerySourceIdentifyHypermediaQpf=void 0;const t=Vr(),e=d4(),r=Lee();let n=class extends e.ActorQuerySourceIdentifyHypermedia{constructor(s){super(s,"qpf")}async test(s){if(s.forceSourceType&&s.forceSourceType!=="qpf"&&s.forceSourceType!=="brtpf")throw new Error(`Actor ${this.name} is not able to handle source type ${s.forceSourceType}.`);return this.testMetadata(s)}async testMetadata(s){const{searchForm:o}=await this.createSource(s.url,s.metadata,s.context,s.forceSourceType==="brtpf");if(s.handledDatasets&&s.handledDatasets[o.dataset])throw new Error(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`);return{filterFactor:1}}async run(s){this.logInfo(s.context,`Identified as qpf source: ${s.url}`);const o=await this.createSource(s.url,s.metadata,s.context,s.forceSourceType==="brtpf",s.quads);return{source:o,dataset:o.searchForm.dataset}}async createSource(s,o,u,c,l){return new r.QuerySourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorDereferenceRdf,await t.BindingsFactory.create(this.mediatorMergeBindingsContext,u),this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,s,o,c,l)}};return ym.ActorQuerySourceIdentifyHypermediaQpf=n,ym}var Ck;function x4e(){return Ck||(Ck=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(R4e(),t),r(Lee(),t)}(vx)),vx}var Tx={},bm={},vm={},Lk;function jee(){if(Lk)return vm;Lk=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.QuerySourceSparql=void 0;const t=qt,e=Mt,r=_ee(),n=Mu(),a=Ot,s=xt(),o=new s.Factory,u=new a.DataFactory,c=u.variable("count"),l={type:"estimate",value:Number.POSITIVE_INFINITY};let d=class Ji{constructor(h,p,m,y,g,b,v,_){this.referenceValue=h,this.url=h,this.context=p,this.mediatorHttp=m,this.bindMethod=y,this.bindingsFactory=g,this.endpointFetcher=new r.SparqlEndpointFetcher({method:b?"GET":"POST",fetch:(w,E)=>this.mediatorHttp.mediate({input:w,init:E,context:this.lastSourceContext}),prefixVariableQuestionMark:!0}),this.cache=v>0?new n.LRUCache({max:v}):void 0,this.countTimeout=_}async getSelectorShape(){return Ji.SELECTOR_SHAPE}queryBindings(h,p,m){let y;m!=null&&m.joinBindings?y=Ji.addBindingsToOperation(this.bindMethod,h,m.joinBindings):y=Promise.resolve(h);const g=new e.TransformIterator(async()=>{const b=await y,v=s.Util.inScopeVariables(b),_=p.get(t.KeysInitQuery.queryString),w=!(m!=null&&m.joinBindings)&&_?_:Ji.operationToSelectQuery(b,v),E=Ji.operationCanContainUndefs(b);return this.queryBindingsRemote(this.url,w,v,p,E)},{autoStart:!1});return this.attachMetadata(g,p,y),g}queryQuads(h,p){this.lastSourceContext=this.context.merge(p);const m=this.endpointFetcher.fetchTriples(this.url,p.get(t.KeysInitQuery.queryString)??Ji.operationToQuery(h));this.lastSourceContext=void 0;const y=(0,e.wrap)(m,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY});return this.attachMetadata(y,p,Promise.resolve(h.input)),y}queryBoolean(h,p){this.lastSourceContext=this.context.merge(p);const m=this.endpointFetcher.fetchAsk(this.url,p.get(t.KeysInitQuery.queryString)??Ji.operationToQuery(h));return this.lastSourceContext=void 0,m}queryVoid(h,p){this.lastSourceContext=this.context.merge(p);const m=this.endpointFetcher.fetchUpdate(this.url,p.get(t.KeysInitQuery.queryString)??Ji.operationToQuery(h));return this.lastSourceContext=void 0,m}attachMetadata(h,p,m){let y=[],g=!1;new Promise(async(b,v)=>{var w;let _;try{const E=await m;y=s.Util.inScopeVariables(E),_=Ji.operationToCountQuery(E),g=Ji.operationCanContainUndefs(E);const O=(w=this.cache)==null?void 0:w.get(_);if(O!==void 0)return b(O);const L=setTimeout(()=>b(l),this.countTimeout),F=await this.queryBindingsRemote(this.url,_,[c],p,!1);F.on("data",x=>{var N;clearTimeout(L);const P=x.get(c),j={type:"estimate",value:Number.POSITIVE_INFINITY};if(P){const V=Number.parseInt(P.value,10);Number.isNaN(V)||(j.type="exact",j.value=V,(N=this.cache)==null||N.set(_,j))}return b(j)}),F.on("error",()=>{clearTimeout(L),b(l)}),F.on("end",()=>{clearTimeout(L),b(l)})}catch(E){return v(E)}}).then(b=>h.setProperty("metadata",{cardinality:b,canContainUndefs:g,variables:y})).catch(()=>h.setProperty("metadata",{cardinality:l,canContainUndefs:g,variables:y}))}static async addBindingsToOperation(h,p,m){const y=await m.bindings.toArray();switch(h){case"values":return o.createJoin([o.createValues(m.metadata.variables,y.map(g=>Object.fromEntries([...g].map(([b,v])=>[`?${b.value}`,v])))),p],!1);case"union":throw new Error('Not implemented yet: "union" case');case"filter":throw new Error('Not implemented yet: "filter" case')}}static operationToSelectQuery(h,p){return Ji.operationToQuery(o.createProject(h,p))}static operationToCountQuery(h){return Ji.operationToQuery(o.createProject(o.createExtend(o.createGroup(h,[],[o.createBoundAggregate(u.variable("var0"),"count",o.createWildcardExpression(),!1)]),u.variable("count"),o.createTermExpression(u.variable("var0"))),[u.variable("count")]))}static operationToQuery(h){return(0,s.toSparql)(h,{sparqlStar:!0})}static operationCanContainUndefs(h){let p=!1;return s.Util.recurseOperation(h,{leftjoin(){return p=!0,!1},values(m){return p=m.bindings.some(y=>m.variables.some(g=>!(`?${g.value}`in y))),!1}}),p}async queryBindingsRemote(h,p,m,y,g){this.lastSourceContext=this.context.merge(y);const b=await this.endpointFetcher.fetchBindings(h,p);this.lastSourceContext=void 0;const v=(0,e.wrap)(b,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(_=>this.bindingsFactory.bindings(m.map(w=>{const E=_[`?${w.value}`];return!g&&!E&&v.emit("error",new Error(`The endpoint ${h} failed to provide a binding for ${w.value}.`)),[w,E]})));return v}toString(){return`QuerySourceSparql(${this.url})`}};return vm.QuerySourceSparql=d,d.SELECTOR_SHAPE={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:s.Algebra.types.PROJECT},joinBindings:!0},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.CONSTRUCT}},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.DESCRIBE}},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.ASK}},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.COMPOSITE_UPDATE}}]},vm}var jk;function I4e(){if(jk)return bm;jk=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.ActorQuerySourceIdentifyHypermediaSparql=void 0;const t=Vr(),e=d4(),r=jee();let n=class extends e.ActorQuerySourceIdentifyHypermedia{constructor(s){super(s,"sparql")}async testMetadata(s){if(!s.forceSourceType&&!s.metadata.sparqlService&&!(this.checkUrlSuffix&&s.url.endsWith("/sparql")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`);return{filterFactor:1}}async run(s){return this.logInfo(s.context,`Identified ${s.url} as sparql source with service URL: ${s.metadata.sparqlService||s.url}`),{source:new r.QuerySourceSparql(s.forceSourceType?s.url:s.metadata.sparqlService||s.url,s.context,this.mediatorHttp,this.bindMethod,await t.BindingsFactory.create(this.mediatorMergeBindingsContext,s.context),this.forceHttpGet,this.cacheSize,this.countTimeout)}}};return bm.ActorQuerySourceIdentifyHypermediaSparql=n,bm}var Mk;function P4e(){return Mk||(Mk=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(I4e(),t),r(jee(),t)}(Tx)),Tx}var Ex={},wm={},Ax={},Sm={},Tm={},Fk;function Mee(){if(Fk)return Tm;Fk=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.QuerySourceRdfJs=void 0;const t=j1(),e=qt,r=li(),n=Mt,a=Ot,s=Pn(),o=xt(),u=new o.Factory,c=new a.DataFactory;let l=class Jn{constructor(f,h){this.source=f,this.referenceValue=f,this.bindingsFactory=h}static nullifyVariables(f,h){return!f||f.termType==="Variable"||!h&&f.termType==="Quad"&&(0,s.someTermsNested)(f,p=>p.termType==="Variable")?void 0:f}static hasDuplicateVariables(f){const h=(0,s.filterTermsNested)(f,p=>p.termType==="Variable");return h.length>1&&(0,s.uniqTerms)(h).length<h.length}async getSelectorShape(){return Jn.SELECTOR_SHAPE}queryBindings(f,h){var g;if(f.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${f.type}' to QuerySourceRdfJs`);const p=!!((g=this.source.features)!=null&&g.quotedTripleFiltering),m=this.source.match(Jn.nullifyVariables(f.subject,p),Jn.nullifyVariables(f.predicate,p),Jn.nullifyVariables(f.object,p),Jn.nullifyVariables(f.graph,p));let y=m instanceof n.AsyncIterator?m:(0,n.wrap)(m,{autoStart:!1});return p||(y=(0,t.filterMatchingQuotedQuads)(f,y)),y.getProperty("metadata")||this.setMetadata(y,f).catch(b=>y.destroy(b)),(0,t.quadsToBindings)(y,f,this.bindingsFactory,!!h.get(e.KeysQueryOperation.unionDefaultGraph))}async setMetadata(f,h){var g;const p=!!((g=this.source.features)!=null&&g.quotedTripleFiltering);let m;if(this.source.countQuads)m=await this.source.countQuads(Jn.nullifyVariables(h.subject,p),Jn.nullifyVariables(h.predicate,p),Jn.nullifyVariables(h.object,p),Jn.nullifyVariables(h.graph,p));else{let b=0;m=await new Promise((v,_)=>{const w=this.source.match(Jn.nullifyVariables(h.subject,p),Jn.nullifyVariables(h.predicate,p),Jn.nullifyVariables(h.object,p),Jn.nullifyVariables(h.graph,p));w.on("error",_),w.on("end",()=>v(b)),w.on("data",()=>b++)})}const y=!p&&(0,s.someTerms)(h,b=>b.termType==="Quad")||Jn.hasDuplicateVariables(h);f.setProperty("metadata",{state:new r.MetadataValidationState,cardinality:{type:y?"estimate":"exact",value:m},canContainUndefs:!1})}queryQuads(f,h){throw new Error("queryQuads is not implemented in QuerySourceQpf")}queryBoolean(f,h){throw new Error("queryBoolean is not implemented in QuerySourceQpf")}queryVoid(f,h){throw new Error("queryVoid is not implemented in QuerySourceQpf")}toString(){return`QuerySourceRdfJs(${this.source.constructor.name})`}};return Tm.QuerySourceRdfJs=l,l.SELECTOR_SHAPE={type:"operation",operation:{operationType:"pattern",pattern:u.createPattern(c.variable("s"),c.variable("p"),c.variable("o"))},variablesOptional:[c.variable("s"),c.variable("p"),c.variable("o")]},Tm}var Bk;function N4e(){if(Bk)return Sm;Bk=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.ActorQuerySourceIdentifyRdfJs=void 0;const t=Vr(),e=j1(),r=st,n=Mee();let a=class extends e.ActorQuerySourceIdentify{constructor(o){super(o)}async test(o){const u=o.querySourceUnidentified;if(u.type!==void 0&&u.type!=="rdfjs")throw new Error(`${this.name} requires a single query source with rdfjs type to be present in the context.`);if(typeof u.value=="string"||!("match"in u.value))throw new Error(`${this.name} received an invalid rdfjs query source.`);return!0}async run(o){return{querySource:{source:new n.QuerySourceRdfJs(o.querySourceUnidentified.value,await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context)),context:o.querySourceUnidentified.context??new r.ActionContext}}}};return Sm.ActorQuerySourceIdentifyRdfJs=a,Sm}var Ox={},qk;function D4e(){return qk||(qk=1,Object.defineProperty(Ox,"__esModule",{value:!0})),Ox}var $k;function f4(){return $k||($k=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(N4e(),t),r(D4e(),t),r(Mee(),t)}(Ax)),Ax}var Em={},Rx={},Am={},Om={},Rm={},Uk;function Fee(){if(Uk)return Rm;Uk=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.TermDictionaryNumberRecordFullTerms=void 0;const t=Ot,e=nr;let r=class{constructor(a=new t.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const s=(0,e.termToString)(a);let o=this.dictionary[s];return o===void 0&&(o=this.lastId++,this.dictionary[s]=o,this.reverseDictionary[o]=a),o}encodeOptional(a){const s=(0,e.termToString)(a);return this.dictionary[s]}decode(a){const s=this.reverseDictionary[a];if(s===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return s}*encodings(){for(const a of Object.keys(this.reverseDictionary))yield Number.parseInt(a,10)}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return Rm.TermDictionaryNumberRecordFullTerms=r,Rm}var xm={},Im={},xx={},kk;function Os(){return kk||(kk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.arePatternsQuoted=t.quadHasVariables=t.quadToPattern=t.encodeOptionalTerms=t.orderQuadComponents=t.getComponentOrderScore=t.getBestIndex=t.QUAD_TERM_NAMES_INVERSE=void 0;const e=Pn();t.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(e.QUAD_TERM_NAMES.map((l,d)=>[l,d]));function r(l,d){if(l.length===1||d.every(p=>p!==void 0))return 0;const f=[];for(let p=0;p<e.QUAD_TERM_NAMES.length;p++)d[p]&&f.push(e.QUAD_TERM_NAMES[p]);return l.map((p,m)=>({score:n(p,f),index:m})).sort((p,m)=>m.score-p.score)[0].index}t.getBestIndex=r;function n(l,d){return l.map((f,h)=>d.includes(f)?l.length-h:0).reduce((f,h)=>f+h,0)}t.getComponentOrderScore=n;function a(l,d){return l.map(f=>{const h=t.QUAD_TERM_NAMES_INVERSE[f];return d[h]})}t.orderQuadComponents=a;function s(l,d){const f=l.map(h=>{if(h){if(h.termType==="Quad"&&u(h))return;const p=d.encodeOptional(h);return p===void 0?"none":p}return h});if(!f.includes("none"))return f}t.encodeOptionalTerms=s;function o(l,d,f,h,p){let m=!1;return[[l||void 0,d||void 0,f||void 0,h||void 0].map(g=>{if(g){if(g.termType==="Variable")return;if(g.termType==="Quad"){if(p)return g;m=!0;return}}return g}),m]}t.quadToPattern=o;function u(l){for(const d of e.QUAD_TERM_NAMES){const f=l[d];if(f.termType==="Variable"||f.termType==="Quad"&&u(f))return!0}return!1}t.quadHasVariables=u;function c(l){return l.map(d=>(d==null?void 0:d.termType)==="Quad"&&u(d))}t.arePatternsQuoted=c}(xx)),xx}var Vk;function h4(){if(Vk)return Im;Vk=1,Object.defineProperty(Im,"__esModule",{value:!0}),Im.RdfStoreIndexNestedMap=void 0;const t=Os();let e=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,a){const s=this.nestedMap;let o=s.get(n[0]);o||(o=new Map,s.set(n[0],o));let u=o.get(n[1]);u||(u=new Map,o.set(n[1],u));let c=u.get(n[2]);c||(c=new Map,u.set(n[2],c));const l=c.has(n[3]);return l||c.set(n[3],a),!l}remove(n){const a=this.nestedMap,s=a.get(n[0]);if(!s)return!1;const o=s.get(n[1]);if(!o)return!1;const u=o.get(n[2]);if(!u)return!1;const c=u.delete(n[3]);return c&&u.size===0&&(o.delete(n[2]),o.size===0&&(s.delete(n[1]),s.size===0&&a.delete(n[0]))),c}get(n){const a=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(n){const a=this.nestedMap.get(n[0]);if(!a)return;const s=a.get(n[1]);if(!s)return;const o=s.get(n[2]);if(o)return o.get(n[3])}*find(n){const a=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!a)return;const[s,o,u,c]=a,[l,d,f,h]=n;let p,m,y,g,b,v,_;const w=this.nestedMap,E=s!==void 0?w.has(s)?[s]:[]:w.keys();for(const O of E){b=w.get(O),p=l||this.dictionary.decode(O);const L=o!==void 0?b.has(o)?[o]:[]:b.keys();for(const F of L){v=b.get(F),m=d||this.dictionary.decode(F);const x=u!==void 0?v.has(u)?[u]:[]:v.keys();for(const P of x){_=v.get(P),y=f||this.dictionary.decode(P);const j=c!==void 0?_.has(c)?[c]:[]:_.keys();for(const N of j)g=h||this.dictionary.decode(N),yield[p,m,y,g]}}}}*findEncoded(n,a){const[s,o,u,c]=n;let l,d,f;const h=this.nestedMap,p=s!==void 0?h.has(s)?[s]:[]:h.keys();for(const m of p){l=h.get(m);const y=o!==void 0?l.has(o)?[o]:[]:l.keys();for(const g of y){d=l.get(g);const b=u!==void 0?d.has(u)?[u]:[]:d.keys();for(const v of b){f=d.get(v);const _=c!==void 0?f.has(c)?[c]:[]:f.keys();for(const w of _)yield[m,g,v,w]}}}}count(n){let a=0;const s=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!s)return 0;const o=s[0],u=s[1],c=s[2],l=s[3];let d,f,h;const p=this.nestedMap,m=o!==void 0?p.has(o)?[o]:[]:p.keys();for(const y of m){d=p.get(y);const g=u!==void 0?d.has(u)?[u]:[]:d.keys();for(const b of g){f=d.get(b);const v=c!==void 0?f.has(c)?[c]:[]:f.keys();for(const _ of v)h=f.get(_),l!==void 0?h.has(l)&&a++:a+=h.size}}return a}};return Im.RdfStoreIndexNestedMap=e,Im}var Hk;function Bee(){if(Hk)return xm;Hk=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.TermDictionaryQuotedIndexed=void 0;const t=Ot,e=h4(),r=Os();let n=class Zs{constructor(s,o=new t.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=s;const u={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:o};this.quotedTriplesReverseDictionaries=[new e.RdfStoreIndexNestedMap(u),new e.RdfStoreIndexNestedMap(u),new e.RdfStoreIndexNestedMap(u)],this.dataFactory=o}encode(s){return s.termType==="Quad"?this.encodeQuotedTriple(s,!1):this.plainTermDictionary.encode(s)}encodeQuotedTriple(s,o){if(s.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const u=(0,r.encodeOptionalTerms)([s.subject,s.predicate,s.object,s.graph],this),c=u&&u.every(h=>h!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(u):void 0;if(c!==void 0||o)return c===void 0?void 0:Zs.BITMASK|c;const l=[this.encode(s.subject),this.encode(s.predicate),this.encode(s.object)],d=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(l);const f=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([l[0],l[1],l[2],f],d),this.quotedTriplesReverseDictionaries[1].set([l[1],l[2],l[0],f],d),this.quotedTriplesReverseDictionaries[2].set([l[2],l[0],l[1],f],d),Zs.BITMASK|d}encodeOptional(s){return s.termType==="Quad"?this.encodeQuotedTriple(s,!0):this.plainTermDictionary.encodeOptional(s)}decode(s){if(Zs.BITMASK&s){const o=(~Zs.BITMASK&s)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${s} is not present in the quoted triples range of the dictionary`);const u=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(u[0]),this.decode(u[1]),this.decode(u[2]))}return this.plainTermDictionary.decode(s)}*encodings(){for(const s of this.plainTermDictionary.encodings())yield s;for(const s of this.quotedTriplesDictionary.keys())yield Zs.BITMASK|1+s}*findQuotedTriples(s){for(const o of this.findQuotedTriplesEncoded(s))yield this.decode(o)}*findQuotedTriplesEncoded(s){const[o,u]=(0,r.quadToPattern)(s.subject,s.predicate,s.object,s.graph,!0);for(const c of this.patternToIterable(o[0]))for(const l of this.patternToIterable(o[1]))for(const d of this.patternToIterable(o[2]))for(const f of this.patternToIterable(o[3]))if(c&&l||!l&&!d){const h=[c,l,d,f];for(const p of this.quotedTriplesReverseDictionaries[0].findEncoded(h,o))yield Zs.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(p)}else if(!c&&l){const h=[l,d,c,f];for(const p of this.quotedTriplesReverseDictionaries[1].findEncoded(h,o))yield Zs.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(p)}else{const h=[d,c,l,f];for(const p of this.quotedTriplesReverseDictionaries[2].findEncoded(h,o))yield Zs.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(p)}}*patternToIterable(s){if((s==null?void 0:s.termType)==="Quad"){yield*this.findQuotedTriplesEncoded(s);return}if(s===void 0){yield void 0;return}const o=this.encodeOptional(s);o!==void 0&&(yield o)}};return n.BITMASK=1<<31,xm.TermDictionaryQuotedIndexed=n,xm}var Pm={},Qk;function qee(){if(Qk)return Pm;Qk=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.RdfStoreIndexNestedMapQuoted=void 0;const t=Os(),e=h4();let r=class extends e.RdfStoreIndexNestedMap{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(a,s){for(const o of this.dictionary.findQuotedTriplesEncoded(s))a.has(o)&&(yield o)}*find(a){const s=(0,t.encodeOptionalTerms)(a,this.dictionary);if(!s)return;const[o,u,c,l]=s,[d,f,h,p]=a,[m,y,g,b]=(0,t.arePatternsQuoted)(a);let v,_,w,E,O,L,F;const x=this.nestedMap,P=d!==void 0?m?this.getQuotedPatternKeys(x,d):x.has(o)?[o]:[]:x.keys();for(const j of P){O=x.get(j),v=!m&&d?d:this.dictionary.decode(j);const N=f!==void 0?y?this.getQuotedPatternKeys(O,f):O.has(u)?[u]:[]:O.keys();for(const V of N){L=O.get(V),_=!y&&f?f:this.dictionary.decode(V);const $=h!==void 0?g?this.getQuotedPatternKeys(L,h):L.has(c)?[c]:[]:L.keys();for(const q of $){F=L.get(q),w=!g&&h?h:this.dictionary.decode(q);const H=p!==void 0?b?this.getQuotedPatternKeys(F,p):F.has(l)?[l]:[]:F.keys();for(const X of H)E=!b&&p?p:this.dictionary.decode(X),yield[v,_,w,E]}}}}*findEncoded(a,s){const[o,u,c,l]=a,[d,f,h,p]=s,[m,y,g,b]=(0,t.arePatternsQuoted)(s);let v,_,w;const E=this.nestedMap,O=d!==void 0?m?this.getQuotedPatternKeys(E,d):E.has(o)?[o]:[]:E.keys();for(const L of O){v=E.get(L);const F=f!==void 0?y?this.getQuotedPatternKeys(v,f):v.has(u)?[u]:[]:v.keys();for(const x of F){_=v.get(x);const P=h!==void 0?g?this.getQuotedPatternKeys(_,h):_.has(c)?[c]:[]:_.keys();for(const j of P){w=_.get(j);const N=p!==void 0?b?this.getQuotedPatternKeys(w,p):w.has(l)?[l]:[]:w.keys();for(const V of N)yield[Number.parseInt(L,10),Number.parseInt(x,10),Number.parseInt(j,10),Number.parseInt(V,10)]}}}}count(a){let s=0;const o=(0,t.encodeOptionalTerms)(a,this.dictionary);if(!o)return 0;const[u,c,l,d]=o,[f,h,p,m]=a,[y,g,b,v]=(0,t.arePatternsQuoted)(a);let _,w,E;const O=this.nestedMap,L=f!==void 0?y?this.getQuotedPatternKeys(O,f):O.has(u)?[u]:[]:O.keys();for(const F of L){_=O.get(F);const x=h!==void 0?g?this.getQuotedPatternKeys(_,h):_.has(c)?[c]:[]:_.keys();for(const P of x){w=_.get(P);const j=p!==void 0?b?this.getQuotedPatternKeys(w,p):w.has(l)?[l]:[]:w.keys();for(const N of j)E=w.get(N),m!==void 0?v?s+=[...this.getQuotedPatternKeys(E,m)].length:E.has(d)&&s++:s+=E.size}}return s}};return Pm.RdfStoreIndexNestedMapQuoted=r,Pm}var zk;function $ee(){if(zk)return Om;zk=1,Object.defineProperty(Om,"__esModule",{value:!0}),Om.RdfStore=void 0;const t=Mt,e=Ot,r=Pn(),n=kee(),a=Fee(),s=Bee(),o=qee(),u=Os();let c=class D_{constructor(d){this.features={quotedTripleFiltering:!0},this._size=0,this.options=d,this.dataFactory=d.dataFactory,this.dictionary=d.dictionary,this.indexesWrapped=D_.constructIndexesWrapped(d),this.indexesWrappedComponentOrders=this.indexesWrapped.map(f=>f.componentOrder)}static createDefault(){return new D_({indexCombinations:D_.DEFAULT_INDEX_COMBINATIONS,indexConstructor:d=>new o.RdfStoreIndexNestedMapQuoted(d),dictionary:new s.TermDictionaryQuotedIndexed(new a.TermDictionaryNumberRecordFullTerms),dataFactory:new e.DataFactory})}static constructIndexesWrapped(d){const f=[];if(d.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const h of d.indexCombinations){if(!D_.isCombinationValid(h))throw new Error(`Invalid index combination: ${h}`);f.push({index:d.indexConstructor(d),componentOrder:h,componentOrderInverse:Object.fromEntries(h.map((p,m)=>[p,m]))})}return f}static isCombinationValid(d){for(const f of r.QUAD_TERM_NAMES)if(!d.includes(f))return!1;return d.length===4}get size(){return this._size}addQuad(d){const f=[this.dictionary.encode(d.subject),this.dictionary.encode(d.predicate),this.dictionary.encode(d.object),this.dictionary.encode(d.graph)];let h=!1;for(const p of this.indexesWrapped)h=p.index.set((0,u.orderQuadComponents)(p.componentOrder,f),!0);return h?(this._size++,!0):!1}removeQuad(d){const f=[this.dictionary.encodeOptional(d.subject),this.dictionary.encodeOptional(d.predicate),this.dictionary.encodeOptional(d.object),this.dictionary.encodeOptional(d.graph)];if(f.includes(void 0))return!1;let h=!1;for(const p of this.indexesWrapped)if(h=p.index.remove((0,u.orderQuadComponents)(p.componentOrder,f)),!h)break;return h?(this._size--,!0):!1}remove(d){return d.on("data",f=>this.removeQuad(f)),d}removeMatches(d,f,h,p){return this.remove(this.match(d,f,h,p))}deleteGraph(d){return typeof d=="string"&&(d=this.dataFactory.namedNode(d)),this.removeMatches(void 0,void 0,void 0,d)}import(d){return d.on("data",f=>this.addQuad(f)),d}*readQuads(d,f,h,p){const m=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(_=>_.index.features.quotedTripleFiltering),[y,g]=(0,u.quadToPattern)(d,f,h,p,m),b=this.indexesWrapped[(0,u.getBestIndex)(this.indexesWrappedComponentOrders,y)],v=(0,u.orderQuadComponents)(b.componentOrder,y);for(const _ of b.index.find(v)){const w=this.dataFactory.quad(_[b.componentOrderInverse.subject],_[b.componentOrderInverse.predicate],_[b.componentOrderInverse.object],_[b.componentOrderInverse.graph]);g?(0,r.matchPattern)(w,d,f,h,p)&&(yield w):yield w}}getQuads(d,f,h,p){return[...this.readQuads(d,f,h,p)]}match(d,f,h,p){return(0,t.wrap)(this.readQuads(d,f,h,p))}countQuads(d,f,h,p){const m=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(v=>v.index.features.quotedTripleFiltering),[y]=(0,u.quadToPattern)(d,f,h,p,m);if(y.every(v=>v===void 0))return this.size;const g=this.indexesWrapped[(0,u.getBestIndex)(this.indexesWrappedComponentOrders,y)],b=(0,u.orderQuadComponents)(g.componentOrder,y);return g.index.count(b)}asDataset(){return new n.DatasetCoreWrapper(this)}};return c.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],Om.RdfStore=c,Om}var Gk;function kee(){if(Gk)return Am;Gk=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.DatasetCoreWrapper=void 0;const t=$ee();let e=class Uee{constructor(n){this.store=n}get size(){return this.store.size}add(n){return this.store.addQuad(n),this}delete(n){return this.store.removeQuad(n),this}has(n){for(const a of this.store.readQuads(n.subject,n.predicate,n.object,n.graph))return!0;return!1}match(n,a,s,o){const u=new t.RdfStore(this.store.options);for(const c of this.store.readQuads(n,a,s,o))u.addQuad(c);return new Uee(u)}[Symbol.iterator](){return this.store.readQuads()}};return Am.DatasetCoreWrapper=e,Am}var Ix={},Wk;function C4e(){return Wk||(Wk=1,Object.defineProperty(Ix,"__esModule",{value:!0})),Ix}var Nm={},Kk;function L4e(){if(Kk)return Nm;Kk=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.TermDictionaryNumberMap=void 0;const t=Ot,e=nr;let r=class{constructor(a=new t.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const s=(0,e.termToString)(a);let o=this.dictionary.get(s);return o===void 0&&(o=this.lastId++,this.dictionary.set(s,o),this.reverseDictionary.set(o,s)),o}encodeOptional(a){const s=(0,e.termToString)(a);return this.dictionary.get(s)}decode(a){const s=this.reverseDictionary.get(a);if(s===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return(0,e.stringToTerm)(s,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return Nm.TermDictionaryNumberMap=r,Nm}var Dm={},Jk;function j4e(){if(Jk)return Dm;Jk=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.TermDictionaryNumberRecord=void 0;const t=Ot,e=nr;let r=class{constructor(a=new t.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const s=(0,e.termToString)(a);let o=this.dictionary[s];return o===void 0&&(o=this.lastId++,this.dictionary[s]=o,this.reverseDictionary[o]=s),o}encodeOptional(a){const s=(0,e.termToString)(a);return this.dictionary[s]}decode(a){const s=this.reverseDictionary[a];if(s===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return(0,e.stringToTerm)(s,this.dataFactory)}*encodings(){for(const a of Object.keys(this.reverseDictionary))yield Number.parseInt(a,10)}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return Dm.TermDictionaryNumberRecord=r,Dm}var Cm={},Xk;function M4e(){if(Xk)return Cm;Xk=1,Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.TermDictionaryQuoted=void 0;const t=Ot,e=Pn();let r=class yc{constructor(a,s,o=new t.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=a,this.quotedTriplesDictionary=s,this.dataFactory=o}encode(a){return a.termType==="Quad"?yc.BITMASK|1+this.quotedTriplesDictionary.encode(a):this.plainTermDictionary.encode(a)}encodeOptional(a){if(a.termType==="Quad"){const s=this.quotedTriplesDictionary.encodeOptional(a);return s===void 0?s:yc.BITMASK|1+s}return this.plainTermDictionary.encodeOptional(a)}decode(a){if(yc.BITMASK&a){const s=(~yc.BITMASK&a)-1;return this.quotedTriplesDictionary.decode(s)}return this.plainTermDictionary.decode(a)}*encodings(){for(const a of this.plainTermDictionary.encodings())yield a;for(const a of this.quotedTriplesDictionary.encodings())yield yc.BITMASK|1+a}*findQuotedTriples(a){for(const s of this.findQuotedTriplesEncoded(a))yield this.decode(s)}*findQuotedTriplesEncoded(a){for(let s of this.quotedTriplesDictionary.encodings()){s=yc.BITMASK|1+s;const o=this.decode(s);(0,e.matchPattern)(o,a.subject,a.predicate,a.object,a.graph)&&(yield s)}}};return r.BITMASK=1<<31,Cm.TermDictionaryQuoted=r,Cm}var Lm={},Yk;function F4e(){if(Yk)return Lm;Yk=1,Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.TermDictionaryQuotedReferential=void 0;const t=Ot,e=Pn(),r=Os();let n=class eo{constructor(s,o=new t.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=s,this.dataFactory=o}encode(s){return s.termType==="Quad"?this.encodeQuotedTriple(s,!1):this.plainTermDictionary.encode(s)}encodeQuotedTriple(s,o){var u;if(s.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const c=(u=(0,r.encodeOptionalTerms)([s.subject,s.predicate,s.object,void 0],this))===null||u===void 0?void 0:u.slice(0,3),l=c&&c.every(h=>h!==void 0)?this.quotedTriplesReverseDictionary[c.join(eo.SEPARATOR)]:void 0;if(l!==void 0||o)return l===void 0?void 0:eo.BITMASK|l;const d=[this.encode(s.subject),this.encode(s.predicate),this.encode(s.object)],f=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(d),this.quotedTriplesReverseDictionary[d.join(eo.SEPARATOR)]=f,eo.BITMASK|f}encodeOptional(s){return s.termType==="Quad"?this.encodeQuotedTriple(s,!0):this.plainTermDictionary.encodeOptional(s)}decode(s){if(eo.BITMASK&s){const o=(~eo.BITMASK&s)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${s} is not present in the quoted triples range of the dictionary`);const u=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(u[0]),this.decode(u[1]),this.decode(u[2]))}return this.plainTermDictionary.decode(s)}*encodings(){for(const s of this.plainTermDictionary.encodings())yield s;for(const s of this.quotedTriplesDictionary.keys())yield eo.BITMASK|1+s}*findQuotedTriples(s){for(const o of this.findQuotedTriplesEncoded(s))yield this.decode(o)}*findQuotedTriplesEncoded(s){for(let o of this.quotedTriplesDictionary.keys()){o=eo.BITMASK|1+o;const u=this.decode(o);(0,e.matchPattern)(u,s.subject,s.predicate,s.object,s.graph)&&(yield o)}}};return n.BITMASK=1<<31,n.SEPARATOR="_",Lm.TermDictionaryQuotedReferential=n,Lm}var jm={},Zk;function B4e(){if(Zk)return jm;Zk=1,Object.defineProperty(jm,"__esModule",{value:!0}),jm.TermDictionarySymbol=void 0;const t=Ot,e=nr;let r=class{constructor(a=new t.DataFactory){this.features={quotedTriples:!1},this.dataFactory=a}encode(a){return Symbol.for(`rdf::${(0,e.termToString)(a)}`)}encodeOptional(a){return this.encode(a)}decode(a){const s=Symbol.keyFor(a);if(s===void 0)throw new Error(`The value ${String(a)} is not present in this dictionary`);return(0,e.stringToTerm)(s.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return jm.TermDictionarySymbol=r,jm}var Px={},eV;function q4e(){return eV||(eV=1,Object.defineProperty(Px,"__esModule",{value:!0})),Px}var Mm={},tV;function Vee(){if(tV)return Mm;tV=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.RdfStoreIndexNestedMapRecursive=void 0;const t=Os();let e=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,a){let s=this.nestedMap,o=!1;for(const[u,c]of n.entries()){const l=s;let d=l.get(c);d?u===n.length-1&&(o=!0):(d=u===n.length-1?a:new Map,l.set(c,d)),s=d}return!o}remove(n){const a=this.nestedMap,s=a.get(n[0]);if(!s)return!1;const o=s.get(n[1]);if(!o)return!1;const u=o.get(n[2]);if(!u)return!1;const c=u.delete(n[3]);return c&&u.size===0&&(o.delete(n[2]),o.size===0&&(s.delete(n[1]),s.size===0&&a.delete(n[0]))),c}get(n){const a=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(n){const a=this.nestedMap.get(n[0]);if(!a)return;const s=a.get(n[1]);if(!s)return;const o=s.get(n[2]);if(o)return o.get(n[3])}*find(n){const a=(0,t.encodeOptionalTerms)(n,this.dictionary);if(a)for(const s of this.findEncoded(a,n))yield[a[0]!==void 0?n[0]:this.dictionary.decode(s[0]),a[1]!==void 0?n[1]:this.dictionary.decode(s[1]),a[2]!==void 0?n[2]:this.dictionary.decode(s[2]),a[3]!==void 0?n[3]:this.dictionary.decode(s[3])]}*findEncoded(n,a){return yield*this.findEncodedInner(0,n,a,this.nestedMap,[])}*findEncodedInner(n,a,s,o,u){if(n===a.length)yield[...u];else{const c=a[n];if(s[n]){const d=c;if(d!==void 0){const f=o.get(d);f&&(u[n]=c,yield*this.findEncodedInner(n+1,a,s,f,u))}}else for(const[d,f]of o.entries())u[n]=d,yield*this.findEncodedInner(n+1,a,s,f,u)}}count(n){return this.countInner(0,n,this.nestedMap)}countInner(n,a,s){const o=a[n];let u=0;if(o){const c=this.dictionary.encodeOptional(o);if(c!==void 0){if(n===a.length-1)return s.has(c)?1:0;const l=s.get(c);l&&(u+=this.countInner(n+1,a,l))}}else{if(n===a.length-1)return s.size;for(const c of s.values())u+=this.countInner(n+1,a,c)}return u}};return Mm.RdfStoreIndexNestedMapRecursive=e,Mm}var Fm={},rV;function $4e(){if(rV)return Fm;rV=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const t=Os(),e=Vee();let r=class extends e.RdfStoreIndexNestedMapRecursive{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*findEncoded(a,s){return yield*this.findEncodedInnerQuoted(0,a,s,(0,t.arePatternsQuoted)(s),this.nestedMap,[])}*findEncodedInnerQuoted(a,s,o,u,c,l){if(a===s.length)yield[...l];else{const d=s[a],f=o[a];if(f)if(u[a]){const h=this.dictionary.findQuotedTriplesEncoded(f);for(const p of h){const m=c.get(p);m&&(l[a]=p,yield*this.findEncodedInnerQuoted(a+1,s,o,u,m,l))}}else{const h=d;if(h!==void 0){const p=c.get(h);p&&(l[a]=d,yield*this.findEncodedInnerQuoted(a+1,s,o,u,p,l))}}else for(const[h,p]of c.entries())l[a]=h,yield*this.findEncodedInnerQuoted(a+1,s,o,u,p,l)}}countInner(a,s,o){const u=s[a];let c=0;if(u)if(u.termType==="Quad"&&(0,t.quadHasVariables)(u)){const l=this.dictionary.findQuotedTriplesEncoded(u);for(const d of l)if(a===s.length-1)o.has(d)&&c++;else{const f=o.get(d);f&&(c+=this.countInner(a+1,s,f))}}else{const l=this.dictionary.encodeOptional(u);if(l!==void 0){if(a===s.length-1)return o.has(l)?1:0;const d=o.get(l);d&&(c+=this.countInner(a+1,s,d))}}else{if(a===s.length-1)return o.size;for(const l of o.values())c+=this.countInner(a+1,s,l)}return c}};return Fm.RdfStoreIndexNestedMapRecursiveQuoted=r,Fm}var Bm={},nV;function Hee(){if(nV)return Bm;nV=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.RdfStoreIndexNestedRecord=void 0;const t=Os();let e=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedRecords={}}set(n,a){const s=this.nestedRecords,o=s[n[0]]||(s[n[0]]={}),u=o[n[1]]||(o[n[1]]={}),c=u[n[2]]||(u[n[2]]={});return c[n[3]]?!1:(c[n[3]]=a,!0)}remove(n){const a=this.nestedRecords,s=a[n[0]];if(!s)return!1;const o=s[n[1]];if(!o)return!1;const u=o[n[2]];return!u||!u[n[3]]?!1:(delete u[n[3]],Object.keys(u).length===0&&(delete o[n[2]],Object.keys(o).length===0&&(delete s[n[1]],Object.keys(s).length===0&&delete a[n[0]])),!0)}get(n){const a=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(n){var a,s,o;return(o=(s=(a=this.nestedRecords[n[0]])===null||a===void 0?void 0:a[n[1]])===null||s===void 0?void 0:s[n[2]])===null||o===void 0?void 0:o[n[3]]}*find(n){const a=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!a)return;const[s,o,u,c]=a,[l,d,f,h]=n;let p,m,y,g,b,v,_;const w=this.nestedRecords,E=s!==void 0?s in w?[s]:[]:Object.keys(w);for(const O of E){b=w[O],p=l||this.dictionary.decode(Number.parseInt(O,10));const L=o!==void 0?o in b?[o]:[]:Object.keys(b);for(const F of L){v=b[F],m=d||this.dictionary.decode(Number.parseInt(F,10));const x=u!==void 0?u in v?[u]:[]:Object.keys(v);for(const P of x){_=v[P],y=f||this.dictionary.decode(Number.parseInt(P,10));const j=c!==void 0?c in _?[c]:[]:Object.keys(_);for(const N of j)g=h||this.dictionary.decode(Number.parseInt(N,10)),yield[p,m,y,g]}}}}*findEncoded(n,a){const[s,o,u,c]=n;let l,d,f;const h=this.nestedRecords,p=s!==void 0?s in h?[s]:[]:Object.keys(h);for(const m of p){l=h[m];const y=o!==void 0?o in l?[o]:[]:Object.keys(l);for(const g of y){d=l[g];const b=u!==void 0?u in d?[u]:[]:Object.keys(d);for(const v of b){f=d[v];const _=c!==void 0?c in f?[c]:[]:Object.keys(f);for(const w of _)yield[Number.parseInt(m,10),Number.parseInt(g,10),Number.parseInt(v,10),Number.parseInt(w,10)]}}}}count(n){let a=0;const s=(0,t.encodeOptionalTerms)(n,this.dictionary);if(!s)return 0;const o=s[0],u=s[1],c=s[2],l=s[3];let d,f,h;const p=this.nestedRecords,m=o!==void 0?o in p?[o]:[]:Object.keys(p);for(const y of m){d=p[y];const g=u!==void 0?u in d?[u]:[]:Object.keys(d);for(const b of g){f=d[b];const v=c!==void 0?c in f?[c]:[]:Object.keys(f);for(const _ of v)h=f[_],l!==void 0?l in h&&a++:a+=Object.keys(h).length}}return a}};return Bm.RdfStoreIndexNestedRecord=e,Bm}var qm={},iV;function U4e(){if(iV)return qm;iV=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.RdfStoreIndexNestedRecordQuoted=void 0;const t=Os(),e=Hee();let r=class extends e.RdfStoreIndexNestedRecord{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(a,s){for(const o of this.dictionary.findQuotedTriplesEncoded(s))o in a&&(yield o)}*find(a){const s=(0,t.encodeOptionalTerms)(a,this.dictionary);if(!s)return;const[o,u,c,l]=s,[d,f,h,p]=a,[m,y,g,b]=(0,t.arePatternsQuoted)(a);let v,_,w,E,O,L,F;const x=this.nestedRecords,P=d!==void 0?m?this.getQuotedPatternKeys(x,d):o in x?[o]:[]:Object.keys(x);for(const j of P){O=x[j],v=!m&&d?d:this.dictionary.decode(Number.parseInt(j,10));const N=f!==void 0?y?this.getQuotedPatternKeys(O,f):u in O?[u]:[]:Object.keys(O);for(const V of N){L=O[V],_=!y&&f?f:this.dictionary.decode(Number.parseInt(V,10));const $=h!==void 0?g?this.getQuotedPatternKeys(L,h):c in L?[c]:[]:Object.keys(L);for(const q of $){F=L[q],w=!g&&h?h:this.dictionary.decode(Number.parseInt(q,10));const H=p!==void 0?b?this.getQuotedPatternKeys(F,p):l in F?[l]:[]:Object.keys(F);for(const X of H)E=!b&&p?p:this.dictionary.decode(Number.parseInt(X,10)),yield[v,_,w,E]}}}}*findEncoded(a,s){const[o,u,c,l]=a,[d,f,h,p]=s,[m,y,g,b]=(0,t.arePatternsQuoted)(s);let v,_,w;const E=this.nestedRecords,O=d!==void 0?m?this.getQuotedPatternKeys(E,d):o in E?[o]:[]:Object.keys(E);for(const L of O){v=E[L];const F=f!==void 0?y?this.getQuotedPatternKeys(v,f):u in v?[u]:[]:Object.keys(v);for(const x of F){_=v[x];const P=h!==void 0?g?this.getQuotedPatternKeys(_,h):c in _?[c]:[]:Object.keys(_);for(const j of P){w=_[j];const N=p!==void 0?b?this.getQuotedPatternKeys(w,p):l in w?[l]:[]:Object.keys(w);for(const V of N)yield[Number.parseInt(L,10),Number.parseInt(x,10),Number.parseInt(j,10),Number.parseInt(V,10)]}}}}count(a){let s=0;const o=(0,t.encodeOptionalTerms)(a,this.dictionary);if(!o)return 0;const[u,c,l,d]=o,[f,h,p,m]=a,[y,g,b,v]=(0,t.arePatternsQuoted)(a);let _,w,E;const O=this.nestedRecords,L=f!==void 0?y?this.getQuotedPatternKeys(O,f):u in O?[u]:[]:Object.keys(O);for(const F of L){_=O[F];const x=h!==void 0?g?this.getQuotedPatternKeys(_,h):c in _?[c]:[]:Object.keys(_);for(const P of x){w=_[P];const j=p!==void 0?b?this.getQuotedPatternKeys(w,p):l in w?[l]:[]:Object.keys(w);for(const N of j)E=w[N],m!==void 0?v?s+=[...this.getQuotedPatternKeys(E,m)].length:d in E&&s++:s+=Object.keys(E).length}}return s}};return qm.RdfStoreIndexNestedRecordQuoted=r,qm}var Nx={},aV;function k4e(){return aV||(aV=1,Object.defineProperty(Nx,"__esModule",{value:!0})),Nx}var Dx={},sV;function V4e(){return sV||(sV=1,Object.defineProperty(Dx,"__esModule",{value:!0})),Dx}var oV;function H4e(){return oV||(oV=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kee(),t),r(C4e(),t),r(L4e(),t),r(j4e(),t),r(Fee(),t),r(M4e(),t),r(Bee(),t),r(F4e(),t),r(B4e(),t),r(q4e(),t),r(h4(),t),r(qee(),t),r(Vee(),t),r($4e(),t),r(Hee(),t),r(U4e(),t),r(k4e(),t),r(Os(),t),r(V4e(),t),r($ee(),t)}(Rx)),Rx}var uV;function Qee(){if(uV)return Em;uV=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.storeStream=void 0;const t=H4e();function e(r){const n=t.RdfStore.createDefault();return new Promise((a,s)=>n.import(r).on("error",s).once("end",()=>a(n)))}return Em.storeStream=e,Em}var cV;function Q4e(){if(cV)return wm;cV=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.ActorQuerySourceIdentifyHypermediaNone=void 0;const t=f4(),e=Vr(),r=d4(),n=Qee();let a=class extends r.ActorQuerySourceIdentifyHypermedia{constructor(o){super(o,"file")}async testMetadata(o){return{filterFactor:0}}async run(o){this.logInfo(o.context,`Identified as file source: ${o.url}`);const u=new t.QuerySourceRdfJs(await(0,n.storeStream)(o.quads),await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context));return u.toString=()=>`QuerySourceRdfJs(${o.url})`,u.referenceValue=o.url,{source:u}}};return wm.ActorQuerySourceIdentifyHypermediaNone=a,wm}var lV;function z4e(){return lV||(lV=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Q4e(),t)}(Ex)),Ex}var Cx={},$m={},Lx={},Um={},km={},jx={},ac={},dV;function Rs(){if(dV)return ac;dV=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.asTermType=ac.ExpressionType=void 0;var t;(function(r){r.Aggregate="aggregate",r.Existence="existence",r.Named="named",r.Operator="operator",r.SpecialOperator="specialOperator",r.Term="term",r.Variable="variable",r.AsyncExtension="asyncExtension",r.SyncExtension="syncExtension"})(t||(ac.ExpressionType=t={}));function e(r){if(r==="namedNode"||r==="literal"||r==="blankNode"||r==="quad")return r}return ac.asTermType=e,ac}var Vm={},fV;function G4e(){if(fV)return Vm;fV=1,Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.Variable=void 0;const t=Rs();class e{constructor(n){this.expressionType=t.ExpressionType.Variable,this.name=n}}return Vm.Variable=e,Vm}var Rt={},Hm={},Mx={},hV;function ui(){return hV||(hV=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NamedOperators=t.SetFunctions=t.SetFunction=t.Operators=t.SpecialOperators=t.RegularOperators=t.SpecialOperator=t.RegularOperator=t.TypeURL=t.TypeAlias=void 0;var e;(function(o){o.SPARQL_NUMERIC="SPARQL_NUMERIC",o.SPARQL_STRINGLY="SPARQL_STRINGLY"})(e||(t.TypeAlias=e={}));var r;(function(o){o.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",o.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",o.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",o.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",o.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",o.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",o.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",o.XSD_G_MONTH="http://www.w3.org/2001/XMLSchema#gMonth",o.XSD_G_MONTHDAY="http://www.w3.org/2001/XMLSchema#gMonthDay",o.XSD_G_YEAR="http://www.w3.org/2001/XMLSchema#gYear",o.XSD_G_YEAR_MONTH="http://www.w3.org/2001/XMLSchema#gYearMonth",o.XSD_TIME="http://www.w3.org/2001/XMLSchema#time",o.XSD_G_DAY="http://www.w3.org/2001/XMLSchema#gDay",o.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",o.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",o.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",o.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",o.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",o.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",o.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",o.XSD_INT="http://www.w3.org/2001/XMLSchema#int",o.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",o.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",o.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",o.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",o.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",o.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",o.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",o.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",o.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",o.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",o.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",o.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",o.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",o.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",o.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",o.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",o.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",o.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",o.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",o.XSD_DAY_TIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"})(r||(t.TypeURL=r={}));var n;(function(o){o.NOT="!",o.UMINUS="uminus",o.UPLUS="uplus",o.EQUAL="=",o.NOT_EQUAL="!=",o.LT="<",o.GT=">",o.LTE="<=",o.GTE=">=",o.MULTIPLICATION="*",o.DIVISION="/",o.ADDITION="+",o.SUBTRACTION="-",o.IS_IRI="isiri",o.IS_URI="isuri",o.IS_BLANK="isblank",o.IS_LITERAL="isliteral",o.IS_NUMERIC="isnumeric",o.STR="str",o.LANG="lang",o.DATATYPE="datatype",o.IRI="iri",o.URI="uri",o.STRDT="strdt",o.STRLANG="strlang",o.UUID="uuid",o.STRUUID="struuid",o.STRLEN="strlen",o.SUBSTR="substr",o.UCASE="ucase",o.LCASE="lcase",o.STRSTARTS="strstarts",o.STRENDS="strends",o.CONTAINS="contains",o.STRBEFORE="strbefore",o.STRAFTER="strafter",o.ENCODE_FOR_URI="encode_for_uri",o.LANG_MATCHES="langmatches",o.REGEX="regex",o.REPLACE="replace",o.ABS="abs",o.ROUND="round",o.CEIL="ceil",o.FLOOR="floor",o.RAND="rand",o.NOW="now",o.YEAR="year",o.MONTH="month",o.DAY="day",o.HOURS="hours",o.MINUTES="minutes",o.SECONDS="seconds",o.TIMEZONE="timezone",o.TZ="tz",o.MD5="md5",o.SHA1="sha1",o.SHA256="sha256",o.SHA384="sha384",o.SHA512="sha512",o.TRIPLE="triple",o.SUBJECT="subject",o.PREDICATE="predicate",o.OBJECT="object",o.IS_TRIPLE="istriple"})(n||(t.RegularOperator=n={}));var a;(function(o){o.BOUND="bound",o.IF="if",o.COALESCE="coalesce",o.LOGICAL_OR="||",o.LOGICAL_AND="&&",o.SAME_TERM="sameterm",o.IN="in",o.NOT_IN="notin",o.CONCAT="concat",o.BNODE="bnode"})(a||(t.SpecialOperator=a={})),t.RegularOperators=new Set(Object.values(n)),t.SpecialOperators=new Set(Object.values(a)),t.Operators=new Set([...t.RegularOperators,...t.SpecialOperators]);var s;(function(o){o.COUNT="count",o.SUM="sum",o.MIN="min",o.MAX="max",o.AVG="avg",o.GROUP_CONCAT="group_concat",o.SAMPLE="sample"})(s||(t.SetFunction=s={})),t.SetFunctions=new Set(Object.values(s)),t.NamedOperators=new Set([r.XSD_STRING,r.XSD_FLOAT,r.XSD_DOUBLE,r.XSD_DECIMAL,r.XSD_INTEGER,r.XSD_DATE_TIME,r.XSD_DATE,r.XSD_BOOLEAN,r.XSD_TIME,r.XSD_DURATION,r.XSD_DAY_TIME_DURATION,r.XSD_YEAR_MONTH_DURATION])}(Mx)),Mx}var gt={},pV;function xn(){if(pV)return gt;pV=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.NoExistenceHook=gt.NoAggregator=gt.ExtensionFunctionError=gt.UnknownNamedOperator=gt.UnknownOperator=gt.InvalidTermType=gt.InvalidExpressionType=gt.InvalidExpression=gt.InvalidArity=gt.UnexpectedError=gt.ParseError=gt.EmptyAggregateError=gt.IncompatibleLanguageOperation=gt.InvalidTimezoneCall=gt.CastError=gt.InvalidCompareArgumentTypes=gt.InvalidArgumentTypes=gt.InError=gt.CoalesceError=gt.RDFEqualTypeError=gt.EBVCoercionError=gt.UnboundVariableError=gt.InvalidLexicalForm=gt.isExpressionError=gt.ExpressionError=void 0;class t extends Error{}gt.ExpressionError=t;function e(P){return P instanceof t}gt.isExpressionError=e;class r extends t{constructor(j){super(`Invalid lexical form '${x(j)}'`),this.arg=j}}gt.InvalidLexicalForm=r;class n extends t{constructor(j,N){super(`Unbound variable '${x(j)}'`),this.variable=j,this.bindings=N}}gt.UnboundVariableError=n;class a extends t{constructor(j){super(`Cannot coerce term to EBV '${x(j)}'`),this.arg=j}}gt.EBVCoercionError=a;class s extends t{constructor(j){super("Equality test for literals with unsupported datatypes"),this.args=j}}gt.RDFEqualTypeError=s;class o extends t{constructor(j){super("All COALESCE arguments threw errors"),this.errors=j}}gt.CoalesceError=o;class u extends t{constructor(j){super(`Some argument to IN errorred and none where equal. ${j.map(N=>`(${N.toString()}) `).join("and ")}`),this.errors=j}}gt.InError=u;class c extends t{constructor(j,N){super(`Argument types not valid for operator: '${x(N)}' with '${x(j)}`),this.args=j,this.op=N}}gt.InvalidArgumentTypes=c;class l extends t{constructor(j,N){super(`Compared argument types are supported: '${j.termType}' and '${N.termType}'`),this.arg0=j,this.arg1=N}}gt.InvalidCompareArgumentTypes=l;class d extends t{constructor(j,N){super(`Invalid cast: '${x(j)}' to '${x(N)}'`),this.arg=j}}gt.CastError=d;class f extends t{constructor(j){super(`TIMEZONE call on ${j} which has no timezone`),this.dateString=j}}gt.InvalidTimezoneCall=f;class h extends t{constructor(j,N){super(`Operation on incompatible language literals '${x(j)}' and '${x(N)}'`),this.arg1=j,this.arg2=N}}gt.IncompatibleLanguageOperation=h;class p extends t{constructor(){super("Empty aggregate expression")}}gt.EmptyAggregateError=p;class m extends t{constructor(j,N){super(`Failed to parse ${j} as ${N}.`)}}gt.ParseError=m;class y extends Error{constructor(j,N){super(`Programmer Error '${j}'`),this.payload=N}}gt.UnexpectedError=y;class g extends Error{constructor(j,N){super(`The number of args does not match the arity of the operator '${x(N)}'.`),this.args=j,this.op=N}}gt.InvalidArity=g;class b extends Error{constructor(j){super(`Invalid SPARQL Expression '${x(j)}'`)}}gt.InvalidExpression=b;class v extends Error{constructor(j){super(`Invalid expression type for SPARQL Expression '${x(j)}'`),this.expr=j}}gt.InvalidExpressionType=v;class _ extends Error{constructor(j){super(`Invalid term type for term '${x(j)}'`),this.term=j}}gt.InvalidTermType=_;class w extends Error{constructor(j){super(`Unknown operator: '${x(j)}`)}}gt.UnknownOperator=w;class E extends Error{constructor(j){super(`Unknown named operator: '${x(j)}'`)}}gt.UnknownNamedOperator=E;class O extends Error{constructor(j,N){N instanceof Error?super(`Error thrown in ${j}: ${N.message}${N.stack?`
${N.stack}`:""}`):super(`Error thrown in ${j}`)}}gt.ExtensionFunctionError=O;class L extends Error{constructor(j){super(`Aggregate expression ${x(j)} found, but no aggregate hook provided.`)}}gt.NoAggregator=L;class F extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}}gt.NoExistenceHook=F;function x(P){return JSON.stringify(P)}return gt}var Wr={},Wt={},yV;function jf(){if(yV)return Wt;yV=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.extractTimeZone=Wt.extractRawTimeZone=Wt.dayTimeDurationsToSeconds=Wt.yearMonthDurationsToMonths=Wt.trimToDayTimeDuration=Wt.trimToYearMonthDuration=Wt.toUTCDate=Wt.toJSDate=Wt.negateDuration=Wt.toDateTimeRepresentation=Wt.defaultedDateTimeRepresentation=Wt.simplifyDurationRepresentation=Wt.defaultedDurationRepresentation=Wt.defaultedYearMonthDurationRepresentation=Wt.defaultedDayTimeDurationRepresentation=void 0;function t(y){return{day:y.day??0,hours:y.hours??0,minutes:y.minutes??0,seconds:y.seconds??0}}Wt.defaultedDayTimeDurationRepresentation=t;function e(y){return{year:y.year??0,month:y.month??0}}Wt.defaultedYearMonthDurationRepresentation=e;function r(y){return{...t(y),...e(y)}}Wt.defaultedDurationRepresentation=r;function n(y){const g=r(y),b={},v=g.year+Math.trunc(g.month/12);v&&(b.year=v,g.month%=12),g.month&&(b.month=g.month);const _=g.day+Math.trunc(g.hours/24)+Math.trunc(g.minutes/(24*60))+Math.trunc(g.seconds/(24*60*60));_&&(b.day=_,g.hours%=24,g.minutes%=24*60,g.seconds%=24*60*60);const w=g.hours+Math.trunc(g.minutes/60)+Math.trunc(g.seconds/(60*60));w&&(b.hours=w,g.minutes%=60,g.seconds%=60*60);const E=g.minutes+Math.trunc(g.seconds/60);return E&&(b.minutes=E,g.seconds%=60),g.seconds&&(b.seconds=g.seconds),b}Wt.simplifyDurationRepresentation=n;function a(y){return{...y,day:y.day??1,hours:y.hours??0,month:y.month??1,year:y.year??0,seconds:y.seconds??0,minutes:y.minutes??0}}Wt.defaultedDateTimeRepresentation=a;function s({date:y,timeZone:g}){return{year:y.getFullYear(),month:y.getMonth()+1,day:y.getDate(),hours:y.getHours(),minutes:y.getMinutes(),seconds:y.getSeconds(),zoneHours:g.zoneHours,zoneMinutes:g.zoneMinutes}}Wt.toDateTimeRepresentation=s;function o(y){return{year:y.year===void 0?void 0:-1*y.year,month:y.month===void 0?void 0:-1*y.month,day:y.day===void 0?void 0:-1*y.day,hours:y.hours===void 0?void 0:-1*y.hours,minutes:y.minutes===void 0?void 0:-1*y.minutes,seconds:y.seconds===void 0?void 0:-1*y.seconds}}Wt.negateDuration=o;function u(y){const g=new Date(y.year,y.month-1,y.day,y.hours,y.minutes,Math.trunc(y.seconds),y.seconds%1*1e3);return y.year>=0&&y.year<100&&g.setFullYear(g.getFullYear()-1900),g}Wt.toJSDate=u;function c(y,g){const b=u(a(y)),v=b.getTimezoneOffset(),_=y.zoneHours??g.zoneHours,w=y.zoneMinutes??g.zoneMinutes;return new Date(b.getTime()-(v+_*60+w)*60*1e3)}Wt.toUTCDate=c;function l(y){return{year:y.year,month:y.month}}Wt.trimToYearMonthDuration=l;function d(y){return{day:y.day,hours:y.hours,minutes:y.minutes,seconds:y.seconds}}Wt.trimToDayTimeDuration=d;function f(y){return y.year*12+y.month}Wt.yearMonthDurationsToMonths=f;function h(y){return((y.day*24+y.hours)*60+y.minutes)*60+y.seconds}Wt.dayTimeDurationsToSeconds=h;function p(y){return/(Z|([+-]\d\d:\d\d))?$/u.exec(y)[0]}Wt.extractRawTimeZone=p;function m(y){return{zoneHours:y.getTimezoneOffset()/60,zoneMinutes:y.getTimezoneOffset()%60}}return Wt.extractTimeZone=m,Wt}var Hs={},mV;function zee(){if(mV)return Hs;mV=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.elapsedDuration=Hs.addDurationToDateTime=Hs.maximumDayInMonthFor=void 0;const t=jf();function e(s,o,u=0){const c=s-u,l=o-u,d=Math.floor(c/l);return{intDiv:d,remainder:s-d*l}}function r(s,o){const{intDiv:u,remainder:c}=e(o,13,1),l=s+u;return[1,3,5,7,8,10,12].includes(c)?31:[4,6,9,11].includes(c)?30:c===2&&(e(l,400).remainder===0||e(l,100).remainder!==0&&e(l,4).remainder===0)?29:28}Hs.maximumDayInMonthFor=r;function n(s,o){const u={...s};let c=e(s.month+o.month,13,1);for(u.month=c.remainder,u.year=s.year+o.year+c.intDiv,c=e(s.seconds+o.seconds,60),u.seconds=c.remainder,c=e(s.minutes+o.minutes+c.intDiv,60),u.minutes=c.remainder,c=e(s.hours+o.hours+c.intDiv,24),u.hours=c.remainder,u.day=s.day+o.day+c.intDiv;;){let l;if(u.day<1)u.day+=r(u.year,u.month-1),l=-1;else if(u.day>r(u.year,u.month))u.day-=r(u.year,u.month),l=1;else break;c=e(u.month+l,13,1),u.month=c.remainder,u.year+=c.intDiv}return u}Hs.addDurationToDateTime=n;function a(s,o,u){const c=(0,t.toUTCDate)(s,u),l=(0,t.toUTCDate)(o,u),d=c.getTime()-l.getTime();return{day:Math.floor(d/(1e3*60*60*24)),hours:Math.floor(d%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(d%(1e3*60*60)/(1e3*60)),seconds:d%(1e3*60)}}return Hs.elapsedDuration=a,Hs}var gV;function iN(){if(gV)return Wr;gV=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.parseDayTimeDuration=Wr.parseYearMonthDuration=Wr.parseDuration=Wr.parseTime=Wr.parseDate=Wr.parseDateTime=Wr.parseXSDInteger=Wr.parseXSDDecimal=Wr.parseXSDFloat=void 0;const t=jf(),e=xn(),r=zee();function n(m){const y=Number(m);return Number.isNaN(y)?m==="NaN"?Number.NaN:m==="INF"||m==="+INF"?Number.POSITIVE_INFINITY:m==="-INF"?Number.NEGATIVE_INFINITY:void 0:y}Wr.parseXSDFloat=n;function a(m){const y=Number(m);return Number.isNaN(y)?void 0:y}Wr.parseXSDDecimal=a;function s(m){const y=Number.parseInt(m,10);return Number.isNaN(y)?void 0:y}Wr.parseXSDInteger=s;function o(m){const[y,g]=m.split("T");return{...c(y),...l(g)}}Wr.parseDateTime=o;function u(m){if(m==="")return{zoneHours:void 0,zoneMinutes:void 0};if(m==="Z")return{zoneHours:0,zoneMinutes:0};const g=m.replaceAll(/^([+|-])(\d\d):(\d\d)$/gu,"$11!$2!$3").split("!").map(Number);return{zoneHours:g[0]*g[1],zoneMinutes:g[0]*g[2]}}function c(m){const y=m.replaceAll(/^(-)?([123456789]*\d{4})-(\d\d)-(\d\d)(Z|([+-]\d\d:\d\d))?$/gu,"$11!$2!$3!$4!$5");if(y===m)throw new e.ParseError(m,"date");const g=y.split("!"),b=g.slice(0,-1).map(Number),v={year:b[0]*b[1],month:b[2],day:b[3],...u(g[4])};if(!(v.month>=1&&v.month<=12)||!(v.day>=1&&v.day<=(0,r.maximumDayInMonthFor)(v.year,v.month)))throw new e.ParseError(m,"date");return v}Wr.parseDate=c;function l(m){const y=m.replaceAll(/^(\d\d):(\d\d):(\d\d(\.\d+)?)(Z|([+-]\d\d:\d\d))?$/gu,"$1!$2!$3!$5");if(y===m)throw new e.ParseError(m,"time");const g=y.split("!"),b=g.slice(0,-1).map(Number),v={hours:b[0],minutes:b[1],seconds:b[2],...u(g[3])};if(v.seconds>=60||v.minutes>=60||v.hours>24||v.hours===24&&(v.minutes!==0||v.seconds!==0))throw new e.ParseError(m,"time");return v}function d(m){const y=l(m);return y.hours%=24,y}Wr.parseTime=d;function f(m){const[y,g]=m.split("T"),b=y.replaceAll(/^(-)?P(\d+Y)?(\d+M)?(\d+D)?$/gu,"$11S!$2!$3!$4");if(b===y)throw new e.ParseError(m,"duration");const v=b.split("!");if(g!==void 0){const E=g.replaceAll(/^(\d+H)?(\d+M)?(\d+(\.\d+)?S)?$/gu,"$1!$2!$3");if(g===""||g===E)throw new e.ParseError(m,"duration");v.push(...E.split("!"))}const _=v.map(E=>E.slice(0,-1));if(!_.slice(1).some(Boolean))throw new e.ParseError(m,"duration");const w=Number(_[0]);return(0,t.simplifyDurationRepresentation)({year:_[1]?w*Number(_[1]):void 0,month:_[2]?w*Number(_[2]):void 0,day:_[3]?w*Number(_[3]):void 0,hours:_[4]?w*Number(_[4]):void 0,minutes:_[5]?w*Number(_[5]):void 0,seconds:_[6]?w*Number(_[6]):void 0})}Wr.parseDuration=f;function h(m){const y=f(m);if(["hours","minutes","seconds","day"].some(g=>!!y[g]))throw new e.ParseError(m,"yearMonthDuration");return y}Wr.parseYearMonthDuration=h;function p(m){const y=f(m);if(["year","month"].some(g=>!!y[g]))throw new e.ParseError(m,"dayTimeDuration");return y}return Wr.parseDayTimeDuration=p,Wr}var Fx={},vr={},Qm={},_V;function Gee(){if(_V)return Qm;_V=1,Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.OverloadTree=void 0;const t=Vi(),e=qT();let r=class aN{constructor(a,s){this.identifier=a,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=s??0,this.promotionCount=void 0}getSubtree(a){const s=(0,e.asGeneralType)(a);if(s)return this.generalOverloads[s];for(const[o,u]of this.literalOverLoads)if(a===o)return u}getImplementationExact(a){let s=this;for(const o of a)if(s=s.getSubtree(o),!s)return;return s.implementation}search(a,s,o){let u=o[this.identifier],c=0;for(;c<a.length&&(u!=null&&u.cache);){const f=a[c],h=(0,t.isLiteralTermExpression)(f);u=u.cache[h?h.dataType:f.termType],c++}if(c===a.length&&(u!=null&&u.func))return u.func;const l=[],d=0;if(a.length===0)return this.implementation;for(l.push(...this.getSubTreeWithArg(a[d],s).map(f=>({node:f,index:d+1})));l.length>0;){const{index:f,node:h}=l.pop();if(f===a.length&&h.implementation)return this.addToCache(o,a,h.implementation),h.implementation;l.push(...h.getSubTreeWithArg(a[f],s).map(p=>({node:p,index:f+1})))}}addToCache(a,s,o){function u(l,d){return d in l||(l[d]={}),l[d]}let c=u(a,this.identifier);for(const l of s){const d=(0,t.isLiteralTermExpression)(l),f=d?d.dataType:l.termType;c.cache=c.cache??{},c=u(c.cache,f)}c.func=o}addOverload(a,s){this._addOverload([...a],s,0)}_addOverload(a,s,o){const[u,...c]=a;if(!u){(this.promotionCount===void 0||o<=this.promotionCount)&&(this.promotionCount=o,this.implementation=s);return}let l=this.getSubtree(u);if(!l){const d=new aN(this.identifier,this.depth+1),f=(0,e.asGeneralType)(u);f&&(this.generalOverloads[f]=d);const h=(0,e.asOverrideType)(u);h&&this.literalOverLoads.push([h,d]),l=d}if(l._addOverload(c,s,o),e.typePromotion[u])for(const d of e.typePromotion[u])this.addPromotedOverload(d.typeToPromote,s,d.conversionFunction,c,o)}addPromotedOverload(a,s,o,u,c){let l=this.getSubtree(a);if(!l){const d=new aN(this.identifier,this.depth+1);this.literalOverLoads.push([a,d]),l=d}l._addOverload(u,d=>f=>s(d)([...f.slice(0,this.depth),o(f[this.depth]),...f.slice(this.depth+1,f.length)]),c+1)}getSubTreeWithArg(a,s){const o=[],u=(0,t.isLiteralTermExpression)(a);if(this.generalOverloads.term&&o.push(this.generalOverloads.term),this.generalOverloads[a.termType]&&o.push(this.generalOverloads[a.termType]),u){const c=(0,e.asKnownLiteralType)(u.dataType);let l;c?l=e.superTypeDictTable[c]:l=(0,e.getSuperTypes)(u.dataType,s);const d=this.literalOverLoads.filter(([f,h])=>f in l).map(([f,h])=>[l[f],h]);d.sort(([f,h],[p,m])=>f-p),o.push(...d.map(([f,h])=>h))}return o}};return Qm.OverloadTree=r,Qm}var bV;function xs(){if(bV)return vr;bV=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.expressionToVar=vr.dateTime=vr.langString=vr.string=vr.double=vr.float=vr.decimal=vr.integer=vr.bool=vr.Builder=vr.declare=void 0;const t=Ot,e=Vi(),r=Vi(),n=ui(),a=ui(),s=xn(),o=Gee(),u=new t.DataFactory;function c(_){return new l(_)}vr.declare=c;class l{constructor(w){this.overloadTree=new o.OverloadTree(w),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}static wrapInvalidLexicalProtected(w){return E=>O=>{for(const[L,F]of O.entries())if(F instanceof r.NonLexicalLiteral)throw new s.InvalidLexicalForm(O[L].toRDF());return w(E)(O)}}set(w,E,O=!0){return this.overloadTree.addOverload(w,O?l.wrapInvalidLexicalProtected(E):E),this}copy({from:w,to:E}){const O=this.overloadTree.getImplementationExact(w);if(!O)throw new s.UnexpectedError("Tried to copy implementation, but types not found",{from:w,to:E});return this.set(E,O)}onUnary(w,E,O=!0){return this.set([w],L=>([F])=>E(L)(F),O)}onUnaryTyped(w,E,O=!0){return this.set([w],L=>([F])=>E(L)(F.typedValue),O)}onBinary(w,E,O=!0){return this.set(w,L=>([F,x])=>E(L)(F,x),O)}onBinaryTyped(w,E,O=!0){return this.set(w,L=>([F,x])=>E(L)(F.typedValue,x.typedValue),O)}onTernaryTyped(w,E,O=!0){return this.set(w,L=>([F,x,P])=>E(L)(F.typedValue,x.typedValue,P.typedValue),O)}onTernary(w,E,O=!0){return this.set(w,L=>([F,x,P])=>E(L)(F,x,P),O)}onQuaternaryTyped(w,E,O=!0){return this.set(w,L=>([F,x,P,j])=>E(L)(F.typedValue,x.typedValue,P.typedValue,j.typedValue),O)}onTerm1(w,E=!1){return this.set(["term"],O=>([L])=>w(O)(L),E)}onTerm3(w){return this.set(["term","term","term"],E=>([O,L,F])=>w(E)(O,L,F))}onQuad1(w){return this.set(["quad"],E=>([O])=>w(E)(O))}onLiteral1(w,E=!0){return this.set(["literal"],O=>([L])=>w(O)(L),E)}onBoolean1(w,E=!0){return this.set([n.TypeURL.XSD_BOOLEAN],O=>([L])=>w(O)(L),E)}onBoolean1Typed(w,E=!0){return this.set([n.TypeURL.XSD_BOOLEAN],O=>([L])=>w(O)(L.typedValue),E)}onString1(w,E=!0){return this.set([n.TypeURL.XSD_STRING],O=>([L])=>w(O)(L),E)}onString1Typed(w,E=!0){return this.set([n.TypeURL.XSD_STRING],O=>([L])=>w(O)(L.typedValue),E)}onLangString1(w,E=!0){return this.set([n.TypeURL.RDF_LANG_STRING],O=>([L])=>w(O)(L),E)}onStringly1(w,E=!0){return this.set([n.TypeAlias.SPARQL_STRINGLY],O=>([L])=>w(O)(L),E)}onStringly1Typed(w,E=!0){return this.set([n.TypeAlias.SPARQL_STRINGLY],O=>([L])=>w(O)(L.typedValue),E)}onNumeric1(w,E=!0){return this.set([n.TypeAlias.SPARQL_NUMERIC],O=>([L])=>w(O)(L),E)}onDateTime1(w,E=!0){return this.set([n.TypeURL.XSD_DATE_TIME],O=>([L])=>w(O)(L),E)}numericConverter(w,E=!0){const O=L=>F=>w(L)(F.typedValue);return this.onUnary(a.TypeURL.XSD_INTEGER,L=>F=>f(O(L)(F)),E).onUnary(a.TypeURL.XSD_DECIMAL,L=>F=>h(O(L)(F)),E).onUnary(a.TypeURL.XSD_FLOAT,L=>F=>p(O(L)(F)),E).onUnary(a.TypeURL.XSD_DOUBLE,L=>F=>m(O(L)(F)),E)}arithmetic(w,E=!0){const O=L=>(F,x)=>w(L)(F.typedValue,x.typedValue);return this.onBinary([a.TypeURL.XSD_INTEGER,a.TypeURL.XSD_INTEGER],L=>(F,x)=>f(O(L)(F,x)),E).onBinary([a.TypeURL.XSD_DECIMAL,a.TypeURL.XSD_DECIMAL],L=>(F,x)=>h(O(L)(F,x)),E).onBinary([a.TypeURL.XSD_FLOAT,a.TypeURL.XSD_FLOAT],L=>(F,x)=>p(O(L)(F,x)),E).onBinary([a.TypeURL.XSD_DOUBLE,a.TypeURL.XSD_DOUBLE],L=>(F,x)=>m(O(L)(F,x)),E)}numberTest(w){return this.numeric(E=>([O,L])=>{const F=w(E)(O.typedValue,L.typedValue);return d(F)})}stringTest(w,E=!0){return this.set([n.TypeURL.XSD_STRING,n.TypeURL.XSD_STRING],O=>([L,F])=>{const x=w(O)(L.typedValue,F.typedValue);return d(x)},E)}booleanTest(w,E=!0){return this.set([n.TypeURL.XSD_BOOLEAN,n.TypeURL.XSD_BOOLEAN],O=>([L,F])=>{const x=w(O)(L.typedValue,F.typedValue);return d(x)},E)}dateTimeTest(w,E=!0){return this.set([n.TypeURL.XSD_DATE_TIME,n.TypeURL.XSD_DATE_TIME],O=>([L,F])=>{const x=w(O)(L.typedValue,F.typedValue);return d(x)},E)}numeric(w){return this.set([n.TypeAlias.SPARQL_NUMERIC,n.TypeAlias.SPARQL_NUMERIC],w)}}vr.Builder=l;function d(_){return new e.BooleanLiteral(_)}vr.bool=d;function f(_){return new e.IntegerLiteral(_)}vr.integer=f;function h(_){return new e.DecimalLiteral(_)}vr.decimal=h;function p(_){return new e.FloatLiteral(_)}vr.float=p;function m(_){return new e.DoubleLiteral(_)}vr.double=m;function y(_){return new e.StringLiteral(_)}vr.string=y;function g(_,w){return new e.LangStringLiteral(_,w)}vr.langString=g;function b(_,w){return new e.DateTimeLiteral(_,w)}vr.dateTime=b;function v(_){return u.variable(_.name.slice(1))}return vr.expressionToVar=v,vr}var vV;function qT(){return vV||(vV=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.typePromotion=t.isSubTypeOf=t.getSuperTypeDict=t.isInternalSubType=t.asGeneralType=t.asOverrideType=t.asKnownLiteralType=t.asTypeAlias=t.typeAliasCheck=t.extensionTableInit=t.getSuperTypes=t.superTypeDictTable=t.extensionTableInput=void 0;const e=Vi(),r=xs(),n=ui();t.extensionTableInput={[n.TypeURL.XSD_DATE_TIME_STAMP]:n.TypeURL.XSD_DATE_TIME,[n.TypeURL.XSD_DAY_TIME_DURATION]:n.TypeURL.XSD_DURATION,[n.TypeURL.XSD_YEAR_MONTH_DURATION]:n.TypeURL.XSD_DURATION,[n.TypeURL.RDF_LANG_STRING]:n.TypeAlias.SPARQL_STRINGLY,[n.TypeURL.XSD_STRING]:n.TypeAlias.SPARQL_STRINGLY,[n.TypeURL.XSD_NORMALIZED_STRING]:n.TypeURL.XSD_STRING,[n.TypeURL.XSD_TOKEN]:n.TypeURL.XSD_NORMALIZED_STRING,[n.TypeURL.XSD_LANGUAGE]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NM_TOKEN]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NAME]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NC_NAME]:n.TypeURL.XSD_NAME,[n.TypeURL.XSD_ENTITY]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_ID]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_ID_REF]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_DOUBLE]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_FLOAT]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_DECIMAL]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_INTEGER]:n.TypeURL.XSD_DECIMAL,[n.TypeURL.XSD_NON_POSITIVE_INTEGER]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_NEGATIVE_INTEGER]:n.TypeURL.XSD_NON_POSITIVE_INTEGER,[n.TypeURL.XSD_LONG]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_INT]:n.TypeURL.XSD_LONG,[n.TypeURL.XSD_SHORT]:n.TypeURL.XSD_INT,[n.TypeURL.XSD_BYTE]:n.TypeURL.XSD_SHORT,[n.TypeURL.XSD_NON_NEGATIVE_INTEGER]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_POSITIVE_INTEGER]:n.TypeURL.XSD_NON_NEGATIVE_INTEGER,[n.TypeURL.XSD_UNSIGNED_LONG]:n.TypeURL.XSD_NON_NEGATIVE_INTEGER,[n.TypeURL.XSD_UNSIGNED_INT]:n.TypeURL.XSD_UNSIGNED_LONG,[n.TypeURL.XSD_UNSIGNED_SHORT]:n.TypeURL.XSD_UNSIGNED_INT,[n.TypeURL.XSD_UNSIGNED_BYTE]:n.TypeURL.XSD_UNSIGNED_SHORT,[n.TypeURL.XSD_DATE_TIME]:"term",[n.TypeURL.XSD_BOOLEAN]:"term",[n.TypeURL.XSD_DATE]:"term",[n.TypeURL.XSD_G_MONTH]:"term",[n.TypeURL.XSD_G_MONTHDAY]:"term",[n.TypeURL.XSD_G_YEAR]:"term",[n.TypeURL.XSD_G_YEAR_MONTH]:"term",[n.TypeURL.XSD_TIME]:"term",[n.TypeURL.XSD_G_DAY]:"term",[n.TypeURL.XSD_DURATION]:"term",[n.TypeAlias.SPARQL_NUMERIC]:"term",[n.TypeAlias.SPARQL_STRINGLY]:"term",[n.TypeURL.XSD_ANY_URI]:"term"},t.superTypeDictTable=Object.create(null);function a(y,g){const b=g.cache.get(y);if(b)return b;const v=g.discoverer(y);if(v==="term"){const E=Object.create(null);return E.__depth=0,E[y]=0,g.cache.set(y,E),E}let _;const w=l(v);return w?_={...t.superTypeDictTable[w]}:_={...a(v,g)},_.__depth++,_[y]=_.__depth,g.cache.set(y,_),_}t.getSuperTypes=a;function s(){for(const[y,g]of Object.entries(t.extensionTableInput)){const b=y;t.superTypeDictTable[b]||o(b,g,t.superTypeDictTable)}}t.extensionTableInit=s,s();function o(y,g,b){if(g==="term"||g===void 0){const v=Object.create(null);v.__depth=0,v[y]=0,b[y]=v;return}b[g]||o(g,t.extensionTableInput[g],b),b[y]={...b[g],[y]:b[g].__depth+1,__depth:b[g].__depth+1}}t.typeAliasCheck=Object.create(null);function u(){for(const y of Object.values(n.TypeAlias))t.typeAliasCheck[y]=!0}u();function c(y){if(y in t.typeAliasCheck)return y}t.asTypeAlias=c;function l(y){if(y in t.superTypeDictTable)return y}t.asKnownLiteralType=l;function d(y){if(l(y)??y==="term")return y}t.asOverrideType=d;function f(y){if(y==="term"||(0,e.asTermType)(y))return y}t.asGeneralType=f;function h(y,g){return y!=="term"&&t.superTypeDictTable[y]&&t.superTypeDictTable[y][g]!==void 0}t.isInternalSubType=h;function p(y,g){const b=l(y);return b?t.superTypeDictTable[b]:a(y,g)}t.getSuperTypeDict=p;function m(y,g,b){return y==="term"?!1:p(y,b)[g]!==void 0}t.isSubTypeOf=m,t.typePromotion={[n.TypeURL.XSD_STRING]:[{typeToPromote:n.TypeURL.XSD_ANY_URI,conversionFunction:y=>(0,r.string)(y.str())}],[n.TypeURL.XSD_DOUBLE]:[{typeToPromote:n.TypeURL.XSD_FLOAT,conversionFunction:y=>(0,r.double)(y.typedValue)},{typeToPromote:n.TypeURL.XSD_DECIMAL,conversionFunction:y=>(0,r.double)(y.typedValue)}],[n.TypeURL.XSD_FLOAT]:[{typeToPromote:n.TypeURL.XSD_DECIMAL,conversionFunction:y=>(0,r.float)(y.typedValue)}]}}(Fx)),Fx}var wV;function vl(){if(wV)return Hm;wV=1,Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.TermTransformer=void 0;const t=nr,e=xt(),r=Vi(),n=ui(),a=xn(),s=xn(),o=iN(),u=iN(),c=qT();let l=class{constructor(f){this.superTypeProvider=f}transformRDFTermUnsafe(f){return this.transformTerm({term:f,type:e.Algebra.types.EXPRESSION,expressionType:e.Algebra.expressionTypes.TERM})}transformTerm(f){if(!f.term)throw new a.InvalidExpression(f);switch(f.term.termType){case"Variable":return new r.Variable(t.termToString(f.term));case"Literal":return this.transformLiteral(f.term);case"NamedNode":return new r.NamedNode(f.term.value);case"BlankNode":return new r.BlankNode(f.term.value);case"Quad":return new r.Quad(f.term,this.superTypeProvider);default:throw new a.InvalidTermType(f)}}transformLiteral(f){if(!f.datatype||[null,void 0,""].includes(f.datatype.value))return f.language?new r.LangStringLiteral(f.value,f.language):new r.StringLiteral(f.value);const h=f.datatype.value,p=(0,c.getSuperTypeDict)(h,this.superTypeProvider);try{if(n.TypeURL.XSD_STRING in p)return new r.StringLiteral(f.value,h);if(n.TypeURL.RDF_LANG_STRING in p)return new r.LangStringLiteral(f.value,f.language);if(n.TypeURL.XSD_YEAR_MONTH_DURATION in p)return new r.YearMonthDurationLiteral((0,o.parseYearMonthDuration)(f.value),f.value,h);if(n.TypeURL.XSD_DAY_TIME_DURATION in p)return new r.DayTimeDurationLiteral((0,o.parseDayTimeDuration)(f.value),f.value,h);if(n.TypeURL.XSD_DURATION in p)return new r.DurationLiteral((0,o.parseDuration)(f.value),f.value,h);if(n.TypeURL.XSD_DATE_TIME in p){const g=new Date(f.value);return Number.isNaN(g.getTime())?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):new r.DateTimeLiteral((0,o.parseDateTime)(f.value),f.value,h)}if(n.TypeURL.XSD_DATE in p)return new r.DateLiteral((0,o.parseDate)(f.value),f.value,h);if(n.TypeURL.XSD_TIME in p)return new r.TimeLiteral((0,o.parseTime)(f.value),f.value,h);if(n.TypeURL.XSD_BOOLEAN in p)return f.value!=="true"&&f.value!=="false"&&f.value!=="1"&&f.value!=="0"?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):new r.BooleanLiteral(f.value==="true"||f.value==="1",f.value);if(n.TypeURL.XSD_DECIMAL in p){const g=u.parseXSDDecimal(f.value);return g===void 0?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):n.TypeURL.XSD_INTEGER in p?new r.IntegerLiteral(g,h,f.value):new r.DecimalLiteral(g,h,f.value)}const m=n.TypeURL.XSD_FLOAT in p,y=n.TypeURL.XSD_DOUBLE in p;if(m||y){const g=u.parseXSDFloat(f.value);return g===void 0?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):m?new r.FloatLiteral(g,h,f.value):new r.DoubleLiteral(g,h,f.value)}return new r.Literal(f.value,h,f.value)}catch(m){if(m instanceof Error&&(0,s.isExpressionError)(m))return new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value);throw m}}};return Hm.TermTransformer=l,Hm}var Ia={},SV;function W4e(){if(SV)return Ia;SV=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.serializeDuration=Ia.serializeTime=Ia.serializeDate=Ia.serializeDateTime=void 0;function t(o,u=2){return o.toLocaleString(void 0,{minimumIntegerDigits:u,useGrouping:!1})}function e(o){return`${n({year:o.year,month:o.month,day:o.day})}T${a(o)}`}Ia.serializeDateTime=e;function r(o){return o.zoneHours===void 0||o.zoneMinutes===void 0?"":o.zoneHours===0&&o.zoneMinutes===0?"Z":`${o.zoneHours>=0?`+${t(o.zoneHours)}`:t(o.zoneHours)}:${t(Math.abs(o.zoneMinutes))}`}function n(o){return`${t(o.year,4)}-${t(o.month)}-${t(o.day)}${r(o)}`}Ia.serializeDate=n;function a(o){return`${t(o.hours)}:${t(o.minutes)}:${t(o.seconds)}${r(o)}`}Ia.serializeTime=a;function s(o,u="PT0S"){if(!Object.values(o).some(g=>(g||0)!==0))return u;const c=Object.values(o).some(g=>(g||0)<0)?"-":"",l=o.year?`${Math.abs(o.year)}Y`:"",d=o.month?`${Math.abs(o.month)}M`:"",f=o.day?`${Math.abs(o.day)}D`:"",h=`${c}P${l}${d}${f}`;if(!(o.hours||o.minutes||o.seconds))return h;const p=o.hours?`${Math.abs(o.hours)}H`:"",m=o.minutes?`${Math.abs(o.minutes)}M`:"",y=o.seconds?`${Math.abs(o.seconds)}S`:"";return`${h}T${p}${m}${y}`}return Ia.serializeDuration=s,Ia}var TV;function K4e(){if(TV)return Rt;TV=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.isNonLexicalLiteral=Rt.NonLexicalLiteral=Rt.YearMonthDurationLiteral=Rt.DayTimeDurationLiteral=Rt.DurationLiteral=Rt.DateLiteral=Rt.TimeLiteral=Rt.DateTimeLiteral=Rt.StringLiteral=Rt.LangStringLiteral=Rt.BooleanLiteral=Rt.DoubleLiteral=Rt.FloatLiteral=Rt.DecimalLiteral=Rt.IntegerLiteral=Rt.NumericLiteral=Rt.Literal=Rt.isLiteralTermExpression=Rt.Quad=Rt.BlankNode=Rt.NamedNode=Rt.Term=void 0;const t=Ot,e=vl(),r=ui(),n=ui(),a=xn(),s=W4e(),o=qT(),u=Rs(),c=new t.DataFactory;class l{constructor(){this.expressionType=u.ExpressionType.Term}str(){throw new a.InvalidArgumentTypes([this],r.RegularOperator.STR)}coerceEBV(){throw new a.EBVCoercionError(this)}}Rt.Term=l;class d extends l{constructor(H){super(),this.value=H,this.termType="namedNode"}toRDF(){return c.namedNode(this.value)}str(){return this.value}}Rt.NamedNode=d;class f extends l{constructor(H){super(),this.termType="blankNode",this.value=typeof H=="string"?c.blankNode(H):H}toRDF(){return this.value}}Rt.BlankNode=f;class h extends l{constructor(H,X){super(),this.termType="quad",this.transformer=new e.TermTransformer(X),this.valueTerm=H}toRDF(){return this.valueTerm}get subject(){return this.transformer.transformRDFTermUnsafe(this.RDFsubject)}get predicate(){return this.transformer.transformRDFTermUnsafe(this.RDFpredicate)}get object(){return this.transformer.transformRDFTermUnsafe(this.RDFobject)}get RDFsubject(){return this.toRDF().subject}get RDFpredicate(){return this.toRDF().predicate}get RDFobject(){return this.toRDF().object}}Rt.Quad=h;function p(q){if(q.termType==="literal")return q}Rt.isLiteralTermExpression=p;class m extends l{constructor(H,X,Y,he){super(),this.typedValue=H,this.dataType=X,this.strValue=Y,this.language=he,this.termType="literal"}toRDF(){return c.literal(this.strValue??this.str(),this.language??c.namedNode(this.dataType))}str(){return this.strValue??this.typedValue.toString()}}Rt.Literal=m;class y extends m{constructor(H,X,Y,he){super(H,X,Y,he),this.typedValue=H,this.strValue=Y,this.language=he}coerceEBV(){return!!this.typedValue}toRDF(){const H=super.toRDF();return Number.isFinite(this.typedValue)||(H.value=H.value.replace("Infinity","INF")),H}str(){return this.strValue??this.specificFormatter(this.typedValue)}}Rt.NumericLiteral=y;class g extends y{constructor(H,X,Y,he){super(H,X??n.TypeURL.XSD_INTEGER,Y,he),this.typedValue=H,this.strValue=Y,this.language=he}specificFormatter(H){return H.toFixed(0)}}Rt.IntegerLiteral=g;class b extends y{constructor(H,X,Y,he){super(H,X??n.TypeURL.XSD_DECIMAL,Y,he),this.typedValue=H,this.strValue=Y,this.language=he}specificFormatter(H){return H.toString()}}Rt.DecimalLiteral=b;class v extends y{constructor(H,X,Y,he){super(H,X??n.TypeURL.XSD_FLOAT,Y,he),this.typedValue=H,this.strValue=Y,this.language=he}specificFormatter(H){return H.toString()}}Rt.FloatLiteral=v;class _ extends y{constructor(H,X,Y,he){super(H,X??n.TypeURL.XSD_DOUBLE,Y,he),this.typedValue=H,this.strValue=Y,this.language=he}specificFormatter(H){if(!Number.isFinite(H))return H>0?"INF":H<0?"-INF":"NaN";const X=H.toExponential(),[Y,he]=X.split("e"),Te=he.replace(/\+/u,"");return`${Y.includes(".")?Y:`${Y}.0`}E${Te}`}}Rt.DoubleLiteral=_;class w extends m{constructor(H,X,Y){super(H,Y??n.TypeURL.XSD_BOOLEAN,X),this.typedValue=H,this.strValue=X}coerceEBV(){return this.typedValue}}Rt.BooleanLiteral=w;class E extends m{constructor(H,X,Y){super(H,Y??n.TypeURL.RDF_LANG_STRING,H,X),this.typedValue=H,this.language=X}coerceEBV(){return this.str().length>0}}Rt.LangStringLiteral=E;class O extends m{constructor(H,X){super(H,X??n.TypeURL.XSD_STRING,H),this.typedValue=H}coerceEBV(){return this.str().length>0}}Rt.StringLiteral=O;class L extends m{constructor(H,X,Y){super(H,Y??n.TypeURL.XSD_DATE_TIME,X),this.typedValue=H,this.strValue=X}str(){return(0,s.serializeDateTime)(this.typedValue)}}Rt.DateTimeLiteral=L;class F extends m{constructor(H,X,Y){super(H,Y??n.TypeURL.XSD_TIME,X),this.typedValue=H,this.strValue=X}str(){return(0,s.serializeTime)(this.typedValue)}}Rt.TimeLiteral=F;class x extends m{constructor(H,X,Y){super(H,Y??n.TypeURL.XSD_DATE,X),this.typedValue=H,this.strValue=X}str(){return(0,s.serializeDate)(this.typedValue)}}Rt.DateLiteral=x;class P extends m{constructor(H,X,Y){super(H,Y??n.TypeURL.XSD_DURATION,X),this.typedValue=H,this.strValue=X}str(){return(0,s.serializeDuration)(this.typedValue)}}Rt.DurationLiteral=P;class j extends P{constructor(H,X,Y){super(H,X,Y??n.TypeURL.XSD_DAY_TIME_DURATION),this.typedValue=H,this.strValue=X}}Rt.DayTimeDurationLiteral=j;class N extends m{constructor(H,X,Y){super(H,Y??n.TypeURL.XSD_YEAR_MONTH_DURATION,X),this.typedValue=H,this.strValue=X}str(){return(0,s.serializeDuration)(this.typedValue,"P0M")}}Rt.YearMonthDurationLiteral=N;class V extends m{constructor(H,X,Y,he,Te){super({toString:()=>"undefined"},X,he,Te),this.openWorldType=Y}coerceEBV(){if((0,o.isSubTypeOf)(this.dataType,n.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,o.isSubTypeOf)(this.dataType,n.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new a.EBVCoercionError(this)}toRDF(){return c.literal(this.str(),this.language??c.namedNode(this.dataType))}str(){return this.strValue??""}}Rt.NonLexicalLiteral=V;function $(q){if(q instanceof V)return q}return Rt.isNonLexicalLiteral=$,Rt}var zm={},EV;function J4e(){if(EV)return zm;EV=1,Object.defineProperty(zm,"__esModule",{value:!0}),zm.Operator=void 0;const t=Rs();let e=class{constructor(n,a){this.args=n,this.apply=a,this.expressionType=t.ExpressionType.Operator}};return zm.Operator=e,zm}var Gm={},AV;function X4e(){if(AV)return Gm;AV=1,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.SpecialOperator=void 0;const t=Rs();let e=class{constructor(n,a,s){this.args=n,this.applyAsync=a,this.applySynchronously=s,this.expressionType=t.ExpressionType.SpecialOperator}};return Gm.SpecialOperator=e,Gm}var Wm={},OV;function Y4e(){if(OV)return Wm;OV=1,Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.Named=void 0;const t=Rs();let e=class{constructor(n,a,s){this.name=n,this.args=a,this.apply=s,this.expressionType=t.ExpressionType.Named}};return Wm.Named=e,Wm}var Km={},RV;function Z4e(){if(RV)return Km;RV=1,Object.defineProperty(Km,"__esModule",{value:!0}),Km.Aggregate=void 0;const t=Rs();let e=class{constructor(n,a){this.name=n,this.expression=a,this.expressionType=t.ExpressionType.Aggregate}};return Km.Aggregate=e,Km}var Jm={},xV;function e6e(){if(xV)return Jm;xV=1,Object.defineProperty(Jm,"__esModule",{value:!0}),Jm.Existence=void 0;const t=Rs();let e=class{constructor(n){this.expression=n,this.expressionType=t.ExpressionType.Existence}};return Jm.Existence=e,Jm}var Xm={},IV;function t6e(){if(IV)return Xm;IV=1,Object.defineProperty(Xm,"__esModule",{value:!0}),Xm.AsyncExtension=void 0;const t=Rs();let e=class{constructor(n,a,s){this.name=n,this.args=a,this.apply=s,this.expressionType=t.ExpressionType.AsyncExtension}};return Xm.AsyncExtension=e,Xm}var Ym={},PV;function r6e(){if(PV)return Ym;PV=1,Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.SyncExtension=void 0;const t=Rs();let e=class{constructor(n,a,s){this.name=n,this.args=a,this.apply=s,this.expressionType=t.ExpressionType.SyncExtension}};return Ym.SyncExtension=e,Ym}var NV;function Vi(){return NV||(NV=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Rs(),t),r(G4e(),t),r(K4e(),t),r(J4e(),t),r(X4e(),t),r(Y4e(),t),r(Z4e(),t),r(e6e(),t),r(t6e(),t),r(r6e(),t)}(jx)),jx}var Bx={},Pa={},DV;function sN(){if(DV)return Pa;DV=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.SpecialFunction=Pa.NamedFunction=Pa.RegularFunction=Pa.BaseFunction=void 0;const t=xn();class e{constructor(u,c){this.operator=u,this.apply=(l,d)=>(this.monomorph(l,d.superTypeProvider,d.functionArgumentsCache)??this.handleInvalidTypes(l))(d)(l),this.arity=c.arity,this.overloads=c.overloads}monomorph(u,c,l){return this.overloads.search(u,c,l)}}Pa.BaseFunction=e;class r extends e{constructor(u,c){super(u,c),this.functionClass="regular"}handleInvalidTypes(u){throw new t.InvalidArgumentTypes(u,this.operator)}}Pa.RegularFunction=r;class n extends e{constructor(u,c){super(u,c),this.functionClass="named"}handleInvalidTypes(u){throw new t.InvalidArgumentTypes(u,this.operator)}}Pa.NamedFunction=n;class a{constructor(u,c){this.operator=u,this.functionClass="special",this.arity=c.arity,this.applySynchronously=c.applySynchronously,this.applyAsync=c.applyAsync,this.checkArity=c.checkArity??s(this.arity)}}Pa.SpecialFunction=a;function s(o){return u=>o===Number.POSITIVE_INFINITY?!0:u.length===o}return Pa}var Zm={},CV;function n6e(){if(CV)return Zm;CV=1,Object.defineProperty(Zm,"__esModule",{value:!0}),Zm.namedDefinitions=void 0;const t=Vi(),e=Vi(),r=ui(),n=jf(),a=xn(),s=iN(),o=xs(),u={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_STRING).onNumeric1(()=>_=>(0,o.string)((0,o.float)(_.typedValue).str())).onBoolean1Typed(()=>_=>(0,o.string)((0,o.bool)(_).str())).onTerm1(()=>_=>(0,o.string)(_.str())).collect()},c={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_FLOAT).onNumeric1(()=>_=>(0,o.float)(_.typedValue)).onBoolean1Typed(()=>_=>(0,o.float)(_?1:0)).onUnary(r.TypeURL.XSD_STRING,()=>_=>{const w=(0,s.parseXSDFloat)(_.str());if(w===void 0)throw new a.CastError(_,r.TypeURL.XSD_FLOAT);return(0,o.float)(w)},!1).collect()},l={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_DOUBLE).onNumeric1(()=>_=>(0,o.double)(_.typedValue)).onBoolean1Typed(()=>_=>(0,o.double)(_?1:0)).onUnary(r.TypeURL.XSD_STRING,()=>_=>{const w=(0,s.parseXSDFloat)(_.str());if(w===void 0)throw new a.CastError(_,r.TypeURL.XSD_DOUBLE);return(0,o.double)(w)},!1).collect()},d={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_DECIMAL).onNumeric1(()=>_=>{const w=(0,s.parseXSDDecimal)(_.str());if(w===void 0)throw new a.CastError(_,r.TypeURL.XSD_DECIMAL);return(0,o.decimal)(w)}).onString1(()=>_=>{const w=_.str(),E=/^([+-])?(\d+(\.\d+)?)$/u.test(w)?(0,s.parseXSDDecimal)(w):void 0;if(E===void 0)throw new a.CastError(_,r.TypeURL.XSD_DECIMAL);return(0,o.decimal)(E)},!1).onBoolean1Typed(()=>_=>(0,o.decimal)(_?1:0)).collect()},f={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>_=>(0,o.integer)(_?1:0)).onNumeric1(()=>_=>{const w=(0,s.parseXSDInteger)(_.str());if(w===void 0)throw new a.CastError(_,r.TypeURL.XSD_INTEGER);return(0,o.integer)(w)},!1).onString1(()=>_=>{const w=_.str(),E=/^\d+$/u.test(w)?(0,s.parseXSDInteger)(w):void 0;if(E===void 0)throw new a.CastError(_,r.TypeURL.XSD_INTEGER);return(0,o.integer)(E)}).collect()},h={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_DATE_TIME).onUnary(r.TypeURL.XSD_DATE_TIME,()=>_=>_).onUnary(r.TypeURL.XSD_STRING,()=>_=>(0,o.dateTime)((0,s.parseDateTime)(_.str()),_.str()),!1).onUnary(r.TypeURL.XSD_DATE,()=>_=>new t.DateTimeLiteral({..._.typedValue,hours:0,minutes:0,seconds:0})).collect()},p={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_BOOLEAN).onNumeric1(()=>_=>(0,o.bool)(_.coerceEBV()),!0).onUnary(r.TypeURL.XSD_BOOLEAN,()=>_=>(0,o.bool)(_.coerceEBV()),!0).onUnary(r.TypeURL.XSD_STRING,()=>_=>{switch(_.str()){case"true":return(0,o.bool)(!0);case"false":return(0,o.bool)(!1);case"1":return(0,o.bool)(!0);case"0":return(0,o.bool)(!1);default:throw new a.CastError(_,r.TypeURL.XSD_BOOLEAN)}},!1).collect()},m={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_TIME).onUnary(r.TypeURL.XSD_TIME,()=>_=>new t.TimeLiteral(_.typedValue,_.strValue)).onUnary(r.TypeURL.XSD_DATE_TIME,()=>_=>new t.TimeLiteral(_.typedValue)).onStringly1(()=>_=>new t.TimeLiteral((0,s.parseTime)(_.str()))).collect()},y={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_DATE).onUnary(r.TypeURL.XSD_DATE,()=>_=>new t.DateLiteral(_.typedValue,_.strValue)).onUnary(r.TypeURL.XSD_DATE_TIME,()=>_=>new t.DateLiteral(_.typedValue)).onStringly1(()=>_=>new t.DateLiteral((0,s.parseDate)(_.str()))).collect()},g={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_DURATION).onUnary(r.TypeURL.XSD_DURATION,()=>_=>new t.DurationLiteral(_.typedValue,_.strValue)).onStringly1(()=>_=>new e.DurationLiteral((0,s.parseDuration)(_.str()))).collect()},b={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_DAY_TIME_DURATION).onUnary(r.TypeURL.XSD_DURATION,()=>_=>new t.DayTimeDurationLiteral((0,n.trimToDayTimeDuration)(_.typedValue))).onStringly1(()=>_=>new t.DayTimeDurationLiteral((0,s.parseDayTimeDuration)(_.str()))).collect()},v={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_YEAR_MONTH_DURATION).onUnary(r.TypeURL.XSD_DURATION,()=>_=>new t.YearMonthDurationLiteral((0,n.trimToYearMonthDuration)(_.typedValue))).onStringly1(()=>_=>new t.YearMonthDurationLiteral((0,s.parseYearMonthDuration)(_.str()))).collect()};return Zm.namedDefinitions={[r.TypeURL.XSD_STRING]:u,[r.TypeURL.XSD_FLOAT]:c,[r.TypeURL.XSD_DOUBLE]:l,[r.TypeURL.XSD_DECIMAL]:d,[r.TypeURL.XSD_INTEGER]:f,[r.TypeURL.XSD_DATE_TIME]:h,[r.TypeURL.XSD_DATE]:y,[r.TypeURL.XSD_BOOLEAN]:p,[r.TypeURL.XSD_TIME]:m,[r.TypeURL.XSD_DURATION]:g,[r.TypeURL.XSD_DAY_TIME_DURATION]:b,[r.TypeURL.XSD_YEAR_MONTH_DURATION]:v},Zm}var eg={},qx={exports:{}},LV;function i6e(){return LV||(LV=1,function(t){(function(e){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,o="[BigNumber Error] ",u=o+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,p=1e9;function m(O){var L,F,x,P=ce.prototype={constructor:ce,toString:null,valueOf:null},j=new ce(1),N=20,V=4,$=-7,q=21,H=-1e7,X=1e7,Y=!1,he=1,Te=0,Ne={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},$e="0123456789abcdefghijklmnopqrstuvwxyz",de=!0;function ce(z,M){var k,T,R,U,G,Q,Z,se,re=this;if(!(re instanceof ce))return new ce(z,M);if(M==null){if(z&&z._isBigNumber===!0){re.s=z.s,!z.c||z.e>X?re.c=re.e=null:z.e<H?re.c=[re.e=0]:(re.e=z.e,re.c=z.c.slice());return}if((Q=typeof z=="number")&&z*0==0){if(re.s=1/z<0?(z=-z,-1):1,z===~~z){for(U=0,G=z;G>=10;G/=10,U++);U>X?re.c=re.e=null:(re.e=U,re.c=[z]);return}se=String(z)}else{if(!n.test(se=String(z)))return x(re,se,Q);re.s=se.charCodeAt(0)==45?(se=se.slice(1),-1):1}(U=se.indexOf("."))>-1&&(se=se.replace(".","")),(G=se.search(/e/i))>0?(U<0&&(U=G),U+=+se.slice(G+1),se=se.substring(0,G)):U<0&&(U=se.length)}else{if(v(M,2,$e.length,"Base"),M==10&&de)return re=new ce(z),Re(re,N+re.e+1,V);if(se=String(z),Q=typeof z=="number"){if(z*0!=0)return x(re,se,Q,M);if(re.s=1/z<0?(se=se.slice(1),-1):1,ce.DEBUG&&se.replace(/^0\.0*|\./,"").length>15)throw Error(u+z)}else re.s=se.charCodeAt(0)===45?(se=se.slice(1),-1):1;for(k=$e.slice(0,M),U=G=0,Z=se.length;G<Z;G++)if(k.indexOf(T=se.charAt(G))<0){if(T=="."){if(G>U){U=Z;continue}}else if(!R&&(se==se.toUpperCase()&&(se=se.toLowerCase())||se==se.toLowerCase()&&(se=se.toUpperCase()))){R=!0,G=-1,U=0;continue}return x(re,String(z),Q,M)}Q=!1,se=F(se,M,10,re.s),(U=se.indexOf("."))>-1?se=se.replace(".",""):U=se.length}for(G=0;se.charCodeAt(G)===48;G++);for(Z=se.length;se.charCodeAt(--Z)===48;);if(se=se.slice(G,++Z)){if(Z-=G,Q&&ce.DEBUG&&Z>15&&(z>d||z!==s(z)))throw Error(u+re.s*z);if((U=U-G-1)>X)re.c=re.e=null;else if(U<H)re.c=[re.e=0];else{if(re.e=U,re.c=[],G=(U+1)%l,U<0&&(G+=l),G<Z){for(G&&re.c.push(+se.slice(0,G)),Z-=l;G<Z;)re.c.push(+se.slice(G,G+=l));G=l-(se=se.slice(G)).length}else G-=Z;for(;G--;se+="0");re.c.push(+se)}}else re.c=[re.e=0]}ce.clone=m,ce.ROUND_UP=0,ce.ROUND_DOWN=1,ce.ROUND_CEIL=2,ce.ROUND_FLOOR=3,ce.ROUND_HALF_UP=4,ce.ROUND_HALF_DOWN=5,ce.ROUND_HALF_EVEN=6,ce.ROUND_HALF_CEIL=7,ce.ROUND_HALF_FLOOR=8,ce.EUCLID=9,ce.config=ce.set=function(z){var M,k;if(z!=null)if(typeof z=="object"){if(z.hasOwnProperty(M="DECIMAL_PLACES")&&(k=z[M],v(k,0,p,M),N=k),z.hasOwnProperty(M="ROUNDING_MODE")&&(k=z[M],v(k,0,8,M),V=k),z.hasOwnProperty(M="EXPONENTIAL_AT")&&(k=z[M],k&&k.pop?(v(k[0],-p,0,M),v(k[1],0,p,M),$=k[0],q=k[1]):(v(k,-p,p,M),$=-(q=k<0?-k:k))),z.hasOwnProperty(M="RANGE"))if(k=z[M],k&&k.pop)v(k[0],-p,-1,M),v(k[1],1,p,M),H=k[0],X=k[1];else if(v(k,-p,p,M),k)H=-(X=k<0?-k:k);else throw Error(o+M+" cannot be zero: "+k);if(z.hasOwnProperty(M="CRYPTO"))if(k=z[M],k===!!k)if(k)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Y=k;else throw Y=!k,Error(o+"crypto unavailable");else Y=k;else throw Error(o+M+" not true or false: "+k);if(z.hasOwnProperty(M="MODULO_MODE")&&(k=z[M],v(k,0,9,M),he=k),z.hasOwnProperty(M="POW_PRECISION")&&(k=z[M],v(k,0,p,M),Te=k),z.hasOwnProperty(M="FORMAT"))if(k=z[M],typeof k=="object")Ne=k;else throw Error(o+M+" not an object: "+k);if(z.hasOwnProperty(M="ALPHABET"))if(k=z[M],typeof k=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(k))de=k.slice(0,10)=="0123456789",$e=k;else throw Error(o+M+" invalid: "+k)}else throw Error(o+"Object expected: "+z);return{DECIMAL_PLACES:N,ROUNDING_MODE:V,EXPONENTIAL_AT:[$,q],RANGE:[H,X],CRYPTO:Y,MODULO_MODE:he,POW_PRECISION:Te,FORMAT:Ne,ALPHABET:$e}},ce.isBigNumber=function(z){if(!z||z._isBigNumber!==!0)return!1;if(!ce.DEBUG)return!0;var M,k,T=z.c,R=z.e,U=z.s;e:if({}.toString.call(T)=="[object Array]"){if((U===1||U===-1)&&R>=-p&&R<=p&&R===s(R)){if(T[0]===0){if(R===0&&T.length===1)return!0;break e}if(M=(R+1)%l,M<1&&(M+=l),String(T[0]).length==M){for(M=0;M<T.length;M++)if(k=T[M],k<0||k>=c||k!==s(k))break e;if(k!==0)return!0}}}else if(T===null&&R===null&&(U===null||U===1||U===-1))return!0;throw Error(o+"Invalid BigNumber: "+z)},ce.maximum=ce.max=function(){return Pe(arguments,-1)},ce.minimum=ce.min=function(){return Pe(arguments,1)},ce.random=function(){var z=9007199254740992,M=Math.random()*z&2097151?function(){return s(Math.random()*z)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(k){var T,R,U,G,Q,Z=0,se=[],re=new ce(j);if(k==null?k=N:v(k,0,p),G=a(k/l),Y)if(crypto.getRandomValues){for(T=crypto.getRandomValues(new Uint32Array(G*=2));Z<G;)Q=T[Z]*131072+(T[Z+1]>>>11),Q>=9e15?(R=crypto.getRandomValues(new Uint32Array(2)),T[Z]=R[0],T[Z+1]=R[1]):(se.push(Q%1e14),Z+=2);Z=G/2}else if(crypto.randomBytes){for(T=crypto.randomBytes(G*=7);Z<G;)Q=(T[Z]&31)*281474976710656+T[Z+1]*1099511627776+T[Z+2]*4294967296+T[Z+3]*16777216+(T[Z+4]<<16)+(T[Z+5]<<8)+T[Z+6],Q>=9e15?crypto.randomBytes(7).copy(T,Z):(se.push(Q%1e14),Z+=7);Z=G/7}else throw Y=!1,Error(o+"crypto unavailable");if(!Y)for(;Z<G;)Q=M(),Q<9e15&&(se[Z++]=Q%1e14);for(G=se[--Z],k%=l,G&&k&&(Q=f[l-k],se[Z]=s(G/Q)*Q);se[Z]===0;se.pop(),Z--);if(Z<0)se=[U=0];else{for(U=-1;se[0]===0;se.splice(0,1),U-=l);for(Z=1,Q=se[0];Q>=10;Q/=10,Z++);Z<l&&(U-=l-Z)}return re.e=U,re.c=se,re}}(),ce.sum=function(){for(var z=1,M=arguments,k=new ce(M[0]);z<M.length;)k=k.plus(M[z++]);return k},F=function(){var z="0123456789";function M(k,T,R,U){for(var G,Q=[0],Z,se=0,re=k.length;se<re;){for(Z=Q.length;Z--;Q[Z]*=T);for(Q[0]+=U.indexOf(k.charAt(se++)),G=0;G<Q.length;G++)Q[G]>R-1&&(Q[G+1]==null&&(Q[G+1]=0),Q[G+1]+=Q[G]/R|0,Q[G]%=R)}return Q.reverse()}return function(k,T,R,U,G){var Q,Z,se,re,le,pe,_e,Ie,Ee=k.indexOf("."),Me=N,Ce=V;for(Ee>=0&&(re=Te,Te=0,k=k.replace(".",""),Ie=new ce(T),pe=Ie.pow(k.length-Ee),Te=re,Ie.c=M(E(g(pe.c),pe.e,"0"),10,R,z),Ie.e=Ie.c.length),_e=M(k,T,R,G?(Q=$e,z):(Q=z,$e)),se=re=_e.length;_e[--re]==0;_e.pop());if(!_e[0])return Q.charAt(0);if(Ee<0?--se:(pe.c=_e,pe.e=se,pe.s=U,pe=L(pe,Ie,Me,Ce,R),_e=pe.c,le=pe.r,se=pe.e),Z=se+Me+1,Ee=_e[Z],re=R/2,le=le||Z<0||_e[Z+1]!=null,le=Ce<4?(Ee!=null||le)&&(Ce==0||Ce==(pe.s<0?3:2)):Ee>re||Ee==re&&(Ce==4||le||Ce==6&&_e[Z-1]&1||Ce==(pe.s<0?8:7)),Z<1||!_e[0])k=le?E(Q.charAt(1),-Me,Q.charAt(0)):Q.charAt(0);else{if(_e.length=Z,le)for(--R;++_e[--Z]>R;)_e[Z]=0,Z||(++se,_e=[1].concat(_e));for(re=_e.length;!_e[--re];);for(Ee=0,k="";Ee<=re;k+=Q.charAt(_e[Ee++]));k=E(k,se,Q.charAt(0))}return k}}(),L=function(){function z(T,R,U){var G,Q,Z,se,re=0,le=T.length,pe=R%h,_e=R/h|0;for(T=T.slice();le--;)Z=T[le]%h,se=T[le]/h|0,G=_e*Z+se*pe,Q=pe*Z+G%h*h+re,re=(Q/U|0)+(G/h|0)+_e*se,T[le]=Q%U;return re&&(T=[re].concat(T)),T}function M(T,R,U,G){var Q,Z;if(U!=G)Z=U>G?1:-1;else for(Q=Z=0;Q<U;Q++)if(T[Q]!=R[Q]){Z=T[Q]>R[Q]?1:-1;break}return Z}function k(T,R,U,G){for(var Q=0;U--;)T[U]-=Q,Q=T[U]<R[U]?1:0,T[U]=Q*G+T[U]-R[U];for(;!T[0]&&T.length>1;T.splice(0,1));}return function(T,R,U,G,Q){var Z,se,re,le,pe,_e,Ie,Ee,Me,Ce,ke,qe,W,D,B,K,ne,fe=T.s==R.s?1:-1,ge=T.c,Le=R.c;if(!ge||!ge[0]||!Le||!Le[0])return new ce(!T.s||!R.s||(ge?Le&&ge[0]==Le[0]:!Le)?NaN:ge&&ge[0]==0||!Le?fe*0:fe/0);for(Ee=new ce(fe),Me=Ee.c=[],se=T.e-R.e,fe=U+se+1,Q||(Q=c,se=y(T.e/l)-y(R.e/l),fe=fe/l|0),re=0;Le[re]==(ge[re]||0);re++);if(Le[re]>(ge[re]||0)&&se--,fe<0)Me.push(1),le=!0;else{for(D=ge.length,K=Le.length,re=0,fe+=2,pe=s(Q/(Le[0]+1)),pe>1&&(Le=z(Le,pe,Q),ge=z(ge,pe,Q),K=Le.length,D=ge.length),W=K,Ce=ge.slice(0,K),ke=Ce.length;ke<K;Ce[ke++]=0);ne=Le.slice(),ne=[0].concat(ne),B=Le[0],Le[1]>=Q/2&&B++;do{if(pe=0,Z=M(Le,Ce,K,ke),Z<0){if(qe=Ce[0],K!=ke&&(qe=qe*Q+(Ce[1]||0)),pe=s(qe/B),pe>1)for(pe>=Q&&(pe=Q-1),_e=z(Le,pe,Q),Ie=_e.length,ke=Ce.length;M(_e,Ce,Ie,ke)==1;)pe--,k(_e,K<Ie?ne:Le,Ie,Q),Ie=_e.length,Z=1;else pe==0&&(Z=pe=1),_e=Le.slice(),Ie=_e.length;if(Ie<ke&&(_e=[0].concat(_e)),k(Ce,_e,ke,Q),ke=Ce.length,Z==-1)for(;M(Le,Ce,K,ke)<1;)pe++,k(Ce,K<ke?ne:Le,ke,Q),ke=Ce.length}else Z===0&&(pe++,Ce=[0]);Me[re++]=pe,Ce[0]?Ce[ke++]=ge[W]||0:(Ce=[ge[W]],ke=1)}while((W++<D||Ce[0]!=null)&&fe--);le=Ce[0]!=null,Me[0]||Me.splice(0,1)}if(Q==c){for(re=1,fe=Me[0];fe>=10;fe/=10,re++);Re(Ee,U+(Ee.e=re+se*l-1)+1,G,le)}else Ee.e=se,Ee.r=+le;return Ee}}();function xe(z,M,k,T){var R,U,G,Q,Z;if(k==null?k=V:v(k,0,8),!z.c)return z.toString();if(R=z.c[0],G=z.e,M==null)Z=g(z.c),Z=T==1||T==2&&(G<=$||G>=q)?w(Z,G):E(Z,G,"0");else if(z=Re(new ce(z),M,k),U=z.e,Z=g(z.c),Q=Z.length,T==1||T==2&&(M<=U||U<=$)){for(;Q<M;Z+="0",Q++);Z=w(Z,U)}else if(M-=G,Z=E(Z,U,"0"),U+1>Q){if(--M>0)for(Z+=".";M--;Z+="0");}else if(M+=U-Q,M>0)for(U+1==Q&&(Z+=".");M--;Z+="0");return z.s<0&&R?"-"+Z:Z}function Pe(z,M){for(var k,T,R=1,U=new ce(z[0]);R<z.length;R++)T=new ce(z[R]),(!T.s||(k=b(U,T))===M||k===0&&U.s===M)&&(U=T);return U}function we(z,M,k){for(var T=1,R=M.length;!M[--R];M.pop());for(R=M[0];R>=10;R/=10,T++);return(k=T+k*l-1)>X?z.c=z.e=null:k<H?z.c=[z.e=0]:(z.e=k,z.c=M),z}x=function(){var z=/^(-?)0([xbo])(?=\w[\w.]*$)/i,M=/^([^.]+)\.$/,k=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,R=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(U,G,Q,Z){var se,re=Q?G:G.replace(R,"");if(T.test(re))U.s=isNaN(re)?null:re<0?-1:1;else{if(!Q&&(re=re.replace(z,function(le,pe,_e){return se=(_e=_e.toLowerCase())=="x"?16:_e=="b"?2:8,!Z||Z==se?pe:le}),Z&&(se=Z,re=re.replace(M,"$1").replace(k,"0.$1")),G!=re))return new ce(re,se);if(ce.DEBUG)throw Error(o+"Not a"+(Z?" base "+Z:"")+" number: "+G);U.s=null}U.c=U.e=null}}();function Re(z,M,k,T){var R,U,G,Q,Z,se,re,le=z.c,pe=f;if(le){e:{for(R=1,Q=le[0];Q>=10;Q/=10,R++);if(U=M-R,U<0)U+=l,G=M,Z=le[se=0],re=s(Z/pe[R-G-1]%10);else if(se=a((U+1)/l),se>=le.length)if(T){for(;le.length<=se;le.push(0));Z=re=0,R=1,U%=l,G=U-l+1}else break e;else{for(Z=Q=le[se],R=1;Q>=10;Q/=10,R++);U%=l,G=U-l+R,re=G<0?0:s(Z/pe[R-G-1]%10)}if(T=T||M<0||le[se+1]!=null||(G<0?Z:Z%pe[R-G-1]),T=k<4?(re||T)&&(k==0||k==(z.s<0?3:2)):re>5||re==5&&(k==4||T||k==6&&(U>0?G>0?Z/pe[R-G]:0:le[se-1])%10&1||k==(z.s<0?8:7)),M<1||!le[0])return le.length=0,T?(M-=z.e+1,le[0]=pe[(l-M%l)%l],z.e=-M||0):le[0]=z.e=0,z;if(U==0?(le.length=se,Q=1,se--):(le.length=se+1,Q=pe[l-U],le[se]=G>0?s(Z/pe[R-G]%pe[G])*Q:0),T)for(;;)if(se==0){for(U=1,G=le[0];G>=10;G/=10,U++);for(G=le[0]+=Q,Q=1;G>=10;G/=10,Q++);U!=Q&&(z.e++,le[0]==c&&(le[0]=1));break}else{if(le[se]+=Q,le[se]!=c)break;le[se--]=0,Q=1}for(U=le.length;le[--U]===0;le.pop());}z.e>X?z.c=z.e=null:z.e<H&&(z.c=[z.e=0])}return z}function Se(z){var M,k=z.e;return k===null?z.toString():(M=g(z.c),M=k<=$||k>=q?w(M,k):E(M,k,"0"),z.s<0?"-"+M:M)}return P.absoluteValue=P.abs=function(){var z=new ce(this);return z.s<0&&(z.s=1),z},P.comparedTo=function(z,M){return b(this,new ce(z,M))},P.decimalPlaces=P.dp=function(z,M){var k,T,R,U=this;if(z!=null)return v(z,0,p),M==null?M=V:v(M,0,8),Re(new ce(U),z+U.e+1,M);if(!(k=U.c))return null;if(T=((R=k.length-1)-y(this.e/l))*l,R=k[R])for(;R%10==0;R/=10,T--);return T<0&&(T=0),T},P.dividedBy=P.div=function(z,M){return L(this,new ce(z,M),N,V)},P.dividedToIntegerBy=P.idiv=function(z,M){return L(this,new ce(z,M),0,1)},P.exponentiatedBy=P.pow=function(z,M){var k,T,R,U,G,Q,Z,se,re,le=this;if(z=new ce(z),z.c&&!z.isInteger())throw Error(o+"Exponent not an integer: "+Se(z));if(M!=null&&(M=new ce(M)),Q=z.e>14,!le.c||!le.c[0]||le.c[0]==1&&!le.e&&le.c.length==1||!z.c||!z.c[0])return re=new ce(Math.pow(+Se(le),Q?z.s*(2-_(z)):+Se(z))),M?re.mod(M):re;if(Z=z.s<0,M){if(M.c?!M.c[0]:!M.s)return new ce(NaN);T=!Z&&le.isInteger()&&M.isInteger(),T&&(le=le.mod(M))}else{if(z.e>9&&(le.e>0||le.e<-1||(le.e==0?le.c[0]>1||Q&&le.c[1]>=24e7:le.c[0]<8e13||Q&&le.c[0]<=9999975e7)))return U=le.s<0&&_(z)?-0:0,le.e>-1&&(U=1/U),new ce(Z?1/U:U);Te&&(U=a(Te/l+2))}for(Q?(k=new ce(.5),Z&&(z.s=1),se=_(z)):(R=Math.abs(+Se(z)),se=R%2),re=new ce(j);;){if(se){if(re=re.times(le),!re.c)break;U?re.c.length>U&&(re.c.length=U):T&&(re=re.mod(M))}if(R){if(R=s(R/2),R===0)break;se=R%2}else if(z=z.times(k),Re(z,z.e+1,1),z.e>14)se=_(z);else{if(R=+Se(z),R===0)break;se=R%2}le=le.times(le),U?le.c&&le.c.length>U&&(le.c.length=U):T&&(le=le.mod(M))}return T?re:(Z&&(re=j.div(re)),M?re.mod(M):U?Re(re,Te,V,G):re)},P.integerValue=function(z){var M=new ce(this);return z==null?z=V:v(z,0,8),Re(M,M.e+1,z)},P.isEqualTo=P.eq=function(z,M){return b(this,new ce(z,M))===0},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(z,M){return b(this,new ce(z,M))>0},P.isGreaterThanOrEqualTo=P.gte=function(z,M){return(M=b(this,new ce(z,M)))===1||M===0},P.isInteger=function(){return!!this.c&&y(this.e/l)>this.c.length-2},P.isLessThan=P.lt=function(z,M){return b(this,new ce(z,M))<0},P.isLessThanOrEqualTo=P.lte=function(z,M){return(M=b(this,new ce(z,M)))===-1||M===0},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&this.c[0]==0},P.minus=function(z,M){var k,T,R,U,G=this,Q=G.s;if(z=new ce(z,M),M=z.s,!Q||!M)return new ce(NaN);if(Q!=M)return z.s=-M,G.plus(z);var Z=G.e/l,se=z.e/l,re=G.c,le=z.c;if(!Z||!se){if(!re||!le)return re?(z.s=-M,z):new ce(le?G:NaN);if(!re[0]||!le[0])return le[0]?(z.s=-M,z):new ce(re[0]?G:V==3?-0:0)}if(Z=y(Z),se=y(se),re=re.slice(),Q=Z-se){for((U=Q<0)?(Q=-Q,R=re):(se=Z,R=le),R.reverse(),M=Q;M--;R.push(0));R.reverse()}else for(T=(U=(Q=re.length)<(M=le.length))?Q:M,Q=M=0;M<T;M++)if(re[M]!=le[M]){U=re[M]<le[M];break}if(U&&(R=re,re=le,le=R,z.s=-z.s),M=(T=le.length)-(k=re.length),M>0)for(;M--;re[k++]=0);for(M=c-1;T>Q;){if(re[--T]<le[T]){for(k=T;k&&!re[--k];re[k]=M);--re[k],re[T]+=c}re[T]-=le[T]}for(;re[0]==0;re.splice(0,1),--se);return re[0]?we(z,re,se):(z.s=V==3?-1:1,z.c=[z.e=0],z)},P.modulo=P.mod=function(z,M){var k,T,R=this;return z=new ce(z,M),!R.c||!z.s||z.c&&!z.c[0]?new ce(NaN):!z.c||R.c&&!R.c[0]?new ce(R):(he==9?(T=z.s,z.s=1,k=L(R,z,0,3),z.s=T,k.s*=T):k=L(R,z,0,he),z=R.minus(k.times(z)),!z.c[0]&&he==1&&(z.s=R.s),z)},P.multipliedBy=P.times=function(z,M){var k,T,R,U,G,Q,Z,se,re,le,pe,_e,Ie,Ee,Me,Ce=this,ke=Ce.c,qe=(z=new ce(z,M)).c;if(!ke||!qe||!ke[0]||!qe[0])return!Ce.s||!z.s||ke&&!ke[0]&&!qe||qe&&!qe[0]&&!ke?z.c=z.e=z.s=null:(z.s*=Ce.s,!ke||!qe?z.c=z.e=null:(z.c=[0],z.e=0)),z;for(T=y(Ce.e/l)+y(z.e/l),z.s*=Ce.s,Z=ke.length,le=qe.length,Z<le&&(Ie=ke,ke=qe,qe=Ie,R=Z,Z=le,le=R),R=Z+le,Ie=[];R--;Ie.push(0));for(Ee=c,Me=h,R=le;--R>=0;){for(k=0,pe=qe[R]%Me,_e=qe[R]/Me|0,G=Z,U=R+G;U>R;)se=ke[--G]%Me,re=ke[G]/Me|0,Q=_e*se+re*pe,se=pe*se+Q%Me*Me+Ie[U]+k,k=(se/Ee|0)+(Q/Me|0)+_e*re,Ie[U--]=se%Ee;Ie[U]=k}return k?++T:Ie.splice(0,1),we(z,Ie,T)},P.negated=function(){var z=new ce(this);return z.s=-z.s||null,z},P.plus=function(z,M){var k,T=this,R=T.s;if(z=new ce(z,M),M=z.s,!R||!M)return new ce(NaN);if(R!=M)return z.s=-M,T.minus(z);var U=T.e/l,G=z.e/l,Q=T.c,Z=z.c;if(!U||!G){if(!Q||!Z)return new ce(R/0);if(!Q[0]||!Z[0])return Z[0]?z:new ce(Q[0]?T:R*0)}if(U=y(U),G=y(G),Q=Q.slice(),R=U-G){for(R>0?(G=U,k=Z):(R=-R,k=Q),k.reverse();R--;k.push(0));k.reverse()}for(R=Q.length,M=Z.length,R-M<0&&(k=Z,Z=Q,Q=k,M=R),R=0;M;)R=(Q[--M]=Q[M]+Z[M]+R)/c|0,Q[M]=c===Q[M]?0:Q[M]%c;return R&&(Q=[R].concat(Q),++G),we(z,Q,G)},P.precision=P.sd=function(z,M){var k,T,R,U=this;if(z!=null&&z!==!!z)return v(z,1,p),M==null?M=V:v(M,0,8),Re(new ce(U),z,M);if(!(k=U.c))return null;if(R=k.length-1,T=R*l+1,R=k[R]){for(;R%10==0;R/=10,T--);for(R=k[0];R>=10;R/=10,T++);}return z&&U.e+1>T&&(T=U.e+1),T},P.shiftedBy=function(z){return v(z,-d,d),this.times("1e"+z)},P.squareRoot=P.sqrt=function(){var z,M,k,T,R,U=this,G=U.c,Q=U.s,Z=U.e,se=N+4,re=new ce("0.5");if(Q!==1||!G||!G[0])return new ce(!Q||Q<0&&(!G||G[0])?NaN:G?U:1/0);if(Q=Math.sqrt(+Se(U)),Q==0||Q==1/0?(M=g(G),(M.length+Z)%2==0&&(M+="0"),Q=Math.sqrt(+M),Z=y((Z+1)/2)-(Z<0||Z%2),Q==1/0?M="5e"+Z:(M=Q.toExponential(),M=M.slice(0,M.indexOf("e")+1)+Z),k=new ce(M)):k=new ce(Q+""),k.c[0]){for(Z=k.e,Q=Z+se,Q<3&&(Q=0);;)if(R=k,k=re.times(R.plus(L(U,R,se,1))),g(R.c).slice(0,Q)===(M=g(k.c)).slice(0,Q))if(k.e<Z&&--Q,M=M.slice(Q-3,Q+1),M=="9999"||!T&&M=="4999"){if(!T&&(Re(R,R.e+N+2,0),R.times(R).eq(U))){k=R;break}se+=4,Q+=4,T=1}else{(!+M||!+M.slice(1)&&M.charAt(0)=="5")&&(Re(k,k.e+N+2,1),z=!k.times(k).eq(U));break}}return Re(k,k.e+N+1,V,z)},P.toExponential=function(z,M){return z!=null&&(v(z,0,p),z++),xe(this,z,M,1)},P.toFixed=function(z,M){return z!=null&&(v(z,0,p),z=z+this.e+1),xe(this,z,M)},P.toFormat=function(z,M,k){var T,R=this;if(k==null)z!=null&&M&&typeof M=="object"?(k=M,M=null):z&&typeof z=="object"?(k=z,z=M=null):k=Ne;else if(typeof k!="object")throw Error(o+"Argument not an object: "+k);if(T=R.toFixed(z,M),R.c){var U,G=T.split("."),Q=+k.groupSize,Z=+k.secondaryGroupSize,se=k.groupSeparator||"",re=G[0],le=G[1],pe=R.s<0,_e=pe?re.slice(1):re,Ie=_e.length;if(Z&&(U=Q,Q=Z,Z=U,Ie-=U),Q>0&&Ie>0){for(U=Ie%Q||Q,re=_e.substr(0,U);U<Ie;U+=Q)re+=se+_e.substr(U,Q);Z>0&&(re+=se+_e.slice(U)),pe&&(re="-"+re)}T=le?re+(k.decimalSeparator||"")+((Z=+k.fractionGroupSize)?le.replace(new RegExp("\\d{"+Z+"}\\B","g"),"$&"+(k.fractionGroupSeparator||"")):le):re}return(k.prefix||"")+T+(k.suffix||"")},P.toFraction=function(z){var M,k,T,R,U,G,Q,Z,se,re,le,pe,_e=this,Ie=_e.c;if(z!=null&&(Q=new ce(z),!Q.isInteger()&&(Q.c||Q.s!==1)||Q.lt(j)))throw Error(o+"Argument "+(Q.isInteger()?"out of range: ":"not an integer: ")+Se(Q));if(!Ie)return new ce(_e);for(M=new ce(j),se=k=new ce(j),T=Z=new ce(j),pe=g(Ie),U=M.e=pe.length-_e.e-1,M.c[0]=f[(G=U%l)<0?l+G:G],z=!z||Q.comparedTo(M)>0?U>0?M:se:Q,G=X,X=1/0,Q=new ce(pe),Z.c[0]=0;re=L(Q,M,0,1),R=k.plus(re.times(T)),R.comparedTo(z)!=1;)k=T,T=R,se=Z.plus(re.times(R=se)),Z=R,M=Q.minus(re.times(R=M)),Q=R;return R=L(z.minus(k),T,0,1),Z=Z.plus(R.times(se)),k=k.plus(R.times(T)),Z.s=se.s=_e.s,U=U*2,le=L(se,T,U,V).minus(_e).abs().comparedTo(L(Z,k,U,V).minus(_e).abs())<1?[se,T]:[Z,k],X=G,le},P.toNumber=function(){return+Se(this)},P.toPrecision=function(z,M){return z!=null&&v(z,1,p),xe(this,z,M,2)},P.toString=function(z){var M,k=this,T=k.s,R=k.e;return R===null?T?(M="Infinity",T<0&&(M="-"+M)):M="NaN":(z==null?M=R<=$||R>=q?w(g(k.c),R):E(g(k.c),R,"0"):z===10&&de?(k=Re(new ce(k),N+R+1,V),M=E(g(k.c),k.e,"0")):(v(z,2,$e.length,"Base"),M=F(E(g(k.c),R,"0"),10,z,T,!0)),T<0&&k.c[0]&&(M="-"+M)),M},P.valueOf=P.toJSON=function(){return Se(this)},P._isBigNumber=!0,O!=null&&ce.set(O),ce}function y(O){var L=O|0;return O>0||O===L?L:L-1}function g(O){for(var L,F,x=1,P=O.length,j=O[0]+"";x<P;){for(L=O[x++]+"",F=l-L.length;F--;L="0"+L);j+=L}for(P=j.length;j.charCodeAt(--P)===48;);return j.slice(0,P+1||1)}function b(O,L){var F,x,P=O.c,j=L.c,N=O.s,V=L.s,$=O.e,q=L.e;if(!N||!V)return null;if(F=P&&!P[0],x=j&&!j[0],F||x)return F?x?0:-V:N;if(N!=V)return N;if(F=N<0,x=$==q,!P||!j)return x?0:!P^F?1:-1;if(!x)return $>q^F?1:-1;for(V=($=P.length)<(q=j.length)?$:q,N=0;N<V;N++)if(P[N]!=j[N])return P[N]>j[N]^F?1:-1;return $==q?0:$>q^F?1:-1}function v(O,L,F,x){if(O<L||O>F||O!==s(O))throw Error(o+(x||"Argument")+(typeof O=="number"?O<L||O>F?" out of range: ":" not an integer: ":" not a primitive number: ")+String(O))}function _(O){var L=O.c.length-1;return y(O.e/l)==L&&O.c[L]%2!=0}function w(O,L){return(O.length>1?O.charAt(0)+"."+O.slice(1):O)+(L<0?"e":"e+")+L}function E(O,L,F){var x,P;if(L<0){for(P=F+".";++L;P+=F);O=P+O}else if(x=O.length,++L>x){for(P=F,L-=x;--L;P+=F);O+=P}else L<x&&(O=O.slice(0,L)+"."+O.slice(L));return O}r=m(),r.default=r.BigNumber=r,t.exports?t.exports=r:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=r)})(I)}(qx)),qx.exports}var $x={exports:{}},jV;function a6e(){return jV||(jV=1,function(t,e){(function(r){t.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function a(b,v){var _=b[0],w=b[1],E=b[2],O=b[3];_+=(w&E|~w&O)+v[0]-680876936|0,_=(_<<7|_>>>25)+w|0,O+=(_&w|~_&E)+v[1]-389564586|0,O=(O<<12|O>>>20)+_|0,E+=(O&_|~O&w)+v[2]+606105819|0,E=(E<<17|E>>>15)+O|0,w+=(E&O|~E&_)+v[3]-1044525330|0,w=(w<<22|w>>>10)+E|0,_+=(w&E|~w&O)+v[4]-176418897|0,_=(_<<7|_>>>25)+w|0,O+=(_&w|~_&E)+v[5]+1200080426|0,O=(O<<12|O>>>20)+_|0,E+=(O&_|~O&w)+v[6]-1473231341|0,E=(E<<17|E>>>15)+O|0,w+=(E&O|~E&_)+v[7]-45705983|0,w=(w<<22|w>>>10)+E|0,_+=(w&E|~w&O)+v[8]+1770035416|0,_=(_<<7|_>>>25)+w|0,O+=(_&w|~_&E)+v[9]-1958414417|0,O=(O<<12|O>>>20)+_|0,E+=(O&_|~O&w)+v[10]-42063|0,E=(E<<17|E>>>15)+O|0,w+=(E&O|~E&_)+v[11]-1990404162|0,w=(w<<22|w>>>10)+E|0,_+=(w&E|~w&O)+v[12]+1804603682|0,_=(_<<7|_>>>25)+w|0,O+=(_&w|~_&E)+v[13]-40341101|0,O=(O<<12|O>>>20)+_|0,E+=(O&_|~O&w)+v[14]-1502002290|0,E=(E<<17|E>>>15)+O|0,w+=(E&O|~E&_)+v[15]+1236535329|0,w=(w<<22|w>>>10)+E|0,_+=(w&O|E&~O)+v[1]-165796510|0,_=(_<<5|_>>>27)+w|0,O+=(_&E|w&~E)+v[6]-1069501632|0,O=(O<<9|O>>>23)+_|0,E+=(O&w|_&~w)+v[11]+643717713|0,E=(E<<14|E>>>18)+O|0,w+=(E&_|O&~_)+v[0]-373897302|0,w=(w<<20|w>>>12)+E|0,_+=(w&O|E&~O)+v[5]-701558691|0,_=(_<<5|_>>>27)+w|0,O+=(_&E|w&~E)+v[10]+38016083|0,O=(O<<9|O>>>23)+_|0,E+=(O&w|_&~w)+v[15]-660478335|0,E=(E<<14|E>>>18)+O|0,w+=(E&_|O&~_)+v[4]-405537848|0,w=(w<<20|w>>>12)+E|0,_+=(w&O|E&~O)+v[9]+568446438|0,_=(_<<5|_>>>27)+w|0,O+=(_&E|w&~E)+v[14]-1019803690|0,O=(O<<9|O>>>23)+_|0,E+=(O&w|_&~w)+v[3]-187363961|0,E=(E<<14|E>>>18)+O|0,w+=(E&_|O&~_)+v[8]+1163531501|0,w=(w<<20|w>>>12)+E|0,_+=(w&O|E&~O)+v[13]-1444681467|0,_=(_<<5|_>>>27)+w|0,O+=(_&E|w&~E)+v[2]-51403784|0,O=(O<<9|O>>>23)+_|0,E+=(O&w|_&~w)+v[7]+1735328473|0,E=(E<<14|E>>>18)+O|0,w+=(E&_|O&~_)+v[12]-1926607734|0,w=(w<<20|w>>>12)+E|0,_+=(w^E^O)+v[5]-378558|0,_=(_<<4|_>>>28)+w|0,O+=(_^w^E)+v[8]-2022574463|0,O=(O<<11|O>>>21)+_|0,E+=(O^_^w)+v[11]+1839030562|0,E=(E<<16|E>>>16)+O|0,w+=(E^O^_)+v[14]-35309556|0,w=(w<<23|w>>>9)+E|0,_+=(w^E^O)+v[1]-1530992060|0,_=(_<<4|_>>>28)+w|0,O+=(_^w^E)+v[4]+1272893353|0,O=(O<<11|O>>>21)+_|0,E+=(O^_^w)+v[7]-155497632|0,E=(E<<16|E>>>16)+O|0,w+=(E^O^_)+v[10]-1094730640|0,w=(w<<23|w>>>9)+E|0,_+=(w^E^O)+v[13]+681279174|0,_=(_<<4|_>>>28)+w|0,O+=(_^w^E)+v[0]-358537222|0,O=(O<<11|O>>>21)+_|0,E+=(O^_^w)+v[3]-722521979|0,E=(E<<16|E>>>16)+O|0,w+=(E^O^_)+v[6]+76029189|0,w=(w<<23|w>>>9)+E|0,_+=(w^E^O)+v[9]-640364487|0,_=(_<<4|_>>>28)+w|0,O+=(_^w^E)+v[12]-421815835|0,O=(O<<11|O>>>21)+_|0,E+=(O^_^w)+v[15]+530742520|0,E=(E<<16|E>>>16)+O|0,w+=(E^O^_)+v[2]-995338651|0,w=(w<<23|w>>>9)+E|0,_+=(E^(w|~O))+v[0]-198630844|0,_=(_<<6|_>>>26)+w|0,O+=(w^(_|~E))+v[7]+1126891415|0,O=(O<<10|O>>>22)+_|0,E+=(_^(O|~w))+v[14]-1416354905|0,E=(E<<15|E>>>17)+O|0,w+=(O^(E|~_))+v[5]-57434055|0,w=(w<<21|w>>>11)+E|0,_+=(E^(w|~O))+v[12]+1700485571|0,_=(_<<6|_>>>26)+w|0,O+=(w^(_|~E))+v[3]-1894986606|0,O=(O<<10|O>>>22)+_|0,E+=(_^(O|~w))+v[10]-1051523|0,E=(E<<15|E>>>17)+O|0,w+=(O^(E|~_))+v[1]-2054922799|0,w=(w<<21|w>>>11)+E|0,_+=(E^(w|~O))+v[8]+1873313359|0,_=(_<<6|_>>>26)+w|0,O+=(w^(_|~E))+v[15]-30611744|0,O=(O<<10|O>>>22)+_|0,E+=(_^(O|~w))+v[6]-1560198380|0,E=(E<<15|E>>>17)+O|0,w+=(O^(E|~_))+v[13]+1309151649|0,w=(w<<21|w>>>11)+E|0,_+=(E^(w|~O))+v[4]-145523070|0,_=(_<<6|_>>>26)+w|0,O+=(w^(_|~E))+v[11]-1120210379|0,O=(O<<10|O>>>22)+_|0,E+=(_^(O|~w))+v[2]+718787259|0,E=(E<<15|E>>>17)+O|0,w+=(O^(E|~_))+v[9]-343485551|0,w=(w<<21|w>>>11)+E|0,b[0]=_+b[0]|0,b[1]=w+b[1]|0,b[2]=E+b[2]|0,b[3]=O+b[3]|0}function s(b){var v=[],_;for(_=0;_<64;_+=4)v[_>>2]=b.charCodeAt(_)+(b.charCodeAt(_+1)<<8)+(b.charCodeAt(_+2)<<16)+(b.charCodeAt(_+3)<<24);return v}function o(b){var v=[],_;for(_=0;_<64;_+=4)v[_>>2]=b[_]+(b[_+1]<<8)+(b[_+2]<<16)+(b[_+3]<<24);return v}function u(b){var v=b.length,_=[1732584193,-271733879,-1732584194,271733878],w,E,O,L,F,x;for(w=64;w<=v;w+=64)a(_,s(b.substring(w-64,w)));for(b=b.substring(w-64),E=b.length,O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0;w<E;w+=1)O[w>>2]|=b.charCodeAt(w)<<(w%4<<3);if(O[w>>2]|=128<<(w%4<<3),w>55)for(a(_,O),w=0;w<16;w+=1)O[w]=0;return L=v*8,L=L.toString(16).match(/(.*?)(.{0,8})$/),F=parseInt(L[2],16),x=parseInt(L[1],16)||0,O[14]=F,O[15]=x,a(_,O),_}function c(b){var v=b.length,_=[1732584193,-271733879,-1732584194,271733878],w,E,O,L,F,x;for(w=64;w<=v;w+=64)a(_,o(b.subarray(w-64,w)));for(b=w-64<v?b.subarray(w-64):new Uint8Array(0),E=b.length,O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0;w<E;w+=1)O[w>>2]|=b[w]<<(w%4<<3);if(O[w>>2]|=128<<(w%4<<3),w>55)for(a(_,O),w=0;w<16;w+=1)O[w]=0;return L=v*8,L=L.toString(16).match(/(.*?)(.{0,8})$/),F=parseInt(L[2],16),x=parseInt(L[1],16)||0,O[14]=F,O[15]=x,a(_,O),_}function l(b){var v="",_;for(_=0;_<4;_+=1)v+=n[b>>_*8+4&15]+n[b>>_*8&15];return v}function d(b){var v;for(v=0;v<b.length;v+=1)b[v]=l(b[v]);return b.join("")}d(u("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function b(v,_){return v=v|0||0,v<0?Math.max(v+_,0):Math.min(v,_)}ArrayBuffer.prototype.slice=function(v,_){var w=this.byteLength,E=b(v,w),O=w,L,F,x,P;return _!==r&&(O=b(_,w)),E>O?new ArrayBuffer(0):(L=O-E,F=new ArrayBuffer(L),x=new Uint8Array(F),P=new Uint8Array(this,E,L),x.set(P),F)}}();function f(b){return/[\u0080-\uFFFF]/.test(b)&&(b=unescape(encodeURIComponent(b))),b}function h(b,v){var _=b.length,w=new ArrayBuffer(_),E=new Uint8Array(w),O;for(O=0;O<_;O+=1)E[O]=b.charCodeAt(O);return v?E:w}function p(b){return String.fromCharCode.apply(null,new Uint8Array(b))}function m(b,v,_){var w=new Uint8Array(b.byteLength+v.byteLength);return w.set(new Uint8Array(b)),w.set(new Uint8Array(v),b.byteLength),_?w:w.buffer}function y(b){var v=[],_=b.length,w;for(w=0;w<_-1;w+=2)v.push(parseInt(b.substr(w,2),16));return String.fromCharCode.apply(String,v)}function g(){this.reset()}return g.prototype.append=function(b){return this.appendBinary(f(b)),this},g.prototype.appendBinary=function(b){this._buff+=b,this._length+=b.length;var v=this._buff.length,_;for(_=64;_<=v;_+=64)a(this._hash,s(this._buff.substring(_-64,_)));return this._buff=this._buff.substring(_-64),this},g.prototype.end=function(b){var v=this._buff,_=v.length,w,E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],O;for(w=0;w<_;w+=1)E[w>>2]|=v.charCodeAt(w)<<(w%4<<3);return this._finish(E,_),O=d(this._hash),b&&(O=y(O)),this.reset(),O},g.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},g.prototype.setState=function(b){return this._buff=b.buff,this._length=b.length,this._hash=b.hash,this},g.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},g.prototype._finish=function(b,v){var _=v,w,E,O;if(b[_>>2]|=128<<(_%4<<3),_>55)for(a(this._hash,b),_=0;_<16;_+=1)b[_]=0;w=this._length*8,w=w.toString(16).match(/(.*?)(.{0,8})$/),E=parseInt(w[2],16),O=parseInt(w[1],16)||0,b[14]=E,b[15]=O,a(this._hash,b)},g.hash=function(b,v){return g.hashBinary(f(b),v)},g.hashBinary=function(b,v){var _=u(b),w=d(_);return v?y(w):w},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(b){var v=m(this._buff.buffer,b,!0),_=v.length,w;for(this._length+=b.byteLength,w=64;w<=_;w+=64)a(this._hash,o(v.subarray(w-64,w)));return this._buff=w-64<_?new Uint8Array(v.buffer.slice(w-64)):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(b){var v=this._buff,_=v.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E,O;for(E=0;E<_;E+=1)w[E>>2]|=v[E]<<(E%4<<3);return this._finish(w,_),O=d(this._hash),b&&(O=y(O)),this.reset(),O},g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.getState=function(){var b=g.prototype.getState.call(this);return b.buff=p(b.buff),b},g.ArrayBuffer.prototype.setState=function(b){return b.buff=h(b.buff,!0),g.prototype.setState.call(this,b)},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.hash=function(b,v){var _=c(new Uint8Array(b)),w=d(_);return v?y(w):w},g})}($x)),$x.exports}var Ux={},tg={},uw={},MV;function Wee(){if(MV)return uw;MV=1,Object.defineProperty(uw,"__esModule",{value:!0}),uw.default=r;let t;const e=new Uint8Array(16);function r(){if(!t&&(t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(e)}return uw}var Ul={},rg={},ng={},FV;function s6e(){if(FV)return ng;FV=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.default=void 0;var t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return ng.default=t,ng}var BV;function $T(){if(BV)return rg;BV=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.default=void 0;var t=e(s6e());function e(a){return a&&a.__esModule?a:{default:a}}function r(a){return typeof a=="string"&&t.default.test(a)}var n=r;return rg.default=n,rg}var qV;function UT(){if(qV)return Ul;qV=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.default=void 0,Ul.unsafeStringify=n;var t=e($T());function e(o){return o&&o.__esModule?o:{default:o}}const r=[];for(let o=0;o<256;++o)r.push((o+256).toString(16).slice(1));function n(o,u=0){return r[o[u+0]]+r[o[u+1]]+r[o[u+2]]+r[o[u+3]]+"-"+r[o[u+4]]+r[o[u+5]]+"-"+r[o[u+6]]+r[o[u+7]]+"-"+r[o[u+8]]+r[o[u+9]]+"-"+r[o[u+10]]+r[o[u+11]]+r[o[u+12]]+r[o[u+13]]+r[o[u+14]]+r[o[u+15]]}function a(o,u=0){const c=n(o,u);if(!(0,t.default)(c))throw TypeError("Stringified UUID is invalid");return c}var s=a;return Ul.default=s,Ul}var $V;function o6e(){if($V)return tg;$V=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.default=void 0;var t=r(Wee()),e=UT();function r(l){return l&&l.__esModule?l:{default:l}}let n,a,s=0,o=0;function u(l,d,f){let h=d&&f||0;const p=d||new Array(16);l=l||{};let m=l.node||n,y=l.clockseq!==void 0?l.clockseq:a;if(m==null||y==null){const E=l.random||(l.rng||t.default)();m==null&&(m=n=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),y==null&&(y=a=(E[6]<<8|E[7])&16383)}let g=l.msecs!==void 0?l.msecs:Date.now(),b=l.nsecs!==void 0?l.nsecs:o+1;const v=g-s+(b-o)/1e4;if(v<0&&l.clockseq===void 0&&(y=y+1&16383),(v<0||g>s)&&l.nsecs===void 0&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=g,o=b,a=y,g+=122192928e5;const _=((g&268435455)*1e4+b)%4294967296;p[h++]=_>>>24&255,p[h++]=_>>>16&255,p[h++]=_>>>8&255,p[h++]=_&255;const w=g/4294967296*1e4&268435455;p[h++]=w>>>8&255,p[h++]=w&255,p[h++]=w>>>24&15|16,p[h++]=w>>>16&255,p[h++]=y>>>8|128,p[h++]=y&255;for(let E=0;E<6;++E)p[h+E]=m[E];return d||(0,e.unsafeStringify)(p)}var c=u;return tg.default=c,tg}var ig={},$o={},ag={},UV;function Kee(){if(UV)return ag;UV=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.default=void 0;var t=e($T());function e(a){return a&&a.__esModule?a:{default:a}}function r(a){if(!(0,t.default)(a))throw TypeError("Invalid UUID");let s;const o=new Uint8Array(16);return o[0]=(s=parseInt(a.slice(0,8),16))>>>24,o[1]=s>>>16&255,o[2]=s>>>8&255,o[3]=s&255,o[4]=(s=parseInt(a.slice(9,13),16))>>>8,o[5]=s&255,o[6]=(s=parseInt(a.slice(14,18),16))>>>8,o[7]=s&255,o[8]=(s=parseInt(a.slice(19,23),16))>>>8,o[9]=s&255,o[10]=(s=parseInt(a.slice(24,36),16))/1099511627776&255,o[11]=s/4294967296&255,o[12]=s>>>24&255,o[13]=s>>>16&255,o[14]=s>>>8&255,o[15]=s&255,o}var n=r;return ag.default=n,ag}var kV;function Jee(){if(kV)return $o;kV=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.URL=$o.DNS=void 0,$o.default=o;var t=UT(),e=r(Kee());function r(u){return u&&u.__esModule?u:{default:u}}function n(u){u=unescape(encodeURIComponent(u));const c=[];for(let l=0;l<u.length;++l)c.push(u.charCodeAt(l));return c}const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";$o.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";$o.URL=s;function o(u,c,l){function d(f,h,p,m){var y;if(typeof f=="string"&&(f=n(f)),typeof h=="string"&&(h=(0,e.default)(h)),((y=h)===null||y===void 0?void 0:y.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let g=new Uint8Array(16+f.length);if(g.set(h),g.set(f,h.length),g=l(g),g[6]=g[6]&15|c,g[8]=g[8]&63|128,p){m=m||0;for(let b=0;b<16;++b)p[m+b]=g[b];return p}return(0,t.unsafeStringify)(g)}try{d.name=u}catch{}return d.DNS=a,d.URL=s,d}return $o}var sg={},VV;function u6e(){if(VV)return sg;VV=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.default=void 0;function t(p){if(typeof p=="string"){const m=unescape(encodeURIComponent(p));p=new Uint8Array(m.length);for(let y=0;y<m.length;++y)p[y]=m.charCodeAt(y)}return e(n(a(p),p.length*8))}function e(p){const m=[],y=p.length*32,g="0123456789abcdef";for(let b=0;b<y;b+=8){const v=p[b>>5]>>>b%32&255,_=parseInt(g.charAt(v>>>4&15)+g.charAt(v&15),16);m.push(_)}return m}function r(p){return(p+64>>>9<<4)+14+1}function n(p,m){p[m>>5]|=128<<m%32,p[r(m)-1]=m;let y=1732584193,g=-271733879,b=-1732584194,v=271733878;for(let _=0;_<p.length;_+=16){const w=y,E=g,O=b,L=v;y=c(y,g,b,v,p[_],7,-680876936),v=c(v,y,g,b,p[_+1],12,-389564586),b=c(b,v,y,g,p[_+2],17,606105819),g=c(g,b,v,y,p[_+3],22,-1044525330),y=c(y,g,b,v,p[_+4],7,-176418897),v=c(v,y,g,b,p[_+5],12,1200080426),b=c(b,v,y,g,p[_+6],17,-1473231341),g=c(g,b,v,y,p[_+7],22,-45705983),y=c(y,g,b,v,p[_+8],7,1770035416),v=c(v,y,g,b,p[_+9],12,-1958414417),b=c(b,v,y,g,p[_+10],17,-42063),g=c(g,b,v,y,p[_+11],22,-1990404162),y=c(y,g,b,v,p[_+12],7,1804603682),v=c(v,y,g,b,p[_+13],12,-40341101),b=c(b,v,y,g,p[_+14],17,-1502002290),g=c(g,b,v,y,p[_+15],22,1236535329),y=l(y,g,b,v,p[_+1],5,-165796510),v=l(v,y,g,b,p[_+6],9,-1069501632),b=l(b,v,y,g,p[_+11],14,643717713),g=l(g,b,v,y,p[_],20,-373897302),y=l(y,g,b,v,p[_+5],5,-701558691),v=l(v,y,g,b,p[_+10],9,38016083),b=l(b,v,y,g,p[_+15],14,-660478335),g=l(g,b,v,y,p[_+4],20,-405537848),y=l(y,g,b,v,p[_+9],5,568446438),v=l(v,y,g,b,p[_+14],9,-1019803690),b=l(b,v,y,g,p[_+3],14,-187363961),g=l(g,b,v,y,p[_+8],20,1163531501),y=l(y,g,b,v,p[_+13],5,-1444681467),v=l(v,y,g,b,p[_+2],9,-51403784),b=l(b,v,y,g,p[_+7],14,1735328473),g=l(g,b,v,y,p[_+12],20,-1926607734),y=d(y,g,b,v,p[_+5],4,-378558),v=d(v,y,g,b,p[_+8],11,-2022574463),b=d(b,v,y,g,p[_+11],16,1839030562),g=d(g,b,v,y,p[_+14],23,-35309556),y=d(y,g,b,v,p[_+1],4,-1530992060),v=d(v,y,g,b,p[_+4],11,1272893353),b=d(b,v,y,g,p[_+7],16,-155497632),g=d(g,b,v,y,p[_+10],23,-1094730640),y=d(y,g,b,v,p[_+13],4,681279174),v=d(v,y,g,b,p[_],11,-358537222),b=d(b,v,y,g,p[_+3],16,-722521979),g=d(g,b,v,y,p[_+6],23,76029189),y=d(y,g,b,v,p[_+9],4,-640364487),v=d(v,y,g,b,p[_+12],11,-421815835),b=d(b,v,y,g,p[_+15],16,530742520),g=d(g,b,v,y,p[_+2],23,-995338651),y=f(y,g,b,v,p[_],6,-198630844),v=f(v,y,g,b,p[_+7],10,1126891415),b=f(b,v,y,g,p[_+14],15,-1416354905),g=f(g,b,v,y,p[_+5],21,-57434055),y=f(y,g,b,v,p[_+12],6,1700485571),v=f(v,y,g,b,p[_+3],10,-1894986606),b=f(b,v,y,g,p[_+10],15,-1051523),g=f(g,b,v,y,p[_+1],21,-2054922799),y=f(y,g,b,v,p[_+8],6,1873313359),v=f(v,y,g,b,p[_+15],10,-30611744),b=f(b,v,y,g,p[_+6],15,-1560198380),g=f(g,b,v,y,p[_+13],21,1309151649),y=f(y,g,b,v,p[_+4],6,-145523070),v=f(v,y,g,b,p[_+11],10,-1120210379),b=f(b,v,y,g,p[_+2],15,718787259),g=f(g,b,v,y,p[_+9],21,-343485551),y=s(y,w),g=s(g,E),b=s(b,O),v=s(v,L)}return[y,g,b,v]}function a(p){if(p.length===0)return[];const m=p.length*8,y=new Uint32Array(r(m));for(let g=0;g<m;g+=8)y[g>>5]|=(p[g/8]&255)<<g%32;return y}function s(p,m){const y=(p&65535)+(m&65535);return(p>>16)+(m>>16)+(y>>16)<<16|y&65535}function o(p,m){return p<<m|p>>>32-m}function u(p,m,y,g,b,v){return s(o(s(s(m,p),s(g,v)),b),y)}function c(p,m,y,g,b,v,_){return u(m&y|~m&g,p,m,b,v,_)}function l(p,m,y,g,b,v,_){return u(m&g|y&~g,p,m,b,v,_)}function d(p,m,y,g,b,v,_){return u(m^y^g,p,m,b,v,_)}function f(p,m,y,g,b,v,_){return u(y^(m|~g),p,m,b,v,_)}var h=t;return sg.default=h,sg}var HV;function c6e(){if(HV)return ig;HV=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.default=void 0;var t=r(Jee()),e=r(u6e());function r(s){return s&&s.__esModule?s:{default:s}}var a=(0,t.default)("v3",48,e.default);return ig.default=a,ig}var og={},ug={},QV;function l6e(){if(QV)return ug;QV=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.default=void 0;var e={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return ug.default=e,ug}var zV;function d6e(){if(zV)return og;zV=1,Object.defineProperty(og,"__esModule",{value:!0}),og.default=void 0;var t=n(l6e()),e=n(Wee()),r=UT();function n(o){return o&&o.__esModule?o:{default:o}}function a(o,u,c){if(t.default.randomUUID&&!u&&!o)return t.default.randomUUID();o=o||{};const l=o.random||(o.rng||e.default)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,u){c=c||0;for(let d=0;d<16;++d)u[c+d]=l[d];return u}return(0,r.unsafeStringify)(l)}var s=a;return og.default=s,og}var cg={},lg={},GV;function f6e(){if(GV)return lg;GV=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.default=void 0;function t(a,s,o,u){switch(a){case 0:return s&o^~s&u;case 1:return s^o^u;case 2:return s&o^s&u^o&u;case 3:return s^o^u}}function e(a,s){return a<<s|a>>>32-s}function r(a){const s=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){const d=unescape(encodeURIComponent(a));a=[];for(let f=0;f<d.length;++f)a.push(d.charCodeAt(f))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);const u=a.length/4+2,c=Math.ceil(u/16),l=new Array(c);for(let d=0;d<c;++d){const f=new Uint32Array(16);for(let h=0;h<16;++h)f[h]=a[d*64+h*4]<<24|a[d*64+h*4+1]<<16|a[d*64+h*4+2]<<8|a[d*64+h*4+3];l[d]=f}l[c-1][14]=(a.length-1)*8/Math.pow(2,32),l[c-1][14]=Math.floor(l[c-1][14]),l[c-1][15]=(a.length-1)*8&4294967295;for(let d=0;d<c;++d){const f=new Uint32Array(80);for(let b=0;b<16;++b)f[b]=l[d][b];for(let b=16;b<80;++b)f[b]=e(f[b-3]^f[b-8]^f[b-14]^f[b-16],1);let h=o[0],p=o[1],m=o[2],y=o[3],g=o[4];for(let b=0;b<80;++b){const v=Math.floor(b/20),_=e(h,5)+t(v,p,m,y)+g+s[v]+f[b]>>>0;g=y,y=m,m=e(p,30)>>>0,p=h,h=_}o[0]=o[0]+h>>>0,o[1]=o[1]+p>>>0,o[2]=o[2]+m>>>0,o[3]=o[3]+y>>>0,o[4]=o[4]+g>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,o[0]&255,o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,o[1]&255,o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,o[2]&255,o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,o[3]&255,o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,o[4]&255]}var n=r;return lg.default=n,lg}var WV;function h6e(){if(WV)return cg;WV=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.default=void 0;var t=r(Jee()),e=r(f6e());function r(s){return s&&s.__esModule?s:{default:s}}var a=(0,t.default)("v5",80,e.default);return cg.default=a,cg}var dg={},KV;function p6e(){if(KV)return dg;KV=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.default=void 0;var t="00000000-0000-0000-0000-000000000000";return dg.default=t,dg}var fg={},JV;function y6e(){if(JV)return fg;JV=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.default=void 0;var t=e($T());function e(a){return a&&a.__esModule?a:{default:a}}function r(a){if(!(0,t.default)(a))throw TypeError("Invalid UUID");return parseInt(a.slice(14,15),16)}var n=r;return fg.default=n,fg}var XV;function Xee(){return XV||(XV=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return o.default}});var e=d(o6e()),r=d(c6e()),n=d(d6e()),a=d(h6e()),s=d(p6e()),o=d(y6e()),u=d($T()),c=d(UT()),l=d(Kee());function d(f){return f&&f.__esModule?f:{default:f}}}(Ux)),Ux}var hg={},YV;function kT(){if(YV)return hg;YV=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.orderTypes=void 0;const t=Mu(),e=Mf(),r=vl(),n=ui(),a=xn();function s(l,d,f=!1,h,p){if(l===d)return 0;if(l===void 0)return-1;if(d===void 0)return 1;if(l.termType!==d.termType)return c[l.termType]<c[d.termType]?-1:1;if(l.equals(d))return 0;if(l.termType==="Quad"&&d.termType==="Quad"){const m=s(l.subject,d.subject,f,h,p);if(m!==0)return m;const y=s(l.predicate,d.predicate,f,h,p);if(y!==0)return y;const g=s(l.object,d.object,f,h,p);return g!==0?g:s(l.graph,d.graph,f,h,p)}if(l.termType==="Literal")return o(l,d,h,p);if(f)throw new a.InvalidCompareArgumentTypes(l,d);return u(l.value,d.value)}hg.orderTypes=s;function o(l,d,f,h){const p=e.regularFunctions[n.RegularOperator.GT],m=e.regularFunctions[n.RegularOperator.EQUAL],y={now:new Date,functionArgumentsCache:{},superTypeProvider:{discoverer:f??(()=>"term"),cache:h??new t.LRUCache({max:1e3})},defaultTimeZone:{zoneHours:0,zoneMinutes:0}},g=new r.TermTransformer(y.superTypeProvider),b=g.transformLiteral(l),v=g.transformLiteral(d);try{return m.apply([b,v],y).typedValue?0:p.apply([b,v],y).typedValue?1:-1}catch{const _=u(b.dataType,v.dataType);return _!==0?_:u(b.str(),v.str())}}function u(l,d){return l===d?0:l<d?-1:1}const c={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5};return hg}var Qs={},ZV;function m6e(){if(ZV)return Qs;ZV=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.langMatches=Qs.replace=Qs.matches=void 0;function t(s,o,u){return new RegExp(o,u).test(s)}Qs.matches=t;function e(s,o,u,c){let l=new RegExp(o,c);if(!l.global){const d=c??"";l=new RegExp(o,`${d}g`)}return s.replace(l,u)}Qs.replace=e;function r(s,o){const u=s.split("-"),c=o.split("-");if(!a(c[0],u[0])&&!n(u[0]))return!1;let l=1,d=1;for(;d<c.length;){if(n(c[d])){d++;continue}if(l===u.length)return!1;if(a(c[d],u[l])){l++,d++;continue}if(u[l].length===1)return!1;l++}return!0}Qs.langMatches=r;function n(s){return s==="*"}function a(s,o){return new RegExp(`/${s}/`,"iu").test(`/${o}/`)}return Qs}var eH;function g6e(){if(eH)return eg;eH=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.definitions=void 0;const t=i6e(),e=IC(),r=Ot,n=_a,a=a6e(),s=Xee(),o=Vi(),u=vl(),c=ui(),l=ui(),d=jf(),f=xn(),h=kT(),p=zee(),m=sN(),y=xs(),g=m6e(),b=Mf(),v=new r.DataFactory,_={arity:1,overloads:(0,y.declare)(c.RegularOperator.NOT).onTerm1(()=>S=>(0,y.bool)(!S.coerceEBV())).collect()},w={arity:1,overloads:(0,y.declare)(c.RegularOperator.UPLUS).numericConverter(()=>S=>S).collect()},E={arity:1,overloads:(0,y.declare)(c.RegularOperator.UMINUS).numericConverter(()=>S=>-S).collect()},O={arity:2,overloads:(0,y.declare)(c.RegularOperator.MULTIPLICATION).arithmetic(()=>(S,A)=>new t.BigNumber(S).times(A).toNumber()).collect()},L={arity:2,overloads:(0,y.declare)(c.RegularOperator.DIVISION).arithmetic(()=>(S,A)=>new t.BigNumber(S).div(A).toNumber()).onBinaryTyped([l.TypeURL.XSD_INTEGER,l.TypeURL.XSD_INTEGER],()=>(S,A)=>{if(A===0)throw new f.ExpressionError("Integer division by 0");return(0,y.decimal)(new t.BigNumber(S).div(A).toNumber())}).collect()},F={arity:2,overloads:(0,y.declare)(c.RegularOperator.ADDITION).arithmetic(()=>(S,A)=>new t.BigNumber(S).plus(A).toNumber()).set([l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([S,A])=>new o.DateTimeLiteral((0,p.addDurationToDateTime)(S.typedValue,(0,d.defaultedDurationRepresentation)(A.typedValue)))).copy({from:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],to:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([l.TypeURL.XSD_DATE,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([S,A])=>new o.DateLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(S.typedValue),(0,d.defaultedDurationRepresentation)(A.typedValue)))).copy({from:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_DAY_TIME_DURATION],to:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([l.TypeURL.XSD_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([S,A])=>new o.TimeLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(S.typedValue),(0,d.defaultedDurationRepresentation)(A.typedValue)))).copy({from:[l.TypeURL.XSD_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],to:[l.TypeURL.XSD_TIME,l.TypeURL.XSD_YEAR_MONTH_DURATION]}).collect()},x={arity:2,overloads:(0,y.declare)(c.RegularOperator.SUBTRACTION).arithmetic(()=>(S,A)=>new t.BigNumber(S).minus(A).toNumber()).set([l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DATE_TIME],({defaultTimeZone:S})=>([A,C])=>new o.DayTimeDurationLiteral((0,p.elapsedDuration)(A.typedValue,C.typedValue,S))).copy({from:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_DATE]}).copy({from:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_TIME,l.TypeURL.XSD_TIME]}).set([l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([S,A])=>new o.DateTimeLiteral((0,p.addDurationToDateTime)(S.typedValue,(0,d.defaultedDurationRepresentation)((0,d.negateDuration)(A.typedValue))))).copy({from:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],to:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([l.TypeURL.XSD_DATE,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([S,A])=>new o.DateLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(S.typedValue),(0,d.defaultedDurationRepresentation)((0,d.negateDuration)(A.typedValue))))).copy({from:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_DAY_TIME_DURATION],to:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([l.TypeURL.XSD_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([S,A])=>new o.TimeLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(S.typedValue),(0,d.defaultedDurationRepresentation)((0,d.negateDuration)(A.typedValue))))).collect()},P={arity:2,overloads:(0,y.declare)(c.RegularOperator.EQUAL).numberTest(()=>(S,A)=>S===A).stringTest(()=>(S,A)=>S.localeCompare(A)===0).set([l.TypeURL.RDF_LANG_STRING,l.TypeURL.RDF_LANG_STRING],()=>([S,A])=>(0,y.bool)(S.str()===A.str()&&S.language===A.language)).set([l.TypeAlias.SPARQL_STRINGLY,l.TypeAlias.SPARQL_STRINGLY],()=>()=>(0,y.bool)(!1)).booleanTest(()=>(S,A)=>S===A).dateTimeTest(({defaultTimeZone:S})=>(A,C)=>(0,d.toUTCDate)(A,S).getTime()===(0,d.toUTCDate)(C,S).getTime()).copy({from:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_DATE]}).set(["quad","quad"],S=>([A,C])=>{const J=new m.RegularFunction(l.RegularOperator.EQUAL,P);return(0,y.bool)(J.apply([A.subject,C.subject],S).coerceEBV()&&J.apply([A.predicate,C.predicate],S).coerceEBV()&&J.apply([A.object,C.object],S).coerceEBV())},!1).set(["term","term"],()=>([S,A])=>(0,y.bool)(j(S,A)),!1).set([l.TypeURL.XSD_DURATION,l.TypeURL.XSD_DURATION],()=>([S,A])=>(0,y.bool)((0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(S.typedValue))===(0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(A.typedValue))&&(0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(S.typedValue))===(0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(A.typedValue)))).set([l.TypeURL.XSD_TIME,l.TypeURL.XSD_TIME],({defaultTimeZone:S})=>([A,C])=>(0,y.bool)((0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(A.typedValue),S).getTime()===(0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(C.typedValue),S).getTime())).collect()};function j(S,A){const C=S.toRDF(),J=A.toRDF(),ie=C.equals(J);if(!ie&&C.termType==="Literal"&&J.termType==="Literal")throw new f.RDFEqualTypeError([S,A]);return ie}const N={arity:2,overloads:(0,y.declare)(c.RegularOperator.NOT_EQUAL).set(["term","term"],S=>([A,C])=>(0,y.bool)(!b.regularFunctions[c.RegularOperator.EQUAL].apply([A,C],S).typedValue)).collect()},V={arity:2,overloads:(0,y.declare)(c.RegularOperator.LT).numberTest(()=>(S,A)=>S<A).stringTest(()=>(S,A)=>S.localeCompare(A)===-1).booleanTest(()=>(S,A)=>S<A).set(["quad","quad"],()=>([S,A])=>(0,y.bool)((0,h.orderTypes)(S.toRDF(),A.toRDF(),!0)===-1),!1).dateTimeTest(({defaultTimeZone:S})=>(A,C)=>(0,d.toUTCDate)(A,S).getTime()<(0,d.toUTCDate)(C,S).getTime()).copy({from:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_DATE]}).set([l.TypeURL.XSD_YEAR_MONTH_DURATION,l.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([S,A])=>(0,y.bool)((0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(S.typedValue))<(0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(A.typedValue)))).set([l.TypeURL.XSD_DAY_TIME_DURATION,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([S,A])=>(0,y.bool)((0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(S.typedValue))<(0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(A.typedValue)))).set([l.TypeURL.XSD_TIME,l.TypeURL.XSD_TIME],({defaultTimeZone:S})=>([A,C])=>(0,y.bool)((0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(A.typedValue),S).getTime()<(0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(C.typedValue),S).getTime())).collect()},$={arity:2,overloads:(0,y.declare)(c.RegularOperator.GT).set(["term","term"],S=>([A,C])=>b.regularFunctions[c.RegularOperator.LT].apply([C,A],S)).collect()},q={arity:2,overloads:(0,y.declare)(c.RegularOperator.LTE).set(["term","term"],S=>([A,C])=>(0,y.bool)(b.regularFunctions[c.RegularOperator.LT].apply([A,C],S).typedValue||b.regularFunctions[c.RegularOperator.EQUAL].apply([A,C],S).typedValue)).collect()},H={arity:2,overloads:(0,y.declare)(c.RegularOperator.GTE).set(["term","term"],S=>([A,C])=>b.regularFunctions[c.RegularOperator.LTE].apply([C,A],S)).collect()},X={arity:1,overloads:(0,y.declare)(c.RegularOperator.IS_IRI).onTerm1(()=>S=>(0,y.bool)(S.termType==="namedNode")).collect()},Y={arity:1,overloads:(0,y.declare)(c.RegularOperator.IS_BLANK).onTerm1(()=>S=>(0,y.bool)(S.termType==="blankNode")).collect()},he={arity:1,overloads:(0,y.declare)(c.RegularOperator.IS_LITERAL).onTerm1(()=>S=>(0,y.bool)(S.termType==="literal")).collect()},Te={arity:1,overloads:(0,y.declare)(c.RegularOperator.IS_NUMERIC).onNumeric1(()=>()=>(0,y.bool)(!0)).onTerm1(()=>()=>(0,y.bool)(!1)).collect()},Ne={arity:1,overloads:(0,y.declare)(c.RegularOperator.STR).onTerm1(()=>S=>(0,y.string)(S.str())).collect()},$e={arity:1,overloads:(0,y.declare)(c.RegularOperator.LANG).onLiteral1(()=>S=>(0,y.string)(S.language??"")).collect()},de={arity:1,overloads:(0,y.declare)(c.RegularOperator.DATATYPE).onLiteral1(()=>S=>new o.NamedNode(S.dataType)).collect()},ce={arity:1,overloads:(0,y.declare)(c.RegularOperator.IRI).set(["namedNode"],S=>A=>{const C=A[0],J=(0,n.resolve)(C.str(),S.baseIRI??"");return new o.NamedNode(J)}).onString1(S=>A=>{const C=(0,n.resolve)(A.str(),S.baseIRI??"");return new o.NamedNode(C)}).collect()},xe={arity:2,overloads:(0,y.declare)(c.RegularOperator.STRDT).set([l.TypeURL.XSD_STRING,"namedNode"],({superTypeProvider:S})=>([A,C])=>{const J=v.literal(A.typedValue,v.namedNode(C.value));return new u.TermTransformer(S).transformLiteral(J)}).collect()},Pe={arity:2,overloads:(0,y.declare)(c.RegularOperator.STRLANG).onBinaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>(S,A)=>new o.LangStringLiteral(S,A.toLowerCase())).collect()},we={arity:0,overloads:(0,y.declare)(c.RegularOperator.UUID).set([],()=>()=>new o.NamedNode(`urn:uuid:${s.v4()}`)).collect()},Re={arity:0,overloads:(0,y.declare)(c.RegularOperator.STRUUID).set([],()=>()=>(0,y.string)(s.v4())).collect()},Se={arity:1,overloads:(0,y.declare)(c.RegularOperator.STRLEN).onStringly1(()=>S=>(0,y.integer)([...S.typedValue].length)).collect()},z={arity:[2,3],overloads:(0,y.declare)(c.RegularOperator.SUBSTR).onBinaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_INTEGER],()=>(S,A)=>(0,y.string)([...S].slice(A-1).join(""))).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.XSD_INTEGER],()=>(S,A)=>{const C=[...S.typedValue].slice(A.typedValue-1).join("");return(0,y.langString)(C,S.language)}).onTernaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_INTEGER,l.TypeURL.XSD_INTEGER],()=>(S,A,C)=>(0,y.string)([...S].slice(A-1,C+A-1).join(""))).onTernary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.XSD_INTEGER,l.TypeURL.XSD_INTEGER],()=>(S,A,C)=>{const J=[...S.typedValue].slice(A.typedValue-1,C.typedValue+A.typedValue-1).join("");return(0,y.langString)(J,S.language)}).collect()},M={arity:1,overloads:(0,y.declare)(c.RegularOperator.UCASE).onString1Typed(()=>S=>(0,y.string)(S.toUpperCase())).onLangString1(()=>S=>(0,y.langString)(S.typedValue.toUpperCase(),S.language)).collect()},k={arity:1,overloads:(0,y.declare)(c.RegularOperator.LCASE).onString1Typed(()=>S=>(0,y.string)(S.toLowerCase())).onLangString1(()=>S=>(0,y.langString)(S.typedValue.toLowerCase(),S.language)).collect()},T={arity:2,overloads:(0,y.declare)(c.RegularOperator.STRSTARTS).onBinaryTyped([l.TypeAlias.SPARQL_STRINGLY,l.TypeURL.XSD_STRING],()=>(S,A)=>(0,y.bool)(S.startsWith(A))).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.RDF_LANG_STRING],()=>(S,A)=>{if(S.language!==A.language)throw new f.IncompatibleLanguageOperation(S,A);return(0,y.bool)(S.typedValue.startsWith(A.typedValue))}).collect()},R={arity:2,overloads:(0,y.declare)(c.RegularOperator.STRENDS).onBinaryTyped([l.TypeAlias.SPARQL_STRINGLY,l.TypeURL.XSD_STRING],()=>(S,A)=>(0,y.bool)(S.endsWith(A))).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.RDF_LANG_STRING],()=>(S,A)=>{if(S.language!==A.language)throw new f.IncompatibleLanguageOperation(S,A);return(0,y.bool)(S.typedValue.endsWith(A.typedValue))}).collect()},U={arity:2,overloads:(0,y.declare)(c.RegularOperator.CONTAINS).onBinaryTyped([l.TypeAlias.SPARQL_STRINGLY,l.TypeURL.XSD_STRING],()=>(S,A)=>(0,y.bool)(S.includes(A))).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.RDF_LANG_STRING],()=>(S,A)=>{if(S.language!==A.language)throw new f.IncompatibleLanguageOperation(S,A);return(0,y.bool)(S.typedValue.includes(A.typedValue))}).collect()},G={arity:2,overloads:(0,y.declare)(c.RegularOperator.STRBEFORE).onBinaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>(S,A)=>(0,y.string)(S.slice(0,Math.max(0,S.indexOf(A))))).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.XSD_STRING],()=>(S,A)=>{const[C,J]=[S.typedValue,A.typedValue],ie=S.typedValue.slice(0,Math.max(0,C.indexOf(J)));return ie||!J?(0,y.langString)(ie,S.language):(0,y.string)(ie)}).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.RDF_LANG_STRING],()=>(S,A)=>{if(S.language!==A.language)throw new f.IncompatibleLanguageOperation(S,A);const[C,J]=[S.typedValue,A.typedValue],ie=S.typedValue.slice(0,Math.max(0,C.indexOf(J)));return ie||!J?(0,y.langString)(ie,S.language):(0,y.string)(ie)}).collect()},Q={arity:2,overloads:(0,y.declare)(c.RegularOperator.STRAFTER).onBinaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>(S,A)=>(0,y.string)(S.slice(S.indexOf(A)).slice(A.length))).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.XSD_STRING],()=>(S,A)=>{const[C,J]=[S.typedValue,A.typedValue],ie=C.slice(C.indexOf(J)).slice(J.length);return ie||!J?(0,y.langString)(ie,S.language):(0,y.string)(ie)}).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.RDF_LANG_STRING],()=>(S,A)=>{if(S.language!==A.language)throw new f.IncompatibleLanguageOperation(S,A);const[C,J]=[S.typedValue,A.typedValue],ie=C.slice(C.indexOf(J)).slice(J.length);return ie||!J?(0,y.langString)(ie,S.language):(0,y.string)(ie)}).collect()},Z={arity:1,overloads:(0,y.declare)(c.RegularOperator.ENCODE_FOR_URI).onStringly1Typed(()=>S=>(0,y.string)(encodeURI(S))).collect()},se={arity:2,overloads:(0,y.declare)(c.RegularOperator.LANG_MATCHES).onBinaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>(S,A)=>(0,y.bool)(g.langMatches(S,A))).collect()};function re(){return(S,A)=>(0,y.bool)(g.matches(S,A))}function le(){return(S,A,C)=>(0,y.bool)(g.matches(S,A,C))}const pe={arity:[2,3],overloads:(0,y.declare)(c.RegularOperator.REGEX).onBinaryTyped([l.TypeAlias.SPARQL_STRINGLY,l.TypeURL.XSD_STRING],re).onTernaryTyped([l.TypeAlias.SPARQL_STRINGLY,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],le).collect()},_e={arity:[3,4],overloads:(0,y.declare)(c.RegularOperator.REPLACE).onTernaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>(S,A,C)=>(0,y.string)(g.replace(S,A,C))).set([l.TypeURL.RDF_LANG_STRING,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>([S,A,C])=>{const J=g.replace(S.typedValue,A.typedValue,C.typedValue);return(0,y.langString)(J,S.language)}).onQuaternaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>(S,A,C,J)=>(0,y.string)(g.replace(S,A,C,J))).set([l.TypeURL.RDF_LANG_STRING,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>([S,A,C,J])=>{const ie=g.replace(S.typedValue,A.typedValue,C.typedValue,J.typedValue);return(0,y.langString)(ie,S.language)}).collect()},Ie={arity:1,overloads:(0,y.declare)(c.RegularOperator.ABS).numericConverter(()=>S=>Math.abs(S)).collect()},Ee={arity:1,overloads:(0,y.declare)(c.RegularOperator.ROUND).numericConverter(()=>S=>Math.round(S)).collect()},Me={arity:1,overloads:(0,y.declare)(c.RegularOperator.CEIL).numericConverter(()=>S=>Math.ceil(S)).collect()},Ce={arity:1,overloads:(0,y.declare)(c.RegularOperator.FLOOR).numericConverter(()=>S=>Math.floor(S)).collect()},ke={arity:0,overloads:(0,y.declare)(c.RegularOperator.RAND).set([],()=>()=>(0,y.double)(Math.random())).collect()},qe={arity:0,overloads:(0,y.declare)(c.RegularOperator.NOW).set([],S=>()=>new o.DateTimeLiteral((0,d.toDateTimeRepresentation)({date:S.now,timeZone:S.defaultTimeZone}))).collect()},W={arity:1,overloads:(0,y.declare)(c.RegularOperator.YEAR).onDateTime1(()=>S=>(0,y.integer)(S.typedValue.year)).set([l.TypeURL.XSD_DATE],()=>([S])=>(0,y.integer)(S.typedValue.year)).collect()},D={arity:1,overloads:(0,y.declare)(c.RegularOperator.MONTH).onDateTime1(()=>S=>(0,y.integer)(S.typedValue.month)).set([l.TypeURL.XSD_DATE],()=>([S])=>(0,y.integer)(S.typedValue.month)).collect()},B={arity:1,overloads:(0,y.declare)(c.RegularOperator.DAY).onDateTime1(()=>S=>(0,y.integer)(S.typedValue.day)).set([l.TypeURL.XSD_DATE],()=>([S])=>(0,y.integer)(S.typedValue.day)).collect()},K={arity:1,overloads:(0,y.declare)(c.RegularOperator.HOURS).onDateTime1(()=>S=>(0,y.integer)(S.typedValue.hours)).set([l.TypeURL.XSD_TIME],()=>([S])=>(0,y.integer)(S.typedValue.hours)).collect()},ne={arity:1,overloads:(0,y.declare)(c.RegularOperator.MINUTES).onDateTime1(()=>S=>(0,y.integer)(S.typedValue.minutes)).set([l.TypeURL.XSD_TIME],()=>([S])=>(0,y.integer)(S.typedValue.minutes)).collect()},fe={arity:1,overloads:(0,y.declare)(c.RegularOperator.SECONDS).onDateTime1(()=>S=>(0,y.decimal)(S.typedValue.seconds)).set([l.TypeURL.XSD_TIME],()=>([S])=>(0,y.integer)(S.typedValue.seconds)).collect()},ge={arity:1,overloads:(0,y.declare)(c.RegularOperator.TIMEZONE).onDateTime1(()=>S=>{const A={hours:S.typedValue.zoneHours,minutes:S.typedValue.zoneMinutes};if(A.hours===void 0&&A.minutes===void 0)throw new f.InvalidTimezoneCall(S.str());return new o.DayTimeDurationLiteral(A)}).copy({from:[l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_DATE]}).copy({from:[l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_TIME]}).collect()},Le={arity:1,overloads:(0,y.declare)(c.RegularOperator.TZ).onDateTime1(()=>S=>(0,y.string)((0,d.extractRawTimeZone)(S.str()))).copy({from:[l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_DATE]}).copy({from:[l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_TIME]}).collect()},ee={arity:1,overloads:(0,y.declare)(c.RegularOperator.MD5).onString1Typed(()=>S=>(0,y.string)((0,a.hash)(S))).collect()},Oe={arity:1,overloads:(0,y.declare)(c.RegularOperator.SHA1).onString1Typed(()=>S=>(0,y.string)((0,e.sha1)().update(S).digest("hex"))).collect()},De={arity:1,overloads:(0,y.declare)(c.RegularOperator.SHA256).onString1Typed(()=>S=>(0,y.string)((0,e.sha256)().update(S).digest("hex"))).collect()},Ue={arity:1,overloads:(0,y.declare)(c.RegularOperator.SHA384).onString1Typed(()=>S=>(0,y.string)((0,e.sha384)().update(S).digest("hex"))).collect()},Ye={arity:1,overloads:(0,y.declare)(c.RegularOperator.SHA512).onString1Typed(()=>S=>(0,y.string)((0,e.sha512)().update(S).digest("hex"))).collect()},ut={arity:3,overloads:(0,y.declare)(c.RegularOperator.TRIPLE).onTerm3(S=>(...A)=>new o.Quad(v.quad(A[0].toRDF(),A[1].toRDF(),A[2].toRDF()),S.superTypeProvider)).collect()},at={arity:1,overloads:(0,y.declare)(c.RegularOperator.SUBJECT).onQuad1(()=>S=>S.subject).collect()},ct={arity:1,overloads:(0,y.declare)(c.RegularOperator.PREDICATE).onQuad1(()=>S=>S.predicate).collect()},ht={arity:1,overloads:(0,y.declare)(c.RegularOperator.OBJECT).onQuad1(()=>S=>S.object).collect()},te={arity:1,overloads:(0,y.declare)(c.RegularOperator.IS_TRIPLE).onTerm1(()=>S=>(0,y.bool)(S.termType==="quad")).collect()};return eg.definitions={"!":_,uplus:w,uminus:E,"*":O,"/":L,"+":F,"-":x,"=":P,"!=":N,"<":V,">":$,"<=":q,">=":H,isiri:X,isuri:X,isblank:Y,isliteral:he,isnumeric:Te,str:Ne,lang:$e,datatype:de,iri:ce,uri:ce,strdt:xe,strlang:Pe,uuid:we,struuid:Re,strlen:Se,substr:z,ucase:M,lcase:k,strstarts:T,strends:R,contains:U,strbefore:G,strafter:Q,encode_for_uri:Z,langmatches:se,regex:pe,replace:_e,abs:Ie,round:Ee,ceil:Me,floor:Ce,rand:ke,now:qe,year:W,month:D,day:B,hours:K,minutes:ne,seconds:fe,timezone:ge,tz:Le,md5:ee,sha1:Oe,sha256:De,sha384:Ue,sha512:Ye,triple:ut,subject:at,predicate:ct,object:ht,istriple:te},eg}var pg={},tH;function _6e(){if(tH)return pg;tH=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.specialDefinitions=void 0;const t=Xee(),e=Vi(),r=ui(),n=xn(),a=xs(),s=Mf(),o={arity:1,async applyAsync({args:L,mapping:F}){return u({args:L,mapping:F})},applySynchronously({args:L,mapping:F}){return u({args:L,mapping:F})}};function u({args:L,mapping:F}){const x=L[0];if(x.expressionType!==e.ExpressionType.Variable)throw new n.InvalidArgumentTypes(L,r.SpecialOperator.BOUND);const P=F.has((0,a.expressionToVar)(x));return(0,a.bool)(P)}const c={arity:3,async applyAsync({args:L,mapping:F,evaluate:x}){const j=(await x(L[0],F)).coerceEBV();return x(j?L[1]:L[2],F)},applySynchronously({args:L,mapping:F,evaluate:x}){const j=x(L[0],F).coerceEBV();return x(j?L[1]:L[2],F)}},l={arity:Number.POSITIVE_INFINITY,async applyAsync({args:L,mapping:F,evaluate:x}){const P=[];for(const j of L)try{return await x(j,F)}catch(N){P.push(N)}throw new n.CoalesceError(P)},applySynchronously({args:L,mapping:F,evaluate:x}){const P=[];for(const j of L)try{return x(j,F)}catch(N){P.push(N)}throw new n.CoalesceError(P)}},d={arity:2,async applyAsync({args:L,mapping:F,evaluate:x}){const[P,j]=L;try{if((await x(P,F)).coerceEBV())return(0,a.bool)(!0);const q=(await x(j,F)).coerceEBV();return(0,a.bool)(q)}catch(N){if(!(await x(j,F)).coerceEBV())throw N;return(0,a.bool)(!0)}},applySynchronously({args:L,mapping:F,evaluate:x}){const[P,j]=L;try{if(x(P,F).coerceEBV())return(0,a.bool)(!0);const q=x(j,F).coerceEBV();return(0,a.bool)(q)}catch(N){if(!x(j,F).coerceEBV())throw N;return(0,a.bool)(!0)}}},f={arity:2,async applyAsync({args:L,mapping:F,evaluate:x}){const[P,j]=L;try{if(!(await x(P,F)).coerceEBV())return(0,a.bool)(!1);const q=(await x(j,F)).coerceEBV();return(0,a.bool)(q)}catch(N){if((await x(j,F)).coerceEBV())throw N;return(0,a.bool)(!1)}},applySynchronously({args:L,mapping:F,evaluate:x}){const[P,j]=L;try{if(!x(P,F).coerceEBV())return(0,a.bool)(!1);const q=x(j,F).coerceEBV();return(0,a.bool)(q)}catch(N){if(x(j,F).coerceEBV())throw N;return(0,a.bool)(!1)}}},h={arity:2,async applyAsync({args:L,mapping:F,evaluate:x}){const[P,j]=L.map($=>x($,F)),[N,V]=await Promise.all([P,j]);return(0,a.bool)(N.toRDF().equals(V.toRDF()))},applySynchronously({args:L,mapping:F,evaluate:x}){const[P,j]=L.map(N=>x(N,F));return(0,a.bool)(P.toRDF().equals(j.toRDF()))}},p={arity:Number.POSITIVE_INFINITY,checkArity(L){return L.length>0},async applyAsync(L){const{args:F,mapping:x,evaluate:P}=L,[j,...N]=F,V=await P(j,x);return m(V,{...L,args:N},[])},applySynchronously(L){const{args:F,mapping:x,evaluate:P}=L,[j,...N]=F,V=P(j,x);return y(V,{...L,args:N},[])}};async function m(L,F,x){const{args:P,mapping:j,evaluate:N}=F;if(P.length===0)return x.every($=>!$)?(0,a.bool)(!1):Promise.reject(new n.InError(x));try{const V=P.shift(),$=await N(V,j);return s.regularFunctions[r.RegularOperator.EQUAL].apply([L,$],F).typedValue?(0,a.bool)(!0):m(L,F,[...x,!1])}catch(V){return m(L,F,[...x,V])}}function y(L,F,x){const{args:P,mapping:j,evaluate:N}=F;if(P.length===0){if(x.every($=>!$))return(0,a.bool)(!1);throw new n.InError(x)}try{const V=P.shift(),$=N(V,j);return s.regularFunctions[r.RegularOperator.EQUAL].apply([L,$],F).typedValue?(0,a.bool)(!0):y(L,F,[...x,!1])}catch(V){return y(L,F,[...x,V])}}const g={arity:Number.POSITIVE_INFINITY,checkArity(L){return L.length>0},async applyAsync(L){const x=await s.specialFunctions[r.SpecialOperator.IN].applyAsync(L);return(0,a.bool)(!x.typedValue)},applySynchronously(L){const x=s.specialFunctions[r.SpecialOperator.IN].applySynchronously(L);return(0,a.bool)(!x.typedValue)}},b=(0,a.declare)(r.SpecialOperator.CONCAT).onStringly1(()=>L=>L).collect(),v={arity:Number.POSITIVE_INFINITY,async applyAsync(L){const{args:F,mapping:x,evaluate:P,functionArgumentsCache:j,superTypeProvider:N}=L,V=F.map(async Y=>P(Y,x)).map(async Y=>{const he=b.search([await Y],N,j);if(!he)throw new n.InvalidArgumentTypes(F,r.SpecialOperator.CONCAT);return he(L)([await Y])}),$=await Promise.all(V),H=$.map(Y=>Y.typedValue).join(""),X=_($)?$[0].language:void 0;return X?(0,a.langString)(H,X):(0,a.string)(H)},applySynchronously(L){const{args:F,mapping:x,evaluate:P,superTypeProvider:j,functionArgumentsCache:N}=L,V=F.map(X=>P(X,x)).map(X=>{const Y=b.search([X],j,N);if(!Y)throw new n.InvalidArgumentTypes(F,r.SpecialOperator.CONCAT);return Y(L)([X])}),q=V.map(X=>X.typedValue).join(""),H=_(V)?V[0].language:void 0;return H?(0,a.langString)(q,H):(0,a.string)(q)}};function _(L){return L.length>0&&L.every(F=>F.language===L[0].language)}const w=(0,a.declare)(r.SpecialOperator.BNODE).onString1(()=>L=>L).collect(),E={arity:Number.POSITIVE_INFINITY,checkArity(L){return L.length===0||L.length===1},async applyAsync(L){const{args:F,mapping:x,evaluate:P,superTypeProvider:j,functionArgumentsCache:N}=L,V=F.length===1?await P(F[0],x):void 0;let $;if(V){const q=w.search([V],j,N);if(!q)throw new n.InvalidArgumentTypes(F,r.SpecialOperator.BNODE);$=q(L)([V]).str()}if(L.bnode){const q=await L.bnode($);return new e.BlankNode(q)}return O($)},applySynchronously(L){const{args:F,mapping:x,evaluate:P,superTypeProvider:j,functionArgumentsCache:N}=L,V=F.length===1?P(F[0],x):void 0;let $;if(V){const q=w.search([V],j,N);if(!q)throw new n.InvalidArgumentTypes(F,r.SpecialOperator.BNODE);$=q(L)([V]).str()}if(L.bnode){const q=L.bnode($);return new e.BlankNode(q)}return O($)}};function O(L){return new e.BlankNode(L??t.v4())}return pg.specialDefinitions={bound:o,if:c,coalesce:l,"&&":f,"||":d,sameterm:h,in:p,notin:g,concat:v,bnode:E},pg}var rH;function Mf(){return rH||(rH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(c,l,d,f){f===void 0&&(f=d);var h=Object.getOwnPropertyDescriptor(l,d);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(c,f,h)}:function(c,l,d,f){f===void 0&&(f=d),c[f]=l[d]}),r=I&&I.__exportStar||function(c,l){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&e(l,c,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.OverloadTree=t.namedFunctions=t.specialFunctions=t.regularFunctions=void 0;const n=sN(),a=n6e(),s=g6e(),o=_6e();r(sN(),t),t.regularFunctions=Object.fromEntries(Object.entries(s.definitions).map(([c,l])=>[c,new n.RegularFunction(c,l)])),t.specialFunctions=Object.fromEntries(Object.entries(o.specialDefinitions).map(([c,l])=>[c,new n.SpecialFunction(c,l)])),t.namedFunctions=Object.fromEntries(Object.entries(a.namedDefinitions).map(([c,l])=>[c,new n.NamedFunction(c,l)]));var u=Gee();Object.defineProperty(t,"OverloadTree",{enumerable:!0,get:function(){return u.OverloadTree}})}(Bx)),Bx}var nH;function Yee(){if(nH)return km;nH=1,Object.defineProperty(km,"__esModule",{value:!0}),km.AlgebraTransformer=void 0;const t=xt(),e=Vi(),r=Mf(),n=ui(),a=xn(),s=xn(),o=vl();let u=class C_ extends o.TermTransformer{constructor(l){super(l.superTypeProvider),this.algebraConfig=l,this.creatorConfig={type:l.type,creator:l.creator}}transformAlgebra(l){const d=t.Algebra.expressionTypes;switch(l.expressionType){case d.TERM:return this.transformTerm(l);case d.OPERATOR:return this.transformOperator(l);case d.NAMED:return this.transformNamed(l);case d.EXISTENCE:return C_.transformExistence(l);case d.AGGREGATE:return C_.transformAggregate(l);case d.WILDCARD:return C_.transformWildcard(l)}}static transformWildcard(l){return new e.NamedNode(l.wildcard.value)}transformOperator(l){const d=l.operator.toLowerCase();if(n.SpecialOperators.has(d)){const m=d,y=l.args.map(b=>this.transformAlgebra(b)),g=r.specialFunctions[m];if(!g.checkArity(y))throw new a.InvalidArity(y,m);return new e.SpecialOperator(y,g.applyAsync,g.applySynchronously)}if(!n.Operators.has(d))throw new a.UnknownOperator(l.operator);const f=d,h=l.args.map(m=>this.transformAlgebra(m)),p=r.regularFunctions[f];if(!C_.hasCorrectArity(h,p.arity))throw new a.InvalidArity(h,f);return new e.Operator(h,m=>p.apply(m,this.algebraConfig))}wrapSyncFunction(l,d){return f=>{try{const h=l(f.map(p=>p.toRDF()));return this.transformRDFTermUnsafe(h)}catch(h){throw new s.ExtensionFunctionError(d,h)}}}wrapAsyncFunction(l,d){return async f=>{try{const h=await l(f.map(p=>p.toRDF()));return this.transformRDFTermUnsafe(h)}catch(h){throw new s.ExtensionFunctionError(d,h)}}}transformNamed(l){const d=l.name.value,f=l.args.map(h=>this.transformAlgebra(h));if(n.NamedOperators.has(d)){const h=l.name.value,p=r.namedFunctions[h];return new e.Named(l.name,f,m=>p.apply(m,this.algebraConfig))}if(this.creatorConfig.type==="sync"){const h=this.creatorConfig.creator(l.name);if(h){const p=this.wrapSyncFunction(h,l.name.value);return new e.SyncExtension(l.name,f,p)}}else{const h=this.creatorConfig.creator(l.name);if(h){const p=this.wrapAsyncFunction(h,l.name.value);return new e.AsyncExtension(l.name,f,p)}}throw new a.UnknownNamedOperator(l.name.value)}static hasCorrectArity(l,d){return Array.isArray(d)?d.includes(l.length):l.length===d}static transformAggregate(l){const d=l.aggregator;return new e.Aggregate(d,l)}static transformExistence(l){return new e.Existence(l)}};return km.AlgebraTransformer=u,km}var yg={},mg={},iH;function Zee(){if(iH)return mg;iH=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.BaseExpressionEvaluator=void 0;const t=xs(),e=xn();let r=class{constructor(a){this.termTransformer=a}term(a){return a}variable(a,s){const o=s.get((0,t.expressionToVar)(a));if(!o)throw new e.UnboundVariableError(a.name,s);return this.termTransformer.transformRDFTermUnsafe(o)}};return mg.BaseExpressionEvaluator=r,mg}var aH;function b6e(){if(aH)return yg;aH=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.AsyncRecursiveEvaluator=void 0;const t=Vi(),e=vl(),r=xn(),n=Zee();let a=class extends n.BaseExpressionEvaluator{constructor(o,u){super(u??new e.TermTransformer(o.superTypeProvider)),this.context=o,this.subEvaluators={[t.ExpressionType.Term]:(c,l)=>this.term(c),[t.ExpressionType.Variable]:(c,l)=>this.variable(c,l),[t.ExpressionType.Operator]:(c,l)=>this.evalOperator(c,l),[t.ExpressionType.SpecialOperator]:(c,l)=>this.evalSpecialOperator(c,l),[t.ExpressionType.Named]:(c,l)=>this.evalNamed(c,l),[t.ExpressionType.Existence]:(c,l)=>this.evalExistence(c,l),[t.ExpressionType.Aggregate]:(c,l)=>this.evalAggregate(c),[t.ExpressionType.AsyncExtension]:(c,l)=>this.evalAsyncExtension(c,l)}}async evaluate(o,u){const c=this.subEvaluators[o.expressionType];if(!c)throw new r.InvalidExpressionType(o);return c.bind(this)(o,u)}async evalOperator(o,u){const c=o.args.map(d=>this.evaluate(d,u)),l=await Promise.all(c);return o.apply(l)}async evalSpecialOperator(o,u){const c=this.evaluate.bind(this),l={args:o.args,mapping:u,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:c,bnode:this.context.bnode,defaultTimeZone:this.context.defaultTimeZone};return o.applyAsync(l)}async _evalAsyncArgs(o,u){const c=o.map(l=>this.evaluate(l,u));return await Promise.all(c)}async evalNamed(o,u){return o.apply(await this._evalAsyncArgs(o.args,u))}async evalAsyncExtension(o,u){return await o.apply(await this._evalAsyncArgs(o.args,u))}async evalExistence(o,u){if(!this.context.exists)throw new r.NoExistenceHook;return new t.BooleanLiteral(await this.context.exists(o.expression,u))}async evalAggregate(o){if(!this.context.aggregate)throw new r.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(await this.context.aggregate(o.expression))}};return yg.AsyncRecursiveEvaluator=a,yg}var sH;function tte(){if(sH)return Um;sH=1,Object.defineProperty(Um,"__esModule",{value:!0}),Um.AsyncEvaluator=void 0;const t=Mu(),e=Yee(),r=jf(),n=b6e();let a=class ete{static completeContext(o){const u=o.now??new Date(Date.now());return{now:u,baseIRI:o.baseIRI??void 0,functionArgumentsCache:o.functionArgumentsCache??{},superTypeProvider:{cache:o.typeCache??new t.LRUCache({max:1e3}),discoverer:o.getSuperType??(()=>"term")},extensionFunctionCreator:o.extensionFunctionCreator,exists:o.exists,aggregate:o.aggregate,bnode:o.bnode,defaultTimeZone:o.defaultTimeZone??(0,r.extractTimeZone)(u)}}constructor(o,u={}){this.algExpr=o;const c=u.extensionFunctionCreator??(()=>{}),l=ete.completeContext(u),d=new e.AlgebraTransformer({type:"async",creator:c,...l});this.expr=d.transformAlgebra(o),this.evaluator=new n.AsyncRecursiveEvaluator(l,d)}async evaluate(o){return(await this.evaluator.evaluate(this.expr,o)).toRDF()}async evaluateAsEBV(o){return(await this.evaluator.evaluate(this.expr,o)).coerceEBV()}async evaluateAsInternal(o){return await this.evaluator.evaluate(this.expr,o)}};return Um.AsyncEvaluator=a,Um}var gg={},_g={},oH;function v6e(){if(oH)return _g;oH=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.SyncRecursiveEvaluator=void 0;const t=Vi(),e=vl(),r=xn(),n=Zee();let a=class extends n.BaseExpressionEvaluator{constructor(o,u){super(u??new e.TermTransformer(o.superTypeProvider)),this.context=o,this.subEvaluators={[t.ExpressionType.Term]:(c,l)=>this.term(c),[t.ExpressionType.Variable]:(c,l)=>this.variable(c,l),[t.ExpressionType.Operator]:(c,l)=>this.evalOperator(c,l),[t.ExpressionType.SpecialOperator]:(c,l)=>this.evalSpecialOperator(c,l),[t.ExpressionType.Named]:(c,l)=>this.evalNamed(c,l),[t.ExpressionType.Existence]:(c,l)=>this.evalExistence(c,l),[t.ExpressionType.Aggregate]:(c,l)=>this.evalAggregate(c),[t.ExpressionType.SyncExtension]:(c,l)=>this.evalSyncExtension(c,l)}}evaluate(o,u){const c=this.subEvaluators[o.expressionType];if(!c)throw new r.InvalidExpressionType(o);return c.bind(this)(o,u)}evalOperator(o,u){const c=o.args.map(l=>this.evaluate(l,u));return o.apply(c)}evalSpecialOperator(o,u){const c=this.evaluate.bind(this),l={args:o.args,mapping:u,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:c,bnode:this.context.bnode,defaultTimeZone:this.context.defaultTimeZone};return o.applySynchronously(l)}evalNamed(o,u){const c=o.args.map(l=>this.evaluate(l,u));return o.apply(c)}evalSyncExtension(o,u){const c=o.args.map(l=>this.evaluate(l,u));return o.apply(c)}evalExistence(o,u){if(!this.context.exists)throw new r.NoExistenceHook;return new t.BooleanLiteral(this.context.exists(o.expression,u))}evalAggregate(o){if(!this.context.aggregate)throw new r.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(this.context.aggregate(o.expression))}};return _g.SyncRecursiveEvaluator=a,_g}var uH;function nte(){if(uH)return gg;uH=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.SyncEvaluator=void 0;const t=Mu(),e=Yee(),r=jf(),n=v6e();let a=class rte{static completeContext(o){const u=o.now??new Date(Date.now());return{now:u,baseIRI:o.baseIRI??void 0,functionArgumentsCache:o.functionArgumentsCache??{},superTypeProvider:{cache:o.typeCache??new t.LRUCache({max:1e3}),discoverer:o.getSuperType??(()=>"term")},extensionFunctionCreator:o.extensionFunctionCreator,exists:o.exists,aggregate:o.aggregate,bnode:o.bnode,defaultTimeZone:o.defaultTimeZone??(0,r.extractTimeZone)(u)}}constructor(o,u={}){this.algExpr=o,this.context=u;const c=u.extensionFunctionCreator??(()=>{}),l=rte.completeContext(u),d=new e.AlgebraTransformer({type:"sync",creator:c,...l});this.expr=d.transformAlgebra(o),this.evaluator=new n.SyncRecursiveEvaluator(l,d)}evaluate(o){return this.evaluator.evaluate(this.expr,o).toRDF()}evaluateAsEBV(o){return this.evaluator.evaluate(this.expr,o).coerceEBV()}evaluateAsInternal(o){return this.evaluator.evaluate(this.expr,o)}};return gg.SyncEvaluator=a,gg}var bg={},vg={},wg={},Sg={},sc={},cH;function Bu(){if(cH)return sc;cH=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.Aggregator=sc.AggregatorComponent=void 0;const t=nr,e=vl(),r=ui(),n=qT();class a{static emptyValue(){}constructor(u,c){this.sharedContext=c,this.separator=u.separator||" ",this.termTransformer=new e.TermTransformer(c.superTypeProvider)}termToNumericOrError(u){if(u.termType!=="Literal")throw new Error(`Term with value ${u.value} has type ${u.termType} and is not a numeric literal`);if(!(0,n.isSubTypeOf)(u.datatype.value,r.TypeAlias.SPARQL_NUMERIC,this.sharedContext.superTypeProvider))throw new Error(`Term datatype ${u.datatype.value} with value ${u.value} has type ${u.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(u)}}sc.AggregatorComponent=a;let s=class{constructor(u,c){this.aggregatorComponent=c,this.variableValues=new Map,this.distinct=u.distinct}static emptyValue(u){return u.emptyValue()}result(){return this.aggregatorComponent.result()}put(u,c=""){this.canSkip(u,c)||(this.aggregatorComponent.put(u),this.addSeen(u,c))}canSkip(u,c){const l=this.variableValues.get(c);return this.distinct&&l!==void 0&&l.has(t.termToString(u))}addSeen(u,c){this.distinct&&(this.variableValues.has(c)||this.variableValues.set(c,new Set),this.variableValues.get(c).add(t.termToString(u)))}};return sc.Aggregator=s,sc}var lH;function w6e(){if(lH)return Sg;lH=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.Average=void 0;const t=Vi(),e=Mf(),r=xs(),n=ui(),a=Bu();let s=class ite extends a.AggregatorComponent{constructor(){super(...arguments),this.summer=e.regularFunctions[n.RegularOperator.ADDITION],this.divider=e.regularFunctions[n.RegularOperator.DIVISION],this.state=void 0}static emptyValue(){return(0,r.integer)(0).toRDF()}put(u){if(this.state===void 0){const c=this.termToNumericOrError(u);this.state={sum:c,count:1}}else{const c=this.termToNumericOrError(u);this.state.sum=this.summer.apply([this.state.sum,c],this.sharedContext),this.state.count++}}result(){if(this.state===void 0)return ite.emptyValue();const u=new t.IntegerLiteral(this.state.count);return this.divider.apply([this.state.sum,u],this.sharedContext).toRDF()}};return Sg.Average=s,Sg}var Tg={},dH;function S6e(){if(dH)return Tg;dH=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.Count=void 0;const t=xs(),e=Bu();let r=class ate extends e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}static emptyValue(){return(0,t.integer)(0).toRDF()}put(){this.state===void 0&&(this.state=0),this.state++}result(){return this.state===void 0?ate.emptyValue():(0,t.integer)(this.state).toRDF()}};return Tg.Count=r,Tg}var Eg={},fH;function T6e(){if(fH)return Eg;fH=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.GroupConcat=void 0;const t=xs(),e=Bu();let r=class ste extends e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0,this.lastLanguageValid=!0,this.lastLanguage=void 0}static emptyValue(){return(0,t.string)("").toRDF()}put(a){this.state===void 0?(this.state=a.value,a.termType==="Literal"&&(this.lastLanguage=a.language)):(this.state+=this.separator+a.value,this.lastLanguageValid&&a.termType==="Literal"&&this.lastLanguage!==a.language&&(this.lastLanguageValid=!1,this.lastLanguage=void 0))}result(){return this.state===void 0?ste.emptyValue():this.lastLanguageValid&&this.lastLanguage?(0,t.langString)(this.state,this.lastLanguage).toRDF():(0,t.string)(this.state).toRDF()}};return Eg.GroupConcat=r,Eg}var Ag={},hH;function E6e(){if(hH)return Ag;hH=1,Object.defineProperty(Ag,"__esModule",{value:!0}),Ag.Max=void 0;const t=kT(),e=Bu();let r=class ote extends e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(a){if(a.termType!=="Literal")throw new Error(`Term with value ${a.value} has type ${a.termType} and is not a literal`);this.state===void 0?this.state=a:(0,t.orderTypes)(this.state,a)===-1&&(this.state=a)}result(){return this.state===void 0?ote.emptyValue():this.state}};return Ag.Max=r,Ag}var Og={},pH;function A6e(){if(pH)return Og;pH=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.Min=void 0;const t=kT(),e=Bu();let r=class ute extends e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(a){if(a.termType!=="Literal")throw new Error(`Term with value ${a.value} has type ${a.termType} and is not a literal`);this.state===void 0?this.state=a:(0,t.orderTypes)(this.state,a)===1&&(this.state=a)}result(){return this.state===void 0?ute.emptyValue():this.state}};return Og.Min=r,Og}var Rg={},yH;function O6e(){if(yH)return Rg;yH=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.Sample=void 0;const t=Bu();let e=class cte extends t.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(n){this.state===void 0&&(this.state=n)}result(){return this.state===void 0?cte.emptyValue():this.state}};return Rg.Sample=e,Rg}var xg={},mH;function R6e(){if(mH)return xg;mH=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.Sum=void 0;const t=Mf(),e=xs(),r=ui(),n=Bu();let a=class lte extends n.AggregatorComponent{constructor(){super(...arguments),this.state=void 0,this.summer=t.regularFunctions[r.RegularOperator.ADDITION]}static emptyValue(){return(0,e.integer)(0).toRDF()}put(o){if(this.state===void 0)this.state=this.termToNumericOrError(o);else{const u=this.termToNumericOrError(o);this.state=this.summer.apply([this.state,u],this.sharedContext)}}result(){return this.state===void 0?lte.emptyValue():this.state.toRDF()}};return xg.Sum=a,xg}var gH;function x6e(){if(gH)return wg;gH=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.aggregators=void 0;const t=w6e(),e=S6e(),r=T6e(),n=E6e(),a=A6e(),s=O6e(),o=R6e();return wg.aggregators={count:e.Count,sum:o.Sum,min:a.Min,max:n.Max,avg:t.Average,group_concat:r.GroupConcat,sample:s.Sample},wg}var Ig={},_H;function I6e(){if(_H)return Ig;_H=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.WildcardCountAggregator=void 0;const t=nr,e=xs();let r=class{constructor(a){this.bindingValues=new Map,this.counter=0,this.distinct=a.distinct}putBindings(a){this.handleDistinct(a)||(this.counter+=1)}static emptyValue(){return(0,e.integer)(0).toRDF()}result(){return(0,e.integer)(this.counter).toRDF()}handleDistinct(a){if(this.distinct){const s=[...a];s.sort((d,f)=>d[0].value.localeCompare(f[0].value));const o=s.map(([d])=>d.value).join(","),u=s.map(([,d])=>t.termToString(d)).join(","),c=this.bindingValues.get(o),l=c!==void 0&&c.has(u);return c||this.bindingValues.set(o,new Set),this.bindingValues.get(o).add(u),l}return!1}};return Ig.WildcardCountAggregator=r,Ig}var bH;function dte(){if(bH)return vg;bH=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.BaseAggregateEvaluator=void 0;const t=xt(),e=x6e(),r=Bu(),n=I6e(),a=xn();let s=class{constructor(u,c,l){this.throwError=!1,this.isWildcard=!1,this.errorOccurred=!1,this.expression=u,this.aggregator=new r.Aggregator(u,new e.aggregators[u.aggregator](u,c)),this.throwError=l??!1,this.isWildcard=u.expression.expressionType===t.Algebra.expressionTypes.WILDCARD,this.isWildcard&&(this.wildcardAggregator=new n.WildcardCountAggregator(u))}static emptyValue(u,c=!1){let l;if(u.expression.expressionType===t.Algebra.expressionTypes.WILDCARD?l=n.WildcardCountAggregator.emptyValue():l=r.Aggregator.emptyValue(e.aggregators[u.aggregator]),l===void 0&&c)throw new a.EmptyAggregateError;return l}result(){if(!this.errorOccurred)return this.isWildcard?this.wildcardAggregator.result():this.aggregator.result()}};return vg.BaseAggregateEvaluator=s,vg}var vH;function P6e(){if(vH)return bg;vH=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.AggregateEvaluator=void 0;const t=dte(),e=nte();let r=class extends t.BaseAggregateEvaluator{constructor(a,s,o){super(a,e.SyncEvaluator.completeContext(s??{}),o),this.evaluator=new e.SyncEvaluator(a.expression,s)}put(a){if(!this.errorOccurred)if(this.isWildcard)this.wildcardAggregator.putBindings(a);else try{const s=this.evaluator.evaluate(a);this.aggregator.put(s)}catch(s){this.safeThrow(s)}}safeThrow(a){if(this.throwError)throw a;this.errorOccurred=!0}};return bg.AggregateEvaluator=r,bg}var Pg={},wH;function N6e(){if(wH)return Pg;wH=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.AsyncAggregateEvaluator=void 0;const t=tte(),e=dte();let r=class extends e.BaseAggregateEvaluator{constructor(a,s,o){super(a,t.AsyncEvaluator.completeContext(s??{}),o),this.evaluator=new t.AsyncEvaluator(a.expression,s),this.errorOccurred=!1}async put(a){if(!this.errorOccurred)if(this.isWildcard)this.wildcardAggregator.putBindings(a);else try{const s=await this.evaluator.evaluate(a);if(!s||this.errorOccurred)return;this.aggregator.put(s)}catch(s){this.safeThrow(s)}}safeThrow(a){if(this.throwError)throw a;this.errorOccurred=!0}};return Pg.AsyncAggregateEvaluator=r,Pg}var SH;function Ff(){return SH||(SH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAggregateEvaluator=t.orderTypes=t.isExpressionError=t.ExpressionError=t.AggregateEvaluator=t.SyncEvaluator=t.AsyncEvaluator=void 0;var e=tte();Object.defineProperty(t,"AsyncEvaluator",{enumerable:!0,get:function(){return e.AsyncEvaluator}});var r=nte();Object.defineProperty(t,"SyncEvaluator",{enumerable:!0,get:function(){return r.SyncEvaluator}});var n=P6e();Object.defineProperty(t,"AggregateEvaluator",{enumerable:!0,get:function(){return n.AggregateEvaluator}});var a=xn();Object.defineProperty(t,"ExpressionError",{enumerable:!0,get:function(){return a.ExpressionError}}),Object.defineProperty(t,"isExpressionError",{enumerable:!0,get:function(){return a.isExpressionError}});var s=kT();Object.defineProperty(t,"orderTypes",{enumerable:!0,get:function(){return s.orderTypes}});var o=N6e();Object.defineProperty(t,"AsyncAggregateEvaluator",{enumerable:!0,get:function(){return o.AsyncAggregateEvaluator}})}(Lx)),Lx}var TH;function D6e(){if(TH)return $m;TH=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.ActorQueryOperationExtend=void 0;const t=Vr(),e=Tt(),r=Ff();let n=class extends e.ActorQueryOperationTypedMediated{constructor(s){super(s,"extend")}async testOperation(s,o){const u=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o);return new r.AsyncEvaluator(s.expression,e.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,u)),!0}async runOperation(s,o){const{expression:u,input:c,variable:l}=s,d=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:c,context:o}));if((await d.metadata()).variables.some(g=>g.equals(l)))throw new Error(`Illegal binding to variable '${l.value}' that has already been bound`);const f=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o),h={...e.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,f)},p=new r.AsyncEvaluator(u,h),m=async(g,b,v)=>{try{const _=await p.evaluate(g),w=g.set(l,_);v(w)}catch(_){(0,r.isExpressionError)(_)?(v(g),this.logWarn(o,`Expression error for extend operation (${_.message})with bindings '${(0,t.bindingsToString)(g)}'`)):y.emit("error",_)}b()},y=d.bindingsStream.transform({autoStart:!1,transform:m});return{type:"bindings",bindingsStream:y,async metadata(){const g=await d.metadata();return{...g,variables:[...g.variables,l]}}}}};return $m.ActorQueryOperationExtend=n,$m}var EH;function C6e(){return EH||(EH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(D6e(),t)}(Cx)),Cx}var kx={},Ng={},AH;function L6e(){if(AH)return Ng;AH=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.ActorQueryOperationFilter=void 0;const t=Vr(),e=Tt(),r=Ff();let n=class extends e.ActorQueryOperationTypedMediated{constructor(s){super(s,"filter")}async testOperation(s,o){const u=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o),c={...e.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,u)};return new r.AsyncEvaluator(s.expression,c),!0}async runOperation(s,o){const u=await this.mediatorQueryOperation.mediate({operation:s.input,context:o}),c=e.ActorQueryOperation.getSafeBindings(u);e.ActorQueryOperation.validateQueryOutput(c,"bindings");const l=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o),d={...e.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,l)},f=new r.AsyncEvaluator(s.expression,d),h=async(m,y,g)=>{try{await f.evaluateAsEBV(m)&&g(m)}catch(b){(0,r.isExpressionError)(b)?this.logWarn(o,"Error occurred while filtering.",()=>({error:b,bindings:(0,t.bindingsToString)(m)})):p.emit("error",b)}y()},p=c.bindingsStream.transform({transform:h,autoStart:!1});return{type:"bindings",bindingsStream:p,metadata:c.metadata}}};return Ng.ActorQueryOperationFilter=n,Ng}var OH;function j6e(){return OH||(OH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(L6e(),t)}(kx)),kx}var Vx={},Dg={},Cg={},RH;function M6e(){if(RH)return Cg;RH=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.GroupsState=void 0;const t=Ff(),e=Ot,r=new e.DataFactory;let n=class{constructor(s,o,u,c){this.hashFunction=s,this.pattern=o,this.sparqleeConfig=u,this.bindingsFactory=c,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(l=>l.value)),this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(s){const o=this.resultCheck();if(o)return o;this.waitCounter++;const u=s.filter((f,h)=>this.groupVariables.has(h.value)),c=this.hashBindings(u);let l=this.groupsInitializer.get(c),d;if(l){const f=l;d=(async()=>{const h=await f;await Promise.all(this.pattern.aggregates.map(async p=>{const m=p.variable.value;await h.aggregators[m].put(s)}))})().then(async()=>{this.subtractWaitCounterAndCollect()})}else l=(async()=>{const f={};await Promise.all(this.pattern.aggregates.map(async p=>{const m=p.variable.value;f[m]=new t.AsyncAggregateEvaluator(p,this.sparqleeConfig),await f[m].put(s)}));const h={aggregators:f,bindings:u};return this.groups.set(c,h),this.subtractWaitCounterAndCollect(),h})(),this.groupsInitializer.set(c,l),d=l;return d}subtractWaitCounterAndCollect(){--this.waitCounter===0&&this.handleResultCollection()}handleResultCollection(){let s=[...this.groups].map(([o,u])=>{const{bindings:c,aggregators:l}=u;let d=c;for(const f in l){const h=l[f].result();h&&(d=d.set(r.variable(f),h))}return d});if(s.length===0&&this.groupVariables.size===0){const o=[];for(const u of this.pattern.aggregates){const c=u.variable,l=t.AsyncAggregateEvaluator.emptyValue(u);l!==void 0&&o.push([c,l])}s=[this.bindingsFactory.bindings(o)]}this.waitResolver(s)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}collectResults(){const s=this.resultCheck();if(s)return s;this.resultHasBeenCalled=!0;const o=new Promise(u=>{this.waitResolver=u});return this.subtractWaitCounterAndCollect(),o}hashBindings(s){return this.hashFunction(s)}};return Cg.GroupsState=n,Cg}var xH;function F6e(){if(xH)return Dg;xH=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.ActorQueryOperationGroup=void 0;const t=Vr(),e=Tt(),r=Ff(),n=Mt,a=M6e();let s=class extends e.ActorQueryOperationTypedMediated{constructor(u){super(u,"group")}async testOperation(u,c){const l=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,c);for(const d of u.aggregates)new r.AsyncEvaluator(d.expression,e.ActorQueryOperation.getAsyncExpressionContext(c,this.mediatorQueryOperation,l));return!0}async runOperation(u,c){const l=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,c),{hashFunction:d}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:c}),{input:f,aggregates:h}=u,p=await this.mediatorQueryOperation.mediate({operation:f,context:c}),m=e.ActorQueryOperation.getSafeBindings(p),y=[...u.variables,...h.map(v=>v.variable)],g=e.ActorQueryOperation.getAsyncExpressionContext(c,this.mediatorQueryOperation,l);return{type:"bindings",bindingsStream:new n.TransformIterator(()=>new Promise((v,_)=>{const w=new a.GroupsState(d,u,g,l);m.bindingsStream.on("end",async()=>{try{const E=new n.ArrayIterator(await w.collectResults(),{autoStart:!1});v(E)}catch(E){_(E)}}),m.bindingsStream.on("error",_),m.bindingsStream.on("data",E=>{w.consumeBindings(E).catch(_)})}),{autoStart:!1}),metadata:async()=>({...await m.metadata(),variables:y})}}};return Dg.ActorQueryOperationGroup=s,Dg}var IH;function B6e(){return IH||(IH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(F6e(),t)}(Vx)),Vx}var Hx={},Lg={},PH;function q6e(){if(PH)return Lg;PH=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.ActorQueryOperationLeftJoin=void 0;const t=Vr(),e=Tt(),r=Ff();let n=class extends e.ActorQueryOperationTypedMediated{constructor(s){super(s,"leftjoin")}async testOperation(s,o){return!0}async runOperation(s,o){const u=(await Promise.all(s.input.map(async l=>({output:await this.mediatorQueryOperation.mediate({operation:l,context:o}),operation:l})))).map(({output:l,operation:d})=>({output:e.ActorQueryOperation.getSafeBindings(l),operation:d})),c=await this.mediatorJoin.mediate({type:"optional",entries:u,context:o});if(s.expression){const d=(await u[1].output.metadata()).variables,f=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o),h={...e.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,f)},p=new r.AsyncEvaluator(s.expression,h),m=c.bindingsStream.transform({autoStart:!1,transform:async(y,g,b)=>{if(!d.every(v=>y.has(v.value)))return b(y),g();try{await p.evaluateAsEBV(y)&&b(y)}catch(v){(0,r.isExpressionError)(v)?this.logWarn(o,"Error occurred while filtering.",()=>({error:v,bindings:y})):m.emit("error",v)}g()}});c.bindingsStream=m}return c}};return Lg.ActorQueryOperationLeftJoin=n,Lg}var NH;function $6e(){return NH||(NH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(q6e(),t)}(Hx)),Hx}var Qx={},jg={},DH;function U6e(){if(DH)return jg;DH=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.ActorQueryOperationNop=void 0;const t=Vr(),e=Tt(),r=li(),n=Mt;let a=class extends e.ActorQueryOperationTypedMediated{constructor(o){super(o,"nop")}async testOperation(o,u){return!0}async runOperation(o,u){const c=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,u);return{bindingsStream:new n.SingletonIterator(c.bindings()),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}};return jg.ActorQueryOperationNop=a,jg}var CH;function k6e(){return CH||(CH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(U6e(),t)}(Qx)),Qx}var zx={},Mg={},Fg={},LH;function V6e(){if(LH)return Fg;LH=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.SortIterator=void 0;const t=Mt;let e=class extends t.TransformIterator{constructor(n,a,s){super(n,s);const o=s&&s.window;this.windowLength=Number.isFinite(o)&&o>0?o:Number.POSITIVE_INFINITY,this.sort=a,this.sorted=[]}_read(n,a){let s,{length:o}=this.sorted;for(;o!==this.windowLength&&(s=this.source.read(),s!==null);){let u=0,c=o-1,l,d;for(;u<=c;)l=Math.trunc((u+c)/2),d=this.sort(s,this.sorted[l]),d<0?u=l+1:d>0?c=l-1:(u=l,c=-1);this.sorted.splice(u,0,s),o++}o===this.windowLength&&this._push(this.sorted.pop()),a()}_flush(n){let{length:a}=this.sorted;for(;a--;)this._push(this.sorted.pop());n()}};return Fg.SortIterator=e,Fg}var jH;function H6e(){if(jH)return Mg;jH=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.ActorQueryOperationOrderBy=void 0;const t=Vr(),e=Tt(),r=Ff(),n=xt(),a=V6e();let s=class extends e.ActorQueryOperationTypedMediated{constructor(u){super(u,"orderby"),this.window=u.window??Number.POSITIVE_INFINITY}async testOperation(u,c){const l=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,c);for(let d of u.expressions)d=this.extractSortExpression(d),new r.AsyncEvaluator(d,e.ActorQueryOperation.getAsyncExpressionContext(c,this.mediatorQueryOperation,l));return!0}async runOperation(u,c){const l=await this.mediatorQueryOperation.mediate({operation:u.input,context:c}),d=e.ActorQueryOperation.getSafeBindings(l),f={window:this.window},h=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,c),p={...e.ActorQueryOperation.getAsyncExpressionContext(c,this.mediatorQueryOperation,h)};let{bindingsStream:m}=d;for(let y=u.expressions.length-1;y>=0;y--){let g=u.expressions[y];const b=this.isAscending(g);g=this.extractSortExpression(g);const v=new r.AsyncEvaluator(g,p),_=async(O,L,F)=>{try{const x=await v.evaluate(O);F({bindings:O,result:x})}catch(x){(0,r.isExpressionError)(x)||m.emit("error",x),F({bindings:O,result:void 0})}L()},w=m.transform({transform:_});m=new a.SortIterator(w,(O,L)=>{let F=(0,r.orderTypes)(O.result,L.result);return b||(F*=-1),F},f).map(({bindings:O})=>O)}return{type:"bindings",bindingsStream:m,metadata:d.metadata}}extractSortExpression(u){const{expressionType:c,operator:l}=u;return c!==n.Algebra.expressionTypes.OPERATOR?u:l==="desc"?u.args[0]:u}isAscending(u){const{expressionType:c,operator:l}=u;return c!==n.Algebra.expressionTypes.OPERATOR?!0:l!=="desc"}};return Mg.ActorQueryOperationOrderBy=s,Mg}var MH;function Q6e(){return MH||(MH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(H6e(),t)}(zx)),zx}var Gx={},Bg={},FH;function z6e(){if(FH)return Bg;FH=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.ActorQueryOperationService=void 0;const t=Vr(),e=Tt(),r=li(),n=Mt;let a=class extends e.ActorQueryOperationTypedMediated{constructor(o){super(o,"service")}async testOperation(o,u){if(o.name.termType!=="NamedNode")throw new Error(`${this.name} can only query services by IRI, while a ${o.name.termType} was given.`);return!0}async runOperation(o,u){const{querySource:c}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:o.name.value,type:this.forceSparqlEndpoint?"sparql":void 0},context:u});let l;try{l=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.ActorQueryOperation.assignOperationSource(o.input,c),context:u}))}catch(d){if(o.silent){const f=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,u);l={bindingsStream:new n.SingletonIterator(f.bindings()),type:"bindings",metadata:async()=>({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})},this.logWarn(u,`An error occurred when executing a SERVICE clause: ${d.message}`)}else throw d}return l}};return Bg.ActorQueryOperationService=a,Bg}var BH;function G6e(){return BH||(BH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(z6e(),t)}(Gx)),Gx}var Wx={},qg={},qH;function W6e(){if(qH)return qg;qH=1,Object.defineProperty(qg,"__esModule",{value:!0}),qg.ActorQueryOperationValues=void 0;const t=Vr(),e=Tt(),r=li(),n=Mt,a=Ot,s=new a.DataFactory;let o=class extends e.ActorQueryOperationTyped{constructor(c){super(c,"values")}async testOperation(c,l){return!0}async runOperation(c,l){const d=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,l),f=new n.ArrayIterator(c.bindings.map(m=>d.bindings(Object.entries(m).map(([y,g])=>[s.variable(y.slice(1)),g])))),h=c.variables;return{type:"bindings",bindingsStream:f,metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:c.bindings.length},canContainUndefs:c.bindings.some(m=>h.some(y=>!(`?${y.value}`in m))),variables:h})}}};return qg.ActorQueryOperationValues=o,qg}var $H;function K6e(){return $H||($H=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(W6e(),t)}(Wx)),Wx}var Kx={},$g={},UH;function J6e(){if(UH)return $g;UH=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.ActorQueryOperationPathOneOrMore=void 0;const t=Fu(),e=Vr(),r=Tt(),n=Mt,a=xt();let s=class extends t.ActorAbstractPath{constructor(u){super(u,a.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(u,c){const l=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,c),d=await this.isPathArbitraryLengthDistinct(c,u);if(d.operation)return d.operation;c=d.context;const f=u.predicate;if(u.subject.termType!=="Variable"&&u.object.termType==="Variable"){const y=u.object,g=await this.getObjectsPredicateStarEval(u.subject,f.path,y,u.graph,c,!1,l),b=u.graph.termType==="Variable"?[y,u.graph]:[y];return{type:"bindings",bindingsStream:g.bindingsStream,metadata:async()=>({...await g.metadata(),variables:b})}}if(u.subject.termType==="Variable"&&u.object.termType==="Variable"){const y=t.ActorAbstractPath.FACTORY.createDistinct(t.ActorAbstractPath.FACTORY.createPath(u.subject,u.predicate.path,u.object,u.graph)),g=r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:c,operation:y})),b=u.subject,v=u.object,_={},w=new n.MultiTransformIterator(g.bindingsStream,{multiTransform:O=>{const L=O.get(b),F=O.get(v),x=u.graph.termType==="Variable"?O.get(u.graph):u.graph;return new n.TransformIterator(async()=>{const P=new n.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(b,v,L,F,f.path,x,c,_,{},P,{count:0},l),P.transform({transform(j,N,V){u.graph.termType==="Variable"&&(j=j.set(u.graph,x)),V(j),N()}})},{maxBufferSize:128})},autoStart:!1}),E=u.graph.termType==="Variable"?[b,v,u.graph]:[b,v];return{type:"bindings",bindingsStream:w,metadata:async()=>({...await g.metadata(),variables:E})}}if(u.subject.termType==="Variable"&&u.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:c,operation:t.ActorAbstractPath.FACTORY.createPath(u.object,t.ActorAbstractPath.FACTORY.createOneOrMorePath(t.ActorAbstractPath.FACTORY.createInv(f.path)),u.subject,u.graph)});const h=this.generateVariable(),p=r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:c,operation:t.ActorAbstractPath.FACTORY.createPath(u.subject,f,h,u.graph)}));return{type:"bindings",bindingsStream:p.bindingsStream.transform({filter:y=>u.object.equals(y.get(h)),transform(y,g,b){const v=u.graph.termType==="Variable"?l.bindings([[u.graph,y.get(u.graph)]]):l.bindings();b(v),g()}}),metadata:async()=>({...await p.metadata(),variables:u.graph.termType==="Variable"?[u.graph]:[]})}}};return $g.ActorQueryOperationPathOneOrMore=s,$g}var kH;function X6e(){return kH||(kH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(J6e(),t)}(Kx)),Kx}var Jx={},Ug={},VH;function Y6e(){if(VH)return Ug;VH=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.ActorQueryOperationPathZeroOrMore=void 0;const t=Fu(),e=Vr(),r=Tt(),n=Mt,a=nr,s=xt();let o=class extends t.ActorAbstractPath{constructor(c){super(c,s.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(c,l){const d=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l),f=await this.isPathArbitraryLengthDistinct(l,c);if(f.operation)return f.operation;l=f.context;const h=c.predicate,p=this.getPathSources(h),m=c.subject.termType==="Variable",y=c.object.termType==="Variable";if(c.subject.termType==="Variable"&&c.object.termType==="Variable"){const E=this.generateVariable(c),O=this.assignPatternSources(t.ActorAbstractPath.FACTORY.createPattern(c.subject,E,c.object,c.graph),p),L=r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:l,operation:O})),F=c.subject,x=c.object,P=new Set,j={},N=new n.MultiTransformIterator(L.bindingsStream,{multiTransform:$=>{const q=$.get(F),H=$.get(x),X=c.graph.termType==="Variable"?$.get(c.graph):c.graph,Y=(0,a.termToString)(q)+(0,a.termToString)(X),he=(0,a.termToString)(H)+(0,a.termToString)(X);return new n.TransformIterator(async()=>{if(P.has(Y)&&P.has(he))return new n.EmptyIterator;const Te=new n.BufferedIterator,Ne={count:0};return P.has(Y)||(P.add(Y),await this.getSubjectAndObjectBindingsPredicateStar(F,x,q,q,h.path,X,l,j,{},Te,Ne,d)),P.has(he)||(P.add(he),await this.getSubjectAndObjectBindingsPredicateStar(F,x,H,H,h.path,X,l,j,{},Te,Ne,d)),Te.transform({transform($e,de,ce){c.graph.termType==="Variable"&&($e=$e.set(c.graph,X)),ce($e),de()}})})}}),V=c.graph.termType==="Variable"?[F,c.object,c.graph]:[F,c.object];return{type:"bindings",bindingsStream:N,metadata:async()=>({...await L.metadata(),variables:V})}}if(!m&&!y){const E=this.generateVariable(),O=await this.getObjectsPredicateStarEval(c.subject,h.path,E,c.graph,l,!0,d);return{type:"bindings",bindingsStream:O.bindingsStream.transform({filter:F=>c.object.equals(F.get(E)),transform(F,x,P){const j=c.graph.termType==="Variable"?d.bindings([[c.graph,F.get(c.graph)]]):d.bindings();P(j),x()}}),metadata:async()=>({...await O.metadata(),variables:c.graph.termType==="Variable"?[c.graph]:[]})}}const g=m?c.object:c.subject,b=m?c.subject:c.object,v=m?t.ActorAbstractPath.FACTORY.createInv(h.path):h.path,_=await this.getObjectsPredicateStarEval(g,v,b,c.graph,l,!0,d),w=c.graph.termType==="Variable"?[b,c.graph]:[b];return{type:"bindings",bindingsStream:_.bindingsStream,metadata:async()=>({...await _.metadata(),variables:w})}}};return Ug.ActorQueryOperationPathZeroOrMore=o,Ug}var HH;function Z6e(){return HH||(HH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Y6e(),t)}(Jx)),Jx}var Xx={},kg={},QH;function eLe(){if(QH)return kg;QH=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.ActorQueryOperationPathZeroOrOne=void 0;const t=Fu(),e=Vr(),r=Tt(),n=li(),a=Mt,s=xt();let o=class extends t.ActorAbstractPath{constructor(c){super(c,s.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(c,l){const d=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l),f=c.predicate,h=this.getPathSources(f),p=[];if(c.subject.termType!=="Variable"&&c.object.termType!=="Variable"&&c.subject.equals(c.object))return{type:"bindings",bindingsStream:new a.SingletonIterator(d.bindings()),metadata:()=>Promise.resolve({state:new n.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};const m=await this.isPathArbitraryLengthDistinct(l,c);if(m.operation)return m.operation;l=m.context;const y=r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:l,operation:t.ActorAbstractPath.FACTORY.createPath(c.subject,f.path,c.object,c.graph)}));let g;if(c.subject.termType==="Variable"&&c.object.termType==="Variable"){const b=this.generateVariable(c),v=r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:l,operation:t.ActorAbstractPath.FACTORY.createFilter(this.assignPatternSources(t.ActorAbstractPath.FACTORY.createPattern(c.subject,b,c.object,c.graph),h),t.ActorAbstractPath.FACTORY.createOperatorExpression("=",[t.ActorAbstractPath.FACTORY.createTermExpression(c.subject),t.ActorAbstractPath.FACTORY.createTermExpression(c.object)]))})).bindingsStream.map(_=>_.delete(b));g=new a.UnionIterator([v,y.bindingsStream],{autoStart:!1})}else c.subject.termType==="Variable"&&p.push(d.bindings([[c.subject,c.object]])),c.object.termType==="Variable"&&p.push(d.bindings([[c.object,c.subject]])),g=y.bindingsStream.prepend(p);return{type:"bindings",bindingsStream:g,metadata:y.metadata}}};return kg.ActorQueryOperationPathZeroOrOne=o,kg}var zH;function tLe(){return zH||(zH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(eLe(),t)}(Xx)),Xx}var Yx={},Vg={},GH;function rLe(){if(GH)return Vg;GH=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.ActorQueryOperationUpdateDeleteInsert=void 0;const t=Tee(),e=Vr(),r=Tt(),n=Mt;let a=class extends r.ActorQueryOperationTypedMediated{constructor(o){super(o,"deleteinsert"),this.blankNodeCounter=0}async testOperation(o,u){return r.ActorQueryOperation.throwOnReadOnly(u),!0}async runOperation(o,u){const c=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,u),l=o.where?r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:o.where,context:u})).bindingsStream:new n.ArrayIterator([c.bindings()],{autoStart:!1});let d,f;o.insert&&(d=new t.BindingsToQuadsIterator(o.insert.map(t.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),l.clone()),this.blankNodeCounter++),o.delete&&(f=new t.BindingsToQuadsIterator(o.delete.map(t.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),l.clone()),this.blankNodeCounter++);const{execute:h}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:d,quadStreamDelete:f,context:u});return{type:"void",execute:h}}};return Vg.ActorQueryOperationUpdateDeleteInsert=a,Vg}var WH;function nLe(){return WH||(WH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(rLe(),t)}(Yx)),Yx}var Zx={},Hg={},eI={},Qg={},KH;function iLe(){if(KH)return Qg;KH=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.ActorQueryProcess=void 0;const t=st;let e=class extends t.Actor{constructor(n){super(n)}};return Qg.ActorQueryProcess=e,Qg}var JH;function VT(){return JH||(JH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(iLe(),t)}(eI)),eI}var XH;function aLe(){if(XH)return Hg;XH=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.ActorQueryProcessSequential=void 0;const t=Vr(),e=Tt(),r=VT(),n=qt,a=st;let s=class extends r.ActorQueryProcess{constructor(u){super(u)}async test(u){if(u.context.get(n.KeysInitQuery.explain)||u.context.get(new a.ActionContextKey("explain")))throw new Error(`${this.name} is not able to explain queries.`);return!0}async run(u){let{operation:c,context:l}=await this.parse(u.query,u.context);return{operation:c,context:l}=await this.optimize(c,l),{result:await this.evaluate(c,l)}}async parse(u,c){c=(await this.mediatorContextPreprocess.mediate({context:c,initialize:!0})).context;let l;if(typeof u=="string"){c=c.set(n.KeysInitQuery.queryString,u);const d=c.get(n.KeysInitQuery.baseIRI),f=c.get(n.KeysInitQuery.queryFormat),h=await this.mediatorQueryParse.mediate({context:c,query:u,queryFormat:f,baseIRI:d});l=h.operation,h.baseIRI&&(c=c.set(n.KeysInitQuery.baseIRI,h.baseIRI))}else l=u;if(c.has(n.KeysInitQuery.initialBindings)){const d=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,c);l=(0,e.materializeOperation)(l,c.get(n.KeysInitQuery.initialBindings),d),c=c.delete(n.KeysInitQuery.queryString)}return{operation:l,context:c}}async optimize(u,c){return c=c.set(n.KeysInitQuery.query,u),{operation:u,context:c}=await this.mediatorOptimizeQueryOperation.mediate({context:c,operation:u}),c=c.set(n.KeysInitQuery.query,u),{operation:u,context:c}}async evaluate(u,c){const l=await this.mediatorQueryOperation.mediate({context:c,operation:u});return l.context=c,l}};return Hg.ActorQueryProcessSequential=s,Hg}var YH;function sLe(){return YH||(YH=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(aLe(),t)}(Zx)),Zx}var tI={},zg={},Gg={},Wg={},Kg={},ZH;function oLe(){if(ZH)return Kg;ZH=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.LinkedRdfSourcesAsyncRdfIterator=void 0;const t=li(),e=Mt;let r=class extends e.BufferedIterator{constructor(a,s,o,u,c,l,d,f){if(super({autoStart:!1,...f}),this.started=!1,this.currentIterators=[],this.iteratorsPendingCreation=0,this.iteratorsPendingTermination=0,this.accumulatedMetadata=Promise.resolve(void 0),this._reading=!1,this.cacheSize=a,this.operation=s,this.queryBindingsOptions=o,this.context=u,this.firstUrl=c,this.maxIterators=l,this.sourceStateGetter=d,this.maxIterators<=0)throw new Error(`LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ${this.maxIterators}`)}kickstart(){this.started||this._fillBufferAsync()}getProperty(a,s){return a==="metadata"&&!this.started&&(this.preflightMetadata||(this.preflightMetadata=new Promise((o,u)=>{this.sourceStateGetter({url:this.firstUrl},{}).then(c=>{const l=c.source.queryBindings(this.operation,this.context);l.getProperty("metadata",d=>{d.state=new t.MetadataValidationState,l.destroy(),this.accumulateMetadata(c.metadata,d).then(f=>{const h={...c.metadata,...d,...f};o(h)}).catch(()=>{o({...c.metadata,state:new t.MetadataValidationState})})})}).catch(u)})),this.preflightMetadata.then(o=>this.setProperty("metadata",o)).catch(()=>{})),super.getProperty(a,s)}_end(a){for(const s of this.currentIterators)s.destroy();super._end(a)}_read(a,s){if(this.started){for(const o of this.currentIterators){for(;a>0;){const u=o.read();if(u===null)break;a--,this._push(u)}if(a<=0)break}a>=0&&this.canStartNewIterator()?this.sourceStateGetter({url:this.firstUrl},{}).then(o=>{this.startIteratorsForNextUrls(o.handledDatasets,!1),s()}):s()}else this.started=!0,this.sourceStateGetter({url:this.firstUrl},{}).then(o=>{this.startIterator(o),s()}).catch(o=>setTimeout(()=>this.destroy(o)))}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination<this.maxIterators&&(!this.canStartNewIteratorConsiderReadable()||!this.readable)}canStartNewIteratorConsiderReadable(){return!0}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination>0}startIterator(a){try{const s=a.source.queryBindings(this.operation,this.context,this.queryBindingsOptions);this.currentIterators.push(s);let o=!1,u=!1;s._destination=this,s.on("error",c=>this.destroy(c)),s.on("readable",()=>this._fillBuffer()),s.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(s),1),o=!0,u||this.iteratorsPendingTermination++,u&&this.startIteratorsForNextUrls(a.handledDatasets,!0)}),s.getProperty("metadata",c=>{this.accumulatedMetadata=this.accumulatedMetadata.then(l=>(async()=>(l||(l=a.metadata),this.accumulateMetadata(l,c)))().then(d=>{const f={...a.metadata,...c,...d};return f.state=new t.MetadataValidationState,this.updateMetadata(f),this.preflightMetadata&&this.preflightMetadata.then(h=>h.state.invalidate()).catch(()=>{}),this.getSourceLinks(f).then(h=>Promise.all(h)).then(async h=>{const p=await this.getLinkQueue();for(const m of h)p.push(m,a.link);u=!0,o&&this.iteratorsPendingTermination--,this.startIteratorsForNextUrls(a.handledDatasets,!0)}).catch(h=>this.destroy(h)),f})).catch(l=>(this.destroy(l),{}))})}catch(s){this.destroy(s)}}updateMetadata(a){const s=this.getProperty("metadata");this.setProperty("metadata",a),s==null||s.state.invalidate()}isRunning(){return!this.done}startIteratorsForNextUrls(a,s){this.getLinkQueue().then(o=>{for(;this.canStartNewIterator()&&this.isRunning();){const u=o.pop();if(u)this.iteratorsPendingCreation++,this.sourceStateGetter(u,a).then(c=>{this.iteratorsPendingCreation--,this.startIterator(c)}).catch(c=>this.emit("error",c));else break}s&&this.isCloseable(o,!0)&&this.close()}).catch(o=>this.destroy(o))}isCloseable(a,s){return a.isEmpty()&&!this.areIteratorsRunning()}};return Kg.LinkedRdfSourcesAsyncRdfIterator=r,Kg}var eQ;function uLe(){if(eQ)return Wg;eQ=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;const t=qt,e=Ot,r=xt(),n=oLe(),a=new e.DataFactory,s=new r.Factory;let o=class extends n.LinkedRdfSourcesAsyncRdfIterator{constructor(c,l,d,f,h,p,m,y,g,b,v,_){super(c,l,d,f,p,m,y,g?{maxBufferSize:Number.POSITIVE_INFINITY}:void 0),this.wasForcefullyClosed=!1,this.forceSourceType=h,this.mediatorMetadataAccumulate=b,this.mediatorRdfResolveHypermediaLinks=v,this.mediatorRdfResolveHypermediaLinksQueue=_,this.handledUrls={[p]:!0},this.aggregatedStore=g}close(){if(!this.aggregatedStore){super.close();return}this.getLinkQueue().then(c=>{this.isCloseable(c,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.close()):this.wasForcefullyClosed=!0}).catch(c=>super.destroy(c))}destroy(c){if(!this.aggregatedStore){super.destroy(c);return}this.getLinkQueue().then(l=>{c??this.isCloseable(l,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.destroy(c)):this.wasForcefullyClosed=!0}).catch(l=>super.destroy(l))}isCloseable(c,l){return(l?c.isEmpty():this.wasForcefullyClosed||c.isEmpty())&&!this.areIteratorsRunning()}canStartNewIterator(){return!this.wasForcefullyClosed&&this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||super.canStartNewIterator()}canStartNewIteratorConsiderReadable(){return!this.aggregatedStore}isRunning(){return this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||!this.done}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(c=>c.linkQueue)),this.linkQueue}async getSourceLinks(c){try{const{links:l}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:c});return l.filter(d=>this.handledUrls[d.url]?!1:(this.handledUrls[d.url]=!0,!0))}catch{return[]}}startIterator(c){var l;if(this.aggregatedStore&&!this.aggregatedStore.containedSources.has(c.link.url)){(l=this.aggregatedStore)==null||l.containedSources.add(c.link.url);const d=c.source.queryBindings(s.createPattern(a.variable("s"),a.variable("p"),a.variable("o"),a.variable("g")),this.context.set(t.KeysQueryOperation.unionDefaultGraph,!0)).map(f=>a.quad(f.get("s"),f.get("p"),f.get("o"),f.get("g")));this.aggregatedStore.import(d).on("end",()=>{super.startIterator(c)})}else super.startIterator(c)}async accumulateMetadata(c,l){return(await this.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:c,appendingMetadata:l,context:this.context})).metadata}updateMetadata(c){var l;super.updateMetadata(c),(l=this.aggregatedStore)==null||l.setBaseMetadata(c,!0)}};return Wg.MediatedLinkedRdfSourcesAsyncRdfIterator=o,Wg}var Jg={},rI={},Xg={},tQ;function fte(){if(tQ)return Xg;tQ=1,Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.PendingStreamsIndex=void 0;const t=nr,e=Pn();let r=class mc{constructor(){this.indexedStreams=new Map,this.allStreams=[]}termToString(a){return a&&a.termType!=="Variable"?(0,t.termToString)(a):mc.ID_VARIABLE}addPatternListener(a,s,o,u,c){this.allStreams.push(a);const l=`${this.termToString(s)}${mc.ID_SEPARATOR}${this.termToString(o)}${mc.ID_SEPARATOR}${this.termToString(u)}${mc.ID_SEPARATOR}${this.termToString(c)}`;let d=this.indexedStreams.get(l);d||(d=[],this.indexedStreams.set(l,d)),d.push(a)}getPendingStreamsForQuad(a){let s=[(0,e.getTerms)(a).map(u=>(0,t.termToString)(u))];for(let u=0;u<e.QUAD_TERM_NAMES.length;u++){const c=s;s=[];for(const l of c){s.push(l);const d=[...l];d[u]=mc.ID_VARIABLE,s.push(d)}}const o=[];for(const u of s){const c=this.indexedStreams.get(u.join(mc.ID_SEPARATOR));c&&o.push(...c)}return o}};return r.ID_VARIABLE="?",r.ID_SEPARATOR=":",Xg.PendingStreamsIndex=r,Xg}var Yg={},rQ;function cLe(){if(rQ)return Yg;rQ=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.StreamingStore=void 0;const t=Cu,e=Pt,r=fte();let n=class{constructor(s=new t.Store){this.pendingStreams=new r.PendingStreamsIndex,this.ended=!1,this.store=s}end(){this.ended=!0;for(const s of this.pendingStreams.allStreams)s.push(null),s._pipeSource.unpipe()}importToListeners(s){s.on("data",o=>{if(!this.ended&&!this.store.countQuads(o.subject,o.predicate,o.object,o.graph))for(const u of this.pendingStreams.getPendingStreamsForQuad(o))u.isInitialized&&(u.push(o),u.emit("quad",o))})}import(s){if(this.ended)throw new Error("Attempted to import into an ended StreamingStore");return this.importToListeners(s),this.store.import(s)}match(s,o,u,c){const l=this.store.match(s,o,u,c);let d=l;if(!this.ended){const f=new e.PassThrough({objectMode:!0});this.pendingStreams.addPatternListener(f,s,o,u,c),d=l.pipe(f,{end:!1}),d._pipeSource=l;const h=l._read;l._read=p=>{f.isInitialized=!0,h.call(l,p)}}return d}getStore(){return this.store}};return Yg.StreamingStore=n,Yg}var nQ;function lLe(){return nQ||(nQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fte(),t),r(cLe(),t)}(rI)),rI}var iQ;function dLe(){if(iQ)return Jg;iQ=1,Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.StreamingStoreMetadata=void 0;const t=Tt(),e=li(),r=lLe();let n=class extends r.StreamingStore{constructor(s,o){super(s),this.started=!1,this.containedSources=new Set,this.runningIterators=new Set,this.iteratorCreatedListeners=new Set,this.baseMetadata={state:new e.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:[]},this.metadataAccumulator=o}import(s){return this.ended||super.import(s),s}hasRunningIterators(){return this.runningIterators.size>0}match(s,o,u,c){const l=super.match(s,o,u,c),d=new t.ClosableTransformIterator(l,{autoStart:!1,onClose:()=>{this.runningIterators.delete(d)}});let f=this.getStore().countQuads(s,o,u,c);const h={state:new e.MetadataValidationState,cardinality:{type:"estimate",value:f},canContainUndefs:!1};d.setProperty("metadata",h),d.setProperty("lastCount",f),l.on("quad",()=>{d.setProperty("lastCount",++f),this.updateMetadataState(d,f)}),this.runningIterators.add(d);for(const p of this.iteratorCreatedListeners)p();return d}setBaseMetadata(s,o){if(this.baseMetadata={...s},this.baseMetadata.cardinality={type:"exact",value:0},o)for(const u of this.runningIterators){const c=u.getProperty("lastCount");this.updateMetadataState(u,c)}}updateMetadataState(s,o){const u={state:new e.MetadataValidationState,cardinality:{type:"estimate",value:o},canContainUndefs:!1,variables:[]};this.metadataAccumulator(this.baseMetadata,u).then(c=>{c.state=new e.MetadataValidationState;const l=s.getProperty("metadata");s.setProperty("metadata",c),l==null||l.state.invalidate()}).catch(()=>{})}addIteratorCreatedListener(s){this.iteratorCreatedListeners.add(s)}removeIteratorCreatedListener(s){this.iteratorCreatedListeners.delete(s)}};return Jg.StreamingStoreMetadata=n,Jg}var aQ;function hte(){if(aQ)return Gg;aQ=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.QuerySourceHypermedia=void 0;const t=f4(),e=qt,r=Mt,n=Mu(),a=Pt,s=uLe(),o=dLe();let u=class{constructor(l,d,f,h,p,m,y,g){this.referenceValue=d,this.cacheSize=l,this.firstUrl=d,this.forceSourceType=f,this.maxIterators=h,this.mediators=m,this.aggregateStore=p,this.logWarning=y,this.bindingsFactory=g,this.sourcesState=new n.LRUCache({max:this.cacheSize})}async getSelectorShape(l){return(await this.getSourceCached({url:this.firstUrl},{},l,this.getAggregateStore(l))).source.getSelectorShape(l)}queryBindings(l,d,f){const h=this.getAggregateStore(d);if(h&&l.type==="pattern"&&h.started)return new t.QuerySourceRdfJs(h,this.bindingsFactory).queryBindings(l,d);this.sourcesState.size===0&&this.getSourceCached({url:this.firstUrl},{},d,h).catch(m=>p.destroy(m));const p=new s.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,l,f,d,this.forceSourceType,this.firstUrl,this.maxIterators,(m,y)=>this.getSourceCached(m,y,d,h),h,this.mediators.mediatorMetadataAccumulate,this.mediators.mediatorRdfResolveHypermediaLinks,this.mediators.mediatorRdfResolveHypermediaLinksQueue);if(h){h.started=!0;const m=()=>p.kickstart();h.addIteratorCreatedListener(m),p.on("end",()=>h.removeIteratorCreatedListener(m))}return p}queryQuads(l,d){return new r.TransformIterator(async()=>(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryQuads(l,d))}async queryBoolean(l,d){return await(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryBoolean(l,d)}async queryVoid(l,d){return await(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryVoid(l,d)}async getSource(l,d,f,h){var v;l.context&&(f=f.merge(l.context));let p=l.url,m,y;try{const _=await this.mediators.mediatorDereferenceRdf.mediate({context:f,url:p});p=_.url;const w=await this.mediators.mediatorMetadata.mediate({context:f,url:p,quads:_.data,triples:(v=_.metadata)==null?void 0:v.triples});w.data.on("error",()=>{}),y=(await this.mediators.mediatorMetadataExtract.mediate({context:f,url:p,metadata:w.metadata,headers:_.headers,requestTime:_.requestTime})).metadata,m=w.data,l.transform&&(m=await l.transform(m))}catch(_){m=new a.Readable,m.read=()=>(setTimeout(()=>m.emit("error",_)),null),{metadata:y}=await this.mediators.mediatorMetadataAccumulate.mediate({context:f,mode:"initialize"}),this.logWarning(`Metadata extraction for ${p} failed: ${_.message}`)}h==null||h.setBaseMetadata(y,!1),h==null||h.containedSources.add(l.url),h==null||h.import(m);const{source:g,dataset:b}=await this.mediators.mediatorQuerySourceIdentifyHypermedia.mediate({context:f,forceSourceType:l.url===this.firstUrl?this.forceSourceType:void 0,handledDatasets:d,metadata:y,quads:m,url:p});return b&&(d[b]=!0),{link:l,source:g,metadata:y,handledDatasets:d}}getSourceCached(l,d,f,h){let p=this.sourcesState.get(l.url);return p||(p=this.getSource(l,d,f,h),(l.url===this.firstUrl||h===void 0)&&this.sourcesState.set(l.url,p),p)}getAggregateStore(l){let d;if(this.aggregateStore){const f=l.get(e.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores);if(f)return d=f.get(this.firstUrl),d||(d=new o.StreamingStoreMetadata(void 0,async(h,p)=>(await this.mediators.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:h,appendingMetadata:p,context:l})).metadata),f.set(this.firstUrl,d)),d}}toString(){return`QuerySourceHypermedia(${this.firstUrl})`}};return Gg.QuerySourceHypermedia=u,Gg}var sQ;function fLe(){if(sQ)return zg;sQ=1,Object.defineProperty(zg,"__esModule",{value:!0}),zg.ActorQuerySourceIdentifyHypermedia=void 0;const t=Vr(),e=j1(),r=qt,n=st,a=hte();let s=class extends e.ActorQuerySourceIdentify{constructor(u){super(u)}async test(u){if(typeof u.querySourceUnidentified.value!="string")throw new TypeError(`${this.name} requires a single query source with a URL value to be present in the context.`);return!0}async run(u){var c;return{querySource:{source:new a.QuerySourceHypermedia(this.cacheSize,u.querySourceUnidentified.value,u.querySourceUnidentified.type,this.maxIterators,this.aggregateTraversalStore&&!!((c=u.querySourceUnidentified.context)!=null&&c.get(r.KeysQuerySourceIdentify.traverse)),{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorMetadataAccumulate:this.mediatorMetadataAccumulate,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorQuerySourceIdentifyHypermedia:this.mediatorQuerySourceIdentifyHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue},l=>this.logWarn(u.context,l),await t.BindingsFactory.create(this.mediatorMergeBindingsContext,u.context)),context:u.querySourceUnidentified.context??new n.ActionContext}}}};return zg.ActorQuerySourceIdentifyHypermedia=s,zg}var oQ;function hLe(){return oQ||(oQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fLe(),t),r(hte(),t)}(tI)),tI}var nI={},Zg={},uQ;function pLe(){if(uQ)return Zg;uQ=1,Object.defineProperty(Zg,"__esModule",{value:!0}),Zg.ActorRdfJoinNone=void 0;const t=Vr(),e=di(),r=li(),n=Mt;let a=class extends e.ActorRdfJoin{constructor(o){super(o,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(o){if(o.entries.length>0)throw new Error(`Actor ${this.name} can only join zero entries`);return await this.getJoinCoefficients()}async getOutput(o){const u=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context);return{result:{bindingsStream:new n.ArrayIterator([u.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};return Zg.ActorRdfJoinNone=a,Zg}var cQ;function yLe(){return cQ||(cQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(pLe(),t)}(nI)),nI}var iI={},e_={},lQ;function mLe(){if(lQ)return e_;lQ=1,Object.defineProperty(e_,"__esModule",{value:!0}),e_.ActorRdfJoinMultiBind=void 0;const t=Vr(),e=Tt(),r=di(),n=qt,a=Mt,s=xt();let o=class oN extends r.ActorRdfJoin{constructor(c){super(c,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0,isLeaf:!1})}static createBindStream(c,l,d,f,h,p){const m=c==="depth-first",y=g=>{const b=d.map(_=>(0,e.materializeOperation)(_,g,p,{bindFilter:!0})),v=_=>_.merge(g);return new a.TransformIterator(async()=>(await f(b,g)).transform({map:v}),{maxBufferSize:128,autoStart:m})};switch(c){case"depth-first":return new a.MultiTransformIterator(l,{autoStart:!1,multiTransform:y,optional:h});case"breadth-first":return new a.UnionIterator(l.transform({map:y,optional:h}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${c}`)}}async getOutput(c){const l=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,c.context),d=await r.ActorRdfJoin.getEntriesWithMetadatas(c.entries),f=await r.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,d,c.context);this.logDebug(c.context,"First entry for Bind Join: ",()=>({entry:f[0].operation,metadata:f[0].metadata}));for(const[g,b]of f.entries())g!==0&&b.output.bindingsStream.close();const h=f[0].output,p=[...f];p.splice(0,1);const m=c.context.set(n.KeysQueryOperation.joinLeftMetadata,f[0].metadata).set(n.KeysQueryOperation.joinRightMetadatas,p.map(g=>g.metadata));return{result:{type:"bindings",bindingsStream:oN.createBindStream(this.bindOrder,h.bindingsStream,p.map(g=>g.operation),async(g,b)=>{const v=g.length===1?g[0]:oN.FACTORY.createJoin(g);return e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:v,context:m==null?void 0:m.set(n.KeysQueryOperation.joinBindings,b)})).bindingsStream},!1,l),metadata:()=>this.constructResultMetadata(f,f.map(g=>g.metadata),c.context)},physicalPlanMetadata:{bindIndex:d.indexOf(f[0]),bindOperation:f[0].operation,bindOperationCardinality:f[0].metadata.cardinality,bindOrder:this.bindOrder}}}canBindWithOperation(c){let l=!0;return s.Util.recurseOperation(c,{[s.Algebra.types.EXTEND](){return l=!1,!1},[s.Algebra.types.GROUP](){return l=!1,!1}}),l}async getJoinCoefficients(c,l){const d=await r.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,c.entries.map((w,E)=>({...w,metadata:l[E]})),c.context);l=d.map(w=>w.metadata);const f=r.ActorRdfJoin.getRequestInitialTimes(l),h=r.ActorRdfJoin.getRequestItemTimes(l),p=[...d],m=[...f],y=[...h];if(p.splice(0,1),m.splice(0,1),y.splice(0,1),p.some(w=>!this.canBindWithOperation(w.operation)))throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);if(p.some(w=>w.operationModified))throw new Error(`Actor ${this.name} can not be used over remaining entries with modified operations`);const g=await Promise.all(p.map(async w=>(await this.mediatorJoinSelectivity.mediate({entries:[d[0],w],context:c.context})).selectivity*this.selectivityModifier)),b=p.map((w,E)=>w.metadata.cardinality.value*g[E]).reduce((w,E)=>w+E,0),v=m.reduce((w,E)=>w+E,0),_=y.reduce((w,E)=>w+E,0);return{iterations:l[0].cardinality.value*b,persistedItems:0,blockingItems:0,requestTime:f[0]+l[0].cardinality.value*(h[0]+v+b*_)}}};return e_.ActorRdfJoinMultiBind=o,o.FACTORY=new s.Factory,e_}var dQ;function pte(){return dQ||(dQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(mLe(),t)}(iI)),iI}var aI={},t_={},fQ;function gLe(){if(fQ)return t_;fQ=1,Object.defineProperty(t_,"__esModule",{value:!0}),t_.ActorRdfJoinOptionalBind=void 0;const t=pte(),e=Vr(),r=Tt(),n=di(),a=qt,s=xt();let o=class extends n.ActorRdfJoin{constructor(c){super(c,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0,isLeaf:!1})}async getOutput(c){const l=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,c.context);c.entries[1].output.bindingsStream.close();const d=c.context.set(a.KeysQueryOperation.joinLeftMetadata,await c.entries[0].output.metadata()).set(a.KeysQueryOperation.joinRightMetadatas,[await c.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:t.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,c.entries[0].output.bindingsStream,[c.entries[1].operation],async(h,p)=>{const m=h[0];return r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:m,context:d==null?void 0:d.set(a.KeysQueryOperation.joinBindings,p)})).bindingsStream},!0,l),metadata:async()=>await this.constructResultMetadata(c.entries,await n.ActorRdfJoin.getMetadatas(c.entries),c.context,{canContainUndefs:!0})}}}async getJoinCoefficients(c,l){if(n.ActorRdfJoin.overlappingVariables(l).length===0)throw new Error(`Actor ${this.name} only join entries with at least one common variable`);const d=n.ActorRdfJoin.getRequestInitialTimes(l),f=n.ActorRdfJoin.getRequestItemTimes(l);if(c.entries[1].operation.type===s.Algebra.types.EXTEND||c.entries[1].operation.type===s.Algebra.types.GROUP)throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);const h=(await this.mediatorJoinSelectivity.mediate({entries:c.entries,context:c.context})).selectivity*this.selectivityModifier;return{iterations:l[0].cardinality.value*l[1].cardinality.value*h,persistedItems:0,blockingItems:0,requestTime:d[0]+l[0].cardinality.value*(f[0]+d[1]+h*l[1].cardinality.value*f[1])}}};return t_.ActorRdfJoinOptionalBind=o,t_}var hQ;function _Le(){return hQ||(hQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(gLe(),t)}(aI)),aI}var sI={},r_={},pQ;function bLe(){if(pQ)return r_;pQ=1,Object.defineProperty(r_,"__esModule",{value:!0}),r_.ActorQueryProcessExplainParsed=void 0;const t=VT(),e=qt,r=st;let n=class extends t.ActorQueryProcess{constructor(s){super(s)}async test(s){if((s.context.get(e.KeysInitQuery.explain)||s.context.get(new r.ActionContextKey("explain")))!=="parsed")throw new Error(`${this.name} can only explain in 'parsed' mode.`);return!0}async run(s){const{operation:o}=await this.queryProcessor.parse(s.query,s.context);return{result:{explain:!0,type:"parsed",data:o}}}};return r_.ActorQueryProcessExplainParsed=n,r_}var yQ;function vLe(){return yQ||(yQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(bLe(),t)}(sI)),sI}var oI={},n_={},mQ;function wLe(){if(mQ)return n_;mQ=1,Object.defineProperty(n_,"__esModule",{value:!0}),n_.ActorQueryProcessExplainLogical=void 0;const t=VT(),e=qt,r=st;let n=class extends t.ActorQueryProcess{constructor(s){super(s)}async test(s){if((s.context.get(e.KeysInitQuery.explain)||s.context.get(new r.ActionContextKey("explain")))!=="logical")throw new Error(`${this.name} can only explain in 'logical' mode.`);return!0}async run(s){let{operation:o,context:u}=await this.queryProcessor.parse(s.query,s.context);return{operation:o,context:u}=await this.queryProcessor.optimize(o,u),{result:{explain:!0,type:"logical",data:o}}}};return n_.ActorQueryProcessExplainLogical=n,n_}var gQ;function SLe(){return gQ||(gQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(wLe(),t)}(oI)),oI}var uI={},i_={},oc={},_Q;function yte(){if(_Q)return oc;_Q=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.numberToString=oc.MemoryPhysicalQueryPlanLogger=void 0;const t=nr;let e=class{constructor(){this.planNodes=new Map}logOperation(a,s,o,u,c,l){const d={actor:c,logicalOperator:a,physicalOperator:s,rawNode:o,children:[],metadata:l};if(this.planNodes.set(o,d),this.rootNode){if(!u)throw new Error("Detected more than one parent-less node");const f=this.planNodes.get(u);if(!f)throw new Error("Could not find parent node");f.children.push(d)}else{if(u)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=d}}stashChildren(a,s){const o=this.planNodes.get(a);if(!o)throw new Error("Could not find plan node");o.children=s?o.children.filter(s):[]}unstashChild(a,s){const o=this.planNodes.get(a);if(o){const u=this.planNodes.get(s);if(!u)throw new Error("Could not find plan parent node");u.children.push(o)}}appendMetadata(a,s){const o=this.planNodes.get(a);o&&(o.metadata={...o.metadata,...s})}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(a){var o;const s={logical:a.logicalOperator,physical:a.physicalOperator,...this.getLogicalMetadata(a.rawNode),...this.compactMetadata(a.metadata)};if(a.children.length>0&&(s.children=a.children.map(u=>this.planNodeToJson(u))),s.physical==="bind"&&s.children){const u={};for(const l of s.children){const d=((o=l.children)==null?void 0:o.at(-1))??l,f=this.getPlanHash(d).join(",");u[f]||(u[f]=[]),u[f].push(l)}const c=[];for(const l of Object.values(u))c.push({occurrences:l.length,firstOccurrence:l[0]});s.childrenCompact=c,delete s.children}return s}getPlanHash(a){let s=[`${a.logical}-${a.physical}`];return a.children?s=[...s,...a.children.flatMap(o=>this.getPlanHash(o))]:a.childrenCompact&&(s=[...s,...a.childrenCompact.flatMap(o=>this.getPlanHash(o.firstOccurrence))]),s}compactMetadata(a){return Object.fromEntries(Object.entries(a).map(([s,o])=>[s,this.compactMetadataValue(o)]))}compactMetadataValue(a){return a&&typeof a=="object"&&"termType"in a?this.getLogicalMetadata(a):a}getLogicalMetadata(a){var o;const s={};if("type"in a){const u=a;switch((o=u.metadata)!=null&&o.scopedSource&&(s.source=u.metadata.scopedSource.source.toString()),u.type){case"pattern":s.pattern=this.quadToString(u);break;case"project":s.variables=u.variables.map(c=>c.value);break}}return s}quadToString(a){return`${(0,t.termToString)(a.subject)} ${(0,t.termToString)(a.predicate)} ${(0,t.termToString)(a.object)}${a.graph.termType==="DefaultGraph"?"":` ${(0,t.termToString)(a.graph)}`}`}toCompactString(){const a=this.toJson(),s=[],o=new Map;if("logical"in a?this.nodeToCompactString(s,o,"",a):s.push("Empty"),o.size>0){s.push(""),s.push("sources:");for(const[u,c]of o.entries())s.push(`  ${c}: ${u}`)}return s.join(`
`)}nodeToCompactString(a,s,o,u,c){let l;u.source&&(l=s.get(u.source),l===void 0&&(l=s.size,s.set(u.source,l))),a.push(`${o}${u.logical}${u.physical?`(${u.physical})`:""}${u.pattern?` (${u.pattern})`:""}${u.variables?` (${u.variables.join(",")})`:""}${u.bindOperation?` bindOperation:(${u.bindOperation.pattern}) bindCardEst:${u.bindOperationCardinality.type==="estimate"?"~":""}${r(u.bindOperationCardinality.value)}`:""}${u.cardinality?` cardEst:${u.cardinality.type==="estimate"?"~":""}${r(u.cardinality.value)}`:""}${u.source?` src:${l}`:""}${u.cardinalityReal?` cardReal:${u.cardinalityReal}`:""}${u.timeSelf?` timeSelf:${r(u.timeSelf)}ms`:""}${u.timeLife?` timeLife:${r(u.timeLife)}ms`:""}${c?` ${c}`:""}`);for(const d of u.children??[])this.nodeToCompactString(a,s,`${o}  `,d);for(const d of u.childrenCompact??[])this.nodeToCompactString(a,s,`${o}  `,d.firstOccurrence,`compacted-occurrences:${d.occurrences}`)}};oc.MemoryPhysicalQueryPlanLogger=e;function r(n){return n.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:3})}return oc.numberToString=r,oc}var bQ;function TLe(){if(bQ)return i_;bQ=1,Object.defineProperty(i_,"__esModule",{value:!0}),i_.ActorQueryProcessExplainPhysical=void 0;const t=VT(),e=qt,r=st,n=yte();let a=class extends t.ActorQueryProcess{constructor(o){super(o)}async test(o){const u=o.context.get(e.KeysInitQuery.explain)||o.context.get(new r.ActionContextKey("explain"));if(u!=="physical"&&u!=="physical-json")throw new Error(`${this.name} can only explain in 'physical' or 'physical-json' mode.`);return!0}async run(o){let{operation:u,context:c}=await this.queryProcessor.parse(o.query,o.context);({operation:u,context:c}=await this.queryProcessor.optimize(u,c));const l=new n.MemoryPhysicalQueryPlanLogger;c=c.set(e.KeysInitQuery.physicalQueryPlanLogger,l);const d=await this.queryProcessor.evaluate(u,c);switch(d.type){case"bindings":await d.bindingsStream.toArray();break;case"quads":await d.quadStream.toArray();break;case"boolean":await d.execute();break;case"void":await d.execute();break}const f=o.context.get(e.KeysInitQuery.explain)??o.context.getSafe(new r.ActionContextKey("explain"));return{result:{explain:!0,type:f,data:f==="physical"?l.toCompactString():l.toJson()}}}};return i_.ActorQueryProcessExplainPhysical=a,i_}var vQ;function ELe(){return vQ||(vQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(TLe(),t),r(yte(),t)}(uI)),uI}var cI={},a_={},wQ;function ALe(){if(wQ)return a_;wQ=1,Object.defineProperty(a_,"__esModule",{value:!0}),a_.ActorOptimizeQueryOperationPruneEmptySourceOperations=void 0;const t=Ua(),e=Tt(),r=qt,n=Ot,a=xt(),s=new a.Factory,o=new n.DataFactory;let u=class extends t.ActorOptimizeQueryOperation{constructor(l){super(l)}async test(l){if(e.ActorQueryOperation.getOperationSource(l.operation))throw new Error(`Actor ${this.name} does not work with top-level operation sources.`);return!0}async run(l){let d=l.operation;const f=[],h=this;a.Util.recurseOperation(d,{[a.Algebra.types.UNION](m){return h.collectMultiOperationInputs(m.input,f,a.Algebra.types.PATTERN),!0},[a.Algebra.types.ALT](m){return h.collectMultiOperationInputs(m.input,f,a.Algebra.types.LINK),!1},[a.Algebra.types.SERVICE](){return!1}});const p=new Set;return await Promise.all(f.map(async m=>{const y=m.type==="link"?s.createPattern(o.variable("?s"),m.iri,o.variable("?o")):m;await this.hasSourceResults(e.ActorQueryOperation.getOperationSource(m),y,l.context)||p.add(m)})),p.size>0&&(this.logDebug(l.context,`Pruning ${p.size} source-specific operations`),d=a.Util.mapOperation(d,{[a.Algebra.types.UNION](m,y){return h.mapMultiOperation(m,p,g=>y.createUnion(g))},[a.Algebra.types.ALT](m,y){return h.mapMultiOperation(m,p,g=>y.createAlt(g))}}),d=a.Util.mapOperation(d,{[a.Algebra.types.PROJECT](m,y){let g=!1;return a.Util.recurseOperation(m,{[a.Algebra.types.UNION](b){return b.input.length===0&&(g=!0),!0},[a.Algebra.types.ALT](b){return b.input.length===0&&(g=!0),!0}}),g?{recurse:!1,result:y.createUnion([])}:{recurse:!0,result:m}}})),{operation:d,context:l.context}}collectMultiOperationInputs(l,d,f){for(const h of l)e.ActorQueryOperation.getOperationSource(h)&&h.type===f&&d.push(h)}mapMultiOperation(l,d,f){const h=l.input.filter(p=>!d.has(p));return h.length===l.input.length?{result:l,recurse:!0}:h.length===0?{result:f([]),recurse:!1}:h.length===1?{result:h[0],recurse:!0}:{result:f(h),recurse:!0}}async hasSourceResults(l,d,f){var p;if((p=l.context)!=null&&p.get(r.KeysQuerySourceIdentify.traverse))return!0;if(this.useAskIfSupported){const m=s.createAsk(d);if(e.ActorQueryOperation.doesShapeAcceptOperation(await l.source.getSelectorShape(f),m))return l.source.queryBoolean(m,f)}const h=l.source.queryBindings(d,f);return new Promise((m,y)=>{h.on("error",y),h.getProperty("metadata",g=>{h.destroy(),m(g.cardinality.value>0)})})}};return a_.ActorOptimizeQueryOperationPruneEmptySourceOperations=u,a_}var SQ;function OLe(){return SQ||(SQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ALe(),t)}(cI)),cI}var lI={},s_={},TQ;function RLe(){if(TQ)return s_;TQ=1,Object.defineProperty(s_,"__esModule",{value:!0}),s_.ActorQuerySourceIdentifySerialized=void 0;const t=j1(),e=Qee(),r=Pt;let n=class extends t.ActorQuerySourceIdentify{constructor(s){super(s)}async test(s){if(!this.isStringSource(s.querySourceUnidentified))throw new Error(`${this.name} requires a single query source with serialized type to be present in the context.`);return!0}async run(s){return await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{type:"rdfjs",value:await this.getRdfSource(s.context,s.querySourceUnidentified),context:s.querySourceUnidentified.context},context:s.context})}async getRdfSource(s,o){const u=new r.Readable({objectMode:!0});u._read=()=>{},u.push(o.value),u.push(null);const c={context:s,handle:{metadata:{baseIRI:o.baseIRI},data:u,context:s},handleMediaType:o.mediaType},l=await this.mediatorRdfParse.mediate(c);return await(0,e.storeStream)(l.handle.data)}isStringSource(s){return"type"in s?s.type==="serialized":typeof s.value!="string"?!1:"mediaType"in s}};return s_.ActorQuerySourceIdentifySerialized=n,s_}var EQ;function xLe(){return EQ||(EQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(RLe(),t)}(lI)),lI}var dI={},o_={},AQ;function ILe(){if(AQ)return o_;AQ=1,Object.defineProperty(o_,"__esModule",{value:!0}),o_.ActorOptimizeQueryOperationJoinConnected=void 0;const t=Ua(),e=xt();let r=class Gw extends t.ActorOptimizeQueryOperation{async test(a){return!0}async run(a){return{operation:e.Util.mapOperation(a.operation,{join(o,u){return{recurse:!1,result:Gw.cluster(o,u)}}}),context:a.context}}static cluster(a,s){const o=a.input.map(d=>({inScopeVariables:Object.fromEntries(e.Util.inScopeVariables(d).map(f=>[f.value,!0])),entries:[d]}));let u,c=o;do u=c,c=Gw.clusterIteration(u);while(u.length!==c.length);const l=c.map(d=>s.createJoin(d.entries));return l.length===1?l[0]:s.createJoin(l,!1)}static clusterIteration(a){const s=[];for(const o of a){let u=!1;for(const c of s)if(Gw.haveOverlappingVariables(o.inScopeVariables,c.inScopeVariables)){c.entries=[...c.entries,...o.entries],c.inScopeVariables={...c.inScopeVariables,...o.inScopeVariables},u=!0;break}u||s.push({inScopeVariables:o.inScopeVariables,entries:o.entries})}return s}static haveOverlappingVariables(a,s){for(const o of Object.keys(a))if(s[o])return!0;return!1}};return o_.ActorOptimizeQueryOperationJoinConnected=r,o_}var OQ;function PLe(){return OQ||(OQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ILe(),t)}(dI)),dI}var fI={},u_={},RQ;function NLe(){if(RQ)return u_;RQ=1,Object.defineProperty(u_,"__esModule",{value:!0}),u_.ActorOptimizeQueryOperationBgpToJoin=void 0;const t=Ua(),e=xt();let r=class extends t.ActorOptimizeQueryOperation{async test(a){return!0}async run(a){return{operation:e.Util.mapOperation(a.operation,{bgp(o,u){return{recurse:!1,result:u.createJoin(o.patterns)}}}),context:a.context}}};return u_.ActorOptimizeQueryOperationBgpToJoin=r,u_}var xQ;function DLe(){return xQ||(xQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(NLe(),t)}(fI)),fI}var hI={},c_={},IQ;function CLe(){if(IQ)return c_;IQ=1,Object.defineProperty(c_,"__esModule",{value:!0}),c_.ActorOptimizeQueryOperationJoinBgp=void 0;const t=Ua(),e=xt();let r=class extends t.ActorOptimizeQueryOperation{async test(a){return!0}async run(a){return{operation:e.Util.mapOperation(a.operation,{join(o,u){return o.input.every(c=>c.type==="bgp")?{recurse:!1,result:u.createBgp(o.input.flatMap(c=>c.patterns))}:{recurse:!1,result:o}}}),context:a.context}}};return c_.ActorOptimizeQueryOperationJoinBgp=r,c_}var PQ;function LLe(){return PQ||(PQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(CLe(),t)}(hI)),hI}var pI={},l_={},NQ;function jLe(){if(NQ)return l_;NQ=1,Object.defineProperty(l_,"__esModule",{value:!0}),l_.ActorOptimizeQueryOperationAssignSourcesExhaustive=void 0;const t=Ua(),e=Tt(),r=o4(),n=qt,a=xt();let s=class extends t.ActorOptimizeQueryOperation{constructor(u){super(u)}async test(u){return!0}async run(u){const c=u.context.get(n.KeysQueryOperation.querySources)??[];if(c.length===0)return{operation:u.operation,context:u.context};if(c.length===1){const l=c[0],d=u.context.get(n.KeysRdfUpdateQuads.destination);if(!d||l.source.referenceValue===(0,r.getDataDestinationValue)(d))try{const f=await l.source.getSelectorShape(u.context);if(e.ActorQueryOperation.doesShapeAcceptOperation(f,u.operation))return{operation:e.ActorQueryOperation.assignOperationSource(u.operation,l),context:u.context}}catch{}}return{operation:this.assignExhaustive(u.operation,c),context:u.context.delete(n.KeysInitQuery.queryString)}}assignExhaustive(u,c){const l=this;return a.Util.mapOperation(u,{[a.Algebra.types.PATTERN](d,f){return c.length===1?{result:e.ActorQueryOperation.assignOperationSource(d,c[0]),recurse:!1}:{result:f.createUnion(c.map(h=>e.ActorQueryOperation.assignOperationSource(d,h))),recurse:!1}},[a.Algebra.types.LINK](d,f){return c.length===1?{result:e.ActorQueryOperation.assignOperationSource(d,c[0]),recurse:!1}:{result:f.createAlt(c.map(h=>e.ActorQueryOperation.assignOperationSource(d,h))),recurse:!1}},[a.Algebra.types.NPS](d,f){return c.length===1?{result:e.ActorQueryOperation.assignOperationSource(d,c[0]),recurse:!1}:{result:f.createAlt(c.map(h=>e.ActorQueryOperation.assignOperationSource(d,h))),recurse:!1}},[a.Algebra.types.SERVICE](d){return{result:d,recurse:!1}},[a.Algebra.types.CONSTRUCT](d,f){return{result:f.createConstruct(l.assignExhaustive(d.input,c),d.template),recurse:!1}},[a.Algebra.types.DELETE_INSERT](d,f){return{result:f.createDeleteInsert(d.delete,d.insert,d.where?l.assignExhaustive(d.where,c):void 0),recurse:!1}}})}};return l_.ActorOptimizeQueryOperationAssignSourcesExhaustive=s,l_}var DQ;function MLe(){return DQ||(DQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(jLe(),t)}(pI)),pI}var yI={},d_={},CQ;function FLe(){if(CQ)return d_;CQ=1,Object.defineProperty(d_,"__esModule",{value:!0}),d_.ActorOptimizeQueryOperationDescribeToConstructsSubject=void 0;const t=Ua(),e=Ot,r=xt(),n=new e.DataFactory,a=new r.Factory;let s=class extends t.ActorOptimizeQueryOperation{constructor(u){super(u)}async test(u){if(u.operation.type!==r.Algebra.types.DESCRIBE)throw new Error(`Actor ${this.name} only supports describe operations, but got ${u.operation.type}`);return!0}async run(u){const c=u.operation,l=c.terms.filter(f=>f.termType!=="Variable").map(f=>{const h=[n.quad(f,n.variable("__predicate"),n.variable("__object"))];return h.forEach(m=>m.type="pattern"),{input:{type:r.Algebra.types.BGP,patterns:h},template:h,type:"construct"}});if(l.length!==c.terms.length){let f=[];c.terms.filter(h=>h.termType==="Variable").forEach((h,p)=>{const m=[n.quad(h,n.variable(`__predicate${p}`),n.variable(`__object${p}`))];m.forEach(y=>y.type="pattern"),f=[...f,...m]}),l.push({input:{type:r.Algebra.types.JOIN,input:[c.input,{type:r.Algebra.types.BGP,patterns:f}]},template:f,type:r.Algebra.types.CONSTRUCT})}return{operation:a.createUnion(l,!1),context:u.context}}};return d_.ActorOptimizeQueryOperationDescribeToConstructsSubject=s,d_}var LQ;function BLe(){return LQ||(LQ=1,function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(FLe(),t)}(yI)),yI}var qLe=function(t){const e=new(fEe()).LoggerVoid,r=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^3.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),n=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^3.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),a=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^3.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),s=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^3.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),o=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^3.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),u=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^3.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),c=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify-hypermedia/^3.0.0/components/ActorQuerySourceIdentifyHypermedia.jsonld#ActorQuerySourceIdentifyHypermedia_default_bus"}),l=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^3.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),d=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^3.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),f=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^3.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),h=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^3.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),p=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^3.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),m=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^3.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),y=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^3.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),g=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^3.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),b=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^3.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),v=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^3.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),_=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^3.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),w=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^3.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),E=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^3.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),O=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^3.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),L=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^3.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),F=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^3.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),x=new(Tt()).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^3.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),P=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^3.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),j=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^3.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),N=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^3.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),V=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^3.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),$=new st.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^3.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"});new(UEe()).ActorContextPreprocessConvertShortcuts({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelay:"@comunica/bus-http:http-retry-delay",httpRetryOnServerError:"@comunica/bus-http:http-retry-on-server-error",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",noCache:"@comunica/actor-init-query:noCache",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:n}),new(VEe()).ActorContextPreprocessSetDefaults({logger:e,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:n}),new(QEe()).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:n});const q=new(lY()).ActorContextPreprocessQuerySourceSkolemize({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:n}),H=new(iF()).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:n});new(YEe()).ActorHashBindingsSha1({name:"urn:comunica:default:hash-bindings/actors#sha1",bus:a});const X=new(zn()).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:a});new(rAe()).ActorOptimizeQueryOperationRewriteCopy({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:s}),new(iAe()).ActorOptimizeQueryOperationRewriteMove({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:s}),new(sAe()).ActorOptimizeQueryOperationRewriteAdd({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:s});const Y=new(uAe()).ActorOptimizeQueryOperationGroupSources({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:s}),he=new(iF()).MediatorCombinePipeline({filterErrors:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:s});new(dAe()).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:o}),new(z3e()).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:o});const Te=new(zn()).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:o});new(X3e()).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:u}),new(Z3e()).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:u}),new(tOe()).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:u}),new(iOe()).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:u}),new(oOe()).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:u}),new(cOe()).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:u}),new(IOe()).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:u});const Ne=new(zn()).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:u}),$e=new(qo()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:u}),de=new(qo()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:u}),ce=new(Ep()).MediatorNumber({field:"filterFactor",type:"max",ignoreErrors:!0,name:"urn:comunica:default:query-source-identify-hypermedia/mediators#main",bus:c}),xe=new(jOe()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:l}),Pe=new(zn()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:l}),we=new(zn()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:d});new(qOe()).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:f});const Re=new(zn()).MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:f});new(VOe()).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:h});const Se=new(Ep()).MediatorNumber({field:"accuracy",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:h});new(zOe()).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:p}),new(WOe()).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:p});const z=new(zn()).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:p});new(XOe()).ActorRdfMetadataAccumulateCanContainUndefs({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cancontainundefs",bus:m}),new(ZOe()).ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:m}),new(tRe()).ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:m}),new(nRe()).ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:m});const M=new(qo()).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:m});new(oRe()).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:y}),new(cRe()).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:y}),new(dRe()).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:y}),new(hRe()).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:y}),new(yRe()).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:y}),new(gRe()).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:y}),new(bRe()).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:y}),new(wRe()).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:y});const k=new(qo()).MediatorCombineUnion({filterErrors:!0,field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:y});new(KRe()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:g}),new(Vxe()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:g}),new(nPe()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:g}),new(dPe()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:g});const T=new(zn()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:g}),R=new(qo()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:g});new(SPe()).ActorRdfParseHtml({busRdfParseHtml:b,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:g}),new(MPe()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:b}),new(BPe()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:b}),new(HPe()).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:v});const U=new(zn()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:v});new(WPe()).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:_});const G=new(zn()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:_});new(YPe()).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:w}),new(nNe()).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:w}),new(vNe()).ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:w});const Q=new(zn()).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:w}),Z=new(qo()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:w}),se=new(qo()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:w}),re=new(zn()).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:E});new(RNe()).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:O});const le=new(zn()).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:O}),pe=new(jNe()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:L}),_e=new(Ep()).MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:L}),Ie=new(Ep()).MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#main",bus:F});new(FNe()).ActorQueryOperationSource({name:"urn:comunica:default:query-operation/actors#source",bus:x});const Ee=new(Ep()).MediatorNumber({field:"httpRequests",type:"min",ignoreErrors:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:x}),Me=new(zn()).MediatorRace({name:"urn:comunica:default:query-process/mediators#main",bus:P}),Ce=new(zn()).MediatorRace({name:"urn:comunica:default:query-source-identify/mediators#main",bus:j}),ke=new(qNe()).MediatorJoinCoefficientsFixed({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:N}),qe=new(iw()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^3.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:V}),W=new(kNe()).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:V}),D=new(iw()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^3.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:V}),B=new(iw()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^3.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:V}),K=new(iw()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^3.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:V}),ne=new(qo()).MediatorCombineUnion({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:$});new(GNe()).ActorRdfJoinSingle({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:N}),new(KNe()).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:N}),new(XNe()).ActorRdfJoinMultiBindSource({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:Re,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:N}),new(iDe()).ActorRdfJoinHash({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-hash",bus:N}),new(sDe()).ActorRdfJoinSymmetricHash({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:N}),new(uDe()).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:N}),new(lDe()).ActorRdfJoinMinusHash({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#minus-hash",bus:N}),new(hDe()).ActorRdfJoinMinusHashUndef({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:N}),new(aw()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:N}),new(aw()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:N}),new(aw()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:N}),new(aw()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:N}),new(_De()).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:N}),new(SDe()).ActorDereferenceRdfParse({mediatorDereference:Pe,mediatorParse:T,mediatorParseMediatypes:R,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:d}),new(ADe()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:R,mediatorRdfParseHandle:T,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:b}),new(RDe()).ActorQueryResultSerializeRdf({mediatorRdfSerialize:Q,mediatorMediaTypeCombiner:Z,mediatorMediaTypeFormatCombiner:se,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:u}),new(IDe()).ActorHttpWayback({mediatorHttp:_e,name:"urn:comunica:default:http/actors#wayback",bus:F}),new(iCe()).ActorRdfParseJsonLd({mediatorHttp:Ie,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:g}),new(oCe()).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:Ie,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:E}),new(cCe()).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:Ie,mediatorRdfSerializeMediatypes:Z,mediatorRdfSerialize:Q,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:E}),new(mCe()).ActorRdfUpdateHypermediaSparql({mediatorHttp:Ie,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:E}),new(_Ce()).ActorQueryOperationAsk({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#ask",bus:x}),new(vCe()).ActorQueryOperationBgpJoin({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#bgp",bus:x}),new(SCe()).ActorQueryOperationDistinctHash({mediatorHashBindings:X,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#distinct",bus:x}),new(Tee()).ActorQueryOperationConstruct({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#construct",bus:x}),new(ACe()).ActorQueryOperationFromQuad({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#from",bus:x}),new(RCe()).ActorQueryOperationProject({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#project",bus:x}),new(ICe()).ActorQueryOperationReducedHash({mediatorHashBindings:X,cacheSize:100,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#reduced",bus:x}),new(NCe()).ActorQueryOperationSlice({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#slice",bus:x}),new(Aee()).ActorQueryOperationUnion({mediatorRdfMetadataAccumulate:M,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#union",bus:x}),new(jCe()).ActorQueryOperationPathAlt({mediatorRdfMetadataAccumulate:M,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-alt",bus:x}),new(FCe()).ActorQueryOperationPathInv({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-inv",bus:x}),new(qCe()).ActorQueryOperationPathLink({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-link",bus:x}),new(UCe()).ActorQueryOperationPathNps({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-nps",bus:x}),new(VCe()).ActorQueryOperationClear({mediatorUpdateQuads:le,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-clear",bus:x}),new(QCe()).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-composite",bus:x}),new(GCe()).ActorQueryOperationCreate({mediatorUpdateQuads:le,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-create",bus:x}),new(KCe()).ActorQueryOperationDrop({mediatorUpdateQuads:le,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-drop",bus:x}),new(XCe()).ActorQueryOperationLoad({mediatorUpdateQuads:le,mediatorQuerySourceIdentify:Ce,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-load",bus:x}),new(ZCe()).ActorQueryOperationJoin({mediatorJoin:ke,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#join",bus:x}),new(t4e()).ActorQueryOperationMinus({mediatorJoin:ke,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#minus",bus:x}),new(n4e()).ActorQueryOperationPathSeq({mediatorJoin:ke,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-seq",bus:x}),new(a4e()).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:Re,mediatorJoin:ke,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:N}),new(u4e()).ActorRdfJoinMultiSmallestFilterBindings({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:Re,mediatorJoin:ke,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:N});const fe=new(l4e()).ActorOptimizeQueryOperationFilterPushdown({name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:s,beforeActors:[Y]});new(f4e()).ActorDereferenceHttp({mediatorHttp:Ie,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:l,beforeActors:[xe]}),new(y4e()).ActorHttpProxy({mediatorHttp:Ie,name:"urn:comunica:default:http/actors#proxy",bus:L,beforeActors:[pe]}),new(g4e()).ActorContextPreprocessQuerySourceIdentify({cacheSize:100,httpInvalidator:qe,mediatorQuerySourceIdentify:Ce,mediatorContextPreprocess:H,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:n,beforeActors:[q]});const ge=new zD.ActorInitQuery({mediatorQueryProcess:Me,mediatorQueryResultSerialize:Ne,mediatorQueryResultSerializeMediaTypeCombiner:$e,mediatorQueryResultSerializeMediaTypeFormatCombiner:de,mediatorHttpInvalidate:W,defaultQueryInputFormat:"sparql",allowNoSources:!1,name:"urn:comunica:default:init/actors#query",bus:r});new(b4e()).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:D,mediatorDereferenceRdf:we,mediatorMetadata:z,mediatorMetadataExtract:k,mediatorRdfUpdateHypermedia:re,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:O});const Le=new(wk()).ActionObserverHttp({httpInvalidator:B,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^3.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:L}),ee=new(Ak()).ActionObserverHttp({httpInvalidator:K,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^3.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:L});new(x4e()).ActorQuerySourceIdentifyHypermediaQpf({mediatorMetadata:z,mediatorMetadataExtract:k,mediatorDereferenceRdf:we,mediatorMergeBindingsContext:ne,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:query-source-identify-hypermedia/actors#qpf",bus:c}),new(P4e()).ActorQuerySourceIdentifyHypermediaSparql({mediatorHttp:Ie,mediatorMergeBindingsContext:ne,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,bindMethod:"values",countTimeout:3e3,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#sparql",bus:c}),new(z4e()).ActorQuerySourceIdentifyHypermediaNone({mediatorMergeBindingsContext:ne,name:"urn:comunica:default:query-source-identify-hypermedia/actors#none",bus:c}),new(C6e()).ActorQueryOperationExtend({mediatorMergeBindingsContext:ne,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#extend",bus:x}),new(j6e()).ActorQueryOperationFilter({mediatorMergeBindingsContext:ne,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#filter",bus:x}),new(B6e()).ActorQueryOperationGroup({mediatorHashBindings:X,mediatorMergeBindingsContext:ne,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#group",bus:x}),new($6e()).ActorQueryOperationLeftJoin({mediatorJoin:ke,mediatorMergeBindingsContext:ne,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:x}),new(k6e()).ActorQueryOperationNop({mediatorMergeBindingsContext:ne,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#nop",bus:x}),new(Q6e()).ActorQueryOperationOrderBy({mediatorMergeBindingsContext:ne,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#orderby",bus:x}),new(G6e()).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:ne,mediatorQuerySourceIdentify:Ce,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#service",bus:x}),new(K6e()).ActorQueryOperationValues({mediatorMergeBindingsContext:ne,name:"urn:comunica:default:query-operation/actors#values",bus:x}),new(X6e()).ActorQueryOperationPathOneOrMore({mediatorMergeBindingsContext:ne,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:x}),new(Z6e()).ActorQueryOperationPathZeroOrMore({mediatorMergeBindingsContext:ne,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:x}),new(tLe()).ActorQueryOperationPathZeroOrOne({mediatorMergeBindingsContext:ne,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:x}),new(nLe()).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:le,mediatorMergeBindingsContext:ne,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:x});const Oe=new(sLe()).ActorQueryProcessSequential({mediatorContextPreprocess:H,mediatorQueryParse:Te,mediatorOptimizeQueryOperation:he,mediatorQueryOperation:Ee,mediatorMergeBindingsContext:ne,name:"urn:comunica:default:query-process/actors#sequential",bus:P}),De=new(hLe()).ActorQuerySourceIdentifyHypermedia({cacheSize:100,maxIterators:64,aggregateTraversalStore:!0,mediatorDereferenceRdf:we,mediatorMetadata:z,mediatorMetadataExtract:k,mediatorMetadataAccumulate:M,mediatorQuerySourceIdentifyHypermedia:ce,mediatorRdfResolveHypermediaLinks:G,mediatorRdfResolveHypermediaLinksQueue:U,mediatorMergeBindingsContext:ne,name:"urn:comunica:default:query-source-identify/actors#hypermedia",bus:j});new(yLe()).ActorRdfJoinNone({mediatorMergeBindingsContext:ne,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:N}),new(pte()).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorJoinEntriesSort:Re,mediatorQueryOperation:Ee,mediatorMergeBindingsContext:ne,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:N}),new(_Le()).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:Ee,mediatorMergeBindingsContext:ne,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:N}),new(wk()).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:Le,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:u}),new(Ak()).ActorQueryResultSerializeStats({httpObserver:ee,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:u}),new(vLe()).ActorQueryProcessExplainParsed({queryProcessor:Oe,name:"urn:comunica:default:query-process/actors#explain-parsed",bus:P}),new(SLe()).ActorQueryProcessExplainLogical({queryProcessor:Oe,name:"urn:comunica:default:query-process/actors#explain-logical",bus:P}),new(ELe()).ActorQueryProcessExplainPhysical({queryProcessor:Oe,name:"urn:comunica:default:query-process/actors#explain-physical",bus:P});const Ue=new(OLe()).ActorOptimizeQueryOperationPruneEmptySourceOperations({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:s,beforeActors:[fe]});new(f4()).ActorQuerySourceIdentifyRdfJs({mediatorMergeBindingsContext:ne,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:j,beforeActors:[De]}),new(xLe()).ActorQuerySourceIdentifySerialized({mediatorRdfParse:T,mediatorQuerySourceIdentify:Ce,name:"urn:comunica:default:query-source-identify/actors#serialized",bus:j,beforeActors:[De]});const Ye=new(PLe()).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:s,beforeActors:[Ue]}),ut=new(DLe()).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:s,beforeActors:[Ye]}),at=new(LLe()).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:s,beforeActors:[ut]}),ct=new(MLe()).ActorOptimizeQueryOperationAssignSourcesExhaustive({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:s,beforeActors:[at]});return new(BLe()).ActorOptimizeQueryOperationDescribeToConstructsSubject({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:s,beforeActors:[ct]}),ge};Object.defineProperty(j2,"__esModule",{value:!0});j2.QueryEngine=void 0;const $Le=zD,ULe=qLe;class kLe extends $Le.QueryEngineBase{constructor(e=ULe()){super(e)}}j2.QueryEngine=kLe;(function(t){var e=I&&I.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=I&&I.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(j2,t)})(QD);const f_="http://www.w3.org/1999/02/22-rdf-syntax-ns#",h_="http://www.w3.org/2001/XMLSchema#",mI="http://www.w3.org/2000/10/swap/",jn={xsd:{decimal:`${h_}decimal`,boolean:`${h_}boolean`,double:`${h_}double`,integer:`${h_}integer`,string:`${h_}string`},rdf:{type:`${f_}type`,nil:`${f_}nil`,first:`${f_}first`,rest:`${f_}rest`,langString:`${f_}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${mI}reify#forSome`,forAll:`${mI}reify#forAll`},log:{implies:`${mI}log#implies`}},{xsd:cw}=jn,VLe=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,jQ={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},HLe=/[\x00-\x20<>\\"\{\}\|\^\`]/,QLe={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},zLe=/$0^/;class GLe{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const r in this)!(r in QLe)&&this[r]instanceof RegExp&&(this[r]=zLe)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,r){let n=this._input,a=n.length;for(;;){let u,c;for(;u=this._newline.exec(n);)this._comments&&(c=this._comment.exec(u[0]))&&s("comment",c[1],"",this._line,u[0].length),n=n.substr(u[0].length,n.length),a=n.length,this._line++;if(!u&&(u=this._whitespace.exec(n))&&(n=n.substr(u[0].length,n.length)),this._endOfFile.test(n))return r&&(this._comments&&(c=this._comment.exec(n))&&s("comment",c[1],"",this._line,n.length),n=null,s("eof","","",this._line,0)),this._input=n;const l=this._line,d=n[0];let f="",h="",p="",m=null,y=0,g=!1;switch(d){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){g=!0;break}}else{this._n3Mode&&(y=1,f="^");break}case"<":if(m=this._unescapedIri.exec(n))f="IRI",h=m[1];else if(m=this._iri.exec(n)){if(h=this._unescape(m[1]),h===null||HLe.test(h))return o(this);f="IRI"}else n.length>1&&n[1]==="<"?(f="<<",y=2):this._n3Mode&&n.length>1&&n[1]==="="&&(f="inverse",y=2,h=">");break;case">":n.length>1&&n[1]===">"&&(f=">>",y=2);break;case"_":((m=this._blank.exec(n))||r&&(m=this._blank.exec(`${n} `)))&&(f="blank",p="_",h=m[1]);break;case'"':if(m=this._simpleQuotedString.exec(n))h=m[1];else if({value:h,matchLength:y}=this._parseLiteral(n),h===null)return o(this);(m!==null||y!==0)&&(f="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(m=this._simpleApostropheString.exec(n))h=m[1];else if({value:h,matchLength:y}=this._parseLiteral(n),h===null)return o(this);(m!==null||y!==0)&&(f="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(m=this._variable.exec(n))&&(f="var",h=m[0]);break;case"@":this._previousMarker==="literal"&&(m=this._langcode.exec(n))?(f="langcode",h=m[1]):(m=this._keyword.exec(n))&&(f=m[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){f=".",y=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(m=this._number.exec(n)||r&&(m=this._number.exec(`${n} `)))&&(f="literal",h=m[0],p=typeof m[1]=="string"?cw.double:typeof m[2]=="string"?cw.decimal:cw.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(m=this._sparqlKeyword.exec(n))?f=m[0].toUpperCase():g=!0;break;case"f":case"t":(m=this._boolean.exec(n))?(f="literal",h=m[0],p=cw.boolean):g=!0;break;case"a":(m=this._shortPredicates.exec(n))?(f="abbreviation",h="a"):g=!0;break;case"=":this._n3Mode&&n.length>1&&(f="abbreviation",n[1]!==">"?(y=1,h="="):(y=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(y=1,f=d);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(f="{|",y=2):(f=d,y=1));break;case"|":n.length>=2&&n[1]==="}"&&(f="|}",y=2);break;default:g=!0}if(g&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(m=this._prefix.exec(n))?(f="prefix",h=m[1]||""):((m=this._prefixed.exec(n))||r&&(m=this._prefixed.exec(`${n} `)))&&(f="prefixed",p=m[1]||"",h=this._unescape(m[2]))),this._previousMarker==="^^")switch(f){case"prefixed":f="type";break;case"IRI":f="typeIRI";break;default:f=""}if(!f)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;const b=y||m[0].length,v=s(f,h,p,l,b);this.previousToken=v,this._previousMarker=f,n=n.substr(b,n.length)}function s(u,c,l,d,f){const h=n?a-n.length:a,p=h+f,m={type:u,value:c,prefix:l,line:d,start:h,end:p};return e(null,m),m}function o(u){e(u._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let r=!1;const n=e.replace(VLe,(a,s,o,u)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof o=="string"){let c=Number.parseInt(o,16);return c<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((c-=65536)>>10),56320+(c&1023))}return u in jQ?jQ[u]:(r=!0,"")});return r?null:n}_parseLiteral(e){if(e.length>=3){const r=e.match(/^(?:"""|"|'''|'|)/)[0],n=r.length;let a=Math.max(this._literalClosingPos,n);for(;(a=e.indexOf(r,a))>0;){let s=0;for(;e[a-s-1]==="\\";)s++;if(s%2===0){const o=e.substring(n,a),u=o.split(/\r\n|\r|\n/).length-1,c=a+n;if(n===1&&u!==0||n===3&&this._lineMode)break;return this._line+=u,{value:this._unescape(o),matchLength:c}}a++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const r=new Error(`Unexpected "${e}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,r){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof r=="function")JY(()=>this._tokenizeToEnd(r,!0));else{const n=[];let a;if(this._tokenizeToEnd((s,o)=>s?a=s:n.push(o),!0),a)throw a;return n}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=ta.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),e.on("error",r)}}const{rdf:WLe,xsd:Ec}=jn;let M1,KLe=0;const Zd={namedNode:eje,blankNode:tje,variable:nje,literal:rje,defaultGraph:ije,quad:MQ,triple:MQ};class Is{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Is?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class mte extends Is{get termType(){return"NamedNode"}}class Ad extends Is{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let r=e.lastIndexOf('"')+1;return r<e.length&&e[r++]==="@"?e.substr(r).toLowerCase():""}get datatype(){return new mte(this.datatypeString)}get datatypeString(){const e=this.id,r=e.lastIndexOf('"')+1,n=r<e.length?e[r]:"";return n==="^"?e.substr(r+2):n!=="@"?Ec.string:WLe.langString}equals(e){return e instanceof Ad?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class JLe extends Is{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class XLe extends Is{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class YLe extends Is{constructor(){return super(""),M1||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}M1=new YLe;function L_(t,e,r){if(e=e||Zd,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===Zd)return new Ad(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const n=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,n-1),t[n+1]==="@"?t.substr(n+2):e.namedNode(t.substr(n+3)));case"[":t=JSON.parse(t);break;default:if(!r||!Array.isArray(t))return e.namedNode(t)}return e.quad(L_(t[0],e,!0),L_(t[1],e,!0),L_(t[2],e,!0),t[3]&&L_(t[3],e,!0))}function Ni(t,e){if(typeof t=="string")return t;if(t instanceof Is&&t.termType!=="Quad")return t.id;if(!t)return M1.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==Ec.string?`^^${t.datatype.value}`:""}`;case"Quad":const r=[Ni(t.subject,!0),Ni(t.predicate,!0),Ni(t.object,!0)];return t.graph&&t.graph.termType!=="DefaultGraph"&&r.push(Ni(t.graph,!0)),e?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${t.termType}`)}}class ZLe extends Is{constructor(e,r,n,a){super(""),this._subject=e,this._predicate=r,this._object=n,this._graph=a||M1}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function eje(t){return new mte(t)}function tje(t){return new JLe(t||`n3-${KLe++}`)}function rje(t,e){if(typeof e=="string")return new Ad(`"${t}"@${e.toLowerCase()}`);let r=e?e.value:"";return r===""&&(typeof t=="boolean"?r=Ec.boolean:typeof t=="number"&&(Number.isFinite(t)?r=Number.isInteger(t)?Ec.integer:Ec.double:(r=Ec.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),r===""||r===Ec.string?new Ad(`"${t}"`):new Ad(`"${t}"^^${r}`)}function nje(t){return new XLe(t)}function ije(){return M1}function MQ(t,e,r,n){return new ZLe(t,e,r,n)}let FQ=0;class gte{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&_te(this,e.factory);const r=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),a=/trig/.test(r),s=/triple/.test(r),o=/quad/.test(r),u=this._n3Mode=/n3/.test(r),c=s||o;(this._supportsNamedGraphs=!(n||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||a||s||u),this._supportsRDFStar=r===""||/star|\*$/.test(r),c&&(this._resolveRelativeIRI=l=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new GLe({lineMode:c,n3:u}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){FQ=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const r=e.indexOf("#");r>=0&&(e=e.substr(0,r)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,r,n,a,s){const o=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:a,object:s,graph:r,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,r){const n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,r){let n;switch(e.type){case"IRI":case"typeIRI":const a=this._resolveIRI(e.value);if(a===null)return this._error("Invalid IRI",e);n=this._namedNode(a);break;case"type":case"prefixed":const s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._namedNode(s+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const r=e.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,e):(this._subject=null,r==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let r=null,n=null,a=this._readListItem;const s=this._subject,o=this._contextStack,u=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=r=this._blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;n=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,a=this._readListItemDataTypeOrLang):(r=this._literal(e.value,this._namedNode(e.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((r=this._readEntity(e))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),s===null?u.predicate===null?u.subject=n:u.object=n:this._emit(s,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return a}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let r=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const n=this._readEntity(e);if(n===void 0)return;r=this._literal(this._literalValue,n),e=null;break;case"langcode":r=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:r}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,r){const n=this._completeLiteral(e);if(n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let r,n=this._graph;const a=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);const o=this._predicate,u=this._object;this._subject=this._quad(a,o,u,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(e))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(a!==null){const o=this._predicate,u=this._object;s?this._emit(u,o,a,n):this._emit(a,o,u,n)}return r}_readBlankNodePunctuation(e){let r;switch(e.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const r=this._readEntity(e);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(e){const r=e.type==="IRI"&&this._resolveIRI(e.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let r;switch(e.type){case"IRI":case"prefixed":if((r=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){const a=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,a,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let r,n;const a=this._blankNode();if((n=this._readEntity(e))!==void 0)return this._predicate===null?(r=this._subject,this._subject=a):(r=this._object,this._object=a),this._emit(r,n,a,this._graph),this._readPath}_readBackwardPath(e){const r=this._blankNode();let n,a;if((n=this._readEntity(e))!==void 0)return this._predicate===null?(a=this._subject,this._subject=r):(a=this._object,this._object=r),this._emit(r,n,a,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const r=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,r,n,a){this._callback(null,this._quad(e,r,n,a||this.DEFAULTGRAPH))}_error(e,r){const n=new Error(`${e} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=gI}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const r=e.length;let n="",a=-1,s=-1,o=0,u="/";for(;a<r;){switch(u){case":":if(s<0&&e[++a]==="/"&&e[++a]==="/")for(;(s=a+1)<r&&e[s]!=="/";)a=s;break;case"?":case"#":a=r;break;case"/":if(e[a+1]===".")switch(u=e[++a+1],u){case"/":n+=e.substring(o,a-1),o=a+1;break;case void 0:case"?":case"#":return n+e.substring(o,a)+e.substr(a+1);case".":if(u=e[++a+1],u===void 0||u==="/"||u==="?"||u==="#"){if(n+=e.substring(o,a-2),(o=n.lastIndexOf("/"))>=s&&(n=n.substr(0,o)),u!=="/")return`${n}/${e.substr(a+1)}`;o=a+1}}}u=e[++a]}return n+e.substring(o)}parse(e,r,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${FQ++}_`,this._prefixCallback=n||gI,this._inversePredicate=!1,this._quantified=Object.create(null),!r){const a=[];let s;if(this._callback=(o,u)=>{o?s=o:u&&a.push(u)},this._lexer.tokenize(e).every(o=>this._readCallback=this._readCallback(o)),s)throw s;return a}this._callback=r,this._lexer.tokenize(e,(a,s)=>{a!==null?(this._callback(a),this._callback=gI):this._readCallback&&(this._readCallback=this._readCallback(s))})}}function gI(){}function _te(t,e){const r=e.namedNode;t._namedNode=r,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=r(jn.rdf.first),t.RDF_REST=r(jn.rdf.rest),t.RDF_NIL=r(jn.rdf.nil),t.N3_FORALL=r(jn.r.forAll),t.N3_FORSOME=r(jn.r.forSome),t.ABBREVIATIONS={a:r(jn.rdf.type),"=":r(jn.owl.sameAs),">":r(jn.log.implies)},t.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}_te(gte.prototype,Zd);function aje(t){return!!t&&t.termType==="NamedNode"}function sje(t){return!!t&&t.termType==="BlankNode"}function oje(t){return!!t&&t.termType==="Literal"}function uje(t){return!!t&&t.termType==="Variable"}function Rb(t){return!!t&&t.termType==="DefaultGraph"}function cje(t){return Rb(t.graph)}function lje(t,e){return bte({"":t.value||t},e)("")}function bte(t,e){const r=Object.create(null);for(const a in t)n(a,t[a]);e=e||Zd;function n(a,s){if(typeof s=="string"){const o=Object.create(null);r[a]=u=>o[u]||(o[u]=e.namedNode(s+u))}else if(!(a in r))throw new Error(`Unknown prefix: ${a}`);return r[a]}return n}const S$e=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:cje,isBlankNode:sje,isDefaultGraph:Rb,isLiteral:oje,isNamedNode:aje,isVariable:uje,prefix:lje,prefixes:bte},Symbol.toStringTag,{value:"Module"})),p_=Zd.defaultGraph(),{rdf:dje,xsd:kl}=jn,BQ=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,qQ=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,fje={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class y_ extends Is{equals(e){return e===this}}class hje{constructor(e,r){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(r=e,e=null),r=r||{},this._lists=r.lists,e)this._outputStream=e,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(a,s,o){n+=a,o&&o()},end:a=>{a&&a(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=p_,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${UQ(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return p_.equals(this._graph)}_write(e,r){this._outputStream.write(e,"utf8",r)}_writeQuad(e,r,n,a,s){try{a.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(p_.equals(a)?"":`${this._encodeIriOrBlank(a)} {
`)),this._graph=a,this._subject=null),e.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s)}catch(o){s&&s(o)}}_writeQuadLine(e,r,n,a,s){delete this._prefixMatch,this._write(this.quadToString(e,r,n,a),s)}quadToString(e,r,n,a){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${a&&a.value?` ${this._encodeIriOrBlank(a)} .
`:` .
`}`}quadsToString(e){return e.map(r=>this.quadToString(r.subject,r.predicate,r.object,r.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let r=e.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),BQ.test(r)&&(r=r.replace(qQ,$Q));const n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(e){let r=e.value;if(BQ.test(r)&&(r=r.replace(qQ,$Q)),e.language)return`"${r}"@${e.language}`;if(this._lineMode){if(e.datatype.value===kl.string)return`"${r}"`}else switch(e.datatype.value){case kl.string:return`"${r}"`;case kl.boolean:if(r==="true"||r==="false")return r;break;case kl.integer:if(/^[+-]?\d+$/.test(r))return r;break;case kl.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case kl.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===dje.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:r,object:n,graph:a}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${Rb(a)?"":` ${this._encodeIriOrBlank(a)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,r,n,a,s){n===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,r):typeof a=="function"?this._writeQuad(e,r,n,p_,a):this._writeQuad(e,r,n,a||p_,s)}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}addPrefix(e,r,n){const a={};a[e]=r,this.addPrefixes(a,n)}addPrefixes(e,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let a in e){let s=e[a];typeof s!="string"&&(s=s.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=a+=":",this._write(`@prefix ${a} <${s}>.
`)}if(n){let a="",s="";for(const o in this._prefixIRIs)a+=a?`|${o}`:o,s+=(s?"|":"")+this._prefixIRIs[o];a=UQ(a),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${a})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(e,r){let n=e,a,s;switch(e===void 0?n=[]:e.termType?n=[{predicate:e,object:r}]:"length"in e||(n=[e]),s=n.length){case 0:return new y_("[]");case 1:if(a=n[0],!(a.object instanceof y_))return new y_(`[ ${this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)} ]`);default:let o="[";for(let u=0;u<s;u++)a=n[u],a.predicate.equals(e)?o+=`, ${this._encodeObject(a.object)}`:(o+=`${(u?`;
  `:`
  `)+this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)}`,e=a.predicate);return new y_(`${o}
]`)}}list(e){const r=e&&e.length||0,n=new Array(r);for(let a=0;a<r;a++)n[a]=this._encodeObject(e[a]);return new y_(`(${n.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=e&&((n,a)=>{r=null,e(n,a)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}}function $Q(t){let e=fje[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function UQ(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}class vte{constructor(e,r){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!r&&e&&!e[0]&&(r=e,e=null),r=r||{},this._factory=r.factory||Zd,e&&this.addQuads(e)}_termFromId(e,r){if(e[0]==="."){const n=this._entities,a=e.split(".");return this._factory.quad(this._termFromId(n[a[1]]),this._termFromId(n[a[2]]),this._termFromId(n[a[3]]),a[4]&&this._termFromId(n[a[4]]))}return L_(e,r)}_termToNumericId(e){if(e.termType==="Quad"){const r=this._termToNumericId(e.subject),n=this._termToNumericId(e.predicate),a=this._termToNumericId(e.object);let s;return r&&n&&a&&(Rb(e.graph)||(s=this._termToNumericId(e.graph)))&&this._ids[s?`.${r}.${n}.${a}.${s}`:`.${r}.${n}.${a}`]}return this._ids[Ni(e)]}_termToNewNumericId(e){const r=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${Rb(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:Ni(e);return this._ids[r]||(this._ids[this._entities[++this._id]=r]=this._id)}get size(){let e=this._size;if(e!==null)return e;e=0;const r=this._graphs;let n,a;for(const s in r)for(const o in n=r[s].subjects)for(const u in a=n[o])e+=Object.keys(a[u]).length;return this._size=e}_addToIndex(e,r,n,a){const s=e[r]||(e[r]={}),o=s[n]||(s[n]={}),u=a in o;return u||(o[a]=null),!u}_removeFromIndex(e,r,n,a){const s=e[r],o=s[n];delete o[a];for(const u in o)return;delete s[n];for(const u in s)return;delete e[r]}*_findInIndex(e,r,n,a,s,o,u,c){let l,d,f;const h=this._entities,p=this._termFromId(c,this._factory),m={subject:null,predicate:null,object:null};r&&((l=e,e={})[r]=l[r]);for(const y in e)if(d=e[y]){m[s]=this._termFromId(h[y],this._factory),n&&((l=d,d={})[n]=l[n]);for(const g in d)if(f=d[g]){m[o]=this._termFromId(h[g],this._factory);const b=a?a in f?[a]:[]:Object.keys(f);for(let v=0;v<b.length;v++)m[u]=this._termFromId(h[b[v]],this._factory),yield this._factory.quad(m.subject,m.predicate,m.object,p)}}}_loop(e,r){for(const n in e)r(n)}_loopByKey0(e,r,n){let a,s;if(a=e[r])for(s in a)n(s)}_loopByKey1(e,r,n){let a,s;for(a in e)s=e[a],s[r]&&n(a)}_loopBy2Keys(e,r,n,a){let s,o,u;if((s=e[r])&&(o=s[n]))for(u in o)a(u)}_countInIndex(e,r,n,a){let s=0,o,u,c;r&&((o=e,e={})[r]=o[r]);for(const l in e)if(u=e[l]){n&&((o=u,u={})[n]=o[n]);for(const d in u)(c=u[d])&&(a?a in c&&s++:s+=Object.keys(c).length)}return s}_getGraphs(e){if(!pje(e))return this._graphs;const r={};return r[e]=this._graphs[e],r}_uniqueEntities(e){const r=Object.create(null);return n=>{n in r||(r[n]=!0,e(this._termFromId(this._entities[n],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,r,n,a){r||(a=e.graph,n=e.object,r=e.predicate,e=e.subject),a=Ni(a);let s=this._graphs[a];s||(s=this._graphs[a]={subjects:{},predicates:{},objects:{}},Object.freeze(s)),e=this._termToNewNumericId(e),r=this._termToNewNumericId(r),n=this._termToNewNumericId(n);const o=this._addToIndex(s.subjects,e,r,n);return this._addToIndex(s.predicates,r,n,e),this._addToIndex(s.objects,n,e,r),this._size=null,o}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}delete(e){return this.removeQuad(e),this}has(e,r,n,a){return e&&e.subject&&({subject:e,predicate:r,object:n,graph:a}=e),!this.readQuads(e,r,n,a).next().done}import(e){return e.on("data",r=>{this.addQuad(r)}),e}removeQuad(e,r,n,a){r||(a=e.graph,n=e.object,r=e.predicate,e=e.subject),a=Ni(a);const s=this._graphs;let o,u,c;if(!(e=e&&this._termToNumericId(e))||!(r=r&&this._termToNumericId(r))||!(n=n&&this._termToNumericId(n))||!(o=s[a])||!(u=o.subjects[e])||!(c=u[r])||!(n in c))return!1;this._removeFromIndex(o.subjects,e,r,n),this._removeFromIndex(o.predicates,r,n,e),this._removeFromIndex(o.objects,n,e,r),this._size!==null&&this._size--;for(e in o.subjects)return!0;return delete s[a],!0}removeQuads(e){for(let r=0;r<e.length;r++)this.removeQuad(e[r])}remove(e){return e.on("data",r=>{this.removeQuad(r)}),e}removeMatches(e,r,n,a){const s=new Pt.Readable({objectMode:!0});return s._read=()=>{for(const o of this.readQuads(e,r,n,a))s.push(o);s.push(null)},this.remove(s)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,r,n,a){return[...this.readQuads(e,r,n,a)]}*readQuads(e,r,n,a){a=a&&Ni(a);const s=this._getGraphs(a);let o,u,c,l;if(!(e&&!(u=this._termToNumericId(e))||r&&!(c=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(const d in s)(o=s[d])&&(u?l?yield*this._findInIndex(o.objects,l,u,c,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,u,c,null,"subject","predicate","object",d):c?yield*this._findInIndex(o.predicates,c,l,null,"predicate","object","subject",d):l?yield*this._findInIndex(o.objects,l,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(e,r,n,a){return new p4(this,e,r,n,a)}countQuads(e,r,n,a){a=a&&Ni(a);const s=this._getGraphs(a);let o=0,u,c,l,d;if(e&&!(c=this._termToNumericId(e))||r&&!(l=this._termToNumericId(r))||n&&!(d=this._termToNumericId(n)))return 0;for(const f in s)(u=s[f])&&(e?n?o+=this._countInIndex(u.objects,d,c,l):o+=this._countInIndex(u.subjects,c,l,d):r?o+=this._countInIndex(u.predicates,l,d,c):o+=this._countInIndex(u.objects,d,c,l));return o}forEach(e,r,n,a,s){this.some(o=>(e(o),!1),r,n,a,s)}every(e,r,n,a,s){let o=!1;const u=!this.some(c=>(o=!0,!e(c)),r,n,a,s);return o&&u}some(e,r,n,a,s){for(const o of this.readQuads(r,n,a,s))if(e(o))return!0;return!1}getSubjects(e,r,n){const a=[];return this.forSubjects(s=>{a.push(s)},e,r,n),a}forSubjects(e,r,n,a){a=a&&Ni(a);const s=this._getGraphs(a);let o,u,c;if(e=this._uniqueEntities(e),!(r&&!(u=this._termToNumericId(r))||n&&!(c=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?c?this._loopBy2Keys(o.predicates,u,c,e):this._loopByKey1(o.subjects,u,e):c?this._loopByKey0(o.objects,c,e):this._loop(o.subjects,e))}getPredicates(e,r,n){const a=[];return this.forPredicates(s=>{a.push(s)},e,r,n),a}forPredicates(e,r,n,a){a=a&&Ni(a);const s=this._getGraphs(a);let o,u,c;if(e=this._uniqueEntities(e),!(r&&!(u=this._termToNumericId(r))||n&&!(c=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?c?this._loopBy2Keys(o.objects,c,u,e):this._loopByKey0(o.subjects,u,e):c?this._loopByKey1(o.predicates,c,e):this._loop(o.predicates,e))}getObjects(e,r,n){const a=[];return this.forObjects(s=>{a.push(s)},e,r,n),a}forObjects(e,r,n,a){a=a&&Ni(a);const s=this._getGraphs(a);let o,u,c;if(e=this._uniqueEntities(e),!(r&&!(u=this._termToNumericId(r))||n&&!(c=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?c?this._loopBy2Keys(o.subjects,u,c,e):this._loopByKey1(o.objects,u,e):c?this._loopByKey0(o.predicates,c,e):this._loop(o.objects,e))}getGraphs(e,r,n){const a=[];return this.forGraphs(s=>{a.push(s)},e,r,n),a}forGraphs(e,r,n,a){for(const s in this._graphs)this.some(o=>(e(o.graph),!0),r,n,a,s)}createBlankNode(e){let r,n;if(e)for(r=e=`_:${e}`,n=1;this._ids[r];)r=e+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}extractLists({remove:e=!1,ignoreErrors:r=!1}={}){const n={},a=r?()=>!0:(u,c)=>{throw new Error(`${u.value} ${c}`)},s=this.getQuads(null,jn.rdf.rest,jn.rdf.nil,null),o=e?[...s]:[];return s.forEach(u=>{const c=[];let l=!1,d,f;const h=u.graph;let p=u.subject;for(;p&&!l;){const m=this.getQuads(null,null,p,null),y=this.getQuads(p,null,null,null);let g,b=null,v=null,_=null;for(let w=0;w<y.length&&!l;w++)g=y[w],g.graph.equals(h)?d?l=a(p,"has non-list arcs out"):g.predicate.value===jn.rdf.first?b?l=a(p,"has multiple rdf:first arcs"):o.push(b=g):g.predicate.value===jn.rdf.rest?v?l=a(p,"has multiple rdf:rest arcs"):o.push(v=g):m.length?l=a(p,"can't be subject and object"):(d=g,f="subject"):l=a(p,"not confined to single graph");for(let w=0;w<m.length&&!l;++w)g=m[w],d?l=a(p,"can't have coreferences"):g.predicate.value===jn.rdf.rest?_?l=a(p,"has incoming rdf:rest arcs"):_=g:(d=g,f="object");b?c.unshift(b.object):l=a(p,"has no list head"),p=_&&_.subject}l?e=!1:d&&(n[d[f].value]=c)}),e&&this.removeQuads(o),n}*[Symbol.iterator](){yield*this.readQuads()}}function pje(t){return typeof t=="string"||t instanceof String}class p4 extends Pt.Readable{constructor(e,r,n,a,s){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:r,predicate:n,object:a,graph:s})}get filtered(){if(!this._filtered){const{n3Store:e,graph:r,object:n,predicate:a,subject:s}=this,o=this._filtered=new vte({factory:e._factory});for(const u of e.readQuads(s,a,n,r))o.addQuad(u)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,r,n,a){return new p4(this.filtered,e,r,n,a)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class yje extends Pt.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new gte(e);let n,a;r.parse({on:(s,o)=>{switch(s){case"data":n=o;break;case"end":a=o;break}}},(s,o)=>{s&&this.emit("error",s)||o&&this.push(o)},(s,o)=>{this.emit("prefix",s,o)}),this._transform=(s,o,u)=>{n(s),u()},this._flush=s=>{a(),s()}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),this}}class mje extends Pt.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const r=this._writer=new hje({write:(n,a,s)=>{this.push(n),s&&s()},end:n=>{this.push(null),n&&n()}},e);this._transform=(n,a,s)=>{r.addQuad(n,s)},this._flush=n=>{r.end(n)}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),e.on("prefix",(r,n)=>{this._writer.addPrefix(r,n)}),this}}async function gje(t,e){const r=new yje(e);Pt.Readable.from([t]).pipe(r);const n=new vte;return nee(n.import(r),n)}async function T$e(t,e){const r=new mje(e);r.import(t);const n=[];for await(const a of r)n.push(ta.from(a));return ta.concat(n).toString()}class wte{constructor(){this.type="query_only",this.capability={query:!0,update:!1,quit:!1}}async initialize(){}query_bindings(e){return console.log(`Send bindings query (${e}) via comunica to ${this.sources}`),this.queryEngine.queryBindings(e,{sources:this.sources})}query_quads(e){return console.log(`Send quads query (${e}) via comunica to ${this.sources}`),this.queryEngine.queryQuads(e,{sources:this.sources})}query(e){return console.log(`Send any query (${e}) via comunica to ${this.sources}`),this.queryEngine.query(e,{sources:this.sources})}update(e){return console.log(`Send update query (${e}) via comunica to ${this.sources}`),this.queryEngine.queryVoid(e,{sources:this.destination})}get quitUrl(){return this.sources[0].value}get updateUrl(){return this.destination[0].value}}class Ste extends wte{constructor(e,r){super(),this.queryEndpoint=e,this.updateEndpoint=r,this.type="query_only",this.capability={query:!0,update:!1,quit:!1},r&&(this.type="query_update",this.capability.update=!0)}async initialize(){this.queryEngine=new QD.QueryEngine,this.sources=[{type:"sparql",value:this.queryEndpoint}],this.updateEndpoint&&(this.destination=[{type:"sparql",value:this.updateEndpoint}])}}class _je extends Ste{constructor(e){super(e+"/sparql",e+"/sparql"),this.type="quit",this.HTTPGit=an.create({baseURL:e}),this.capability.quit=!0}push(){return this.HTTPGit.post("/push",new URLSearchParams({dst:"master",refspec:"master:master",remote:"origin",src:"master"}),{headers:{"content-type":"application/x-www-form-urlencoded",Accept:"text/plain"}})}pull(){return this.HTTPGit.post("/pull",new URLSearchParams({dst:"master",refspec:"master:master",remote:"origin",src:"master"}),{headers:{"content-type":"application/x-www-form-urlencoded",Accept:"text/plain"}})}get quitUrl(){return this.HTTPGit.defaults.baseURL}}class bje extends wte{constructor(e){super(),this.data=e,this.type="query_update",this.capability={query:!0,update:!0,quit:!1}}async initialize(){this.queryEngine=new QD.QueryEngine;const e=this.data;return new Promise(r=>{gje(e).then(n=>{this.sources=[n],this.destination=[n],console.log("Set source and destination"),r()})})}}const vje={async create(t){const e=[];for(let r=0;r<t.sources.length;r++){let n,a=t.sources[r];a.data?n=new bje(a.data):a.quit_url?n=new _je(a.quit_url):a.query_url&&(n=new Ste(a.query_url,a.update_url)),await n.initialize(),e.push(n)}return console.log("initialized"),e}},y4=Symbol.for("yaml.alias"),uN=Symbol.for("yaml.document"),cu=Symbol.for("yaml.map"),Tte=Symbol.for("yaml.pair"),So=Symbol.for("yaml.scalar"),Bf=Symbol.for("yaml.seq"),ha=Symbol.for("yaml.node.type"),qf=t=>!!t&&typeof t=="object"&&t[ha]===y4,HT=t=>!!t&&typeof t=="object"&&t[ha]===uN,F1=t=>!!t&&typeof t=="object"&&t[ha]===cu,Xr=t=>!!t&&typeof t=="object"&&t[ha]===Tte,Nr=t=>!!t&&typeof t=="object"&&t[ha]===So,B1=t=>!!t&&typeof t=="object"&&t[ha]===Bf;function Jr(t){if(t&&typeof t=="object")switch(t[ha]){case cu:case Bf:return!0}return!1}function rn(t){if(t&&typeof t=="object")switch(t[ha]){case y4:case cu:case So:case Bf:return!0}return!1}const wje=t=>(Nr(t)||Jr(t))&&!!t.anchor,gc=Symbol("break visit"),Sje=Symbol("skip children"),Z_=Symbol("remove node");function tl(t,e){const r=Tje(e);HT(t)?od(null,t.contents,r,Object.freeze([t]))===Z_&&(t.contents=null):od(null,t,r,Object.freeze([]))}tl.BREAK=gc;tl.SKIP=Sje;tl.REMOVE=Z_;function od(t,e,r,n){const a=Eje(t,e,r,n);if(rn(a)||Xr(a))return Aje(t,n,a),od(t,a,r,n);if(typeof a!="symbol"){if(Jr(e)){n=Object.freeze(n.concat(e));for(let s=0;s<e.items.length;++s){const o=od(s,e.items[s],r,n);if(typeof o=="number")s=o-1;else{if(o===gc)return gc;o===Z_&&(e.items.splice(s,1),s-=1)}}}else if(Xr(e)){n=Object.freeze(n.concat(e));const s=od("key",e.key,r,n);if(s===gc)return gc;s===Z_&&(e.key=null);const o=od("value",e.value,r,n);if(o===gc)return gc;o===Z_&&(e.value=null)}}return a}function Tje(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function Eje(t,e,r,n){var a,s,o,u,c;if(typeof r=="function")return r(t,e,n);if(F1(e))return(a=r.Map)==null?void 0:a.call(r,t,e,n);if(B1(e))return(s=r.Seq)==null?void 0:s.call(r,t,e,n);if(Xr(e))return(o=r.Pair)==null?void 0:o.call(r,t,e,n);if(Nr(e))return(u=r.Scalar)==null?void 0:u.call(r,t,e,n);if(qf(e))return(c=r.Alias)==null?void 0:c.call(r,t,e,n)}function Aje(t,e,r){const n=e[e.length-1];if(Jr(n))n.items[t]=r;else if(Xr(n))t==="key"?n.key=r:n.value=r;else if(HT(n))n.contents=r;else{const a=qf(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${a} parent`)}}const Oje={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Rje=t=>t.replace(/[!,[\]{}]/g,e=>Oje[e]);class Yn{constructor(e,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Yn.defaultYaml,e),this.tags=Object.assign({},Yn.defaultTags,r)}clone(){const e=new Yn(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Yn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Yn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Yn.defaultTags);break}return e}add(e,r){this.atNextDocument&&(this.yaml={explicit:Yn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Yn.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),a=n.shift();switch(a){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[s,o]=n;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;const[s]=n;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{const o=/^\d+\.\d+$/.test(s);return r(6,`Unsupported YAML version ${s}`,o),!1}}default:return r(0,`Unknown directive ${a}`,!0),!1}}tagName(e,r){if(e==="!")return"!";if(e[0]!=="!")return r(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(r(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&r("Verbatim tags must end with a >"),o)}const[,n,a]=e.match(/^(.*!)([^!]*)$/s);a||r(`The ${e} tag has no suffix`);const s=this.tags[n];if(s)try{return s+decodeURIComponent(a)}catch(o){return r(String(o)),null}return n==="!"?e:(r(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[r,n]of Object.entries(this.tags))if(e.startsWith(n))return r+Rje(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let a;if(e&&n.length>0&&rn(e.contents)){const s={};tl(e.contents,(o,u)=>{rn(u)&&u.tag&&(s[u.tag]=!0)}),a=Object.keys(s)}else a=[];for(const[s,o]of n)s==="!!"&&o==="tag:yaml.org,2002:"||(!e||a.some(u=>u.startsWith(o)))&&r.push(`%TAG ${s} ${o}`);return r.join(`
`)}}Yn.defaultYaml={explicit:!1,version:"1.2"};Yn.defaultTags={"!!":"tag:yaml.org,2002:"};function Ete(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(r)}return!0}function Ate(t){const e=new Set;return tl(t,{Value(r,n){n.anchor&&e.add(n.anchor)}}),e}function Ote(t,e){for(let r=1;;++r){const n=`${t}${r}`;if(!e.has(n))return n}}function xje(t,e){const r=[],n=new Map;let a=null;return{onAnchor:s=>{r.push(s),a||(a=Ate(t));const o=Ote(e,a);return a.add(o),o},setAnchors:()=>{for(const s of r){const o=n.get(s);if(typeof o=="object"&&o.anchor&&(Nr(o.node)||Jr(o.node)))o.node.anchor=o.anchor;else{const u=new Error("Failed to resolve repeated object (this should not happen)");throw u.source=s,u}}},sourceObjects:n}}function ud(t,e,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let a=0,s=n.length;a<s;++a){const o=n[a],u=ud(t,n,String(a),o);u===void 0?delete n[a]:u!==o&&(n[a]=u)}else if(n instanceof Map)for(const a of Array.from(n.keys())){const s=n.get(a),o=ud(t,n,a,s);o===void 0?n.delete(a):o!==s&&n.set(a,o)}else if(n instanceof Set)for(const a of Array.from(n)){const s=ud(t,n,a,a);s===void 0?n.delete(a):s!==a&&(n.delete(a),n.add(s))}else for(const[a,s]of Object.entries(n)){const o=ud(t,n,a,s);o===void 0?delete n[a]:o!==s&&(n[a]=o)}return t.call(e,r,n)}function ca(t,e,r){if(Array.isArray(t))return t.map((n,a)=>ca(n,String(a),r));if(t&&typeof t.toJSON=="function"){if(!r||!wje(t))return t.toJSON(e,r);const n={aliasCount:0,count:1,res:void 0};r.anchors.set(t,n),r.onCreate=s=>{n.res=s,delete r.onCreate};const a=t.toJSON(e,r);return r.onCreate&&r.onCreate(a),a}return typeof t=="bigint"&&!(r!=null&&r.keep)?Number(t):t}class m4{constructor(e){Object.defineProperty(this,ha,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:r,maxAliasCount:n,onAnchor:a,reviver:s}={}){if(!HT(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},u=ca(this,"",o);if(typeof a=="function")for(const{count:c,res:l}of o.anchors.values())a(l,c);return typeof s=="function"?ud(s,{"":u},"",u):u}}class g4 extends m4{constructor(e){super(y4),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let r;return tl(e,{Node:(n,a)=>{if(a===this)return tl.BREAK;a.anchor===this.source&&(r=a)}}),r}toJSON(e,r){if(!r)return{source:this.source};const{anchors:n,doc:a,maxAliasCount:s}=r,o=this.resolve(a);if(!o){const c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let u=n.get(o);if(u||(ca(o,null,r),u=n.get(o)),!u||u.res===void 0){const c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(s>=0&&(u.count+=1,u.aliasCount===0&&(u.aliasCount=Ww(a,o,n)),u.count*u.aliasCount>s)){const c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return u.res}toString(e,r,n){const a=`*${this.source}`;if(e){if(Ete(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${a} `}return a}}function Ww(t,e,r){if(qf(e)){const n=e.resolve(t),a=r&&n&&r.get(n);return a?a.count*a.aliasCount:0}else if(Jr(e)){let n=0;for(const a of e.items){const s=Ww(t,a,r);s>n&&(n=s)}return n}else if(Xr(e)){const n=Ww(t,e.key,r),a=Ww(t,e.value,r);return Math.max(n,a)}return 1}const Rte=t=>!t||typeof t!="function"&&typeof t!="object";class jt extends m4{constructor(e){super(So),this.value=e}toJSON(e,r){return r!=null&&r.keep?this.value:ca(this.value,e,r)}toString(){return String(this.value)}}jt.BLOCK_FOLDED="BLOCK_FOLDED";jt.BLOCK_LITERAL="BLOCK_LITERAL";jt.PLAIN="PLAIN";jt.QUOTE_DOUBLE="QUOTE_DOUBLE";jt.QUOTE_SINGLE="QUOTE_SINGLE";const Ije="tag:yaml.org,2002:";function Pje(t,e,r){if(e){const n=r.filter(s=>s.tag===e),a=n.find(s=>!s.format)??n[0];if(!a)throw new Error(`Tag ${e} not found`);return a}return r.find(n=>{var a;return((a=n.identify)==null?void 0:a.call(n,t))&&!n.format})}function xb(t,e,r){var f,h,p;if(HT(t)&&(t=t.contents),rn(t))return t;if(Xr(t)){const m=(h=(f=r.schema[cu]).createNode)==null?void 0:h.call(f,r.schema,null,r);return m.items.push(t),m}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:n,onAnchor:a,onTagObj:s,schema:o,sourceObjects:u}=r;let c;if(n&&t&&typeof t=="object"){if(c=u.get(t),c)return c.anchor||(c.anchor=a(t)),new g4(c.anchor);c={anchor:null,node:null},u.set(t,c)}e!=null&&e.startsWith("!!")&&(e=Ije+e.slice(2));let l=Pje(t,e,o.tags);if(!l){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const m=new jt(t);return c&&(c.node=m),m}l=t instanceof Map?o[cu]:Symbol.iterator in Object(t)?o[Bf]:o[cu]}s&&(s(l),delete r.onTagObj);const d=l!=null&&l.createNode?l.createNode(r.schema,t,r):typeof((p=l==null?void 0:l.nodeClass)==null?void 0:p.from)=="function"?l.nodeClass.from(r.schema,t,r):new jt(t);return e?d.tag=e:l.default||(d.tag=l.tag),c&&(c.node=d),d}function LS(t,e,r){let n=r;for(let a=e.length-1;a>=0;--a){const s=e[a];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const o=[];o[s]=n,n=o}else n=new Map([[s,n]])}return xb(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const j_=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class xte extends m4{constructor(e,r){super(e),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(e){const r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(r.schema=e),r.items=r.items.map(n=>rn(n)||Xr(n)?n.clone(e):n),this.range&&(r.range=this.range.slice()),r}addIn(e,r){if(j_(e))this.add(r);else{const[n,...a]=e,s=this.get(n,!0);if(Jr(s))s.addIn(a,r);else if(s===void 0&&this.schema)this.set(n,LS(this.schema,a,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${a}`)}}deleteIn(e){const[r,...n]=e;if(n.length===0)return this.delete(r);const a=this.get(r,!0);if(Jr(a))return a.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(e,r){const[n,...a]=e,s=this.get(n,!0);return a.length===0?!r&&Nr(s)?s.value:s:Jr(s)?s.getIn(a,r):void 0}hasAllNullValues(e){return this.items.every(r=>{if(!Xr(r))return!1;const n=r.value;return n==null||e&&Nr(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){const[r,...n]=e;if(n.length===0)return this.has(r);const a=this.get(r,!0);return Jr(a)?a.hasIn(n):!1}setIn(e,r){const[n,...a]=e;if(a.length===0)this.set(n,r);else{const s=this.get(n,!0);if(Jr(s))s.setIn(a,r);else if(s===void 0&&this.schema)this.set(n,LS(this.schema,a,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${a}`)}}}const Nje=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function uo(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Dc=(t,e,r)=>t.endsWith(`
`)?uo(r,e):r.includes(`
`)?`
`+uo(r,e):(t.endsWith(" ")?"":" ")+r,Ite="flow",cN="block",Kw="quoted";function QT(t,e,r="flow",{indentAtStart:n,lineWidth:a=80,minContentWidth:s=20,onFold:o,onOverflow:u}={}){if(!a||a<0)return t;a<s&&(s=0);const c=Math.max(1+s,1+a-e.length);if(t.length<=c)return t;const l=[],d={};let f=a-e.length;typeof n=="number"&&(n>a-Math.max(2,s)?l.push(0):f=a-n);let h,p,m=!1,y=-1,g=-1,b=-1;r===cN&&(y=kQ(t,y,e.length),y!==-1&&(f=y+c));for(let _;_=t[y+=1];){if(r===Kw&&_==="\\"){switch(g=y,t[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}b=y}if(_===`
`)r===cN&&(y=kQ(t,y,e.length)),f=y+e.length+c,h=void 0;else{if(_===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){const w=t[y+1];w&&w!==" "&&w!==`
`&&w!=="	"&&(h=y)}if(y>=f)if(h)l.push(h),f=h+c,h=void 0;else if(r===Kw){for(;p===" "||p==="	";)p=_,_=t[y+=1],m=!0;const w=y>b+1?y-2:g-1;if(d[w])return t;l.push(w),d[w]=!0,f=w+c,h=void 0}else m=!0}p=_}if(m&&u&&u(),l.length===0)return t;o&&o();let v=t.slice(0,l[0]);for(let _=0;_<l.length;++_){const w=l[_],E=l[_+1]||t.length;w===0?v=`
${e}${t.slice(0,E)}`:(r===Kw&&d[w]&&(v+=`${t[w]}\\`),v+=`
${e}${t.slice(w+1,E)}`)}return v}function kQ(t,e,r){let n=e,a=e+1,s=t[a];for(;s===" "||s==="	";)if(e<a+r)s=t[++e];else{do s=t[++e];while(s&&s!==`
`);n=e,a=e+1,s=t[a]}return n}const zT=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),GT=t=>/^(%|---|\.\.\.)/m.test(t);function Dje(t,e,r){if(!e||e<0)return!1;const n=e-r,a=t.length;if(a<=n)return!1;for(let s=0,o=0;s<a;++s)if(t[s]===`
`){if(s-o>n)return!0;if(o=s+1,a-o<=n)return!1}return!0}function eb(t,e){const r=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return r;const{implicitKey:n}=e,a=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(GT(t)?"  ":"");let o="",u=0;for(let c=0,l=r[c];l;l=r[++c])if(l===" "&&r[c+1]==="\\"&&r[c+2]==="n"&&(o+=r.slice(u,c)+"\\ ",c+=1,u=c,l="\\"),l==="\\")switch(r[c+1]){case"u":{o+=r.slice(u,c);const d=r.substr(c+2,4);switch(d){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:d.substr(0,2)==="00"?o+="\\x"+d.substr(2):o+=r.substr(c,6)}c+=5,u=c+1}break;case"n":if(n||r[c+2]==='"'||r.length<a)c+=1;else{for(o+=r.slice(u,c)+`

`;r[c+2]==="\\"&&r[c+3]==="n"&&r[c+4]!=='"';)o+=`
`,c+=2;o+=s,r[c+2]===" "&&(o+="\\"),c+=1,u=c+1}break;default:c+=1}return o=u?o+r.slice(u):r,n?o:QT(o,s,Kw,zT(e,!1))}function lN(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return eb(t,e);const r=e.indent||(GT(t)?"  ":""),n="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return e.implicitKey?n:QT(n,r,Ite,zT(e,!1))}function cd(t,e){const{singleQuote:r}=e.options;let n;if(r===!1)n=eb;else{const a=t.includes('"'),s=t.includes("'");a&&!s?n=lN:s&&!a?n=eb:n=r?lN:eb}return n(t,e)}let dN;try{dN=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{dN=/\n+(?!\n|$)/g}function Jw({comment:t,type:e,value:r},n,a,s){const{blockQuote:o,commentString:u,lineWidth:c}=n.options;if(!o||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return cd(r,n);const l=n.indent||(n.forceBlockIndent||GT(r)?"  ":""),d=o==="literal"?!0:o==="folded"||e===jt.BLOCK_FOLDED?!1:e===jt.BLOCK_LITERAL?!0:!Dje(r,c,l.length);if(!r)return d?`|
`:`>
`;let f,h;for(h=r.length;h>0;--h){const O=r[h-1];if(O!==`
`&&O!=="	"&&O!==" ")break}let p=r.substring(h);const m=p.indexOf(`
`);m===-1?f="-":r===p||m!==p.length-1?(f="+",s&&s()):f="",p&&(r=r.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(dN,`$&${l}`));let y=!1,g,b=-1;for(g=0;g<r.length;++g){const O=r[g];if(O===" ")y=!0;else if(O===`
`)b=g;else break}let v=r.substring(0,b<g?b+1:g);v&&(r=r.substring(v.length),v=v.replace(/\n+/g,`$&${l}`));let w=(d?"|":">")+(y?l?"2":"1":"")+f;if(t&&(w+=" "+u(t.replace(/ ?[\r\n]+/g," ")),a&&a()),d)return r=r.replace(/\n+/g,`$&${l}`),`${w}
${l}${v}${r}${p}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`);const E=QT(`${v}${r}${p}`,l,cN,zT(n,!0));return`${w}
${l}${E}`}function Cje(t,e,r,n){const{type:a,value:s}=t,{actualString:o,implicitKey:u,indent:c,indentStep:l,inFlow:d}=e;if(u&&s.includes(`
`)||d&&/[[\]{},]/.test(s))return cd(s,e);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return u||d||!s.includes(`
`)?cd(s,e):Jw(t,e,r,n);if(!u&&!d&&a!==jt.PLAIN&&s.includes(`
`))return Jw(t,e,r,n);if(GT(s)){if(c==="")return e.forceBlockIndent=!0,Jw(t,e,r,n);if(u&&c===l)return cd(s,e)}const f=s.replace(/\n+/g,`$&
${c}`);if(o){const h=y=>{var g;return y.default&&y.tag!=="tag:yaml.org,2002:str"&&((g=y.test)==null?void 0:g.test(f))},{compat:p,tags:m}=e.doc.schema;if(m.some(h)||p!=null&&p.some(h))return cd(s,e)}return u?f:QT(f,c,Ite,zT(e,!1))}function _4(t,e,r,n){const{implicitKey:a,inFlow:s}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:u}=t;u!==jt.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(u=jt.QUOTE_DOUBLE);const c=d=>{switch(d){case jt.BLOCK_FOLDED:case jt.BLOCK_LITERAL:return a||s?cd(o.value,e):Jw(o,e,r,n);case jt.QUOTE_DOUBLE:return eb(o.value,e);case jt.QUOTE_SINGLE:return lN(o.value,e);case jt.PLAIN:return Cje(o,e,r,n);default:return null}};let l=c(u);if(l===null){const{defaultKeyType:d,defaultStringType:f}=e.options,h=a&&d||f;if(l=c(h),l===null)throw new Error(`Unsupported default string type ${h}`)}return l}function Pte(t,e){const r=Object.assign({blockQuote:!0,commentString:Nje,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:t,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function Lje(t,e){var a;if(e.tag){const s=t.filter(o=>o.tag===e.tag);if(s.length>0)return s.find(o=>o.format===e.format)??s[0]}let r,n;if(Nr(e)){n=e.value;const s=t.filter(o=>{var u;return(u=o.identify)==null?void 0:u.call(o,n)});r=s.find(o=>o.format===e.format)??s.find(o=>!o.format)}else n=e,r=t.find(s=>s.nodeClass&&n instanceof s.nodeClass);if(!r){const s=((a=n==null?void 0:n.constructor)==null?void 0:a.name)??typeof n;throw new Error(`Tag not resolved for ${s} value`)}return r}function jje(t,e,{anchors:r,doc:n}){if(!n.directives)return"";const a=[],s=(Nr(t)||Jr(t))&&t.anchor;s&&Ete(s)&&(r.add(s),a.push(`&${s}`));const o=t.tag?t.tag:e.default?null:e.tag;return o&&a.push(n.directives.tagString(o)),a.join(" ")}function ef(t,e,r,n){var c;if(Xr(t))return t.toString(e,r,n);if(qf(t)){if(e.doc.directives)return t.toString(e);if((c=e.resolvedAliases)!=null&&c.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let a;const s=rn(t)?t:e.doc.createNode(t,{onTagObj:l=>a=l});a||(a=Lje(e.doc.schema.tags,s));const o=jje(s,a,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const u=typeof a.stringify=="function"?a.stringify(s,e,r,n):Nr(s)?_4(s,e,r,n):s.toString(e,r,n);return o?Nr(s)||u[0]==="{"||u[0]==="["?`${o} ${u}`:`${o}
${e.indent}${u}`:u}function Mje({key:t,value:e},r,n,a){const{allNullValues:s,doc:o,indent:u,indentStep:c,options:{commentString:l,indentSeq:d,simpleKeys:f}}=r;let h=rn(t)&&t.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(Jr(t)||!rn(t)&&typeof t=="object"){const L="With simple keys, collection cannot be used as a key value";throw new Error(L)}}let p=!f&&(!t||h&&e==null&&!r.inFlow||Jr(t)||(Nr(t)?t.type===jt.BLOCK_FOLDED||t.type===jt.BLOCK_LITERAL:typeof t=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!p&&(f||!s),indent:u+c});let m=!1,y=!1,g=ef(t,r,()=>m=!0,()=>y=!0);if(!p&&!r.inFlow&&g.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(r.inFlow){if(s||e==null)return m&&n&&n(),g===""?"?":p?`? ${g}`:g}else if(s&&!f||e==null&&p)return g=`? ${g}`,h&&!m?g+=Dc(g,r.indent,l(h)):y&&a&&a(),g;m&&(h=null),p?(h&&(g+=Dc(g,r.indent,l(h))),g=`? ${g}
${u}:`):(g=`${g}:`,h&&(g+=Dc(g,r.indent,l(h))));let b,v,_;rn(e)?(b=!!e.spaceBefore,v=e.commentBefore,_=e.comment):(b=!1,v=null,_=null,e&&typeof e=="object"&&(e=o.createNode(e))),r.implicitKey=!1,!p&&!h&&Nr(e)&&(r.indentAtStart=g.length+1),y=!1,!d&&c.length>=2&&!r.inFlow&&!p&&B1(e)&&!e.flow&&!e.tag&&!e.anchor&&(r.indent=r.indent.substring(2));let w=!1;const E=ef(e,r,()=>w=!0,()=>y=!0);let O=" ";if(h||b||v){if(O=b?`
`:"",v){const L=l(v);O+=`
${uo(L,r.indent)}`}E===""&&!r.inFlow?O===`
`&&(O=`

`):O+=`
${r.indent}`}else if(!p&&Jr(e)){const L=E[0],F=E.indexOf(`
`),x=F!==-1,P=r.inFlow??e.flow??e.items.length===0;if(x||!P){let j=!1;if(x&&(L==="&"||L==="!")){let N=E.indexOf(" ");L==="&"&&N!==-1&&N<F&&E[N+1]==="!"&&(N=E.indexOf(" ",N+1)),(N===-1||F<N)&&(j=!0)}j||(O=`
${r.indent}`)}}else(E===""||E[0]===`
`)&&(O="");return g+=O+E,r.inFlow?w&&n&&n():_&&!w?g+=Dc(g,r.indent,l(_)):y&&a&&a(),g}function Nte(t,e){(t==="debug"||t==="warn")&&(typeof yo<"u"&&yo.emitWarning?yo.emitWarning(e):console.warn(e))}const VQ="<<";function Dte(t,e,{key:r,value:n}){if(t!=null&&t.doc.schema.merge&&Fje(r))if(n=qf(n)?n.resolve(t.doc):n,B1(n))for(const a of n.items)_I(t,e,a);else if(Array.isArray(n))for(const a of n)_I(t,e,a);else _I(t,e,n);else{const a=ca(r,"",t);if(e instanceof Map)e.set(a,ca(n,a,t));else if(e instanceof Set)e.add(a);else{const s=Bje(r,a,t),o=ca(n,s,t);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}const Fje=t=>t===VQ||Nr(t)&&t.value===VQ&&(!t.type||t.type===jt.PLAIN);function _I(t,e,r){const n=t&&qf(r)?r.resolve(t.doc):r;if(!F1(n))throw new Error("Merge sources must be maps or map aliases");const a=n.toJSON(null,t,Map);for(const[s,o]of a)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Bje(t,e,r){if(e===null)return"";if(typeof e!="object")return String(e);if(rn(t)&&(r!=null&&r.doc)){const n=Pte(r.doc,{});n.anchors=new Set;for(const s of r.anchors.keys())n.anchors.add(s.anchor);n.inFlow=!0,n.inStringifyKey=!0;const a=t.toString(n);if(!r.mapKeyWarned){let s=JSON.stringify(a);s.length>40&&(s=s.substring(0,36)+'..."'),Nte(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return a}return JSON.stringify(e)}function b4(t,e,r){const n=xb(t,void 0,r),a=xb(e,void 0,r);return new ai(n,a)}class ai{constructor(e,r=null){Object.defineProperty(this,ha,{value:Tte}),this.key=e,this.value=r}clone(e){let{key:r,value:n}=this;return rn(r)&&(r=r.clone(e)),rn(n)&&(n=n.clone(e)),new ai(r,n)}toJSON(e,r){const n=r!=null&&r.mapAsMap?new Map:{};return Dte(r,n,this)}toString(e,r,n){return e!=null&&e.doc?Mje(this,e,r,n):JSON.stringify(this)}}function Cte(t,e,r){return(e.inFlow??t.flow?$je:qje)(t,e,r)}function qje({comment:t,items:e},r,{blockItemPrefix:n,flowChars:a,itemIndent:s,onChompKeep:o,onComment:u}){const{indent:c,options:{commentString:l}}=r,d=Object.assign({},r,{indent:s,type:null});let f=!1;const h=[];for(let m=0;m<e.length;++m){const y=e[m];let g=null;if(rn(y))!f&&y.spaceBefore&&h.push(""),jS(r,h,y.commentBefore,f),y.comment&&(g=y.comment);else if(Xr(y)){const v=rn(y.key)?y.key:null;v&&(!f&&v.spaceBefore&&h.push(""),jS(r,h,v.commentBefore,f))}f=!1;let b=ef(y,d,()=>g=null,()=>f=!0);g&&(b+=Dc(b,s,l(g))),f&&g&&(f=!1),h.push(n+b)}let p;if(h.length===0)p=a.start+a.end;else{p=h[0];for(let m=1;m<h.length;++m){const y=h[m];p+=y?`
${c}${y}`:`
`}}return t?(p+=`
`+uo(l(t),c),u&&u()):f&&o&&o(),p}function $je({items:t},e,{flowChars:r,itemIndent:n}){const{indent:a,indentStep:s,flowCollectionPadding:o,options:{commentString:u}}=e;n+=s;const c=Object.assign({},e,{indent:n,inFlow:!0,type:null});let l=!1,d=0;const f=[];for(let m=0;m<t.length;++m){const y=t[m];let g=null;if(rn(y))y.spaceBefore&&f.push(""),jS(e,f,y.commentBefore,!1),y.comment&&(g=y.comment);else if(Xr(y)){const v=rn(y.key)?y.key:null;v&&(v.spaceBefore&&f.push(""),jS(e,f,v.commentBefore,!1),v.comment&&(l=!0));const _=rn(y.value)?y.value:null;_?(_.comment&&(g=_.comment),_.commentBefore&&(l=!0)):y.value==null&&(v!=null&&v.comment)&&(g=v.comment)}g&&(l=!0);let b=ef(y,c,()=>g=null);m<t.length-1&&(b+=","),g&&(b+=Dc(b,n,u(g))),!l&&(f.length>d||b.includes(`
`))&&(l=!0),f.push(b),d=f.length}const{start:h,end:p}=r;if(f.length===0)return h+p;if(!l){const m=f.reduce((y,g)=>y+g.length+2,2);l=e.options.lineWidth>0&&m>e.options.lineWidth}if(l){let m=h;for(const y of f)m+=y?`
${s}${a}${y}`:`
`;return`${m}
${a}${p}`}else return`${h}${o}${f.join(" ")}${o}${p}`}function jS({indent:t,options:{commentString:e}},r,n,a){if(n&&a&&(n=n.replace(/^\n+/,"")),n){const s=uo(e(n),t);r.push(s.trimStart())}}function Cc(t,e){const r=Nr(e)?e.value:e;for(const n of t)if(Xr(n)&&(n.key===e||n.key===r||Nr(n.key)&&n.key.value===r))return n}class ra extends xte{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(cu,e),this.items=[]}static from(e,r,n){const{keepUndefined:a,replacer:s}=n,o=new this(e),u=(c,l)=>{if(typeof s=="function")l=s.call(r,c,l);else if(Array.isArray(s)&&!s.includes(c))return;(l!==void 0||a)&&o.items.push(b4(c,l,n))};if(r instanceof Map)for(const[c,l]of r)u(c,l);else if(r&&typeof r=="object")for(const c of Object.keys(r))u(c,r[c]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,r){var o;let n;Xr(e)?n=e:!e||typeof e!="object"||!("key"in e)?n=new ai(e,e==null?void 0:e.value):n=new ai(e.key,e.value);const a=Cc(this.items,n.key),s=(o=this.schema)==null?void 0:o.sortMapEntries;if(a){if(!r)throw new Error(`Key ${n.key} already set`);Nr(a.value)&&Rte(n.value)?a.value.value=n.value:a.value=n.value}else if(s){const u=this.items.findIndex(c=>s(n,c)<0);u===-1?this.items.push(n):this.items.splice(u,0,n)}else this.items.push(n)}delete(e){const r=Cc(this.items,e);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(e,r){const n=Cc(this.items,e),a=n==null?void 0:n.value;return(!r&&Nr(a)?a.value:a)??void 0}has(e){return!!Cc(this.items,e)}set(e,r){this.add(new ai(e,r),!0)}toJSON(e,r,n){const a=n?new n:r!=null&&r.mapAsMap?new Map:{};r!=null&&r.onCreate&&r.onCreate(a);for(const s of this.items)Dte(r,a,s);return a}toString(e,r,n){if(!e)return JSON.stringify(this);for(const a of this.items)if(!Xr(a))throw new Error(`Map items must all be pairs; found ${JSON.stringify(a)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Cte(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:r})}}const $f={collection:"map",default:!0,nodeClass:ra,tag:"tag:yaml.org,2002:map",resolve(t,e){return F1(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,r)=>ra.from(t,e,r)};class rl extends xte{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Bf,e),this.items=[]}add(e){this.items.push(e)}delete(e){const r=lw(e);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(e,r){const n=lw(e);if(typeof n!="number")return;const a=this.items[n];return!r&&Nr(a)?a.value:a}has(e){const r=lw(e);return typeof r=="number"&&r<this.items.length}set(e,r){const n=lw(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);const a=this.items[n];Nr(a)&&Rte(r)?a.value=r:this.items[n]=r}toJSON(e,r){const n=[];r!=null&&r.onCreate&&r.onCreate(n);let a=0;for(const s of this.items)n.push(ca(s,String(a++),r));return n}toString(e,r,n){return e?Cte(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(e,r,n){const{replacer:a}=n,s=new this(e);if(r&&Symbol.iterator in Object(r)){let o=0;for(let u of r){if(typeof a=="function"){const c=r instanceof Set?u:String(o++);u=a.call(r,c,u)}s.items.push(xb(u,void 0,n))}}return s}}function lw(t){let e=Nr(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Uf={collection:"seq",default:!0,nodeClass:rl,tag:"tag:yaml.org,2002:seq",resolve(t,e){return B1(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,r)=>rl.from(t,e,r)},WT={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,r,n){return e=Object.assign({actualString:!0},e),_4(t,e,r,n)}},KT={identify:t=>t==null,createNode:()=>new jt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new jt(null),stringify:({source:t},e)=>typeof t=="string"&&KT.test.test(t)?t:e.options.nullStr},v4={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new jt(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},r){if(t&&v4.test.test(t)){const n=t[0]==="t"||t[0]==="T";if(e===n)return t}return e?r.options.trueStr:r.options.falseStr}};function Va({format:t,minFractionDigits:e,tag:r,value:n}){if(typeof n=="bigint")return String(n);const a=typeof n=="number"?n:Number(n);if(!isFinite(a))return isNaN(a)?".nan":a<0?"-.inf":".inf";let s=JSON.stringify(n);if(!t&&e&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let u=e-(s.length-o-1);for(;u-- >0;)s+="0"}return s}const Lte={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Va},jte={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Va(t)}},Mte={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new jt(parseFloat(t)),r=t.indexOf(".");return r!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-r-1),e},stringify:Va},JT=t=>typeof t=="bigint"||Number.isInteger(t),w4=(t,e,r,{intAsBigInt:n})=>n?BigInt(t):parseInt(t.substring(e),r);function Fte(t,e,r){const{value:n}=t;return JT(n)&&n>=0?r+n.toString(e):Va(t)}const Bte={identify:t=>JT(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,r)=>w4(t,2,8,r),stringify:t=>Fte(t,8,"0o")},qte={identify:JT,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,r)=>w4(t,0,10,r),stringify:Va},$te={identify:t=>JT(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,r)=>w4(t,2,16,r),stringify:t=>Fte(t,16,"0x")},Uje=[$f,Uf,WT,KT,v4,Bte,qte,$te,Lte,jte,Mte];function HQ(t){return typeof t=="bigint"||Number.isInteger(t)}const dw=({value:t})=>JSON.stringify(t),kje=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:dw},{identify:t=>t==null,createNode:()=>new jt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:dw},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:dw},{identify:HQ,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:r})=>r?BigInt(t):parseInt(t,10),stringify:({value:t})=>HQ(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:dw}],Vje={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},Hje=[$f,Uf].concat(kje,Vje),S4={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof ta=="function")return ta.from(t,"base64");if(typeof atob=="function"){const r=atob(t.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let a=0;a<r.length;++a)n[a]=r.charCodeAt(a);return n}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:r},n,a,s){const o=r;let u;if(typeof ta=="function")u=o instanceof ta?o.toString("base64"):ta.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let l=0;l<o.length;++l)c+=String.fromCharCode(o[l]);u=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=jt.BLOCK_LITERAL),e!==jt.QUOTE_DOUBLE){const c=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),l=Math.ceil(u.length/c),d=new Array(l);for(let f=0,h=0;f<l;++f,h+=c)d[f]=u.substr(h,c);u=d.join(e===jt.BLOCK_LITERAL?`
`:" ")}return _4({comment:t,type:e,value:u},n,a,s)}};function Ute(t,e){if(B1(t))for(let r=0;r<t.items.length;++r){let n=t.items[r];if(!Xr(n)){if(F1(n)){n.items.length>1&&e("Each pair must have its own sequence indicator");const a=n.items[0]||new ai(new jt(null));if(n.commentBefore&&(a.key.commentBefore=a.key.commentBefore?`${n.commentBefore}
${a.key.commentBefore}`:n.commentBefore),n.comment){const s=a.value??a.key;s.comment=s.comment?`${n.comment}
${s.comment}`:n.comment}n=a}t.items[r]=Xr(n)?n:new ai(n)}}else e("Expected a sequence for this tag");return t}function kte(t,e,r){const{replacer:n}=r,a=new rl(t);a.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof n=="function"&&(o=n.call(e,String(s++),o));let u,c;if(Array.isArray(o))if(o.length===2)u=o[0],c=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const l=Object.keys(o);if(l.length===1)u=l[0],c=o[u];else throw new TypeError(`Expected tuple with one key, not ${l.length} keys`)}else u=o;a.items.push(b4(u,c,r))}return a}const T4={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Ute,createNode:kte};class Od extends rl{constructor(){super(),this.add=ra.prototype.add.bind(this),this.delete=ra.prototype.delete.bind(this),this.get=ra.prototype.get.bind(this),this.has=ra.prototype.has.bind(this),this.set=ra.prototype.set.bind(this),this.tag=Od.tag}toJSON(e,r){if(!r)return super.toJSON(e);const n=new Map;r!=null&&r.onCreate&&r.onCreate(n);for(const a of this.items){let s,o;if(Xr(a)?(s=ca(a.key,"",r),o=ca(a.value,s,r)):s=ca(a,"",r),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,o)}return n}static from(e,r,n){const a=kte(e,r,n),s=new this;return s.items=a.items,s}}Od.tag="tag:yaml.org,2002:omap";const E4={collection:"seq",identify:t=>t instanceof Map,nodeClass:Od,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const r=Ute(t,e),n=[];for(const{key:a}of r.items)Nr(a)&&(n.includes(a.value)?e(`Ordered maps must not include duplicate keys: ${a.value}`):n.push(a.value));return Object.assign(new Od,r)},createNode:(t,e,r)=>Od.from(t,e,r)};function Vte({value:t,source:e},r){return e&&(t?Hte:Qte).test.test(e)?e:t?r.options.trueStr:r.options.falseStr}const Hte={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new jt(!0),stringify:Vte},Qte={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new jt(!1),stringify:Vte},Qje={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Va},zje={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Va(t)}},Gje={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new jt(parseFloat(t.replace(/_/g,""))),r=t.indexOf(".");if(r!==-1){const n=t.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(e.minFractionDigits=n.length)}return e},stringify:Va},q1=t=>typeof t=="bigint"||Number.isInteger(t);function XT(t,e,r,{intAsBigInt:n}){const a=t[0];if((a==="-"||a==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),n){switch(r){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return a==="-"?BigInt(-1)*o:o}const s=parseInt(t,r);return a==="-"?-1*s:s}function A4(t,e,r){const{value:n}=t;if(q1(n)){const a=n.toString(e);return n<0?"-"+r+a.substr(1):r+a}return Va(t)}const Wje={identify:q1,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,r)=>XT(t,2,2,r),stringify:t=>A4(t,2,"0b")},Kje={identify:q1,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,r)=>XT(t,1,8,r),stringify:t=>A4(t,8,"0")},Jje={identify:q1,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,r)=>XT(t,0,10,r),stringify:Va},Xje={identify:q1,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,r)=>XT(t,2,16,r),stringify:t=>A4(t,16,"0x")};class Rd extends ra{constructor(e){super(e),this.tag=Rd.tag}add(e){let r;Xr(e)?r=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?r=new ai(e.key,null):r=new ai(e,null),Cc(this.items,r.key)||this.items.push(r)}get(e,r){const n=Cc(this.items,e);return!r&&Xr(n)?Nr(n.key)?n.key.value:n.key:n}set(e,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);const n=Cc(this.items,e);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new ai(e))}toJSON(e,r){return super.toJSON(e,r,Set)}toString(e,r,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}static from(e,r,n){const{replacer:a}=n,s=new this(e);if(r&&Symbol.iterator in Object(r))for(let o of r)typeof a=="function"&&(o=a.call(r,o,o)),s.items.push(b4(o,null,n));return s}}Rd.tag="tag:yaml.org,2002:set";const O4={collection:"map",identify:t=>t instanceof Set,nodeClass:Rd,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,r)=>Rd.from(t,e,r),resolve(t,e){if(F1(t)){if(t.hasAllNullValues(!0))return Object.assign(new Rd,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function R4(t,e){const r=t[0],n=r==="-"||r==="+"?t.substring(1):t,a=o=>e?BigInt(o):Number(o),s=n.replace(/_/g,"").split(":").reduce((o,u)=>o*a(60)+a(u),a(0));return r==="-"?a(-1)*s:s}function zte(t){let{value:e}=t,r=o=>o;if(typeof e=="bigint")r=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return Va(t);let n="";e<0&&(n="-",e*=r(-1));const a=r(60),s=[e%a];return e<60?s.unshift(0):(e=(e-s[0])/a,s.unshift(e%a),e>=60&&(e=(e-s[0])/a,s.unshift(e))),n+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Gte={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:r})=>R4(t,r),stringify:zte},Wte={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>R4(t,!1),stringify:zte},YT={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(YT.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,r,n,a,s,o,u]=e.map(Number),c=e[7]?Number((e[7]+"00").substr(1,3)):0;let l=Date.UTC(r,n-1,a,s||0,o||0,u||0,c);const d=e[8];if(d&&d!=="Z"){let f=R4(d,!1);Math.abs(f)<30&&(f*=60),l-=6e4*f}return new Date(l)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},QQ=[$f,Uf,WT,KT,Hte,Qte,Wje,Kje,Jje,Xje,Qje,zje,Gje,S4,E4,T4,O4,Gte,Wte,YT],zQ=new Map([["core",Uje],["failsafe",[$f,Uf,WT]],["json",Hje],["yaml11",QQ],["yaml-1.1",QQ]]),GQ={binary:S4,bool:v4,float:Mte,floatExp:jte,floatNaN:Lte,floatTime:Wte,int:qte,intHex:$te,intOct:Bte,intTime:Gte,map:$f,null:KT,omap:E4,pairs:T4,seq:Uf,set:O4,timestamp:YT},Yje={"tag:yaml.org,2002:binary":S4,"tag:yaml.org,2002:omap":E4,"tag:yaml.org,2002:pairs":T4,"tag:yaml.org,2002:set":O4,"tag:yaml.org,2002:timestamp":YT};function bI(t,e){let r=zQ.get(e);if(!r)if(Array.isArray(t))r=[];else{const n=Array.from(zQ.keys()).filter(a=>a!=="yaml11").map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${n} or define customTags array`)}if(Array.isArray(t))for(const n of t)r=r.concat(n);else typeof t=="function"&&(r=t(r.slice()));return r.map(n=>{if(typeof n!="string")return n;const a=GQ[n];if(a)return a;const s=Object.keys(GQ).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${s}`)})}const Zje=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class x4{constructor({compat:e,customTags:r,merge:n,resolveKnownTags:a,schema:s,sortMapEntries:o,toStringDefaults:u}){this.compat=Array.isArray(e)?bI(e,"compat"):e?bI(null,e):null,this.merge=!!n,this.name=typeof s=="string"&&s||"core",this.knownTags=a?Yje:{},this.tags=bI(r,this.name),this.toStringOptions=u??null,Object.defineProperty(this,cu,{value:$f}),Object.defineProperty(this,So,{value:WT}),Object.defineProperty(this,Bf,{value:Uf}),this.sortMapEntries=typeof o=="function"?o:o===!0?Zje:null}clone(){const e=Object.create(x4.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function eMe(t,e){var c;const r=[];let n=e.directives===!0;if(e.directives!==!1&&t.directives){const l=t.directives.toString(t);l?(r.push(l),n=!0):t.directives.docStart&&(n=!0)}n&&r.push("---");const a=Pte(t,e),{commentString:s}=a.options;if(t.commentBefore){r.length!==1&&r.unshift("");const l=s(t.commentBefore);r.unshift(uo(l,""))}let o=!1,u=null;if(t.contents){if(rn(t.contents)){if(t.contents.spaceBefore&&n&&r.push(""),t.contents.commentBefore){const f=s(t.contents.commentBefore);r.push(uo(f,""))}a.forceBlockIndent=!!t.comment,u=t.contents.comment}const l=u?void 0:()=>o=!0;let d=ef(t.contents,a,()=>u=null,l);u&&(d+=Dc(d,"",s(u))),(d[0]==="|"||d[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${d}`:r.push(d)}else r.push(ef(t.contents,a));if((c=t.directives)!=null&&c.docEnd)if(t.comment){const l=s(t.comment);l.includes(`
`)?(r.push("..."),r.push(uo(l,""))):r.push(`... ${l}`)}else r.push("...");else{let l=t.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||u)&&r[r.length-1]!==""&&r.push(""),r.push(uo(s(l),"")))}return r.join(`
`)+`
`}class ZT{constructor(e,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,ha,{value:uN});let a=null;typeof r=="function"||Array.isArray(r)?a=r:n===void 0&&r&&(n=r,r=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=s;let{version:o}=s;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Yn({version:o}),this.setSchema(o,n),this.contents=e===void 0?null:this.createNode(e,a,n)}clone(){const e=Object.create(ZT.prototype,{[ha]:{value:uN}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=rn(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Vl(this.contents)&&this.contents.add(e)}addIn(e,r){Vl(this.contents)&&this.contents.addIn(e,r)}createAlias(e,r){if(!e.anchor){const n=Ate(this);e.anchor=!r||n.has(r)?Ote(r||"a",n):r}return new g4(e.anchor)}createNode(e,r,n){let a;if(typeof r=="function")e=r.call({"":e},"",e),a=r;else if(Array.isArray(r)){const g=v=>typeof v=="number"||v instanceof String||v instanceof Number,b=r.filter(g).map(String);b.length>0&&(r=r.concat(b)),a=r}else n===void 0&&r&&(n=r,r=void 0);const{aliasDuplicateObjects:s,anchorPrefix:o,flow:u,keepUndefined:c,onTagObj:l,tag:d}=n??{},{onAnchor:f,setAnchors:h,sourceObjects:p}=xje(this,o||"a"),m={aliasDuplicateObjects:s??!0,keepUndefined:c??!1,onAnchor:f,onTagObj:l,replacer:a,schema:this.schema,sourceObjects:p},y=xb(e,d,m);return u&&Jr(y)&&(y.flow=!0),h(),y}createPair(e,r,n={}){const a=this.createNode(e,null,n),s=this.createNode(r,null,n);return new ai(a,s)}delete(e){return Vl(this.contents)?this.contents.delete(e):!1}deleteIn(e){return j_(e)?this.contents==null?!1:(this.contents=null,!0):Vl(this.contents)?this.contents.deleteIn(e):!1}get(e,r){return Jr(this.contents)?this.contents.get(e,r):void 0}getIn(e,r){return j_(e)?!r&&Nr(this.contents)?this.contents.value:this.contents:Jr(this.contents)?this.contents.getIn(e,r):void 0}has(e){return Jr(this.contents)?this.contents.has(e):!1}hasIn(e){return j_(e)?this.contents!==void 0:Jr(this.contents)?this.contents.hasIn(e):!1}set(e,r){this.contents==null?this.contents=LS(this.schema,[e],r):Vl(this.contents)&&this.contents.set(e,r)}setIn(e,r){j_(e)?this.contents=r:this.contents==null?this.contents=LS(this.schema,Array.from(e),r):Vl(this.contents)&&this.contents.setIn(e,r)}setSchema(e,r={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Yn({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Yn({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const a=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${a}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new x4(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:r,mapAsMap:n,maxAliasCount:a,onAnchor:s,reviver:o}={}){const u={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof a=="number"?a:100},c=ca(this.contents,r??"",u);if(typeof s=="function")for(const{count:l,res:d}of u.anchors.values())s(d,l);return typeof o=="function"?ud(o,{"":c},"",c):c}toJSON(e,r){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:r})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const r=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return eMe(this,e)}}function Vl(t){if(Jr(t))return!0;throw new Error("Expected a YAML collection as document contents")}class Kte extends Error{constructor(e,r,n,a){super(),this.name=e,this.code=n,this.message=a,this.pos=r}}class M_ extends Kte{constructor(e,r,n){super("YAMLParseError",e,r,n)}}class tMe extends Kte{constructor(e,r,n){super("YAMLWarning",e,r,n)}}const WQ=(t,e)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(u=>e.linePos(u));const{line:n,col:a}=r.linePos[0];r.message+=` at line ${n}, column ${a}`;let s=a-1,o=t.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){const u=Math.min(s-39,o.length-79);o="…"+o.substring(u),s-=u-1}if(o.length>80&&(o=o.substring(0,79)+"…"),n>1&&/^ *$/.test(o.substring(0,s))){let u=t.substring(e.lineStarts[n-2],e.lineStarts[n-1]);u.length>80&&(u=u.substring(0,79)+`…
`),o=u+o}if(/[^ ]/.test(o)){let u=1;const c=r.linePos[1];c&&c.line===n&&c.col>a&&(u=Math.max(1,Math.min(c.col-a,80-s)));const l=" ".repeat(s)+"^".repeat(u);r.message+=`:

${o}
${l}
`}};function tf(t,{flow:e,indicator:r,next:n,offset:a,onError:s,parentIndent:o,startOnNewline:u}){let c=!1,l=u,d=u,f="",h="",p=!1,m=!1,y=null,g=null,b=null,v=null,_=null,w=null,E=null;for(const F of t)switch(m&&(F.type!=="space"&&F.type!=="newline"&&F.type!=="comma"&&s(F.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),y&&(l&&F.type!=="comment"&&F.type!=="newline"&&s(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),F.type){case"space":!e&&(r!=="doc-start"||(n==null?void 0:n.type)!=="flow-collection")&&F.source.includes("	")&&(y=F),d=!0;break;case"comment":{d||s(F,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const x=F.source.substring(1)||" ";f?f+=h+x:f=x,h="",l=!1;break}case"newline":l?f?f+=F.source:c=!0:h+=F.source,l=!0,p=!0,(g||b)&&(v=F),d=!0;break;case"anchor":g&&s(F,"MULTIPLE_ANCHORS","A node can have at most one anchor"),F.source.endsWith(":")&&s(F.offset+F.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=F,E===null&&(E=F.offset),l=!1,d=!1,m=!0;break;case"tag":{b&&s(F,"MULTIPLE_TAGS","A node can have at most one tag"),b=F,E===null&&(E=F.offset),l=!1,d=!1,m=!0;break}case r:(g||b)&&s(F,"BAD_PROP_ORDER",`Anchors and tags must be after the ${F.source} indicator`),w&&s(F,"UNEXPECTED_TOKEN",`Unexpected ${F.source} in ${e??"collection"}`),w=F,l=r==="seq-item-ind"||r==="explicit-key-ind",d=!1;break;case"comma":if(e){_&&s(F,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),_=F,l=!1,d=!1;break}default:s(F,"UNEXPECTED_TOKEN",`Unexpected ${F.type} token`),l=!1,d=!1}const O=t[t.length-1],L=O?O.offset+O.source.length:a;return m&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&s(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(l&&y.indent<=o||(n==null?void 0:n.type)==="block-map"||(n==null?void 0:n.type)==="block-seq")&&s(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:_,found:w,spaceBefore:c,comment:f,hasNewline:p,anchor:g,tag:b,newlineAfterProp:v,end:L,start:E??L}}function Ib(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const r of e.start)if(r.type==="newline")return!0;if(e.sep){for(const r of e.sep)if(r.type==="newline")return!0}if(Ib(e.key)||Ib(e.value))return!0}return!1;default:return!0}}function fN(t,e,r){if((e==null?void 0:e.type)==="flow-collection"){const n=e.end[0];n.indent===t&&(n.source==="]"||n.source==="}")&&Ib(e)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Jte(t,e,r){const{uniqueKeys:n}=t.options;if(n===!1)return!1;const a=typeof n=="function"?n:(s,o)=>s===o||Nr(s)&&Nr(o)&&s.value===o.value&&!(s.value==="<<"&&t.schema.merge);return e.some(s=>a(s.key,r))}const KQ="All mapping items must start at the same column";function rMe({composeNode:t,composeEmptyNode:e},r,n,a,s){var d;const o=(s==null?void 0:s.nodeClass)??ra,u=new o(r.schema);r.atRoot&&(r.atRoot=!1);let c=n.offset,l=null;for(const f of n.items){const{start:h,key:p,sep:m,value:y}=f,g=tf(h,{indicator:"explicit-key-ind",next:p??(m==null?void 0:m[0]),offset:c,onError:a,parentIndent:n.indent,startOnNewline:!0}),b=!g.found;if(b){if(p&&(p.type==="block-seq"?a(c,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==n.indent&&a(c,"BAD_INDENT",KQ)),!g.anchor&&!g.tag&&!m){l=g.end,g.comment&&(u.comment?u.comment+=`
`+g.comment:u.comment=g.comment);continue}(g.newlineAfterProp||Ib(p))&&a(p??h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((d=g.found)==null?void 0:d.indent)!==n.indent&&a(c,"BAD_INDENT",KQ);const v=g.end,_=p?t(r,p,g,a):e(r,v,h,null,g,a);r.schema.compat&&fN(n.indent,p,a),Jte(r,u.items,_)&&a(v,"DUPLICATE_KEY","Map keys must be unique");const w=tf(m??[],{indicator:"map-value-ind",next:y,offset:_.range[2],onError:a,parentIndent:n.indent,startOnNewline:!p||p.type==="block-scalar"});if(c=w.end,w.found){b&&((y==null?void 0:y.type)==="block-map"&&!w.hasNewline&&a(c,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&g.start<w.found.offset-1024&&a(_.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const E=y?t(r,y,w,a):e(r,c,m,null,w,a);r.schema.compat&&fN(n.indent,y,a),c=E.range[2];const O=new ai(_,E);r.options.keepSourceTokens&&(O.srcToken=f),u.items.push(O)}else{b&&a(_.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),w.comment&&(_.comment?_.comment+=`
`+w.comment:_.comment=w.comment);const E=new ai(_);r.options.keepSourceTokens&&(E.srcToken=f),u.items.push(E)}}return l&&l<c&&a(l,"IMPOSSIBLE","Map comment with trailing content"),u.range=[n.offset,c,l??c],u}function nMe({composeNode:t,composeEmptyNode:e},r,n,a,s){const o=(s==null?void 0:s.nodeClass)??rl,u=new o(r.schema);r.atRoot&&(r.atRoot=!1);let c=n.offset,l=null;for(const{start:d,value:f}of n.items){const h=tf(d,{indicator:"seq-item-ind",next:f,offset:c,onError:a,parentIndent:n.indent,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?a(h.end,"BAD_INDENT","All sequence items must start at the same column"):a(c,"MISSING_CHAR","Sequence item without - indicator");else{l=h.end,h.comment&&(u.comment=h.comment);continue}const p=f?t(r,f,h,a):e(r,h.end,d,null,h,a);r.schema.compat&&fN(n.indent,f,a),c=p.range[2],u.items.push(p)}return u.range=[n.offset,c,l??c],u}function $1(t,e,r,n){let a="";if(t){let s=!1,o="";for(const u of t){const{source:c,type:l}=u;switch(l){case"space":s=!0;break;case"comment":{r&&!s&&n(u,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const d=c.substring(1)||" ";a?a+=o+d:a=d,o="";break}case"newline":a&&(o+=c),s=!0;break;default:n(u,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}e+=c.length}}return{comment:a,offset:e}}const vI="Block collections are not allowed within flow collections",wI=t=>t&&(t.type==="block-map"||t.type==="block-seq");function iMe({composeNode:t,composeEmptyNode:e},r,n,a,s){const o=n.start.source==="{",u=o?"flow map":"flow sequence",c=(s==null?void 0:s.nodeClass)??(o?ra:rl),l=new c(r.schema);l.flow=!0;const d=r.atRoot;d&&(r.atRoot=!1);let f=n.offset+n.start.source.length;for(let g=0;g<n.items.length;++g){const b=n.items[g],{start:v,key:_,sep:w,value:E}=b,O=tf(v,{flow:u,indicator:"explicit-key-ind",next:_??(w==null?void 0:w[0]),offset:f,onError:a,parentIndent:n.indent,startOnNewline:!1});if(!O.found){if(!O.anchor&&!O.tag&&!w&&!E){g===0&&O.comma?a(O.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${u}`):g<n.items.length-1&&a(O.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${u}`),O.comment&&(l.comment?l.comment+=`
`+O.comment:l.comment=O.comment),f=O.end;continue}!o&&r.options.strict&&Ib(_)&&a(_,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(g===0)O.comma&&a(O.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${u}`);else if(O.comma||a(O.start,"MISSING_CHAR",`Missing , between ${u} items`),O.comment){let L="";e:for(const F of v)switch(F.type){case"comma":case"space":break;case"comment":L=F.source.substring(1);break e;default:break e}if(L){let F=l.items[l.items.length-1];Xr(F)&&(F=F.value??F.key),F.comment?F.comment+=`
`+L:F.comment=L,O.comment=O.comment.substring(L.length+1)}}if(!o&&!w&&!O.found){const L=E?t(r,E,O,a):e(r,O.end,w,null,O,a);l.items.push(L),f=L.range[2],wI(E)&&a(L.range,"BLOCK_IN_FLOW",vI)}else{const L=O.end,F=_?t(r,_,O,a):e(r,L,v,null,O,a);wI(_)&&a(F.range,"BLOCK_IN_FLOW",vI);const x=tf(w??[],{flow:u,indicator:"map-value-ind",next:E,offset:F.range[2],onError:a,parentIndent:n.indent,startOnNewline:!1});if(x.found){if(!o&&!O.found&&r.options.strict){if(w)for(const N of w){if(N===x.found)break;if(N.type==="newline"){a(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}O.start<x.found.offset-1024&&a(x.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else E&&("source"in E&&E.source&&E.source[0]===":"?a(E,"MISSING_CHAR",`Missing space after : in ${u}`):a(x.start,"MISSING_CHAR",`Missing , or : between ${u} items`));const P=E?t(r,E,x,a):x.found?e(r,x.end,w,null,x,a):null;P?wI(E)&&a(P.range,"BLOCK_IN_FLOW",vI):x.comment&&(F.comment?F.comment+=`
`+x.comment:F.comment=x.comment);const j=new ai(F,P);if(r.options.keepSourceTokens&&(j.srcToken=b),o){const N=l;Jte(r,N.items,F)&&a(L,"DUPLICATE_KEY","Map keys must be unique"),N.items.push(j)}else{const N=new ra(r.schema);N.flow=!0,N.items.push(j),l.items.push(N)}f=P?P.range[2]:x.end}}const h=o?"}":"]",[p,...m]=n.end;let y=f;if(p&&p.source===h)y=p.offset+p.source.length;else{const g=u[0].toUpperCase()+u.substring(1),b=d?`${g} must end with a ${h}`:`${g} in block collection must be sufficiently indented and end with a ${h}`;a(f,d?"MISSING_CHAR":"BAD_INDENT",b),p&&p.source.length!==1&&m.unshift(p)}if(m.length>0){const g=$1(m,y,r.options.strict,a);g.comment&&(l.comment?l.comment+=`
`+g.comment:l.comment=g.comment),l.range=[n.offset,y,g.offset]}else l.range=[n.offset,y,y];return l}function SI(t,e,r,n,a,s){const o=r.type==="block-map"?rMe(t,e,r,n,s):r.type==="block-seq"?nMe(t,e,r,n,s):iMe(t,e,r,n,s),u=o.constructor;return a==="!"||a===u.tagName?(o.tag=u.tagName,o):(a&&(o.tag=a),o)}function aMe(t,e,r,n,a){var h;const s=n.tag,o=s?e.directives.tagName(s.source,p=>a(s,"TAG_RESOLVE_FAILED",p)):null;if(r.type==="block-seq"){const{anchor:p,newlineAfterProp:m}=n,y=p&&s?p.offset>s.offset?p:s:p??s;y&&(!m||m.offset<y.offset)&&a(y,"MISSING_CHAR","Missing newline after block sequence props")}const u=r.type==="block-map"?"map":r.type==="block-seq"?"seq":r.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===ra.tagName&&u==="map"||o===rl.tagName&&u==="seq")return SI(t,e,r,a,o);let c=e.schema.tags.find(p=>p.tag===o&&p.collection===u);if(!c){const p=e.schema.knownTags[o];if(p&&p.collection===u)e.schema.tags.push(Object.assign({},p,{default:!1})),c=p;else return p!=null&&p.collection?a(s,"BAD_COLLECTION_TYPE",`${p.tag} used for ${u} collection, but expects ${p.collection}`,!0):a(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),SI(t,e,r,a,o)}const l=SI(t,e,r,a,o,c),d=((h=c.resolve)==null?void 0:h.call(c,l,p=>a(s,"TAG_RESOLVE_FAILED",p),e.options))??l,f=rn(d)?d:new jt(d);return f.range=l.range,f.tag=o,c!=null&&c.format&&(f.format=c.format),f}function sMe(t,e,r){const n=e.offset,a=oMe(e,t.options.strict,r);if(!a)return{value:"",type:null,comment:"",range:[n,n,n]};const s=a.mode===">"?jt.BLOCK_FOLDED:jt.BLOCK_LITERAL,o=e.source?uMe(e.source):[];let u=o.length;for(let y=o.length-1;y>=0;--y){const g=o[y][1];if(g===""||g==="\r")u=y;else break}if(u===0){const y=a.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let g=n+a.length;return e.source&&(g+=e.source.length),{value:y,type:s,comment:a.comment,range:[n,g,g]}}let c=e.indent+a.indent,l=e.offset+a.length,d=0;for(let y=0;y<u;++y){const[g,b]=o[y];if(b===""||b==="\r")a.indent===0&&g.length>c&&(c=g.length);else{g.length<c&&r(l+g.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),a.indent===0&&(c=g.length),d=y,c===0&&!t.atRoot&&r(l,"BAD_INDENT","Block scalar values in collections must be indented");break}l+=g.length+b.length+1}for(let y=o.length-1;y>=u;--y)o[y][0].length>c&&(u=y+1);let f="",h="",p=!1;for(let y=0;y<d;++y)f+=o[y][0].slice(c)+`
`;for(let y=d;y<u;++y){let[g,b]=o[y];l+=g.length+b.length+1;const v=b[b.length-1]==="\r";if(v&&(b=b.slice(0,-1)),b&&g.length<c){const w=`Block scalar lines must not be less indented than their ${a.indent?"explicit indentation indicator":"first line"}`;r(l-b.length-(v?2:1),"BAD_INDENT",w),g=""}s===jt.BLOCK_LITERAL?(f+=h+g.slice(c)+b,h=`
`):g.length>c||b[0]==="	"?(h===" "?h=`
`:!p&&h===`
`&&(h=`

`),f+=h+g.slice(c)+b,h=`
`,p=!0):b===""?h===`
`?f+=`
`:h=`
`:(f+=h+b,h=" ",p=!1)}switch(a.chomp){case"-":break;case"+":for(let y=u;y<o.length;++y)f+=`
`+o[y][0].slice(c);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}const m=n+a.length+e.source.length;return{value:f,type:s,comment:a.comment,range:[n,m,m]}}function oMe({offset:t,props:e},r,n){if(e[0].type!=="block-scalar-header")return n(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:a}=e[0],s=a[0];let o=0,u="",c=-1;for(let h=1;h<a.length;++h){const p=a[h];if(!u&&(p==="-"||p==="+"))u=p;else{const m=Number(p);!o&&m?o=m:c===-1&&(c=t+h)}}c!==-1&&n(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${a}`);let l=!1,d="",f=a.length;for(let h=1;h<e.length;++h){const p=e[h];switch(p.type){case"space":l=!0;case"newline":f+=p.source.length;break;case"comment":r&&!l&&n(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=p.source.length,d=p.source.substring(1);break;case"error":n(p,"UNEXPECTED_TOKEN",p.message),f+=p.source.length;break;default:{const m=`Unexpected token in block scalar header: ${p.type}`;n(p,"UNEXPECTED_TOKEN",m);const y=p.source;y&&typeof y=="string"&&(f+=y.length)}}}return{mode:s,indent:o,chomp:u,comment:d,length:f}}function uMe(t){const e=t.split(/\n( *)/),r=e[0],n=r.match(/^( *)/),s=[n!=null&&n[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let o=1;o<e.length;o+=2)s.push([e[o],e[o+1]]);return s}function cMe(t,e,r){const{offset:n,type:a,source:s,end:o}=t;let u,c;const l=(h,p,m)=>r(n+h,p,m);switch(a){case"scalar":u=jt.PLAIN,c=lMe(s,l);break;case"single-quoted-scalar":u=jt.QUOTE_SINGLE,c=dMe(s,l);break;case"double-quoted-scalar":u=jt.QUOTE_DOUBLE,c=fMe(s,l);break;default:return r(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${a}`),{value:"",type:null,comment:"",range:[n,n+s.length,n+s.length]}}const d=n+s.length,f=$1(o,d,e,r);return{value:c,type:u,comment:f.comment,range:[n,d,f.offset]}}function lMe(t,e){let r="";switch(t[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${t[0]}`;break}case"@":case"`":{r=`reserved character ${t[0]}`;break}}return r&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),Xte(t)}function dMe(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),Xte(t.slice(1,-1)).replace(/''/g,"'")}function Xte(t){let e,r;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=e.exec(t);if(!n)return t;let a=n[1],s=" ",o=e.lastIndex;for(r.lastIndex=o;n=r.exec(t);)n[1]===""?s===`
`?a+=s:s=`
`:(a+=s+n[1],s=" "),o=r.lastIndex;const u=/[ \t]*(.*)/sy;return u.lastIndex=o,n=u.exec(t),a+s+((n==null?void 0:n[1])??"")}function fMe(t,e){let r="";for(let n=1;n<t.length-1;++n){const a=t[n];if(!(a==="\r"&&t[n+1]===`
`))if(a===`
`){const{fold:s,offset:o}=hMe(t,n);r+=s,n=o}else if(a==="\\"){let s=t[++n];const o=pMe[s];if(o)r+=o;else if(s===`
`)for(s=t[n+1];s===" "||s==="	";)s=t[++n+1];else if(s==="\r"&&t[n+1]===`
`)for(s=t[++n+1];s===" "||s==="	";)s=t[++n+1];else if(s==="x"||s==="u"||s==="U"){const u={x:2,u:4,U:8}[s];r+=yMe(t,n+1,u,e),n+=u}else{const u=t.substr(n-1,2);e(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),r+=u}}else if(a===" "||a==="	"){const s=n;let o=t[n+1];for(;o===" "||o==="	";)o=t[++n+1];o!==`
`&&!(o==="\r"&&t[n+2]===`
`)&&(r+=n>s?t.slice(s,n+1):a)}else r+=a}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),r}function hMe(t,e){let r="",n=t[e+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&t[e+2]!==`
`);)n===`
`&&(r+=`
`),e+=1,n=t[e+1];return r||(r=" "),{fold:r,offset:e}}const pMe={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function yMe(t,e,r,n){const a=t.substr(e,r),o=a.length===r&&/^[0-9a-fA-F]+$/.test(a)?parseInt(a,16):NaN;if(isNaN(o)){const u=t.substr(e-2,r+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),u}return String.fromCodePoint(o)}function Yte(t,e,r,n){const{value:a,type:s,comment:o,range:u}=e.type==="block-scalar"?sMe(t,e,n):cMe(e,t.options.strict,n),c=r?t.directives.tagName(r.source,f=>n(r,"TAG_RESOLVE_FAILED",f)):null,l=r&&c?mMe(t.schema,a,c,r,n):e.type==="scalar"?gMe(t,a,e,n):t.schema[So];let d;try{const f=l.resolve(a,h=>n(r??e,"TAG_RESOLVE_FAILED",h),t.options);d=Nr(f)?f:new jt(f)}catch(f){const h=f instanceof Error?f.message:String(f);n(r??e,"TAG_RESOLVE_FAILED",h),d=new jt(a)}return d.range=u,d.source=a,s&&(d.type=s),c&&(d.tag=c),l.format&&(d.format=l.format),o&&(d.comment=o),d}function mMe(t,e,r,n,a){var u;if(r==="!")return t[So];const s=[];for(const c of t.tags)if(!c.collection&&c.tag===r)if(c.default&&c.test)s.push(c);else return c;for(const c of s)if((u=c.test)!=null&&u.test(e))return c;const o=t.knownTags[r];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(a(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),t[So])}function gMe({directives:t,schema:e},r,n,a){const s=e.tags.find(o=>{var u;return o.default&&((u=o.test)==null?void 0:u.test(r))})||e[So];if(e.compat){const o=e.compat.find(u=>{var c;return u.default&&((c=u.test)==null?void 0:c.test(r))})??e[So];if(s.tag!==o.tag){const u=t.tagString(s.tag),c=t.tagString(o.tag),l=`Value may be parsed as either ${u} or ${c}`;a(n,"TAG_RESOLVE_FAILED",l,!0)}}return s}function _Me(t,e,r){if(e){r===null&&(r=e.length);for(let n=r-1;n>=0;--n){let a=e[n];switch(a.type){case"space":case"comment":case"newline":t-=a.source.length;continue}for(a=e[++n];(a==null?void 0:a.type)==="space";)t+=a.source.length,a=e[++n];break}}return t}const bMe={composeNode:Zte,composeEmptyNode:I4};function Zte(t,e,r,n){const{spaceBefore:a,comment:s,anchor:o,tag:u}=r;let c,l=!0;switch(e.type){case"alias":c=vMe(t,e,n),(o||u)&&n(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=Yte(t,e,u,n),o&&(c.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=aMe(bMe,t,e,r,n),o&&(c.anchor=o.source.substring(1));break;default:{const d=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;n(e,"UNEXPECTED_TOKEN",d),c=I4(t,e.offset,void 0,null,r,n),l=!1}}return o&&c.anchor===""&&n(o,"BAD_ALIAS","Anchor cannot be an empty string"),a&&(c.spaceBefore=!0),s&&(e.type==="scalar"&&e.source===""?c.comment=s:c.commentBefore=s),t.options.keepSourceTokens&&l&&(c.srcToken=e),c}function I4(t,e,r,n,{spaceBefore:a,comment:s,anchor:o,tag:u,end:c},l){const d={type:"scalar",offset:_Me(e,r,n),indent:-1,source:""},f=Yte(t,d,u,l);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&l(o,"BAD_ALIAS","Anchor cannot be an empty string")),a&&(f.spaceBefore=!0),s&&(f.comment=s,f.range[2]=c),f}function vMe({options:t},{offset:e,source:r,end:n},a){const s=new g4(r.substring(1));s.source===""&&a(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&a(e+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+r.length,u=$1(n,o,t.strict,a);return s.range=[e,o,u.offset],u.comment&&(s.comment=u.comment),s}function wMe(t,e,{offset:r,start:n,value:a,end:s},o){const u=Object.assign({_directives:e},t),c=new ZT(void 0,u),l={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},d=tf(n,{indicator:"doc-start",next:a??(s==null?void 0:s[0]),offset:r,onError:o,parentIndent:0,startOnNewline:!0});d.found&&(c.directives.docStart=!0,a&&(a.type==="block-map"||a.type==="block-seq")&&!d.hasNewline&&o(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=a?Zte(l,a,d,o):I4(l,d.end,n,null,d,o);const f=c.contents.range[2],h=$1(s,f,!1,o);return h.comment&&(c.comment=h.comment),c.range=[r,f,h.offset],c}function m_(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:r}=t;return[e,e+(typeof r=="string"?r.length:1)]}function JQ(t){var a;let e="",r=!1,n=!1;for(let s=0;s<t.length;++s){const o=t[s];switch(o[0]){case"#":e+=(e===""?"":n?`

`:`
`)+(o.substring(1)||" "),r=!0,n=!1;break;case"%":((a=t[s+1])==null?void 0:a[0])!=="#"&&(s+=1),r=!1;break;default:r||(n=!0),r=!1}}return{comment:e,afterEmptyLine:n}}class SMe{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,a,s)=>{const o=m_(r);s?this.warnings.push(new tMe(o,n,a)):this.errors.push(new M_(o,n,a))},this.directives=new Yn({version:e.version||"1.2"}),this.options=e}decorate(e,r){const{comment:n,afterEmptyLine:a}=JQ(this.prelude);if(n){const s=e.contents;if(r)e.comment=e.comment?`${e.comment}
${n}`:n;else if(a||e.directives.docStart||!s)e.commentBefore=n;else if(Jr(s)&&!s.flow&&s.items.length>0){let o=s.items[0];Xr(o)&&(o=o.key);const u=o.commentBefore;o.commentBefore=u?`${n}
${u}`:n}else{const o=s.commentBefore;s.commentBefore=o?`${n}
${o}`:n}}r?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:JQ(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,r=!1,n=-1){for(const a of e)yield*this.next(a);yield*this.end(r,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(r,n,a)=>{const s=m_(e);s[0]+=r,this.onError(s,"BAD_DIRECTIVE",n,a)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const r=wMe(this.options,this.directives,e,this.onError);this.atDirectives&&!r.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const r=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new M_(m_(e),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const n="Unexpected doc-end without preceding document";this.errors.push(new M_(m_(e),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;const r=$1(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){const n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new M_(m_(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const n=Object.assign({_directives:this.directives},this.options),a=new ZT(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),a.range=[0,r,r],this.decorate(a,!1),yield a}}}const ere="\uFEFF",tre="",rre="",hN="";function TMe(t){switch(t){case ere:return"byte-order-mark";case tre:return"doc-mode";case rre:return"flow-error-end";case hN:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Na(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const XQ=new Set("0123456789ABCDEFabcdef"),EMe=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),fw=new Set(",[]{}"),AMe=new Set(` ,[]{}
\r	`),TI=t=>!t||AMe.has(t);class OMe{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,r=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!r;let n=this.next??"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,r=this.buffer[e];for(;r===" "||r==="	";)r=this.buffer[++e];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let r=this.buffer[e];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+e];if(r==="\r"){const a=this.buffer[n+e+1];if(a===`
`||!a&&!this.atEnd)return e+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?e+n:-1}if(r==="-"||r==="."){const n=this.buffer.substr(e,3);if((n==="---"||n==="...")&&Na(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===ere&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let r=e.length,n=e.indexOf("#");for(;n!==-1;){const s=e[n-1];if(s===" "||s==="	"){r=n-1;break}else n=e.indexOf("#",n+1)}for(;;){const s=e[r-1];if(s===" "||s==="	")r-=1;else break}const a=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-a),this.pushNewline(),"stream"}if(this.atLineEnd()){const r=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-r),yield*this.pushNewline(),"stream"}return yield tre,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const r=this.peek(3);if((r==="---"||r==="...")&&Na(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,r==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Na(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Na(r)){const n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(e[r]){case"#":yield*this.pushCount(e.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(TI),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,r,n=-1;do e=yield*this.pushNewline(),e>0?(r=yield*this.pushSpaces(!1),this.indentValue=n=r):r=0,r+=yield*this.pushSpaces(!0);while(e+r>0);const a=this.getLine();if(a===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&a[0]!=="#"||n===0&&(a.startsWith("---")||a.startsWith("..."))&&Na(a[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(a[0]==="]"||a[0]==="}")))return this.flowLevel=0,yield rre,yield*this.parseLineStart();let s=0;for(;a[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),a[s]){case void 0:return"flow";case"#":return yield*this.pushCount(a.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(TI),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||Na(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let r=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let s=0;for(;this.buffer[r-1-s]==="\\";)s+=1;if(s%2===0)break;r=this.buffer.indexOf('"',r+1)}const n=this.buffer.substring(0,r);let a=n.indexOf(`
`,this.pos);if(a!==-1){for(;a!==-1;){const s=this.continueScalar(a+1);if(s===-1)break;a=n.indexOf(`
`,s)}a!==-1&&(r=a-(n[a-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const r=this.buffer[++e];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>Na(r)||r==="#")}*parseBlockScalar(){let e=this.pos-1,r=0,n;e:for(let s=this.pos;n=this.buffer[s];++s)switch(n){case" ":r+=1;break;case`
`:e=s,r=0;break;case"\r":{const o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const s=this.continueScalar(e+1);if(s===-1)break;e=this.buffer.indexOf(`
`,s)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let a=e+1;for(n=this.buffer[a];n===" ";)n=this.buffer[++a];if(n==="	"){for(;n==="	"||n===" "||n==="\r"||n===`
`;)n=this.buffer[++a];e=a-1}else if(!this.blockScalarKeep)do{let s=e-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);const u=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+r>u)e=s;else break}while(!0);return yield hN,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let r=this.pos-1,n=this.pos-1,a;for(;a=this.buffer[++n];)if(a===":"){const s=this.buffer[n+1];if(Na(s)||e&&fw.has(s))break;r=n}else if(Na(a)){let s=this.buffer[n+1];if(a==="\r"&&(s===`
`?(n+=1,a=`
`,s=this.buffer[n+1]):r=n),s==="#"||e&&fw.has(s))break;if(a===`
`){const o=this.continueScalar(n+1);if(o===-1)break;n=Math.max(n,o-2)}}else{if(e&&fw.has(a))break;r=n}return!a&&!this.atEnd?this.setNext("plain-scalar"):(yield hN,yield*this.pushToIndex(r+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,r){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(TI))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,r=this.charAt(1);if(Na(r)||e&&fw.has(r))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,r=this.buffer[e];for(;!Na(r)&&r!==">";)r=this.buffer[++e];return yield*this.pushToIndex(r===">"?e+1:e,!1)}else{let e=this.pos+1,r=this.buffer[e];for(;r;)if(EMe.has(r))r=this.buffer[++e];else if(r==="%"&&XQ.has(this.buffer[e+1])&&XQ.has(this.buffer[e+2]))r=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||e&&n==="	");const a=r-this.pos;return a>0&&(yield this.buffer.substr(this.pos,a),this.pos=r),a}*pushUntil(e){let r=this.pos,n=this.buffer[r];for(;!e(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}}class RMe{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let r=0,n=this.lineStarts.length;for(;r<n;){const s=r+n>>1;this.lineStarts[s]<e?r=s+1:n=s}if(this.lineStarts[r]===e)return{line:r+1,col:1};if(r===0)return{line:0,col:e};const a=this.lineStarts[r-1];return{line:r,col:e-a+1}}}}function Ac(t,e){for(let r=0;r<t.length;++r)if(t[r].type===e)return!0;return!1}function YQ(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function nre(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function hw(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Hl(t){var r;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((r=t[++e])==null?void 0:r.type)==="space";);return t.splice(e,t.length)}function ZQ(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!Ac(e.start,"explicit-key-ind")&&!Ac(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,nre(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class xMe{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new OMe,this.onNewLine=e}*parse(e,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const n of this.lexer.lex(e,r))yield*this.next(n);r||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const r=TMe(e);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const n=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const r=e??this.stack.pop();if(!r)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield r;else{const n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&ZQ(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{const a=n.items[n.items.length-1];if(a.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(a.sep)a.value=r;else{Object.assign(a,{key:r,sep:[]}),this.onKeyLine=!a.explicitKey;return}break}case"block-seq":{const a=n.items[n.items.length-1];a.value?n.items.push({start:[],value:r}):a.value=r;break}case"flow-collection":{const a=n.items[n.items.length-1];!a||a.value?n.items.push({start:[],key:r,sep:[]}):a.sep?a.value=r:Object.assign(a,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){const a=r.items[r.items.length-1];a&&!a.sep&&!a.value&&a.start.length>0&&YQ(a.start)===-1&&(r.indent===0||a.start.every(s=>s.type!=="comment"||s.indent<r.indent))&&(n.type==="document"?n.end=a.start:n.items.push({start:a.start}),r.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{YQ(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const r=hw(this.peek(2)),n=Hl(r);let a;e.end?(a=e.end,a.push(this.sourceToken),delete e.end):a=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var n;const r=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,r.value){const a="end"in r.value?r.value.end:void 0,s=Array.isArray(a)?a[a.length-1]:void 0;(s==null?void 0:s.type)==="comment"?a==null||a.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)e.items.push({start:[this.sourceToken]});else if(r.sep)r.sep.push(this.sourceToken);else{if(this.atIndentedComment(r.start,e.indent)){const a=e.items[e.items.length-2],s=(n=a==null?void 0:a.value)==null?void 0:n.end;if(Array.isArray(s)){Array.prototype.push.apply(s,r.start),s.push(this.sourceToken),e.items.pop();return}}r.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const a=!this.onKeyLine&&this.indent===e.indent,s=a&&(r.sep||r.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(s&&r.sep&&!r.value){const u=[];for(let c=0;c<r.sep.length;++c){const l=r.sep[c];switch(l.type){case"newline":u.push(c);break;case"space":break;case"comment":l.indent>e.indent&&(u.length=0);break;default:u.length=0}}u.length>=2&&(o=r.sep.splice(u[1]))}switch(this.type){case"anchor":case"tag":s||r.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"explicit-key-ind":!r.sep&&!r.explicitKey?(r.start.push(this.sourceToken),r.explicitKey=!0):s||r.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(r.explicitKey)if(r.sep)if(r.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Ac(r.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(nre(r.key)&&!Ac(r.sep,"newline")){const u=Hl(r.start),c=r.key,l=r.sep;l.push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:c,sep:l}]})}else o.length>0?r.sep=r.sep.concat(o,this.sourceToken):r.sep.push(this.sourceToken);else if(Ac(r.start,"newline"))Object.assign(r,{key:null,sep:[this.sourceToken]});else{const u=Hl(r.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:null,sep:[this.sourceToken]}]})}else r.sep?r.value||s?e.items.push({start:o,key:null,sep:[this.sourceToken]}):Ac(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const u=this.flowScalar(this.type);s||r.value?(e.items.push({start:o,key:u,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(u):(Object.assign(r,{key:u,sep:[]}),this.onKeyLine=!0);return}default:{const u=this.startBlockValue(e);if(u){a&&u.type!=="block-seq"&&e.items.push({start:o}),this.stack.push(u);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var n;const r=e.items[e.items.length-1];switch(this.type){case"newline":if(r.value){const a="end"in r.value?r.value.end:void 0,s=Array.isArray(a)?a[a.length-1]:void 0;(s==null?void 0:s.type)==="comment"?a==null||a.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(r.start,e.indent)){const a=e.items[e.items.length-2],s=(n=a==null?void 0:a.value)==null?void 0:n.end;if(Array.isArray(s)){Array.prototype.push.apply(s,r.start),s.push(this.sourceToken),e.items.pop();return}}r.start.push(this.sourceToken)}return;case"anchor":case"tag":if(r.value||this.indent<=e.indent)break;r.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;r.value||Ac(r.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return}if(this.indent>e.indent){const a=this.startBlockValue(e);if(a){this.stack.push(a);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const r=e.items[e.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?e.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?e.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);!r||r.value?e.items.push({start:[],key:a,sep:[]}):r.sep?this.stack.push(a):Object.assign(r,{key:a,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===e.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){const a=hw(n),s=Hl(a);ZQ(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const u={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=u}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const r=hw(e),n=Hl(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const r=hw(e),n=Hl(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,r){return this.type!=="comment"||this.indent<=r?!1:e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function IMe(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new RMe||null,prettyErrors:e}}function PMe(t,e={}){const{lineCounter:r,prettyErrors:n}=IMe(e),a=new xMe(r==null?void 0:r.addNewLine),s=new SMe(e);let o=null;for(const u of s.compose(a.parse(t),!0,t.length))if(!o)o=u;else if(o.options.logLevel!=="silent"){o.errors.push(new M_(u.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(o.errors.forEach(WQ(t,r)),o.warnings.forEach(WQ(t,r))),o}function NMe(t,e,r){let n;typeof e=="function"?n=e:r===void 0&&e&&typeof e=="object"&&(r=e);const a=PMe(t,r);if(!a)return null;if(a.warnings.forEach(s=>Nte(a.options.logLevel,s)),a.errors.length>0){if(a.options.logLevel!=="silent")throw a.errors[0];a.errors=[]}return a.toJS(Object.assign({reviver:n},r))}let MS=NMe(document.querySelector("#ontopad_configuration").text);const ps=nD("selection",{state:()=>({graph_iri:MS.graph_iri,resource_iri:MS.resource_iri,is_class:!0}),actions:{changeGraphIri(t){console.log("Change graph Iri to "+t),this.graph_iri=t},changeResourceIri(t,e=!0){console.log("Change resource Iri to "+t),this.resource_iri=t,e==!0?this.is_class=!0:this.is_class=!1}}});function E$e(t){return`
  PREFIX sh: <http://www.w3.org/ns/shacl#>
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  CONSTRUCT {
    ?node_s ?node_p ?node_o ;
      a sh:NodeShape .
    ?prop_s ?prop_p ?prop_o .
    ?prop_s sh:in ?list .
    ?elt rdf:rest ?rest .
    ?elt rdf:first ?val .
  } WHERE {
      {
        {
          ?node_s sh:targetClass <${t}> .
          ?node_s ?node_p ?node_o .
          ?prop_s ?prop_p ?prop_o .
          FILTER(?prop_p != sh:in)
          FILTER(?node_o = ?prop_s)
        }
        UNION
        {
          ?node_s sh:targetClass <${t}> .
          ?node_s ?node_p ?node_o .
          ?prop_s ?prop_p ?prop_o .
          ?prop_s sh:in ?list .
          ?list rdf:rest* ?elt .
          ?elt rdf:rest ?rest .
          ?elt rdf:first ?val .
          FILTER(?node_o = ?prop_s)
        }
      }
  }`}function A$e(t){return`
  PREFIX sh: <http://www.w3.org/ns/shacl#>
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  CONSTRUCT {
    ?node_s ?node_p ?node_o ;
      a sh:NodeShape .
    ?prop_s ?prop_p ?prop_o .
    #?node_s ?p ?o .
    ?prop_s sh:in ?list .
    ?elt rdf:rest ?rest .
    ?elt rdf:first ?val .
  } WHERE {
        <${t}> rdf:type ?class .
        {
          ?node_s sh:targetClass ?class .
          ?node_s ?node_p ?node_o .
          ?prop_s ?prop_p ?prop_o .
          FILTER(?prop_p != sh:in)
          FILTER(?node_o = ?prop_s)
        }
        UNION
        {
          ?node_s rdf:type ?class .
          ?node_s ?node_p ?node_o .
          ?prop_s ?prop_p ?prop_o .
          ?prop_s sh:in ?list .
          ?list rdf:rest* ?elt .
          ?elt rdf:rest ?rest .
          ?elt rdf:first ?val .
          FILTER(?node_o = ?prop_s)
        }
  }`}function DMe(t,e){console.log(t);let r="select distinct ?instance from <http://default.com/> { ?instance a <http://example.org/Resource> } order by ?instance";if(typeof t=="string"){const n=new ol.Parser;t=n.parse(t);const a=n.parse(r);console.log(a)}return console.log(t),t.type==="query"?t.from={default:[$r.namedNode(e)],named:[]}:t.type==="update"&&(t.with=$r.namedNode(e)),t}const nl=nD("rdf",()=>{const t=ho(!1),e=ho(null);async function r(c){let l,d="";console.log(`send query: ${c}`),typeof c=="string"?(d=c,l=[ps().graph_iri]):typeof c=="object"?(d=c.query,c.defaultGraph==="quads"?l=void 0:c.defaultGraph!==void 0?l=c.defaultGraph:l=[ps().graph_iri]):(console.error("can't process query"),console.error(c)),l!==void 0&&(console.log(`inject graph: ${l}`),d=DMe(d,l));const f=new ol.Generator;let h;return typeof d!="string"?h=f.stringify(d):h=d,e.value.query(h)}async function n(c,l){l===void 0&&(l=[ps().graph_iri]);let d="";for(const m of l)d+=`from <${m}>`;const f=`construct {<${c}> ?p ?o} ${d} where {<${c}> ?p ?o}`,h=await e.value.query_quads(f),p=$r.namedNode(l[0]);return Pt.Readable.from(h).pipe(new cA(p))}function a(){e.value.push!==void 0&&e.value.push().then(function(c){console.log(c)})}function s(){e.value.pull!==void 0&&e.value.pull().then(function(c){console.log(c)})}async function o(c){let l=c.deleteArray,d=c.insertArray;const f=[];if(c.graphIri!==void 0){const p=$r.namedNode(c.graphIri);l&&l.length>0&&(l=await Pt.Readable.from(l).pipe(new cA(p)).toArray()),d&&d.length>0&&(d=await Pt.Readable.from(d).pipe(new cA(p)).toArray())}l&&l.length>0&&f.push(ySe(l).toString()),d&&d.length>0&&f.push(mSe(d).toString());const h=f.join(";");return e.value.update(h)}async function u(c){console.log("Loading …"),console.log("Change SPARQL Endpoint configuration."),console.log(c);const l=await vje.create(c);e.value=l[0],t.value=!0}return console.log("configuration is"),console.log(MS),u(MS),{ready:t,sparqlEndpoint:e,sendQuery:r,getResource:n,push:a,pull:s,deleteInsertData:o,updateEndpointConfiguration:u}}),U1=(t,e)=>{const r=t.__vccOpts||t;for(const[n,a]of e)r[n]=a;return r},CMe={name:"SparqlConnection",setup(){const t=nl(),e=ps();return{store:t,selection:e}},data(){return{configure_endpoint_modal:null,endpoint_type:"quit",query_url:"",update_url:"",quit_url:""}},mounted(){this.configure_endpoint_modal=new fu(this.$refs.configure_endpoint),this.$refs.configure_endpoint.addEventListener("show.bs.modal",t=>{this.get_endpoint_configuration()})},computed:{...fS(nl,{store_ready:t=>t.ready}),store_capability:{get(){return this.store.sparqlEndpoint.capability}},graph_iri:{get(){return this.selection.graph_iri},set(t){this.store.changeGraphIri(t)}},resource_iri:{get(){return this.selection.resource_iri},set(t){this.selection.changeResourceIri(t)}}},methods:{push(){this.store.push()},pull(){this.store.pull()},get_endpoint_configuration(){const t=this.store.sparqlEndpoint;this.quit_url="",this.query_url="",this.update_url="",this.endpoint_type=t.type,t.type==="quit"?this.quit_url=t.quitUrl:t.type==="query_only"?this.query_url=t.queryUrl:t.type==="query_update"&&(this.query_url=t.queryUrl,this.update_url=t.updateUrl)},configure_endpoint(){const t={};if(this.endpoint_type==="quit"&&this.quit_url)t.quit_url=this.quit_url;else{if(!this.query_url){console.error("Not even a query_url is given. Not chaning the endpoint configuration.");return}t.query_url=this.query_url,this.update_url&&(t.update_url=this.update_url)}this.store.updateEndpointConfiguration(t)}}},LMe={key:0,inline:"",class:"col-12"},jMe={class:"btn-group col-1 mb-2 mr-sm-2 mb-sm-0",role:"group"},MMe=nt("i",{class:"bi bi-gear"},null,-1),FMe=[MMe],BMe=nt("i",{class:"bi bi-cloud-upload"},null,-1),qMe=[BMe],$Me=nt("i",{class:"bi bi-cloud-download"},null,-1),UMe=[$Me],kMe=nt("label",{for:"select_url",class:"col-1 mr-sm-2"},"Graph IRI",-1),VMe=nt("label",{for:"select_url",class:"col-1 mr-sm-2"},"Resource IRI",-1),HMe={class:"modal fade",ref:"configure_endpoint",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static",size:"lg"},QMe={class:"modal-dialog modal-lg"},zMe={class:"modal-content"},GMe={class:"modal-header"},WMe=nt("h5",{class:"modal-title"},"Configure Endpoint",-1),KMe={class:"modal-body"},JMe={class:"form-group",label:"Endpoint Type"},XMe=nt("label",{class:"form-check-label",for:"query_only"},"Query only",-1),YMe=nt("label",{class:"form-check-label",for:"query_update"},"Query & Update",-1),ZMe=nt("label",{class:"form-check-label",for:"quit"},"Quit Store",-1),e8e={key:0,class:"form-group"},t8e=nt("label",{for:"quit_url"},"Quit URL",-1),r8e={key:1,class:"form-group"},n8e=nt("label",{for:"query_url"},"Query URL",-1),i8e={key:2,class:"form-group"},a8e=nt("label",{for:"update_url"},"Update URL",-1),s8e={class:"modal-footer"};function o8e(t,e,r,n,a,s){return rr(),gr(Kr,null,[t.store_ready?(rr(),gr("form",LMe,[nt("div",jMe,[nt("button",{type:"button",class:"btn btn-outline-secondary mb-0",onClick:e[0]||(e[0]=o=>a.configure_endpoint_modal.show()),title:"Configure Endpoint","aria-label":"Configure Endpoint"},FMe),s.store_capability.quit?(rr(),gr("button",{key:0,type:"button",class:"btn btn-outline-secondary mb-0",onClick:e[1]||(e[1]=o=>s.push()),title:"Push To Remote Repository","aria-label":"Push To Remote Repository"},qMe)):Da("",!0),s.store_capability.quit?(rr(),gr("button",{key:1,type:"button",class:"btn btn-outline-secondary mb-0",onClick:e[2]||(e[2]=o=>s.pull()),title:"Pull From Remote Repository","aria-label":"Pull From Remote Repository"},UMe)):Da("",!0)]),kMe,Yi(nt("input",{type:"text",class:"form-control col-2",id:"graph_iri","onUpdate:modelValue":e[3]||(e[3]=o=>s.graph_iri=o)},null,512),[[ea,s.graph_iri]]),VMe,Yi(nt("input",{type:"text",class:"form-control col-6",id:"resource_iri","onUpdate:modelValue":e[4]||(e[4]=o=>s.resource_iri=o)},null,512),[[ea,s.resource_iri]])])):Da("",!0),nt("div",HMe,[nt("div",QMe,[nt("div",zMe,[nt("div",GMe,[WMe,nt("button",{type:"button",class:"btn-close",onClick:e[5]||(e[5]=o=>a.configure_endpoint_modal.hide()),"aria-label":"Close"})]),nt("div",KMe,[nt("form",null,[nt("div",JMe,[Yi(nt("input",{class:"form-check-input",type:"radio",name:"endpoint_type","onUpdate:modelValue":e[6]||(e[6]=o=>a.endpoint_type=o),id:"query_only",value:"query_only"},null,512),[[k_,a.endpoint_type]]),XMe,Yi(nt("input",{class:"form-check-input",type:"radio",name:"endpoint_type","onUpdate:modelValue":e[7]||(e[7]=o=>a.endpoint_type=o),id:"query_update",value:"query_update"},null,512),[[k_,a.endpoint_type]]),YMe,Yi(nt("input",{class:"form-check-input",type:"radio",name:"endpoint_type","onUpdate:modelValue":e[8]||(e[8]=o=>a.endpoint_type=o),id:"quit",value:"quit"},null,512),[[k_,a.endpoint_type]]),ZMe]),a.endpoint_type=="quit"?(rr(),gr("div",e8e,[t8e,nt("div",null,[Yi(nt("input",{type:"text",class:"form-control",id:"quit_url","onUpdate:modelValue":e[9]||(e[9]=o=>a.quit_url=o),placeholder:"http://your.quit.store.org/"},null,512),[[ea,a.quit_url]])])])):Da("",!0),a.endpoint_type=="query_only"||a.endpoint_type=="query_update"?(rr(),gr("div",r8e,[n8e,nt("div",null,[Yi(nt("input",{type:"text",class:"form-control",id:"query_url","onUpdate:modelValue":e[10]||(e[10]=o=>a.query_url=o),placeholder:"http://your.sparql.store.org/query"},null,512),[[ea,a.query_url]])])])):Da("",!0),a.endpoint_type=="query_update"?(rr(),gr("div",i8e,[a8e,nt("div",null,[Yi(nt("input",{type:"text",class:"form-control",id:"update_url","onUpdate:modelValue":e[11]||(e[11]=o=>a.update_url=o),placeholder:"http://your.sparql.store.org/update"},null,512),[[ea,a.update_url]])])])):Da("",!0)])]),nt("div",s8e,[nt("button",{type:"button",class:"btn btn-secondary",onClick:e[12]||(e[12]=o=>a.configure_endpoint_modal.hide())},"Close"),nt("button",{type:"button",class:"btn btn-primary",onClick:e[13]||(e[13]=o=>{s.configure_endpoint(),a.configure_endpoint_modal.hide()})},"Save changes")])])])],512)],64)}const u8e=U1(CMe,[["render",o8e]]),c8e=nD("prefixes",{state:()=>({prefixes:{ex:$r.namedNode("http://example.org/"),exc:$r.namedNode("http://example.org/classes#"),exp:$r.namedNode("http://example.org/properties#"),rdf:$r.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),rdfs:$r.namedNode("http://www.w3.org/2000/01/rdf-schema#"),xsd:$r.namedNode("http://www.w3.org/2001/XMLSchema#"),foaf:$r.namedNode("http://xmlns.com/foaf/0.1/"),sh:$r.namedNode("http://www.w3.org/ns/shacl#")}}),getters:{namespace_prefix_map:t=>{const e={};return Object.keys(t.prefixes).forEach(r=>{e[t.prefixes[r].value]=r}),e},prefixes_flat:t=>{const e={};return Object.keys(t.prefixes).forEach(r=>{e[r]=t.prefixes[r].value}),e}},actions:{setPrefix(t,e){this.prefixes[t]=$r.namedNode(e)},resolvePrefix(t){return this.prefixes[t]},getPrefix(t){return this.namespace_prefix_map[t]},shortenIri(t){const e=new URL(t);let r=e.toString(),n="";if(e.hash){const a=r.lastIndexOf("#");n=r.substr(0,a+1),r=e.hash.substr(1)}else if(e.pathname){const a=r.lastIndexOf("/");n=r.substr(0,a+1),r=r.substr(a+1)}return this.namespace_prefix_map[n]&&r.indexOf("#")<0&&r.indexOf(":")<0&&r.indexOf("/")<0?`${this.namespace_prefix_map[n]}:${r}`:e.toString()}}}),l8e={name:"QueryResultList",setup(){const t=nl(),e=ps();return{store:t,selection:e}},mounted(){this.updateList()},props:{title:String,query:String,queryQuads:{type:Boolean,default:!1},search:{type:Boolean,default:!1},selectVariable:{type:String,default:"resourceIri"},itemClass:String,add:Function,selectResource:Function,addTitle:String,activeResource:String},watch:{query(t){this.updateList()}},data(){return{resources:[],filter:""}},computed:{resourcesFiltered(){return this.filter?this.resources.filter(t=>t.toLowerCase().includes(this.filter.toLowerCase())):this.resources}},methods:{select(t){this.selectResource&&this.selectResource(t)},async updateList(){let t;this.queryQuads&&(t="quads");const e=await this.store.sendQuery({query:this.query,defaultGraph:t});if(e.resultType==="bindings"){const r=await e.execute();this.resources=await Array.fromAsync(r,(n,a)=>n.get(this.selectVariable).value)}},shortenIri(t){return c8e().shortenIri(t)}}},ire=t=>(bue("data-v-211acf3b"),t=t(),vue(),t),d8e={class:"card"},f8e={class:"card-header d-flex justify-content-between align-items-center"},h8e={class:"row row-cols-lg-auto g-3 align-items-center"},p8e={class:"col-12"},y8e={class:"mb-0"},m8e={class:"col-12"},g8e={class:"input-group mb-3"},_8e=ire(()=>nt("i",{class:"bi bi-arrow-repeat"},null,-1)),b8e=[_8e],v8e=["title","aria-label"],w8e=ire(()=>nt("i",{class:"bi bi-plus-square"},null,-1)),S8e=[w8e],T8e={class:"list-group list-group-flush"},E8e=["for","title","onClick"];function A8e(t,e,r,n,a,s){return rr(),gr("div",d8e,[nt("div",f8e,[nt("div",h8e,[nt("div",p8e,[nt("h6",y8e,j6(r.title),1)]),nt("div",m8e,[nt("div",g8e,[r.search?Yi((rr(),gr("input",{key:0,type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>a.filter=o),placeholder:"Search …"},null,512)),[[ea,a.filter]]):Da("",!0),nt("button",{type:"button",class:"btn btn-secondary",onClick:e[1]||(e[1]=(...o)=>s.updateList&&s.updateList(...o)),title:"Reload","aria-label":"Reload"},b8e),r.add?(rr(),gr("button",{key:1,type:"button",class:"btn btn-secondary",onClick:e[2]||(e[2]=(...o)=>r.add&&r.add(...o)),title:r.addTitle,"aria-label":r.addTitle},S8e,8,v8e)):Da("",!0)])])])]),nt("ul",T8e,[(rr(!0),gr(Kr,null,Kue(s.resourcesFiltered,(o,u)=>(rr(),gr("li",{class:Vc(["list-group-item",[{active:o==r.activeResource},r.itemClass]]),key:u,href:"#",for:"form-control"+u,title:o,onClick:c=>s.select(o)},j6(s.shortenIri(o)),11,E8e))),128))])])}const are=U1(l8e,[["render",A8e],["__scopeId","data-v-211acf3b"]]),O8e={name:"TermInput",mounted(){this.updateNode()},watch:{term(t){this.updateNode()}},data(){return{dynamicNodetype:"iri",literalType:"language",idValue:"",language:"de",datatype:"http://www.w3.org/2001/XMLSchema#string",node:{}}},props:{type:String,id:String,term:Object},computed:{nodeType:{get:function(){return this.type?this.type:this.dynamicNodetype},set:function(t){this.dynamicNodetype=t}}},methods:{setType(t){this.nodeType=t,this.notify()},setLiteralType(t){this.literalType=t,this.notify()},notify(){this.updateTerm()},updateTerm(){this.dynamicNodetype==="iri"?this.node=$r.namedNode(this.idValue):this.literalType==="language"?this.node=$r.literal(this.idValue,this.language):this.node=$r.literal(this.idValue,$r.namedNode(this.datatype)),this.$emit("update:term",this.node)},updateNode(){this.term!=null&&(this.node=this.term,this.term.termType==="NamedNode"?this.dynamicNodetype="iri":this.term.termType==="Literal"&&(this.dynamicNodetype="literal",this.term.language?(this.language=this.term.language,this.literalType="language"):(this.datatype=this.term.datatype.value,this.literalType="datatype")),this.idValue=this.term.value)}}},R8e={class:"input-group"},x8e={key:1,class:"input-group-text"},I8e={key:2,class:"input-group-text"},P8e=["id"],N8e={key:3,class:"input-group-text"},D8e=["id"],C8e=["id"],L8e=nt("span",{class:"input-group-text"},">",-1);function j8e(t,e,r,n,a,s){return rr(),gr("div",R8e,[r.type===void 0?(rr(),gr(Kr,{key:0},[nt("button",{onClick:e[0]||(e[0]=o=>s.setType("iri")),class:Vc(["btn btn-outline-secondary",{active:s.nodeType=="iri"}]),type:"button"},"IRI",2),nt("button",{onClick:e[1]||(e[1]=o=>s.setType("literal")),class:Vc(["btn btn-outline-secondary",{active:s.nodeType=="literal"}]),type:"button"},"Lit",2)],64)):Da("",!0),s.nodeType==="iri"?(rr(),gr("span",x8e,"<")):s.nodeType==="literal"?(rr(),gr("span",I8e,'"')):Da("",!0),Yi(nt("input",{id:"value-"+this.id,"onUpdate:modelValue":e[2]||(e[2]=o=>a.idValue=o),onInput:e[3]||(e[3]=(...o)=>s.notify&&s.notify(...o)),type:"text",class:"form-control"},null,40,P8e),[[ea,a.idValue]]),s.nodeType==="iri"?(rr(),gr("span",N8e,">")):s.nodeType==="literal"&&a.literalType==="language"?(rr(),gr(Kr,{key:4},[nt("span",{onClick:e[4]||(e[4]=o=>s.setLiteralType("datatype")),class:"input-group-text btn btn-outline-secondary"},'"@'),Yi(nt("input",{id:"language-"+this.id,"onUpdate:modelValue":e[5]||(e[5]=o=>a.language=o),onInput:e[6]||(e[6]=(...o)=>s.notify&&s.notify(...o)),type:"text",class:"form-control"},null,40,D8e),[[ea,a.language]])],64)):s.nodeType==="literal"&&a.literalType==="datatype"?(rr(),gr(Kr,{key:5},[nt("span",{onClick:e[7]||(e[7]=o=>s.setLiteralType("language")),class:"input-group-text btn btn-outline-secondary"},'"^^<'),Yi(nt("input",{id:"datatype-"+this.id,"onUpdate:modelValue":e[8]||(e[8]=o=>a.datatype=o),onInput:e[9]||(e[9]=(...o)=>s.notify&&s.notify(...o)),type:"text",class:"form-control"},null,40,C8e),[[ea,a.datatype]]),L8e],64)):Da("",!0)])}const M8e=U1(O8e,[["render",j8e]]),F8e={name:"GraphList",setup(){return{store:nl()}},components:{TermInput:M8e,QueryResultList:are},props:{graph_iri:String,selectGraph:Function},data(){return{graphs:[],new_graph_iri:$r.namedNode(""),add_graph_modal:null}},mounted(){this.add_graph_modal=new fu(this.$refs.add_graph)},methods:{async add_graph(){const t=[$r.quad(this.new_graph_iri,$r.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),$r.namedNode("http://www.w3.org/2000/01/rdf-schema#Graph"))];console.log(this.new_graph_iri);try{await this.store.deleteInsertData({insertArray:t,graphIri:this.new_graph_iri.value}),this.add_graph_modal.hide()}catch(e){console.error(e)}}}},B8e={class:"modal fade",ref:"add_graph",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static",size:"lg"},q8e={class:"modal-dialog modal-lg"},$8e={class:"modal-content"},U8e={class:"modal-header"},k8e=nt("h5",{class:"modal-title"},"Create New Graph",-1),V8e={class:"modal-body"},H8e={class:"form-group"},Q8e=nt("label",{for:"new_graph_iri"},"IRI",-1),z8e={class:"modal-footer"};function G8e(t,e,r,n,a,s){const o=Q6("QueryResultList"),u=Q6("TermInput");return rr(),gr("div",null,[It(o,{title:"Graph List",search:"",query:"select distinct ?graph { graph ?graph {?s ?p ?o}} order by ?graph","query-quads":"","select-variable":"graph",ref:"classList",add:()=>{a.add_graph_modal.show()},selectResource:r.selectGraph,activeResource:r.graph_iri},null,8,["add","selectResource","activeResource"]),nt("div",B8e,[nt("div",q8e,[nt("div",$8e,[nt("div",U8e,[k8e,nt("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=c=>a.add_graph_modal.hide()),"aria-label":"Close"})]),nt("div",V8e,[nt("form",null,[nt("div",H8e,[Q8e,nt("div",null,[It(u,{type:"iri",id:"new_graph_iri",term:a.new_graph_iri,"onUpdate:term":e[1]||(e[1]=c=>a.new_graph_iri=c)},null,8,["term"])])])])]),nt("div",z8e,[nt("button",{type:"button",class:"btn btn-secondary",onClick:e[2]||(e[2]=c=>a.add_graph_modal.hide())},"Close"),nt("button",{type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=c=>s.add_graph())},"Save changes")])])])],512)])}const W8e=U1(F8e,[["render",G8e]]),K8e={name:"ClassList",props:{class_iri:String,selectClass:Function},watch:{graph_iri(t){console.log("graph_iri changed"+t),this.$refs.classList.updateList()}},computed:{...fS(ps,["graph_iri"])}},J8e=Object.assign(K8e,{setup(t){return(e,r)=>(rr(),eD(are,{title:"Class List",search:"",query:"select distinct ?class { {?s a ?class} union {?class a <http://www.w3.org/2000/01/rdf-schema#Class>} union {?class a <http://www.w3.org/2002/07/owl#Class>} } order by ?class","select-variable":"class",ref:"classList",activeResource:t.class_iri,selectResource:t.selectClass},null,8,["activeResource","selectResource"]))}}),ez={name:"splitpanes",emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click"],props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((t,e)=>(t[e.id]=e)&&t,{})}},methods:{updatePaneComponents(){this.panes.forEach(t=>{t.update&&t.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[t.id].size}%`})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(t,e){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=e},onMouseMove(t){this.touch.mouseDown&&(t.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(t)),this.$emit("resize",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(t=>({min:t.min,max:t.max,size:t.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(t,e){"ontouchstart"in window&&(t.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===e?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(t,e),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=e,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[e])},onSplitterDblClick(t,e){let r=0;this.panes=this.panes.map((n,a)=>(n.size=a===e?n.max:n.min,a!==e&&(r+=n.min),n)),this.panes[e].size-=r,this.$emit("pane-maximize",this.panes[e]),this.$emit("resized",this.panes.map(n=>({min:n.min,max:n.max,size:n.size})))},onPaneClick(t,e){this.$emit("pane-click",this.indexedPanes[e])},getCurrentMouseDrag(t){const e=this.container.getBoundingClientRect(),{clientX:r,clientY:n}="ontouchstart"in window&&t.touches?t.touches[0]:t;return{x:r-e.left,y:n-e.top}},getCurrentDragPercentage(t){t=t[this.horizontal?"y":"x"];const e=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(t=e-t),t*100/e},calculatePanesSize(t){const e=this.touch.activeSplitter;let r={prevPanesSize:this.sumPrevPanesSize(e),nextPanesSize:this.sumNextPanesSize(e),prevReachedMinPanes:0,nextReachedMinPanes:0};const n=0+(this.pushOtherPanes?0:r.prevPanesSize),a=100-(this.pushOtherPanes?0:r.nextPanesSize),s=Math.max(Math.min(this.getCurrentDragPercentage(t),a),n);let o=[e,e+1],u=this.panes[o[0]]||null,c=this.panes[o[1]]||null;const l=u.max<100&&s>=u.max+r.prevPanesSize,d=c.max<100&&s<=100-(c.max+this.sumNextPanesSize(e+1));if(l||d){l?(u.size=u.max,c.size=Math.max(100-u.max-r.prevPanesSize-r.nextPanesSize,0)):(u.size=Math.max(100-c.max-r.prevPanesSize-this.sumNextPanesSize(e+1),0),c.size=c.max);return}if(this.pushOtherPanes){const f=this.doPushOtherPanes(r,s);if(!f)return;({sums:r,panesToResize:o}=f),u=this.panes[o[0]]||null,c=this.panes[o[1]]||null}u!==null&&(u.size=Math.min(Math.max(s-r.prevPanesSize-r.prevReachedMinPanes,u.min),u.max)),c!==null&&(c.size=Math.min(Math.max(100-s-r.nextPanesSize-r.nextReachedMinPanes,c.min),c.max))},doPushOtherPanes(t,e){const r=this.touch.activeSplitter,n=[r,r+1];return e<t.prevPanesSize+this.panes[n[0]].min&&(n[0]=this.findPrevExpandedPane(r).index,t.prevReachedMinPanes=0,n[0]<r&&this.panes.forEach((a,s)=>{s>n[0]&&s<=r&&(a.size=a.min,t.prevReachedMinPanes+=a.min)}),t.prevPanesSize=this.sumPrevPanesSize(n[0]),n[0]===void 0)?(t.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((a,s)=>{s>0&&s<=r&&(a.size=a.min,t.prevReachedMinPanes+=a.min)}),this.panes[n[1]].size=100-t.prevReachedMinPanes-this.panes[0].min-t.prevPanesSize-t.nextPanesSize,null):e>100-t.nextPanesSize-this.panes[n[1]].min&&(n[1]=this.findNextExpandedPane(r).index,t.nextReachedMinPanes=0,n[1]>r+1&&this.panes.forEach((a,s)=>{s>r&&s<n[1]&&(a.size=a.min,t.nextReachedMinPanes+=a.min)}),t.nextPanesSize=this.sumNextPanesSize(n[1]-1),n[1]===void 0)?(t.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((a,s)=>{s<this.panesCount-1&&s>=r+1&&(a.size=a.min,t.nextReachedMinPanes+=a.min)}),this.panes[n[0]].size=100-t.prevPanesSize-t.nextReachedMinPanes-this.panes[this.panesCount-1].min-t.nextPanesSize,null):{sums:t,panesToResize:n}},sumPrevPanesSize(t){return this.panes.reduce((e,r,n)=>e+(n<t?r.size:0),0)},sumNextPanesSize(t){return this.panes.reduce((e,r,n)=>e+(n>t+1?r.size:0),0)},findPrevExpandedPane(t){return[...this.panes].reverse().find(e=>e.index<t&&e.size>e.min)||{}},findNextExpandedPane(t){return this.panes.find(e=>e.index>t+1&&e.size>e.min)||{}},checkSplitpanesNodes(){Array.from(this.container.children).forEach(t=>{const e=t.classList.contains("splitpanes__pane"),r=t.classList.contains("splitpanes__splitter");!e&&!r&&(t.parentNode.removeChild(t),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))})},addSplitter(t,e,r=!1){const n=t-1,a=document.createElement("div");a.classList.add("splitpanes__splitter"),r||(a.onmousedown=s=>this.onMouseDown(s,n),typeof window<"u"&&"ontouchstart"in window&&(a.ontouchstart=s=>this.onMouseDown(s,n)),a.onclick=s=>this.onSplitterClick(s,n+1)),this.dblClickSplitter&&(a.ondblclick=s=>this.onSplitterDblClick(s,n+1)),e.parentNode.insertBefore(a,e)},removeSplitter(t){t.onmousedown=void 0,t.onclick=void 0,t.ondblclick=void 0,t.parentNode.removeChild(t)},redoSplitters(){const t=Array.from(this.container.children);t.forEach(r=>{r.className.includes("splitpanes__splitter")&&this.removeSplitter(r)});let e=0;t.forEach(r=>{r.className.includes("splitpanes__pane")&&(!e&&this.firstSplitter?this.addSplitter(e,r,!0):e&&this.addSplitter(e,r),e++)})},requestUpdate({target:t,...e}){const r=this.indexedPanes[t._.uid];Object.entries(e).forEach(([n,a])=>r[n]=a)},onPaneAdd(t){let e=-1;Array.from(t.$el.parentNode.children).some(a=>(a.className.includes("splitpanes__pane")&&e++,a===t.$el));const r=parseFloat(t.minSize),n=parseFloat(t.maxSize);this.panes.splice(e,0,{id:t._.uid,index:e,min:isNaN(r)?0:r,max:isNaN(n)?100:n,size:t.size===null?null:parseFloat(t.size),givenSize:t.size,update:t.update}),this.panes.forEach((a,s)=>a.index=s),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[e]}),this.$emit("pane-add",{index:e,panes:this.panes.map(a=>({min:a.min,max:a.max,size:a.size}))})})},onPaneRemove(t){const e=this.panes.findIndex(n=>n.id===t._.uid),r=this.panes.splice(e,1)[0];this.panes.forEach((n,a)=>n.index=a),this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:{...r,index:e}}),this.$emit("pane-remove",{removed:r,panes:this.panes.map(n=>({min:n.min,max:n.max,size:n.size}))})})},resetPaneSizes(t={}){!t.addedPane&&!t.removedPane?this.initialPanesSizing():this.panes.some(e=>e.givenSize!==null||e.min||e.max<100)?this.equalizeAfterAddOrRemove(t):this.equalize(),this.ready&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size})))},equalize(){const t=100/this.panesCount;let e=0;const r=[],n=[];this.panes.forEach(a=>{a.size=Math.max(Math.min(t,a.max),a.min),e-=a.size,a.size>=a.max&&r.push(a.id),a.size<=a.min&&n.push(a.id)}),e>.1&&this.readjustSizes(e,r,n)},initialPanesSizing(){let t=100;const e=[],r=[];let n=0;this.panes.forEach(s=>{t-=s.size,s.size!==null&&n++,s.size>=s.max&&e.push(s.id),s.size<=s.min&&r.push(s.id)});let a=100;t>.1&&(this.panes.forEach(s=>{s.size===null&&(s.size=Math.max(Math.min(t/(this.panesCount-n),s.max),s.min)),a-=s.size}),a>.1&&this.readjustSizes(t,e,r))},equalizeAfterAddOrRemove({addedPane:t,removedPane:e}={}){let r=100/this.panesCount,n=0;const a=[],s=[];t&&t.givenSize!==null&&(r=(100-t.givenSize)/(this.panesCount-1)),this.panes.forEach(o=>{n-=o.size,o.size>=o.max&&a.push(o.id),o.size<=o.min&&s.push(o.id)}),!(Math.abs(n)<.1)&&(this.panes.forEach(o=>{t&&t.givenSize!==null&&t.id===o.id||(o.size=Math.max(Math.min(r,o.max),o.min)),n-=o.size,o.size>=o.max&&a.push(o.id),o.size<=o.min&&s.push(o.id)}),n>.1&&this.readjustSizes(n,a,s))},readjustSizes(t,e,r){let n;t>0?n=t/(this.panesCount-e.length):n=t/(this.panesCount-r.length),this.panes.forEach((a,s)=>{if(t>0&&!e.includes(a.id)){const o=Math.max(Math.min(a.size+n,a.max),a.min),u=o-a.size;t-=u,a.size=o}else if(!r.includes(a.id)){const o=Math.max(Math.min(a.size+n,a.max),a.min),u=o-a.size;t-=u,a.size=o}a.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[a.id].size}%`})}),Math.abs(t)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(t){[...this.container.querySelectorAll(".splitpanes__splitter")].forEach((e,r)=>{e.ondblclick=t?n=>this.onSplitterDblClick(n,r):void 0})}},beforeUnmount(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(){return a2("div",{ref:"container",class:["splitpanes",`splitpanes--${this.horizontal?"horizontal":"vertical"}`,{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())}},X8e=(t,e)=>{const r=t.__vccOpts||t;for(const[n,a]of e)r[n]=a;return r},Y8e={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeUnmount(){this.onPaneRemove(this)},methods:{update(t){this.style=t}},computed:{sizeNumber(){return this.size||this.size===0?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(t){this.requestUpdate({target:this,size:t})},minSizeNumber(t){this.requestUpdate({target:this,min:t})},maxSizeNumber(t){this.requestUpdate({target:this,max:t})}}};function Z8e(t,e,r,n,a,s){return rr(),gr("div",{class:"splitpanes__pane",onClick:e[0]||(e[0]=o=>s.onPaneClick(o,t._.uid)),style:Mb(t.style)},[Jue(t.$slots,"default")],4)}const pw=X8e(Y8e,[["render",Z8e]]),eFe={id:"app",class:"container-fluid"},tFe={class:"row connection"},rFe={key:0},nFe={key:1},iFe={key:0,class:"row"},aFe={class:"nav nav-tabs"},sFe={class:"nav-item"},oFe={class:"nav-item"},uFe={class:"nav-item"},cFe={class:"nav-item"},lFe={class:"nav-item"},dFe={class:"nav-item"},fFe={class:"nav-item"},hFe={class:"nav-item"},pFe={key:1},yFe={name:"App",setup(){return{store:nl()}},computed:{...fS(nl,{store_ready:t=>t.ready}),...fS(ps,["graph_iri","resource_iri"])}},mFe=Object.assign(yFe,{setup(t){return(e,r)=>(rr(),gr("div",eFe,[nt("div",tFe,[e.store_ready?(rr(),gr("div",rFe,"🟢 Store is ready")):(rr(),gr("div",nFe,"🔄 Loading")),It(u8e)]),e.store_ready?(rr(),gr("div",iFe,[It(Tr(ez),{class:"default-theme"},{default:Cn(()=>[It(Tr(pw),{size:"30"},{default:Cn(()=>[It(Tr(ez),{horizontal:"",style:{height:"80vh"}},{default:Cn(()=>[It(Tr(pw),{size:"30"},{default:Cn(()=>[It(W8e,{graph_iri:e.graph_iri,selectGraph:n=>{Tr(ps)().changeGraphIri(n),Tr(ps)().changeResourceIri(n)}},null,8,["graph_iri","selectGraph"])]),_:1}),It(Tr(pw),{size:"70"},{default:Cn(()=>[It(J8e,{class_iri:e.resource_iri,selectClass:n=>{Tr(ps)().changeResourceIri(n)}},null,8,["class_iri","selectClass"])]),_:1})]),_:1})]),_:1}),It(Tr(pw),{size:"90"},{default:Cn(()=>[nt("ul",aFe,[nt("li",sFe,[It(Tr(Ws),{class:"nav-link","active-class":"active",to:"/dashboard"},{default:Cn(()=>[Ya("Home")]),_:1})]),nt("li",oFe,[It(Tr(Ws),{class:"nav-link","active-class":"active",to:"/instances"},{default:Cn(()=>[Ya("Instances")]),_:1})]),nt("li",uFe,[It(Tr(Ws),{class:"nav-link","active-class":"active",to:"/voc"},{default:Cn(()=>[Ya("Vocabulary")]),_:1})]),nt("li",cFe,[It(Tr(Ws),{class:"nav-link","active-class":"active",to:"/edit"},{default:Cn(()=>[Ya("Edit")]),_:1})]),nt("li",lFe,[It(Tr(Ws),{class:"nav-link","active-class":"active",to:"/form"},{default:Cn(()=>[Ya("Form")]),_:1})]),nt("li",dFe,[It(Tr(Ws),{class:"nav-link","active-class":"active",to:"/add"},{default:Cn(()=>[Ya("Add")]),_:1})]),nt("li",fFe,[It(Tr(Ws),{class:"nav-link","active-class":"active",to:"/kanban"},{default:Cn(()=>[Ya("Kanban")]),_:1})]),nt("li",hFe,[It(Tr(Ws),{class:"nav-link","active-class":"active",to:"/source"},{default:Cn(()=>[Ya("Source")]),_:1})])]),It(Tr(GW))]),_:1})]),_:1})])):(rr(),gr("div",pFe," Waiting for Store to be configured … "))]))}}),gFe=U1(mFe,[["__scopeId","data-v-c922ef8e"]]),_Fe="modulepreload",bFe=function(t,e){return new URL(t,e).href},tz={},zs=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.all(r.map(c=>{if(c=bFe(c,n),c in tz)return;tz[c]=!0;const l=c.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(!!n)for(let p=s.length-1;p>=0;p--){const m=s[p];if(m.href===c&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":_Fe,l||(h.as="script",h.crossOrigin=""),h.href=c,u&&h.setAttribute("nonce",u),document.head.appendChild(h),l)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}return a.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},sre=Tde({history:ede("./"),routes:[{path:"/",redirect:{path:"/dashboard"}},{path:"/about",name:"about",component:()=>zs(()=>import("./AboutView-DWcAlp7a.js"),[],import.meta.url)},{path:"/dashboard",name:"DashboardView",component:()=>zs(()=>import("./DashboardView-DkolhmRY.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)},{path:"/instances",name:"InstanceList",component:()=>zs(()=>import("./InstanceList-CQcQHaLE.js"),[],import.meta.url)},{path:"/voc",name:"VocPad",component:()=>zs(()=>import("./VocPad-DoIIs2Xn.js"),__vite__mapDeps([5,6,7]),import.meta.url)},{path:"/edit",name:"EditForm",component:()=>zs(()=>import("./EditForm-B63A4X8g.js"),__vite__mapDeps([8,7,6]),import.meta.url)},{path:"/form",name:"FormDemo",component:()=>zs(()=>import("./FormDemo-AHnGoRFd.js"),__vite__mapDeps([9,1,2,3]),import.meta.url)},{path:"/add",name:"InputForm",component:()=>zs(()=>import("./InputForm-CTgGFLd2.js"),[],import.meta.url)},{path:"/kanban",name:"Kanban",component:()=>zs(()=>import("./Kanban-DFwcP8PM.js"),__vite__mapDeps([10,7,2,11]),import.meta.url)},{path:"/source",name:"Source",component:()=>zs(()=>import("./Source-Dgw20lEv.js"),__vite__mapDeps([12,2,6,7]),import.meta.url)}]});sre.beforeEach(t=>{nl()});const P4=yle(gFe);P4.use(gle());P4.use(sre);P4.mount("#app");export{rb as $,Vc as A,Ya as B,Yi as C,ea as D,CFe as E,Kr as F,fu as G,c8e as H,v5e as I,Zd as J,yo as K,T$e as L,ez as M,E$e as N,A$e as O,hje as P,are as Q,Bue as R,kG as S,M8e as T,ii as U,y5e as V,uG as W,NFe as X,c5e as Y,BFe as Z,U1 as _,nt as a,KN as a$,bd as a0,jFe as a1,e5e as a2,jd as a3,xFe as a4,pW as a5,b5e as a6,IFe as a7,rD as a8,PFe as a9,Ou as aA,dG as aB,GN as aC,wce as aD,a2 as aE,uf as aF,ace as aG,ple as aH,s5e as aI,T5e as aJ,ls as aK,xce as aL,RG as aM,Fc as aN,nb as aO,nn as aP,i5e as aQ,iS as aR,Qc as aS,qN as aT,JFe as aU,XFe as aV,Sce as aW,Bb as aX,wFe as aY,$ue as aZ,Vue as a_,sa as aa,au as ab,Si as ac,GS as ad,_o as ae,p5e as af,Zi as ag,yle as ah,yce as ai,YFe as aj,pce as ak,S5e as al,r5e as am,cue as an,FFe as ao,ele as ap,kFe as aq,VFe as ar,zFe as as,HFe as at,UFe as au,g5e as av,QFe as aw,l5e as ax,SFe as ay,cG as az,ps as b,GLe as b$,Hue as b0,Uue as b1,Wue as b2,Gue as b3,zue as b4,Foe as b5,Que as b6,JN as b7,WN as b8,vw as b9,KFe as bA,_5e as bB,m5e as bC,a5e as bD,Cue as bE,UG as bF,EW as bG,cle as bH,k_ as bI,ule as bJ,Bce as bK,Ice as bL,u5e as bM,gd as bN,MFe as bO,Lue as bP,jue as bQ,ZFe as bR,GFe as bS,w5e as bT,o5e as bU,DFe as bV,WW as bW,sD as bX,I as bY,gje as bZ,nr as b_,PG as ba,MI as bb,Fb as bc,OG as bd,n5e as be,SL as bf,LFe as bg,h5e as bh,cb as bi,iL as bj,d5e as bk,Ld as bl,AG as bm,EFe as bn,aue as bo,Due as bp,f5e as bq,TFe as br,_w as bs,$Fe as bt,Qt as bu,RFe as bv,lue as bw,OFe as bx,t5e as by,AFe as bz,gr as c,gte as c0,vte as c1,yje as c2,mje as c3,S$e as c4,Is as c5,mte as c6,Ad as c7,JLe as c8,XLe as c9,YLe as ca,ZLe as cb,L_ as cc,Ni as cd,OC as ce,PNe as cf,BT as cg,iee as ch,NNe as ci,ta as cj,Pt as ck,Cu as cl,aZ as cm,GC as cn,Mt as co,n4 as cp,gl as cq,GZ as cr,WZ as cs,pn as ct,cee as cu,_a as cv,l4 as cw,vT as cx,It as d,Kue as e,$r as f,Da as g,Tr as h,pw as i,vue as j,NI as k,t2 as l,fS as m,eD as n,rr as o,bue as p,qFe as q,Q6 as r,Mb as s,j6 as t,nl as u,ho as v,Cn as w,WFe as x,n2 as y,Jue as z};
