const __vite__fileDeps=["./DashboardView-CbSvJWll.js","./Term-Cnp3cOVO.js","./InstanceList-Bq0sFaoV.js","./DashboardView-D39OJwqc.css","./VocPad-B3vjCvJT.js","./n3-compare-Dh5Sa1pm.js","./lodash-B15SRsdl.js","./EditForm-YneyvUd-.js","./FormDemo-DgM9bpNm.js","./Kanban-BpZPvI91.js","./Kanban-LmqiUb8o.css","./Source-cae9d2kw.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var Jee=Object.defineProperty;var Xee=(e,t,r)=>t in e?Jee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Pr=(e,t,r)=>(Xee(e,typeof t!="symbol"?t+"":t,r),r),I2=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var be=(e,t,r)=>(I2(e,t,"read from private field"),r?r.call(e):t.get(e)),Ft=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Et=(e,t,r,n)=>(I2(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var d1=(e,t,r,n)=>({set _(a){Et(e,t,a,r)},get _(){return be(e,t,n)}}),_t=(e,t,r)=>(I2(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Xn="top",Ii="bottom",Pi="right",Yn="left",Aw="auto",td=[Xn,Ii,Pi,Yn],tc="start",Il="end",vQ="clippingParents",XI="viewport",Jc="popper",wQ="reference",lx=td.reduce(function(e,t){return e.concat([t+"-"+tc,t+"-"+Il])},[]),YI=[].concat(td,[Aw]).reduce(function(e,t){return e.concat([t,t+"-"+tc,t+"-"+Il])},[]),SQ="beforeRead",TQ="read",EQ="afterRead",AQ="beforeMain",OQ="main",RQ="afterMain",xQ="beforeWrite",IQ="write",PQ="afterWrite",NQ=[SQ,TQ,EQ,AQ,OQ,RQ,xQ,IQ,PQ];function Va(e){return e?(e.nodeName||"").toLowerCase():null}function Ni(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function rc(e){var t=Ni(e).Element;return e instanceof t||e instanceof Element}function Qi(e){var t=Ni(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ZI(e){if(typeof ShadowRoot>"u")return!1;var t=Ni(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Yee(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},a=t.attributes[r]||{},s=t.elements[r];!Qi(s)||!Va(s)||(Object.assign(s.style,n),Object.keys(a).forEach(function(o){var u=a[o];u===!1?s.removeAttribute(o):s.setAttribute(o,u===!0?"":u)}))})}function Zee(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var a=t.elements[n],s=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),u=o.reduce(function(l,c){return l[c]="",l},{});!Qi(a)||!Va(a)||(Object.assign(a.style,u),Object.keys(s).forEach(function(l){a.removeAttribute(l)}))})}}const eP={name:"applyStyles",enabled:!0,phase:"write",fn:Yee,effect:Zee,requires:["computeStyles"]};function qa(e){return e.split("-")[0]}var Ku=Math.max,zv=Math.min,Pl=Math.round;function dx(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function DQ(){return!/^((?!chrome|android).)*safari/i.test(dx())}function Nl(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,s=1;t&&Qi(e)&&(a=e.offsetWidth>0&&Pl(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Pl(n.height)/e.offsetHeight||1);var o=rc(e)?Ni(e):window,u=o.visualViewport,l=!DQ()&&r,c=(n.left+(l&&u?u.offsetLeft:0))/a,d=(n.top+(l&&u?u.offsetTop:0))/s,f=n.width/a,h=n.height/s;return{width:f,height:h,top:d,right:c+f,bottom:d+h,left:c,x:c,y:d}}function tP(e){var t=Nl(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function CQ(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&ZI(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Bs(e){return Ni(e).getComputedStyle(e)}function ete(e){return["table","td","th"].indexOf(Va(e))>=0}function Mo(e){return((rc(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ow(e){return Va(e)==="html"?e:e.assignedSlot||e.parentNode||(ZI(e)?e.host:null)||Mo(e)}function EC(e){return!Qi(e)||Bs(e).position==="fixed"?null:e.offsetParent}function tte(e){var t=/firefox/i.test(dx()),r=/Trident/i.test(dx());if(r&&Qi(e)){var n=Bs(e);if(n.position==="fixed")return null}var a=Ow(e);for(ZI(a)&&(a=a.host);Qi(a)&&["html","body"].indexOf(Va(a))<0;){var s=Bs(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function K_(e){for(var t=Ni(e),r=EC(e);r&&ete(r)&&Bs(r).position==="static";)r=EC(r);return r&&(Va(r)==="html"||Va(r)==="body"&&Bs(r).position==="static")?t:r||tte(e)||t}function rP(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function o_(e,t,r){return Ku(e,zv(t,r))}function rte(e,t,r){var n=o_(e,t,r);return n>r?r:n}function LQ(){return{top:0,right:0,bottom:0,left:0}}function jQ(e){return Object.assign({},LQ(),e)}function MQ(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var nte=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,jQ(typeof t!="number"?t:MQ(t,td))};function ite(e){var t,r=e.state,n=e.name,a=e.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,u=qa(r.placement),l=rP(u),c=[Yn,Pi].indexOf(u)>=0,d=c?"height":"width";if(!(!s||!o)){var f=nte(a.padding,r),h=tP(s),p=l==="y"?Xn:Yn,m=l==="y"?Ii:Pi,y=r.rects.reference[d]+r.rects.reference[l]-o[l]-r.rects.popper[d],g=o[l]-r.rects.reference[l],b=K_(s),v=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,_=y/2-g/2,w=f[p],S=v-h[d]-f[m],E=v/2-h[d]/2+_,x=o_(w,E,S),C=l;r.modifiersData[n]=(t={},t[C]=x,t.centerOffset=x-E,t)}}function ate(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||CQ(t.elements.popper,a)&&(t.elements.arrow=a))}const FQ={name:"arrow",enabled:!0,phase:"main",fn:ite,effect:ate,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Dl(e){return e.split("-")[1]}var ste={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ote(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:Pl(r*a)/a||0,y:Pl(n*a)/a||0}}function AC(e){var t,r=e.popper,n=e.popperRect,a=e.placement,s=e.variation,o=e.offsets,u=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=o.x,p=h===void 0?0:h,m=o.y,y=m===void 0?0:m,g=typeof d=="function"?d({x:p,y}):{x:p,y};p=g.x,y=g.y;var b=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),_=Yn,w=Xn,S=window;if(c){var E=K_(r),x="clientHeight",C="clientWidth";if(E===Ni(r)&&(E=Mo(r),Bs(E).position!=="static"&&u==="absolute"&&(x="scrollHeight",C="scrollWidth")),E=E,a===Xn||(a===Yn||a===Pi)&&s===Il){w=Ii;var I=f&&E===S&&S.visualViewport?S.visualViewport.height:E[x];y-=I-n.height,y*=l?1:-1}if(a===Yn||(a===Xn||a===Ii)&&s===Il){_=Pi;var P=f&&E===S&&S.visualViewport?S.visualViewport.width:E[C];p-=P-n.width,p*=l?1:-1}}var L=Object.assign({position:u},c&&ste),D=d===!0?ote({x:p,y},Ni(r)):{x:p,y};if(p=D.x,y=D.y,l){var V;return Object.assign({},L,(V={},V[w]=v?"0":"",V[_]=b?"0":"",V.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",V))}return Object.assign({},L,(t={},t[w]=v?y+"px":"",t[_]=b?p+"px":"",t.transform="",t))}function ute(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,u=r.roundOffsets,l=u===void 0?!0:u,c={placement:qa(t.placement),variation:Dl(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,AC(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,AC(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const nP={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ute,data:{}};var f1={passive:!0};function cte(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,s=a===void 0?!0:a,o=n.resize,u=o===void 0?!0:o,l=Ni(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",r.update,f1)}),u&&l.addEventListener("resize",r.update,f1),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",r.update,f1)}),u&&l.removeEventListener("resize",r.update,f1)}}const iP={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:cte,data:{}};var lte={left:"right",right:"left",bottom:"top",top:"bottom"};function yv(e){return e.replace(/left|right|bottom|top/g,function(t){return lte[t]})}var dte={start:"end",end:"start"};function OC(e){return e.replace(/start|end/g,function(t){return dte[t]})}function aP(e){var t=Ni(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function sP(e){return Nl(Mo(e)).left+aP(e).scrollLeft}function fte(e,t){var r=Ni(e),n=Mo(e),a=r.visualViewport,s=n.clientWidth,o=n.clientHeight,u=0,l=0;if(a){s=a.width,o=a.height;var c=DQ();(c||!c&&t==="fixed")&&(u=a.offsetLeft,l=a.offsetTop)}return{width:s,height:o,x:u+sP(e),y:l}}function hte(e){var t,r=Mo(e),n=aP(e),a=(t=e.ownerDocument)==null?void 0:t.body,s=Ku(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Ku(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-n.scrollLeft+sP(e),l=-n.scrollTop;return Bs(a||r).direction==="rtl"&&(u+=Ku(r.clientWidth,a?a.clientWidth:0)-s),{width:s,height:o,x:u,y:l}}function oP(e){var t=Bs(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function qQ(e){return["html","body","#document"].indexOf(Va(e))>=0?e.ownerDocument.body:Qi(e)&&oP(e)?e:qQ(Ow(e))}function u_(e,t){var r;t===void 0&&(t=[]);var n=qQ(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),s=Ni(n),o=a?[s].concat(s.visualViewport||[],oP(n)?n:[]):n,u=t.concat(o);return a?u:u.concat(u_(Ow(o)))}function fx(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function pte(e,t){var r=Nl(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function RC(e,t,r){return t===XI?fx(fte(e,r)):rc(t)?pte(t,r):fx(hte(Mo(e)))}function yte(e){var t=u_(Ow(e)),r=["absolute","fixed"].indexOf(Bs(e).position)>=0,n=r&&Qi(e)?K_(e):e;return rc(n)?t.filter(function(a){return rc(a)&&CQ(a,n)&&Va(a)!=="body"}):[]}function mte(e,t,r,n){var a=t==="clippingParents"?yte(e):[].concat(t),s=[].concat(a,[r]),o=s[0],u=s.reduce(function(l,c){var d=RC(e,c,n);return l.top=Ku(d.top,l.top),l.right=zv(d.right,l.right),l.bottom=zv(d.bottom,l.bottom),l.left=Ku(d.left,l.left),l},RC(e,o,n));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function BQ(e){var t=e.reference,r=e.element,n=e.placement,a=n?qa(n):null,s=n?Dl(n):null,o=t.x+t.width/2-r.width/2,u=t.y+t.height/2-r.height/2,l;switch(a){case Xn:l={x:o,y:t.y-r.height};break;case Ii:l={x:o,y:t.y+t.height};break;case Pi:l={x:t.x+t.width,y:u};break;case Yn:l={x:t.x-r.width,y:u};break;default:l={x:t.x,y:t.y}}var c=a?rP(a):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case tc:l[c]=l[c]-(t[d]/2-r[d]/2);break;case Il:l[c]=l[c]+(t[d]/2-r[d]/2);break}}return l}function Cl(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,s=r.strategy,o=s===void 0?e.strategy:s,u=r.boundary,l=u===void 0?vQ:u,c=r.rootBoundary,d=c===void 0?XI:c,f=r.elementContext,h=f===void 0?Jc:f,p=r.altBoundary,m=p===void 0?!1:p,y=r.padding,g=y===void 0?0:y,b=jQ(typeof g!="number"?g:MQ(g,td)),v=h===Jc?wQ:Jc,_=e.rects.popper,w=e.elements[m?v:h],S=mte(rc(w)?w:w.contextElement||Mo(e.elements.popper),l,d,o),E=Nl(e.elements.reference),x=BQ({reference:E,element:_,strategy:"absolute",placement:a}),C=fx(Object.assign({},_,x)),I=h===Jc?C:E,P={top:S.top-I.top+b.top,bottom:I.bottom-S.bottom+b.bottom,left:S.left-I.left+b.left,right:I.right-S.right+b.right},L=e.modifiersData.offset;if(h===Jc&&L){var D=L[a];Object.keys(P).forEach(function(V){var k=[Pi,Ii].indexOf(V)>=0?1:-1,$=[Xn,Ii].indexOf(V)>=0?"y":"x";P[V]+=D[$]*k})}return P}function gte(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,s=r.rootBoundary,o=r.padding,u=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?YI:l,d=Dl(n),f=d?u?lx:lx.filter(function(m){return Dl(m)===d}):td,h=f.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=f);var p=h.reduce(function(m,y){return m[y]=Cl(e,{placement:y,boundary:a,rootBoundary:s,padding:o})[qa(y)],m},{});return Object.keys(p).sort(function(m,y){return p[m]-p[y]})}function _te(e){if(qa(e)===Aw)return[];var t=yv(e);return[OC(e),t,OC(t)]}function bte(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,s=a===void 0?!0:a,o=r.altAxis,u=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,m=p===void 0?!0:p,y=r.allowedAutoPlacements,g=t.options.placement,b=qa(g),v=b===g,_=l||(v||!m?[yv(g)]:_te(g)),w=[g].concat(_).reduce(function(ue,Ie){return ue.concat(qa(Ie)===Aw?gte(t,{placement:Ie,boundary:d,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:y}):Ie)},[]),S=t.rects.reference,E=t.rects.popper,x=new Map,C=!0,I=w[0],P=0;P<w.length;P++){var L=w[P],D=qa(L),V=Dl(L)===tc,k=[Xn,Ii].indexOf(D)>=0,$=k?"width":"height",H=Cl(t,{placement:L,boundary:d,rootBoundary:f,altBoundary:h,padding:c}),J=k?V?Pi:Yn:V?Ii:Xn;S[$]>E[$]&&(J=yv(J));var Y=yv(J),de=[];if(s&&de.push(H[D]<=0),u&&de.push(H[J]<=0,H[Y]<=0),de.every(function(ue){return ue})){I=L,C=!1;break}x.set(L,de)}if(C)for(var Te=m?3:1,De=function(Ie){var Ne=w.find(function(we){var Ae=x.get(we);if(Ae)return Ae.slice(0,Ie).every(function(Se){return Se})});if(Ne)return I=Ne,"break"},Ve=Te;Ve>0;Ve--){var le=De(Ve);if(le==="break")break}t.placement!==I&&(t.modifiersData[n]._skip=!0,t.placement=I,t.reset=!0)}}const $Q={name:"flip",enabled:!0,phase:"main",fn:bte,requiresIfExists:["offset"],data:{_skip:!1}};function xC(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function IC(e){return[Xn,Pi,Ii,Yn].some(function(t){return e[t]>=0})}function vte(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,o=Cl(t,{elementContext:"reference"}),u=Cl(t,{altBoundary:!0}),l=xC(o,n),c=xC(u,a,s),d=IC(l),f=IC(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const UQ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:vte};function wte(e,t,r){var n=qa(e),a=[Yn,Xn].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=s[0],u=s[1];return o=o||0,u=(u||0)*a,[Yn,Pi].indexOf(n)>=0?{x:u,y:o}:{x:o,y:u}}function Ste(e){var t=e.state,r=e.options,n=e.name,a=r.offset,s=a===void 0?[0,0]:a,o=YI.reduce(function(d,f){return d[f]=wte(f,t.rects,s),d},{}),u=o[t.placement],l=u.x,c=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=o}const kQ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ste};function Tte(e){var t=e.state,r=e.name;t.modifiersData[r]=BQ({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const uP={name:"popperOffsets",enabled:!0,phase:"read",fn:Tte,data:{}};function Ete(e){return e==="x"?"y":"x"}function Ate(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,s=a===void 0?!0:a,o=r.altAxis,u=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,p=h===void 0?!0:h,m=r.tetherOffset,y=m===void 0?0:m,g=Cl(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:d}),b=qa(t.placement),v=Dl(t.placement),_=!v,w=rP(b),S=Ete(w),E=t.modifiersData.popperOffsets,x=t.rects.reference,C=t.rects.popper,I=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,P=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(E){if(s){var V,k=w==="y"?Xn:Yn,$=w==="y"?Ii:Pi,H=w==="y"?"height":"width",J=E[w],Y=J+g[k],de=J-g[$],Te=p?-C[H]/2:0,De=v===tc?x[H]:C[H],Ve=v===tc?-C[H]:-x[H],le=t.elements.arrow,ue=p&&le?tP(le):{width:0,height:0},Ie=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:LQ(),Ne=Ie[k],we=Ie[$],Ae=o_(0,x[H],ue[H]),Se=_?x[H]/2-Te-Ae-Ne-P.mainAxis:De-Ae-Ne-P.mainAxis,z=_?-x[H]/2+Te+Ae+we+P.mainAxis:Ve+Ae+we+P.mainAxis,M=t.elements.arrow&&K_(t.elements.arrow),B=M?w==="y"?M.clientTop||0:M.clientLeft||0:0,T=(V=L==null?void 0:L[w])!=null?V:0,O=J+Se-T-B,U=J+z-T,G=o_(p?zv(Y,O):Y,J,p?Ku(de,U):de);E[w]=G,D[w]=G-J}if(u){var Q,Z=w==="x"?Xn:Yn,ie=w==="x"?Ii:Pi,te=E[S],he=S==="y"?"height":"width",ce=te+g[Z],ve=te-g[ie],Ce=[Xn,Yn].indexOf(b)!==-1,Ee=(Q=L==null?void 0:L[S])!=null?Q:0,Ue=Ce?ce:te-x[he]-C[he]-Ee+P.altAxis,Fe=Ce?te+x[he]+C[he]-Ee-P.altAxis:ve,Qe=p&&Ce?rte(Ue,te,Fe):o_(p?Ue:ce,te,p?Fe:ve);E[S]=Qe,D[S]=Qe-te}t.modifiersData[n]=D}}const VQ={name:"preventOverflow",enabled:!0,phase:"main",fn:Ate,requiresIfExists:["offset"]};function Ote(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Rte(e){return e===Ni(e)||!Qi(e)?aP(e):Ote(e)}function xte(e){var t=e.getBoundingClientRect(),r=Pl(t.width)/e.offsetWidth||1,n=Pl(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Ite(e,t,r){r===void 0&&(r=!1);var n=Qi(t),a=Qi(t)&&xte(t),s=Mo(t),o=Nl(e,a,r),u={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Va(t)!=="body"||oP(s))&&(u=Rte(t)),Qi(t)?(l=Nl(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=sP(s))),{x:o.left+u.scrollLeft-l.x,y:o.top+u.scrollTop-l.y,width:o.width,height:o.height}}function Pte(e){var t=new Map,r=new Set,n=[];e.forEach(function(s){t.set(s.name,s)});function a(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(u){if(!r.has(u)){var l=t.get(u);l&&a(l)}}),n.push(s)}return e.forEach(function(s){r.has(s.name)||a(s)}),n}function Nte(e){var t=Pte(e);return NQ.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function Dte(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Cte(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var PC={placement:"bottom",modifiers:[],strategy:"absolute"};function NC(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Rw(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,s=a===void 0?PC:a;return function(u,l,c){c===void 0&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},PC,s),modifiersData:{},elements:{reference:u,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:d,setOptions:function(b){var v=typeof b=="function"?b(d.options):b;y(),d.options=Object.assign({},s,d.options,v),d.scrollParents={reference:rc(u)?u_(u):u.contextElement?u_(u.contextElement):[],popper:u_(l)};var _=Nte(Cte([].concat(n,d.options.modifiers)));return d.orderedModifiers=_.filter(function(w){return w.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var b=d.elements,v=b.reference,_=b.popper;if(NC(v,_)){d.rects={reference:Ite(v,K_(_),d.options.strategy==="fixed"),popper:tP(_)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(P){return d.modifiersData[P.name]=Object.assign({},P.data)});for(var w=0;w<d.orderedModifiers.length;w++){if(d.reset===!0){d.reset=!1,w=-1;continue}var S=d.orderedModifiers[w],E=S.fn,x=S.options,C=x===void 0?{}:x,I=S.name;typeof E=="function"&&(d=E({state:d,options:C,name:I,instance:p})||d)}}}},update:Dte(function(){return new Promise(function(g){p.forceUpdate(),g(d)})}),destroy:function(){y(),h=!0}};if(!NC(u,l))return p;p.setOptions(c).then(function(g){!h&&c.onFirstUpdate&&c.onFirstUpdate(g)});function m(){d.orderedModifiers.forEach(function(g){var b=g.name,v=g.options,_=v===void 0?{}:v,w=g.effect;if(typeof w=="function"){var S=w({state:d,name:b,instance:p,options:_}),E=function(){};f.push(S||E)}})}function y(){f.forEach(function(g){return g()}),f=[]}return p}}var Lte=Rw(),jte=[iP,uP,nP,eP],Mte=Rw({defaultModifiers:jte}),Fte=[iP,uP,nP,eP,kQ,$Q,VQ,FQ,UQ],cP=Rw({defaultModifiers:Fte});const HQ=Object.freeze(Object.defineProperty({__proto__:null,afterMain:RQ,afterRead:EQ,afterWrite:PQ,applyStyles:eP,arrow:FQ,auto:Aw,basePlacements:td,beforeMain:AQ,beforeRead:SQ,beforeWrite:xQ,bottom:Ii,clippingParents:vQ,computeStyles:nP,createPopper:cP,createPopperBase:Lte,createPopperLite:Mte,detectOverflow:Cl,end:Il,eventListeners:iP,flip:$Q,hide:UQ,left:Yn,main:OQ,modifierPhases:NQ,offset:kQ,placements:YI,popper:Jc,popperGenerator:Rw,popperOffsets:uP,preventOverflow:VQ,read:TQ,reference:wQ,right:Pi,start:tc,top:Xn,variationPlacements:lx,viewport:XI,write:IQ},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const eo=new Map,P2={set(e,t,r){eo.has(e)||eo.set(e,new Map);const n=eo.get(e);if(!n.has(t)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(t,r)},get(e,t){return eo.has(e)&&eo.get(e).get(t)||null},remove(e,t){if(!eo.has(e))return;const r=eo.get(e);r.delete(t),r.size===0&&eo.delete(e)}},qte=1e6,Bte=1e3,hx="transitionend",QQ=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,r)=>`#${CSS.escape(r)}`)),e),$te=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),Ute=e=>{do e+=Math.floor(Math.random()*qte);while(document.getElementById(e));return e},kte=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:r}=window.getComputedStyle(e);const n=Number.parseFloat(t),a=Number.parseFloat(r);return!n&&!a?0:(t=t.split(",")[0],r=r.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(r))*Bte)},zQ=e=>{e.dispatchEvent(new Event(hx))},Cs=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),Ro=e=>Cs(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(QQ(e)):null,rd=e=>{if(!Cs(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",r=e.closest("details:not([open])");if(!r)return t;if(r!==e){const n=e.closest("summary");if(n&&n.parentNode!==r||n===null)return!1}return t},xo=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",GQ=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?GQ(e.parentNode):null},Gv=()=>{},J_=e=>{e.offsetHeight},WQ=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,N2=[],Vte=e=>{document.readyState==="loading"?(N2.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of N2)t()}),N2.push(e)):e()},Ji=()=>document.documentElement.dir==="rtl",ea=e=>{Vte(()=>{const t=WQ();if(t){const r=e.NAME,n=t.fn[r];t.fn[r]=e.jQueryInterface,t.fn[r].Constructor=e,t.fn[r].noConflict=()=>(t.fn[r]=n,e.jQueryInterface)}})},ci=(e,t=[],r=e)=>typeof e=="function"?e(...t):r,KQ=(e,t,r=!0)=>{if(!r){ci(e);return}const a=kte(t)+5;let s=!1;const o=({target:u})=>{u===t&&(s=!0,t.removeEventListener(hx,o),ci(e))};t.addEventListener(hx,o),setTimeout(()=>{s||zQ(t)},a)},lP=(e,t,r,n)=>{const a=e.length;let s=e.indexOf(t);return s===-1?!r&&n?e[a-1]:e[0]:(s+=r?1:-1,n&&(s=(s+a)%a),e[Math.max(0,Math.min(s,a-1))])},Hte=/[^.]*(?=\..*)\.|.*/,Qte=/\..*/,zte=/::\d+$/,D2={};let DC=1;const JQ={mouseenter:"mouseover",mouseleave:"mouseout"},Gte=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function XQ(e,t){return t&&`${t}::${DC++}`||e.uidEvent||DC++}function YQ(e){const t=XQ(e);return e.uidEvent=t,D2[t]=D2[t]||{},D2[t]}function Wte(e,t){return function r(n){return dP(n,{delegateTarget:e}),r.oneOff&&Xe.off(e,n.type,t),t.apply(e,[n])}}function Kte(e,t,r){return function n(a){const s=e.querySelectorAll(t);for(let{target:o}=a;o&&o!==this;o=o.parentNode)for(const u of s)if(u===o)return dP(a,{delegateTarget:o}),n.oneOff&&Xe.off(e,a.type,t,r),r.apply(o,[a])}}function ZQ(e,t,r=null){return Object.values(e).find(n=>n.callable===t&&n.delegationSelector===r)}function ez(e,t,r){const n=typeof t=="string",a=n?r:t||r;let s=tz(e);return Gte.has(s)||(s=e),[n,a,s]}function CC(e,t,r,n,a){if(typeof t!="string"||!e)return;let[s,o,u]=ez(t,r,n);t in JQ&&(o=(m=>function(y){if(!y.relatedTarget||y.relatedTarget!==y.delegateTarget&&!y.delegateTarget.contains(y.relatedTarget))return m.call(this,y)})(o));const l=YQ(e),c=l[u]||(l[u]={}),d=ZQ(c,o,s?r:null);if(d){d.oneOff=d.oneOff&&a;return}const f=XQ(o,t.replace(Hte,"")),h=s?Kte(e,r,o):Wte(e,o);h.delegationSelector=s?r:null,h.callable=o,h.oneOff=a,h.uidEvent=f,c[f]=h,e.addEventListener(u,h,s)}function px(e,t,r,n,a){const s=ZQ(t[r],n,a);s&&(e.removeEventListener(r,s,!!a),delete t[r][s.uidEvent])}function Jte(e,t,r,n){const a=t[r]||{};for(const[s,o]of Object.entries(a))s.includes(n)&&px(e,t,r,o.callable,o.delegationSelector)}function tz(e){return e=e.replace(Qte,""),JQ[e]||e}const Xe={on(e,t,r,n){CC(e,t,r,n,!1)},one(e,t,r,n){CC(e,t,r,n,!0)},off(e,t,r,n){if(typeof t!="string"||!e)return;const[a,s,o]=ez(t,r,n),u=o!==t,l=YQ(e),c=l[o]||{},d=t.startsWith(".");if(typeof s<"u"){if(!Object.keys(c).length)return;px(e,l,o,s,a?r:null);return}if(d)for(const f of Object.keys(l))Jte(e,l,f,t.slice(1));for(const[f,h]of Object.entries(c)){const p=f.replace(zte,"");(!u||t.includes(p))&&px(e,l,o,h.callable,h.delegationSelector)}},trigger(e,t,r){if(typeof t!="string"||!e)return null;const n=WQ(),a=tz(t),s=t!==a;let o=null,u=!0,l=!0,c=!1;s&&n&&(o=n.Event(t,r),n(e).trigger(o),u=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const d=dP(new Event(t,{bubbles:u,cancelable:!0}),r);return c&&d.preventDefault(),l&&e.dispatchEvent(d),d.defaultPrevented&&o&&o.preventDefault(),d}};function dP(e,t={}){for(const[r,n]of Object.entries(t))try{e[r]=n}catch{Object.defineProperty(e,r,{configurable:!0,get(){return n}})}return e}function LC(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function C2(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Ls={setDataAttribute(e,t,r){e.setAttribute(`data-bs-${C2(t)}`,r)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${C2(t)}`)},getDataAttributes(e){if(!e)return{};const t={},r=Object.keys(e.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of r){let a=n.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1,a.length),t[a]=LC(e.dataset[n])}return t},getDataAttribute(e,t){return LC(e.getAttribute(`data-bs-${C2(t)}`))}};class X_{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,r){const n=Cs(r)?Ls.getDataAttribute(r,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...Cs(r)?Ls.getDataAttributes(r):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,r=this.constructor.DefaultType){for(const[n,a]of Object.entries(r)){const s=t[n],o=Cs(s)?"element":$te(s);if(!new RegExp(a).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${o}" but expected type "${a}".`)}}}const Xte="5.3.3";class _a extends X_{constructor(t,r){super(),t=Ro(t),t&&(this._element=t,this._config=this._getConfig(r),P2.set(this._element,this.constructor.DATA_KEY,this))}dispose(){P2.remove(this._element,this.constructor.DATA_KEY),Xe.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,r,n=!0){KQ(t,r,n)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return P2.get(Ro(t),this.DATA_KEY)}static getOrCreateInstance(t,r={}){return this.getInstance(t)||new this(t,typeof r=="object"?r:null)}static get VERSION(){return Xte}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const L2=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let r=e.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),t=r&&r!=="#"?r.trim():null}return t?t.split(",").map(r=>QQ(r)).join(","):null},St={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(r=>r.matches(t))},parents(e,t){const r=[];let n=e.parentNode.closest(t);for(;n;)r.push(n),n=n.parentNode.closest(t);return r},prev(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return[r];r=r.previousElementSibling}return[]},next(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return[r];r=r.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(r=>`${r}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(r=>!xo(r)&&rd(r))},getSelectorFromElement(e){const t=L2(e);return t&&St.findOne(t)?t:null},getElementFromSelector(e){const t=L2(e);return t?St.findOne(t):null},getMultipleElementsFromSelector(e){const t=L2(e);return t?St.find(t):[]}},xw=(e,t="hide")=>{const r=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;Xe.on(document,r,`[data-bs-dismiss="${n}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),xo(this))return;const s=St.getElementFromSelector(this)||this.closest(`.${n}`);e.getOrCreateInstance(s)[t]()})},Yte="alert",Zte="bs.alert",rz=`.${Zte}`,ere=`close${rz}`,tre=`closed${rz}`,rre="fade",nre="show";class Iw extends _a{static get NAME(){return Yte}close(){if(Xe.trigger(this._element,ere).defaultPrevented)return;this._element.classList.remove(nre);const r=this._element.classList.contains(rre);this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),Xe.trigger(this._element,tre),this.dispose()}static jQueryInterface(t){return this.each(function(){const r=Iw.getOrCreateInstance(this);if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t](this)}})}}xw(Iw,"close");ea(Iw);const ire="button",are="bs.button",sre=`.${are}`,ore=".data-api",ure="active",jC='[data-bs-toggle="button"]',cre=`click${sre}${ore}`;class Pw extends _a{static get NAME(){return ire}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ure))}static jQueryInterface(t){return this.each(function(){const r=Pw.getOrCreateInstance(this);t==="toggle"&&r[t]()})}}Xe.on(document,cre,jC,e=>{e.preventDefault();const t=e.target.closest(jC);Pw.getOrCreateInstance(t).toggle()});ea(Pw);const lre="swipe",nd=".bs.swipe",dre=`touchstart${nd}`,fre=`touchmove${nd}`,hre=`touchend${nd}`,pre=`pointerdown${nd}`,yre=`pointerup${nd}`,mre="touch",gre="pen",_re="pointer-event",bre=40,vre={endCallback:null,leftCallback:null,rightCallback:null},wre={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Wv extends X_{constructor(t,r){super(),this._element=t,!(!t||!Wv.isSupported())&&(this._config=this._getConfig(r),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return vre}static get DefaultType(){return wre}static get NAME(){return lre}dispose(){Xe.off(this._element,nd)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),ci(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=bre)return;const r=t/this._deltaX;this._deltaX=0,r&&ci(r>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Xe.on(this._element,pre,t=>this._start(t)),Xe.on(this._element,yre,t=>this._end(t)),this._element.classList.add(_re)):(Xe.on(this._element,dre,t=>this._start(t)),Xe.on(this._element,fre,t=>this._move(t)),Xe.on(this._element,hre,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===gre||t.pointerType===mre)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Sre="carousel",Tre="bs.carousel",Fo=`.${Tre}`,nz=".data-api",Ere="ArrowLeft",Are="ArrowRight",Ore=500,$d="next",Bc="prev",Xc="left",mv="right",Rre=`slide${Fo}`,j2=`slid${Fo}`,xre=`keydown${Fo}`,Ire=`mouseenter${Fo}`,Pre=`mouseleave${Fo}`,Nre=`dragstart${Fo}`,Dre=`load${Fo}${nz}`,Cre=`click${Fo}${nz}`,iz="carousel",h1="active",Lre="slide",jre="carousel-item-end",Mre="carousel-item-start",Fre="carousel-item-next",qre="carousel-item-prev",az=".active",sz=".carousel-item",Bre=az+sz,$re=".carousel-item img",Ure=".carousel-indicators",kre="[data-bs-slide], [data-bs-slide-to]",Vre='[data-bs-ride="carousel"]',Hre={[Ere]:mv,[Are]:Xc},Qre={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},zre={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Y_ extends _a{constructor(t,r){super(t,r),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=St.findOne(Ure,this._element),this._addEventListeners(),this._config.ride===iz&&this.cycle()}static get Default(){return Qre}static get DefaultType(){return zre}static get NAME(){return Sre}next(){this._slide($d)}nextWhenVisible(){!document.hidden&&rd(this._element)&&this.next()}prev(){this._slide(Bc)}pause(){this._isSliding&&zQ(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Xe.one(this._element,j2,()=>this.cycle());return}this.cycle()}}to(t){const r=this._getItems();if(t>r.length-1||t<0)return;if(this._isSliding){Xe.one(this._element,j2,()=>this.to(t));return}const n=this._getItemIndex(this._getActive());if(n===t)return;const a=t>n?$d:Bc;this._slide(a,r[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Xe.on(this._element,xre,t=>this._keydown(t)),this._config.pause==="hover"&&(Xe.on(this._element,Ire,()=>this.pause()),Xe.on(this._element,Pre,()=>this._maybeEnableCycle())),this._config.touch&&Wv.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of St.find($re,this._element))Xe.on(n,Nre,a=>a.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(Xc)),rightCallback:()=>this._slide(this._directionToOrder(mv)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ore+this._config.interval))}};this._swipeHelper=new Wv(this._element,r)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const r=Hre[t.key];r&&(t.preventDefault(),this._slide(this._directionToOrder(r)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const r=St.findOne(az,this._indicatorsElement);r.classList.remove(h1),r.removeAttribute("aria-current");const n=St.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);n&&(n.classList.add(h1),n.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const r=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=r||this._config.defaultInterval}_slide(t,r=null){if(this._isSliding)return;const n=this._getActive(),a=t===$d,s=r||lP(this._getItems(),n,a,this._config.wrap);if(s===n)return;const o=this._getItemIndex(s),u=p=>Xe.trigger(this._element,p,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(n),to:o});if(u(Rre).defaultPrevented||!n||!s)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const d=a?Mre:jre,f=a?Fre:qre;s.classList.add(f),J_(s),n.classList.add(d),s.classList.add(d);const h=()=>{s.classList.remove(d,f),s.classList.add(h1),n.classList.remove(h1,f,d),this._isSliding=!1,u(j2)};this._queueCallback(h,n,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(Lre)}_getActive(){return St.findOne(Bre,this._element)}_getItems(){return St.find(sz,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Ji()?t===Xc?Bc:$d:t===Xc?$d:Bc}_orderToDirection(t){return Ji()?t===Bc?Xc:mv:t===Bc?mv:Xc}static jQueryInterface(t){return this.each(function(){const r=Y_.getOrCreateInstance(this,t);if(typeof t=="number"){r.to(t);return}if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t]()}})}}Xe.on(document,Cre,kre,function(e){const t=St.getElementFromSelector(this);if(!t||!t.classList.contains(iz))return;e.preventDefault();const r=Y_.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");if(n){r.to(n),r._maybeEnableCycle();return}if(Ls.getDataAttribute(this,"slide")==="next"){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()});Xe.on(window,Dre,()=>{const e=St.find(Vre);for(const t of e)Y_.getOrCreateInstance(t)});ea(Y_);const Gre="collapse",Wre="bs.collapse",Z_=`.${Wre}`,Kre=".data-api",Jre=`show${Z_}`,Xre=`shown${Z_}`,Yre=`hide${Z_}`,Zre=`hidden${Z_}`,ene=`click${Z_}${Kre}`,M2="show",il="collapse",p1="collapsing",tne="collapsed",rne=`:scope .${il} .${il}`,nne="collapse-horizontal",ine="width",ane="height",sne=".collapse.show, .collapse.collapsing",yx='[data-bs-toggle="collapse"]',one={parent:null,toggle:!0},une={parent:"(null|element)",toggle:"boolean"};class T_ extends _a{constructor(t,r){super(t,r),this._isTransitioning=!1,this._triggerArray=[];const n=St.find(yx);for(const a of n){const s=St.getSelectorFromElement(a),o=St.find(s).filter(u=>u===this._element);s!==null&&o.length&&this._triggerArray.push(a)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return one}static get DefaultType(){return une}static get NAME(){return Gre}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(sne).filter(u=>u!==this._element).map(u=>T_.getOrCreateInstance(u,{toggle:!1}))),t.length&&t[0]._isTransitioning||Xe.trigger(this._element,Jre).defaultPrevented)return;for(const u of t)u.hide();const n=this._getDimension();this._element.classList.remove(il),this._element.classList.add(p1),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(p1),this._element.classList.add(il,M2),this._element.style[n]="",Xe.trigger(this._element,Xre)},o=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(a,this._element,!0),this._element.style[n]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||Xe.trigger(this._element,Yre).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,J_(this._element),this._element.classList.add(p1),this._element.classList.remove(il,M2);for(const a of this._triggerArray){const s=St.getElementFromSelector(a);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(p1),this._element.classList.add(il),Xe.trigger(this._element,Zre)};this._element.style[r]="",this._queueCallback(n,this._element,!0)}_isShown(t=this._element){return t.classList.contains(M2)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Ro(t.parent),t}_getDimension(){return this._element.classList.contains(nne)?ine:ane}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(yx);for(const r of t){const n=St.getElementFromSelector(r);n&&this._addAriaAndCollapsedClass([r],this._isShown(n))}}_getFirstLevelChildren(t){const r=St.find(rne,this._config.parent);return St.find(t,this._config.parent).filter(n=>!r.includes(n))}_addAriaAndCollapsedClass(t,r){if(t.length)for(const n of t)n.classList.toggle(tne,!r),n.setAttribute("aria-expanded",r)}static jQueryInterface(t){const r={};return typeof t=="string"&&/show|hide/.test(t)&&(r.toggle=!1),this.each(function(){const n=T_.getOrCreateInstance(this,r);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}Xe.on(document,ene,yx,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of St.getMultipleElementsFromSelector(this))T_.getOrCreateInstance(t,{toggle:!1}).toggle()});ea(T_);const MC="dropdown",cne="bs.dropdown",yc=`.${cne}`,fP=".data-api",lne="Escape",FC="Tab",dne="ArrowUp",qC="ArrowDown",fne=2,hne=`hide${yc}`,pne=`hidden${yc}`,yne=`show${yc}`,mne=`shown${yc}`,oz=`click${yc}${fP}`,uz=`keydown${yc}${fP}`,gne=`keyup${yc}${fP}`,Yc="show",_ne="dropup",bne="dropend",vne="dropstart",wne="dropup-center",Sne="dropdown-center",Uu='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Tne=`${Uu}.${Yc}`,gv=".dropdown-menu",Ene=".navbar",Ane=".navbar-nav",One=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Rne=Ji()?"top-end":"top-start",xne=Ji()?"top-start":"top-end",Ine=Ji()?"bottom-end":"bottom-start",Pne=Ji()?"bottom-start":"bottom-end",Nne=Ji()?"left-start":"right-start",Dne=Ji()?"right-start":"left-start",Cne="top",Lne="bottom",jne={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Mne={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ba extends _a{constructor(t,r){super(t,r),this._popper=null,this._parent=this._element.parentNode,this._menu=St.next(this._element,gv)[0]||St.prev(this._element,gv)[0]||St.findOne(gv,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return jne}static get DefaultType(){return Mne}static get NAME(){return MC}toggle(){return this._isShown()?this.hide():this.show()}show(){if(xo(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!Xe.trigger(this._element,yne,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Ane))for(const n of[].concat(...document.body.children))Xe.on(n,"mouseover",Gv);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Yc),this._element.classList.add(Yc),Xe.trigger(this._element,mne,t)}}hide(){if(xo(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!Xe.trigger(this._element,hne,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))Xe.off(n,"mouseover",Gv);this._popper&&this._popper.destroy(),this._menu.classList.remove(Yc),this._element.classList.remove(Yc),this._element.setAttribute("aria-expanded","false"),Ls.removeDataAttribute(this._menu,"popper"),Xe.trigger(this._element,pne,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Cs(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${MC.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof HQ>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:Cs(this._config.reference)?t=Ro(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const r=this._getPopperConfig();this._popper=cP(t,this._menu,r)}_isShown(){return this._menu.classList.contains(Yc)}_getPlacement(){const t=this._parent;if(t.classList.contains(bne))return Nne;if(t.classList.contains(vne))return Dne;if(t.classList.contains(wne))return Cne;if(t.classList.contains(Sne))return Lne;const r=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(_ne)?r?xne:Rne:r?Pne:Ine}_detectNavbar(){return this._element.closest(Ene)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(r=>Number.parseInt(r,10)):typeof t=="function"?r=>t(r,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ls.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...ci(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:r}){const n=St.find(One,this._menu).filter(a=>rd(a));n.length&&lP(n,r,t===qC,!n.includes(r)).focus()}static jQueryInterface(t){return this.each(function(){const r=Ba.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}static clearMenus(t){if(t.button===fne||t.type==="keyup"&&t.key!==FC)return;const r=St.find(Tne);for(const n of r){const a=Ba.getInstance(n);if(!a||a._config.autoClose===!1)continue;const s=t.composedPath(),o=s.includes(a._menu);if(s.includes(a._element)||a._config.autoClose==="inside"&&!o||a._config.autoClose==="outside"&&o||a._menu.contains(t.target)&&(t.type==="keyup"&&t.key===FC||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const u={relatedTarget:a._element};t.type==="click"&&(u.clickEvent=t),a._completeHide(u)}}static dataApiKeydownHandler(t){const r=/input|textarea/i.test(t.target.tagName),n=t.key===lne,a=[dne,qC].includes(t.key);if(!a&&!n||r&&!n)return;t.preventDefault();const s=this.matches(Uu)?this:St.prev(this,Uu)[0]||St.next(this,Uu)[0]||St.findOne(Uu,t.delegateTarget.parentNode),o=Ba.getOrCreateInstance(s);if(a){t.stopPropagation(),o.show(),o._selectMenuItem(t);return}o._isShown()&&(t.stopPropagation(),o.hide(),s.focus())}}Xe.on(document,uz,Uu,Ba.dataApiKeydownHandler);Xe.on(document,uz,gv,Ba.dataApiKeydownHandler);Xe.on(document,oz,Ba.clearMenus);Xe.on(document,gne,Ba.clearMenus);Xe.on(document,oz,Uu,function(e){e.preventDefault(),Ba.getOrCreateInstance(this).toggle()});ea(Ba);const cz="backdrop",Fne="fade",BC="show",$C=`mousedown.bs.${cz}`,qne={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Bne={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class lz extends X_{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return qne}static get DefaultType(){return Bne}static get NAME(){return cz}show(t){if(!this._config.isVisible){ci(t);return}this._append();const r=this._getElement();this._config.isAnimated&&J_(r),r.classList.add(BC),this._emulateAnimation(()=>{ci(t)})}hide(t){if(!this._config.isVisible){ci(t);return}this._getElement().classList.remove(BC),this._emulateAnimation(()=>{this.dispose(),ci(t)})}dispose(){this._isAppended&&(Xe.off(this._element,$C),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Fne),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Ro(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),Xe.on(t,$C,()=>{ci(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){KQ(t,this._getElement(),this._config.isAnimated)}}const $ne="focustrap",Une="bs.focustrap",Kv=`.${Une}`,kne=`focusin${Kv}`,Vne=`keydown.tab${Kv}`,Hne="Tab",Qne="forward",UC="backward",zne={autofocus:!0,trapElement:null},Gne={autofocus:"boolean",trapElement:"element"};class dz extends X_{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return zne}static get DefaultType(){return Gne}static get NAME(){return $ne}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Xe.off(document,Kv),Xe.on(document,kne,t=>this._handleFocusin(t)),Xe.on(document,Vne,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Xe.off(document,Kv))}_handleFocusin(t){const{trapElement:r}=this._config;if(t.target===document||t.target===r||r.contains(t.target))return;const n=St.focusableChildren(r);n.length===0?r.focus():this._lastTabNavDirection===UC?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){t.key===Hne&&(this._lastTabNavDirection=t.shiftKey?UC:Qne)}}const kC=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",VC=".sticky-top",y1="padding-right",HC="margin-right";class mx{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,y1,r=>r+t),this._setElementAttributes(kC,y1,r=>r+t),this._setElementAttributes(VC,HC,r=>r-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,y1),this._resetElementAttributes(kC,y1),this._resetElementAttributes(VC,HC)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,r,n){const a=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+a)return;this._saveInitialAttribute(o,r);const u=window.getComputedStyle(o).getPropertyValue(r);o.style.setProperty(r,`${n(Number.parseFloat(u))}px`)};this._applyManipulationCallback(t,s)}_saveInitialAttribute(t,r){const n=t.style.getPropertyValue(r);n&&Ls.setDataAttribute(t,r,n)}_resetElementAttributes(t,r){const n=a=>{const s=Ls.getDataAttribute(a,r);if(s===null){a.style.removeProperty(r);return}Ls.removeDataAttribute(a,r),a.style.setProperty(r,s)};this._applyManipulationCallback(t,n)}_applyManipulationCallback(t,r){if(Cs(t)){r(t);return}for(const n of St.find(t,this._element))r(n)}}const Wne="modal",Kne="bs.modal",Xi=`.${Kne}`,Jne=".data-api",Xne="Escape",Yne=`hide${Xi}`,Zne=`hidePrevented${Xi}`,fz=`hidden${Xi}`,hz=`show${Xi}`,eie=`shown${Xi}`,tie=`resize${Xi}`,rie=`click.dismiss${Xi}`,nie=`mousedown.dismiss${Xi}`,iie=`keydown.dismiss${Xi}`,aie=`click${Xi}${Jne}`,QC="modal-open",sie="fade",zC="show",F2="modal-static",oie=".modal.show",uie=".modal-dialog",cie=".modal-body",lie='[data-bs-toggle="modal"]',die={backdrop:!0,focus:!0,keyboard:!0},fie={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Io extends _a{constructor(t,r){super(t,r),this._dialog=St.findOne(uie,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new mx,this._addEventListeners()}static get Default(){return die}static get DefaultType(){return fie}static get NAME(){return Wne}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Xe.trigger(this._element,hz,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(QC),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||Xe.trigger(this._element,Yne).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(zC),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Xe.off(window,Xi),Xe.off(this._dialog,Xi),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new lz({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new dz({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const r=St.findOne(cie,this._dialog);r&&(r.scrollTop=0),J_(this._element),this._element.classList.add(zC);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Xe.trigger(this._element,eie,{relatedTarget:t})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){Xe.on(this._element,iie,t=>{if(t.key===Xne){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Xe.on(window,tie,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Xe.on(this._element,nie,t=>{Xe.one(this._element,rie,r=>{if(!(this._element!==t.target||this._element!==r.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(QC),this._resetAdjustments(),this._scrollBar.reset(),Xe.trigger(this._element,fz)})}_isAnimated(){return this._element.classList.contains(sie)}_triggerBackdropTransition(){if(Xe.trigger(this._element,Zne).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(F2)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(F2),this._queueCallback(()=>{this._element.classList.remove(F2),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._scrollBar.getWidth(),n=r>0;if(n&&!t){const a=Ji()?"paddingLeft":"paddingRight";this._element.style[a]=`${r}px`}if(!n&&t){const a=Ji()?"paddingRight":"paddingLeft";this._element.style[a]=`${r}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,r){return this.each(function(){const n=Io.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](r)}})}}Xe.on(document,aie,lie,function(e){const t=St.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),Xe.one(t,hz,a=>{a.defaultPrevented||Xe.one(t,fz,()=>{rd(this)&&this.focus()})});const r=St.findOne(oie);r&&Io.getInstance(r).hide(),Io.getOrCreateInstance(t).toggle(this)});xw(Io);ea(Io);const hie="offcanvas",pie="bs.offcanvas",zs=`.${pie}`,pz=".data-api",yie=`load${zs}${pz}`,mie="Escape",GC="show",WC="showing",KC="hiding",gie="offcanvas-backdrop",yz=".offcanvas.show",_ie=`show${zs}`,bie=`shown${zs}`,vie=`hide${zs}`,JC=`hidePrevented${zs}`,mz=`hidden${zs}`,wie=`resize${zs}`,Sie=`click${zs}${pz}`,Tie=`keydown.dismiss${zs}`,Eie='[data-bs-toggle="offcanvas"]',Aie={backdrop:!0,keyboard:!0,scroll:!1},Oie={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Po extends _a{constructor(t,r){super(t,r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Aie}static get DefaultType(){return Oie}static get NAME(){return hie}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||Xe.trigger(this._element,_ie,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new mx().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(WC);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(GC),this._element.classList.remove(WC),Xe.trigger(this._element,bie,{relatedTarget:t})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||Xe.trigger(this._element,vie).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(KC),this._backdrop.hide();const r=()=>{this._element.classList.remove(GC,KC),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new mx().reset(),Xe.trigger(this._element,mz)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){Xe.trigger(this._element,JC);return}this.hide()},r=!!this._config.backdrop;return new lz({className:gie,isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?t:null})}_initializeFocusTrap(){return new dz({trapElement:this._element})}_addEventListeners(){Xe.on(this._element,Tie,t=>{if(t.key===mie){if(this._config.keyboard){this.hide();return}Xe.trigger(this._element,JC)}})}static jQueryInterface(t){return this.each(function(){const r=Po.getOrCreateInstance(this,t);if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t](this)}})}}Xe.on(document,Sie,Eie,function(e){const t=St.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),xo(this))return;Xe.one(t,mz,()=>{rd(this)&&this.focus()});const r=St.findOne(yz);r&&r!==t&&Po.getInstance(r).hide(),Po.getOrCreateInstance(t).toggle(this)});Xe.on(window,yie,()=>{for(const e of St.find(yz))Po.getOrCreateInstance(e).show()});Xe.on(window,wie,()=>{for(const e of St.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&Po.getOrCreateInstance(e).hide()});xw(Po);ea(Po);const Rie=/^aria-[\w-]*$/i,gz={"*":["class","dir","id","lang","role",Rie],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},xie=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Iie=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Pie=(e,t)=>{const r=e.nodeName.toLowerCase();return t.includes(r)?xie.has(r)?!!Iie.test(e.nodeValue):!0:t.filter(n=>n instanceof RegExp).some(n=>n.test(r))};function Nie(e,t,r){if(!e.length)return e;if(r&&typeof r=="function")return r(e);const a=new window.DOMParser().parseFromString(e,"text/html"),s=[].concat(...a.body.querySelectorAll("*"));for(const o of s){const u=o.nodeName.toLowerCase();if(!Object.keys(t).includes(u)){o.remove();continue}const l=[].concat(...o.attributes),c=[].concat(t["*"]||[],t[u]||[]);for(const d of l)Pie(d,c)||o.removeAttribute(d.nodeName)}return a.body.innerHTML}const Die="TemplateFactory",Cie={allowList:gz,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Lie={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},jie={entry:"(string|element|function|null)",selector:"(string|element)"};class Mie extends X_{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Cie}static get DefaultType(){return Lie}static get NAME(){return Die}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[a,s]of Object.entries(this._config.content))this._setContent(t,s,a);const r=t.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&r.classList.add(...n.split(" ")),r}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[r,n]of Object.entries(t))super._typeCheckConfig({selector:r,entry:n},jie)}_setContent(t,r,n){const a=St.findOne(n,t);if(a){if(r=this._resolvePossibleFunction(r),!r){a.remove();return}if(Cs(r)){this._putElementInTemplate(Ro(r),a);return}if(this._config.html){a.innerHTML=this._maybeSanitize(r);return}a.textContent=r}}_maybeSanitize(t){return this._config.sanitize?Nie(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return ci(t,[this])}_putElementInTemplate(t,r){if(this._config.html){r.innerHTML="",r.append(t);return}r.textContent=t.textContent}}const Fie="tooltip",qie=new Set(["sanitize","allowList","sanitizeFn"]),q2="fade",Bie="modal",m1="show",$ie=".tooltip-inner",XC=`.${Bie}`,YC="hide.bs.modal",Ud="hover",B2="focus",Uie="click",kie="manual",Vie="hide",Hie="hidden",Qie="show",zie="shown",Gie="inserted",Wie="click",Kie="focusin",Jie="focusout",Xie="mouseenter",Yie="mouseleave",Zie={AUTO:"auto",TOP:"top",RIGHT:Ji()?"left":"right",BOTTOM:"bottom",LEFT:Ji()?"right":"left"},eae={allowList:gz,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},tae={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class id extends _a{constructor(t,r){if(typeof HQ>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,r),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return eae}static get DefaultType(){return tae}static get NAME(){return Fie}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Xe.off(this._element.closest(XC),YC,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=Xe.trigger(this._element,this.constructor.eventName(Qie)),n=(GQ(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!n)return;this._disposePopper();const a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(a),Xe.trigger(this._element,this.constructor.eventName(Gie))),this._popper=this._createPopper(a),a.classList.add(m1),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))Xe.on(u,"mouseover",Gv);const o=()=>{Xe.trigger(this._element,this.constructor.eventName(zie)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Xe.trigger(this._element,this.constructor.eventName(Vie)).defaultPrevented)return;if(this._getTipElement().classList.remove(m1),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))Xe.off(a,"mouseover",Gv);this._activeTrigger[Uie]=!1,this._activeTrigger[B2]=!1,this._activeTrigger[Ud]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Xe.trigger(this._element,this.constructor.eventName(Hie)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const r=this._getTemplateFactory(t).toHtml();if(!r)return null;r.classList.remove(q2,m1),r.classList.add(`bs-${this.constructor.NAME}-auto`);const n=Ute(this.constructor.NAME).toString();return r.setAttribute("id",n),this._isAnimated()&&r.classList.add(q2),r}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Mie({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[$ie]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(q2)}_isShown(){return this.tip&&this.tip.classList.contains(m1)}_createPopper(t){const r=ci(this._config.placement,[this,t,this._element]),n=Zie[r.toUpperCase()];return cP(this._element,t,this._getPopperConfig(n))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(r=>Number.parseInt(r,10)):typeof t=="function"?r=>t(r,this._element):t}_resolvePossibleFunction(t){return ci(t,[this._element])}_getPopperConfig(t){const r={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...r,...ci(this._config.popperConfig,[r])}}_setListeners(){const t=this._config.trigger.split(" ");for(const r of t)if(r==="click")Xe.on(this._element,this.constructor.eventName(Wie),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(r!==kie){const n=r===Ud?this.constructor.eventName(Xie):this.constructor.eventName(Kie),a=r===Ud?this.constructor.eventName(Yie):this.constructor.eventName(Jie);Xe.on(this._element,n,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusin"?B2:Ud]=!0,o._enter()}),Xe.on(this._element,a,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusout"?B2:Ud]=o._element.contains(s.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Xe.on(this._element.closest(XC),YC,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,r){clearTimeout(this._timeout),this._timeout=setTimeout(t,r)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const r=Ls.getDataAttributes(this._element);for(const n of Object.keys(r))qie.has(n)&&delete r[n];return t={...r,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:Ro(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[r,n]of Object.entries(this._config))this.constructor.Default[r]!==n&&(t[r]=n);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const r=id.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}ea(id);const rae="popover",nae=".popover-header",iae=".popover-body",aae={...id.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},sae={...id.DefaultType,content:"(null|string|element|function)"};class hP extends id{static get Default(){return aae}static get DefaultType(){return sae}static get NAME(){return rae}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[nae]:this._getTitle(),[iae]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const r=hP.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}ea(hP);const oae="scrollspy",uae="bs.scrollspy",pP=`.${uae}`,cae=".data-api",lae=`activate${pP}`,ZC=`click${pP}`,dae=`load${pP}${cae}`,fae="dropdown-item",$c="active",hae='[data-bs-spy="scroll"]',$2="[href]",pae=".nav, .list-group",e4=".nav-link",yae=".nav-item",mae=".list-group-item",gae=`${e4}, ${yae} > ${e4}, ${mae}`,_ae=".dropdown",bae=".dropdown-toggle",vae={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},wae={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Nw extends _a{constructor(t,r){super(t,r),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return vae}static get DefaultType(){return wae}static get NAME(){return oae}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Ro(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(r=>Number.parseFloat(r))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Xe.off(this._config.target,ZC),Xe.on(this._config.target,ZC,$2,t=>{const r=this._observableSections.get(t.target.hash);if(r){t.preventDefault();const n=this._rootElement||window,a=r.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:a,behavior:"smooth"});return}n.scrollTop=a}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(r=>this._observerCallback(r),t)}_observerCallback(t){const r=o=>this._targetLinks.get(`#${o.target.id}`),n=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(r(o))},a=(this._rootElement||document.documentElement).scrollTop,s=a>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=a;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(r(o));continue}const u=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&u){if(n(o),!a)return;continue}!s&&!u&&n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=St.find($2,this._config.target);for(const r of t){if(!r.hash||xo(r))continue;const n=St.findOne(decodeURI(r.hash),this._element);rd(n)&&(this._targetLinks.set(decodeURI(r.hash),r),this._observableSections.set(r.hash,n))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add($c),this._activateParents(t),Xe.trigger(this._element,lae,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(fae)){St.findOne(bae,t.closest(_ae)).classList.add($c);return}for(const r of St.parents(t,pae))for(const n of St.prev(r,gae))n.classList.add($c)}_clearActiveClass(t){t.classList.remove($c);const r=St.find(`${$2}.${$c}`,t);for(const n of r)n.classList.remove($c)}static jQueryInterface(t){return this.each(function(){const r=Nw.getOrCreateInstance(this,t);if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t]()}})}}Xe.on(window,dae,()=>{for(const e of St.find(hae))Nw.getOrCreateInstance(e)});ea(Nw);const Sae="tab",Tae="bs.tab",mc=`.${Tae}`,Eae=`hide${mc}`,Aae=`hidden${mc}`,Oae=`show${mc}`,Rae=`shown${mc}`,xae=`click${mc}`,Iae=`keydown${mc}`,Pae=`load${mc}`,Nae="ArrowLeft",t4="ArrowRight",Dae="ArrowUp",r4="ArrowDown",U2="Home",n4="End",ku="active",i4="fade",k2="show",Cae="dropdown",_z=".dropdown-toggle",Lae=".dropdown-menu",V2=`:not(${_z})`,jae='.list-group, .nav, [role="tablist"]',Mae=".nav-item, .list-group-item",Fae=`.nav-link${V2}, .list-group-item${V2}, [role="tab"]${V2}`,bz='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',H2=`${Fae}, ${bz}`,qae=`.${ku}[data-bs-toggle="tab"], .${ku}[data-bs-toggle="pill"], .${ku}[data-bs-toggle="list"]`;class Ll extends _a{constructor(t){super(t),this._parent=this._element.closest(jae),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Xe.on(this._element,Iae,r=>this._keydown(r)))}static get NAME(){return Sae}show(){const t=this._element;if(this._elemIsActive(t))return;const r=this._getActiveElem(),n=r?Xe.trigger(r,Eae,{relatedTarget:t}):null;Xe.trigger(t,Oae,{relatedTarget:r}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(r,t),this._activate(t,r))}_activate(t,r){if(!t)return;t.classList.add(ku),this._activate(St.getElementFromSelector(t));const n=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(k2);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Xe.trigger(t,Rae,{relatedTarget:r})};this._queueCallback(n,t,t.classList.contains(i4))}_deactivate(t,r){if(!t)return;t.classList.remove(ku),t.blur(),this._deactivate(St.getElementFromSelector(t));const n=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(k2);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Xe.trigger(t,Aae,{relatedTarget:r})};this._queueCallback(n,t,t.classList.contains(i4))}_keydown(t){if(![Nae,t4,Dae,r4,U2,n4].includes(t.key))return;t.stopPropagation(),t.preventDefault();const r=this._getChildren().filter(a=>!xo(a));let n;if([U2,n4].includes(t.key))n=r[t.key===U2?0:r.length-1];else{const a=[t4,r4].includes(t.key);n=lP(r,t.target,a,!0)}n&&(n.focus({preventScroll:!0}),Ll.getOrCreateInstance(n).show())}_getChildren(){return St.find(H2,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,r){this._setAttributeIfNotExists(t,"role","tablist");for(const n of r)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const r=this._elemIsActive(t),n=this._getOuterElement(t);t.setAttribute("aria-selected",r),n!==t&&this._setAttributeIfNotExists(n,"role","presentation"),r||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const r=St.getElementFromSelector(t);r&&(this._setAttributeIfNotExists(r,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(r,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,r){const n=this._getOuterElement(t);if(!n.classList.contains(Cae))return;const a=(s,o)=>{const u=St.findOne(s,n);u&&u.classList.toggle(o,r)};a(_z,ku),a(Lae,k2),n.setAttribute("aria-expanded",r)}_setAttributeIfNotExists(t,r,n){t.hasAttribute(r)||t.setAttribute(r,n)}_elemIsActive(t){return t.classList.contains(ku)}_getInnerElement(t){return t.matches(H2)?t:St.findOne(H2,t)}_getOuterElement(t){return t.closest(Mae)||t}static jQueryInterface(t){return this.each(function(){const r=Ll.getOrCreateInstance(this);if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t]()}})}}Xe.on(document,xae,bz,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!xo(this)&&Ll.getOrCreateInstance(this).show()});Xe.on(window,Pae,()=>{for(const e of St.find(qae))Ll.getOrCreateInstance(e)});ea(Ll);const Bae="toast",$ae="bs.toast",qo=`.${$ae}`,Uae=`mouseover${qo}`,kae=`mouseout${qo}`,Vae=`focusin${qo}`,Hae=`focusout${qo}`,Qae=`hide${qo}`,zae=`hidden${qo}`,Gae=`show${qo}`,Wae=`shown${qo}`,Kae="fade",a4="hide",g1="show",_1="showing",Jae={animation:"boolean",autohide:"boolean",delay:"number"},Xae={animation:!0,autohide:!0,delay:5e3};class Dw extends _a{constructor(t,r){super(t,r),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Xae}static get DefaultType(){return Jae}static get NAME(){return Bae}show(){if(Xe.trigger(this._element,Gae).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Kae);const r=()=>{this._element.classList.remove(_1),Xe.trigger(this._element,Wae),this._maybeScheduleHide()};this._element.classList.remove(a4),J_(this._element),this._element.classList.add(g1,_1),this._queueCallback(r,this._element,this._config.animation)}hide(){if(!this.isShown()||Xe.trigger(this._element,Qae).defaultPrevented)return;const r=()=>{this._element.classList.add(a4),this._element.classList.remove(_1,g1),Xe.trigger(this._element,zae)};this._element.classList.add(_1),this._queueCallback(r,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(g1),super.dispose()}isShown(){return this._element.classList.contains(g1)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,r){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=r;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=r;break}}if(r){this._clearTimeout();return}const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){Xe.on(this._element,Uae,t=>this._onInteraction(t,!0)),Xe.on(this._element,kae,t=>this._onInteraction(t,!1)),Xe.on(this._element,Vae,t=>this._onInteraction(t,!0)),Xe.on(this._element,Hae,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const r=Dw.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](this)}})}}xw(Dw);ea(Dw);const gx=globalThis||void 0||self;/**
* @vue/shared v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Cw(e,t){const r=new Set(e.split(","));return t?n=>r.has(n.toLowerCase()):n=>r.has(n)}const sr={},ll=[],li=()=>{},Yae=()=>!1,eb=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),yP=e=>e.startsWith("onUpdate:"),Nr=Object.assign,mP=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Zae=Object.prototype.hasOwnProperty,Jt=(e,t)=>Zae.call(e,t),yt=Array.isArray,dl=e=>ad(e)==="[object Map]",gc=e=>ad(e)==="[object Set]",s4=e=>ad(e)==="[object Date]",ese=e=>ad(e)==="[object RegExp]",Rt=e=>typeof e=="function",Dr=e=>typeof e=="string",$s=e=>typeof e=="symbol",cr=e=>e!==null&&typeof e=="object",gP=e=>(cr(e)||Rt(e))&&Rt(e.then)&&Rt(e.catch),vz=Object.prototype.toString,ad=e=>vz.call(e),tse=e=>ad(e).slice(8,-1),wz=e=>ad(e)==="[object Object]",_P=e=>Dr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fl=Cw(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lw=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},rse=/-(\w)/g,fi=Lw(e=>e.replace(rse,(t,r)=>r?r.toUpperCase():"")),nse=/\B([A-Z])/g,Ei=Lw(e=>e.replace(nse,"-$1").toLowerCase()),jw=Lw(e=>e.charAt(0).toUpperCase()+e.slice(1)),_v=Lw(e=>e?`on${jw(e)}`:""),pa=(e,t)=>!Object.is(e,t),hl=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Sz=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Jv=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Xv=e=>{const t=Dr(e)?Number(e):NaN;return isNaN(t)?e:t};let o4;const Tz=()=>o4||(o4=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof gx<"u"?gx:{}),ise="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",ase=Cw(ise);function tb(e){if(yt(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],a=Dr(n)?cse(n):tb(n);if(a)for(const s in a)t[s]=a[s]}return t}else if(Dr(e)||cr(e))return e}const sse=/;(?![^(]*\))/g,ose=/:([^]+)/,use=/\/\*[^]*?\*\//g;function cse(e){const t={};return e.replace(use,"").split(sse).forEach(r=>{if(r){const n=r.split(ose);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function nc(e){let t="";if(Dr(e))t=e;else if(yt(e))for(let r=0;r<e.length;r++){const n=nc(e[r]);n&&(t+=n+" ")}else if(cr(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function SLe(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Dr(t)&&(e.class=nc(t)),r&&(e.style=tb(r)),e}const lse="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dse=Cw(lse);function Ez(e){return!!e||e===""}function fse(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=No(e[n],t[n]);return r}function No(e,t){if(e===t)return!0;let r=s4(e),n=s4(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=$s(e),n=$s(t),r||n)return e===t;if(r=yt(e),n=yt(t),r||n)return r&&n?fse(e,t):!1;if(r=cr(e),n=cr(t),r||n){if(!r||!n)return!1;const a=Object.keys(e).length,s=Object.keys(t).length;if(a!==s)return!1;for(const o in e){const u=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(u&&!l||!u&&l||!No(e[o],t[o]))return!1}}return String(e)===String(t)}function Mw(e,t){return e.findIndex(r=>No(r,t))}const u4=e=>Dr(e)?e:e==null?"":yt(e)||cr(e)&&(e.toString===vz||!Rt(e.toString))?JSON.stringify(e,Az,2):String(e),Az=(e,t)=>t&&t.__v_isRef?Az(e,t.value):dl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,a],s)=>(r[Q2(n,s)+" =>"]=a,r),{})}:gc(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Q2(r))}:$s(t)?Q2(t):cr(t)&&!yt(t)&&!wz(t)?String(t):t,Q2=(e,t="")=>{var r;return $s(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wi;class Oz{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=wi,!t&&wi&&(this.index=(wi.scopes||(wi.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=wi;try{return wi=this,t()}finally{wi=r}}}on(){wi=this}off(){wi=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function Rz(e){return new Oz(e)}function xz(e,t=wi){t&&t.active&&t.effects.push(e)}function Iz(){return wi}function hse(e){wi&&wi.cleanups.push(e)}let Ju;class E_{constructor(t,r,n,a){this.fn=t,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,xz(this,a)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Bo();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(pse(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),$o()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=So,r=Ju;try{return So=!0,Ju=this,this._runnings++,c4(this),this.fn()}finally{l4(this),this._runnings--,Ju=r,So=t}}stop(){var t;this.active&&(c4(this),l4(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function pse(e){return e.value}function c4(e){e._trackId++,e._depsLength=0}function l4(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Pz(e.deps[t],e);e.deps.length=e._depsLength}}function Pz(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}function TLe(e,t){e.effect instanceof E_&&(e=e.effect.fn);const r=new E_(e,li,()=>{r.dirty&&r.run()});t&&(Nr(r,t),t.scope&&xz(r,t.scope)),(!t||!t.lazy)&&r.run();const n=r.run.bind(r);return n.effect=r,n}function ELe(e){e.effect.stop()}let So=!0,_x=0;const Nz=[];function Bo(){Nz.push(So),So=!1}function $o(){const e=Nz.pop();So=e===void 0?!0:e}function bP(){_x++}function vP(){for(_x--;!_x&&bx.length;)bx.shift()()}function Dz(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&Pz(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const bx=[];function Cz(e,t,r){bP();for(const n of e.keys()){let a;n._dirtyLevel<t&&(a??(a=e.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=t),n._shouldSchedule&&(a??(a=e.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&bx.push(n.scheduler)))}vP()}const Lz=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},Yv=new WeakMap,Xu=Symbol(""),vx=Symbol("");function hi(e,t,r){if(So&&Ju){let n=Yv.get(e);n||Yv.set(e,n=new Map);let a=n.get(r);a||n.set(r,a=Lz(()=>n.delete(r))),Dz(Ju,a)}}function js(e,t,r,n,a,s){const o=Yv.get(e);if(!o)return;let u=[];if(t==="clear")u=[...o.values()];else if(r==="length"&&yt(e)){const l=Number(n);o.forEach((c,d)=>{(d==="length"||!$s(d)&&d>=l)&&u.push(c)})}else switch(r!==void 0&&u.push(o.get(r)),t){case"add":yt(e)?_P(r)&&u.push(o.get("length")):(u.push(o.get(Xu)),dl(e)&&u.push(o.get(vx)));break;case"delete":yt(e)||(u.push(o.get(Xu)),dl(e)&&u.push(o.get(vx)));break;case"set":dl(e)&&u.push(o.get(Xu));break}bP();for(const l of u)l&&Cz(l,4);vP()}function yse(e,t){var r;return(r=Yv.get(e))==null?void 0:r.get(t)}const mse=Cw("__proto__,__v_isRef,__isVue"),jz=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($s)),d4=gse();function gse(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Gt(this);for(let s=0,o=this.length;s<o;s++)hi(n,"get",s+"");const a=n[t](...r);return a===-1||a===!1?n[t](...r.map(Gt)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Bo(),bP();const n=Gt(this)[t].apply(this,r);return vP(),$o(),n}}),e}function _se(e){$s(e)||(e=String(e));const t=Gt(this);return hi(t,"has",e),t.hasOwnProperty(e)}class Mz{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){const a=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(a?s?kz:Uz:s?$z:Bz).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=yt(t);if(!a){if(o&&Jt(d4,r))return Reflect.get(d4,r,n);if(r==="hasOwnProperty")return _se}const u=Reflect.get(t,r,n);return($s(r)?jz.has(r):mse(r))||(a||hi(t,"get",r),s)?u:Yr(u)?o&&_P(r)?u:u.value:cr(u)?a?Hz(u):rb(u):u}}class Fz extends Mz{constructor(t=!1){super(!1,t)}set(t,r,n,a){let s=t[r];if(!this._isShallow){const l=A_(s);if(!Zv(n)&&!A_(n)&&(s=Gt(s),n=Gt(n)),!yt(t)&&Yr(s)&&!Yr(n))return l?!1:(s.value=n,!0)}const o=yt(t)&&_P(r)?Number(r)<t.length:Jt(t,r),u=Reflect.set(t,r,n,a);return t===Gt(a)&&(o?pa(n,s)&&js(t,"set",r,n):js(t,"add",r,n)),u}deleteProperty(t,r){const n=Jt(t,r);t[r];const a=Reflect.deleteProperty(t,r);return a&&n&&js(t,"delete",r,void 0),a}has(t,r){const n=Reflect.has(t,r);return(!$s(r)||!jz.has(r))&&hi(t,"has",r),n}ownKeys(t){return hi(t,"iterate",yt(t)?"length":Xu),Reflect.ownKeys(t)}}class qz extends Mz{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const bse=new Fz,vse=new qz,wse=new Fz(!0),Sse=new qz(!0),wP=e=>e,Fw=e=>Reflect.getPrototypeOf(e);function b1(e,t,r=!1,n=!1){e=e.__v_raw;const a=Gt(e),s=Gt(t);r||(pa(t,s)&&hi(a,"get",t),hi(a,"get",s));const{has:o}=Fw(a),u=n?wP:r?TP:O_;if(o.call(a,t))return u(e.get(t));if(o.call(a,s))return u(e.get(s));e!==a&&e.get(t)}function v1(e,t=!1){const r=this.__v_raw,n=Gt(r),a=Gt(e);return t||(pa(e,a)&&hi(n,"has",e),hi(n,"has",a)),e===a?r.has(e):r.has(e)||r.has(a)}function w1(e,t=!1){return e=e.__v_raw,!t&&hi(Gt(e),"iterate",Xu),Reflect.get(e,"size",e)}function f4(e){e=Gt(e);const t=Gt(this);return Fw(t).has.call(t,e)||(t.add(e),js(t,"add",e,e)),this}function h4(e,t){t=Gt(t);const r=Gt(this),{has:n,get:a}=Fw(r);let s=n.call(r,e);s||(e=Gt(e),s=n.call(r,e));const o=a.call(r,e);return r.set(e,t),s?pa(t,o)&&js(r,"set",e,t):js(r,"add",e,t),this}function p4(e){const t=Gt(this),{has:r,get:n}=Fw(t);let a=r.call(t,e);a||(e=Gt(e),a=r.call(t,e)),n&&n.call(t,e);const s=t.delete(e);return a&&js(t,"delete",e,void 0),s}function y4(){const e=Gt(this),t=e.size!==0,r=e.clear();return t&&js(e,"clear",void 0,void 0),r}function S1(e,t){return function(n,a){const s=this,o=s.__v_raw,u=Gt(o),l=t?wP:e?TP:O_;return!e&&hi(u,"iterate",Xu),o.forEach((c,d)=>n.call(a,l(c),l(d),s))}}function T1(e,t,r){return function(...n){const a=this.__v_raw,s=Gt(a),o=dl(s),u=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=a[e](...n),d=r?wP:t?TP:O_;return!t&&hi(s,"iterate",l?vx:Xu),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:u?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function to(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Tse(){const e={get(s){return b1(this,s)},get size(){return w1(this)},has:v1,add:f4,set:h4,delete:p4,clear:y4,forEach:S1(!1,!1)},t={get(s){return b1(this,s,!1,!0)},get size(){return w1(this)},has:v1,add:f4,set:h4,delete:p4,clear:y4,forEach:S1(!1,!0)},r={get(s){return b1(this,s,!0)},get size(){return w1(this,!0)},has(s){return v1.call(this,s,!0)},add:to("add"),set:to("set"),delete:to("delete"),clear:to("clear"),forEach:S1(!0,!1)},n={get(s){return b1(this,s,!0,!0)},get size(){return w1(this,!0)},has(s){return v1.call(this,s,!0)},add:to("add"),set:to("set"),delete:to("delete"),clear:to("clear"),forEach:S1(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=T1(s,!1,!1),r[s]=T1(s,!0,!1),t[s]=T1(s,!1,!0),n[s]=T1(s,!0,!0)}),[e,r,t,n]}const[Ese,Ase,Ose,Rse]=Tse();function qw(e,t){const r=t?e?Rse:Ose:e?Ase:Ese;return(n,a,s)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(Jt(r,a)&&a in n?r:n,a,s)}const xse={get:qw(!1,!1)},Ise={get:qw(!1,!0)},Pse={get:qw(!0,!1)},Nse={get:qw(!0,!0)},Bz=new WeakMap,$z=new WeakMap,Uz=new WeakMap,kz=new WeakMap;function Dse(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cse(e){return e.__v_skip||!Object.isExtensible(e)?0:Dse(tse(e))}function rb(e){return A_(e)?e:Bw(e,!1,bse,xse,Bz)}function Vz(e){return Bw(e,!1,wse,Ise,$z)}function Hz(e){return Bw(e,!0,vse,Pse,Uz)}function ALe(e){return Bw(e,!0,Sse,Nse,kz)}function Bw(e,t,r,n,a){if(!cr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=a.get(e);if(s)return s;const o=Cse(e);if(o===0)return e;const u=new Proxy(e,o===2?n:r);return a.set(e,u),u}function Yu(e){return A_(e)?Yu(e.__v_raw):!!(e&&e.__v_isReactive)}function A_(e){return!!(e&&e.__v_isReadonly)}function Zv(e){return!!(e&&e.__v_isShallow)}function Qz(e){return e?!!e.__v_raw:!1}function Gt(e){const t=e&&e.__v_raw;return t?Gt(t):e}function SP(e){return Object.isExtensible(e)&&Sz(e,"__v_skip",!0),e}const O_=e=>cr(e)?rb(e):e,TP=e=>cr(e)?Hz(e):e;class zz{constructor(t,r,n,a){this.getter=t,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new E_(()=>t(this._value),()=>pl(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=n}get value(){const t=Gt(this);return(!t._cacheable||t.effect.dirty)&&pa(t._value,t._value=t.effect.run())&&pl(t,4),EP(t),t.effect._dirtyLevel>=2&&pl(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Lse(e,t,r=!1){let n,a;const s=Rt(e);return s?(n=e,a=li):(n=e.get,a=e.set),new zz(n,a,s||!a,r)}function EP(e){var t;So&&Ju&&(e=Gt(e),Dz(Ju,(t=e.dep)!=null?t:e.dep=Lz(()=>e.dep=void 0,e instanceof zz?e:void 0)))}function pl(e,t=4,r){e=Gt(e);const n=e.dep;n&&Cz(n,t)}function Yr(e){return!!(e&&e.__v_isRef===!0)}function Ms(e){return Gz(e,!1)}function jse(e){return Gz(e,!0)}function Gz(e,t){return Yr(e)?e:new Mse(e,t)}class Mse{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Gt(t),this._value=r?t:O_(t)}get value(){return EP(this),this._value}set value(t){const r=this.__v_isShallow||Zv(t)||A_(t);t=r?t:Gt(t),pa(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:O_(t),pl(this,4))}}function OLe(e){pl(e,4)}function wr(e){return Yr(e)?e.value:e}function RLe(e){return Rt(e)?e():wr(e)}const Fse={get:(e,t,r)=>wr(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const a=e[t];return Yr(a)&&!Yr(r)?(a.value=r,!0):Reflect.set(e,t,r,n)}};function Wz(e){return Yu(e)?e:new Proxy(e,Fse)}class qse{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=t(()=>EP(this),()=>pl(this));this._get=r,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function Bse(e){return new qse(e)}function $se(e){const t=yt(e)?new Array(e.length):{};for(const r in e)t[r]=Kz(e,r);return t}class Use{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return yse(Gt(this._object),this._key)}}class kse{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function xLe(e,t,r){return Yr(e)?e:Rt(e)?new kse(e):cr(e)&&arguments.length>1?Kz(e,t,r):Ms(e)}function Kz(e,t,r){const n=e[t];return Yr(n)?n:new Use(e,t,r)}const ILe={GET:"get",HAS:"has",ITERATE:"iterate"},PLe={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function NLe(e,t){}const DLe={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},Vse={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function To(e,t,r,n){try{return n?e(...n):e()}catch(a){sd(a,t,r)}}function zi(e,t,r,n){if(Rt(e)){const a=To(e,t,r,n);return a&&gP(a)&&a.catch(s=>{sd(s,t,r)}),a}if(yt(e)){const a=[];for(let s=0;s<e.length;s++)a.push(zi(e[s],t,r,n));return a}}function sd(e,t,r,n=!0){const a=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const c=s.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,o,u)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){Bo(),To(l,null,10,[e,o,u]),$o();return}}Hse(e,r,a,n)}function Hse(e,t,r,n=!0){console.error(e)}let R_=!1,wx=!1;const Pn=[];let La=0;const yl=[];let po=null,ju=0;const Jz=Promise.resolve();let AP=null;function nb(e){const t=AP||Jz;return e?t.then(this?e.bind(this):e):t}function Qse(e){let t=La+1,r=Pn.length;for(;t<r;){const n=t+r>>>1,a=Pn[n],s=x_(a);s<e||s===e&&a.pre?t=n+1:r=n}return t}function $w(e){(!Pn.length||!Pn.includes(e,R_&&e.allowRecurse?La+1:La))&&(e.id==null?Pn.push(e):Pn.splice(Qse(e.id),0,e),Xz())}function Xz(){!R_&&!wx&&(wx=!0,AP=Jz.then(Yz))}function zse(e){const t=Pn.indexOf(e);t>La&&Pn.splice(t,1)}function Sx(e){yt(e)?yl.push(...e):(!po||!po.includes(e,e.allowRecurse?ju+1:ju))&&yl.push(e),Xz()}function m4(e,t,r=R_?La+1:0){for(;r<Pn.length;r++){const n=Pn[r];if(n&&n.pre){if(e&&n.id!==e.uid)continue;Pn.splice(r,1),r--,n()}}}function ew(e){if(yl.length){const t=[...new Set(yl)].sort((r,n)=>x_(r)-x_(n));if(yl.length=0,po){po.push(...t);return}for(po=t,ju=0;ju<po.length;ju++)po[ju]();po=null,ju=0}}const x_=e=>e.id==null?1/0:e.id,Gse=(e,t)=>{const r=x_(e)-x_(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function Yz(e){wx=!1,R_=!0,Pn.sort(Gse);try{for(La=0;La<Pn.length;La++){const t=Pn[La];t&&t.active!==!1&&To(t,null,14)}}finally{La=0,Pn.length=0,ew(),R_=!1,AP=null,(Pn.length||yl.length)&&Yz()}}let Zc,E1=[];function Zz(e,t){var r,n;Zc=e,Zc?(Zc.enabled=!0,E1.forEach(({event:a,args:s})=>Zc.emit(a,...s)),E1=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Zz(s,t)}),setTimeout(()=>{Zc||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,E1=[])},3e3)):E1=[]}function Wse(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||sr;let a=r;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in n){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=n[d]||sr;h&&(a=r.map(p=>Dr(p)?p.trim():p)),f&&(a=r.map(Jv))}let u,l=n[u=_v(t)]||n[u=_v(fi(t))];!l&&s&&(l=n[u=_v(Ei(t))]),l&&zi(l,e,6,a);const c=n[u+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,zi(c,e,6,a)}}function eG(e,t,r=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const s=e.emits;let o={},u=!1;if(!Rt(e)){const l=c=>{const d=eG(c,t,!0);d&&(u=!0,Nr(o,d))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!u?(cr(e)&&n.set(e,null),null):(yt(s)?s.forEach(l=>o[l]=null):Nr(o,s),cr(e)&&n.set(e,o),o)}function Uw(e,t){return!e||!eb(t)?!1:(t=t.slice(2).replace(/Once$/,""),Jt(e,t[0].toLowerCase()+t.slice(1))||Jt(e,Ei(t))||Jt(e,t))}let Jr=null,kw=null;function I_(e){const t=Jr;return Jr=e,kw=e&&e.type.__scopeId||null,t}function Kse(e){kw=e}function Jse(){kw=null}const CLe=e=>On;function On(e,t=Jr,r){if(!t||e._n)return e;const n=(...a)=>{n._d&&N4(-1);const s=I_(t);let o;try{o=e(...a)}finally{I_(s),n._d&&N4(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function bv(e){const{type:t,vnode:r,proxy:n,withProxy:a,props:s,propsOptions:[o],slots:u,attrs:l,emit:c,render:d,renderCache:f,data:h,setupState:p,ctx:m,inheritAttrs:y}=e;let g,b;const v=I_(e);try{if(r.shapeFlag&4){const w=a||n,S=w;g=Ti(d.call(S,w,f,s,p,h,m)),b=l}else{const w=t;g=Ti(w.length>1?w(s,{attrs:l,slots:u,emit:c}):w(s,null)),b=t.props?l:Yse(l)}}catch(w){d_.length=0,sd(w,e,1),g=Ct(Zn)}let _=g;if(b&&y!==!1){const w=Object.keys(b),{shapeFlag:S}=_;w.length&&S&7&&(o&&w.some(yP)&&(b=Zse(b,o)),_=Us(_,b))}return r.dirs&&(_=Us(_),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&(_.transition=r.transition),g=_,I_(v),g}function Xse(e,t=!0){let r;for(let n=0;n<e.length;n++){const a=e[n];if(ac(a)){if(a.type!==Zn||a.children==="v-if"){if(r)return;r=a}}else return}return r}const Yse=e=>{let t;for(const r in e)(r==="class"||r==="style"||eb(r))&&((t||(t={}))[r]=e[r]);return t},Zse=(e,t)=>{const r={};for(const n in e)(!yP(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function eoe(e,t,r){const{props:n,children:a,component:s}=e,{props:o,children:u,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?g4(n,o,c):!!o;if(l&8){const d=t.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(o[h]!==n[h]&&!Uw(c,h))return!0}}}else return(a||u)&&(!u||!u.$stable)?!0:n===o?!1:n?o?g4(n,o,c):!0:!!o;return!1}function g4(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const s=n[a];if(t[s]!==e[s]&&!Uw(r,s))return!0}return!1}function OP({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const RP="components",toe="directives";function _4(e,t){return xP(RP,e,!0,t)||e}const tG=Symbol.for("v-ndc");function LLe(e){return Dr(e)?xP(RP,e,!1)||e:e||tG}function jLe(e){return xP(toe,e)}function xP(e,t,r=!0,n=!1){const a=Jr||an;if(a){const s=a.type;if(e===RP){const u=jx(s,!1);if(u&&(u===t||u===fi(t)||u===jw(fi(t))))return s}const o=b4(a[e]||s[e],t)||b4(a.appContext[e],t);return!o&&n?s:o}}function b4(e,t){return e&&(e[t]||e[fi(t)]||e[jw(fi(t))])}const rG=e=>e.__isSuspense;let Tx=0;const roe={name:"Suspense",__isSuspense:!0,process(e,t,r,n,a,s,o,u,l,c){if(e==null)noe(t,r,n,a,s,o,u,l,c);else{if(s&&s.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}ioe(e,t,r,n,a,o,u,l,c)}},hydrate:aoe,create:IP,normalize:soe},MLe=roe;function P_(e,t){const r=e.props&&e.props[t];Rt(r)&&r()}function noe(e,t,r,n,a,s,o,u,l){const{p:c,o:{createElement:d}}=l,f=d("div"),h=e.suspense=IP(e,a,n,t,f,r,s,o,u,l);c(null,h.pendingBranch=e.ssContent,f,null,n,h,s,o),h.deps>0?(P_(e,"onPending"),P_(e,"onFallback"),c(null,e.ssFallback,t,r,n,null,s,o),ml(h,e.ssFallback)):h.resolve(!1,!0)}function ioe(e,t,r,n,a,s,o,u,{p:l,um:c,o:{createElement:d}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const h=t.ssContent,p=t.ssFallback,{activeBranch:m,pendingBranch:y,isInFallback:g,isHydrating:b}=f;if(y)f.pendingBranch=h,fa(h,y)?(l(y,h,f.hiddenContainer,null,a,f,s,o,u),f.deps<=0?f.resolve():g&&(b||(l(m,p,r,n,a,null,s,o,u),ml(f,p)))):(f.pendingId=Tx++,b?(f.isHydrating=!1,f.activeBranch=y):c(y,a,f),f.deps=0,f.effects.length=0,f.hiddenContainer=d("div"),g?(l(null,h,f.hiddenContainer,null,a,f,s,o,u),f.deps<=0?f.resolve():(l(m,p,r,n,a,null,s,o,u),ml(f,p))):m&&fa(h,m)?(l(m,h,r,n,a,f,s,o,u),f.resolve(!0)):(l(null,h,f.hiddenContainer,null,a,f,s,o,u),f.deps<=0&&f.resolve()));else if(m&&fa(h,m))l(m,h,r,n,a,f,s,o,u),ml(f,h);else if(P_(t,"onPending"),f.pendingBranch=h,h.shapeFlag&512?f.pendingId=h.component.suspenseId:f.pendingId=Tx++,l(null,h,f.hiddenContainer,null,a,f,s,o,u),f.deps<=0)f.resolve();else{const{timeout:v,pendingId:_}=f;v>0?setTimeout(()=>{f.pendingId===_&&f.fallback(p)},v):v===0&&f.fallback(p)}}function IP(e,t,r,n,a,s,o,u,l,c,d=!1){const{p:f,m:h,um:p,n:m,o:{parentNode:y,remove:g}}=c;let b;const v=ooe(e);v&&t!=null&&t.pendingBranch&&(b=t.pendingId,t.deps++);const _=e.props?Xv(e.props.timeout):void 0,w=s,S={vnode:e,parent:t,parentComponent:r,namespace:o,container:n,hiddenContainer:a,deps:0,pendingId:Tx++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(E=!1,x=!1){const{vnode:C,activeBranch:I,pendingBranch:P,pendingId:L,effects:D,parentComponent:V,container:k}=S;let $=!1;S.isHydrating?S.isHydrating=!1:E||($=I&&P.transition&&P.transition.mode==="out-in",$&&(I.transition.afterLeave=()=>{L===S.pendingId&&(h(P,k,s===w?m(I):s,0),Sx(D))}),I&&(y(I.el)!==S.hiddenContainer&&(s=m(I)),p(I,V,S,!0)),$||h(P,k,s,0)),ml(S,P),S.pendingBranch=null,S.isInFallback=!1;let H=S.parent,J=!1;for(;H;){if(H.pendingBranch){H.effects.push(...D),J=!0;break}H=H.parent}!J&&!$&&Sx(D),S.effects=[],v&&t&&t.pendingBranch&&b===t.pendingId&&(t.deps--,t.deps===0&&!x&&t.resolve()),P_(C,"onResolve")},fallback(E){if(!S.pendingBranch)return;const{vnode:x,activeBranch:C,parentComponent:I,container:P,namespace:L}=S;P_(x,"onFallback");const D=m(C),V=()=>{S.isInFallback&&(f(null,E,P,D,I,null,L,u,l),ml(S,E))},k=E.transition&&E.transition.mode==="out-in";k&&(C.transition.afterLeave=V),S.isInFallback=!0,p(C,I,null,!0),k||V()},move(E,x,C){S.activeBranch&&h(S.activeBranch,E,x,C),S.container=E},next(){return S.activeBranch&&m(S.activeBranch)},registerDep(E,x){const C=!!S.pendingBranch;C&&S.deps++;const I=E.vnode.el;E.asyncDep.catch(P=>{sd(P,E,0)}).then(P=>{if(E.isUnmounted||S.isUnmounted||S.pendingId!==E.suspenseId)return;E.asyncResolved=!0;const{vnode:L}=E;Cx(E,P,!1),I&&(L.el=I);const D=!I&&E.subTree.el;x(E,L,y(I||E.subTree.el),I?null:m(E.subTree),S,o,l),D&&g(D),OP(E,L.el),C&&--S.deps===0&&S.resolve()})},unmount(E,x){S.isUnmounted=!0,S.activeBranch&&p(S.activeBranch,r,E,x),S.pendingBranch&&p(S.pendingBranch,r,E,x)}};return S}function aoe(e,t,r,n,a,s,o,u,l){const c=t.suspense=IP(t,n,r,e.parentNode,document.createElement("div"),null,a,s,o,u,!0),d=l(e,c.pendingBranch=t.ssContent,r,c,s,o);return c.deps===0&&c.resolve(!1,!0),d}function soe(e){const{shapeFlag:t,children:r}=e,n=t&32;e.ssContent=v4(n?r.default:r),e.ssFallback=n?v4(r.fallback):Ct(Zn)}function v4(e){let t;if(Rt(e)){const r=ic&&e._c;r&&(e._d=!1,tr()),e=e(),r&&(e._d=!0,t=di,EG())}return yt(e)&&(e=Xse(e)),e=Ti(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function nG(e,t){t&&t.pendingBranch?yt(e)?t.effects.push(...e):t.effects.push(e):Sx(e)}function ml(e,t){e.activeBranch=t;const{vnode:r,parentComponent:n}=e;let a=t.el;for(;!a&&t.component;)t=t.component.subTree,a=t.el;r.el=a,n&&n.subTree===r&&(n.vnode.el=a,OP(n,a))}function ooe(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}const uoe=Symbol.for("v-scx"),coe=()=>$a(uoe);function FLe(e,t){return ib(e,null,t)}function loe(e,t){return ib(e,null,{flush:"post"})}function doe(e,t){return ib(e,null,{flush:"sync"})}const A1={};function gl(e,t,r){return ib(e,t,r)}function ib(e,t,{immediate:r,deep:n,flush:a,once:s,onTrack:o,onTrigger:u}=sr){if(t&&s){const E=t;t=(...x)=>{E(...x),S()}}const l=an,c=E=>n===!0?E:Vu(E,n===!1?1:void 0);let d,f=!1,h=!1;if(Yr(e)?(d=()=>e.value,f=Zv(e)):Yu(e)?(d=()=>c(e),f=!0):yt(e)?(h=!0,f=e.some(E=>Yu(E)||Zv(E)),d=()=>e.map(E=>{if(Yr(E))return E.value;if(Yu(E))return c(E);if(Rt(E))return To(E,l,2)})):Rt(e)?t?d=()=>To(e,l,2):d=()=>(p&&p(),zi(e,l,3,[m])):d=li,t&&n){const E=d;d=()=>Vu(E())}let p,m=E=>{p=_.onStop=()=>{To(E,l,4),p=_.onStop=void 0}},y;if(sb)if(m=li,t?r&&zi(t,l,3,[d(),h?[]:void 0,m]):d(),a==="sync"){const E=coe();y=E.__watcherHandles||(E.__watcherHandles=[])}else return li;let g=h?new Array(e.length).fill(A1):A1;const b=()=>{if(!(!_.active||!_.dirty))if(t){const E=_.run();(n||f||(h?E.some((x,C)=>pa(x,g[C])):pa(E,g)))&&(p&&p(),zi(t,l,3,[E,g===A1?void 0:h&&g[0]===A1?[]:g,m]),g=E)}else _.run()};b.allowRecurse=!!t;let v;a==="sync"?v=b:a==="post"?v=()=>gn(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),v=()=>$w(b));const _=new E_(d,li,v),w=Iz(),S=()=>{_.stop(),w&&mP(w.effects,_)};return t?r?b():g=_.run():a==="post"?gn(_.run.bind(_),l&&l.suspense):_.run(),y&&y.push(S),S}function foe(e,t,r){const n=this.proxy,a=Dr(e)?e.includes(".")?iG(n,e):()=>n[e]:e.bind(n,n);let s;Rt(t)?s=t:(s=t.handler,r=t);const o=sc(this),u=ib(a,s.bind(n),r);return o(),u}function iG(e,t){const r=t.split(".");return()=>{let n=e;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}function Vu(e,t,r=0,n){if(!cr(e)||e.__v_skip)return e;if(t&&t>0){if(r>=t)return e;r++}if(n=n||new Set,n.has(e))return e;if(n.add(e),Yr(e))Vu(e.value,t,r,n);else if(yt(e))for(let a=0;a<e.length;a++)Vu(e[a],t,r,n);else if(gc(e)||dl(e))e.forEach(a=>{Vu(a,t,r,n)});else if(wz(e))for(const a in e)Vu(e[a],t,r,n);return e}function qi(e,t){if(Jr===null)return e;const r=zw(Jr)||Jr.proxy,n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[s,o,u,l=sr]=t[a];s&&(Rt(s)&&(s={mounted:s,updated:s}),s.deep&&Vu(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:u,modifiers:l}))}return e}function Ia(e,t,r,n){const a=e.dirs,s=t&&t.dirs;for(let o=0;o<a.length;o++){const u=a[o];s&&(u.oldValue=s[o].value);let l=u.dir[n];l&&(Bo(),zi(l,r,8,[e.el,u,e,t]),$o())}}const yo=Symbol("_leaveCb"),O1=Symbol("_enterCb");function aG(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qw(()=>{e.isMounted=!0}),DP(()=>{e.isUnmounting=!0}),e}const Li=[Function,Array],sG={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Li,onEnter:Li,onAfterEnter:Li,onEnterCancelled:Li,onBeforeLeave:Li,onLeave:Li,onAfterLeave:Li,onLeaveCancelled:Li,onBeforeAppear:Li,onAppear:Li,onAfterAppear:Li,onAppearCancelled:Li},hoe={name:"BaseTransition",props:sG,setup(e,{slots:t}){const r=Uo(),n=aG();return()=>{const a=t.default&&PP(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){for(const h of a)if(h.type!==Zn){s=h;break}}const o=Gt(e),{mode:u}=o;if(n.isLeaving)return z2(s);const l=w4(s);if(!l)return z2(s);const c=N_(l,o,n,r);jl(l,c);const d=r.subTree,f=d&&w4(d);if(f&&f.type!==Zn&&!fa(l,f)){const h=N_(f,o,n,r);if(jl(f,h),u==="out-in")return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},z2(s);u==="in-out"&&l.type!==Zn&&(h.delayLeave=(p,m,y)=>{const g=oG(n,f);g[String(f.key)]=f,p[yo]=()=>{m(),p[yo]=void 0,delete c.delayedLeave},c.delayedLeave=y})}return s}}},poe=hoe;function oG(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function N_(e,t,r,n){const{appear:a,mode:s,persisted:o=!1,onBeforeEnter:u,onEnter:l,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:y,onAppear:g,onAfterAppear:b,onAppearCancelled:v}=t,_=String(e.key),w=oG(r,e),S=(C,I)=>{C&&zi(C,n,9,I)},E=(C,I)=>{const P=I[1];S(C,I),yt(C)?C.every(L=>L.length<=1)&&P():C.length<=1&&P()},x={mode:s,persisted:o,beforeEnter(C){let I=u;if(!r.isMounted)if(a)I=y||u;else return;C[yo]&&C[yo](!0);const P=w[_];P&&fa(e,P)&&P.el[yo]&&P.el[yo](),S(I,[C])},enter(C){let I=l,P=c,L=d;if(!r.isMounted)if(a)I=g||l,P=b||c,L=v||d;else return;let D=!1;const V=C[O1]=k=>{D||(D=!0,k?S(L,[C]):S(P,[C]),x.delayedLeave&&x.delayedLeave(),C[O1]=void 0)};I?E(I,[C,V]):V()},leave(C,I){const P=String(e.key);if(C[O1]&&C[O1](!0),r.isUnmounting)return I();S(f,[C]);let L=!1;const D=C[yo]=V=>{L||(L=!0,I(),V?S(m,[C]):S(p,[C]),C[yo]=void 0,w[P]===e&&delete w[P])};w[P]=e,h?E(h,[C,D]):D()},clone(C){return N_(C,t,r,n)}};return x}function z2(e){if(ab(e))return e=Us(e),e.children=null,e}function w4(e){return ab(e)?e.children?e.children[0]:void 0:e}function jl(e,t){e.shapeFlag&6&&e.component?jl(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function PP(e,t=!1,r){let n=[],a=0;for(let s=0;s<e.length;s++){let o=e[s];const u=r==null?o.key:String(r)+String(o.key!=null?o.key:s);o.type===Hr?(o.patchFlag&128&&a++,n=n.concat(PP(o.children,t,u))):(t||o.type!==Zn)&&n.push(u!=null?Us(o,{key:u}):o)}if(a>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Vw(e,t){return Rt(e)?Nr({name:e.name},t,{setup:e}):e}const Zu=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function qLe(e){Rt(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:n,delay:a=200,timeout:s,suspensible:o=!0,onError:u}=e;let l=null,c,d=0;const f=()=>(d++,l=null,h()),h=()=>{let p;return l||(p=l=t().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),u)return new Promise((y,g)=>{u(m,()=>y(f()),()=>g(m),d+1)});throw m}).then(m=>p!==l&&l?l:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),c=m,m)))};return Vw({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return c},setup(){const p=an;if(c)return()=>G2(c,p);const m=v=>{l=null,sd(v,p,13,!n)};if(o&&p.suspense||sb)return h().then(v=>()=>G2(v,p)).catch(v=>(m(v),()=>n?Ct(n,{error:v}):null));const y=Ms(!1),g=Ms(),b=Ms(!!a);return a&&setTimeout(()=>{b.value=!1},a),s!=null&&setTimeout(()=>{if(!y.value&&!g.value){const v=new Error(`Async component timed out after ${s}ms.`);m(v),g.value=v}},s),h().then(()=>{y.value=!0,p.parent&&ab(p.parent.vnode)&&(p.parent.effect.dirty=!0,$w(p.parent.update))}).catch(v=>{m(v),g.value=v}),()=>{if(y.value&&c)return G2(c,p);if(g.value&&n)return Ct(n,{error:g.value});if(r&&!b.value)return Ct(r)}}})}function G2(e,t){const{ref:r,props:n,children:a,ce:s}=t.vnode,o=Ct(e,n,a);return o.ref=r,o.ce=s,delete t.vnode.ce,o}const ab=e=>e.type.__isKeepAlive,yoe={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=Uo(),n=r.ctx;if(!n.renderer)return()=>{const v=t.default&&t.default();return v&&v.length===1?v[0]:v};const a=new Map,s=new Set;let o=null;const u=r.suspense,{renderer:{p:l,m:c,um:d,o:{createElement:f}}}=n,h=f("div");n.activate=(v,_,w,S,E)=>{const x=v.component;c(v,_,w,0,u),l(x.vnode,v,_,w,x,u,S,v.slotScopeIds,E),gn(()=>{x.isDeactivated=!1,x.a&&hl(x.a);const C=v.props&&v.props.onVnodeMounted;C&&ui(C,x.parent,v)},u)},n.deactivate=v=>{const _=v.component;c(v,h,null,1,u),gn(()=>{_.da&&hl(_.da);const w=v.props&&v.props.onVnodeUnmounted;w&&ui(w,_.parent,v),_.isDeactivated=!0},u)};function p(v){W2(v),d(v,r,u,!0)}function m(v){a.forEach((_,w)=>{const S=jx(_.type);S&&(!v||!v(S))&&y(w)})}function y(v){const _=a.get(v);!o||!fa(_,o)?p(_):o&&W2(o),a.delete(v),s.delete(v)}gl(()=>[e.include,e.exclude],([v,_])=>{v&&m(w=>Vg(v,w)),_&&m(w=>!Vg(_,w))},{flush:"post",deep:!0});let g=null;const b=()=>{g!=null&&a.set(g,K2(r.subTree))};return Qw(b),NP(b),DP(()=>{a.forEach(v=>{const{subTree:_,suspense:w}=r,S=K2(_);if(v.type===S.type&&v.key===S.key){W2(S);const E=S.component.da;E&&gn(E,w);return}p(v)})}),()=>{if(g=null,!t.default)return o=null;const v=t.default(),_=v[0];if(v.length>1)return o=null,v;if(!ac(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let w=K2(_);const S=w.type,E=jx(Zu(w)?w.type.__asyncResolved||{}:S),{include:x,exclude:C,max:I}=e;if(x&&(!E||!Vg(x,E))||C&&E&&Vg(C,E))return o=w,_;const P=w.key==null?S:w.key,L=a.get(P);return w.el&&(w=Us(w),_.shapeFlag&128&&(_.ssContent=w)),g=P,L?(w.el=L.el,w.component=L.component,w.transition&&jl(w,w.transition),w.shapeFlag|=512,s.delete(P),s.add(P)):(s.add(P),I&&s.size>parseInt(I,10)&&y(s.values().next().value)),w.shapeFlag|=256,o=w,rG(_.type)?_:w}}},BLe=yoe;function Vg(e,t){return yt(e)?e.some(r=>Vg(r,t)):Dr(e)?e.split(",").includes(t):ese(e)?e.test(t):!1}function moe(e,t){uG(e,"a",t)}function goe(e,t){uG(e,"da",t)}function uG(e,t,r=an){const n=e.__wdc||(e.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Hw(t,n,r),r){let a=r.parent;for(;a&&a.parent;)ab(a.parent.vnode)&&_oe(n,t,r,a),a=a.parent}}function _oe(e,t,r,n){const a=Hw(t,e,n,!0);CP(()=>{mP(n[t],a)},r)}function W2(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function K2(e){return e.shapeFlag&128?e.ssContent:e}function Hw(e,t,r=an,n=!1){if(r){const a=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;Bo();const u=sc(r),l=zi(t,r,e,o);return u(),$o(),l});return n?a.unshift(s):a.push(s),s}}const Gs=e=>(t,r=an)=>(!sb||e==="sp")&&Hw(e,(...n)=>t(...n),r),boe=Gs("bm"),Qw=Gs("m"),voe=Gs("bu"),NP=Gs("u"),DP=Gs("bum"),CP=Gs("um"),woe=Gs("sp"),Soe=Gs("rtg"),Toe=Gs("rtc");function Eoe(e,t=an){Hw("ec",e,t)}function Aoe(e,t,r,n){let a;const s=r&&r[n];if(yt(e)||Dr(e)){a=new Array(e.length);for(let o=0,u=e.length;o<u;o++)a[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){a=new Array(e);for(let o=0;o<e;o++)a[o]=t(o+1,o,void 0,s&&s[o])}else if(cr(e))if(e[Symbol.iterator])a=Array.from(e,(o,u)=>t(o,u,void 0,s&&s[u]));else{const o=Object.keys(e);a=new Array(o.length);for(let u=0,l=o.length;u<l;u++){const c=o[u];a[u]=t(e[c],c,u,s&&s[u])}}else a=[];return r&&(r[n]=a),a}function $Le(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(yt(n))for(let a=0;a<n.length;a++)e[n[a].name]=n[a].fn;else n&&(e[n.name]=n.key?(...a)=>{const s=n.fn(...a);return s&&(s.key=n.key),s}:n.fn)}return e}function Ooe(e,t,r={},n,a){if(Jr.isCE||Jr.parent&&Zu(Jr.parent)&&Jr.parent.isCE)return t!=="default"&&(r.name=t),Ct("slot",r,n&&n());let s=e[t];s&&s._c&&(s._d=!1),tr();const o=s&&cG(s(r)),u=FP(Hr,{key:r.key||o&&o.key||`_${t}`},o||(n?n():[]),o&&e._===1?64:-2);return!a&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),s&&s._c&&(s._d=!0),u}function cG(e){return e.some(t=>ac(t)?!(t.type===Zn||t.type===Hr&&!cG(t.children)):!0)?e:null}function ULe(e,t){const r={};for(const n in e)r[t&&/[A-Z]/.test(n)?`on:${n}`:_v(n)]=e[n];return r}const Ex=e=>e?xG(e)?zw(e)||e.proxy:Ex(e.parent):null,c_=Nr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ex(e.parent),$root:e=>Ex(e.root),$emit:e=>e.emit,$options:e=>LP(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,$w(e.update)}),$nextTick:e=>e.n||(e.n=nb.bind(e.proxy)),$watch:e=>foe.bind(e)}),J2=(e,t)=>e!==sr&&!e.__isScriptSetup&&Jt(e,t),Ax={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:a,props:s,accessCache:o,type:u,appContext:l}=e;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return a[t];case 4:return r[t];case 3:return s[t]}else{if(J2(n,t))return o[t]=1,n[t];if(a!==sr&&Jt(a,t))return o[t]=2,a[t];if((c=e.propsOptions[0])&&Jt(c,t))return o[t]=3,s[t];if(r!==sr&&Jt(r,t))return o[t]=4,r[t];Ox&&(o[t]=0)}}const d=c_[t];let f,h;if(d)return t==="$attrs"&&hi(e.attrs,"get",""),d(e);if((f=u.__cssModules)&&(f=f[t]))return f;if(r!==sr&&Jt(r,t))return o[t]=4,r[t];if(h=l.config.globalProperties,Jt(h,t))return h[t]},set({_:e},t,r){const{data:n,setupState:a,ctx:s}=e;return J2(a,t)?(a[t]=r,!0):n!==sr&&Jt(n,t)?(n[t]=r,!0):Jt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:a,propsOptions:s}},o){let u;return!!r[o]||e!==sr&&Jt(e,o)||J2(t,o)||(u=s[0])&&Jt(u,o)||Jt(n,o)||Jt(c_,o)||Jt(a.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Jt(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}},Roe=Nr({},Ax,{get(e,t){if(t!==Symbol.unscopables)return Ax.get(e,t,e)},has(e,t){return t[0]!=="_"&&!ase(t)}});function kLe(){return null}function VLe(){return null}function HLe(e){}function QLe(e){}function zLe(){return null}function GLe(){}function WLe(e,t){return null}function KLe(){return lG().slots}function JLe(){return lG().attrs}function lG(){const e=Uo();return e.setupContext||(e.setupContext=NG(e))}function D_(e){return yt(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function XLe(e,t){const r=D_(e);for(const n in t){if(n.startsWith("__skip"))continue;let a=r[n];a?yt(a)||Rt(a)?a=r[n]={type:a,default:t[n]}:a.default=t[n]:a===null&&(a=r[n]={default:t[n]}),a&&t[`__skip_${n}`]&&(a.skipFactory=!0)}return r}function YLe(e,t){return!e||!t?e||t:yt(e)&&yt(t)?e.concat(t):Nr({},D_(e),D_(t))}function ZLe(e,t){const r={};for(const n in e)t.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>e[n]});return r}function eje(e){const t=Uo();let r=e();return Dx(),gP(r)&&(r=r.catch(n=>{throw sc(t),n})),[r,()=>sc(t)]}let Ox=!0;function xoe(e){const t=LP(e),r=e.proxy,n=e.ctx;Ox=!1,t.beforeCreate&&S4(t.beforeCreate,e,"bc");const{data:a,computed:s,methods:o,watch:u,provide:l,inject:c,created:d,beforeMount:f,mounted:h,beforeUpdate:p,updated:m,activated:y,deactivated:g,beforeDestroy:b,beforeUnmount:v,destroyed:_,unmounted:w,render:S,renderTracked:E,renderTriggered:x,errorCaptured:C,serverPrefetch:I,expose:P,inheritAttrs:L,components:D,directives:V,filters:k}=t;if(c&&Ioe(c,n,null),o)for(const J in o){const Y=o[J];Rt(Y)&&(n[J]=Y.bind(r))}if(a){const J=a.call(r,r);cr(J)&&(e.data=rb(J))}if(Ox=!0,s)for(const J in s){const Y=s[J],de=Rt(Y)?Y.bind(r,r):Rt(Y.get)?Y.get.bind(r,r):li,Te=!Rt(Y)&&Rt(Y.set)?Y.set.bind(r):li,De=Bi({get:de,set:Te});Object.defineProperty(n,J,{enumerable:!0,configurable:!0,get:()=>De.value,set:Ve=>De.value=Ve})}if(u)for(const J in u)dG(u[J],n,r,J);if(l){const J=Rt(l)?l.call(r):l;Reflect.ownKeys(J).forEach(Y=>{vv(Y,J[Y])})}d&&S4(d,e,"c");function H(J,Y){yt(Y)?Y.forEach(de=>J(de.bind(r))):Y&&J(Y.bind(r))}if(H(boe,f),H(Qw,h),H(voe,p),H(NP,m),H(moe,y),H(goe,g),H(Eoe,C),H(Toe,E),H(Soe,x),H(DP,v),H(CP,w),H(woe,I),yt(P))if(P.length){const J=e.exposed||(e.exposed={});P.forEach(Y=>{Object.defineProperty(J,Y,{get:()=>r[Y],set:de=>r[Y]=de})})}else e.exposed||(e.exposed={});S&&e.render===li&&(e.render=S),L!=null&&(e.inheritAttrs=L),D&&(e.components=D),V&&(e.directives=V)}function Ioe(e,t,r=li){yt(e)&&(e=Rx(e));for(const n in e){const a=e[n];let s;cr(a)?"default"in a?s=$a(a.from||n,a.default,!0):s=$a(a.from||n):s=$a(a),Yr(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[n]=s}}function S4(e,t,r){zi(yt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function dG(e,t,r,n){const a=n.includes(".")?iG(r,n):()=>r[n];if(Dr(e)){const s=t[e];Rt(s)&&gl(a,s)}else if(Rt(e))gl(a,e.bind(r));else if(cr(e))if(yt(e))e.forEach(s=>dG(s,t,r,n));else{const s=Rt(e.handler)?e.handler.bind(r):t[e.handler];Rt(s)&&gl(a,s,e)}}function LP(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:a,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,u=s.get(t);let l;return u?l=u:!a.length&&!r&&!n?l=t:(l={},a.length&&a.forEach(c=>tw(l,c,o,!0)),tw(l,t,o)),cr(t)&&s.set(t,l),l}function tw(e,t,r,n=!1){const{mixins:a,extends:s}=t;s&&tw(e,s,r,!0),a&&a.forEach(o=>tw(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const u=Poe[o]||r&&r[o];e[o]=u?u(e[o],t[o]):t[o]}return e}const Poe={data:T4,props:E4,emits:E4,methods:Hg,computed:Hg,beforeCreate:Qn,created:Qn,beforeMount:Qn,mounted:Qn,beforeUpdate:Qn,updated:Qn,beforeDestroy:Qn,beforeUnmount:Qn,destroyed:Qn,unmounted:Qn,activated:Qn,deactivated:Qn,errorCaptured:Qn,serverPrefetch:Qn,components:Hg,directives:Hg,watch:Doe,provide:T4,inject:Noe};function T4(e,t){return t?e?function(){return Nr(Rt(e)?e.call(this,this):e,Rt(t)?t.call(this,this):t)}:t:e}function Noe(e,t){return Hg(Rx(e),Rx(t))}function Rx(e){if(yt(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Qn(e,t){return e?[...new Set([].concat(e,t))]:t}function Hg(e,t){return e?Nr(Object.create(null),e,t):t}function E4(e,t){return e?yt(e)&&yt(t)?[...new Set([...e,...t])]:Nr(Object.create(null),D_(e),D_(t??{})):t}function Doe(e,t){if(!e)return t;if(!t)return e;const r=Nr(Object.create(null),e);for(const n in t)r[n]=Qn(e[n],t[n]);return r}function fG(){return{app:null,config:{isNativeTag:Yae,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Coe=0;function Loe(e,t){return function(n,a=null){Rt(n)||(n=Nr({},n)),a!=null&&!cr(a)&&(a=null);const s=fG(),o=new WeakSet;let u=!1;const l=s.app={_uid:Coe++,_component:n,_props:a,_container:null,_context:s,_instance:null,version:aue,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&Rt(c.install)?(o.add(c),c.install(l,...d)):Rt(c)&&(o.add(c),c(l,...d))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,d){return d?(s.components[c]=d,l):s.components[c]},directive(c,d){return d?(s.directives[c]=d,l):s.directives[c]},mount(c,d,f){if(!u){const h=Ct(n,a);return h.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(h,c):e(h,c,f),u=!0,l._container=c,c.__vue_app__=l,zw(h.component)||h.component.proxy}},unmount(){u&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,d){return s.provides[c]=d,l},runWithContext(c){const d=_l;_l=l;try{return c()}finally{_l=d}}};return l}}let _l=null;function vv(e,t){if(an){let r=an.provides;const n=an.parent&&an.parent.provides;n===r&&(r=an.provides=Object.create(n)),r[e]=t}}function $a(e,t,r=!1){const n=an||Jr;if(n||_l){const a=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:_l._context.provides;if(a&&e in a)return a[e];if(arguments.length>1)return r&&Rt(t)?t.call(n&&n.proxy):t}}function joe(){return!!(an||Jr||_l)}const hG=Object.create(null),xx=()=>Object.create(hG),pG=e=>Object.getPrototypeOf(e)===hG;function Moe(e,t,r,n=!1){const a={},s=xx();e.propsDefaults=Object.create(null),yG(e,t,a,s);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);r?e.props=n?a:Vz(a):e.type.props?e.props=a:e.props=s,e.attrs=s}function Foe(e,t,r,n){const{props:a,attrs:s,vnode:{patchFlag:o}}=e,u=Gt(a),[l]=e.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(Uw(e.emitsOptions,h))continue;const p=t[h];if(l)if(Jt(s,h))p!==s[h]&&(s[h]=p,c=!0);else{const m=fi(h);a[m]=Ix(l,u,m,p,e,!1)}else p!==s[h]&&(s[h]=p,c=!0)}}}else{yG(e,t,a,s)&&(c=!0);let d;for(const f in u)(!t||!Jt(t,f)&&((d=Ei(f))===f||!Jt(t,d)))&&(l?r&&(r[f]!==void 0||r[d]!==void 0)&&(a[f]=Ix(l,u,f,void 0,e,!0)):delete a[f]);if(s!==u)for(const f in s)(!t||!Jt(t,f))&&(delete s[f],c=!0)}c&&js(e.attrs,"set","")}function yG(e,t,r,n){const[a,s]=e.propsOptions;let o=!1,u;if(t)for(let l in t){if(fl(l))continue;const c=t[l];let d;a&&Jt(a,d=fi(l))?!s||!s.includes(d)?r[d]=c:(u||(u={}))[d]=c:Uw(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(s){const l=Gt(r),c=u||sr;for(let d=0;d<s.length;d++){const f=s[d];r[f]=Ix(a,l,f,c[f],e,!Jt(c,f))}}return o}function Ix(e,t,r,n,a,s){const o=e[r];if(o!=null){const u=Jt(o,"default");if(u&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Rt(l)){const{propsDefaults:c}=a;if(r in c)n=c[r];else{const d=sc(a);n=c[r]=l.call(null,t),d()}}else n=l}o[0]&&(s&&!u?n=!1:o[1]&&(n===""||n===Ei(r))&&(n=!0))}return n}function mG(e,t,r=!1){const n=t.propsCache,a=n.get(e);if(a)return a;const s=e.props,o={},u=[];let l=!1;if(!Rt(e)){const d=f=>{l=!0;const[h,p]=mG(f,t,!0);Nr(o,h),p&&u.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!l)return cr(e)&&n.set(e,ll),ll;if(yt(s))for(let d=0;d<s.length;d++){const f=fi(s[d]);A4(f)&&(o[f]=sr)}else if(s)for(const d in s){const f=fi(d);if(A4(f)){const h=s[d],p=o[f]=yt(h)||Rt(h)?{type:h}:Nr({},h);if(p){const m=x4(Boolean,p.type),y=x4(String,p.type);p[0]=m>-1,p[1]=y<0||m<y,(m>-1||Jt(p,"default"))&&u.push(f)}}}const c=[o,u];return cr(e)&&n.set(e,c),c}function A4(e){return e[0]!=="$"&&!fl(e)}function O4(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function R4(e,t){return O4(e)===O4(t)}function x4(e,t){return yt(t)?t.findIndex(r=>R4(r,e)):Rt(t)&&R4(t,e)?0:-1}const gG=e=>e[0]==="_"||e==="$stable",jP=e=>yt(e)?e.map(Ti):[Ti(e)],qoe=(e,t,r)=>{if(t._n)return t;const n=On((...a)=>jP(t(...a)),r);return n._c=!1,n},_G=(e,t,r)=>{const n=e._ctx;for(const a in e){if(gG(a))continue;const s=e[a];if(Rt(s))t[a]=qoe(a,s,n);else if(s!=null){const o=jP(s);t[a]=()=>o}}},bG=(e,t)=>{const r=jP(t);e.slots.default=()=>r},Boe=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Gt(t),Sz(e.slots,"_",r)):_G(t,e.slots=xx())}else e.slots=xx(),t&&bG(e,t)},$oe=(e,t,r)=>{const{vnode:n,slots:a}=e;let s=!0,o=sr;if(n.shapeFlag&32){const u=t._;u?r&&u===1?s=!1:(Nr(a,t),!r&&u===1&&delete a._):(s=!t.$stable,_G(t,a)),o=t}else t&&(bG(e,t),o={default:1});if(s)for(const u in a)!gG(u)&&o[u]==null&&delete a[u]};function rw(e,t,r,n,a=!1){if(yt(e)){e.forEach((h,p)=>rw(h,t&&(yt(t)?t[p]:t),r,n,a));return}if(Zu(n)&&!a)return;const s=n.shapeFlag&4?zw(n.component)||n.component.proxy:n.el,o=a?null:s,{i:u,r:l}=e,c=t&&t.r,d=u.refs===sr?u.refs={}:u.refs,f=u.setupState;if(c!=null&&c!==l&&(Dr(c)?(d[c]=null,Jt(f,c)&&(f[c]=null)):Yr(c)&&(c.value=null)),Rt(l))To(l,u,12,[o,d]);else{const h=Dr(l),p=Yr(l);if(h||p){const m=()=>{if(e.f){const y=h?Jt(f,l)?f[l]:d[l]:l.value;a?yt(y)&&mP(y,s):yt(y)?y.includes(s)||y.push(s):h?(d[l]=[s],Jt(f,l)&&(f[l]=d[l])):(l.value=[s],e.k&&(d[e.k]=l.value))}else h?(d[l]=o,Jt(f,l)&&(f[l]=o)):p&&(l.value=o,e.k&&(d[e.k]=o))};o?(m.id=-1,gn(m,r)):m()}}}let ro=!1;const Uoe=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",koe=e=>e.namespaceURI.includes("MathML"),R1=e=>{if(Uoe(e))return"svg";if(koe(e))return"mathml"},x1=e=>e.nodeType===8;function Voe(e){const{mt:t,p:r,o:{patchProp:n,createText:a,nextSibling:s,parentNode:o,remove:u,insert:l,createComment:c}}=e,d=(_,w)=>{if(!w.hasChildNodes()){r(null,_,w),ew(),w._vnode=_;return}ro=!1,f(w.firstChild,_,null,null,null),ew(),w._vnode=_,ro&&console.error("Hydration completed but contains mismatches.")},f=(_,w,S,E,x,C=!1)=>{C=C||!!w.dynamicChildren;const I=x1(_)&&_.data==="[",P=()=>y(_,w,S,E,x,I),{type:L,ref:D,shapeFlag:V,patchFlag:k}=w;let $=_.nodeType;w.el=_,k===-2&&(C=!1,w.dynamicChildren=null);let H=null;switch(L){case Ml:$!==3?w.children===""?(l(w.el=a(""),o(_),_),H=_):H=P():(_.data!==w.children&&(ro=!0,_.data=w.children),H=s(_));break;case Zn:v(_)?(H=s(_),b(w.el=_.content.firstChild,_,S)):$!==8||I?H=P():H=s(_);break;case bl:if(I&&(_=s(_),$=_.nodeType),$===1||$===3){H=_;const J=!w.children.length;for(let Y=0;Y<w.staticCount;Y++)J&&(w.children+=H.nodeType===1?H.outerHTML:H.data),Y===w.staticCount-1&&(w.anchor=H),H=s(H);return I?s(H):H}else P();break;case Hr:I?H=m(_,w,S,E,x,C):H=P();break;default:if(V&1)($!==1||w.type.toLowerCase()!==_.tagName.toLowerCase())&&!v(_)?H=P():H=h(_,w,S,E,x,C);else if(V&6){w.slotScopeIds=x;const J=o(_);if(I?H=g(_):x1(_)&&_.data==="teleport start"?H=g(_,_.data,"teleport end"):H=s(_),t(w,J,null,S,E,R1(J),C),Zu(w)){let Y;I?(Y=Ct(Hr),Y.anchor=H?H.previousSibling:J.lastChild):Y=_.nodeType===3?xa(""):Ct("div"),Y.el=_,w.component.subTree=Y}}else V&64?$!==8?H=P():H=w.type.hydrate(_,w,S,E,x,C,e,p):V&128&&(H=w.type.hydrate(_,w,S,E,R1(o(_)),x,C,e,f))}return D!=null&&rw(D,null,E,w),H},h=(_,w,S,E,x,C)=>{C=C||!!w.dynamicChildren;const{type:I,props:P,patchFlag:L,shapeFlag:D,dirs:V,transition:k}=w,$=I==="input"||I==="option";if($||L!==-1){V&&Ia(w,null,S,"created");let H=!1;if(v(_)){H=wG(E,k)&&S&&S.vnode.props&&S.vnode.props.appear;const Y=_.content.firstChild;H&&k.beforeEnter(Y),b(Y,_,S),w.el=_=Y}if(D&16&&!(P&&(P.innerHTML||P.textContent))){let Y=p(_.firstChild,w,_,S,E,x,C);for(;Y;){ro=!0;const de=Y;Y=Y.nextSibling,u(de)}}else D&8&&_.textContent!==w.children&&(ro=!0,_.textContent=w.children);if(P)if($||!C||L&48)for(const Y in P)($&&(Y.endsWith("value")||Y==="indeterminate")||eb(Y)&&!fl(Y)||Y[0]===".")&&n(_,Y,null,P[Y],void 0,void 0,S);else P.onClick&&n(_,"onClick",null,P.onClick,void 0,void 0,S);let J;(J=P&&P.onVnodeBeforeMount)&&ui(J,S,w),V&&Ia(w,null,S,"beforeMount"),((J=P&&P.onVnodeMounted)||V||H)&&nG(()=>{J&&ui(J,S,w),H&&k.enter(_),V&&Ia(w,null,S,"mounted")},E)}return _.nextSibling},p=(_,w,S,E,x,C,I)=>{I=I||!!w.dynamicChildren;const P=w.children,L=P.length;for(let D=0;D<L;D++){const V=I?P[D]:P[D]=Ti(P[D]);if(_)_=f(_,V,E,x,C,I);else{if(V.type===Ml&&!V.children)continue;ro=!0,r(null,V,S,null,E,x,R1(S),C)}}return _},m=(_,w,S,E,x,C)=>{const{slotScopeIds:I}=w;I&&(x=x?x.concat(I):I);const P=o(_),L=p(s(_),w,P,S,E,x,C);return L&&x1(L)&&L.data==="]"?s(w.anchor=L):(ro=!0,l(w.anchor=c("]"),P,L),L)},y=(_,w,S,E,x,C)=>{if(ro=!0,w.el=null,C){const L=g(_);for(;;){const D=s(_);if(D&&D!==L)u(D);else break}}const I=s(_),P=o(_);return u(_),r(null,w,P,I,S,E,R1(P),x),I},g=(_,w="[",S="]")=>{let E=0;for(;_;)if(_=s(_),_&&x1(_)&&(_.data===w&&E++,_.data===S)){if(E===0)return s(_);E--}return _},b=(_,w,S)=>{const E=w.parentNode;E&&E.replaceChild(_,w);let x=S;for(;x;)x.vnode.el===w&&(x.vnode.el=x.subTree.el=_),x=x.parent},v=_=>_.nodeType===1&&_.tagName.toLowerCase()==="template";return[d,f]}const gn=nG;function Hoe(e){return vG(e)}function Qoe(e){return vG(e,Voe)}function vG(e,t){const r=Tz();r.__VUE__=!0;const{insert:n,remove:a,patchProp:s,createElement:o,createText:u,createComment:l,setText:c,setElementText:d,parentNode:f,nextSibling:h,setScopeId:p=li,insertStaticContent:m}=e,y=(T,O,U,G=null,Q=null,Z=null,ie=void 0,te=null,he=!!O.dynamicChildren)=>{if(T===O)return;T&&!fa(T,O)&&(G=we(T),Ve(T,Q,Z,!0),T=null),O.patchFlag===-2&&(he=!1,O.dynamicChildren=null);const{type:ce,ref:ve,shapeFlag:Ce}=O;switch(ce){case Ml:g(T,O,U,G);break;case Zn:b(T,O,U,G);break;case bl:T==null&&v(O,U,G,ie);break;case Hr:D(T,O,U,G,Q,Z,ie,te,he);break;default:Ce&1?S(T,O,U,G,Q,Z,ie,te,he):Ce&6?V(T,O,U,G,Q,Z,ie,te,he):(Ce&64||Ce&128)&&ce.process(T,O,U,G,Q,Z,ie,te,he,z)}ve!=null&&Q&&rw(ve,T&&T.ref,Z,O||T,!O)},g=(T,O,U,G)=>{if(T==null)n(O.el=u(O.children),U,G);else{const Q=O.el=T.el;O.children!==T.children&&c(Q,O.children)}},b=(T,O,U,G)=>{T==null?n(O.el=l(O.children||""),U,G):O.el=T.el},v=(T,O,U,G)=>{[T.el,T.anchor]=m(T.children,O,U,G,T.el,T.anchor)},_=({el:T,anchor:O},U,G)=>{let Q;for(;T&&T!==O;)Q=h(T),n(T,U,G),T=Q;n(O,U,G)},w=({el:T,anchor:O})=>{let U;for(;T&&T!==O;)U=h(T),a(T),T=U;a(O)},S=(T,O,U,G,Q,Z,ie,te,he)=>{O.type==="svg"?ie="svg":O.type==="math"&&(ie="mathml"),T==null?E(O,U,G,Q,Z,ie,te,he):I(T,O,Q,Z,ie,te,he)},E=(T,O,U,G,Q,Z,ie,te)=>{let he,ce;const{props:ve,shapeFlag:Ce,transition:Ee,dirs:Ue}=T;if(he=T.el=o(T.type,Z,ve&&ve.is,ve),Ce&8?d(he,T.children):Ce&16&&C(T.children,he,null,G,Q,X2(T,Z),ie,te),Ue&&Ia(T,null,G,"created"),x(he,T,T.scopeId,ie,G),ve){for(const Qe in ve)Qe!=="value"&&!fl(Qe)&&s(he,Qe,null,ve[Qe],Z,T.children,G,Q,Ne);"value"in ve&&s(he,"value",null,ve.value,Z),(ce=ve.onVnodeBeforeMount)&&ui(ce,G,T)}Ue&&Ia(T,null,G,"beforeMount");const Fe=wG(Q,Ee);Fe&&Ee.beforeEnter(he),n(he,O,U),((ce=ve&&ve.onVnodeMounted)||Fe||Ue)&&gn(()=>{ce&&ui(ce,G,T),Fe&&Ee.enter(he),Ue&&Ia(T,null,G,"mounted")},Q)},x=(T,O,U,G,Q)=>{if(U&&p(T,U),G)for(let Z=0;Z<G.length;Z++)p(T,G[Z]);if(Q){let Z=Q.subTree;if(O===Z){const ie=Q.vnode;x(T,ie,ie.scopeId,ie.slotScopeIds,Q.parent)}}},C=(T,O,U,G,Q,Z,ie,te,he=0)=>{for(let ce=he;ce<T.length;ce++){const ve=T[ce]=te?mo(T[ce]):Ti(T[ce]);y(null,ve,O,U,G,Q,Z,ie,te)}},I=(T,O,U,G,Q,Z,ie)=>{const te=O.el=T.el;let{patchFlag:he,dynamicChildren:ce,dirs:ve}=O;he|=T.patchFlag&16;const Ce=T.props||sr,Ee=O.props||sr;let Ue;if(U&&ou(U,!1),(Ue=Ee.onVnodeBeforeUpdate)&&ui(Ue,U,O,T),ve&&Ia(O,T,U,"beforeUpdate"),U&&ou(U,!0),ce?P(T.dynamicChildren,ce,te,U,G,X2(O,Q),Z):ie||Y(T,O,te,null,U,G,X2(O,Q),Z,!1),he>0){if(he&16)L(te,O,Ce,Ee,U,G,Q);else if(he&2&&Ce.class!==Ee.class&&s(te,"class",null,Ee.class,Q),he&4&&s(te,"style",Ce.style,Ee.style,Q),he&8){const Fe=O.dynamicProps;for(let Qe=0;Qe<Fe.length;Qe++){const ke=Fe[Qe],K=Ce[ke],j=Ee[ke];(j!==K||ke==="value")&&s(te,ke,K,j,Q,T.children,U,G,Ne)}}he&1&&T.children!==O.children&&d(te,O.children)}else!ie&&ce==null&&L(te,O,Ce,Ee,U,G,Q);((Ue=Ee.onVnodeUpdated)||ve)&&gn(()=>{Ue&&ui(Ue,U,O,T),ve&&Ia(O,T,U,"updated")},G)},P=(T,O,U,G,Q,Z,ie)=>{for(let te=0;te<O.length;te++){const he=T[te],ce=O[te],ve=he.el&&(he.type===Hr||!fa(he,ce)||he.shapeFlag&70)?f(he.el):U;y(he,ce,ve,null,G,Q,Z,ie,!0)}},L=(T,O,U,G,Q,Z,ie)=>{if(U!==G){if(U!==sr)for(const te in U)!fl(te)&&!(te in G)&&s(T,te,U[te],null,ie,O.children,Q,Z,Ne);for(const te in G){if(fl(te))continue;const he=G[te],ce=U[te];he!==ce&&te!=="value"&&s(T,te,ce,he,ie,O.children,Q,Z,Ne)}"value"in G&&s(T,"value",U.value,G.value,ie)}},D=(T,O,U,G,Q,Z,ie,te,he)=>{const ce=O.el=T?T.el:u(""),ve=O.anchor=T?T.anchor:u("");let{patchFlag:Ce,dynamicChildren:Ee,slotScopeIds:Ue}=O;Ue&&(te=te?te.concat(Ue):Ue),T==null?(n(ce,U,G),n(ve,U,G),C(O.children||[],U,ve,Q,Z,ie,te,he)):Ce>0&&Ce&64&&Ee&&T.dynamicChildren?(P(T.dynamicChildren,Ee,U,Q,Z,ie,te),(O.key!=null||Q&&O===Q.subTree)&&MP(T,O,!0)):Y(T,O,U,ve,Q,Z,ie,te,he)},V=(T,O,U,G,Q,Z,ie,te,he)=>{O.slotScopeIds=te,T==null?O.shapeFlag&512?Q.ctx.activate(O,U,G,ie,he):k(O,U,G,Q,Z,ie,he):$(T,O,he)},k=(T,O,U,G,Q,Z,ie)=>{const te=T.component=RG(T,G,Q);if(ab(T)&&(te.ctx.renderer=z),IG(te),te.asyncDep){if(Q&&Q.registerDep(te,H),!T.el){const he=te.subTree=Ct(Zn);b(null,he,O,U)}}else H(te,T,O,U,Q,Z,ie)},$=(T,O,U)=>{const G=O.component=T.component;if(eoe(T,O,U))if(G.asyncDep&&!G.asyncResolved){J(G,O,U);return}else G.next=O,zse(G.update),G.effect.dirty=!0,G.update();else O.el=T.el,G.vnode=O},H=(T,O,U,G,Q,Z,ie)=>{const te=()=>{if(T.isMounted){let{next:ve,bu:Ce,u:Ee,parent:Ue,vnode:Fe}=T;{const q=SG(T);if(q){ve&&(ve.el=Fe.el,J(T,ve,ie)),q.asyncDep.then(()=>{T.isUnmounted||te()});return}}let Qe=ve,ke;ou(T,!1),ve?(ve.el=Fe.el,J(T,ve,ie)):ve=Fe,Ce&&hl(Ce),(ke=ve.props&&ve.props.onVnodeBeforeUpdate)&&ui(ke,Ue,ve,Fe),ou(T,!0);const K=bv(T),j=T.subTree;T.subTree=K,y(j,K,f(j.el),we(j),T,Q,Z),ve.el=K.el,Qe===null&&OP(T,K.el),Ee&&gn(Ee,Q),(ke=ve.props&&ve.props.onVnodeUpdated)&&gn(()=>ui(ke,Ue,ve,Fe),Q)}else{let ve;const{el:Ce,props:Ee}=O,{bm:Ue,m:Fe,parent:Qe}=T,ke=Zu(O);if(ou(T,!1),Ue&&hl(Ue),!ke&&(ve=Ee&&Ee.onVnodeBeforeMount)&&ui(ve,Qe,O),ou(T,!0),Ce&&B){const K=()=>{T.subTree=bv(T),B(Ce,T.subTree,T,Q,null)};ke?O.type.__asyncLoader().then(()=>!T.isUnmounted&&K()):K()}else{const K=T.subTree=bv(T);y(null,K,U,G,T,Q,Z),O.el=K.el}if(Fe&&gn(Fe,Q),!ke&&(ve=Ee&&Ee.onVnodeMounted)){const K=O;gn(()=>ui(ve,Qe,K),Q)}(O.shapeFlag&256||Qe&&Zu(Qe.vnode)&&Qe.vnode.shapeFlag&256)&&T.a&&gn(T.a,Q),T.isMounted=!0,O=U=G=null}},he=T.effect=new E_(te,li,()=>$w(ce),T.scope),ce=T.update=()=>{he.dirty&&he.run()};ce.id=T.uid,ou(T,!0),ce()},J=(T,O,U)=>{O.component=T;const G=T.vnode.props;T.vnode=O,T.next=null,Foe(T,O.props,G,U),$oe(T,O.children,U),Bo(),m4(T),$o()},Y=(T,O,U,G,Q,Z,ie,te,he=!1)=>{const ce=T&&T.children,ve=T?T.shapeFlag:0,Ce=O.children,{patchFlag:Ee,shapeFlag:Ue}=O;if(Ee>0){if(Ee&128){Te(ce,Ce,U,G,Q,Z,ie,te,he);return}else if(Ee&256){de(ce,Ce,U,G,Q,Z,ie,te,he);return}}Ue&8?(ve&16&&Ne(ce,Q,Z),Ce!==ce&&d(U,Ce)):ve&16?Ue&16?Te(ce,Ce,U,G,Q,Z,ie,te,he):Ne(ce,Q,Z,!0):(ve&8&&d(U,""),Ue&16&&C(Ce,U,G,Q,Z,ie,te,he))},de=(T,O,U,G,Q,Z,ie,te,he)=>{T=T||ll,O=O||ll;const ce=T.length,ve=O.length,Ce=Math.min(ce,ve);let Ee;for(Ee=0;Ee<Ce;Ee++){const Ue=O[Ee]=he?mo(O[Ee]):Ti(O[Ee]);y(T[Ee],Ue,U,null,Q,Z,ie,te,he)}ce>ve?Ne(T,Q,Z,!0,!1,Ce):C(O,U,G,Q,Z,ie,te,he,Ce)},Te=(T,O,U,G,Q,Z,ie,te,he)=>{let ce=0;const ve=O.length;let Ce=T.length-1,Ee=ve-1;for(;ce<=Ce&&ce<=Ee;){const Ue=T[ce],Fe=O[ce]=he?mo(O[ce]):Ti(O[ce]);if(fa(Ue,Fe))y(Ue,Fe,U,null,Q,Z,ie,te,he);else break;ce++}for(;ce<=Ce&&ce<=Ee;){const Ue=T[Ce],Fe=O[Ee]=he?mo(O[Ee]):Ti(O[Ee]);if(fa(Ue,Fe))y(Ue,Fe,U,null,Q,Z,ie,te,he);else break;Ce--,Ee--}if(ce>Ce){if(ce<=Ee){const Ue=Ee+1,Fe=Ue<ve?O[Ue].el:G;for(;ce<=Ee;)y(null,O[ce]=he?mo(O[ce]):Ti(O[ce]),U,Fe,Q,Z,ie,te,he),ce++}}else if(ce>Ee)for(;ce<=Ce;)Ve(T[ce],Q,Z,!0),ce++;else{const Ue=ce,Fe=ce,Qe=new Map;for(ce=Fe;ce<=Ee;ce++){const ge=O[ce]=he?mo(O[ce]):Ti(O[ce]);ge.key!=null&&Qe.set(ge.key,ce)}let ke,K=0;const j=Ee-Fe+1;let q=!1,W=0;const re=new Array(j);for(ce=0;ce<j;ce++)re[ce]=0;for(ce=Ue;ce<=Ce;ce++){const ge=T[ce];if(K>=j){Ve(ge,Q,Z,!0);continue}let qe;if(ge.key!=null)qe=Qe.get(ge.key);else for(ke=Fe;ke<=Ee;ke++)if(re[ke-Fe]===0&&fa(ge,O[ke])){qe=ke;break}qe===void 0?Ve(ge,Q,Z,!0):(re[qe-Fe]=ce+1,qe>=W?W=qe:q=!0,y(ge,O[qe],U,null,Q,Z,ie,te,he),K++)}const pe=q?zoe(re):ll;for(ke=pe.length-1,ce=j-1;ce>=0;ce--){const ge=Fe+ce,qe=O[ge],ee=ge+1<ve?O[ge+1].el:G;re[ce]===0?y(null,qe,U,ee,Q,Z,ie,te,he):q&&(ke<0||ce!==pe[ke]?De(qe,U,ee,2):ke--)}}},De=(T,O,U,G,Q=null)=>{const{el:Z,type:ie,transition:te,children:he,shapeFlag:ce}=T;if(ce&6){De(T.component.subTree,O,U,G);return}if(ce&128){T.suspense.move(O,U,G);return}if(ce&64){ie.move(T,O,U,z);return}if(ie===Hr){n(Z,O,U);for(let Ce=0;Ce<he.length;Ce++)De(he[Ce],O,U,G);n(T.anchor,O,U);return}if(ie===bl){_(T,O,U);return}if(G!==2&&ce&1&&te)if(G===0)te.beforeEnter(Z),n(Z,O,U),gn(()=>te.enter(Z),Q);else{const{leave:Ce,delayLeave:Ee,afterLeave:Ue}=te,Fe=()=>n(Z,O,U),Qe=()=>{Ce(Z,()=>{Fe(),Ue&&Ue()})};Ee?Ee(Z,Fe,Qe):Qe()}else n(Z,O,U)},Ve=(T,O,U,G=!1,Q=!1)=>{const{type:Z,props:ie,ref:te,children:he,dynamicChildren:ce,shapeFlag:ve,patchFlag:Ce,dirs:Ee}=T;if(te!=null&&rw(te,null,U,T,!0),ve&256){O.ctx.deactivate(T);return}const Ue=ve&1&&Ee,Fe=!Zu(T);let Qe;if(Fe&&(Qe=ie&&ie.onVnodeBeforeUnmount)&&ui(Qe,O,T),ve&6)Ie(T.component,U,G);else{if(ve&128){T.suspense.unmount(U,G);return}Ue&&Ia(T,null,O,"beforeUnmount"),ve&64?T.type.remove(T,O,U,Q,z,G):ce&&(Z!==Hr||Ce>0&&Ce&64)?Ne(ce,O,U,!1,!0):(Z===Hr&&Ce&384||!Q&&ve&16)&&Ne(he,O,U),G&&le(T)}(Fe&&(Qe=ie&&ie.onVnodeUnmounted)||Ue)&&gn(()=>{Qe&&ui(Qe,O,T),Ue&&Ia(T,null,O,"unmounted")},U)},le=T=>{const{type:O,el:U,anchor:G,transition:Q}=T;if(O===Hr){ue(U,G);return}if(O===bl){w(T);return}const Z=()=>{a(U),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(T.shapeFlag&1&&Q&&!Q.persisted){const{leave:ie,delayLeave:te}=Q,he=()=>ie(U,Z);te?te(T.el,Z,he):he()}else Z()},ue=(T,O)=>{let U;for(;T!==O;)U=h(T),a(T),T=U;a(O)},Ie=(T,O,U)=>{const{bum:G,scope:Q,update:Z,subTree:ie,um:te}=T;G&&hl(G),Q.stop(),Z&&(Z.active=!1,Ve(ie,T,O,U)),te&&gn(te,O),gn(()=>{T.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},Ne=(T,O,U,G=!1,Q=!1,Z=0)=>{for(let ie=Z;ie<T.length;ie++)Ve(T[ie],O,U,G,Q)},we=T=>T.shapeFlag&6?we(T.component.subTree):T.shapeFlag&128?T.suspense.next():h(T.anchor||T.el);let Ae=!1;const Se=(T,O,U)=>{T==null?O._vnode&&Ve(O._vnode,null,null,!0):y(O._vnode||null,T,O,null,null,null,U),Ae||(Ae=!0,m4(),ew(),Ae=!1),O._vnode=T},z={p:y,um:Ve,m:De,r:le,mt:k,mc:C,pc:Y,pbc:P,n:we,o:e};let M,B;return t&&([M,B]=t(z)),{render:Se,hydrate:M,createApp:Loe(Se,M)}}function X2({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function ou({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function wG(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function MP(e,t,r=!1){const n=e.children,a=t.children;if(yt(n)&&yt(a))for(let s=0;s<n.length;s++){const o=n[s];let u=a[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=a[s]=mo(a[s]),u.el=o.el),r||MP(o,u)),u.type===Ml&&(u.el=o.el)}}function zoe(e){const t=e.slice(),r=[0];let n,a,s,o,u;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(a=r[r.length-1],e[a]<c){t[n]=a,r.push(n);continue}for(s=0,o=r.length-1;s<o;)u=s+o>>1,e[r[u]]<c?s=u+1:o=u;c<e[r[s]]&&(s>0&&(t[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=t[o];return r}function SG(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:SG(t)}const Goe=e=>e.__isTeleport,l_=e=>e&&(e.disabled||e.disabled===""),I4=e=>typeof SVGElement<"u"&&e instanceof SVGElement,P4=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Px=(e,t)=>{const r=e&&e.to;return Dr(r)?t?t(r):null:r},Woe={name:"Teleport",__isTeleport:!0,process(e,t,r,n,a,s,o,u,l,c){const{mc:d,pc:f,pbc:h,o:{insert:p,querySelector:m,createText:y,createComment:g}}=c,b=l_(t.props);let{shapeFlag:v,children:_,dynamicChildren:w}=t;if(e==null){const S=t.el=y(""),E=t.anchor=y("");p(S,r,n),p(E,r,n);const x=t.target=Px(t.props,m),C=t.targetAnchor=y("");x&&(p(C,x),o==="svg"||I4(x)?o="svg":(o==="mathml"||P4(x))&&(o="mathml"));const I=(P,L)=>{v&16&&d(_,P,L,a,s,o,u,l)};b?I(r,E):x&&I(x,C)}else{t.el=e.el;const S=t.anchor=e.anchor,E=t.target=e.target,x=t.targetAnchor=e.targetAnchor,C=l_(e.props),I=C?r:E,P=C?S:x;if(o==="svg"||I4(E)?o="svg":(o==="mathml"||P4(E))&&(o="mathml"),w?(h(e.dynamicChildren,w,I,a,s,o,u),MP(e,t,!0)):l||f(e,t,I,P,a,s,o,u,!1),b)C?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):I1(t,r,S,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const L=t.target=Px(t.props,m);L&&I1(t,L,null,c,0)}else C&&I1(t,E,x,c,1)}TG(t)},remove(e,t,r,n,{um:a,o:{remove:s}},o){const{shapeFlag:u,children:l,anchor:c,targetAnchor:d,target:f,props:h}=e;if(f&&s(d),o&&s(c),u&16){const p=o||!l_(h);for(let m=0;m<l.length;m++){const y=l[m];a(y,t,r,p,!!y.dynamicChildren)}}},move:I1,hydrate:Koe};function I1(e,t,r,{o:{insert:n},m:a},s=2){s===0&&n(e.targetAnchor,t,r);const{el:o,anchor:u,shapeFlag:l,children:c,props:d}=e,f=s===2;if(f&&n(o,t,r),(!f||l_(d))&&l&16)for(let h=0;h<c.length;h++)a(c[h],t,r,2);f&&n(u,t,r)}function Koe(e,t,r,n,a,s,{o:{nextSibling:o,parentNode:u,querySelector:l}},c){const d=t.target=Px(t.props,l);if(d){const f=d._lpa||d.firstChild;if(t.shapeFlag&16)if(l_(t.props))t.anchor=c(o(e),t,u(e),r,n,a,s),t.targetAnchor=f;else{t.anchor=o(e);let h=f;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(f,t,d,r,n,a,s)}TG(t)}return t.anchor&&o(t.anchor)}const tje=Woe;function TG(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r&&r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const Hr=Symbol.for("v-fgt"),Ml=Symbol.for("v-txt"),Zn=Symbol.for("v-cmt"),bl=Symbol.for("v-stc"),d_=[];let di=null;function tr(e=!1){d_.push(di=e?null:[])}function EG(){d_.pop(),di=d_[d_.length-1]||null}let ic=1;function N4(e){ic+=e}function AG(e){return e.dynamicChildren=ic>0?di||ll:null,EG(),ic>0&&di&&di.push(e),e}function yr(e,t,r,n,a,s){return AG(st(e,t,r,n,a,s,!0))}function FP(e,t,r,n,a){return AG(Ct(e,t,r,n,a,!0))}function ac(e){return e?e.__v_isVNode===!0:!1}function fa(e,t){return e.type===t.type&&e.key===t.key}function rje(e){}const OG=({key:e})=>e??null,wv=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Dr(e)||Yr(e)||Rt(e)?{i:Jr,r:e,k:t,f:!!r}:e:null);function st(e,t=null,r=null,n=0,a=null,s=e===Hr?0:1,o=!1,u=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&OG(t),ref:t&&wv(t),scopeId:kw,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Jr};return u?(qP(l,r),s&128&&e.normalize(l)):r&&(l.shapeFlag|=Dr(r)?8:16),ic>0&&!o&&di&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&di.push(l),l}const Ct=Joe;function Joe(e,t=null,r=null,n=0,a=null,s=!1){if((!e||e===tG)&&(e=Zn),ac(e)){const u=Us(e,t,!0);return r&&qP(u,r),ic>0&&!s&&di&&(u.shapeFlag&6?di[di.indexOf(e)]=u:di.push(u)),u.patchFlag|=-2,u}if(nue(e)&&(e=e.__vccOpts),t){t=Xoe(t);let{class:u,style:l}=t;u&&!Dr(u)&&(t.class=nc(u)),cr(l)&&(Qz(l)&&!yt(l)&&(l=Nr({},l)),t.style=tb(l))}const o=Dr(e)?1:rG(e)?128:Goe(e)?64:cr(e)?4:Rt(e)?2:0;return st(e,t,r,n,a,o,s,!0)}function Xoe(e){return e?Qz(e)||pG(e)?Nr({},e):e:null}function Us(e,t,r=!1){const{props:n,ref:a,patchFlag:s,children:o}=e,u=t?Yoe(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&OG(u),ref:t&&t.ref?r&&a?yt(a)?a.concat(wv(t)):[a,wv(t)]:wv(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Hr?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Us(e.ssContent),ssFallback:e.ssFallback&&Us(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function xa(e=" ",t=0){return Ct(Ml,null,e,t)}function nje(e,t){const r=Ct(bl,null,e);return r.staticCount=t,r}function da(e="",t=!1){return t?(tr(),FP(Zn,null,e)):Ct(Zn,null,e)}function Ti(e){return e==null||typeof e=="boolean"?Ct(Zn):yt(e)?Ct(Hr,null,e.slice()):typeof e=="object"?mo(e):Ct(Ml,null,String(e))}function mo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Us(e)}function qP(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(yt(t))r=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),qP(e,a()),a._c&&(a._d=!0));return}else{r=32;const a=t._;!a&&!pG(t)?t._ctx=Jr:a===3&&Jr&&(Jr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Rt(t)?(t={default:t,_ctx:Jr},r=32):(t=String(t),n&64?(r=16,t=[xa(t)]):r=8);e.children=t,e.shapeFlag|=r}function Yoe(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=nc([t.class,n.class]));else if(a==="style")t.style=tb([t.style,n.style]);else if(eb(a)){const s=t[a],o=n[a];o&&s!==o&&!(yt(s)&&s.includes(o))&&(t[a]=s?[].concat(s,o):o)}else a!==""&&(t[a]=n[a])}return t}function ui(e,t,r,n=null){zi(e,t,7,[r,n])}const Zoe=fG();let eue=0;function RG(e,t,r){const n=e.type,a=(t?t.appContext:e.appContext)||Zoe,s={uid:eue++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new Oz(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mG(n,a),emitsOptions:eG(n,a),emit:null,emitted:null,propsDefaults:sr,inheritAttrs:n.inheritAttrs,ctx:sr,data:sr,props:sr,attrs:sr,slots:sr,refs:sr,setupState:sr,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Wse.bind(null,s),e.ce&&e.ce(s),s}let an=null;const Uo=()=>an||Jr;let nw,Nx;{const e=Tz(),t=(r,n)=>{let a;return(a=e[r])||(a=e[r]=[]),a.push(n),s=>{a.length>1?a.forEach(o=>o(s)):a[0](s)}};nw=t("__VUE_INSTANCE_SETTERS__",r=>an=r),Nx=t("__VUE_SSR_SETTERS__",r=>sb=r)}const sc=e=>{const t=an;return nw(e),e.scope.on(),()=>{e.scope.off(),nw(t)}},Dx=()=>{an&&an.scope.off(),nw(null)};function xG(e){return e.vnode.shapeFlag&4}let sb=!1;function IG(e,t=!1){t&&Nx(t);const{props:r,children:n}=e.vnode,a=xG(e);Moe(e,r,a,t),Boe(e,n);const s=a?tue(e,t):void 0;return t&&Nx(!1),s}function tue(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ax);const{setup:n}=r;if(n){const a=e.setupContext=n.length>1?NG(e):null,s=sc(e);Bo();const o=To(n,e,0,[e.props,a]);if($o(),s(),gP(o)){if(o.then(Dx,Dx),t)return o.then(u=>{Cx(e,u,t)}).catch(u=>{sd(u,e,0)});e.asyncDep=o}else Cx(e,o,t)}else PG(e,t)}function Cx(e,t,r){Rt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:cr(t)&&(e.setupState=Wz(t)),PG(e,r)}let iw,Lx;function ije(e){iw=e,Lx=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Roe))}}const aje=()=>!iw;function PG(e,t,r){const n=e.type;if(!e.render){if(!t&&iw&&!n.render){const a=n.template||LP(e).template;if(a){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:u,compilerOptions:l}=n,c=Nr(Nr({isCustomElement:s,delimiters:u},o),l);n.render=iw(a,c)}}e.render=n.render||li,Lx&&Lx(e)}{const a=sc(e);Bo();try{xoe(e)}finally{$o(),a()}}}const rue={get(e,t){return hi(e,"get",""),e[t]}};function NG(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,rue),slots:e.slots,emit:e.emit,expose:t}}function zw(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Wz(SP(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in c_)return c_[r](e)},has(t,r){return r in t||r in c_}}))}function jx(e,t=!0){return Rt(e)?e.displayName||e.name:e.name||t&&e.__name}function nue(e){return Rt(e)&&"__vccOpts"in e}const Bi=(e,t)=>Lse(e,t,sb);function sje(e,t,r=sr){const n=Uo(),a=fi(t),s=Ei(t),o=Bse((l,c)=>{let d;return doe(()=>{const f=e[t];pa(d,f)&&(d=f,c())}),{get(){return l(),r.get?r.get(d):d},set(f){const h=n.vnode.props;!(h&&(t in h||a in h||s in h)&&(`onUpdate:${t}`in h||`onUpdate:${a}`in h||`onUpdate:${s}`in h))&&pa(f,d)&&(d=f,c()),n.emit(`update:${t}`,r.set?r.set(f):f)}}}),u=t==="modelValue"?"modelModifiers":`${t}Modifiers`;return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?e[u]||{}:o,done:!1}:{done:!0}}}},o}function Gw(e,t,r){const n=arguments.length;return n===2?cr(t)&&!yt(t)?ac(t)?Ct(e,null,[t]):Ct(e,t):Ct(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&ac(r)&&(r=[r]),Ct(e,t,r))}function oje(){}function uje(e,t,r,n){const a=r[n];if(a&&iue(a,e))return a;const s=t();return s.memo=e.slice(),r[n]=s}function iue(e,t){const r=e.memo;if(r.length!=t.length)return!1;for(let n=0;n<r.length;n++)if(pa(r[n],t[n]))return!1;return ic>0&&di&&di.push(e),!0}const aue="3.4.23",cje=li,lje=Vse,dje=Zc,fje=Zz,sue={createComponentInstance:RG,setupComponent:IG,renderComponentRoot:bv,setCurrentRenderingInstance:I_,isVNode:ac,normalizeVNode:Ti},hje=sue,pje=null,yje=null,mje=null;/**
* @vue/runtime-dom v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const oue="http://www.w3.org/2000/svg",uue="http://www.w3.org/1998/Math/MathML",go=typeof document<"u"?document:null,D4=go&&go.createElement("template"),cue={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const a=t==="svg"?go.createElementNS(oue,e):t==="mathml"?go.createElementNS(uue,e):go.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>go.createTextNode(e),createComment:e=>go.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>go.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,a,s){const o=r?r.previousSibling:t.lastChild;if(a&&(a===s||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),r),!(a===s||!(a=a.nextSibling)););else{D4.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const u=D4.content;if(n==="svg"||n==="mathml"){const l=u.firstChild;for(;l.firstChild;)u.appendChild(l.firstChild);u.removeChild(l)}t.insertBefore(u,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},no="transition",kd="animation",Fl=Symbol("_vtc"),DG=(e,{slots:t})=>Gw(poe,LG(e),t);DG.displayName="Transition";const CG={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},lue=DG.props=Nr({},sG,CG),uu=(e,t=[])=>{yt(e)?e.forEach(r=>r(...t)):e&&e(...t)},C4=e=>e?yt(e)?e.some(t=>t.length>1):e.length>1:!1;function LG(e){const t={};for(const D in e)D in CG||(t[D]=e[D]);if(e.css===!1)return t;const{name:r="v",type:n,duration:a,enterFromClass:s=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:u=`${r}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:d=u,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,m=due(a),y=m&&m[0],g=m&&m[1],{onBeforeEnter:b,onEnter:v,onEnterCancelled:_,onLeave:w,onLeaveCancelled:S,onBeforeAppear:E=b,onAppear:x=v,onAppearCancelled:C=_}=t,I=(D,V,k)=>{uo(D,V?d:u),uo(D,V?c:o),k&&k()},P=(D,V)=>{D._isLeaving=!1,uo(D,f),uo(D,p),uo(D,h),V&&V()},L=D=>(V,k)=>{const $=D?x:v,H=()=>I(V,D,k);uu($,[V,H]),L4(()=>{uo(V,D?l:s),ws(V,D?d:u),C4($)||j4(V,n,y,H)})};return Nr(t,{onBeforeEnter(D){uu(b,[D]),ws(D,s),ws(D,o)},onBeforeAppear(D){uu(E,[D]),ws(D,l),ws(D,c)},onEnter:L(!1),onAppear:L(!0),onLeave(D,V){D._isLeaving=!0;const k=()=>P(D,V);ws(D,f),MG(),ws(D,h),L4(()=>{D._isLeaving&&(uo(D,f),ws(D,p),C4(w)||j4(D,n,g,k))}),uu(w,[D,k])},onEnterCancelled(D){I(D,!1),uu(_,[D])},onAppearCancelled(D){I(D,!0),uu(C,[D])},onLeaveCancelled(D){P(D),uu(S,[D])}})}function due(e){if(e==null)return null;if(cr(e))return[Y2(e.enter),Y2(e.leave)];{const t=Y2(e);return[t,t]}}function Y2(e){return Xv(e)}function ws(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Fl]||(e[Fl]=new Set)).add(t)}function uo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[Fl];r&&(r.delete(t),r.size||(e[Fl]=void 0))}function L4(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let fue=0;function j4(e,t,r,n){const a=e._endId=++fue,s=()=>{a===e._endId&&n()};if(r)return setTimeout(s,r);const{type:o,timeout:u,propCount:l}=jG(e,t);if(!o)return n();const c=o+"end";let d=0;const f=()=>{e.removeEventListener(c,h),s()},h=p=>{p.target===e&&++d>=l&&f()};setTimeout(()=>{d<l&&f()},u+1),e.addEventListener(c,h)}function jG(e,t){const r=window.getComputedStyle(e),n=m=>(r[m]||"").split(", "),a=n(`${no}Delay`),s=n(`${no}Duration`),o=M4(a,s),u=n(`${kd}Delay`),l=n(`${kd}Duration`),c=M4(u,l);let d=null,f=0,h=0;t===no?o>0&&(d=no,f=o,h=s.length):t===kd?c>0&&(d=kd,f=c,h=l.length):(f=Math.max(o,c),d=f>0?o>c?no:kd:null,h=d?d===no?s.length:l.length:0);const p=d===no&&/\b(transform|all)(,|$)/.test(n(`${no}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:p}}function M4(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>F4(r)+F4(e[n])))}function F4(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function MG(){return document.body.offsetHeight}function hue(e,t,r){const n=e[Fl];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const aw=Symbol("_vod"),FG=Symbol("_vsh"),pue={beforeMount(e,{value:t},{transition:r}){e[aw]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Vd(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Vd(e,!0),n.enter(e)):n.leave(e,()=>{Vd(e,!1)}):Vd(e,t))},beforeUnmount(e,{value:t}){Vd(e,t)}};function Vd(e,t){e.style.display=t?e[aw]:"none",e[FG]=!t}function yue(){pue.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const qG=Symbol("");function gje(e){const t=Uo();if(!t)return;const r=t.ut=(a=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>Fx(s,a))},n=()=>{const a=e(t.proxy);Mx(t.subTree,a),r(a)};Qw(()=>{loe(n);const a=new MutationObserver(n);a.observe(t.subTree.el.parentNode,{childList:!0}),CP(()=>a.disconnect())})}function Mx(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Mx(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Fx(e.el,t);else if(e.type===Hr)e.children.forEach(r=>Mx(r,t));else if(e.type===bl){let{el:r,anchor:n}=e;for(;r&&(Fx(r,t),r!==n);)r=r.nextSibling}}function Fx(e,t){if(e.nodeType===1){const r=e.style;let n="";for(const a in t)r.setProperty(`--${a}`,t[a]),n+=`--${a}: ${t[a]};`;r[qG]=n}}const mue=/(^|;)\s*display\s*:/;function gue(e,t,r){const n=e.style,a=Dr(r);let s=!1;if(r&&!a){if(t)if(Dr(t))for(const o of t.split(";")){const u=o.slice(0,o.indexOf(":")).trim();r[u]==null&&Sv(n,u,"")}else for(const o in t)r[o]==null&&Sv(n,o,"");for(const o in r)o==="display"&&(s=!0),Sv(n,o,r[o])}else if(a){if(t!==r){const o=n[qG];o&&(r+=";"+o),n.cssText=r,s=mue.test(r)}}else t&&e.removeAttribute("style");aw in e&&(e[aw]=s?n.display:"",e[FG]&&(n.display="none"))}const q4=/\s*!important$/;function Sv(e,t,r){if(yt(r))r.forEach(n=>Sv(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=_ue(e,t);q4.test(r)?e.setProperty(Ei(n),r.replace(q4,""),"important"):e[n]=r}}const B4=["Webkit","Moz","ms"],Z2={};function _ue(e,t){const r=Z2[t];if(r)return r;let n=fi(t);if(n!=="filter"&&n in e)return Z2[t]=n;n=jw(n);for(let a=0;a<B4.length;a++){const s=B4[a]+n;if(s in e)return Z2[t]=s}return t}const $4="http://www.w3.org/1999/xlink";function bue(e,t,r,n,a){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS($4,t.slice(6,t.length)):e.setAttributeNS($4,t,r);else{const s=dse(t);r==null||s&&!Ez(r)?e.removeAttribute(t):e.setAttribute(t,s?"":r)}}function vue(e,t,r,n,a,s,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,a,s),e[t]=r??"";return}const u=e.tagName;if(t==="value"&&u!=="PROGRESS"&&!u.includes("-")){const c=u==="OPTION"?e.getAttribute("value")||"":e.value,d=r??"";(c!==d||!("_value"in e))&&(e.value=d),r==null&&e.removeAttribute(t),e._value=r;return}let l=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=Ez(r):r==null&&c==="string"?(r="",l=!0):c==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(t)}function Rs(e,t,r,n){e.addEventListener(t,r,n)}function wue(e,t,r,n){e.removeEventListener(t,r,n)}const U4=Symbol("_vei");function Sue(e,t,r,n,a=null){const s=e[U4]||(e[U4]={}),o=s[t];if(n&&o)o.value=n;else{const[u,l]=Tue(t);if(n){const c=s[t]=Oue(n,a);Rs(e,u,c,l)}else o&&(wue(e,u,o,l),s[t]=void 0)}}const k4=/(?:Once|Passive|Capture)$/;function Tue(e){let t;if(k4.test(e)){t={};let n;for(;n=e.match(k4);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ei(e.slice(2)),t]}let eT=0;const Eue=Promise.resolve(),Aue=()=>eT||(Eue.then(()=>eT=0),eT=Date.now());function Oue(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;zi(Rue(n,r.value),t,5,[n])};return r.value=e,r.attached=Aue(),r}function Rue(e,t){if(yt(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const V4=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,xue=(e,t,r,n,a,s,o,u,l)=>{const c=a==="svg";t==="class"?hue(e,n,c):t==="style"?gue(e,r,n):eb(t)?yP(t)||Sue(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Iue(e,t,n,c))?vue(e,t,n,s,o,u,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),bue(e,t,n,c))};function Iue(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&V4(t)&&Rt(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return V4(t)&&Dr(r)?!1:t in e}/*! #__NO_SIDE_EFFECTS__ */function Pue(e,t){const r=Vw(e);class n extends BP{constructor(s){super(r,s,t)}}return n.def=r,n}/*! #__NO_SIDE_EFFECTS__ */const _je=e=>Pue(e,Hue),Nue=typeof HTMLElement<"u"?HTMLElement:class{};class BP extends Nue{constructor(t,r={},n){super(),this._def=t,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),nb(()=>{this._connected||(K4(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(n=>{for(const a of n)this._setAttr(a.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(n,a=!1)=>{const{props:s,styles:o}=n;let u;if(s&&!yt(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Xv(this._props[l])),(u||(u=Object.create(null)))[fi(l)]=!0)}this._numberProps=u,a&&this._resolveProps(n),this._applyStyles(o),this._update()},r=this._def.__asyncLoader;r?r().then(n=>t(n,!0)):t(this._def)}_resolveProps(t){const{props:r}=t,n=yt(r)?r:Object.keys(r||{});for(const a of Object.keys(this))a[0]!=="_"&&n.includes(a)&&this._setProp(a,this[a],!0,!1);for(const a of n.map(fi))Object.defineProperty(this,a,{get(){return this._getProp(a)},set(s){this._setProp(a,s)}})}_setAttr(t){let r=this.hasAttribute(t)?this.getAttribute(t):void 0;const n=fi(t);this._numberProps&&this._numberProps[n]&&(r=Xv(r)),this._setProp(n,r,!1)}_getProp(t){return this._props[t]}_setProp(t,r,n=!0,a=!0){r!==this._props[t]&&(this._props[t]=r,a&&this._instance&&this._update(),n&&(r===!0?this.setAttribute(Ei(t),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Ei(t),r+""):r||this.removeAttribute(Ei(t))))}_update(){K4(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Ct(this._def,Nr({},this._props));return this._instance||(t.ce=r=>{this._instance=r,r.isCE=!0;const n=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};r.emit=(s,...o)=>{n(s,o),Ei(s)!==s&&n(Ei(s),o)};let a=this;for(;a=a&&(a.parentNode||a.host);)if(a instanceof BP){r.parent=a._instance,r.provides=a._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(r=>{const n=document.createElement("style");n.textContent=r,this.shadowRoot.appendChild(n)})}}function bje(e="$style"){{const t=Uo();if(!t)return sr;const r=t.type.__cssModules;if(!r)return sr;const n=r[e];return n||sr}}const BG=new WeakMap,$G=new WeakMap,sw=Symbol("_moveCb"),H4=Symbol("_enterCb"),UG={name:"TransitionGroup",props:Nr({},lue,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Uo(),n=aG();let a,s;return NP(()=>{if(!a.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Mue(a[0].el,r.vnode.el,o))return;a.forEach(Cue),a.forEach(Lue);const u=a.filter(jue);MG(),u.forEach(l=>{const c=l.el,d=c.style;ws(c,o),d.transform=d.webkitTransform=d.transitionDuration="";const f=c[sw]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",f),c[sw]=null,uo(c,o))};c.addEventListener("transitionend",f)})}),()=>{const o=Gt(e),u=LG(o);let l=o.tag||Hr;if(a=[],s)for(let c=0;c<s.length;c++){const d=s[c];d.el&&d.el instanceof Element&&(a.push(d),jl(d,N_(d,u,n,r)),BG.set(d,d.el.getBoundingClientRect()))}s=t.default?PP(t.default()):[];for(let c=0;c<s.length;c++){const d=s[c];d.key!=null&&jl(d,N_(d,u,n,r))}return Ct(l,null,s)}}},Due=e=>delete e.mode;UG.props;const vje=UG;function Cue(e){const t=e.el;t[sw]&&t[sw](),t[H4]&&t[H4]()}function Lue(e){$G.set(e,e.el.getBoundingClientRect())}function jue(e){const t=BG.get(e),r=$G.get(e),n=t.left-r.left,a=t.top-r.top;if(n||a){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${n}px,${a}px)`,s.transitionDuration="0s",e}}function Mue(e,t,r){const n=e.cloneNode(),a=e[Fl];a&&a.forEach(u=>{u.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(u=>u&&n.classList.add(u)),n.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(n);const{hasTransform:o}=jG(n);return s.removeChild(n),o}const Do=e=>{const t=e.props["onUpdate:modelValue"]||!1;return yt(t)?r=>hl(t,r):t};function Fue(e){e.target.composing=!0}function Q4(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Gi=Symbol("_assign"),$i={created(e,{modifiers:{lazy:t,trim:r,number:n}},a){e[Gi]=Do(a);const s=n||a.props&&a.props.type==="number";Rs(e,t?"change":"input",o=>{if(o.target.composing)return;let u=e.value;r&&(u=u.trim()),s&&(u=Jv(u)),e[Gi](u)}),r&&Rs(e,"change",()=>{e.value=e.value.trim()}),t||(Rs(e,"compositionstart",Fue),Rs(e,"compositionend",Q4),Rs(e,"change",Q4))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:a}},s){if(e[Gi]=Do(s),e.composing)return;const o=(a||e.type==="number")&&!/^0\d/.test(e.value)?Jv(e.value):e.value,u=t??"";o!==u&&(document.activeElement===e&&e.type!=="range"&&(r||n&&e.value.trim()===u)||(e.value=u))}},kG={deep:!0,created(e,t,r){e[Gi]=Do(r),Rs(e,"change",()=>{const n=e._modelValue,a=ql(e),s=e.checked,o=e[Gi];if(yt(n)){const u=Mw(n,a),l=u!==-1;if(s&&!l)o(n.concat(a));else if(!s&&l){const c=[...n];c.splice(u,1),o(c)}}else if(gc(n)){const u=new Set(n);s?u.add(a):u.delete(a),o(u)}else o(VG(e,s))})},mounted:z4,beforeUpdate(e,t,r){e[Gi]=Do(r),z4(e,t,r)}};function z4(e,{value:t,oldValue:r},n){e._modelValue=t,yt(t)?e.checked=Mw(t,n.props.value)>-1:gc(t)?e.checked=t.has(n.props.value):t!==r&&(e.checked=No(t,VG(e,!0)))}const f_={created(e,{value:t},r){e.checked=No(t,r.props.value),e[Gi]=Do(r),Rs(e,"change",()=>{e[Gi](ql(e))})},beforeUpdate(e,{value:t,oldValue:r},n){e[Gi]=Do(n),t!==r&&(e.checked=No(t,n.props.value))}},que={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const a=gc(t);Rs(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?Jv(ql(o)):ql(o));e[Gi](e.multiple?a?new Set(s):s:s[0]),e._assigning=!0,nb(()=>{e._assigning=!1})}),e[Gi]=Do(n)},mounted(e,{value:t,modifiers:{number:r}}){G4(e,t)},beforeUpdate(e,t,r){e[Gi]=Do(r)},updated(e,{value:t,modifiers:{number:r}}){e._assigning||G4(e,t)}};function G4(e,t,r){const n=e.multiple,a=yt(t);if(!(n&&!a&&!gc(t))){for(let s=0,o=e.options.length;s<o;s++){const u=e.options[s],l=ql(u);if(n)if(a){const c=typeof l;c==="string"||c==="number"?u.selected=t.some(d=>String(d)===String(l)):u.selected=Mw(t,l)>-1}else u.selected=t.has(l);else if(No(ql(u),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ql(e){return"_value"in e?e._value:e.value}function VG(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const Bue={created(e,t,r){P1(e,t,r,null,"created")},mounted(e,t,r){P1(e,t,r,null,"mounted")},beforeUpdate(e,t,r,n){P1(e,t,r,n,"beforeUpdate")},updated(e,t,r,n){P1(e,t,r,n,"updated")}};function HG(e,t){switch(e){case"SELECT":return que;case"TEXTAREA":return $i;default:switch(t){case"checkbox":return kG;case"radio":return f_;default:return $i}}}function P1(e,t,r,n,a){const o=HG(e.tagName,r.props&&r.props.type)[a];o&&o(e,t,r,n)}function $ue(){$i.getSSRProps=({value:e})=>({value:e}),f_.getSSRProps=({value:e},t)=>{if(t.props&&No(t.props.value,e))return{checked:!0}},kG.getSSRProps=({value:e},t)=>{if(yt(e)){if(t.props&&Mw(e,t.props.value)>-1)return{checked:!0}}else if(gc(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Bue.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const r=HG(t.type.toUpperCase(),t.props&&t.props.type);if(r.getSSRProps)return r.getSSRProps(e,t)}}const Uue=["ctrl","shift","alt","meta"],kue={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Uue.some(r=>e[`${r}Key`]&&!t.includes(r))},wje=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(a,...s)=>{for(let o=0;o<t.length;o++){const u=kue[t[o]];if(u&&u(a,t))return}return e(a,...s)})},Vue={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Sje=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=a=>{if(!("key"in a))return;const s=Ei(a.key);if(t.some(o=>o===s||Vue[o]===s))return e(a)})},QG=Nr({patchProp:xue},cue);let h_,W4=!1;function zG(){return h_||(h_=Hoe(QG))}function GG(){return h_=W4?h_:Qoe(QG),W4=!0,h_}const K4=(...e)=>{zG().render(...e)},Hue=(...e)=>{GG().hydrate(...e)},Que=(...e)=>{const t=zG().createApp(...e),{mount:r}=t;return t.mount=n=>{const a=KG(n);if(!a)return;const s=t._component;!Rt(s)&&!s.render&&!s.template&&(s.template=a.innerHTML),a.innerHTML="";const o=r(a,!1,WG(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t},Tje=(...e)=>{const t=GG().createApp(...e),{mount:r}=t;return t.mount=n=>{const a=KG(n);if(a)return r(a,!0,WG(a))},t};function WG(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function KG(e){return Dr(e)?document.querySelector(e):e}let J4=!1;const Eje=()=>{J4||(J4=!0,$ue(),yue())};var zue=!1;let JG;const Ww=e=>JG=e,XG=Symbol();function qx(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var p_;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(p_||(p_={}));function Gue(){const e=Rz(!0),t=e.run(()=>Ms({}));let r=[],n=[];const a=SP({install(s){Ww(a),a._a=s,s.provide(XG,a),s.config.globalProperties.$pinia=a,n.forEach(o=>r.push(o)),n=[]},use(s){return!this._a&&!zue?n.push(s):r.push(s),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return a}const YG=()=>{};function X4(e,t,r,n=YG){e.push(t);const a=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),n())};return!r&&Iz()&&hse(a),a}function Uc(e,...t){e.slice().forEach(r=>{r(...t)})}const Wue=e=>e();function Bx(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,n)=>e.set(n,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],a=e[r];qx(a)&&qx(n)&&e.hasOwnProperty(r)&&!Yr(n)&&!Yu(n)?e[r]=Bx(a,n):e[r]=n}return e}const Kue=Symbol();function Jue(e){return!qx(e)||!e.hasOwnProperty(Kue)}const{assign:co}=Object;function Xue(e){return!!(Yr(e)&&e.effect)}function Yue(e,t,r,n){const{state:a,actions:s,getters:o}=t,u=r.state.value[e];let l;function c(){u||(r.state.value[e]=a?a():{});const d=$se(r.state.value[e]);return co(d,s,Object.keys(o||{}).reduce((f,h)=>(f[h]=SP(Bi(()=>{Ww(r);const p=r._s.get(e);return o[h].call(p,p)})),f),{}))}return l=ZG(e,c,t,r,n,!0),l}function ZG(e,t,r={},n,a,s){let o;const u=co({actions:{}},r),l={deep:!0};let c,d,f=[],h=[],p;const m=n.state.value[e];!s&&!m&&(n.state.value[e]={}),Ms({});let y;function g(C){let I;c=d=!1,typeof C=="function"?(C(n.state.value[e]),I={type:p_.patchFunction,storeId:e,events:p}):(Bx(n.state.value[e],C),I={type:p_.patchObject,payload:C,storeId:e,events:p});const P=y=Symbol();nb().then(()=>{y===P&&(c=!0)}),d=!0,Uc(f,I,n.state.value[e])}const b=s?function(){const{state:I}=r,P=I?I():{};this.$patch(L=>{co(L,P)})}:YG;function v(){o.stop(),f=[],h=[],n._s.delete(e)}function _(C,I){return function(){Ww(n);const P=Array.from(arguments),L=[],D=[];function V(H){L.push(H)}function k(H){D.push(H)}Uc(h,{args:P,name:C,store:S,after:V,onError:k});let $;try{$=I.apply(this&&this.$id===e?this:S,P)}catch(H){throw Uc(D,H),H}return $ instanceof Promise?$.then(H=>(Uc(L,H),H)).catch(H=>(Uc(D,H),Promise.reject(H))):(Uc(L,$),$)}}const w={_p:n,$id:e,$onAction:X4.bind(null,h),$patch:g,$reset:b,$subscribe(C,I={}){const P=X4(f,C,I.detached,()=>L()),L=o.run(()=>gl(()=>n.state.value[e],D=>{(I.flush==="sync"?d:c)&&C({storeId:e,type:p_.direct,events:p},D)},co({},l,I)));return P},$dispose:v},S=rb(w);n._s.set(e,S);const x=(n._a&&n._a.runWithContext||Wue)(()=>n._e.run(()=>(o=Rz()).run(t)));for(const C in x){const I=x[C];if(Yr(I)&&!Xue(I)||Yu(I))s||(m&&Jue(I)&&(Yr(I)?I.value=m[C]:Bx(I,m[C])),n.state.value[e][C]=I);else if(typeof I=="function"){const P=_(C,I);x[C]=P,u.actions[C]=I}}return co(S,x),co(Gt(S),x),Object.defineProperty(S,"$state",{get:()=>n.state.value[e],set:C=>{g(I=>{co(I,C)})}}),n._p.forEach(C=>{co(S,o.run(()=>C({store:S,app:n._a,pinia:n,options:u})))}),m&&s&&r.hydrate&&r.hydrate(S.$state,m),c=!0,d=!0,S}function $P(e,t,r){let n,a;const s=typeof t=="function";typeof e=="string"?(n=e,a=s?r:t):(a=e,n=e.id);function o(u,l){const c=joe();return u=u||(c?$a(XG,null):null),u&&Ww(u),u=JG,u._s.has(n)||(s?ZG(n,t,a,u):Yue(n,a,u)),u._s.get(n)}return o.$id=n,o}function ow(e,t){return Array.isArray(t)?t.reduce((r,n)=>(r[n]=function(){return e(this.$pinia)[n]},r),{}):Object.keys(t).reduce((r,n)=>(r[n]=function(){const a=e(this.$pinia),s=t[n];return typeof s=="function"?s.call(this,a):a[s]},r),{})}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const el=typeof document<"u";function Zue(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ar=Object.assign;function tT(e,t){const r={};for(const n in t){const a=t[n];r[n]=ya(a)?a.map(e):e(a)}return r}const y_=()=>{},ya=Array.isArray,eW=/#/g,ece=/&/g,tce=/\//g,rce=/=/g,nce=/\?/g,tW=/\+/g,ice=/%5B/g,ace=/%5D/g,rW=/%5E/g,sce=/%60/g,nW=/%7B/g,oce=/%7C/g,iW=/%7D/g,uce=/%20/g;function UP(e){return encodeURI(""+e).replace(oce,"|").replace(ice,"[").replace(ace,"]")}function cce(e){return UP(e).replace(nW,"{").replace(iW,"}").replace(rW,"^")}function $x(e){return UP(e).replace(tW,"%2B").replace(uce,"+").replace(eW,"%23").replace(ece,"%26").replace(sce,"`").replace(nW,"{").replace(iW,"}").replace(rW,"^")}function lce(e){return $x(e).replace(rce,"%3D")}function dce(e){return UP(e).replace(eW,"%23").replace(nce,"%3F")}function fce(e){return e==null?"":dce(e).replace(tce,"%2F")}function C_(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const hce=/\/$/,pce=e=>e.replace(hce,"");function rT(e,t,r="/"){let n,a={},s="",o="";const u=t.indexOf("#");let l=t.indexOf("?");return u<l&&u>=0&&(l=-1),l>-1&&(n=t.slice(0,l),s=t.slice(l+1,u>-1?u:t.length),a=e(s)),u>-1&&(n=n||t.slice(0,u),o=t.slice(u,t.length)),n=_ce(n??t,r),{fullPath:n+(s&&"?")+s+o,path:n,query:a,hash:C_(o)}}function yce(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function Y4(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function mce(e,t,r){const n=t.matched.length-1,a=r.matched.length-1;return n>-1&&n===a&&Bl(t.matched[n],r.matched[a])&&aW(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function Bl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function aW(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!gce(e[r],t[r]))return!1;return!0}function gce(e,t){return ya(e)?Z4(e,t):ya(t)?Z4(t,e):e===t}function Z4(e,t){return ya(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function _ce(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),a=n[n.length-1];(a===".."||a===".")&&n.push("");let s=r.length-1,o,u;for(o=0;o<n.length;o++)if(u=n[o],u!==".")if(u==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(o).join("/")}var L_;(function(e){e.pop="pop",e.push="push"})(L_||(L_={}));var m_;(function(e){e.back="back",e.forward="forward",e.unknown=""})(m_||(m_={}));function bce(e){if(!e)if(el){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),pce(e)}const vce=/^[^#]+#/;function wce(e,t){return e.replace(vce,"#")+t}function Sce(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const Kw=()=>({left:window.scrollX,top:window.scrollY});function Tce(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;t=Sce(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function e6(e,t){return(history.state?history.state.position-t:-1)+e}const Ux=new Map;function Ece(e,t){Ux.set(e,t)}function Ace(e){const t=Ux.get(e);return Ux.delete(e),t}let Oce=()=>location.protocol+"//"+location.host;function sW(e,t){const{pathname:r,search:n,hash:a}=t,s=e.indexOf("#");if(s>-1){let u=a.includes(e.slice(s))?e.slice(s).length:1,l=a.slice(u);return l[0]!=="/"&&(l="/"+l),Y4(l,"")}return Y4(r,e)+n+a}function Rce(e,t,r,n){let a=[],s=[],o=null;const u=({state:h})=>{const p=sW(e,location),m=r.value,y=t.value;let g=0;if(h){if(r.value=p,t.value=h,o&&o===m){o=null;return}g=y?h.position-y.position:0}else n(p);a.forEach(b=>{b(r.value,m,{delta:g,type:L_.pop,direction:g?g>0?m_.forward:m_.back:m_.unknown})})};function l(){o=r.value}function c(h){a.push(h);const p=()=>{const m=a.indexOf(h);m>-1&&a.splice(m,1)};return s.push(p),p}function d(){const{history:h}=window;h.state&&h.replaceState(ar({},h.state,{scroll:Kw()}),"")}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function t6(e,t,r,n=!1,a=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:a?Kw():null}}function xce(e){const{history:t,location:r}=window,n={value:sW(e,r)},a={value:t.state};a.value||s(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,c,d){const f=e.indexOf("#"),h=f>-1?(r.host&&document.querySelector("base")?e:e.slice(f))+l:Oce()+e+l;try{t[d?"replaceState":"pushState"](c,"",h),a.value=c}catch(p){console.error(p),r[d?"replace":"assign"](h)}}function o(l,c){const d=ar({},t.state,t6(a.value.back,l,a.value.forward,!0),c,{position:a.value.position});s(l,d,!0),n.value=l}function u(l,c){const d=ar({},a.value,t.state,{forward:l,scroll:Kw()});s(d.current,d,!0);const f=ar({},t6(n.value,l,null),{position:d.position+1},c);s(l,f,!1),n.value=l}return{location:n,state:a,push:u,replace:o}}function Ice(e){e=bce(e);const t=xce(e),r=Rce(e,t.state,t.location,t.replace);function n(s,o=!0){o||r.pauseListeners(),history.go(s)}const a=ar({location:"",base:e,go:n,createHref:wce.bind(null,e)},t,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function Pce(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Ice(e)}function Nce(e){return typeof e=="string"||e&&typeof e=="object"}function oW(e){return typeof e=="string"||typeof e=="symbol"}const io={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},uW=Symbol("");var r6;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(r6||(r6={}));function $l(e,t){return ar(new Error,{type:e,[uW]:!0},t)}function hs(e,t){return e instanceof Error&&uW in e&&(t==null||!!(e.type&t))}const n6="[^/]+?",Dce={sensitive:!1,strict:!1,start:!0,end:!0},Cce=/[.+*?^${}()[\]/\\]/g;function Lce(e,t){const r=ar({},Dce,t),n=[];let a=r.start?"^":"";const s=[];for(const c of e){const d=c.length?[]:[90];r.strict&&!c.length&&(a+="/");for(let f=0;f<c.length;f++){const h=c[f];let p=40+(r.sensitive?.25:0);if(h.type===0)f||(a+="/"),a+=h.value.replace(Cce,"\\$&"),p+=40;else if(h.type===1){const{value:m,repeatable:y,optional:g,regexp:b}=h;s.push({name:m,repeatable:y,optional:g});const v=b||n6;if(v!==n6){p+=10;try{new RegExp(`(${v})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${m}" (${v}): `+w.message)}}let _=y?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;f||(_=g&&c.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),a+=_,p+=20,g&&(p+=-8),y&&(p+=-20),v===".*"&&(p+=-50)}d.push(p)}n.push(d)}if(r.strict&&r.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");const o=new RegExp(a,r.sensitive?"":"i");function u(c){const d=c.match(o),f={};if(!d)return null;for(let h=1;h<d.length;h++){const p=d[h]||"",m=s[h-1];f[m.name]=p&&m.repeatable?p.split("/"):p}return f}function l(c){let d="",f=!1;for(const h of e){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const p of h)if(p.type===0)d+=p.value;else if(p.type===1){const{value:m,repeatable:y,optional:g}=p,b=m in c?c[m]:"";if(ya(b)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const v=ya(b)?b.join("/"):b;if(!v)if(g)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);d+=v}}return d||"/"}return{re:o,score:n,keys:s,parse:u,stringify:l}}function jce(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Mce(e,t){let r=0;const n=e.score,a=t.score;for(;r<n.length&&r<a.length;){const s=jce(n[r],a[r]);if(s)return s;r++}if(Math.abs(a.length-n.length)===1){if(i6(n))return 1;if(i6(a))return-1}return a.length-n.length}function i6(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Fce={type:0,value:""},qce=/[a-zA-Z0-9_]/;function Bce(e){if(!e)return[[]];if(e==="/")return[[Fce]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${r})/"${c}": ${p}`)}let r=0,n=r;const a=[];let s;function o(){s&&a.push(s),s=[]}let u=0,l,c="",d="";function f(){c&&(r===0?s.push({type:0,value:c}):r===1||r===2||r===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;u<e.length;){if(l=e[u++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),r=1):h();break;case 4:h(),r=n;break;case 1:l==="("?r=2:qce.test(l)?h():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&u--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:r=3:d+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&u--,d="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),a}function $ce(e,t,r){const n=Lce(Bce(e.path),r),a=ar(n,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Uce(e,t){const r=[],n=new Map;t=o6({strict:!1,end:!0,sensitive:!1},t);function a(d){return n.get(d)}function s(d,f,h){const p=!h,m=kce(d);m.aliasOf=h&&h.record;const y=o6(t,d),g=[m];if("alias"in d){const _=typeof d.alias=="string"?[d.alias]:d.alias;for(const w of _)g.push(ar({},m,{components:h?h.record.components:m.components,path:w,aliasOf:h?h.record:m}))}let b,v;for(const _ of g){const{path:w}=_;if(f&&w[0]!=="/"){const S=f.record.path,E=S[S.length-1]==="/"?"":"/";_.path=f.record.path+(w&&E+w)}if(b=$ce(_,f,y),h?h.alias.push(b):(v=v||b,v!==b&&v.alias.push(b),p&&d.name&&!s6(b)&&o(d.name)),m.children){const S=m.children;for(let E=0;E<S.length;E++)s(S[E],b,h&&h.children[E])}h=h||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&l(b)}return v?()=>{o(v)}:y_}function o(d){if(oW(d)){const f=n.get(d);f&&(n.delete(d),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(d);f>-1&&(r.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function u(){return r}function l(d){let f=0;for(;f<r.length&&Mce(d,r[f])>=0&&(d.record.path!==r[f].record.path||!cW(d,r[f]));)f++;r.splice(f,0,d),d.record.name&&!s6(d)&&n.set(d.record.name,d)}function c(d,f){let h,p={},m,y;if("name"in d&&d.name){if(h=n.get(d.name),!h)throw $l(1,{location:d});y=h.record.name,p=ar(a6(f.params,h.keys.filter(v=>!v.optional).concat(h.parent?h.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),d.params&&a6(d.params,h.keys.map(v=>v.name))),m=h.stringify(p)}else if(d.path!=null)m=d.path,h=r.find(v=>v.re.test(m)),h&&(p=h.parse(m),y=h.record.name);else{if(h=f.name?n.get(f.name):r.find(v=>v.re.test(f.path)),!h)throw $l(1,{location:d,currentLocation:f});y=h.record.name,p=ar({},f.params,d.params),m=h.stringify(p)}const g=[];let b=h;for(;b;)g.unshift(b.record),b=b.parent;return{name:y,path:m,params:p,matched:g,meta:Hce(g)}}return e.forEach(d=>s(d)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:u,getRecordMatcher:a}}function a6(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function kce(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Vce(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Vce(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="object"?r[n]:r;return t}function s6(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Hce(e){return e.reduce((t,r)=>ar(t,r.meta),{})}function o6(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function cW(e,t){return t.children.some(r=>r===e||cW(e,r))}function Qce(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<n.length;++a){const s=n[a].replace(tW," "),o=s.indexOf("="),u=C_(o<0?s:s.slice(0,o)),l=o<0?null:C_(s.slice(o+1));if(u in t){let c=t[u];ya(c)||(c=t[u]=[c]),c.push(l)}else t[u]=l}return t}function u6(e){let t="";for(let r in e){const n=e[r];if(r=lce(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(ya(n)?n.map(s=>s&&$x(s)):[n&&$x(n)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+r,s!=null&&(t+="="+s))})}return t}function zce(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=ya(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return t}const Gce=Symbol(""),c6=Symbol(""),kP=Symbol(""),lW=Symbol(""),kx=Symbol("");function Hd(){let e=[];function t(n){return e.push(n),()=>{const a=e.indexOf(n);a>-1&&e.splice(a,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function _o(e,t,r,n,a,s=o=>o()){const o=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((u,l)=>{const c=h=>{h===!1?l($l(4,{from:r,to:t})):h instanceof Error?l(h):Nce(h)?l($l(2,{from:t,to:h})):(o&&n.enterCallbacks[a]===o&&typeof h=="function"&&o.push(h),u())},d=s(()=>e.call(n&&n.instances[a],t,r,c));let f=Promise.resolve(d);e.length<3&&(f=f.then(c)),f.catch(h=>l(h))})}function nT(e,t,r,n,a=s=>s()){const s=[];for(const o of e)for(const u in o.components){let l=o.components[u];if(!(t!=="beforeRouteEnter"&&!o.instances[u]))if(Wce(l)){const d=(l.__vccOpts||l)[t];d&&s.push(_o(d,r,n,o,u,a))}else{let c=l();s.push(()=>c.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${o.path}"`));const f=Zue(d)?d.default:d;o.components[u]=f;const p=(f.__vccOpts||f)[t];return p&&_o(p,r,n,o,u,a)()}))}}return s}function Wce(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function l6(e){const t=$a(kP),r=$a(lW),n=Bi(()=>{const l=wr(e.to);return t.resolve(l)}),a=Bi(()=>{const{matched:l}=n.value,{length:c}=l,d=l[c-1],f=r.matched;if(!d||!f.length)return-1;const h=f.findIndex(Bl.bind(null,d));if(h>-1)return h;const p=d6(l[c-2]);return c>1&&d6(d)===p&&f[f.length-1].path!==p?f.findIndex(Bl.bind(null,l[c-2])):h}),s=Bi(()=>a.value>-1&&Xce(r.params,n.value.params)),o=Bi(()=>a.value>-1&&a.value===r.matched.length-1&&aW(r.params,n.value.params));function u(l={}){return Jce(l)?t[wr(e.replace)?"replace":"push"](wr(e.to)).catch(y_):Promise.resolve()}return{route:n,href:Bi(()=>n.value.href),isActive:s,isExactActive:o,navigate:u}}const Kce=Vw({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:l6,setup(e,{slots:t}){const r=rb(l6(e)),{options:n}=$a(kP),a=Bi(()=>({[f6(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[f6(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=t.default&&t.default(r);return e.custom?s:Gw("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},s)}}}),Ss=Kce;function Jce(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Xce(e,t){for(const r in t){const n=t[r],a=e[r];if(typeof n=="string"){if(n!==a)return!1}else if(!ya(a)||a.length!==n.length||n.some((s,o)=>s!==a[o]))return!1}return!0}function d6(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const f6=(e,t,r)=>e??t??r,Yce=Vw({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=$a(kx),a=Bi(()=>e.route||n.value),s=$a(c6,0),o=Bi(()=>{let c=wr(s);const{matched:d}=a.value;let f;for(;(f=d[c])&&!f.components;)c++;return c}),u=Bi(()=>a.value.matched[o.value]);vv(c6,Bi(()=>o.value+1)),vv(Gce,u),vv(kx,a);const l=Ms();return gl(()=>[l.value,u.value,e.name],([c,d,f],[h,p,m])=>{d&&(d.instances[f]=c,p&&p!==d&&c&&c===h&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!Bl(d,p)||!h)&&(d.enterCallbacks[f]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=a.value,d=e.name,f=u.value,h=f&&f.components[d];if(!h)return h6(r.default,{Component:h,route:c});const p=f.props[d],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,g=Gw(h,ar({},m,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[d]=null)},ref:l}));return h6(r.default,{Component:g,route:c})||g}}});function h6(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const dW=Yce;function Zce(e){const t=Uce(e.routes,e),r=e.parseQuery||Qce,n=e.stringifyQuery||u6,a=e.history,s=Hd(),o=Hd(),u=Hd(),l=jse(io);let c=io;el&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=tT.bind(null,we=>""+we),f=tT.bind(null,fce),h=tT.bind(null,C_);function p(we,Ae){let Se,z;return oW(we)?(Se=t.getRecordMatcher(we),z=Ae):z=we,t.addRoute(z,Se)}function m(we){const Ae=t.getRecordMatcher(we);Ae&&t.removeRoute(Ae)}function y(){return t.getRoutes().map(we=>we.record)}function g(we){return!!t.getRecordMatcher(we)}function b(we,Ae){if(Ae=ar({},Ae||l.value),typeof we=="string"){const O=rT(r,we,Ae.path),U=t.resolve({path:O.path},Ae),G=a.createHref(O.fullPath);return ar(O,U,{params:h(U.params),hash:C_(O.hash),redirectedFrom:void 0,href:G})}let Se;if(we.path!=null)Se=ar({},we,{path:rT(r,we.path,Ae.path).path});else{const O=ar({},we.params);for(const U in O)O[U]==null&&delete O[U];Se=ar({},we,{params:f(O)}),Ae.params=f(Ae.params)}const z=t.resolve(Se,Ae),M=we.hash||"";z.params=d(h(z.params));const B=yce(n,ar({},we,{hash:cce(M),path:z.path})),T=a.createHref(B);return ar({fullPath:B,hash:M,query:n===u6?zce(we.query):we.query||{}},z,{redirectedFrom:void 0,href:T})}function v(we){return typeof we=="string"?rT(r,we,l.value.path):ar({},we)}function _(we,Ae){if(c!==we)return $l(8,{from:Ae,to:we})}function w(we){return x(we)}function S(we){return w(ar(v(we),{replace:!0}))}function E(we){const Ae=we.matched[we.matched.length-1];if(Ae&&Ae.redirect){const{redirect:Se}=Ae;let z=typeof Se=="function"?Se(we):Se;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=v(z):{path:z},z.params={}),ar({query:we.query,hash:we.hash,params:z.path!=null?{}:we.params},z)}}function x(we,Ae){const Se=c=b(we),z=l.value,M=we.state,B=we.force,T=we.replace===!0,O=E(Se);if(O)return x(ar(v(O),{state:typeof O=="object"?ar({},M,O.state):M,force:B,replace:T}),Ae||Se);const U=Se;U.redirectedFrom=Ae;let G;return!B&&mce(n,z,Se)&&(G=$l(16,{to:U,from:z}),De(z,z,!0,!1)),(G?Promise.resolve(G):P(U,z)).catch(Q=>hs(Q)?hs(Q,2)?Q:Te(Q):Y(Q,U,z)).then(Q=>{if(Q){if(hs(Q,2))return x(ar({replace:T},v(Q.to),{state:typeof Q.to=="object"?ar({},M,Q.to.state):M,force:B}),Ae||U)}else Q=D(U,z,!0,T,M);return L(U,z,Q),Q})}function C(we,Ae){const Se=_(we,Ae);return Se?Promise.reject(Se):Promise.resolve()}function I(we){const Ae=ue.values().next().value;return Ae&&typeof Ae.runWithContext=="function"?Ae.runWithContext(we):we()}function P(we,Ae){let Se;const[z,M,B]=ele(we,Ae);Se=nT(z.reverse(),"beforeRouteLeave",we,Ae);for(const O of z)O.leaveGuards.forEach(U=>{Se.push(_o(U,we,Ae))});const T=C.bind(null,we,Ae);return Se.push(T),Ne(Se).then(()=>{Se=[];for(const O of s.list())Se.push(_o(O,we,Ae));return Se.push(T),Ne(Se)}).then(()=>{Se=nT(M,"beforeRouteUpdate",we,Ae);for(const O of M)O.updateGuards.forEach(U=>{Se.push(_o(U,we,Ae))});return Se.push(T),Ne(Se)}).then(()=>{Se=[];for(const O of B)if(O.beforeEnter)if(ya(O.beforeEnter))for(const U of O.beforeEnter)Se.push(_o(U,we,Ae));else Se.push(_o(O.beforeEnter,we,Ae));return Se.push(T),Ne(Se)}).then(()=>(we.matched.forEach(O=>O.enterCallbacks={}),Se=nT(B,"beforeRouteEnter",we,Ae,I),Se.push(T),Ne(Se))).then(()=>{Se=[];for(const O of o.list())Se.push(_o(O,we,Ae));return Se.push(T),Ne(Se)}).catch(O=>hs(O,8)?O:Promise.reject(O))}function L(we,Ae,Se){u.list().forEach(z=>I(()=>z(we,Ae,Se)))}function D(we,Ae,Se,z,M){const B=_(we,Ae);if(B)return B;const T=Ae===io,O=el?history.state:{};Se&&(z||T?a.replace(we.fullPath,ar({scroll:T&&O&&O.scroll},M)):a.push(we.fullPath,M)),l.value=we,De(we,Ae,Se,T),Te()}let V;function k(){V||(V=a.listen((we,Ae,Se)=>{if(!Ie.listening)return;const z=b(we),M=E(z);if(M){x(ar(M,{replace:!0}),z).catch(y_);return}c=z;const B=l.value;el&&Ece(e6(B.fullPath,Se.delta),Kw()),P(z,B).catch(T=>hs(T,12)?T:hs(T,2)?(x(T.to,z).then(O=>{hs(O,20)&&!Se.delta&&Se.type===L_.pop&&a.go(-1,!1)}).catch(y_),Promise.reject()):(Se.delta&&a.go(-Se.delta,!1),Y(T,z,B))).then(T=>{T=T||D(z,B,!1),T&&(Se.delta&&!hs(T,8)?a.go(-Se.delta,!1):Se.type===L_.pop&&hs(T,20)&&a.go(-1,!1)),L(z,B,T)}).catch(y_)}))}let $=Hd(),H=Hd(),J;function Y(we,Ae,Se){Te(we);const z=H.list();return z.length?z.forEach(M=>M(we,Ae,Se)):console.error(we),Promise.reject(we)}function de(){return J&&l.value!==io?Promise.resolve():new Promise((we,Ae)=>{$.add([we,Ae])})}function Te(we){return J||(J=!we,k(),$.list().forEach(([Ae,Se])=>we?Se(we):Ae()),$.reset()),we}function De(we,Ae,Se,z){const{scrollBehavior:M}=e;if(!el||!M)return Promise.resolve();const B=!Se&&Ace(e6(we.fullPath,0))||(z||!Se)&&history.state&&history.state.scroll||null;return nb().then(()=>M(we,Ae,B)).then(T=>T&&Tce(T)).catch(T=>Y(T,we,Ae))}const Ve=we=>a.go(we);let le;const ue=new Set,Ie={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,hasRoute:g,getRoutes:y,resolve:b,options:e,push:w,replace:S,go:Ve,back:()=>Ve(-1),forward:()=>Ve(1),beforeEach:s.add,beforeResolve:o.add,afterEach:u.add,onError:H.add,isReady:de,install(we){const Ae=this;we.component("RouterLink",Ss),we.component("RouterView",dW),we.config.globalProperties.$router=Ae,Object.defineProperty(we.config.globalProperties,"$route",{enumerable:!0,get:()=>wr(l)}),el&&!le&&l.value===io&&(le=!0,w(a.location).catch(M=>{}));const Se={};for(const M in io)Object.defineProperty(Se,M,{get:()=>l.value[M],enumerable:!0});we.provide(kP,Ae),we.provide(lW,Vz(Se)),we.provide(kx,l);const z=we.unmount;ue.add(we),we.unmount=function(){ue.delete(we),ue.size<1&&(c=io,V&&V(),V=null,l.value=io,le=!1,J=!1),z()}}};function Ne(we){return we.reduce((Ae,Se)=>Ae.then(()=>I(Se)),Promise.resolve())}return Ie}function ele(e,t){const r=[],n=[],a=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const u=t.matched[o];u&&(e.matched.find(c=>Bl(c,u))?n.push(u):r.push(u));const l=e.matched[o];l&&(t.matched.find(c=>Bl(c,l))||a.push(l))}return[r,n,a]}var N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fW(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function VP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var HP={};let Jw=class{constructor(){return tle||this}equals(t){return t&&this.termType===t.termType}};Object.defineProperty(Jw.prototype,"value",{enumerable:!0,value:"*"});Object.defineProperty(Jw.prototype,"termType",{enumerable:!0,value:"Wildcard"});var tle=new Jw;HP.Wildcard=Jw;var rle=function(){var e=function(He,$e,Ge,tt){for(Ge=Ge||{},tt=He.length;tt--;Ge[He[tt]]=$e);return Ge},t=[6,12,13,15,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],r=[2,247],n=[100,110,113,115,116,123,126,131,329,330,331,332,333],a=[2,409],s=[1,18],o=[1,27],u=[13,16,45,197,224,229,308],l=[28,29,53],c=[28,53],d=[1,42],f=[1,45],h=[1,41],p=[1,44],m=[123,126],y=[1,67],g=[39,45,87],b=[13,16,45,197,224,308],v=[1,87],_=[2,281],w=[1,86],S=[13,16,45,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],E=[6,28,29,53,63,70,73,81,83,85],x=[6,13,16,28,29,53,63,70,73,81,83,85,87,308],C=[6,13,16,28,29,45,53,63,70,73,81,82,83,85,87,89,197,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314],I=[6,13,16,28,29,31,39,45,47,48,53,63,70,73,81,82,83,85,87,89,109,112,121,123,126,128,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,337,338,340,341,342,343,344,345,346],P=[13,16,308],L=[112,132,327,334],D=[13,16,112,132,308],V=[1,111],k=[1,117],$=[112,132,327,328,334],H=[13,16,112,132,308,328],J=[28,29,45,53,87],Y=[1,138],de=[1,151],Te=[1,128],De=[1,127],Ve=[1,129],le=[1,140],ue=[1,141],Ie=[1,142],Ne=[1,143],we=[1,144],Ae=[1,145],Se=[1,147],z=[1,148],M=[2,457],B=[1,158],T=[1,159],O=[1,160],U=[1,152],G=[1,153],Q=[1,156],Z=[1,171],ie=[1,172],te=[1,173],he=[1,174],ce=[1,175],ve=[1,176],Ce=[1,167],Ee=[1,168],Ue=[1,169],Fe=[1,170],Qe=[1,157],ke=[1,166],K=[1,161],j=[1,162],q=[1,163],W=[1,164],re=[1,165],pe=[6,13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],ge=[1,195],qe=[6,31,73,81,83,85],ee=[2,285],Oe=[1,199],je=[1,201],Be=[6,31,70,73,81,83,85],Ye=[2,283],ct=[1,207],ft=[1,218],ot=[1,223],mt=[1,219],ne=[1,225],A=[1,226],R=[1,224],F=[6,63,70,73,81,83,85],X=[1,236],me=[2,334],ye=[1,243],xe=[1,241],Me=[6,193],Ke=[2,349],et=[2,339],dt=[28,128],it=[47,48,193,272],rt=[47,48,193,242,272],Kr=[47,48,193,242,246,272],Je=[47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,341,342,343,344,345,346],fe=[39,47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,338,341,342,343,344,345,346],Pe=[1,271],Le=[1,270],Ze=[6,13,16,29,31,39,45,47,48,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],gt=[1,281],It=[1,280],Dt=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],on=[45,89],Sa=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],jn=[13,16,31,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],dr=[31,89],oi=[48,87],Fr=[6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338],Tn=[6,13,16,39,45,48,82,87,89,231,263,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338,340],yi=[1,313],Mn=[6,85],dn=[6,31,81,83,85],as=[2,361],En=[2,353],mi=[1,343],Fn=[31,112,335],ia=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Ic=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335],oe=[6,109,193],_e=[31,112],Re=[13,16,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],nt=[1,390],ut=[1,391],ht=[13,16,87,197,308,314],jt=[13,16,39,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],Qt=[1,417],nr=[1,418],Ir=[13,16,48,197,229,308],Zt=[6,31,85],gr=[6,13,16,31,45,73,81,83,85,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],qn=[6,13,16,29,31,45,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,231,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,346,347,348,349,350,351],An=[29,31,85,112,159,160,161,163,164],fn=[1,443],Bn=[1,444],aa=[1,449],un=[31,112,193,232,318,335],ss=[13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],eu=[13,16,31,45,48,82,87,89,112,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],tu=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Yt=[13,16,31,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],cn=[31,45],os=[1,507],Ys=[1,508],Yb=[6,13,16,29,31,39,45,47,48,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,336,338,341,342,343,344,345,346,347,348,349,350,351],Zb=[29,31,85,112,159,160,161,163,164,335],ru=[6,13,16,31,45,70,73,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],iC=[13,16,31,45,48,82,87,89,112,193,197,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],aC=[2,352],p2=[13,16,197,308,314],sC=[1,565],Pc=[6,13,16,31,45,76,78,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],oC=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],us=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],uC=[13,16,87,308],cs=[2,364],Nc=[29,31,85,112,159,160,161,163,164,193,232,318,335],e1=[31,112,193,232,272,318,335],ls=[2,359],cC=[13,16,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],t1=[29,31,85,112,159,160,161,163,164,193,232,272,318,335],lC=[13,16,31,45,82,87,89,112,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],dC=[2,347],y2={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Query:7,Qry:8,Query_option0:9,Prologue_repetition0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectClauseWildcard:17,Qry_repetition0:18,WhereClause:19,SolutionModifierNoGroup:20,SelectClauseVars:21,Qry_repetition1:22,SolutionModifier:23,CONSTRUCT:24,ConstructTemplate:25,Qry_repetition2:26,Qry_repetition3:27,WHERE:28,"{":29,Qry_option0:30,"}":31,DESCRIBE:32,Qry_group0:33,Qry_repetition4:34,Qry_option1:35,ASK:36,Qry_repetition5:37,SelectClauseBase:38,"*":39,SelectClauseVars_repetition_plus0:40,SELECT:41,SelectClauseBase_option0:42,SelectClauseItem:43,Var:44,"(":45,Expression:46,AS:47,")":48,SubSelect:49,SubSelect_option0:50,SubSelect_option1:51,DatasetClause:52,FROM:53,DatasetClause_option0:54,iri:55,WhereClause_option0:56,GroupGraphPattern:57,SolutionModifier_option0:58,SolutionModifierNoGroup_option0:59,SolutionModifierNoGroup_option1:60,SolutionModifierNoGroup_option2:61,GroupClause:62,GROUP:63,BY:64,GroupClause_repetition_plus0:65,GroupCondition:66,BuiltInCall:67,FunctionCall:68,HavingClause:69,HAVING:70,HavingClause_repetition_plus0:71,OrderClause:72,ORDER:73,OrderClause_repetition_plus0:74,OrderCondition:75,ASC:76,BrackettedExpression:77,DESC:78,Constraint:79,LimitOffsetClauses:80,LIMIT:81,INTEGER:82,OFFSET:83,ValuesClause:84,VALUES:85,InlineData:86,VAR:87,InlineData_repetition0:88,NIL:89,InlineData_repetition1:90,InlineData_repetition_plus2:91,InlineData_repetition3:92,DataBlock:93,DataBlockValueList:94,DataBlockValueList_repetition_plus0:95,Update:96,Update_repetition0:97,Update1:98,Update_option0:99,LOAD:100,Update1_option0:101,Update1_option1:102,Update1_group0:103,Update1_option2:104,GraphRefAll:105,Update1_group1:106,Update1_option3:107,GraphOrDefault:108,TO:109,CREATE:110,Update1_option4:111,GRAPH:112,INSERTDATA:113,QuadPattern:114,DELETEDATA:115,DELETEWHERE:116,Update1_option5:117,InsertDeleteClause:118,Update1_repetition0:119,IntoGraphClause:120,INTO:121,GraphRef:122,DELETE:123,InsertDeleteClause_option0:124,InsertClause:125,INSERT:126,UsingClause:127,USING:128,UsingClause_option0:129,WithClause:130,WITH:131,DEFAULT:132,GraphOrDefault_option0:133,GraphRefAll_group0:134,Quads:135,Quads_option0:136,Quads_repetition0:137,QuadsNotTriples:138,VarOrIri:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GroupOrUnionGraphPattern:158,OPTIONAL:159,MINUS:160,SERVICE:161,GraphPatternNotTriples_option0:162,FILTER:163,BIND:164,InlineDataOneVar:165,InlineDataFull:166,InlineDataOneVar_repetition0:167,InlineDataFull_repetition0:168,InlineDataFull_repetition_plus1:169,InlineDataFull_repetition2:170,DataBlockValue:171,Literal:172,QuotedTriple:173,UNDEF:174,GroupOrUnionGraphPattern_repetition0:175,ArgList:176,ArgList_option0:177,ArgList_repetition0:178,ExpressionList:179,ExpressionList_repetition0:180,ConstructTemplate_option0:181,ConstructTriples:182,ConstructTriples_repetition0:183,ConstructTriples_option0:184,VarOrTermOrQuotedTP:185,PropertyListNotEmpty:186,TriplesNode:187,PropertyList:188,PropertyList_option0:189,VerbObjectList:190,PropertyListNotEmpty_repetition0:191,SemiOptionalVerbObjectList:192,";":193,SemiOptionalVerbObjectList_option0:194,Verb:195,ObjectList:196,a:197,ObjectList_repetition0:198,Object:199,GraphNode:200,Object_option0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,O:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmptyTail:207,O_group0:208,ObjectListPath:209,ObjectListPath_repetition0:210,ObjectPath:211,GraphNodePath:212,ObjectPath_option0:213,Path:214,Path_repetition0:215,PathSequence:216,PathSequence_repetition0:217,PathEltOrInverse:218,PathElt:219,PathPrimary:220,PathElt_option0:221,PathEltOrInverse_option0:222,IriOrA:223,"!":224,PathNegatedPropertySet:225,PathOneInPropertySet:226,PathNegatedPropertySet_repetition0:227,PathNegatedPropertySet_option0:228,"^":229,TriplesNode_repetition_plus0:230,"[":231,"]":232,TriplesNodePath_repetition_plus0:233,VarOrTermOrQuotedTPExpr:234,VarOrTerm:235,GraphTerm:236,BlankNode:237,ConditionalOrExpression:238,ConditionalAndExpression:239,ConditionalOrExpression_repetition0:240,ConditionalOrExpressionTail:241,"||":242,RelationalExpression:243,ConditionalAndExpression_repetition0:244,ConditionalAndExpressionTail:245,"&&":246,NumericExpression:247,RelationalExpression_group0:248,RelationalExpression_option0:249,IN:250,MultiplicativeExpression:251,NumericExpression_repetition0:252,AdditiveExpressionTail:253,AdditiveExpressionTail_group0:254,NumericLiteralPositive:255,AdditiveExpressionTail_repetition0:256,NumericLiteralNegative:257,AdditiveExpressionTail_repetition1:258,UnaryExpression:259,MultiplicativeExpression_repetition0:260,MultiplicativeExpressionTail:261,MultiplicativeExpressionTail_group0:262,"+":263,PrimaryExpression:264,"-":265,ExprQuotedTP:266,Aggregate:267,FUNC_ARITY0:268,FUNC_ARITY1:269,FUNC_ARITY1_SPARQL_STAR:270,FUNC_ARITY2:271,",":272,FUNC_ARITY3:273,FUNC_ARITY3_SPARQL_STAR:274,BuiltInCall_group0:275,BOUND:276,BNODE:277,BuiltInCall_option0:278,EXISTS:279,COUNT:280,Aggregate_option0:281,Aggregate_group0:282,FUNC_AGGREGATE:283,Aggregate_option1:284,GROUP_CONCAT:285,Aggregate_option2:286,Aggregate_option3:287,GroupConcatSeparator:288,SEPARATOR:289,"=":290,String:291,LANGTAG:292,"^^":293,DECIMAL:294,DOUBLE:295,BOOLEAN:296,INTEGER_POSITIVE:297,DECIMAL_POSITIVE:298,DOUBLE_POSITIVE:299,INTEGER_NEGATIVE:300,DECIMAL_NEGATIVE:301,DOUBLE_NEGATIVE:302,STRING_LITERAL1:303,STRING_LITERAL2:304,STRING_LITERAL_LONG1:305,STRING_LITERAL_LONG2:306,PrefixedName:307,PNAME_LN:308,BLANK_NODE_LABEL:309,ANON:310,QuotedTP:311,"<<":312,qtSubjectOrObject:313,">>":314,DataValueTerm:315,AnnotationPattern:316,"{|":317,"|}":318,AnnotationPatternPath:319,ExprVarOrTerm:320,QueryOrUpdate_group0_option0:321,Prologue_repetition0_group0:322,Qry_group0_repetition_plus0:323,SelectClauseBase_option0_group0:324,DISTINCT:325,REDUCED:326,NAMED:327,SILENT:328,CLEAR:329,DROP:330,ADD:331,MOVE:332,COPY:333,ALL:334,".":335,UNION:336,"|":337,"/":338,PathElt_option0_group0:339,"?":340,"!=":341,"<":342,">":343,"<=":344,">=":345,NOT:346,CONCAT:347,COALESCE:348,SUBSTR:349,REGEX:350,REPLACE:351,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"CONSTRUCT",28:"WHERE",29:"{",31:"}",32:"DESCRIBE",36:"ASK",39:"*",41:"SELECT",45:"(",47:"AS",48:")",53:"FROM",63:"GROUP",64:"BY",70:"HAVING",73:"ORDER",76:"ASC",78:"DESC",81:"LIMIT",82:"INTEGER",83:"OFFSET",85:"VALUES",87:"VAR",89:"NIL",100:"LOAD",109:"TO",110:"CREATE",112:"GRAPH",113:"INSERTDATA",115:"DELETEDATA",116:"DELETEWHERE",121:"INTO",123:"DELETE",126:"INSERT",128:"USING",131:"WITH",132:"DEFAULT",159:"OPTIONAL",160:"MINUS",161:"SERVICE",163:"FILTER",164:"BIND",174:"UNDEF",193:";",197:"a",224:"!",229:"^",231:"[",232:"]",242:"||",246:"&&",250:"IN",263:"+",265:"-",268:"FUNC_ARITY0",269:"FUNC_ARITY1",270:"FUNC_ARITY1_SPARQL_STAR",271:"FUNC_ARITY2",272:",",273:"FUNC_ARITY3",274:"FUNC_ARITY3_SPARQL_STAR",276:"BOUND",277:"BNODE",279:"EXISTS",280:"COUNT",283:"FUNC_AGGREGATE",285:"GROUP_CONCAT",289:"SEPARATOR",290:"=",292:"LANGTAG",293:"^^",294:"DECIMAL",295:"DOUBLE",296:"BOOLEAN",297:"INTEGER_POSITIVE",298:"DECIMAL_POSITIVE",299:"DOUBLE_POSITIVE",300:"INTEGER_NEGATIVE",301:"DECIMAL_NEGATIVE",302:"DOUBLE_NEGATIVE",303:"STRING_LITERAL1",304:"STRING_LITERAL2",305:"STRING_LITERAL_LONG1",306:"STRING_LITERAL_LONG2",308:"PNAME_LN",309:"BLANK_NODE_LABEL",310:"ANON",312:"<<",314:">>",317:"{|",318:"|}",325:"DISTINCT",326:"REDUCED",327:"NAMED",328:"SILENT",329:"CLEAR",330:"DROP",331:"ADD",332:"MOVE",333:"COPY",334:"ALL",335:".",336:"UNION",337:"|",338:"/",340:"?",341:"!=",342:"<",343:">",344:"<=",345:">=",346:"NOT",347:"CONCAT",348:"COALESCE",349:"SUBSTR",350:"REGEX",351:"REPLACE"},productions_:[0,[3,3],[7,2],[4,1],[11,2],[14,3],[8,4],[8,4],[8,5],[8,7],[8,5],[8,4],[17,2],[21,2],[38,2],[43,1],[43,5],[49,4],[49,4],[52,3],[19,2],[23,2],[20,3],[62,3],[66,1],[66,1],[66,3],[66,5],[66,1],[69,2],[72,3],[75,2],[75,2],[75,1],[75,1],[80,2],[80,2],[80,4],[80,4],[84,2],[86,4],[86,4],[86,6],[86,2],[94,3],[96,3],[98,4],[98,3],[98,5],[98,4],[98,2],[98,2],[98,2],[98,5],[120,2],[118,3],[118,1],[125,2],[127,3],[130,2],[108,1],[108,2],[122,2],[105,1],[105,1],[114,3],[135,2],[138,7],[143,3],[57,3],[57,3],[147,2],[150,3],[154,3],[151,1],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[93,1],[93,1],[165,4],[166,4],[166,6],[171,1],[171,1],[171,1],[171,1],[158,2],[79,1],[79,1],[79,1],[68,2],[176,1],[176,5],[179,1],[179,4],[25,3],[182,3],[145,2],[145,2],[188,1],[186,2],[192,2],[190,2],[195,1],[195,1],[196,2],[199,2],[156,2],[156,2],[202,2],[207,1],[207,2],[205,2],[209,2],[211,2],[214,2],[216,2],[219,2],[218,2],[220,1],[220,2],[220,3],[225,1],[225,1],[225,4],[226,1],[226,2],[187,3],[187,3],[203,3],[203,3],[200,1],[200,1],[212,1],[212,1],[234,1],[235,1],[235,1],[139,1],[139,1],[44,1],[236,1],[236,1],[236,1],[236,1],[46,1],[238,2],[241,2],[239,2],[245,2],[243,1],[243,3],[243,4],[247,2],[253,2],[253,2],[253,2],[251,2],[261,2],[259,2],[259,2],[259,2],[259,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[77,3],[67,1],[67,2],[67,4],[67,4],[67,6],[67,8],[67,8],[67,2],[67,4],[67,2],[67,4],[67,3],[267,5],[267,5],[267,6],[288,4],[172,1],[172,2],[172,3],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[255,1],[255,1],[255,1],[257,1],[257,1],[257,1],[291,1],[291,1],[291,1],[291,1],[55,1],[55,1],[307,1],[307,1],[237,1],[237,1],[311,5],[173,5],[313,1],[313,1],[313,1],[313,1],[313,1],[315,1],[315,1],[315,1],[185,1],[185,1],[185,1],[316,3],[319,3],[266,5],[320,1],[320,1],[320,1],[223,1],[223,1],[321,0],[321,1],[5,1],[5,1],[5,1],[9,0],[9,1],[322,1],[322,1],[10,0],[10,2],[18,0],[18,2],[22,0],[22,2],[26,0],[26,2],[27,0],[27,2],[30,0],[30,1],[323,1],[323,2],[33,1],[33,1],[34,0],[34,2],[35,0],[35,1],[37,0],[37,2],[40,1],[40,2],[324,1],[324,1],[42,0],[42,1],[50,0],[50,1],[51,0],[51,1],[54,0],[54,1],[56,0],[56,1],[58,0],[58,1],[59,0],[59,1],[60,0],[60,1],[61,0],[61,1],[65,1],[65,2],[71,1],[71,2],[74,1],[74,2],[88,0],[88,2],[90,0],[90,2],[91,1],[91,2],[92,0],[92,2],[95,1],[95,2],[97,0],[97,4],[99,0],[99,2],[101,0],[101,1],[102,0],[102,1],[103,1],[103,1],[104,0],[104,1],[106,1],[106,1],[106,1],[107,0],[107,1],[111,0],[111,1],[117,0],[117,1],[119,0],[119,2],[124,0],[124,1],[129,0],[129,1],[133,0],[133,1],[134,1],[134,1],[134,1],[136,0],[136,1],[137,0],[137,2],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[162,0],[162,1],[167,0],[167,2],[168,0],[168,2],[169,1],[169,2],[170,0],[170,2],[175,0],[175,3],[177,0],[177,1],[178,0],[178,3],[180,0],[180,3],[181,0],[181,1],[183,0],[183,3],[184,0],[184,1],[189,0],[189,1],[191,0],[191,2],[194,0],[194,1],[198,0],[198,3],[201,0],[201,1],[204,0],[204,1],[206,0],[206,2],[208,1],[208,1],[210,0],[210,3],[213,0],[213,1],[215,0],[215,3],[217,0],[217,3],[339,1],[339,1],[339,1],[221,0],[221,1],[222,0],[222,1],[227,0],[227,3],[228,0],[228,1],[230,1],[230,2],[233,1],[233,2],[240,0],[240,2],[244,0],[244,2],[248,1],[248,1],[248,1],[248,1],[248,1],[248,1],[249,0],[249,1],[252,0],[252,2],[254,1],[254,1],[256,0],[256,2],[258,0],[258,2],[260,0],[260,2],[262,1],[262,1],[275,1],[275,1],[275,1],[275,1],[275,1],[278,0],[278,1],[281,0],[281,1],[282,1],[282,1],[284,0],[284,1],[286,0],[286,1],[287,0],[287,1]],performAction:function($e,Ge,tt,bt,Tt,ae,gi){var se=ae.length-1;switch(Tt){case 1:if(ae[se-1]=ae[se-1]||{},Ut.base&&(ae[se-1].base=Ut.base),Ut.base="",ae[se-1].prefixes=Ut.prefixes,Ut.prefixes=null,Ut.pathOnly){if(ae[se-1].type==="path"||"termType"in ae[se-1])return ae[se-1];throw new Error("Received full SPARQL query in path only mode")}else if(ae[se-1].type==="path"||"termType"in ae[se-1])throw new Error("Received only path in full SPARQL mode");if(ae[se-1].type==="update"){const Bt={};for(const er of ae[se-1].updates)if(er.updateType==="insert"){const Mt={};for(const pn of er.insert)if(pn.type==="bgp"||pn.type==="graph")for(const yn of pn.triples)yn.subject.termType==="BlankNode"&&(Mt[yn.subject.value]=!0),yn.predicate.termType==="BlankNode"&&(Mt[yn.predicate.value]=!0),yn.object.termType==="BlankNode"&&(Mt[yn.object.value]=!0);for(const pn of Object.keys(Mt)){if(Bt[pn])throw new Error("Detected reuse blank node across different INSERT DATA clauses");Bt[pn]=!0}}}return ae[se-1];case 2:this.$={...ae[se-1],...ae[se],type:"query"};break;case 4:Ut.base=Fd(ae[se]);break;case 5:Ut.prefixes||(Ut.prefixes={}),ae[se-1]=ae[se-1].substr(0,ae[se-1].length-1),ae[se]=Fd(ae[se]),Ut.prefixes[ae[se-1]]=ae[se];break;case 6:this.$={...ae[se-3],...au(ae[se-2]),...ae[se-1],...ae[se]};break;case 7:if(!Ut.skipValidation&&(T2(ae[se-3].variables.map(er=>S2(er.expression))).some(er=>er.aggregation==="count"&&!(er.expression instanceof r1))||ae[se].group)){for(const er of ae[se-3].variables)if(er.termType==="Variable"){if(!ae[se].group||!ae[se].group.map(Mt=>Mc(Mt)).includes(Mc(er)))throw Error("Projection of ungrouped variable (?"+Mc(er)+")")}else if(S2(er.expression).length===0){const Mt=Gee(er.expression);for(const pn of Mt)if(!ae[se].group||!ae[se].group.map||!ae[se].group.map(yn=>Mc(yn)).includes(Mc(pn)))throw Error("Use of ungrouped variable in projection of operation (?"+Mc(pn)+")")}}const Fc=ae[se-1].where.filter(Bt=>Bt.type==="query");if(Fc.length>0){const Bt=ae[se-3].variables.filter(Mt=>Mt.variable&&Mt.variable.value).map(Mt=>Mt.variable.value),er=T2(Fc.map(Mt=>Mt.variables)).map(Mt=>Mt.value||Mt.variable.value);for(const Mt of Bt)if(er.indexOf(Mt)>=0)throw Error("Target id of 'AS' (?"+Mt+") already used in subquery")}this.$=$r(ae[se-3],au(ae[se-2]),ae[se-1],ae[se]);break;case 8:this.$=$r({queryType:"CONSTRUCT",template:ae[se-3]},au(ae[se-2]),ae[se-1],ae[se]);break;case 9:this.$=$r({queryType:"CONSTRUCT",template:ae[se-2]=ae[se-2]?ae[se-2].triples:[]},au(ae[se-5]),{where:[{type:"bgp",triples:Dc([],ae[se-2])}]},ae[se]);break;case 10:this.$=$r({queryType:"DESCRIBE",variables:ae[se-3]==="*"?[new r1]:ae[se-3]},au(ae[se-2]),ae[se-1],ae[se]);break;case 11:this.$=$r({queryType:"ASK"},au(ae[se-2]),ae[se-1],ae[se]);break;case 12:this.$=$r(ae[se-1],{variables:[new r1]});break;case 13:const R2=ae[se].map(Bt=>Bt.value||Bt.variable.value),u1=Wee(R2);if(u1.length>0)throw Error("Two or more of the resulting columns have the same name (?"+u1[0]+")");this.$=$r(ae[se-1],{variables:ae[se]});break;case 14:this.$=$r({queryType:"SELECT"},ae[se]&&(ae[se-1]=$n(ae[se]),ae[se]={},ae[se][ae[se-1]]=!0,ae[se]));break;case 16:case 27:this.$=Cc(ae[se-3],{variable:ae[se-1]});break;case 17:case 18:this.$=$r(ae[se-3],ae[se-2],ae[se-1],ae[se],{type:"query"});break;case 19:case 58:this.$={iri:ae[se],named:!!ae[se-1]};break;case 20:this.$={where:ae[se].patterns};break;case 21:this.$=$r(ae[se-1],ae[se]);break;case 22:this.$=$r(ae[se-2],ae[se-1],ae[se]);break;case 23:this.$={group:ae[se]};break;case 24:case 25:case 28:case 31:case 33:case 34:this.$=Cc(ae[se]);break;case 26:this.$=Cc(ae[se-1]);break;case 29:this.$={having:ae[se]};break;case 30:this.$={order:ae[se]};break;case 32:this.$=Cc(ae[se],{descending:!0});break;case 35:this.$={limit:jc(ae[se])};break;case 36:this.$={offset:jc(ae[se])};break;case 37:this.$={limit:jc(ae[se-2]),offset:jc(ae[se])};break;case 38:this.$={limit:jc(ae[se]),offset:jc(ae[se-2])};break;case 39:case 43:this.$={type:"values",values:ae[se]};break;case 40:case 84:this.$=ae[se-1].map(Bt=>({[ae[se-3]]:Bt}));break;case 41:case 85:this.$=ae[se-1].map(()=>({}));break;case 42:case 86:var Zs=ae[se-4].length;ae[se-4]=ae[se-4].map(m2),this.$=ae[se-1].map(function(Bt){if(Bt.length!==Zs)throw Error("Inconsistent VALUES length");for(var er={},Mt=0;Mt<Zs;Mt++)er["?"+ae[se-4][Mt].value]=Bt[Mt];return er});break;case 44:case 65:case 100:case 126:case 175:this.$=ae[se-1];break;case 45:this.$={type:"update",updates:iu(ae[se-2],ae[se-1])};break;case 46:this.$=$r({type:"load",silent:!!ae[se-2],source:ae[se-1]},ae[se]&&{destination:ae[se]});break;case 47:this.$={type:$n(ae[se-2]),silent:!!ae[se-1],graph:ae[se]};break;case 48:this.$={type:$n(ae[se-4]),silent:!!ae[se-3],source:ae[se-2],destination:ae[se]};break;case 49:this.$={type:"create",silent:!!ae[se-2],graph:{type:"graph",name:ae[se]}};break;case 50:this.$={updateType:"insert",insert:SC(ae[se])};break;case 51:this.$={updateType:"delete",delete:O2(SC(ae[se]))};break;case 52:this.$={updateType:"deletewhere",delete:O2(ae[se])};break;case 53:this.$={updateType:"insertdelete",...ae[se-4],...ae[se-3],...au(ae[se-2],"using"),where:ae[se].patterns};break;case 54:case 57:case 62:case 167:case 191:case 236:this.$=ae[se];break;case 55:this.$={delete:O2(ae[se-1]),insert:ae[se]||[]};break;case 56:this.$={delete:[],insert:ae[se]};break;case 59:this.$={graph:ae[se]};break;case 60:this.$={type:"graph",default:!0};break;case 61:case 63:this.$={type:"graph",name:ae[se]};break;case 64:this.$={[$n(ae[se])]:!0};break;case 66:this.$=ae[se-1]?Ta(ae[se],[ae[se-1]]):Ta(ae[se]);break;case 67:var a1=$r(ae[se-3]||{triples:[]},{type:"graph",name:ae[se-5]});this.$=ae[se]?[a1,ae[se]]:[a1];break;case 68:case 73:this.$={type:"bgp",triples:Ta(ae[se-2],[ae[se-1]])};break;case 69:this.$={type:"group",patterns:[ae[se-1]]};break;case 70:for(const Bt of ae[se-1].filter(er=>er.type==="bind")){const er=ae[se-1].indexOf(Bt),Mt=new Set;for(const pn of ae[se-1].slice(0,er))(pn.type==="group"||pn.type==="bgp")&&vC(pn).forEach(yn=>Mt.add(yn));if(Mt.has(Bt.variable.value))throw Error("Variable used to bind is already bound (?"+Bt.variable.value+")")}this.$={type:"group",patterns:ae[se-1]};break;case 71:this.$=ae[se-1]?Ta([ae[se-1]],ae[se]):Ta(ae[se]);break;case 72:this.$=ae[se]?[ae[se-2],ae[se]]:ae[se-2];break;case 75:this.$=$r(ae[se],{type:"optional"});break;case 76:this.$=$r(ae[se],{type:"minus"});break;case 77:this.$=$r(ae[se],{type:"graph",name:ae[se-1]});break;case 78:this.$=$r(ae[se],{type:"service",name:ae[se-1],silent:!!ae[se-2]});break;case 79:this.$={type:"filter",expression:ae[se]};break;case 80:this.$={type:"bind",variable:ae[se-1],expression:ae[se-3]};break;case 89:this.$=Bd(ae[se]);break;case 90:this.$=void 0;break;case 91:this.$=ae[se-1].length?{type:"union",patterns:Ta(ae[se-1].map(_2),[_2(ae[se])])}:ae[se];break;case 95:this.$={...ae[se],function:ae[se-1]};break;case 96:this.$={type:"functionCall",args:[]};break;case 97:this.$={type:"functionCall",args:iu(ae[se-2],ae[se-1]),distinct:!!ae[se-3]};break;case 98:case 115:case 128:case 247:case 249:case 251:case 253:case 255:case 263:case 267:case 297:case 299:case 303:case 307:case 328:case 341:case 349:case 355:case 361:case 367:case 369:case 373:case 375:case 379:case 381:case 385:case 391:case 395:case 401:case 405:case 409:case 411:case 420:case 428:case 430:case 440:case 444:case 446:case 448:this.$=[];break;case 99:this.$=iu(ae[se-2],ae[se-1]);break;case 101:this.$=Ta(ae[se-2],[ae[se-1]]);break;case 102:case 112:this.$=A2(ae[se].map(Bt=>$r(ds(ae[se-1]),Bt)));break;case 103:this.$=A2(Dc(ae[se].map(Bt=>$r(ds(ae[se-1].entity),Bt)),ae[se-1].triples));break;case 105:this.$=Ta([ae[se-1]],ae[se]);break;case 106:this.$=Ta(ae[se]);break;case 107:this.$=w2(ae[se-1],ae[se]);break;case 109:case 237:this.$=Ut.factory.namedNode(Fee);break;case 110:case 118:this.$=iu(ae[se-1],ae[se]);break;case 111:this.$=ae[se]?{annotation:ae[se],object:ae[se-1]}:ae[se-1];break;case 113:this.$=ae[se]?A2(Dc(ae[se].map(Bt=>$r(ds(ae[se-1].entity),Bt)),ae[se-1].triples)):ae[se-1].triples;break;case 114:this.$=w2(...ae[se-1],ae[se]);break;case 116:this.$=w2(...ae[se]);break;case 117:case 159:case 163:this.$=[ae[se-1],ae[se]];break;case 119:this.$=ae[se]?{object:ae[se-1],annotation:ae[se]}:ae[se-1];break;case 120:this.$=ae[se-1].length?Lc("|",iu(ae[se-1],ae[se])):ae[se];break;case 121:this.$=ae[se-1].length?Lc("/",iu(ae[se-1],ae[se])):ae[se];break;case 122:this.$=ae[se]?Lc(ae[se],[ae[se-1]]):ae[se-1];break;case 123:this.$=ae[se-1]?Lc(ae[se-1],[ae[se]]):ae[se];break;case 125:case 131:this.$=Lc(ae[se-1],[ae[se]]);break;case 129:this.$=Lc("|",iu(ae[se-2],ae[se-1]));break;case 132:case 134:this.$=Qee(ae[se-1]);break;case 133:case 135:this.$=zee(ae[se-1]);break;case 140:this.$={entity:ae[se],triples:[]};break;case 145:this.$=m2(ae[se]);break;case 149:this.$=Ut.factory.namedNode(fC);break;case 151:case 153:case 158:case 162:this.$=g2(ae[se-1],ae[se]);break;case 152:this.$=["||",ae[se]];break;case 154:this.$=["&&",ae[se]];break;case 156:this.$=hn(ae[se-1],[ae[se-2],ae[se]]);break;case 157:this.$=hn(ae[se-2]?"notin":"in",[ae[se-3],ae[se]]);break;case 160:this.$=["+",g2(ae[se-1],ae[se])];break;case 161:var s1=Ea(ae[se-1].value.replace("-",""),ae[se-1].datatype);this.$=["-",g2(s1,ae[se])];break;case 164:this.$=hn("UPLUS",[ae[se]]);break;case 165:this.$=hn(ae[se-1],[ae[se]]);break;case 166:this.$=hn("UMINUS",[ae[se]]);break;case 177:this.$=hn($n(ae[se-1]));break;case 178:this.$=hn($n(ae[se-3]),[ae[se-1]]);break;case 179:this.$=Bd(hn($n(ae[se-3]),[ae[se-1]]));break;case 180:this.$=hn($n(ae[se-5]),[ae[se-3],ae[se-1]]);break;case 181:this.$=hn($n(ae[se-7]),[ae[se-5],ae[se-3],ae[se-1]]);break;case 182:this.$=Bd(hn($n(ae[se-7]),[ae[se-5],ae[se-3],ae[se-1]]));break;case 183:this.$=hn($n(ae[se-1]),ae[se]);break;case 184:this.$=hn("bound",[m2(ae[se-1])]);break;case 185:this.$=hn(ae[se-1],[]);break;case 186:this.$=hn(ae[se-3],[ae[se-1]]);break;case 187:this.$=hn(ae[se-2]?"notexists":"exists",[_2(ae[se])]);break;case 188:case 189:this.$=Cc(ae[se-1],{type:"aggregate",aggregation:$n(ae[se-4]),distinct:!!ae[se-2]});break;case 190:this.$=Cc(ae[se-2],{type:"aggregate",aggregation:$n(ae[se-5]),distinct:!!ae[se-3],separator:typeof ae[se-1]=="string"?ae[se-1]:" "});break;case 192:this.$=Ea(ae[se]);break;case 193:this.$=Uee(ae[se-1],$n(ae[se].substr(1)));break;case 194:this.$=Ea(ae[se-2],ae[se]);break;case 195:case 204:this.$=Ea(ae[se],hC);break;case 196:case 205:this.$=Ea(ae[se],pC);break;case 197:case 206:this.$=Ea($n(ae[se]),yC);break;case 200:this.$=Ea(ae[se].toLowerCase(),$ee);break;case 201:this.$=Ea(ae[se].substr(1),hC);break;case 202:this.$=Ea(ae[se].substr(1),pC);break;case 203:this.$=Ea(ae[se].substr(1).toLowerCase(),yC);break;case 207:case 208:this.$=bC(ae[se],1);break;case 209:case 210:this.$=bC(ae[se],3);break;case 211:this.$=Ut.factory.namedNode(Fd(ae[se]));break;case 213:var o1=ae[se].indexOf(":"),Ur=ae[se].substr(0,o1),Aa=Ut.prefixes[Ur];if(!Aa)throw new Error("Unknown prefix: "+Ur);var su=Fd(Aa+ae[se].substr(o1+1));this.$=Ut.factory.namedNode(su);break;case 214:if(ae[se]=ae[se].substr(0,ae[se].length-1),!(ae[se]in Ut.prefixes))throw new Error("Unknown prefix: "+ae[se]);var su=Fd(Ut.prefixes[ae[se]]);this.$=Ut.factory.namedNode(su);break;case 215:this.$=qd(ae[se].replace(/^(_:)/,""));break;case 216:this.$=qd();break;case 217:case 218:case 232:this.$=Bd(b2(ae[se-3],ae[se-2],ae[se-1]));break;case 230:case 231:this.$=Bd(ae[se-1]);break;case 248:case 250:case 252:case 254:case 256:case 260:case 264:case 268:case 270:case 292:case 294:case 296:case 298:case 300:case 302:case 304:case 306:case 329:case 342:case 356:case 368:case 370:case 372:case 374:case 392:case 402:case 425:case 427:case 429:case 431:case 441:case 445:case 447:case 449:ae[se-1].push(ae[se]);break;case 259:case 269:case 291:case 293:case 295:case 301:case 305:case 371:case 424:case 426:this.$=[ae[se]];break;case 308:ae[se-3].push(ae[se-2]);break;case 350:case 362:case 376:case 380:case 382:case 386:case 396:case 406:case 410:case 412:case 421:ae[se-2].push(ae[se-1]);break}},table:[e(t,r,{3:1,4:2,10:3}),{1:[3]},e(n,[2,307],{5:4,7:5,321:6,214:7,8:8,96:9,215:10,17:11,21:12,97:16,38:17,6:[2,238],13:a,16:a,45:a,197:a,224:a,229:a,308:a,24:[1,13],32:[1,14],36:[1,15],41:s}),e([6,13,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],[2,3],{322:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,240]},{6:[2,241]},{6:[2,242]},{6:[2,243],9:25,84:26,85:o},{6:[2,239]},e(u,[2,411],{216:28,217:29}),e(l,[2,249],{18:30}),e(l,[2,251],{22:31}),e(c,[2,255],{25:32,27:33,29:[1,34]}),{13:d,16:f,33:35,39:[1,37],44:39,55:40,87:h,139:38,307:43,308:p,323:36},e(l,[2,267],{37:46}),e(m,[2,326],{98:47,103:49,106:50,117:55,130:61,100:[1,48],110:[1,51],113:[1,52],115:[1,53],116:[1,54],131:[1,62],329:[1,56],330:[1,57],331:[1,58],332:[1,59],333:[1,60]}),{39:[1,63],40:64,43:65,44:66,45:y,87:h},e(g,[2,273],{42:68,324:69,325:[1,70],326:[1,71]}),e(t,[2,248]),e(t,[2,245]),e(t,[2,246]),{13:[1,72]},{16:[1,73]},{1:[2,1]},{6:[2,2]},{6:[2,244]},{45:[1,77],85:[1,78],86:74,87:[1,75],89:[1,76]},e([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],[2,120],{337:[1,79]}),e(b,[2,418],{218:80,222:81,229:[1,82]}),{19:83,28:v,29:_,52:84,53:w,56:85},{19:88,28:v,29:_,52:89,53:w,56:85},e(l,[2,253],{26:90}),{28:[1,91],52:92,53:w},e(S,[2,385],{181:93,182:94,183:95,31:[2,383]}),e(E,[2,263],{34:96}),e(E,[2,261],{44:39,55:40,307:43,139:97,13:d,16:f,87:h,308:p}),e(E,[2,262]),e(x,[2,259]),e(C,[2,143]),e(C,[2,144]),e([6,13,16,28,29,31,39,45,47,48,53,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,145]),e(I,[2,211]),e(I,[2,212]),e(I,[2,213]),e(I,[2,214]),{19:98,28:v,29:_,52:99,53:w,56:85},{6:[2,309],99:100,193:[1,101]},e(P,[2,311],{101:102,328:[1,103]}),e(L,[2,317],{104:104,328:[1,105]}),e(D,[2,322],{107:106,328:[1,107]}),{111:108,112:[2,324],328:[1,109]},{29:V,114:110},{29:V,114:112},{29:V,114:113},{118:114,123:[1,115],125:116,126:k},e($,[2,315]),e($,[2,316]),e(H,[2,319]),e(H,[2,320]),e(H,[2,321]),e(m,[2,327]),{13:d,16:f,55:118,307:43,308:p},e(l,[2,12]),e(l,[2,13],{44:66,43:119,45:y,87:h}),e(J,[2,269]),e(J,[2,15]),{13:d,16:f,44:136,45:Y,46:120,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(g,[2,14]),e(g,[2,274]),e(g,[2,271]),e(g,[2,272]),e(t,[2,4]),{13:[1,177]},e(pe,[2,39]),{29:[1,178]},{29:[1,179]},{87:[1,181],91:180},{45:[1,187],87:[1,185],89:[1,186],93:182,165:183,166:184},e(u,[2,410]),e([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337],[2,121],{338:[1,188]}),{13:d,16:f,45:[1,193],55:194,197:ge,219:189,220:190,223:191,224:[1,192],307:43,308:p},e(b,[2,419]),e(qe,ee,{20:196,59:197,69:198,70:Oe}),e(l,[2,250]),{29:je,57:200},e(P,[2,279],{54:202,327:[1,203]}),{29:[2,282]},e(Be,Ye,{23:204,58:205,62:206,63:ct}),e(l,[2,252]),{19:208,28:v,29:_,52:209,53:w,56:85},{29:[1,210]},e(c,[2,256]),{31:[1,211]},{31:[2,384]},{13:d,16:f,44:215,45:ft,55:220,82:de,87:h,89:ot,145:212,172:221,185:213,187:214,231:mt,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:A,311:217,312:R},e(F,[2,265],{56:85,35:227,52:228,19:229,28:v,29:_,53:w}),e(x,[2,260]),e(Be,Ye,{58:205,62:206,23:230,63:ct}),e(l,[2,268]),{6:[2,45]},e(t,r,{10:3,4:231}),{13:d,16:f,55:232,307:43,308:p},e(P,[2,312]),{105:233,112:X,122:234,132:[1,237],134:235,327:[1,238],334:[1,239]},e(L,[2,318]),e(P,me,{108:240,133:242,112:ye,132:xe}),e(D,[2,323]),{112:[1,244]},{112:[2,325]},e(Me,[2,50]),e(S,Ke,{135:245,136:246,143:247,144:248,31:et,112:et}),e(Me,[2,51]),e(Me,[2,52]),e(dt,[2,328],{119:249}),{29:V,114:250},e(dt,[2,56]),{29:V,114:251},e(m,[2,59]),e(J,[2,270]),{47:[1,252]},e(it,[2,150]),e(rt,[2,428],{240:253}),e(Kr,[2,430],{244:254}),e(Kr,[2,155],{248:255,249:256,250:[2,438],290:[1,257],341:[1,258],342:[1,259],343:[1,260],344:[1,261],345:[1,262],346:[1,263]}),e(Je,[2,440],{252:264}),e(fe,[2,448],{260:265}),{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:de,87:h,172:135,255:154,257:155,264:266,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:de,87:h,172:135,255:154,257:155,264:267,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:de,87:h,172:135,255:154,257:155,264:268,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(fe,[2,167]),e(fe,[2,168]),e(fe,[2,169]),e(fe,[2,170],{176:269,45:Pe,89:Le}),e(fe,[2,171]),e(fe,[2,172]),e(fe,[2,173]),e(fe,[2,174]),{13:d,16:f,44:136,45:Y,46:272,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(Ze,[2,176]),{89:[1,273]},{45:[1,274]},{45:[1,275]},{45:[1,276]},{45:[1,277]},{45:[1,278]},{45:gt,89:It,179:279},{45:[1,282]},{45:[1,284],89:[1,283]},{279:[1,285]},e(Dt,[2,192],{292:[1,286],293:[1,287]}),e(Dt,[2,195]),e(Dt,[2,196]),e(Dt,[2,197]),e(Dt,[2,198]),e(Dt,[2,199]),e(Dt,[2,200]),{13:d,16:f,44:39,55:40,82:de,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,320:288},{45:[1,292]},{45:[1,293]},{45:[1,294]},e(on,[2,452]),e(on,[2,453]),e(on,[2,454]),e(on,[2,455]),e(on,[2,456]),{279:[2,458]},e(Sa,[2,207]),e(Sa,[2,208]),e(Sa,[2,209]),e(Sa,[2,210]),e(Dt,[2,201]),e(Dt,[2,202]),e(Dt,[2,203]),e(Dt,[2,204]),e(Dt,[2,205]),e(Dt,[2,206]),e(t,[2,5]),e(jn,[2,297],{88:295}),e(dr,[2,299],{90:296}),{48:[1,297],87:[1,298]},e(oi,[2,301]),e(pe,[2,43]),e(pe,[2,82]),e(pe,[2,83]),{29:[1,299]},{29:[1,300]},{87:[1,302],169:301},e(u,[2,412]),e(Fr,[2,123]),e(Fr,[2,416],{221:303,339:304,39:[1,306],263:[1,307],340:[1,305]}),e(Tn,[2,124]),{13:d,16:f,45:[1,311],55:194,89:[1,310],197:ge,223:312,225:308,226:309,229:yi,307:43,308:p},e(u,a,{215:10,214:314}),e(Tn,[2,236]),e(Tn,[2,237]),e(Mn,[2,6]),e(dn,[2,287],{60:315,72:316,73:[1,317]}),e(qe,[2,286]),{13:d,16:f,45:Y,55:323,67:321,68:322,71:318,77:320,79:319,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,307:43,308:p,346:ke,347:K,348:j,349:q,350:W,351:re},e([6,31,63,70,73,81,83,85],[2,20]),e(S,as,{38:17,49:324,147:325,17:326,21:327,148:328,154:329,155:330,29:En,31:En,85:En,112:En,159:En,160:En,161:En,163:En,164:En,41:s}),{13:d,16:f,55:331,307:43,308:p},e(P,[2,280]),e(Mn,[2,7]),e(qe,ee,{59:197,69:198,20:332,70:Oe}),e(Be,[2,284]),{64:[1,333]},e(Be,Ye,{58:205,62:206,23:334,63:ct}),e(l,[2,254]),e(S,Ke,{144:248,30:335,143:336,31:[2,257]}),e(l,[2,100]),{31:[2,387],184:337,335:[1,338]},{13:d,16:f,44:39,55:40,87:h,139:342,186:339,190:340,195:341,197:mi,307:43,308:p},e(Fn,[2,389],{44:39,55:40,307:43,190:340,195:341,139:342,188:344,189:345,186:346,13:d,16:f,87:h,197:mi,308:p}),e(ia,[2,227]),e(ia,[2,228]),e(ia,[2,229]),{13:d,16:f,44:215,45:ft,55:220,82:de,87:h,89:ot,172:221,185:351,187:350,200:348,230:347,231:mt,234:349,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:A,311:217,312:R},{13:d,16:f,44:39,55:40,87:h,139:342,186:352,190:340,195:341,197:mi,307:43,308:p},e(ia,[2,146]),e(ia,[2,147]),e(ia,[2,148]),e(ia,[2,149]),{13:d,16:f,44:354,55:355,82:de,87:h,172:357,237:356,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:A,311:358,312:R,313:353},e(Ic,[2,215]),e(Ic,[2,216]),e(Be,Ye,{58:205,62:206,23:359,63:ct}),e(E,[2,264]),e(F,[2,266]),e(Mn,[2,11]),e(n,[2,308],{6:[2,310]}),e(Me,[2,313],{102:360,120:361,121:[1,362]}),e(Me,[2,47]),e(Me,[2,63]),e(Me,[2,64]),{13:d,16:f,55:363,307:43,308:p},e(Me,[2,336]),e(Me,[2,337]),e(Me,[2,338]),{109:[1,364]},e(oe,[2,60]),{13:d,16:f,55:365,307:43,308:p},e(P,[2,335]),{13:d,16:f,55:366,307:43,308:p},{31:[1,367]},e(_e,[2,341],{137:368}),e(_e,[2,340]),{13:d,16:f,44:215,45:ft,55:220,82:de,87:h,89:ot,145:369,172:221,185:213,187:214,231:mt,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:A,311:217,312:R},{28:[1,370],127:371,128:[1,372]},e(dt,[2,330],{124:373,125:374,126:k}),e(dt,[2,57]),{44:375,87:h},e(it,[2,151],{241:376,242:[1,377]}),e(rt,[2,153],{245:378,246:[1,379]}),{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,247:380,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},{250:[1,381]},e(Re,[2,432]),e(Re,[2,433]),e(Re,[2,434]),e(Re,[2,435]),e(Re,[2,436]),e(Re,[2,437]),{250:[2,439]},e([47,48,193,242,246,250,272,290,341,342,343,344,345,346],[2,158],{253:382,254:383,255:384,257:385,263:[1,386],265:[1,387],297:Z,298:ie,299:te,300:he,301:ce,302:ve}),e(Je,[2,162],{261:388,262:389,39:nt,338:ut}),e(fe,[2,164]),e(fe,[2,165]),e(fe,[2,166]),e(Ze,[2,95]),e(Ze,[2,96]),e(Re,[2,377],{177:392,325:[1,393]}),{48:[1,394]},e(Ze,[2,177]),{13:d,16:f,44:136,45:Y,46:395,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},{13:d,16:f,44:136,45:Y,46:396,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},{13:d,16:f,44:136,45:Y,46:397,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},{13:d,16:f,44:136,45:Y,46:398,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},{13:d,16:f,44:136,45:Y,46:399,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(Ze,[2,183]),e(Ze,[2,98]),e(Re,[2,381],{180:400}),{87:[1,401]},e(Ze,[2,185]),{13:d,16:f,44:136,45:Y,46:402,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},{29:je,57:403},e(Dt,[2,193]),{13:d,16:f,55:404,307:43,308:p},{13:d,16:f,44:39,55:40,87:h,139:342,195:405,197:mi,307:43,308:p},e(ht,[2,233]),e(ht,[2,234]),e(ht,[2,235]),e(jt,[2,459],{281:406,325:[1,407]}),e(Re,[2,463],{284:408,325:[1,409]}),e(Re,[2,465],{286:410,325:[1,411]}),{13:d,16:f,31:[1,412],55:414,82:de,171:413,172:415,173:416,174:Qt,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:nr},{31:[1,419],89:[1,420]},{29:[1,421]},e(oi,[2,302]),e(jn,[2,367],{167:422}),e(dr,[2,369],{168:423}),{48:[1,424],87:[1,425]},e(oi,[2,371]),e(Fr,[2,122]),e(Fr,[2,417]),e(Fr,[2,413]),e(Fr,[2,414]),e(Fr,[2,415]),e(Tn,[2,125]),e(Tn,[2,127]),e(Tn,[2,128]),e(Ir,[2,420],{227:426}),e(Tn,[2,130]),{13:d,16:f,55:194,197:ge,223:427,307:43,308:p},{48:[1,428]},e(Zt,[2,289],{61:429,80:430,81:[1,431],83:[1,432]}),e(dn,[2,288]),{64:[1,433]},e(qe,[2,29],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:434,13:d,16:f,45:Y,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,276:Se,277:z,279:M,280:B,283:T,285:O,308:p,346:ke,347:K,348:j,349:q,350:W,351:re}),e(gr,[2,293]),e(qn,[2,92]),e(qn,[2,93]),e(qn,[2,94]),{45:Pe,89:Le,176:269},{31:[1,435]},{31:[1,436]},{19:437,28:v,29:_,56:85},{19:438,28:v,29:_,56:85},e(An,[2,355],{149:439}),e(An,[2,354]),{13:d,16:f,44:215,45:fn,55:220,82:de,87:h,89:ot,156:440,172:221,185:441,203:442,231:Bn,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:A,311:217,312:R},e(E,[2,19]),e(Zt,[2,21]),{13:d,16:f,44:450,45:aa,55:323,65:445,66:446,67:447,68:448,87:h,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,307:43,308:p,346:ke,347:K,348:j,349:q,350:W,351:re},e(Mn,[2,8]),{31:[1,451]},{31:[2,258]},{31:[2,101]},e(S,[2,386],{31:[2,388]}),e(Fn,[2,102]),e(un,[2,391],{191:452}),e(S,[2,395],{196:453,198:454}),e(S,[2,108]),e(S,[2,109]),e(Fn,[2,103]),e(Fn,[2,104]),e(Fn,[2,390]),{13:d,16:f,44:215,45:ft,48:[1,455],55:220,82:de,87:h,89:ot,172:221,185:351,187:350,200:456,231:mt,234:349,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:A,311:217,312:R},e(ss,[2,424]),e(eu,[2,136]),e(eu,[2,137]),e(tu,[2,140]),{232:[1,457]},{13:d,16:f,44:39,55:40,87:h,139:342,195:458,197:mi,307:43,308:p},e(ht,[2,219]),e(ht,[2,220]),e(ht,[2,221]),e(ht,[2,222]),e(ht,[2,223]),e(Mn,[2,10]),e(Me,[2,46]),e(Me,[2,314]),{112:X,122:459},e(Me,[2,62]),e(P,me,{133:242,108:460,112:ye,132:xe}),e(oe,[2,61]),e(Me,[2,49]),e([6,28,126,128,193],[2,65]),{31:[2,66],112:[1,462],138:461},e(_e,[2,351],{146:463,335:[1,464]}),{29:je,57:465},e(dt,[2,329]),e(P,[2,332],{129:466,327:[1,467]}),e(dt,[2,55]),e(dt,[2,331]),{48:[1,468]},e(rt,[2,429]),{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,239:469,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(Kr,[2,431]),{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,243:470,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(Kr,[2,156]),{45:gt,89:It,179:471},e(Je,[2,441]),{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,251:472,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(fe,[2,444],{256:473}),e(fe,[2,446],{258:474}),e(Re,[2,442]),e(Re,[2,443]),e(fe,[2,449]),{13:d,16:f,44:136,45:Y,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,255:154,257:155,259:475,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(Re,[2,450]),e(Re,[2,451]),e(Re,[2,379],{178:476}),e(Re,[2,378]),e([6,13,16,29,31,39,45,47,48,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,175]),{48:[1,477]},{48:[1,478]},{272:[1,479]},{272:[1,480]},{272:[1,481]},{13:d,16:f,44:136,45:Y,46:482,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},{48:[1,483]},{48:[1,484]},e(Ze,[2,187]),e(Dt,[2,194]),{13:d,16:f,44:39,55:40,82:de,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,320:485},{13:d,16:f,39:[1,487],44:136,45:Y,46:488,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,282:486,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(jt,[2,460]),{13:d,16:f,44:136,45:Y,46:489,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(Re,[2,464]),{13:d,16:f,44:136,45:Y,46:490,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(Re,[2,466]),e(pe,[2,40]),e(jn,[2,298]),e(Yt,[2,87]),e(Yt,[2,88]),e(Yt,[2,89]),e(Yt,[2,90]),{13:d,16:f,55:492,82:de,172:493,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,311:494,312:R,315:491},e(pe,[2,41]),e(dr,[2,300]),e(cn,[2,303],{92:495}),{13:d,16:f,31:[1,496],55:414,82:de,171:497,172:415,173:416,174:Qt,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:nr},{31:[1,498],89:[1,499]},{29:[1,500]},e(oi,[2,372]),{13:d,16:f,48:[2,422],55:194,197:ge,223:312,226:502,228:501,229:yi,307:43,308:p},e(Tn,[2,131]),e(Tn,[2,126]),e(Zt,[2,22]),e(Zt,[2,290]),{82:[1,503]},{82:[1,504]},{13:d,16:f,44:510,45:Y,55:323,67:321,68:322,74:505,75:506,76:os,77:320,78:Ys,79:509,87:h,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,307:43,308:p,346:ke,347:K,348:j,349:q,350:W,351:re},e(gr,[2,294]),e(Yb,[2,69]),e(Yb,[2,70]),e(qe,ee,{59:197,69:198,20:511,70:Oe}),e(Be,Ye,{58:205,62:206,23:512,63:ct}),{29:[2,375],31:[2,71],84:522,85:o,112:[1,518],150:513,151:514,158:515,159:[1,516],160:[1,517],161:[1,519],163:[1,520],164:[1,521],175:523},e(An,[2,363],{157:524,335:[1,525]}),e(u,a,{215:10,202:526,205:527,208:528,214:529,44:530,87:h}),e(Zb,[2,399],{215:10,205:527,208:528,214:529,44:530,204:531,202:532,13:a,16:a,45:a,197:a,224:a,229:a,308:a,87:h}),{13:d,16:f,44:215,45:fn,55:220,82:de,87:h,89:ot,172:221,185:351,203:536,212:534,231:Bn,233:533,234:535,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:A,311:217,312:R},e(u,a,{215:10,205:527,208:528,214:529,44:530,202:537,87:h}),e(Be,[2,23],{307:43,267:139,275:146,278:149,55:323,67:447,68:448,44:450,66:538,13:d,16:f,45:aa,87:h,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,276:Se,277:z,279:M,280:B,283:T,285:O,308:p,346:ke,347:K,348:j,349:q,350:W,351:re}),e(ru,[2,291]),e(ru,[2,24]),e(ru,[2,25]),{13:d,16:f,44:136,45:Y,46:539,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(ru,[2,28]),e(Be,Ye,{58:205,62:206,23:540,63:ct}),e([31,112,232,318,335],[2,105],{192:541,193:[1,542]}),e(un,[2,107]),{13:d,16:f,44:215,45:ft,55:220,82:de,87:h,89:ot,172:221,185:351,187:350,199:543,200:544,231:mt,234:349,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:A,311:217,312:R},e(iC,[2,132]),e(ss,[2,425]),e(iC,[2,133]),{13:d,16:f,44:354,55:355,82:de,87:h,172:357,237:356,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:A,311:358,312:R,313:545},e(Me,[2,54]),e(Me,[2,48]),e(_e,[2,342]),{13:d,16:f,44:39,55:40,87:h,139:546,307:43,308:p},e(_e,[2,68]),e(S,[2,350],{31:aC,112:aC}),e(Me,[2,53]),{13:d,16:f,55:547,307:43,308:p},e(P,[2,333]),e(J,[2,16]),e(rt,[2,152]),e(Kr,[2,154]),e(Kr,[2,157]),e(Je,[2,159]),e(Je,[2,160],{262:389,261:548,39:nt,338:ut}),e(Je,[2,161],{262:389,261:549,39:nt,338:ut}),e(fe,[2,163]),{13:d,16:f,44:136,45:Y,46:550,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(Ze,[2,178]),e(Ze,[2,179]),{13:d,16:f,44:136,45:Y,46:551,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},{13:d,16:f,44:136,45:Y,46:552,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},{13:d,16:f,44:136,45:Y,46:553,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},{48:[1,554],272:[1,555]},e(Ze,[2,184]),e(Ze,[2,186]),{314:[1,556]},{48:[1,557]},{48:[2,461]},{48:[2,462]},{48:[1,558]},{48:[2,467],193:[1,561],287:559,288:560},{13:d,16:f,55:194,197:ge,223:562,307:43,308:p},e(p2,[2,224]),e(p2,[2,225]),e(p2,[2,226]),{31:[1,563],45:sC,94:564},e(pe,[2,84]),e(jn,[2,368]),e(pe,[2,85]),e(dr,[2,370]),e(cn,[2,373],{170:566}),{48:[1,567]},{48:[2,423],337:[1,568]},e(Zt,[2,35],{83:[1,569]}),e(Zt,[2,36],{81:[1,570]}),e(dn,[2,30],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:509,44:510,75:571,13:d,16:f,45:Y,76:os,78:Ys,87:h,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,276:Se,277:z,279:M,280:B,283:T,285:O,308:p,346:ke,347:K,348:j,349:q,350:W,351:re}),e(Pc,[2,295]),{45:Y,77:572},{45:Y,77:573},e(Pc,[2,33]),e(Pc,[2,34]),{31:[2,275],50:574,84:575,85:o},{31:[2,277],51:576,84:577,85:o},e(An,[2,356]),e(oC,[2,357],{152:578,335:[1,579]}),e(us,[2,74]),{29:je,57:580},{29:je,57:581},{13:d,16:f,44:39,55:40,87:h,139:582,307:43,308:p},e(uC,[2,365],{162:583,328:[1,584]}),{13:d,16:f,45:Y,55:323,67:321,68:322,77:320,79:585,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,307:43,308:p,346:ke,347:K,348:j,349:q,350:W,351:re},{45:[1,586]},e(us,[2,81]),{29:je,57:587},e(An,[2,73]),e(S,[2,362],{29:cs,31:cs,85:cs,112:cs,159:cs,160:cs,161:cs,163:cs,164:cs}),e(Zb,[2,112]),e(Nc,[2,401],{206:588}),e(S,[2,405],{209:589,210:590}),e(S,[2,403]),e(S,[2,404]),e(Zb,[2,113]),e(Zb,[2,400]),{13:d,16:f,44:215,45:fn,48:[1,591],55:220,82:de,87:h,89:ot,172:221,185:351,203:536,212:592,231:Bn,234:535,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:A,311:217,312:R},e(ss,[2,426]),e(tu,[2,138]),e(tu,[2,139]),{232:[1,593]},e(ru,[2,292]),{47:[1,595],48:[1,594]},e(Mn,[2,9]),e(un,[2,392]),e(un,[2,393],{44:39,55:40,307:43,195:341,139:342,194:596,190:597,13:d,16:f,87:h,197:mi,308:p}),e(un,[2,110],{272:[1,598]}),e(e1,[2,397],{201:599,316:600,317:[1,601]}),{314:[1,602]},{29:[1,603]},e(dt,[2,58]),e(fe,[2,445]),e(fe,[2,447]),{48:[1,604],272:[1,605]},{48:[1,606]},{272:[1,607]},{272:[1,608]},e(Ze,[2,99]),e(Re,[2,382]),e([13,16,39,47,48,87,193,197,242,246,250,263,265,272,290,297,298,299,300,301,302,308,314,338,341,342,343,344,345,346],[2,232]),e(Ze,[2,188]),e(Ze,[2,189]),{48:[1,609]},{48:[2,468]},{289:[1,610]},{13:d,16:f,55:492,82:de,172:493,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,311:494,312:R,315:611},e(pe,[2,42]),e(cn,[2,304]),{13:d,16:f,55:414,82:de,95:612,171:613,172:415,173:416,174:Qt,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:nr},{31:[1,614],45:sC,94:615},e(Tn,[2,129]),e(Ir,[2,421]),{82:[1,616]},{82:[1,617]},e(Pc,[2,296]),e(Pc,[2,31]),e(Pc,[2,32]),{31:[2,17]},{31:[2,276]},{31:[2,18]},{31:[2,278]},e(S,as,{155:330,153:618,154:619,29:ls,31:ls,85:ls,112:ls,159:ls,160:ls,161:ls,163:ls,164:ls}),e(oC,[2,358]),e(us,[2,75]),e(us,[2,76]),{29:je,57:620},{13:d,16:f,44:39,55:40,87:h,139:621,307:43,308:p},e(uC,[2,366]),e(us,[2,79]),{13:d,16:f,44:136,45:Y,46:622,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(us,[2,91],{336:[1,623]}),e([29,31,85,112,159,160,161,163,164,232,318,335],[2,114],{207:624,193:[1,625]}),e(Nc,[2,117]),{13:d,16:f,44:215,45:fn,55:220,82:de,87:h,89:ot,172:221,185:351,203:536,211:626,212:627,231:Bn,234:535,236:216,237:222,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:A,311:217,312:R},e(ia,[2,134]),e(ss,[2,427]),e(ia,[2,135]),e(ru,[2,26]),{44:628,87:h},e(un,[2,106]),e(un,[2,394]),e(S,[2,396]),e(e1,[2,111]),e(e1,[2,398]),{13:d,16:f,44:39,55:40,87:h,139:342,186:629,190:340,195:341,197:mi,307:43,308:p},e(Ic,[2,217]),e(S,Ke,{144:248,140:630,143:631,31:[2,343]}),e(Ze,[2,97]),e(Re,[2,380]),e(Ze,[2,180]),{13:d,16:f,44:136,45:Y,46:632,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},{13:d,16:f,44:136,45:Y,46:633,55:133,67:132,68:134,77:131,82:de,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:M,280:B,283:T,285:O,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:j,349:q,350:W,351:re},e(Ze,[2,190]),{290:[1,634]},{314:[1,635]},{13:d,16:f,48:[1,636],55:414,82:de,171:637,172:415,173:416,174:Qt,255:154,257:155,291:150,294:U,295:G,296:Q,297:Z,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:nr},e(cC,[2,305]),e(pe,[2,86]),e(cn,[2,374]),e(Zt,[2,37]),e(Zt,[2,38]),e(An,[2,72]),e(An,[2,360]),e(us,[2,77]),{29:je,57:638},{47:[1,639]},{29:[2,376]},e(Nc,[2,402]),e(Nc,[2,115],{215:10,208:528,214:529,44:530,205:640,13:a,16:a,45:a,197:a,224:a,229:a,308:a,87:h}),e(Nc,[2,118],{272:[1,641]}),e(t1,[2,407],{213:642,319:643,317:[1,644]}),{48:[1,645]},{318:[1,646]},{31:[1,647]},{31:[2,344]},{48:[1,648]},{48:[1,649]},{291:650,303:Ce,304:Ee,305:Ue,306:Fe},e(Yt,[2,218]),e(cn,[2,44]),e(cC,[2,306]),e(us,[2,78]),{44:651,87:h},e(Nc,[2,116]),e(S,[2,406]),e(t1,[2,119]),e(t1,[2,408]),e(u,a,{215:10,205:527,208:528,214:529,44:530,202:652,87:h}),e(ru,[2,27]),e(e1,[2,230]),e(lC,[2,345],{141:653,335:[1,654]}),e(Ze,[2,181]),e(Ze,[2,182]),{48:[2,191]},{48:[1,655]},{318:[1,656]},e(S,Ke,{144:248,142:657,143:658,31:dC,112:dC}),e(lC,[2,346]),e(us,[2,80]),e(t1,[2,231]),e(_e,[2,67]),e(_e,[2,348])],defaultActions:{5:[2,240],6:[2,241],7:[2,242],9:[2,239],24:[2,1],25:[2,2],26:[2,244],87:[2,282],94:[2,384],100:[2,45],109:[2,325],166:[2,458],263:[2,439],336:[2,258],337:[2,101],487:[2,461],488:[2,462],560:[2,468],574:[2,17],575:[2,276],576:[2,18],577:[2,278],623:[2,376],631:[2,344],650:[2,191]},parseError:function($e,Ge){if(Ge.recoverable)this.trace($e);else{var tt=new Error($e);throw tt.hash=Ge,tt}},parse:function($e){var Ge=this,tt=[0],bt=[null],Tt=[],ae=this.table,gi="",se=0,Zs=0,a1=2,s1=1,o1=Tt.slice.call(arguments,1),Ur=Object.create(this.lexer),Aa={yy:{}};for(var su in this.yy)Object.prototype.hasOwnProperty.call(this.yy,su)&&(Aa.yy[su]=this.yy[su]);Ur.setInput($e,Aa.yy),Aa.yy.lexer=Ur,Aa.yy.parser=this,typeof Ur.yylloc>"u"&&(Ur.yylloc={});var Fc=Ur.yylloc;Tt.push(Fc);var R2=Ur.options&&Ur.options.ranges;typeof Aa.yy.parseError=="function"?this.parseError=Aa.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var u1=function(){var qc;return qc=Ur.lex()||s1,typeof qc!="number"&&(qc=Ge.symbols_[qc]||qc),qc},Bt,er,Mt,pn,yn={},c1,fs,TC,l1;;){if(er=tt[tt.length-1],this.defaultActions[er]?Mt=this.defaultActions[er]:((Bt===null||typeof Bt>"u")&&(Bt=u1()),Mt=ae[er]&&ae[er][Bt]),typeof Mt>"u"||!Mt.length||!Mt[0]){var x2="";l1=[];for(c1 in ae[er])this.terminals_[c1]&&c1>a1&&l1.push("'"+this.terminals_[c1]+"'");Ur.showPosition?x2="Parse error on line "+(se+1)+`:
`+Ur.showPosition()+`
Expecting `+l1.join(", ")+", got '"+(this.terminals_[Bt]||Bt)+"'":x2="Parse error on line "+(se+1)+": Unexpected "+(Bt==s1?"end of input":"'"+(this.terminals_[Bt]||Bt)+"'"),this.parseError(x2,{text:Ur.match,token:this.terminals_[Bt]||Bt,line:Ur.yylineno,loc:Fc,expected:l1})}if(Mt[0]instanceof Array&&Mt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+er+", token: "+Bt);switch(Mt[0]){case 1:tt.push(Bt),bt.push(Ur.yytext),Tt.push(Ur.yylloc),tt.push(Mt[1]),Bt=null,Zs=Ur.yyleng,gi=Ur.yytext,se=Ur.yylineno,Fc=Ur.yylloc;break;case 2:if(fs=this.productions_[Mt[1]][1],yn.$=bt[bt.length-fs],yn._$={first_line:Tt[Tt.length-(fs||1)].first_line,last_line:Tt[Tt.length-1].last_line,first_column:Tt[Tt.length-(fs||1)].first_column,last_column:Tt[Tt.length-1].last_column},R2&&(yn._$.range=[Tt[Tt.length-(fs||1)].range[0],Tt[Tt.length-1].range[1]]),pn=this.performAction.apply(yn,[gi,Zs,se,Aa.yy,Mt[1],bt,Tt].concat(o1)),typeof pn<"u")return pn;fs&&(tt=tt.slice(0,-1*fs*2),bt=bt.slice(0,-1*fs),Tt=Tt.slice(0,-1*fs)),tt.push(this.productions_[Mt[1]][0]),bt.push(yn.$),Tt.push(yn._$),TC=ae[tt[tt.length-2]][tt[tt.length-1]],tt.push(TC);break;case 3:return!0}}return!0}},r1=HP.Wildcard,n1="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Fee=n1+"type",qee=n1+"first",Bee=n1+"rest",fC=n1+"nil",i1="http://www.w3.org/2001/XMLSchema#",hC=i1+"integer",pC=i1+"decimal",yC=i1+"double",$ee=i1+"boolean",nu="",mC="",gC="";function $n(He){return He.toLowerCase()}function iu(He,$e){return He.push($e),He}function Dc(He,$e){return He.push.apply(He,$e),He}function $r(He){He||(He={});for(var $e=1,Ge=arguments.length,tt;$e<Ge&&(tt=arguments[$e]||{});$e++)for(var bt in tt)He[bt]=tt[bt];return He}function Ta(){for(var He=[],$e=0,Ge=arguments.length;$e<Ge;$e++)He=He.concat.apply(He,arguments[$e]);return He}function Fd(He){if(He[0]==="<"&&(He=He.substring(1,He.length-1)),/^[a-z]+:/i.test(He))return He;if(!Ut.base)throw new Error("Cannot resolve relative IRI "+He+" because no base IRI was set.");switch(nu!==Ut.base&&(nu=Ut.base,mC=nu.replace(/[^\/:]*$/,""),gC=nu.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),He[0]){case void 0:return nu;case"#":return nu+He;case"?":return nu.replace(/(?:\?.*)?$/,He);case"/":return gC+He;default:return mC+He}}function m2(He){if(He){var $e=He[0];if($e==="?"||$e==="$")return Ut.factory.variable(He.substr(1))}return He}function hn(He,$e){return{type:"operation",operator:He,args:$e||[]}}function Cc(He,$e){var Ge={expression:He==="*"?new r1:He};if($e)for(var tt in $e)Ge[tt]=$e[tt];return Ge}function Lc(He,$e){return{type:"path",pathType:He,items:$e}}function g2(He,$e){for(var Ge=0,tt=$e.length,bt;Ge<tt&&(bt=$e[Ge]);Ge++)He=hn(bt[0],[He,bt[1]]);return He}function au(He,$e){var Ge=[],tt=[],bt=He.length,Tt,ae={};if(!bt)return null;for(var gi=0;gi<bt&&(Tt=He[gi]);gi++)(Tt.named?tt:Ge).push(Tt.iri);return ae[$e||"from"]={default:Ge,named:tt},ae}function jc(He){return parseInt(He,10)}function _2(He){return He.type==="group"&&He.patterns.length===1?He.patterns[0]:He}function Ea(He,$e){return $e&&$e.termType!=="NamedNode"&&($e=Ut.factory.namedNode($e)),Ut.factory.literal(He,$e)}function Uee(He,$e){return Ut.factory.literal(He,$e)}function b2(He,$e,Ge){if(!("termType"in $e))throw new Error("Nested triples cannot contain paths");return Ut.factory.quad(He,$e,Ge)}function ds(He,$e,Ge,tt){var bt={};return He!=null&&(bt.subject=He),$e!=null&&(bt.predicate=$e),Ge!=null&&(bt.object=Ge),tt!=null&&(bt.annotations=tt),bt}function qd(He){return typeof He=="string"?He.startsWith("e_")?Ut.factory.blankNode(He):Ut.factory.blankNode("e_"+He):Ut.factory.blankNode("g_"+_C++)}var _C=0;Ut._resetBlanks=function(){_C=0};var kee=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Vee={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},Hee=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,v2=String.fromCharCode;function bC(He,$e){He=He.substring($e,He.length-$e);try{He=He.replace(kee,function(Ge,tt,bt,Tt){var ae;if(tt){if(ae=parseInt(tt,16),isNaN(ae))throw new Error;return v2(ae)}else if(bt){if(ae=parseInt(bt,16),isNaN(ae))throw new Error;return ae<65535?v2(ae):v2(55296+((ae-=65536)>>10),56320+(ae&1023))}else{var gi=Vee[Tt];if(!gi)throw new Error;return gi}})}catch{return""}if(Hee.exec(He))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+He);return He}function Qee(He){var $e=qd(),Ge=$e,tt=[],bt,Tt=[];He.forEach(function(Zs){tt.push(Zs.entity),Dc(Tt,Zs.triples)});for(var ae=0,gi=0,se=tt.length,bt=Array(se*2);ae<se;)bt[gi++]=ds(Ge,Ut.factory.namedNode(qee),tt[ae]),bt[gi++]=ds(Ge,Ut.factory.namedNode(Bee),Ge=++ae<se?qd():Ut.factory.namedNode(fC));return{entity:$e,triples:Dc(bt,Tt)}}function zee(He){var $e=qd();return{entity:$e,triples:He.map(function(Ge){return $r(ds($e),Ge)})}}function w2(He,$e,Ge){var tt=[],bt=[];return $e.forEach(function(Tt){let ae=null;Tt.annotation&&(ae=Tt.annotation,Tt=Tt.object),tt.push(ds(null,He,Tt.entity,ae)),Dc(bt,Tt.triples)}),Ta(tt,Ge||[],bt)}function Mc(He){return He.variable?He.variable.value:He.value||He.expression.value}function S2(He){if(!He)return[];if(He.type==="aggregate")return[He];if(He.type==="operation"){const $e=[];for(const Ge of He.args)$e.push(...S2(Ge));return $e}return[]}function Gee(He){const $e=new Set,Ge=function(tt){tt&&(tt.termType==="Variable"?$e.add(tt):tt.type==="operation"&&tt.args.forEach(Ge))};return Ge(He),$e}function T2(He,$e=1,Ge=[]){for(const tt of He)$e>0&&tt instanceof Array?T2(tt,$e-1,Ge):Ge.push(tt);return Ge}function E2(He){return He.termType==="Variable"}function vC(He){if(He.triples){const $e=[];for(const Ge of He.triples)E2(Ge.subject)&&$e.push(Ge.subject.value),E2(Ge.predicate)&&$e.push(Ge.predicate.value),E2(Ge.object)&&$e.push(Ge.object.value);return $e}else if(He.patterns){const $e=[];for(const Ge of He.patterns)$e.push(...vC(Ge));return $e}return[]}function Wee(He){const $e=He.slice().sort(),Ge=[];for(let tt=0;tt<$e.length-1;tt++)$e[tt+1]==$e[tt]&&Ge.push($e[tt]);return Ge}function Bd(He){if(!Ut.sparqlStar)throw new Error("SPARQL-star support is not enabled");return He}function wC(He,$e,Ge){for(const tt of $e){const bt=ds("subject"in tt?tt.subject:He,tt.predicate,tt.object);Ge.push(bt),tt.annotations&&wC(b2(He,tt.predicate,tt.object),tt.annotations,Ge)}}function A2(He){if(Ut.sparqlStar){const $e=[];return He.forEach(Ge=>{const tt=ds(Ge.subject,Ge.predicate,Ge.object);$e.push(tt),Ge.annotations&&wC(b2(Ge.subject,Ge.predicate,Ge.object),Ge.annotations,$e)}),$e}return He}function SC(He){for(const $e of He){if($e.type==="graph"&&$e.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if($e.type==="bgp"||$e.type==="graph"){for(const Ge of $e.triples)if(Ge.subject.termType==="Variable"||Ge.predicate.termType==="Variable"||Ge.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return He}function O2(He){for(const $e of He)if($e.type==="bgp"){for(const Ge of $e.triples)if(Ge.subject.termType==="BlankNode"||Ge.predicate.termType==="BlankNode"||Ge.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return He}var Kee=function(){var He={EOF:1,parseError:function(Ge,tt){if(this.yy.parser)this.yy.parser.parseError(Ge,tt);else throw new Error(Ge)},setInput:function($e,Ge){return this.yy=Ge||this.yy||{},this._input=$e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var $e=this._input[0];this.yytext+=$e,this.yyleng++,this.offset++,this.match+=$e,this.matched+=$e;var Ge=$e.match(/(?:\r\n?|\n).*/g);return Ge?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),$e},unput:function($e){var Ge=$e.length,tt=$e.split(/(?:\r\n?|\n)/g);this._input=$e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ge),this.offset-=Ge;var bt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),tt.length-1&&(this.yylineno-=tt.length-1);var Tt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:tt?(tt.length===bt.length?this.yylloc.first_column:0)+bt[bt.length-tt.length].length-tt[0].length:this.yylloc.first_column-Ge},this.options.ranges&&(this.yylloc.range=[Tt[0],Tt[0]+this.yyleng-Ge]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function($e){this.unput(this.match.slice($e))},pastInput:function(){var $e=this.matched.substr(0,this.matched.length-this.match.length);return($e.length>20?"...":"")+$e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var $e=this.match;return $e.length<20&&($e+=this._input.substr(0,20-$e.length)),($e.substr(0,20)+($e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var $e=this.pastInput(),Ge=new Array($e.length+1).join("-");return $e+this.upcomingInput()+`
`+Ge+"^"},test_match:function($e,Ge){var tt,bt,Tt;if(this.options.backtrack_lexer&&(Tt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Tt.yylloc.range=this.yylloc.range.slice(0))),bt=$e[0].match(/(?:\r\n?|\n).*/g),bt&&(this.yylineno+=bt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:bt?bt[bt.length-1].length-bt[bt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+$e[0].length},this.yytext+=$e[0],this.match+=$e[0],this.matches=$e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice($e[0].length),this.matched+=$e[0],tt=this.performAction.call(this,this.yy,this,Ge,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),tt)return tt;if(this._backtrack){for(var ae in Tt)this[ae]=Tt[ae];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var $e,Ge,tt,bt;this._more||(this.yytext="",this.match="");for(var Tt=this._currentRules(),ae=0;ae<Tt.length;ae++)if(tt=this._input.match(this.rules[Tt[ae]]),tt&&(!Ge||tt[0].length>Ge[0].length)){if(Ge=tt,bt=ae,this.options.backtrack_lexer){if($e=this.test_match(tt,Tt[ae]),$e!==!1)return $e;if(this._backtrack){Ge=!1;continue}else return!1}else if(!this.options.flex)break}return Ge?($e=this.test_match(Ge,Tt[bt]),$e!==!1?$e:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ge=this.next();return Ge||this.lex()},begin:function(Ge){this.conditionStack.push(Ge)},popState:function(){var Ge=this.conditionStack.length-1;return Ge>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ge){return Ge=this.conditionStack.length-1-Math.abs(Ge||0),Ge>=0?this.conditionStack[Ge]:"INITIAL"},pushState:function(Ge){this.begin(Ge)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(Ge,tt,bt,Tt){switch(bt){case 0:break;case 1:return 12;case 2:return 15;case 3:return 41;case 4:return 325;case 5:return 326;case 6:return 45;case 7:return 47;case 8:return 48;case 9:return 39;case 10:return 24;case 11:return 28;case 12:return 29;case 13:return 31;case 14:return 32;case 15:return 36;case 16:return 53;case 17:return 327;case 18:return 63;case 19:return 64;case 20:return 70;case 21:return 73;case 22:return 76;case 23:return 78;case 24:return 81;case 25:return 83;case 26:return 85;case 27:return 193;case 28:return 100;case 29:return 328;case 30:return 121;case 31:return 329;case 32:return 330;case 33:return 110;case 34:return 331;case 35:return 109;case 36:return 332;case 37:return 333;case 38:return 113;case 39:return 115;case 40:return 116;case 41:return 131;case 42:return 123;case 43:return 126;case 44:return 128;case 45:return 132;case 46:return 112;case 47:return 334;case 48:return 335;case 49:return 159;case 50:return 161;case 51:return 164;case 52:return 174;case 53:return 160;case 54:return 336;case 55:return 163;case 56:return 312;case 57:return 314;case 58:return 317;case 59:return 318;case 60:return 272;case 61:return 197;case 62:return 337;case 63:return 338;case 64:return 229;case 65:return 340;case 66:return 263;case 67:return 224;case 68:return 231;case 69:return 232;case 70:return 242;case 71:return 246;case 72:return 290;case 73:return 341;case 74:return 342;case 75:return 343;case 76:return 344;case 77:return 345;case 78:return 250;case 79:return 346;case 80:return 265;case 81:return 276;case 82:return 277;case 83:return 268;case 84:return 269;case 85:return 270;case 86:return 271;case 87:return 347;case 88:return 348;case 89:return 273;case 90:return 274;case 91:return 350;case 92:return 349;case 93:return 351;case 94:return 279;case 95:return 280;case 96:return 283;case 97:return 285;case 98:return 289;case 99:return 293;case 100:return 296;case 101:return 13;case 102:return 16;case 103:return 308;case 104:return 309;case 105:return 87;case 106:return 292;case 107:return 82;case 108:return 294;case 109:return 295;case 110:return 297;case 111:return 298;case 112:return 299;case 113:return 300;case 114:return 301;case 115:return 302;case 116:return"EXPONENT";case 117:return 303;case 118:return 304;case 119:return 305;case 120:return 306;case 121:return 89;case 122:return 310;case 123:return 6;case 124:return"INVALID";case 125:console.log(tt.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:\{\|)/i,/^(?:\|\})/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(SUBJECT|PREDICATE|OBJECT|isTRIPLE))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:TRIPLE)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125],inclusive:!0}}};return He}();y2.lexer=Kee;function Ut(){this.yy={}}return Ut.prototype=y2,y2.Parser=Ut,new Ut}(),nle=rle,ile="http://www.w3.org/2001/XMLSchema#integer",ale="http://www.w3.org/2001/XMLSchema#string";function Or(e){this._options=e=e||{};var t=e.prefixes||{};this._prefixByIri={};var r=[];for(var n in t){var a=t[n];g_(a)&&(this._prefixByIri[a]=n,r.push(a))}var s=r.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=e.sparqlStar,this._indent=g_(e.indent)?e.indent:"  ",this._newline=g_(e.newline)?e.newline:`
`,this._explicitDatatype=!!e.explicitDatatype}Or.prototype.toQuery=function(e){var t="";return e.queryType&&(t+=e.queryType.toUpperCase()+" "),e.reduced&&(t+="REDUCED "),e.distinct&&(t+="DISTINCT "),e.variables?t+=Ai(e.variables,void 0,function(r){return Eo(r)?this.toEntity(r):"("+this.toExpression(r.expression)+" AS "+uw(r.variable)+")"},this)+" ":e.template&&(t+=this.group(e.template,!0)+this._newline),e.from&&(t+=this.graphs("FROM ",e.from.default)+this.graphs("FROM NAMED ",e.from.named)),e.where&&(t+="WHERE "+this.group(e.where,!0)+this._newline),e.updates&&(t+=Ai(e.updates,";"+this._newline,this.toUpdate,this)),e.group&&(t+="GROUP BY "+Ai(e.group,void 0,function(r){var n=Eo(r.expression)?this.toEntity(r.expression):"("+this.toExpression(r.expression)+")";return r.variable?"("+n+" AS "+uw(r.variable)+")":n},this)+this._newline),e.having&&(t+="HAVING ("+Ai(e.having,void 0,this.toExpression,this)+")"+this._newline),e.order&&(t+="ORDER BY "+Ai(e.order,void 0,function(r){var n="("+this.toExpression(r.expression)+")";return r.descending?"DESC "+n:n},this)+this._newline),e.offset&&(t+="OFFSET "+e.offset+this._newline),e.limit&&(t+="LIMIT "+e.limit+this._newline),e.values&&(t+=this.values(e)),t=this.baseAndPrefixes(e)+t,t.trim()};Or.prototype.baseAndPrefixes=function(e){var t=e.base?"BASE <"+e.base+">"+this._newline:"",r="";for(var n in e.prefixes)(this._options.allPrefixes||this._usedPrefixes[n])&&(r+="PREFIX "+n+": <"+e.prefixes[n]+">"+this._newline);return t+r};Or.prototype.toPattern=function(e){var t=e.type||e instanceof Array&&"array"||(e.subject&&e.predicate&&e.object?"triple":"");if(!(t in this))throw new Error("Unknown entry type: "+t);return this[t](e)};Or.prototype.triple=function(e){return this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+"."};Or.prototype.array=function(e){return Ai(e,this._newline,this.toPattern,this)};Or.prototype.bgp=function(e){return this.encodeTriples(e.triples)};Or.prototype.encodeTriples=function(e){if(!e.length)return"";for(var t=[],r=void 0,n=void 0,a=0;a<e.length;a++){var s=e[a];Mu(s.subject,r)?Mu(s.predicate,n)?t.push(","):(n=s.predicate,t.push(";"+this._newline,this._indent,this.toEntity(n))):(r&&t.push("."+this._newline),r=s.subject,n=s.predicate,t.push(this.toEntity(r)," ",this.toEntity(n))),t.push(" ",this.toEntity(s.object))}return t.push("."),t.join("")};Or.prototype.graph=function(e){return"GRAPH "+this.toEntity(e.name)+" "+this.group(e)};Or.prototype.graphs=function(e,t){return!t||t.length===0?"":Ai(t,"",function(r){return e+this.toEntity(r)+this._newline},this)};Or.prototype.group=function(e,t){return e=t!==!0?this.array(e.patterns||e.triples):this.toPattern(e.type!=="group"?e:e.patterns),e.indexOf(this._newline)===-1?"{ "+e+" }":"{"+this._newline+this.indent(e)+this._newline+"}"};Or.prototype.query=function(e){return this.toQuery(e)};Or.prototype.filter=function(e){return"FILTER("+this.toExpression(e.expression)+")"};Or.prototype.bind=function(e){return"BIND("+this.toExpression(e.expression)+" AS "+uw(e.variable)+")"};Or.prototype.optional=function(e){return"OPTIONAL "+this.group(e)};Or.prototype.union=function(e){return Ai(e.patterns,this._newline+"UNION"+this._newline,function(t){return this.group(t,!0)},this)};Or.prototype.minus=function(e){return"MINUS "+this.group(e)};Or.prototype.values=function(e){var t=Object.keys(e.values.reduce(function(a,s){for(var o in s)a[o]=!0;return a},{})),r,n;return t.length===1?r=n="":(r="(",n=")"),"VALUES "+r+t.join(" ")+n+" {"+this._newline+Ai(e.values,this._newline,function(a){return"  "+r+Ai(t,void 0,function(s){return a[s]?this.toEntity(a[s]):"UNDEF"},this)+n},this)+this._newline+"}"};Or.prototype.service=function(e){return"SERVICE "+(e.silent?"SILENT ":"")+this.toEntity(e.name)+" "+this.group(e)};Or.prototype.toExpression=function(e){if(Eo(e))return this.toEntity(e);switch(e.type.toLowerCase()){case"aggregate":return e.aggregation.toUpperCase()+"("+(e.distinct?"DISTINCT ":"")+this.toExpression(e.expression)+(typeof e.separator=="string"?'; SEPARATOR = "'+e.separator.replace(hW,pW)+'"':"")+")";case"functioncall":return this.toEntity(e.function)+"("+Ai(e.args,", ",this.toExpression,this)+")";case"operation":var t=e.operator.toUpperCase(),r=e.args||[];switch(e.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(Eo(r[0])?this.toEntity(r[0]):"("+this.toExpression(r[0])+")")+" "+t+" "+(Eo(r[1])?this.toEntity(r[1]):"("+this.toExpression(r[1])+")");case"!":return"!("+this.toExpression(r[0])+")";case"uplus":return"+("+this.toExpression(r[0])+")";case"uminus":return"-("+this.toExpression(r[0])+")";case"notin":t="NOT IN";case"in":return this.toExpression(r[0])+" "+t+"("+(g_(r[1])?r[1]:Ai(r[1],", ",this.toExpression,this))+")";case"notexists":t="NOT EXISTS";case"exists":return t+" "+this.group(r[0],!0);default:return t+"("+Ai(r,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+e.type)}};Or.prototype.toEntity=function(e){if(Eo(e))switch(e.termType){case"Wildcard":return"*";case"Variable":return uw(e);case"BlankNode":return"_:"+e.value;case"Literal":var t=e.value||"",r=e.language||"",n=e.datatype;if(e='"'+t.replace(hW,pW)+'"',r)e+="@"+r;else if(n){if(!this._explicitDatatype)switch(n.value){case ale:return e;case ile:if(/^\d+$/.test(t))return t+" "}e+="^^"+this.encodeIRI(n.value)}return e;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return e.graph&&e.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(e.graph)+" { "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" }  >>":"<< "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" >>";default:return this.encodeIRI(e.value)}else{var a=e.items.map(this.toEntity,this),s=e.pathType;switch(s){case"^":case"!":return s+a[0];case"*":case"+":case"?":return"("+a[0]+s+")";default:return"("+a.join(s)+")"}}};var hW=/["\\\t\n\r\b\f]/g,pW=function(e){return sle[e]},sle={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};Or.prototype.encodeIRI=function(e){var t=this._prefixRegex.exec(e);if(t){var r=this._prefixByIri[t[1]];return this._usedPrefixes[r]=!0,r+":"+t[2]}return"<"+e+">"};Or.prototype.toUpdate=function(e){switch(e.type||e.updateType){case"load":return"LOAD"+(e.source?" "+this.toEntity(e.source):"")+(e.destination?" INTO GRAPH "+this.toEntity(e.destination):"");case"insert":return"INSERT DATA "+this.group(e.insert,!0);case"delete":return"DELETE DATA "+this.group(e.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(e.delete,!0);case"insertdelete":return(e.graph?"WITH "+this.toEntity(e.graph)+this._newline:"")+(e.delete.length?"DELETE "+this.group(e.delete,!0)+this._newline:"")+(e.insert.length?"INSERT "+this.group(e.insert,!0)+this._newline:"")+(e.using?this.graphs("USING ",e.using.default):"")+(e.using?this.graphs("USING NAMED ",e.using.named):"")+"WHERE "+this.group(e.where,!0);case"add":case"copy":case"move":return e.type.toUpperCase()+" "+(e.silent?"SILENT ":"")+(e.source.default?"DEFAULT":this.toEntity(e.source.name))+" TO "+this.toEntity(e.destination.name);case"create":case"clear":case"drop":return e.type.toUpperCase()+(e.silent?" SILENT ":" ")+(e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.all?"ALL":"GRAPH "+this.toEntity(e.graph.name));default:throw new Error("Unknown update query type: "+e.type)}};Or.prototype.indent=function(e){return e.replace(/^/gm,this._indent)};function uw(e){return"?"+e.value}function g_(e){return typeof e=="string"}function Eo(e){return typeof e.termType=="string"}function Mu(e,t){if(!e||!Eo(e)||!t||!Eo(t)||e.termType!==t.termType)return!1;switch(e.termType){case"Literal":return e.value===t.value&&e.language===t.language&&Mu(e.datatype,t.datatype);case"Quad":return Mu(e.subject,t.subject)&&Mu(e.predicate,t.predicate)&&Mu(e.object,t.object)&&Mu(e.graph,t.graph);default:return e.value===t.value}}function Ai(e,t,r,n){return e.map(r,n).join(g_(t)?t:" ")}var ole=function(t={}){return{stringify:function(r){var n=Object.create(t);return n.prefixes=r.prefixes,new Or(n).toQuery(r)},createGenerator:function(){return new Or(t)}}},xt={},ob={};Object.defineProperty(ob,"__esModule",{value:!0});ob.BlankNode=void 0;let ule=class{constructor(t){this.termType="BlankNode",this.value=t}equals(t){return!!t&&t.termType==="BlankNode"&&t.value===this.value}};ob.BlankNode=ule;var Xw={},ub={};Object.defineProperty(ub,"__esModule",{value:!0});ub.DefaultGraph=void 0;let Vx=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(t){return!!t&&t.termType==="DefaultGraph"}};ub.DefaultGraph=Vx;Vx.INSTANCE=new Vx;var cb={},od={};Object.defineProperty(od,"__esModule",{value:!0});od.NamedNode=void 0;let cle=class{constructor(t){this.termType="NamedNode",this.value=t}equals(t){return!!t&&t.termType==="NamedNode"&&t.value===this.value}};od.NamedNode=cle;Object.defineProperty(cb,"__esModule",{value:!0});cb.Literal=void 0;const yW=od;let QP=class Hx{constructor(t,r){this.termType="Literal",this.value=t,typeof r=="string"?(this.language=r,this.datatype=Hx.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=Hx.XSD_STRING)}equals(t){return!!t&&t.termType==="Literal"&&t.value===this.value&&t.language===this.language&&this.datatype.equals(t.datatype)}};cb.Literal=QP;QP.RDF_LANGUAGE_STRING=new yW.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");QP.XSD_STRING=new yW.NamedNode("http://www.w3.org/2001/XMLSchema#string");var lb={};Object.defineProperty(lb,"__esModule",{value:!0});lb.Quad=void 0;let lle=class{constructor(t,r,n,a){this.termType="Quad",this.value="",this.subject=t,this.predicate=r,this.object=n,this.graph=a}equals(t){return!!t&&(t.termType==="Quad"||!t.termType)&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}};lb.Quad=lle;var db={};Object.defineProperty(db,"__esModule",{value:!0});db.Variable=void 0;let dle=class{constructor(t){this.termType="Variable",this.value=t}equals(t){return!!t&&t.termType==="Variable"&&t.value===this.value}};db.Variable=dle;Object.defineProperty(Xw,"__esModule",{value:!0});Xw.DataFactory=void 0;const fle=ob,hle=ub,p6=cb,ple=od,yle=lb,mle=db;let gle=0,_le=class{constructor(t){this.blankNodeCounter=0,t=t||{},this.blankNodePrefix=t.blankNodePrefix||`df_${gle++}_`}namedNode(t){return new ple.NamedNode(t)}blankNode(t){return new fle.BlankNode(t||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(t,r){return new p6.Literal(t,r)}variable(t){return new mle.Variable(t)}defaultGraph(){return hle.DefaultGraph.INSTANCE}quad(t,r,n,a){return new yle.Quad(t,r,n,a||this.defaultGraph())}fromTerm(t){switch(t.termType){case"NamedNode":return this.namedNode(t.value);case"BlankNode":return this.blankNode(t.value);case"Literal":return t.language?this.literal(t.value,t.language):t.datatype.equals(p6.Literal.XSD_STRING)?this.literal(t.value):this.literal(t.value,this.fromTerm(t.datatype));case"Variable":return this.variable(t.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(t.subject),this.fromTerm(t.predicate),this.fromTerm(t.object),this.fromTerm(t.graph))}}fromQuad(t){return this.fromTerm(t)}resetBlankNodeCounter(){this.blankNodeCounter=0}};Xw.DataFactory=_le;(function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ob,e),r(Xw,e),r(ub,e),r(cb,e),r(od,e),r(lb,e),r(db,e)})(xt);var ps=nle.Parser,ble=ole,vle=HP.Wildcard,{DataFactory:wle}=xt,_c={Parser:function({prefixes:e,baseIRI:t,factory:r,sparqlStar:n,skipValidation:a,skipUngroupedVariableCheck:s,pathOnly:o}={}){var u={};for(var l in e||{})u[l]=e[l];var c=new ps;return c.parse=function(){return ps.base=t||"",ps.prefixes=Object.create(u),ps.factory=r||new wle,ps.sparqlStar=!!n,ps.pathOnly=!!o,ps.skipValidation=!!a||!!s,ps.prototype.parse.apply(c,arguments)},c._resetBlanks=ps._resetBlanks,c},Generator:ble,Wildcard:vle},mW={exports:{}},iT={exports:{}},za={};(function(e){Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var t={},r={};r.byteLength=d,r.toByteArray=h,r.fromByteArray=y;for(var n=[],a=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=o.length;u<l;++u)n[u]=o[u],a[o.charCodeAt(u)]=u;a[45]=62,a[95]=63;function c(v){var _=v.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=v.indexOf("=");w===-1&&(w=_);var S=w===_?0:4-w%4;return[w,S]}function d(v){var _=c(v),w=_[0],S=_[1];return(w+S)*3/4-S}function f(v,_,w){return(_+w)*3/4-w}function h(v){var _,w=c(v),S=w[0],E=w[1],x=new s(f(v,S,E)),C=0,I=E>0?S-4:S,P;for(P=0;P<I;P+=4)_=a[v.charCodeAt(P)]<<18|a[v.charCodeAt(P+1)]<<12|a[v.charCodeAt(P+2)]<<6|a[v.charCodeAt(P+3)],x[C++]=_>>16&255,x[C++]=_>>8&255,x[C++]=_&255;return E===2&&(_=a[v.charCodeAt(P)]<<2|a[v.charCodeAt(P+1)]>>4,x[C++]=_&255),E===1&&(_=a[v.charCodeAt(P)]<<10|a[v.charCodeAt(P+1)]<<4|a[v.charCodeAt(P+2)]>>2,x[C++]=_>>8&255,x[C++]=_&255),x}function p(v){return n[v>>18&63]+n[v>>12&63]+n[v>>6&63]+n[v&63]}function m(v,_,w){for(var S,E=[],x=_;x<w;x+=3)S=(v[x]<<16&16711680)+(v[x+1]<<8&65280)+(v[x+2]&255),E.push(p(S));return E.join("")}function y(v){for(var _,w=v.length,S=w%3,E=[],x=16383,C=0,I=w-S;C<I;C+=x)E.push(m(v,C,C+x>I?I:C+x));return S===1?(_=v[w-1],E.push(n[_>>2]+n[_<<4&63]+"==")):S===2&&(_=(v[w-2]<<8)+v[w-1],E.push(n[_>>10]+n[_>>4&63]+n[_<<2&63]+"=")),E.join("")}var g={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(v,_,w,S,E){var x,C,I=E*8-S-1,P=(1<<I)-1,L=P>>1,D=-7,V=w?E-1:0,k=w?-1:1,$=v[_+V];for(V+=k,x=$&(1<<-D)-1,$>>=-D,D+=I;D>0;x=x*256+v[_+V],V+=k,D-=8);for(C=x&(1<<-D)-1,x>>=-D,D+=S;D>0;C=C*256+v[_+V],V+=k,D-=8);if(x===0)x=1-L;else{if(x===P)return C?NaN:($?-1:1)*(1/0);C=C+Math.pow(2,S),x=x-L}return($?-1:1)*C*Math.pow(2,x-S)},g.write=function(v,_,w,S,E,x){var C,I,P,L=x*8-E-1,D=(1<<L)-1,V=D>>1,k=E===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=S?0:x-1,H=S?1:-1,J=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(I=isNaN(_)?1:0,C=D):(C=Math.floor(Math.log(_)/Math.LN2),_*(P=Math.pow(2,-C))<1&&(C--,P*=2),C+V>=1?_+=k/P:_+=k*Math.pow(2,1-V),_*P>=2&&(C++,P/=2),C+V>=D?(I=0,C=D):C+V>=1?(I=(_*P-1)*Math.pow(2,E),C=C+V):(I=_*Math.pow(2,V-1)*Math.pow(2,E),C=0));E>=8;v[w+$]=I&255,$+=H,I/=256,E-=8);for(C=C<<E|I,L+=E;L>0;v[w+$]=C&255,$+=H,C/=256,L-=8);v[w+$-H]|=J*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(v){const _=r,w=g,S=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;v.Buffer=D,v.SlowBuffer=le,v.INSPECT_MAX_BYTES=50;const E=2147483647;v.kMaxLength=E;const{Uint8Array:x,ArrayBuffer:C,SharedArrayBuffer:I}=globalThis;D.TYPED_ARRAY_SUPPORT=P(),!D.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function P(){try{const A=new x(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,x.prototype),Object.setPrototypeOf(A,R),A.foo()===42}catch{return!1}}Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}}),Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}});function L(A){if(A>E)throw new RangeError('The value "'+A+'" is invalid for option "size"');const R=new x(A);return Object.setPrototypeOf(R,D.prototype),R}function D(A,R,F){if(typeof A=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return H(A)}return V(A,R,F)}D.poolSize=8192;function V(A,R,F){if(typeof A=="string")return J(A,R);if(C.isView(A))return de(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(ct(A,C)||A&&ct(A.buffer,C)||typeof I<"u"&&(ct(A,I)||A&&ct(A.buffer,I)))return Te(A,R,F);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const X=A.valueOf&&A.valueOf();if(X!=null&&X!==A)return D.from(X,R,F);const me=De(A);if(me)return me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return D.from(A[Symbol.toPrimitive]("string"),R,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}D.from=function(A,R,F){return V(A,R,F)},Object.setPrototypeOf(D.prototype,x.prototype),Object.setPrototypeOf(D,x);function k(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function $(A,R,F){return k(A),A<=0?L(A):R!==void 0?typeof F=="string"?L(A).fill(R,F):L(A).fill(R):L(A)}D.alloc=function(A,R,F){return $(A,R,F)};function H(A){return k(A),L(A<0?0:Ve(A)|0)}D.allocUnsafe=function(A){return H(A)},D.allocUnsafeSlow=function(A){return H(A)};function J(A,R){if((typeof R!="string"||R==="")&&(R="utf8"),!D.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const F=ue(A,R)|0;let X=L(F);const me=X.write(A,R);return me!==F&&(X=X.slice(0,me)),X}function Y(A){const R=A.length<0?0:Ve(A.length)|0,F=L(R);for(let X=0;X<R;X+=1)F[X]=A[X]&255;return F}function de(A){if(ct(A,x)){const R=new x(A);return Te(R.buffer,R.byteOffset,R.byteLength)}return Y(A)}function Te(A,R,F){if(R<0||A.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<R+(F||0))throw new RangeError('"length" is outside of buffer bounds');let X;return R===void 0&&F===void 0?X=new x(A):F===void 0?X=new x(A,R):X=new x(A,R,F),Object.setPrototypeOf(X,D.prototype),X}function De(A){if(D.isBuffer(A)){const R=Ve(A.length)|0,F=L(R);return F.length===0||A.copy(F,0,0,R),F}if(A.length!==void 0)return typeof A.length!="number"||ft(A.length)?L(0):Y(A);if(A.type==="Buffer"&&Array.isArray(A.data))return Y(A.data)}function Ve(A){if(A>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return A|0}function le(A){return+A!=A&&(A=0),D.alloc(+A)}D.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==D.prototype},D.compare=function(R,F){if(ct(R,x)&&(R=D.from(R,R.offset,R.byteLength)),ct(F,x)&&(F=D.from(F,F.offset,F.byteLength)),!D.isBuffer(R)||!D.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===F)return 0;let X=R.length,me=F.length;for(let ye=0,xe=Math.min(X,me);ye<xe;++ye)if(R[ye]!==F[ye]){X=R[ye],me=F[ye];break}return X<me?-1:me<X?1:0},D.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function(R,F){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return D.alloc(0);let X;if(F===void 0)for(F=0,X=0;X<R.length;++X)F+=R[X].length;const me=D.allocUnsafe(F);let ye=0;for(X=0;X<R.length;++X){let xe=R[X];if(ct(xe,x))ye+xe.length>me.length?(D.isBuffer(xe)||(xe=D.from(xe)),xe.copy(me,ye)):x.prototype.set.call(me,xe,ye);else if(D.isBuffer(xe))xe.copy(me,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=xe.length}return me};function ue(A,R){if(D.isBuffer(A))return A.length;if(C.isView(A)||ct(A,C))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const F=A.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&F===0)return 0;let me=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return ee(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return Be(A).length;default:if(me)return X?-1:ee(A).length;R=(""+R).toLowerCase(),me=!0}}D.byteLength=ue;function Ie(A,R,F){let X=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,R>>>=0,F<=R))return"";for(A||(A="utf8");;)switch(A){case"hex":return te(this,R,F);case"utf8":case"utf-8":return U(this,R,F);case"ascii":return Z(this,R,F);case"latin1":case"binary":return ie(this,R,F);case"base64":return O(this,R,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,R,F);default:if(X)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),X=!0}}D.prototype._isBuffer=!0;function Ne(A,R,F){const X=A[R];A[R]=A[F],A[F]=X}D.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<R;F+=2)Ne(this,F,F+1);return this},D.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<R;F+=4)Ne(this,F,F+3),Ne(this,F+1,F+2);return this},D.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<R;F+=8)Ne(this,F,F+7),Ne(this,F+1,F+6),Ne(this,F+2,F+5),Ne(this,F+3,F+4);return this},D.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?U(this,0,R):Ie.apply(this,arguments)},D.prototype.toLocaleString=D.prototype.toString,D.prototype.equals=function(R){if(!D.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:D.compare(this,R)===0},D.prototype.inspect=function(){let R="";const F=v.INSPECT_MAX_BYTES;return R=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(R+=" ... "),"<Buffer "+R+">"},S&&(D.prototype[S]=D.prototype.inspect),D.prototype.compare=function(R,F,X,me,ye){if(ct(R,x)&&(R=D.from(R,R.offset,R.byteLength)),!D.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(F===void 0&&(F=0),X===void 0&&(X=R?R.length:0),me===void 0&&(me=0),ye===void 0&&(ye=this.length),F<0||X>R.length||me<0||ye>this.length)throw new RangeError("out of range index");if(me>=ye&&F>=X)return 0;if(me>=ye)return-1;if(F>=X)return 1;if(F>>>=0,X>>>=0,me>>>=0,ye>>>=0,this===R)return 0;let xe=ye-me,Me=X-F;const Ke=Math.min(xe,Me),et=this.slice(me,ye),dt=R.slice(F,X);for(let it=0;it<Ke;++it)if(et[it]!==dt[it]){xe=et[it],Me=dt[it];break}return xe<Me?-1:Me<xe?1:0};function we(A,R,F,X,me){if(A.length===0)return-1;if(typeof F=="string"?(X=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,ft(F)&&(F=me?0:A.length-1),F<0&&(F=A.length+F),F>=A.length){if(me)return-1;F=A.length-1}else if(F<0)if(me)F=0;else return-1;if(typeof R=="string"&&(R=D.from(R,X)),D.isBuffer(R))return R.length===0?-1:Ae(A,R,F,X,me);if(typeof R=="number")return R=R&255,typeof x.prototype.indexOf=="function"?me?x.prototype.indexOf.call(A,R,F):x.prototype.lastIndexOf.call(A,R,F):Ae(A,[R],F,X,me);throw new TypeError("val must be string, number or Buffer")}function Ae(A,R,F,X,me){let ye=1,xe=A.length,Me=R.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(A.length<2||R.length<2)return-1;ye=2,xe/=2,Me/=2,F/=2}function Ke(dt,it){return ye===1?dt[it]:dt.readUInt16BE(it*ye)}let et;if(me){let dt=-1;for(et=F;et<xe;et++)if(Ke(A,et)===Ke(R,dt===-1?0:et-dt)){if(dt===-1&&(dt=et),et-dt+1===Me)return dt*ye}else dt!==-1&&(et-=et-dt),dt=-1}else for(F+Me>xe&&(F=xe-Me),et=F;et>=0;et--){let dt=!0;for(let it=0;it<Me;it++)if(Ke(A,et+it)!==Ke(R,it)){dt=!1;break}if(dt)return et}return-1}D.prototype.includes=function(R,F,X){return this.indexOf(R,F,X)!==-1},D.prototype.indexOf=function(R,F,X){return we(this,R,F,X,!0)},D.prototype.lastIndexOf=function(R,F,X){return we(this,R,F,X,!1)};function Se(A,R,F,X){F=Number(F)||0;const me=A.length-F;X?(X=Number(X),X>me&&(X=me)):X=me;const ye=R.length;X>ye/2&&(X=ye/2);let xe;for(xe=0;xe<X;++xe){const Me=parseInt(R.substr(xe*2,2),16);if(ft(Me))return xe;A[F+xe]=Me}return xe}function z(A,R,F,X){return Ye(ee(R,A.length-F),A,F,X)}function M(A,R,F,X){return Ye(Oe(R),A,F,X)}function B(A,R,F,X){return Ye(Be(R),A,F,X)}function T(A,R,F,X){return Ye(je(R,A.length-F),A,F,X)}D.prototype.write=function(R,F,X,me){if(F===void 0)me="utf8",X=this.length,F=0;else if(X===void 0&&typeof F=="string")me=F,X=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(X)?(X=X>>>0,me===void 0&&(me="utf8")):(me=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ye=this.length-F;if((X===void 0||X>ye)&&(X=ye),R.length>0&&(X<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");let xe=!1;for(;;)switch(me){case"hex":return Se(this,R,F,X);case"utf8":case"utf-8":return z(this,R,F,X);case"ascii":case"latin1":case"binary":return M(this,R,F,X);case"base64":return B(this,R,F,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,R,F,X);default:if(xe)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),xe=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(A,R,F){return R===0&&F===A.length?_.fromByteArray(A):_.fromByteArray(A.slice(R,F))}function U(A,R,F){F=Math.min(A.length,F);const X=[];let me=R;for(;me<F;){const ye=A[me];let xe=null,Me=ye>239?4:ye>223?3:ye>191?2:1;if(me+Me<=F){let Ke,et,dt,it;switch(Me){case 1:ye<128&&(xe=ye);break;case 2:Ke=A[me+1],(Ke&192)===128&&(it=(ye&31)<<6|Ke&63,it>127&&(xe=it));break;case 3:Ke=A[me+1],et=A[me+2],(Ke&192)===128&&(et&192)===128&&(it=(ye&15)<<12|(Ke&63)<<6|et&63,it>2047&&(it<55296||it>57343)&&(xe=it));break;case 4:Ke=A[me+1],et=A[me+2],dt=A[me+3],(Ke&192)===128&&(et&192)===128&&(dt&192)===128&&(it=(ye&15)<<18|(Ke&63)<<12|(et&63)<<6|dt&63,it>65535&&it<1114112&&(xe=it))}}xe===null?(xe=65533,Me=1):xe>65535&&(xe-=65536,X.push(xe>>>10&1023|55296),xe=56320|xe&1023),X.push(xe),me+=Me}return Q(X)}const G=4096;function Q(A){const R=A.length;if(R<=G)return String.fromCharCode.apply(String,A);let F="",X=0;for(;X<R;)F+=String.fromCharCode.apply(String,A.slice(X,X+=G));return F}function Z(A,R,F){let X="";F=Math.min(A.length,F);for(let me=R;me<F;++me)X+=String.fromCharCode(A[me]&127);return X}function ie(A,R,F){let X="";F=Math.min(A.length,F);for(let me=R;me<F;++me)X+=String.fromCharCode(A[me]);return X}function te(A,R,F){const X=A.length;(!R||R<0)&&(R=0),(!F||F<0||F>X)&&(F=X);let me="";for(let ye=R;ye<F;++ye)me+=ot[A[ye]];return me}function he(A,R,F){const X=A.slice(R,F);let me="";for(let ye=0;ye<X.length-1;ye+=2)me+=String.fromCharCode(X[ye]+X[ye+1]*256);return me}D.prototype.slice=function(R,F){const X=this.length;R=~~R,F=F===void 0?X:~~F,R<0?(R+=X,R<0&&(R=0)):R>X&&(R=X),F<0?(F+=X,F<0&&(F=0)):F>X&&(F=X),F<R&&(F=R);const me=this.subarray(R,F);return Object.setPrototypeOf(me,D.prototype),me};function ce(A,R,F){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+R>F)throw new RangeError("Trying to access beyond buffer length")}D.prototype.readUintLE=D.prototype.readUIntLE=function(R,F,X){R=R>>>0,F=F>>>0,X||ce(R,F,this.length);let me=this[R],ye=1,xe=0;for(;++xe<F&&(ye*=256);)me+=this[R+xe]*ye;return me},D.prototype.readUintBE=D.prototype.readUIntBE=function(R,F,X){R=R>>>0,F=F>>>0,X||ce(R,F,this.length);let me=this[R+--F],ye=1;for(;F>0&&(ye*=256);)me+=this[R+--F]*ye;return me},D.prototype.readUint8=D.prototype.readUInt8=function(R,F){return R=R>>>0,F||ce(R,1,this.length),this[R]},D.prototype.readUint16LE=D.prototype.readUInt16LE=function(R,F){return R=R>>>0,F||ce(R,2,this.length),this[R]|this[R+1]<<8},D.prototype.readUint16BE=D.prototype.readUInt16BE=function(R,F){return R=R>>>0,F||ce(R,2,this.length),this[R]<<8|this[R+1]},D.prototype.readUint32LE=D.prototype.readUInt32LE=function(R,F){return R=R>>>0,F||ce(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},D.prototype.readUint32BE=D.prototype.readUInt32BE=function(R,F){return R=R>>>0,F||ce(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},D.prototype.readBigUInt64LE=mt(function(R){R=R>>>0,re(R,"offset");const F=this[R],X=this[R+7];(F===void 0||X===void 0)&&pe(R,this.length-8);const me=F+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,ye=this[++R]+this[++R]*2**8+this[++R]*2**16+X*2**24;return BigInt(me)+(BigInt(ye)<<BigInt(32))}),D.prototype.readBigUInt64BE=mt(function(R){R=R>>>0,re(R,"offset");const F=this[R],X=this[R+7];(F===void 0||X===void 0)&&pe(R,this.length-8);const me=F*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],ye=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+X;return(BigInt(me)<<BigInt(32))+BigInt(ye)}),D.prototype.readIntLE=function(R,F,X){R=R>>>0,F=F>>>0,X||ce(R,F,this.length);let me=this[R],ye=1,xe=0;for(;++xe<F&&(ye*=256);)me+=this[R+xe]*ye;return ye*=128,me>=ye&&(me-=Math.pow(2,8*F)),me},D.prototype.readIntBE=function(R,F,X){R=R>>>0,F=F>>>0,X||ce(R,F,this.length);let me=F,ye=1,xe=this[R+--me];for(;me>0&&(ye*=256);)xe+=this[R+--me]*ye;return ye*=128,xe>=ye&&(xe-=Math.pow(2,8*F)),xe},D.prototype.readInt8=function(R,F){return R=R>>>0,F||ce(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},D.prototype.readInt16LE=function(R,F){R=R>>>0,F||ce(R,2,this.length);const X=this[R]|this[R+1]<<8;return X&32768?X|4294901760:X},D.prototype.readInt16BE=function(R,F){R=R>>>0,F||ce(R,2,this.length);const X=this[R+1]|this[R]<<8;return X&32768?X|4294901760:X},D.prototype.readInt32LE=function(R,F){return R=R>>>0,F||ce(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},D.prototype.readInt32BE=function(R,F){return R=R>>>0,F||ce(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},D.prototype.readBigInt64LE=mt(function(R){R=R>>>0,re(R,"offset");const F=this[R],X=this[R+7];(F===void 0||X===void 0)&&pe(R,this.length-8);const me=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(X<<24);return(BigInt(me)<<BigInt(32))+BigInt(F+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),D.prototype.readBigInt64BE=mt(function(R){R=R>>>0,re(R,"offset");const F=this[R],X=this[R+7];(F===void 0||X===void 0)&&pe(R,this.length-8);const me=(F<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(me)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+X)}),D.prototype.readFloatLE=function(R,F){return R=R>>>0,F||ce(R,4,this.length),w.read(this,R,!0,23,4)},D.prototype.readFloatBE=function(R,F){return R=R>>>0,F||ce(R,4,this.length),w.read(this,R,!1,23,4)},D.prototype.readDoubleLE=function(R,F){return R=R>>>0,F||ce(R,8,this.length),w.read(this,R,!0,52,8)},D.prototype.readDoubleBE=function(R,F){return R=R>>>0,F||ce(R,8,this.length),w.read(this,R,!1,52,8)};function ve(A,R,F,X,me,ye){if(!D.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>me||R<ye)throw new RangeError('"value" argument is out of bounds');if(F+X>A.length)throw new RangeError("Index out of range")}D.prototype.writeUintLE=D.prototype.writeUIntLE=function(R,F,X,me){if(R=+R,F=F>>>0,X=X>>>0,!me){const Me=Math.pow(2,8*X)-1;ve(this,R,F,X,Me,0)}let ye=1,xe=0;for(this[F]=R&255;++xe<X&&(ye*=256);)this[F+xe]=R/ye&255;return F+X},D.prototype.writeUintBE=D.prototype.writeUIntBE=function(R,F,X,me){if(R=+R,F=F>>>0,X=X>>>0,!me){const Me=Math.pow(2,8*X)-1;ve(this,R,F,X,Me,0)}let ye=X-1,xe=1;for(this[F+ye]=R&255;--ye>=0&&(xe*=256);)this[F+ye]=R/xe&255;return F+X},D.prototype.writeUint8=D.prototype.writeUInt8=function(R,F,X){return R=+R,F=F>>>0,X||ve(this,R,F,1,255,0),this[F]=R&255,F+1},D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(R,F,X){return R=+R,F=F>>>0,X||ve(this,R,F,2,65535,0),this[F]=R&255,this[F+1]=R>>>8,F+2},D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(R,F,X){return R=+R,F=F>>>0,X||ve(this,R,F,2,65535,0),this[F]=R>>>8,this[F+1]=R&255,F+2},D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(R,F,X){return R=+R,F=F>>>0,X||ve(this,R,F,4,4294967295,0),this[F+3]=R>>>24,this[F+2]=R>>>16,this[F+1]=R>>>8,this[F]=R&255,F+4},D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(R,F,X){return R=+R,F=F>>>0,X||ve(this,R,F,4,4294967295,0),this[F]=R>>>24,this[F+1]=R>>>16,this[F+2]=R>>>8,this[F+3]=R&255,F+4};function Ce(A,R,F,X,me){W(R,X,me,A,F,7);let ye=Number(R&BigInt(4294967295));A[F++]=ye,ye=ye>>8,A[F++]=ye,ye=ye>>8,A[F++]=ye,ye=ye>>8,A[F++]=ye;let xe=Number(R>>BigInt(32)&BigInt(4294967295));return A[F++]=xe,xe=xe>>8,A[F++]=xe,xe=xe>>8,A[F++]=xe,xe=xe>>8,A[F++]=xe,F}function Ee(A,R,F,X,me){W(R,X,me,A,F,7);let ye=Number(R&BigInt(4294967295));A[F+7]=ye,ye=ye>>8,A[F+6]=ye,ye=ye>>8,A[F+5]=ye,ye=ye>>8,A[F+4]=ye;let xe=Number(R>>BigInt(32)&BigInt(4294967295));return A[F+3]=xe,xe=xe>>8,A[F+2]=xe,xe=xe>>8,A[F+1]=xe,xe=xe>>8,A[F]=xe,F+8}D.prototype.writeBigUInt64LE=mt(function(R,F=0){return Ce(this,R,F,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeBigUInt64BE=mt(function(R,F=0){return Ee(this,R,F,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeIntLE=function(R,F,X,me){if(R=+R,F=F>>>0,!me){const Ke=Math.pow(2,8*X-1);ve(this,R,F,X,Ke-1,-Ke)}let ye=0,xe=1,Me=0;for(this[F]=R&255;++ye<X&&(xe*=256);)R<0&&Me===0&&this[F+ye-1]!==0&&(Me=1),this[F+ye]=(R/xe>>0)-Me&255;return F+X},D.prototype.writeIntBE=function(R,F,X,me){if(R=+R,F=F>>>0,!me){const Ke=Math.pow(2,8*X-1);ve(this,R,F,X,Ke-1,-Ke)}let ye=X-1,xe=1,Me=0;for(this[F+ye]=R&255;--ye>=0&&(xe*=256);)R<0&&Me===0&&this[F+ye+1]!==0&&(Me=1),this[F+ye]=(R/xe>>0)-Me&255;return F+X},D.prototype.writeInt8=function(R,F,X){return R=+R,F=F>>>0,X||ve(this,R,F,1,127,-128),R<0&&(R=255+R+1),this[F]=R&255,F+1},D.prototype.writeInt16LE=function(R,F,X){return R=+R,F=F>>>0,X||ve(this,R,F,2,32767,-32768),this[F]=R&255,this[F+1]=R>>>8,F+2},D.prototype.writeInt16BE=function(R,F,X){return R=+R,F=F>>>0,X||ve(this,R,F,2,32767,-32768),this[F]=R>>>8,this[F+1]=R&255,F+2},D.prototype.writeInt32LE=function(R,F,X){return R=+R,F=F>>>0,X||ve(this,R,F,4,2147483647,-2147483648),this[F]=R&255,this[F+1]=R>>>8,this[F+2]=R>>>16,this[F+3]=R>>>24,F+4},D.prototype.writeInt32BE=function(R,F,X){return R=+R,F=F>>>0,X||ve(this,R,F,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[F]=R>>>24,this[F+1]=R>>>16,this[F+2]=R>>>8,this[F+3]=R&255,F+4},D.prototype.writeBigInt64LE=mt(function(R,F=0){return Ce(this,R,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),D.prototype.writeBigInt64BE=mt(function(R,F=0){return Ee(this,R,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ue(A,R,F,X,me,ye){if(F+X>A.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function Fe(A,R,F,X,me){return R=+R,F=F>>>0,me||Ue(A,R,F,4),w.write(A,R,F,X,23,4),F+4}D.prototype.writeFloatLE=function(R,F,X){return Fe(this,R,F,!0,X)},D.prototype.writeFloatBE=function(R,F,X){return Fe(this,R,F,!1,X)};function Qe(A,R,F,X,me){return R=+R,F=F>>>0,me||Ue(A,R,F,8),w.write(A,R,F,X,52,8),F+8}D.prototype.writeDoubleLE=function(R,F,X){return Qe(this,R,F,!0,X)},D.prototype.writeDoubleBE=function(R,F,X){return Qe(this,R,F,!1,X)},D.prototype.copy=function(R,F,X,me){if(!D.isBuffer(R))throw new TypeError("argument should be a Buffer");if(X||(X=0),!me&&me!==0&&(me=this.length),F>=R.length&&(F=R.length),F||(F=0),me>0&&me<X&&(me=X),me===X||R.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),R.length-F<me-X&&(me=R.length-F+X);const ye=me-X;return this===R&&typeof x.prototype.copyWithin=="function"?this.copyWithin(F,X,me):x.prototype.set.call(R,this.subarray(X,me),F),ye},D.prototype.fill=function(R,F,X,me){if(typeof R=="string"){if(typeof F=="string"?(me=F,F=0,X=this.length):typeof X=="string"&&(me=X,X=this.length),me!==void 0&&typeof me!="string")throw new TypeError("encoding must be a string");if(typeof me=="string"&&!D.isEncoding(me))throw new TypeError("Unknown encoding: "+me);if(R.length===1){const xe=R.charCodeAt(0);(me==="utf8"&&xe<128||me==="latin1")&&(R=xe)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(F<0||this.length<F||this.length<X)throw new RangeError("Out of range index");if(X<=F)return this;F=F>>>0,X=X===void 0?this.length:X>>>0,R||(R=0);let ye;if(typeof R=="number")for(ye=F;ye<X;++ye)this[ye]=R;else{const xe=D.isBuffer(R)?R:D.from(R,me),Me=xe.length;if(Me===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(ye=0;ye<X-F;++ye)this[ye+F]=xe[ye%Me]}return this};const ke={};function K(A,R,F){ke[A]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:me,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}K("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),K("ERR_INVALID_ARG_TYPE",function(A,R){return`The "${A}" argument must be of type number. Received type ${typeof R}`},TypeError),K("ERR_OUT_OF_RANGE",function(A,R,F){let X=`The value of "${A}" is out of range.`,me=F;return Number.isInteger(F)&&Math.abs(F)>2**32?me=j(String(F)):typeof F=="bigint"&&(me=String(F),(F>BigInt(2)**BigInt(32)||F<-(BigInt(2)**BigInt(32)))&&(me=j(me)),me+="n"),X+=` It must be ${R}. Received ${me}`,X},RangeError);function j(A){let R="",F=A.length;const X=A[0]==="-"?1:0;for(;F>=X+4;F-=3)R=`_${A.slice(F-3,F)}${R}`;return`${A.slice(0,F)}${R}`}function q(A,R,F){re(R,"offset"),(A[R]===void 0||A[R+F]===void 0)&&pe(R,A.length-(F+1))}function W(A,R,F,X,me,ye){if(A>F||A<R){const xe=typeof R=="bigint"?"n":"";let Me;throw ye>3?R===0||R===BigInt(0)?Me=`>= 0${xe} and < 2${xe} ** ${(ye+1)*8}${xe}`:Me=`>= -(2${xe} ** ${(ye+1)*8-1}${xe}) and < 2 ** ${(ye+1)*8-1}${xe}`:Me=`>= ${R}${xe} and <= ${F}${xe}`,new ke.ERR_OUT_OF_RANGE("value",Me,A)}q(X,me,ye)}function re(A,R){if(typeof A!="number")throw new ke.ERR_INVALID_ARG_TYPE(R,"number",A)}function pe(A,R,F){throw Math.floor(A)!==A?(re(A,F),new ke.ERR_OUT_OF_RANGE(F||"offset","an integer",A)):R<0?new ke.ERR_BUFFER_OUT_OF_BOUNDS:new ke.ERR_OUT_OF_RANGE(F||"offset",`>= ${F?1:0} and <= ${R}`,A)}const ge=/[^+/0-9A-Za-z-_]/g;function qe(A){if(A=A.split("=")[0],A=A.trim().replace(ge,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function ee(A,R){R=R||1/0;let F;const X=A.length;let me=null;const ye=[];for(let xe=0;xe<X;++xe){if(F=A.charCodeAt(xe),F>55295&&F<57344){if(!me){if(F>56319){(R-=3)>-1&&ye.push(239,191,189);continue}else if(xe+1===X){(R-=3)>-1&&ye.push(239,191,189);continue}me=F;continue}if(F<56320){(R-=3)>-1&&ye.push(239,191,189),me=F;continue}F=(me-55296<<10|F-56320)+65536}else me&&(R-=3)>-1&&ye.push(239,191,189);if(me=null,F<128){if((R-=1)<0)break;ye.push(F)}else if(F<2048){if((R-=2)<0)break;ye.push(F>>6|192,F&63|128)}else if(F<65536){if((R-=3)<0)break;ye.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((R-=4)<0)break;ye.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return ye}function Oe(A){const R=[];for(let F=0;F<A.length;++F)R.push(A.charCodeAt(F)&255);return R}function je(A,R){let F,X,me;const ye=[];for(let xe=0;xe<A.length&&!((R-=2)<0);++xe)F=A.charCodeAt(xe),X=F>>8,me=F%256,ye.push(me),ye.push(X);return ye}function Be(A){return _.toByteArray(qe(A))}function Ye(A,R,F,X){let me;for(me=0;me<X&&!(me+F>=R.length||me>=A.length);++me)R[me+F]=A[me];return me}function ct(A,R){return A instanceof R||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===R.name}function ft(A){return A!==A}const ot=function(){const A="0123456789abcdef",R=new Array(256);for(let F=0;F<16;++F){const X=F*16;for(let me=0;me<16;++me)R[X+me]=A[F]+A[me]}return R}();function mt(A){return typeof BigInt>"u"?ne:A}function ne(){throw new Error("BigInt not supported")}})(t);const b=t.Buffer;e.Blob=t.Blob,e.BlobOptions=t.BlobOptions,e.Buffer=t.Buffer,e.File=t.File,e.FileOptions=t.FileOptions,e.INSPECT_MAX_BYTES=t.INSPECT_MAX_BYTES,e.SlowBuffer=t.SlowBuffer,e.TranscodeEncoding=t.TranscodeEncoding,e.atob=t.atob,e.btoa=t.btoa,e.constants=t.constants,e.default=b,e.isAscii=t.isAscii,e.isUtf8=t.isUtf8,e.kMaxLength=t.kMaxLength,e.kStringMaxLength=t.kStringMaxLength,e.resolveObjectURL=t.resolveObjectURL,e.transcode=t.transcode})(za);var qr={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},gW={exports:{}},Qd={exports:{}},y6;function Ul(){if(y6)return Qd.exports;y6=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Qd.exports=e,Qd.exports.AbortSignal=t,Qd.exports.default=e,Qd.exports}var zP={exports:{}},vl=typeof Reflect=="object"?Reflect:null,m6=vl&&typeof vl.apply=="function"?vl.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Tv;vl&&typeof vl.ownKeys=="function"?Tv=vl.ownKeys:Object.getOwnPropertySymbols?Tv=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Tv=function(t){return Object.getOwnPropertyNames(t)};function Sle(e){console&&console.warn&&console.warn(e)}var _W=Number.isNaN||function(t){return t!==t};function lr(){lr.init.call(this)}zP.exports=lr;zP.exports.once=Ole;lr.EventEmitter=lr;lr.prototype._events=void 0;lr.prototype._eventsCount=0;lr.prototype._maxListeners=void 0;var g6=10;function Yw(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(lr,"defaultMaxListeners",{enumerable:!0,get:function(){return g6},set:function(e){if(typeof e!="number"||e<0||_W(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");g6=e}});lr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};lr.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||_W(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function bW(e){return e._maxListeners===void 0?lr.defaultMaxListeners:e._maxListeners}lr.prototype.getMaxListeners=function(){return bW(this)};lr.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var a=t==="error",s=this._events;if(s!==void 0)a=a&&s.error===void 0;else if(!a)return!1;if(a){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var l=s[t];if(l===void 0)return!1;if(typeof l=="function")m6(l,this,r);else for(var c=l.length,d=EW(l,c),n=0;n<c;++n)m6(d[n],this,r);return!0};function vW(e,t,r,n){var a,s,o;if(Yw(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),o===void 0)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),a=bW(e),a>0&&o.length>a&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,Sle(u)}return e}lr.prototype.addListener=function(t,r){return vW(this,t,r,!1)};lr.prototype.on=lr.prototype.addListener;lr.prototype.prependListener=function(t,r){return vW(this,t,r,!0)};function Tle(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function wW(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=Tle.bind(n);return a.listener=r,n.wrapFn=a,a}lr.prototype.once=function(t,r){return Yw(r),this.on(t,wW(this,t,r)),this};lr.prototype.prependOnceListener=function(t,r){return Yw(r),this.prependListener(t,wW(this,t,r)),this};lr.prototype.removeListener=function(t,r){var n,a,s,o,u;if(Yw(r),a=this._events,a===void 0)return this;if(n=a[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[t],a.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){u=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():Ele(n,s),n.length===1&&(a[t]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",t,u||r)}return this};lr.prototype.off=lr.prototype.removeListener;lr.prototype.removeAllListeners=function(t){var r,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),o;for(a=0;a<s.length;++a)o=s[a],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(t,r[a]);return this};function SW(e,t,r){var n=e._events;if(n===void 0)return[];var a=n[t];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?Ale(a):EW(a,a.length)}lr.prototype.listeners=function(t){return SW(this,t,!0)};lr.prototype.rawListeners=function(t){return SW(this,t,!1)};lr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):TW.call(e,t)};lr.prototype.listenerCount=TW;function TW(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}lr.prototype.eventNames=function(){return this._eventsCount>0?Tv(this._events):[]};function EW(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function Ele(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Ale(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function Ole(e,t){return new Promise(function(r,n){function a(o){e.removeListener(t,s),n(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",a),r([].slice.call(arguments))}AW(e,t,s,{once:!0}),t!=="error"&&Rle(e,a,{once:!0})})}function Rle(e,t,r){typeof e.on=="function"&&AW(e,"error",t,r)}function AW(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function a(s){n.once&&e.removeEventListener(t,a),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var fb=zP.exports;(function(e){const t=za,{kResistStopPropagation:r,SymbolDispose:n}=qr,a=globalThis.AbortSignal||Ul().AbortSignal,s=globalThis.AbortController||Ul().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,u=globalThis.Blob||t.Blob,l=typeof u<"u"?function(p){return p instanceof u}:function(p){return!1},c=(h,p)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",h)},d=(h,p)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",h)};class f extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let m="";for(let y=0;y<p.length;y++)m+=`    ${p[y].stack}
`;super(m),this.name="AggregateError",this.errors=p}}e.exports={AggregateError:f,kEmptyObject:Object.freeze({}),once(h){let p=!1;return function(...m){p||(p=!0,h.apply(this,m))}},createDeferredPromise:function(){let h,p;return{promise:new Promise((y,g)=>{h=y,p=g}),resolve:h,reject:p}},promisify(h){return new Promise((p,m)=>{h((y,...g)=>y?m(y):p(...g))})},debuglog(){return function(){}},format(h,...p){return h.replace(/%([sdifj])/g,function(...[m,y]){const g=p.shift();return y==="f"?g.toFixed(6):y==="j"?JSON.stringify(g):y==="s"&&typeof g=="object"?`${g.constructor!==Object?g.constructor.name:""} {}`.trim():g.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof o},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:l,deprecate(h,p){return h},addAbortListener:fb.addAbortListener||function(p,m){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);c(p,"signal"),d(m,"listener");let y;return p.aborted?queueMicrotask(()=>m()):(p.addEventListener("abort",m,{__proto__:null,once:!0,[r]:!0}),y=()=>{p.removeEventListener("abort",m)}),{__proto__:null,[n](){var g;(g=y)===null||g===void 0||g()}}},AbortSignalAny:a.any||function(p){if(p.length===1)return p[0];const m=new s,y=()=>m.abort();return p.forEach(g=>{c(g,"signals"),g.addEventListener("abort",y,{once:!0})}),m.signal.addEventListener("abort",()=>{p.forEach(g=>g.removeEventListener("abort",y))},{once:!0}),m.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(gW);var ii=gW.exports,GP={};const{format:xle,inspect:cw,AggregateError:Ile}=ii,Ple=globalThis.AggregateError||Ile,Nle=Symbol("kIsNodeError"),Dle=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Cle=/^([A-Z][a-z0-9]*)+$/,Lle="__node_internal_",Zw={};function ec(e,t){if(!e)throw new Zw.ERR_INTERNAL_ASSERTION(t)}function _6(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function jle(e,t,r){if(typeof t=="function")return ec(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return ec(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:xle(t,...r)}function wn(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(jle(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[Nle]=!0,Zw[e]=n}function b6(e){const t=Lle+e.name;return Object.defineProperty(e,"name",{value:t}),e}function Mle(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new Ple([t,e],t.message);return r.code=t.code,r}return e||t}let Fle=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Zw.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};wn("ERR_ASSERTION","%s",Error);wn("ERR_INVALID_ARG_TYPE",(e,t,r)=>{ec(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const a=[],s=[],o=[];for(const l of t)ec(typeof l=="string","All expected entries have to be of type string"),Dle.includes(l)?a.push(l.toLowerCase()):Cle.test(l)?s.push(l):(ec(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){const l=a.indexOf("object");l!==-1&&(a.splice(a,l,1),s.push("Object"))}if(a.length>0){switch(a.length){case 1:n+=`of type ${a[0]}`;break;case 2:n+=`one of type ${a[0]} or ${a[1]}`;break;default:{const l=a.pop();n+=`one of type ${a.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{const l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var u;if((u=r.constructor)!==null&&u!==void 0&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{const l=cw(r,{depth:-1});n+=`. Received ${l}`}}else{let l=cw(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);wn("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=cw(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError);wn("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const a=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${a}.`},TypeError);wn("ERR_MISSING_ARGS",(...e)=>{ec(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError);wn("ERR_OUT_OF_RANGE",(e,t,r)=>{ec(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=_6(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=_6(n)),n+="n"):n=cw(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError);wn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);wn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);wn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);wn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);wn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);wn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);wn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);wn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);wn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);wn("ERR_STREAM_WRITE_AFTER_END","write after end",Error);wn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var pi={AbortError:Fle,aggregateTwoErrors:b6(Mle),hideStackFrames:b6,codes:Zw};const{ArrayIsArray:WP,ArrayPrototypeIncludes:OW,ArrayPrototypeJoin:RW,ArrayPrototypeMap:qle,NumberIsInteger:KP,NumberIsNaN:Ble,NumberMAX_SAFE_INTEGER:$le,NumberMIN_SAFE_INTEGER:Ule,NumberParseInt:kle,ObjectPrototypeHasOwnProperty:Vle,RegExpPrototypeExec:xW,String:Hle,StringPrototypeToUpperCase:Qle,StringPrototypeTrim:zle}=qr,{hideStackFrames:ta,codes:{ERR_SOCKET_BAD_PORT:Gle,ERR_INVALID_ARG_TYPE:Ln,ERR_INVALID_ARG_VALUE:ud,ERR_OUT_OF_RANGE:oc,ERR_UNKNOWN_SIGNAL:v6}}=pi,{normalizeEncoding:Wle}=ii,{isAsyncFunction:Kle,isArrayBufferView:Jle}=ii.types,w6={};function Xle(e){return e===(e|0)}function Yle(e){return e===e>>>0}const Zle=/^[0-7]+$/,ede="must be a 32-bit unsigned integer or an octal string";function tde(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(xW(Zle,e)===null)throw new ud(t,e,ede);e=kle(e,8)}return IW(e,t),e}const rde=ta((e,t,r=Ule,n=$le)=>{if(typeof e!="number")throw new Ln(t,"number",e);if(!KP(e))throw new oc(t,"an integer",e);if(e<r||e>n)throw new oc(t,`>= ${r} && <= ${n}`,e)}),nde=ta((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new Ln(t,"number",e);if(!KP(e))throw new oc(t,"an integer",e);if(e<r||e>n)throw new oc(t,`>= ${r} && <= ${n}`,e)}),IW=ta((e,t,r=!1)=>{if(typeof e!="number")throw new Ln(t,"number",e);if(!KP(e))throw new oc(t,"an integer",e);const n=r?1:0,a=4294967295;if(e<n||e>a)throw new oc(t,`>= ${n} && <= ${a}`,e)});function JP(e,t){if(typeof e!="string")throw new Ln(t,"string",e)}function ide(e,t,r=void 0,n){if(typeof e!="number")throw new Ln(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&Ble(e))throw new oc(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const ade=ta((e,t,r)=>{if(!OW(r,e)){const a="must be one of: "+RW(qle(r,s=>typeof s=="string"?`'${s}'`:Hle(s)),", ");throw new ud(t,e,a)}});function PW(e,t){if(typeof e!="boolean")throw new Ln(t,"boolean",e)}function aT(e,t,r){return e==null||!Vle(e,t)?r:e[t]}const sde=ta((e,t,r=null)=>{const n=aT(r,"allowArray",!1),a=aT(r,"allowFunction",!1);if(!aT(r,"nullable",!1)&&e===null||!n&&WP(e)||typeof e!="object"&&(!a||typeof e!="function"))throw new Ln(t,"Object",e)}),ode=ta((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new Ln(t,"a dictionary",e)}),eS=ta((e,t,r=0)=>{if(!WP(e))throw new Ln(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new ud(t,e,n)}});function ude(e,t){eS(e,t);for(let r=0;r<e.length;r++)JP(e[r],`${t}[${r}]`)}function cde(e,t){eS(e,t);for(let r=0;r<e.length;r++)PW(e[r],`${t}[${r}]`)}function lde(e,t){eS(e,t);for(let r=0;r<e.length;r++){const n=e[r],a=`${t}[${r}]`;if(n==null)throw new Ln(a,"AbortSignal",n);NW(n,a)}}function dde(e,t="signal"){if(JP(e,t),w6[e]===void 0)throw w6[Qle(e)]!==void 0?new v6(e+" (signals must use all capital letters)"):new v6(e)}const fde=ta((e,t="buffer")=>{if(!Jle(e))throw new Ln(t,["Buffer","TypedArray","DataView"],e)});function hde(e,t){const r=Wle(t),n=e.length;if(r==="hex"&&n%2!==0)throw new ud("encoding",t,`is invalid for data of length ${n}`)}function pde(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&zle(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new Gle(t,e,r);return e|0}const NW=ta((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new Ln(t,"AbortSignal",e)}),yde=ta((e,t)=>{if(typeof e!="function")throw new Ln(t,"Function",e)}),mde=ta((e,t)=>{if(typeof e!="function"||Kle(e))throw new Ln(t,"Function",e)}),gde=ta((e,t)=>{if(e!==void 0)throw new Ln(t,"undefined",e)});function _de(e,t,r){if(!OW(r,e))throw new Ln(t,`('${RW(r,"|")}')`,e)}const bde=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function S6(e,t){if(typeof e>"u"||!xW(bde,e))throw new ud(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function vde(e){if(typeof e=="string")return S6(e,"hints"),e;if(WP(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const a=e[n];S6(a,"hints"),r+=a,n!==t-1&&(r+=", ")}return r}throw new ud("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var hb={isInt32:Xle,isUint32:Yle,parseFileMode:tde,validateArray:eS,validateStringArray:ude,validateBooleanArray:cde,validateAbortSignalArray:lde,validateBoolean:PW,validateBuffer:fde,validateDictionary:ode,validateEncoding:hde,validateFunction:yde,validateInt32:nde,validateInteger:rde,validateNumber:ide,validateObject:sde,validateOneOf:ade,validatePlainFunction:mde,validatePort:pde,validateSignalName:dde,validateString:JP,validateUint32:IW,validateUndefined:gde,validateUnion:_de,validateAbortSignal:NW,validateLinkHeaderValue:vde},XP={exports:{}},DW={exports:{}},Gr=DW.exports={},Pa,Na;function Qx(){throw new Error("setTimeout has not been defined")}function zx(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Pa=setTimeout:Pa=Qx}catch{Pa=Qx}try{typeof clearTimeout=="function"?Na=clearTimeout:Na=zx}catch{Na=zx}})();function CW(e){if(Pa===setTimeout)return setTimeout(e,0);if((Pa===Qx||!Pa)&&setTimeout)return Pa=setTimeout,setTimeout(e,0);try{return Pa(e,0)}catch{try{return Pa.call(null,e,0)}catch{return Pa.call(this,e,0)}}}function wde(e){if(Na===clearTimeout)return clearTimeout(e);if((Na===zx||!Na)&&clearTimeout)return Na=clearTimeout,clearTimeout(e);try{return Na(e)}catch{try{return Na.call(null,e)}catch{return Na.call(this,e)}}}var xs=[],wl=!1,Hu,Ev=-1;function Sde(){!wl||!Hu||(wl=!1,Hu.length?xs=Hu.concat(xs):Ev=-1,xs.length&&LW())}function LW(){if(!wl){var e=CW(Sde);wl=!0;for(var t=xs.length;t;){for(Hu=xs,xs=[];++Ev<t;)Hu&&Hu[Ev].run();Ev=-1,t=xs.length}Hu=null,wl=!1,wde(e)}}Gr.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];xs.push(new jW(e,t)),xs.length===1&&!wl&&CW(LW)};function jW(e,t){this.fun=e,this.array=t}jW.prototype.run=function(){this.fun.apply(null,this.array)};Gr.title="browser";Gr.browser=!0;Gr.env={};Gr.argv=[];Gr.version="";Gr.versions={};function Ws(){}Gr.on=Ws;Gr.addListener=Ws;Gr.once=Ws;Gr.off=Ws;Gr.removeListener=Ws;Gr.removeAllListeners=Ws;Gr.emit=Ws;Gr.prependListener=Ws;Gr.prependOnceListener=Ws;Gr.listeners=function(e){return[]};Gr.binding=function(e){throw new Error("process.binding is not supported")};Gr.cwd=function(){return"/"};Gr.chdir=function(e){throw new Error("process.chdir is not supported")};Gr.umask=function(){return 0};var Ks=DW.exports;const{SymbolAsyncIterator:T6,SymbolIterator:E6,SymbolFor:bc}=qr,MW=bc("nodejs.stream.destroyed"),FW=bc("nodejs.stream.errored"),Gx=bc("nodejs.stream.readable"),Wx=bc("nodejs.stream.writable"),qW=bc("nodejs.stream.disturbed"),Tde=bc("nodejs.webstream.isClosedPromise"),Ede=bc("nodejs.webstream.controllerErrorFunction");function tS(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function rS(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function Ade(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function Ga(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function BW(e){return!!(e&&!Ga(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function $W(e){return!!(e&&!Ga(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function UW(e){return!!(e&&!Ga(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function Ode(e){return BW(e)||$W(e)||UW(e)}function Rde(e,t){return e==null?!1:t===!0?typeof e[T6]=="function":t===!1?typeof e[E6]=="function":typeof e[T6]=="function"||typeof e[E6]=="function"}function nS(e){if(!Ga(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[MW]||n!=null&&n.destroyed)}function kW(e){if(!rS(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function xde(e,t){if(!rS(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function Ide(e){if(!tS(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function VW(e,t){if(!tS(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function HW(e){return e&&e[Gx]!=null?e[Gx]:typeof(e==null?void 0:e.readable)!="boolean"?null:nS(e)?!1:tS(e)&&e.readable&&!VW(e)}function QW(e){return e&&e[Wx]!=null?e[Wx]:typeof(e==null?void 0:e.writable)!="boolean"?null:nS(e)?!1:rS(e)&&e.writable&&!kW(e)}function Pde(e,t){return Ga(e)?nS(e)?!0:!((t==null?void 0:t.readable)!==!1&&HW(e)||(t==null?void 0:t.writable)!==!1&&QW(e)):null}function Nde(e){var t,r;return Ga(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Dde(e){var t,r;return Ga(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Cde(e){if(!Ga(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&zW(e)?e._closed:null}function zW(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function GW(e){return typeof e._sent100=="boolean"&&zW(e)}function Lde(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function jde(e){if(!Ga(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&GW(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Mde(e){var t;return!!(e&&((t=e[qW])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function Fde(e){var t,r,n,a,s,o,u,l,c,d;return!!(e&&((t=(r=(n=(a=(s=(o=e[FW])!==null&&o!==void 0?o:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&a!==void 0?a:(u=e._readableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&n!==void 0?n:(l=e._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=e._readableState)===null||c===void 0?void 0:c.errored)!==null&&t!==void 0?t:!((d=e._writableState)===null||d===void 0)&&d.errored))}var Js={isDestroyed:nS,kIsDestroyed:MW,isDisturbed:Mde,kIsDisturbed:qW,isErrored:Fde,kIsErrored:FW,isReadable:HW,kIsReadable:Gx,kIsClosedPromise:Tde,kControllerErrorFunction:Ede,kIsWritable:Wx,isClosed:Cde,isDuplexNodeStream:Ade,isFinished:Pde,isIterable:Rde,isReadableNodeStream:tS,isReadableStream:BW,isReadableEnded:Ide,isReadableFinished:VW,isReadableErrored:Dde,isNodeStream:Ga,isWebStream:Ode,isWritable:QW,isWritableNodeStream:rS,isWritableStream:$W,isWritableEnded:kW,isWritableFinished:xde,isWritableErrored:Nde,isServerRequest:Lde,isServerResponse:GW,willEmitClose:jde,isTransformStream:UW};const bo=Ks,{AbortError:WW,codes:qde}=pi,{ERR_INVALID_ARG_TYPE:Bde,ERR_STREAM_PREMATURE_CLOSE:A6}=qde,{kEmptyObject:Kx,once:Jx}=ii,{validateAbortSignal:$de,validateFunction:Ude,validateObject:kde,validateBoolean:Vde}=hb,{Promise:Hde,PromisePrototypeThen:Qde,SymbolDispose:KW}=qr,{isClosed:zde,isReadable:O6,isReadableNodeStream:sT,isReadableStream:Gde,isReadableFinished:R6,isReadableErrored:x6,isWritable:I6,isWritableNodeStream:P6,isWritableStream:Wde,isWritableFinished:N6,isWritableErrored:D6,isNodeStream:Kde,willEmitClose:Jde,kIsClosedPromise:Xde}=Js;let Sl;function Yde(e){return e.setHeader&&typeof e.abort=="function"}const Xx=()=>{};function JW(e,t,r){var n,a;if(arguments.length===2?(r=t,t=Kx):t==null?t=Kx:kde(t,"options"),Ude(r,"callback"),$de(t.signal,"options.signal"),r=Jx(r),Gde(e)||Wde(e))return Zde(e,t,r);if(!Kde(e))throw new Bde("stream",["ReadableStream","WritableStream","Stream"],e);const s=(n=t.readable)!==null&&n!==void 0?n:sT(e),o=(a=t.writable)!==null&&a!==void 0?a:P6(e),u=e._writableState,l=e._readableState,c=()=>{e.writable||h()};let d=Jde(e)&&sT(e)===s&&P6(e)===o,f=N6(e,!1);const h=()=>{f=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||s))&&(!s||p)&&r.call(e)};let p=R6(e,!1);const m=()=>{p=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||o))&&(!o||f)&&r.call(e)},y=S=>{r.call(e,S)};let g=zde(e);const b=()=>{g=!0;const S=D6(e)||x6(e);if(S&&typeof S!="boolean")return r.call(e,S);if(s&&!p&&sT(e,!0)&&!R6(e,!1))return r.call(e,new A6);if(o&&!f&&!N6(e,!1))return r.call(e,new A6);r.call(e)},v=()=>{g=!0;const S=D6(e)||x6(e);if(S&&typeof S!="boolean")return r.call(e,S);r.call(e)},_=()=>{e.req.on("finish",h)};Yde(e)?(e.on("complete",h),d||e.on("abort",b),e.req?_():e.on("request",_)):o&&!u&&(e.on("end",c),e.on("close",c)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",b),e.on("end",m),e.on("finish",h),t.error!==!1&&e.on("error",y),e.on("close",b),g?bo.nextTick(b):u!=null&&u.errorEmitted||l!=null&&l.errorEmitted?d||bo.nextTick(v):(!s&&(!d||O6(e))&&(f||I6(e)===!1)||!o&&(!d||I6(e))&&(p||O6(e)===!1)||l&&e.req&&e.aborted)&&bo.nextTick(v);const w=()=>{r=Xx,e.removeListener("aborted",b),e.removeListener("complete",h),e.removeListener("abort",b),e.removeListener("request",_),e.req&&e.req.removeListener("finish",h),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",h),e.removeListener("end",m),e.removeListener("error",y),e.removeListener("close",b)};if(t.signal&&!g){const S=()=>{const E=r;w(),E.call(e,new WW(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)bo.nextTick(S);else{Sl=Sl||ii.addAbortListener;const E=Sl(t.signal,S),x=r;r=Jx((...C)=>{E[KW](),x.apply(e,C)})}}return w}function Zde(e,t,r){let n=!1,a=Xx;if(t.signal)if(a=()=>{n=!0,r.call(e,new WW(void 0,{cause:t.signal.reason}))},t.signal.aborted)bo.nextTick(a);else{Sl=Sl||ii.addAbortListener;const o=Sl(t.signal,a),u=r;r=Jx((...l)=>{o[KW](),u.apply(e,l)})}const s=(...o)=>{n||bo.nextTick(()=>r.apply(e,o))};return Qde(e[Xde].promise,s,s),Xx}function efe(e,t){var r;let n=!1;return t===null&&(t=Kx),(r=t)!==null&&r!==void 0&&r.cleanup&&(Vde(t.cleanup,"cleanup"),n=t.cleanup),new Hde((a,s)=>{const o=JW(e,t,u=>{n&&o(),u?s(u):a()})})}XP.exports=JW;XP.exports.finished=efe;var ko=XP.exports;const Ua=Ks,{aggregateTwoErrors:tfe,codes:{ERR_MULTIPLE_CALLBACK:rfe},AbortError:nfe}=pi,{Symbol:XW}=qr,{kIsDestroyed:ife,isDestroyed:afe,isFinished:sfe,isServerRequest:ofe}=Js,YW=XW("kDestroy"),Yx=XW("kConstruct");function ZW(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function ufe(e,t){const r=this._readableState,n=this._writableState,a=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(ZW(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),a.constructed?C6(this,e,t):this.once(YW,function(s){C6(this,tfe(s,e),t)}),this)}function C6(e,t,r){let n=!1;function a(s){if(n)return;n=!0;const o=e._readableState,u=e._writableState;ZW(s,u,o),u&&(u.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Ua.nextTick(cfe,e,s):Ua.nextTick(eK,e)}try{e._destroy(t||null,a)}catch(s){a(s)}}function cfe(e,t){Zx(e,t),eK(e)}function eK(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function Zx(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function lfe(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function eI(e,t,r){const n=e._readableState,a=e._writableState;if(a!=null&&a.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||a!=null&&a.autoDestroy?e.destroy(t):t&&(t.stack,a&&!a.errored&&(a.errored=t),n&&!n.errored&&(n.errored=t),r?Ua.nextTick(Zx,e,t):Zx(e,t))}function dfe(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(Yx,t),!(e.listenerCount(Yx)>1)&&Ua.nextTick(ffe,e)}function ffe(e){let t=!1;function r(n){if(t){eI(e,n??new rfe);return}t=!0;const a=e._readableState,s=e._writableState,o=s||a;a&&(a.constructed=!0),s&&(s.constructed=!0),o.destroyed?e.emit(YW,n):n?eI(e,n,!0):Ua.nextTick(hfe,e)}try{e._construct(n=>{Ua.nextTick(r,n)})}catch(n){Ua.nextTick(r,n)}}function hfe(e){e.emit(Yx)}function L6(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function tK(e){e.emit("close")}function pfe(e,t){e.emit("error",t),Ua.nextTick(tK,e)}function yfe(e,t){!e||afe(e)||(!t&&!sfe(e)&&(t=new nfe),ofe(e)?(e.socket=null,e.destroy(t)):L6(e)?e.abort():L6(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?Ua.nextTick(pfe,e,t):Ua.nextTick(tK,e),e.destroyed||(e[ife]=!0))}var cd={construct:dfe,destroyer:yfe,destroy:ufe,undestroy:lfe,errorOrDestroy:eI};const{ArrayIsArray:mfe,ObjectSetPrototypeOf:rK}=qr,{EventEmitter:iS}=fb;function aS(e){iS.call(this,e)}rK(aS.prototype,iS.prototype);rK(aS,iS);aS.prototype.pipe=function(e,t){const r=this;function n(d){e.writable&&e.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function a(){r.readable&&r.resume&&r.resume()}e.on("drain",a),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",o),r.on("close",u));let s=!1;function o(){s||(s=!0,e.end())}function u(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function l(d){c(),iS.listenerCount(this,"error")===0&&this.emit("error",d)}tI(r,"error",l),tI(e,"error",l);function c(){r.removeListener("data",n),e.removeListener("drain",a),r.removeListener("end",o),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e};function tI(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):mfe(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var YP={Stream:aS,prependListener:tI},nK={exports:{}};(function(e){const{SymbolDispose:t}=qr,{AbortError:r,codes:n}=pi,{isNodeStream:a,isWebStream:s,kControllerErrorFunction:o}=Js,u=ko,{ERR_INVALID_ARG_TYPE:l}=n;let c;const d=(f,h)=>{if(typeof f!="object"||!("aborted"in f))throw new l(h,"AbortSignal",f)};e.exports.addAbortSignal=function(h,p){if(d(h,"signal"),!a(p)&&!s(p))throw new l("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(h,p)},e.exports.addAbortSignalNoValidate=function(f,h){if(typeof f!="object"||!("aborted"in f))return h;const p=a(h)?()=>{h.destroy(new r(void 0,{cause:f.reason}))}:()=>{h[o](new r(void 0,{cause:f.reason}))};if(f.aborted)p();else{c=c||ii.addAbortListener;const m=c(f,p);u(h,m[t])}return h}})(nK);var sS=nK.exports;const{StringPrototypeSlice:j6,SymbolIterator:gfe,TypedArrayPrototypeSet:N1,Uint8Array:_fe}=qr,{Buffer:oT}=za,{inspect:bfe}=ii;var vfe=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return oT.alloc(0);const r=oT.allocUnsafe(t>>>0);let n=this.head,a=0;for(;n;)N1(r,n.data,a),a+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const a=n.slice(0,t);return this.head.data=n.slice(t),a}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[gfe](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,a=0;do{const s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++a,n.next?this.head=n.next:this.head=this.tail=null):(r+=j6(s,0,t),this.head=n,n.data=j6(s,t));break}++a}while((n=n.next)!==null);return this.length-=a,r}_getBuffer(t){const r=oT.allocUnsafe(t),n=t;let a=this.head,s=0;do{const o=a.data;if(t>o.length)N1(r,o,n-t),t-=o.length;else{t===o.length?(N1(r,o,n-t),++s,a.next?this.head=a.next:this.head=this.tail=null):(N1(r,new _fe(o.buffer,o.byteOffset,t),n-t),this.head=a,a.data=o.slice(t));break}++s}while((a=a.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return bfe(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:wfe,NumberIsInteger:Sfe}=qr,{validateInteger:Tfe}=hb,{ERR_INVALID_ARG_VALUE:Efe}=pi.codes;let iK=16*1024,aK=16;function Afe(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function sK(e){return e?aK:iK}function Ofe(e,t){Tfe(t,"value",0),e?aK=t:iK=t}function Rfe(e,t,r,n){const a=Afe(t,n,r);if(a!=null){if(!Sfe(a)||a<0){const s=n?`options.${r}`:"options.highWaterMark";throw new Efe(s,a)}return wfe(a)}return sK(e.objectMode)}var oS={getHighWaterMark:Rfe,getDefaultHighWaterMark:sK,setDefaultHighWaterMark:Ofe},oK={},rI={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=za,n=r.Buffer;function a(o,u){for(var l in o)u[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=s);function s(o,u,l){return n(o,u,l)}s.prototype=Object.create(n.prototype),a(n,s),s.from=function(o,u,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,u,l)},s.alloc=function(o,u,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=n(o);return u!==void 0?typeof l=="string"?c.fill(u,l):c.fill(u):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(rI,rI.exports);var xfe=rI.exports,ZP=xfe.Buffer,M6=ZP.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ife(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Pfe(e){var t=Ife(e);if(typeof t!="string"&&(ZP.isEncoding===M6||!M6(e)))throw new Error("Unknown encoding: "+e);return t||e}oK.StringDecoder=pb;function pb(e){this.encoding=Pfe(e);var t;switch(this.encoding){case"utf16le":this.text=Mfe,this.end=Ffe,t=4;break;case"utf8":this.fillLast=Cfe,t=4;break;case"base64":this.text=qfe,this.end=Bfe,t=3;break;default:this.write=$fe,this.end=Ufe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ZP.allocUnsafe(t)}pb.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};pb.prototype.end=jfe;pb.prototype.text=Lfe;pb.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function uT(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Nfe(e,t,r){var n=t.length-1;if(n<r)return 0;var a=uT(t[n]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--n<r||a===-2?0:(a=uT(t[n]),a>=0?(a>0&&(e.lastNeed=a-2),a):--n<r||a===-2?0:(a=uT(t[n]),a>=0?(a>0&&(a===2?a=0:e.lastNeed=a-3),a):0))}function Dfe(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"�"}}function Cfe(e){var t=this.lastTotal-this.lastNeed,r=Dfe(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Lfe(e,t){var r=Nfe(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function jfe(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function Mfe(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Ffe(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function qfe(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Bfe(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function $fe(e){return e.toString(this.encoding)}function Ufe(e){return e&&e.length?this.write(e):""}const F6=Ks,{PromisePrototypeThen:kfe,SymbolAsyncIterator:q6,SymbolIterator:B6}=qr,{Buffer:Vfe}=za,{ERR_INVALID_ARG_TYPE:Hfe,ERR_STREAM_NULL_VALUES:Qfe}=pi.codes;function zfe(e,t,r){let n;if(typeof t=="string"||t instanceof Vfe)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let a;if(t&&t[q6])a=!0,n=t[q6]();else if(t&&t[B6])a=!1,n=t[B6]();else throw new Hfe("iterable",["Iterable"],t);const s=new e({objectMode:!0,highWaterMark:1,...r});let o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,d){kfe(u(c),()=>F6.nextTick(d,c),f=>F6.nextTick(d,f||c))};async function u(c){const d=c!=null,f=typeof n.throw=="function";if(d&&f){const{value:h,done:p}=await n.throw(c);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function l(){for(;;){try{const{value:c,done:d}=a?await n.next():n.next();if(d)s.push(null);else{const f=c&&typeof c.then=="function"?await c:c;if(f===null)throw o=!1,new Qfe;if(s.push(f))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}var uK=zfe,cT,$6;function uS(){if($6)return cT;$6=1;const e=Ks,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:a,ObjectDefineProperties:s,ObjectKeys:o,ObjectSetPrototypeOf:u,Promise:l,SafeSet:c,SymbolAsyncDispose:d,SymbolAsyncIterator:f,Symbol:h}=qr;cT=ce,ce.ReadableState=he;const{EventEmitter:p}=fb,{Stream:m,prependListener:y}=YP,{Buffer:g}=za,{addAbortSignal:b}=sS,v=ko;let _=ii.debuglog("stream",ne=>{_=ne});const w=vfe,S=cd,{getHighWaterMark:E,getDefaultHighWaterMark:x}=oS,{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:I,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_OUT_OF_RANGE:L,ERR_STREAM_PUSH_AFTER_EOF:D,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:V},AbortError:k}=pi,{validateObject:$}=hb,H=h("kPaused"),{StringDecoder:J}=oK,Y=uK;u(ce.prototype,m.prototype),u(ce,m);const de=()=>{},{errorOrDestroy:Te}=S,De=1,Ve=2,le=4,ue=8,Ie=16,Ne=32,we=64,Ae=128,Se=256,z=512,M=1024,B=2048,T=4096,O=8192,U=16384,G=32768,Q=65536,Z=1<<17,ie=1<<18;function te(ne){return{enumerable:!1,get(){return(this.state&ne)!==0},set(A){A?this.state|=ne:this.state&=~ne}}}s(he.prototype,{objectMode:te(De),ended:te(Ve),endEmitted:te(le),reading:te(ue),constructed:te(Ie),sync:te(Ne),needReadable:te(we),emittedReadable:te(Ae),readableListening:te(Se),resumeScheduled:te(z),errorEmitted:te(M),emitClose:te(B),autoDestroy:te(T),destroyed:te(O),closed:te(U),closeEmitted:te(G),multiAwaitDrain:te(Q),readingMore:te(Z),dataEmitted:te(ie)});function he(ne,A,R){typeof R!="boolean"&&(R=A instanceof ks()),this.state=B|T|Ie|Ne,ne&&ne.objectMode&&(this.state|=De),R&&ne&&ne.readableObjectMode&&(this.state|=De),this.highWaterMark=ne?E(this,ne,"readableHighWaterMark",R):x(!1),this.buffer=new w,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,ne&&ne.emitClose===!1&&(this.state&=~B),ne&&ne.autoDestroy===!1&&(this.state&=~T),this.errored=null,this.defaultEncoding=ne&&ne.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ne&&ne.encoding&&(this.decoder=new J(ne.encoding),this.encoding=ne.encoding)}function ce(ne){if(!(this instanceof ce))return new ce(ne);const A=this instanceof ks();this._readableState=new he(ne,this,A),ne&&(typeof ne.read=="function"&&(this._read=ne.read),typeof ne.destroy=="function"&&(this._destroy=ne.destroy),typeof ne.construct=="function"&&(this._construct=ne.construct),ne.signal&&!A&&b(ne.signal,this)),m.call(this,ne),S.construct(this,()=>{this._readableState.needReadable&&j(this,this._readableState)})}ce.prototype.destroy=S.destroy,ce.prototype._undestroy=S.undestroy,ce.prototype._destroy=function(ne,A){A(ne)},ce.prototype[p.captureRejectionSymbol]=function(ne){this.destroy(ne)},ce.prototype[d]=function(){let ne;return this.destroyed||(ne=this.readableEnded?null:new k,this.destroy(ne)),new l((A,R)=>v(this,F=>F&&F!==ne?R(F):A(null)))},ce.prototype.push=function(ne,A){return ve(this,ne,A,!1)},ce.prototype.unshift=function(ne,A){return ve(this,ne,A,!0)};function ve(ne,A,R,F){_("readableAddChunk",A);const X=ne._readableState;let me;if(X.state&De||(typeof A=="string"?(R=R||X.defaultEncoding,X.encoding!==R&&(F&&X.encoding?A=g.from(A,R).toString(X.encoding):(A=g.from(A,R),R=""))):A instanceof g?R="":m._isUint8Array(A)?(A=m._uint8ArrayToBuffer(A),R=""):A!=null&&(me=new I("chunk",["string","Buffer","Uint8Array"],A))),me)Te(ne,me);else if(A===null)X.state&=~ue,Qe(ne,X);else if(X.state&De||A&&A.length>0)if(F)if(X.state&le)Te(ne,new V);else{if(X.destroyed||X.errored)return!1;Ce(ne,X,A,!0)}else if(X.ended)Te(ne,new D);else{if(X.destroyed||X.errored)return!1;X.state&=~ue,X.decoder&&!R?(A=X.decoder.write(A),X.objectMode||A.length!==0?Ce(ne,X,A,!1):j(ne,X)):Ce(ne,X,A,!1)}else F||(X.state&=~ue,j(ne,X));return!X.ended&&(X.length<X.highWaterMark||X.length===0)}function Ce(ne,A,R,F){A.flowing&&A.length===0&&!A.sync&&ne.listenerCount("data")>0?(A.state&Q?A.awaitDrainWriters.clear():A.awaitDrainWriters=null,A.dataEmitted=!0,ne.emit("data",R)):(A.length+=A.objectMode?1:R.length,F?A.buffer.unshift(R):A.buffer.push(R),A.state&we&&ke(ne)),j(ne,A)}ce.prototype.isPaused=function(){const ne=this._readableState;return ne[H]===!0||ne.flowing===!1},ce.prototype.setEncoding=function(ne){const A=new J(ne);this._readableState.decoder=A,this._readableState.encoding=this._readableState.decoder.encoding;const R=this._readableState.buffer;let F="";for(const X of R)F+=A.write(X);return R.clear(),F!==""&&R.push(F),this._readableState.length=F.length,this};const Ee=1073741824;function Ue(ne){if(ne>Ee)throw new L("size","<= 1GiB",ne);return ne--,ne|=ne>>>1,ne|=ne>>>2,ne|=ne>>>4,ne|=ne>>>8,ne|=ne>>>16,ne++,ne}function Fe(ne,A){return ne<=0||A.length===0&&A.ended?0:A.state&De?1:n(ne)?A.flowing&&A.length?A.buffer.first().length:A.length:ne<=A.length?ne:A.ended?A.length:0}ce.prototype.read=function(ne){_("read",ne),ne===void 0?ne=NaN:r(ne)||(ne=a(ne,10));const A=this._readableState,R=ne;if(ne>A.highWaterMark&&(A.highWaterMark=Ue(ne)),ne!==0&&(A.state&=~Ae),ne===0&&A.needReadable&&((A.highWaterMark!==0?A.length>=A.highWaterMark:A.length>0)||A.ended))return _("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?Ye(this):ke(this),null;if(ne=Fe(ne,A),ne===0&&A.ended)return A.length===0&&Ye(this),null;let F=(A.state&we)!==0;if(_("need readable",F),(A.length===0||A.length-ne<A.highWaterMark)&&(F=!0,_("length less than watermark",F)),A.ended||A.reading||A.destroyed||A.errored||!A.constructed)F=!1,_("reading, ended or constructing",F);else if(F){_("do read"),A.state|=ue|Ne,A.length===0&&(A.state|=we);try{this._read(A.highWaterMark)}catch(me){Te(this,me)}A.state&=~Ne,A.reading||(ne=Fe(R,A))}let X;return ne>0?X=Be(ne,A):X=null,X===null?(A.needReadable=A.length<=A.highWaterMark,ne=0):(A.length-=ne,A.multiAwaitDrain?A.awaitDrainWriters.clear():A.awaitDrainWriters=null),A.length===0&&(A.ended||(A.needReadable=!0),R!==ne&&A.ended&&Ye(this)),X!==null&&!A.errorEmitted&&!A.closeEmitted&&(A.dataEmitted=!0,this.emit("data",X)),X};function Qe(ne,A){if(_("onEofChunk"),!A.ended){if(A.decoder){const R=A.decoder.end();R&&R.length&&(A.buffer.push(R),A.length+=A.objectMode?1:R.length)}A.ended=!0,A.sync?ke(ne):(A.needReadable=!1,A.emittedReadable=!0,K(ne))}}function ke(ne){const A=ne._readableState;_("emitReadable",A.needReadable,A.emittedReadable),A.needReadable=!1,A.emittedReadable||(_("emitReadable",A.flowing),A.emittedReadable=!0,e.nextTick(K,ne))}function K(ne){const A=ne._readableState;_("emitReadable_",A.destroyed,A.length,A.ended),!A.destroyed&&!A.errored&&(A.length||A.ended)&&(ne.emit("readable"),A.emittedReadable=!1),A.needReadable=!A.flowing&&!A.ended&&A.length<=A.highWaterMark,ee(ne)}function j(ne,A){!A.readingMore&&A.constructed&&(A.readingMore=!0,e.nextTick(q,ne,A))}function q(ne,A){for(;!A.reading&&!A.ended&&(A.length<A.highWaterMark||A.flowing&&A.length===0);){const R=A.length;if(_("maybeReadMore read 0"),ne.read(0),R===A.length)break}A.readingMore=!1}ce.prototype._read=function(ne){throw new P("_read()")},ce.prototype.pipe=function(ne,A){const R=this,F=this._readableState;F.pipes.length===1&&(F.multiAwaitDrain||(F.multiAwaitDrain=!0,F.awaitDrainWriters=new c(F.awaitDrainWriters?[F.awaitDrainWriters]:[]))),F.pipes.push(ne),_("pipe count=%d opts=%j",F.pipes.length,A);const me=(!A||A.end!==!1)&&ne!==e.stdout&&ne!==e.stderr?xe:fe;F.endEmitted?e.nextTick(me):R.once("end",me),ne.on("unpipe",ye);function ye(Pe,Le){_("onunpipe"),Pe===R&&Le&&Le.hasUnpiped===!1&&(Le.hasUnpiped=!0,et())}function xe(){_("onend"),ne.end()}let Me,Ke=!1;function et(){_("cleanup"),ne.removeListener("close",Kr),ne.removeListener("finish",Je),Me&&ne.removeListener("drain",Me),ne.removeListener("error",rt),ne.removeListener("unpipe",ye),R.removeListener("end",xe),R.removeListener("end",fe),R.removeListener("data",it),Ke=!0,Me&&F.awaitDrainWriters&&(!ne._writableState||ne._writableState.needDrain)&&Me()}function dt(){Ke||(F.pipes.length===1&&F.pipes[0]===ne?(_("false write response, pause",0),F.awaitDrainWriters=ne,F.multiAwaitDrain=!1):F.pipes.length>1&&F.pipes.includes(ne)&&(_("false write response, pause",F.awaitDrainWriters.size),F.awaitDrainWriters.add(ne)),R.pause()),Me||(Me=W(R,ne),ne.on("drain",Me))}R.on("data",it);function it(Pe){_("ondata");const Le=ne.write(Pe);_("dest.write",Le),Le===!1&&dt()}function rt(Pe){if(_("onerror",Pe),fe(),ne.removeListener("error",rt),ne.listenerCount("error")===0){const Le=ne._writableState||ne._readableState;Le&&!Le.errorEmitted?Te(ne,Pe):ne.emit("error",Pe)}}y(ne,"error",rt);function Kr(){ne.removeListener("finish",Je),fe()}ne.once("close",Kr);function Je(){_("onfinish"),ne.removeListener("close",Kr),fe()}ne.once("finish",Je);function fe(){_("unpipe"),R.unpipe(ne)}return ne.emit("pipe",R),ne.writableNeedDrain===!0?dt():F.flowing||(_("pipe resume"),R.resume()),ne};function W(ne,A){return function(){const F=ne._readableState;F.awaitDrainWriters===A?(_("pipeOnDrain",1),F.awaitDrainWriters=null):F.multiAwaitDrain&&(_("pipeOnDrain",F.awaitDrainWriters.size),F.awaitDrainWriters.delete(A)),(!F.awaitDrainWriters||F.awaitDrainWriters.size===0)&&ne.listenerCount("data")&&ne.resume()}}ce.prototype.unpipe=function(ne){const A=this._readableState,R={hasUnpiped:!1};if(A.pipes.length===0)return this;if(!ne){const X=A.pipes;A.pipes=[],this.pause();for(let me=0;me<X.length;me++)X[me].emit("unpipe",this,{hasUnpiped:!1});return this}const F=t(A.pipes,ne);return F===-1?this:(A.pipes.splice(F,1),A.pipes.length===0&&this.pause(),ne.emit("unpipe",this,R),this)},ce.prototype.on=function(ne,A){const R=m.prototype.on.call(this,ne,A),F=this._readableState;return ne==="data"?(F.readableListening=this.listenerCount("readable")>0,F.flowing!==!1&&this.resume()):ne==="readable"&&!F.endEmitted&&!F.readableListening&&(F.readableListening=F.needReadable=!0,F.flowing=!1,F.emittedReadable=!1,_("on readable",F.length,F.reading),F.length?ke(this):F.reading||e.nextTick(pe,this)),R},ce.prototype.addListener=ce.prototype.on,ce.prototype.removeListener=function(ne,A){const R=m.prototype.removeListener.call(this,ne,A);return ne==="readable"&&e.nextTick(re,this),R},ce.prototype.off=ce.prototype.removeListener,ce.prototype.removeAllListeners=function(ne){const A=m.prototype.removeAllListeners.apply(this,arguments);return(ne==="readable"||ne===void 0)&&e.nextTick(re,this),A};function re(ne){const A=ne._readableState;A.readableListening=ne.listenerCount("readable")>0,A.resumeScheduled&&A[H]===!1?A.flowing=!0:ne.listenerCount("data")>0?ne.resume():A.readableListening||(A.flowing=null)}function pe(ne){_("readable nexttick read 0"),ne.read(0)}ce.prototype.resume=function(){const ne=this._readableState;return ne.flowing||(_("resume"),ne.flowing=!ne.readableListening,ge(this,ne)),ne[H]=!1,this};function ge(ne,A){A.resumeScheduled||(A.resumeScheduled=!0,e.nextTick(qe,ne,A))}function qe(ne,A){_("resume",A.reading),A.reading||ne.read(0),A.resumeScheduled=!1,ne.emit("resume"),ee(ne),A.flowing&&!A.reading&&ne.read(0)}ce.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function ee(ne){const A=ne._readableState;for(_("flow",A.flowing);A.flowing&&ne.read()!==null;);}ce.prototype.wrap=function(ne){let A=!1;ne.on("data",F=>{!this.push(F)&&ne.pause&&(A=!0,ne.pause())}),ne.on("end",()=>{this.push(null)}),ne.on("error",F=>{Te(this,F)}),ne.on("close",()=>{this.destroy()}),ne.on("destroy",()=>{this.destroy()}),this._read=()=>{A&&ne.resume&&(A=!1,ne.resume())};const R=o(ne);for(let F=1;F<R.length;F++){const X=R[F];this[X]===void 0&&typeof ne[X]=="function"&&(this[X]=ne[X].bind(ne))}return this},ce.prototype[f]=function(){return Oe(this)},ce.prototype.iterator=function(ne){return ne!==void 0&&$(ne,"options"),Oe(this,ne)};function Oe(ne,A){typeof ne.read!="function"&&(ne=ce.wrap(ne,{objectMode:!0}));const R=je(ne,A);return R.stream=ne,R}async function*je(ne,A){let R=de;function F(ye){this===ne?(R(),R=de):R=ye}ne.on("readable",F);let X;const me=v(ne,{writable:!1},ye=>{X=ye?C(X,ye):null,R(),R=de});try{for(;;){const ye=ne.destroyed?null:ne.read();if(ye!==null)yield ye;else{if(X)throw X;if(X===null)return;await new l(F)}}}catch(ye){throw X=C(X,ye),X}finally{(X||(A==null?void 0:A.destroyOnReturn)!==!1)&&(X===void 0||ne._readableState.autoDestroy)?S.destroyer(ne,null):(ne.off("readable",F),me())}}s(ce.prototype,{readable:{__proto__:null,get(){const ne=this._readableState;return!!ne&&ne.readable!==!1&&!ne.destroyed&&!ne.errorEmitted&&!ne.endEmitted},set(ne){this._readableState&&(this._readableState.readable=!!ne)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ne){this._readableState&&(this._readableState.flowing=ne)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(ne){this._readableState&&(this._readableState.destroyed=ne)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(he.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(ne){this[H]=!!ne}}}),ce._fromList=Be;function Be(ne,A){if(A.length===0)return null;let R;return A.objectMode?R=A.buffer.shift():!ne||ne>=A.length?(A.decoder?R=A.buffer.join(""):A.buffer.length===1?R=A.buffer.first():R=A.buffer.concat(A.length),A.buffer.clear()):R=A.buffer.consume(ne,A.decoder),R}function Ye(ne){const A=ne._readableState;_("endReadable",A.endEmitted),A.endEmitted||(A.ended=!0,e.nextTick(ct,A,ne))}function ct(ne,A){if(_("endReadableNT",ne.endEmitted,ne.length),!ne.errored&&!ne.closeEmitted&&!ne.endEmitted&&ne.length===0){if(ne.endEmitted=!0,A.emit("end"),A.writable&&A.allowHalfOpen===!1)e.nextTick(ft,A);else if(ne.autoDestroy){const R=A._writableState;(!R||R.autoDestroy&&(R.finished||R.writable===!1))&&A.destroy()}}}function ft(ne){ne.writable&&!ne.writableEnded&&!ne.destroyed&&ne.end()}ce.from=function(ne,A){return Y(ce,ne,A)};let ot;function mt(){return ot===void 0&&(ot={}),ot}return ce.fromWeb=function(ne,A){return mt().newStreamReadableFromReadableStream(ne,A)},ce.toWeb=function(ne,A){return mt().newReadableStreamFromStreamReadable(ne,A)},ce.wrap=function(ne,A){var R,F;return new ce({objectMode:(R=(F=ne.readableObjectMode)!==null&&F!==void 0?F:ne.objectMode)!==null&&R!==void 0?R:!0,...A,destroy(X,me){S.destroyer(ne,X),me(X)}}).wrap(ne)},cT}var lT,U6;function eN(){if(U6)return lT;U6=1;const e=Ks,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:a,ObjectDefineProperties:s,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:u,Symbol:l,SymbolHasInstance:c}=qr;lT=$,$.WritableState=V;const{EventEmitter:d}=fb,f=YP.Stream,{Buffer:h}=za,p=cd,{addAbortSignal:m}=sS,{getHighWaterMark:y,getDefaultHighWaterMark:g}=oS,{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:w,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:E,ERR_STREAM_NULL_VALUES:x,ERR_STREAM_WRITE_AFTER_END:C,ERR_UNKNOWN_ENCODING:I}=pi.codes,{errorOrDestroy:P}=p;o($.prototype,f.prototype),o($,f);function L(){}const D=l("kOnFinished");function V(T,O,U){typeof U!="boolean"&&(U=O instanceof ks()),this.objectMode=!!(T&&T.objectMode),U&&(this.objectMode=this.objectMode||!!(T&&T.writableObjectMode)),this.highWaterMark=T?y(this,T,"writableHighWaterMark",U):g(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const G=!!(T&&T.decodeStrings===!1);this.decodeStrings=!G,this.defaultEncoding=T&&T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Te.bind(void 0,O),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,k(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!T||T.emitClose!==!1,this.autoDestroy=!T||T.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[D]=[]}function k(T){T.buffered=[],T.bufferedIndex=0,T.allBuffers=!0,T.allNoop=!0}V.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},a(V.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function $(T){const O=this instanceof ks();if(!O&&!n($,this))return new $(T);this._writableState=new V(T,this,O),T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final),typeof T.construct=="function"&&(this._construct=T.construct),T.signal&&m(T.signal,this)),f.call(this,T),p.construct(this,()=>{const U=this._writableState;U.writing||ue(this,U),Ae(this,U)})}a($,c,{__proto__:null,value:function(T){return n(this,T)?!0:this!==$?!1:T&&T._writableState instanceof V}}),$.prototype.pipe=function(){P(this,new w)};function H(T,O,U,G){const Q=T._writableState;if(typeof U=="function")G=U,U=Q.defaultEncoding;else{if(!U)U=Q.defaultEncoding;else if(U!=="buffer"&&!h.isEncoding(U))throw new I(U);typeof G!="function"&&(G=L)}if(O===null)throw new x;if(!Q.objectMode)if(typeof O=="string")Q.decodeStrings!==!1&&(O=h.from(O,U),U="buffer");else if(O instanceof h)U="buffer";else if(f._isUint8Array(O))O=f._uint8ArrayToBuffer(O),U="buffer";else throw new b("chunk",["string","Buffer","Uint8Array"],O);let Z;return Q.ending?Z=new C:Q.destroyed&&(Z=new S("write")),Z?(e.nextTick(G,Z),P(T,Z,!0),Z):(Q.pendingcb++,J(T,Q,O,U,G))}$.prototype.write=function(T,O,U){return H(this,T,O,U)===!0},$.prototype.cork=function(){this._writableState.corked++},$.prototype.uncork=function(){const T=this._writableState;T.corked&&(T.corked--,T.writing||ue(this,T))},$.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=u(O)),!h.isEncoding(O))throw new I(O);return this._writableState.defaultEncoding=O,this};function J(T,O,U,G,Q){const Z=O.objectMode?1:U.length;O.length+=Z;const ie=O.length<O.highWaterMark;return ie||(O.needDrain=!0),O.writing||O.corked||O.errored||!O.constructed?(O.buffered.push({chunk:U,encoding:G,callback:Q}),O.allBuffers&&G!=="buffer"&&(O.allBuffers=!1),O.allNoop&&Q!==L&&(O.allNoop=!1)):(O.writelen=Z,O.writecb=Q,O.writing=!0,O.sync=!0,T._write(U,G,O.onwrite),O.sync=!1),ie&&!O.errored&&!O.destroyed}function Y(T,O,U,G,Q,Z,ie){O.writelen=G,O.writecb=ie,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new S("write")):U?T._writev(Q,O.onwrite):T._write(Q,Z,O.onwrite),O.sync=!1}function de(T,O,U,G){--O.pendingcb,G(U),le(O),P(T,U)}function Te(T,O){const U=T._writableState,G=U.sync,Q=U.writecb;if(typeof Q!="function"){P(T,new _);return}U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0,O?(O.stack,U.errored||(U.errored=O),T._readableState&&!T._readableState.errored&&(T._readableState.errored=O),G?e.nextTick(de,T,U,O,Q):de(T,U,O,Q)):(U.buffered.length>U.bufferedIndex&&ue(T,U),G?U.afterWriteTickInfo!==null&&U.afterWriteTickInfo.cb===Q?U.afterWriteTickInfo.count++:(U.afterWriteTickInfo={count:1,cb:Q,stream:T,state:U},e.nextTick(De,U.afterWriteTickInfo)):Ve(T,U,1,Q))}function De({stream:T,state:O,count:U,cb:G}){return O.afterWriteTickInfo=null,Ve(T,O,U,G)}function Ve(T,O,U,G){for(!O.ending&&!T.destroyed&&O.length===0&&O.needDrain&&(O.needDrain=!1,T.emit("drain"));U-- >0;)O.pendingcb--,G();O.destroyed&&le(O),Ae(T,O)}function le(T){if(T.writing)return;for(let Q=T.bufferedIndex;Q<T.buffered.length;++Q){var O;const{chunk:Z,callback:ie}=T.buffered[Q],te=T.objectMode?1:Z.length;T.length-=te,ie((O=T.errored)!==null&&O!==void 0?O:new S("write"))}const U=T[D].splice(0);for(let Q=0;Q<U.length;Q++){var G;U[Q]((G=T.errored)!==null&&G!==void 0?G:new S("end"))}k(T)}function ue(T,O){if(O.corked||O.bufferProcessing||O.destroyed||!O.constructed)return;const{buffered:U,bufferedIndex:G,objectMode:Q}=O,Z=U.length-G;if(!Z)return;let ie=G;if(O.bufferProcessing=!0,Z>1&&T._writev){O.pendingcb-=Z-1;const te=O.allNoop?L:ce=>{for(let ve=ie;ve<U.length;++ve)U[ve].callback(ce)},he=O.allNoop&&ie===0?U:t(U,ie);he.allBuffers=O.allBuffers,Y(T,O,!0,O.length,he,"",te),k(O)}else{do{const{chunk:te,encoding:he,callback:ce}=U[ie];U[ie++]=null;const ve=Q?1:te.length;Y(T,O,!1,ve,te,he,ce)}while(ie<U.length&&!O.writing);ie===U.length?k(O):ie>256?(U.splice(0,ie),O.bufferedIndex=0):O.bufferedIndex=ie}O.bufferProcessing=!1}$.prototype._write=function(T,O,U){if(this._writev)this._writev([{chunk:T,encoding:O}],U);else throw new v("_write()")},$.prototype._writev=null,$.prototype.end=function(T,O,U){const G=this._writableState;typeof T=="function"?(U=T,T=null,O=null):typeof O=="function"&&(U=O,O=null);let Q;if(T!=null){const Z=H(this,T,O);Z instanceof r&&(Q=Z)}return G.corked&&(G.corked=1,this.uncork()),Q||(!G.errored&&!G.ending?(G.ending=!0,Ae(this,G,!0),G.ended=!0):G.finished?Q=new E("end"):G.destroyed&&(Q=new S("end"))),typeof U=="function"&&(Q||G.finished?e.nextTick(U,Q):G[D].push(U)),this};function Ie(T){return T.ending&&!T.destroyed&&T.constructed&&T.length===0&&!T.errored&&T.buffered.length===0&&!T.finished&&!T.writing&&!T.errorEmitted&&!T.closeEmitted}function Ne(T,O){let U=!1;function G(Q){if(U){P(T,Q??_());return}if(U=!0,O.pendingcb--,Q){const Z=O[D].splice(0);for(let ie=0;ie<Z.length;ie++)Z[ie](Q);P(T,Q,O.sync)}else Ie(O)&&(O.prefinished=!0,T.emit("prefinish"),O.pendingcb++,e.nextTick(Se,T,O))}O.sync=!0,O.pendingcb++;try{T._final(G)}catch(Q){G(Q)}O.sync=!1}function we(T,O){!O.prefinished&&!O.finalCalled&&(typeof T._final=="function"&&!O.destroyed?(O.finalCalled=!0,Ne(T,O)):(O.prefinished=!0,T.emit("prefinish")))}function Ae(T,O,U){Ie(O)&&(we(T,O),O.pendingcb===0&&(U?(O.pendingcb++,e.nextTick((G,Q)=>{Ie(Q)?Se(G,Q):Q.pendingcb--},T,O)):Ie(O)&&(O.pendingcb++,Se(T,O))))}function Se(T,O){O.pendingcb--,O.finished=!0;const U=O[D].splice(0);for(let G=0;G<U.length;G++)U[G]();if(T.emit("finish"),O.autoDestroy){const G=T._readableState;(!G||G.autoDestroy&&(G.endEmitted||G.readable===!1))&&T.destroy()}}s($.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(T){this._writableState&&(this._writableState.destroyed=T)}},writable:{__proto__:null,get(){const T=this._writableState;return!!T&&T.writable!==!1&&!T.destroyed&&!T.errored&&!T.ending&&!T.ended},set(T){this._writableState&&(this._writableState.writable=!!T)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const T=this._writableState;return T?!T.destroyed&&!T.ending&&T.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const z=p.destroy;$.prototype.destroy=function(T,O){const U=this._writableState;return!U.destroyed&&(U.bufferedIndex<U.buffered.length||U[D].length)&&e.nextTick(le,U),z.call(this,T,O),this},$.prototype._undestroy=p.undestroy,$.prototype._destroy=function(T,O){O(T)},$.prototype[d.captureRejectionSymbol]=function(T){this.destroy(T)};let M;function B(){return M===void 0&&(M={}),M}return $.fromWeb=function(T,O){return B().newStreamWritableFromWritableStream(T,O)},$.toWeb=function(T){return B().newWritableStreamFromStreamWritable(T)},lT}var dT,k6;function Gfe(){if(k6)return dT;k6=1;const e=Ks,t=za,{isReadable:r,isWritable:n,isIterable:a,isNodeStream:s,isReadableNodeStream:o,isWritableNodeStream:u,isDuplexNodeStream:l,isReadableStream:c,isWritableStream:d}=Js,f=ko,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:m}}=pi,{destroyer:y}=cd,g=ks(),b=uS(),v=eN(),{createDeferredPromise:_}=ii,w=uK,S=globalThis.Blob||t.Blob,E=typeof S<"u"?function(V){return V instanceof S}:function(V){return!1},x=globalThis.AbortController||Ul().AbortController,{FunctionPrototypeCall:C}=qr;class I extends g{constructor(V){super(V),(V==null?void 0:V.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(V==null?void 0:V.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}dT=function D(V,k){if(l(V))return V;if(o(V))return L({readable:V});if(u(V))return L({writable:V});if(s(V))return L({writable:!1,readable:!1});if(c(V))return L({readable:b.fromWeb(V)});if(d(V))return L({writable:v.fromWeb(V)});if(typeof V=="function"){const{value:H,write:J,final:Y,destroy:de}=P(V);if(a(H))return w(I,H,{objectMode:!0,write:J,final:Y,destroy:de});const Te=H==null?void 0:H.then;if(typeof Te=="function"){let De;const Ve=C(Te,H,le=>{if(le!=null)throw new m("nully","body",le)},le=>{y(De,le)});return De=new I({objectMode:!0,readable:!1,write:J,final(le){Y(async()=>{try{await Ve,e.nextTick(le,null)}catch(ue){e.nextTick(le,ue)}})},destroy:de})}throw new m("Iterable, AsyncIterable or AsyncFunction",k,H)}if(E(V))return D(V.arrayBuffer());if(a(V))return w(I,V,{objectMode:!0,writable:!1});if(c(V==null?void 0:V.readable)&&d(V==null?void 0:V.writable))return I.fromWeb(V);if(typeof(V==null?void 0:V.writable)=="object"||typeof(V==null?void 0:V.readable)=="object"){const H=V!=null&&V.readable?o(V==null?void 0:V.readable)?V==null?void 0:V.readable:D(V.readable):void 0,J=V!=null&&V.writable?u(V==null?void 0:V.writable)?V==null?void 0:V.writable:D(V.writable):void 0;return L({readable:H,writable:J})}const $=V==null?void 0:V.then;if(typeof $=="function"){let H;return C($,V,J=>{J!=null&&H.push(J),H.push(null)},J=>{y(H,J)}),H=new I({objectMode:!0,writable:!1,read(){}})}throw new p(k,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],V)};function P(D){let{promise:V,resolve:k}=_();const $=new x,H=$.signal;return{value:D(async function*(){for(;;){const Y=V;V=null;const{chunk:de,done:Te,cb:De}=await Y;if(e.nextTick(De),Te)return;if(H.aborted)throw new h(void 0,{cause:H.reason});({promise:V,resolve:k}=_()),yield de}}(),{signal:H}),write(Y,de,Te){const De=k;k=null,De({chunk:Y,done:!1,cb:Te})},final(Y){const de=k;k=null,de({done:!0,cb:Y})},destroy(Y,de){$.abort(),de(Y)}}}function L(D){const V=D.readable&&typeof D.readable.read!="function"?b.wrap(D.readable):D.readable,k=D.writable;let $=!!r(V),H=!!n(k),J,Y,de,Te,De;function Ve(le){const ue=Te;Te=null,ue?ue(le):le&&De.destroy(le)}return De=new I({readableObjectMode:!!(V!=null&&V.readableObjectMode),writableObjectMode:!!(k!=null&&k.writableObjectMode),readable:$,writable:H}),H&&(f(k,le=>{H=!1,le&&y(V,le),Ve(le)}),De._write=function(le,ue,Ie){k.write(le,ue)?Ie():J=Ie},De._final=function(le){k.end(),Y=le},k.on("drain",function(){if(J){const le=J;J=null,le()}}),k.on("finish",function(){if(Y){const le=Y;Y=null,le()}})),$&&(f(V,le=>{$=!1,le&&y(V,le),Ve(le)}),V.on("readable",function(){if(de){const le=de;de=null,le()}}),V.on("end",function(){De.push(null)}),De._read=function(){for(;;){const le=V.read();if(le===null){de=De._read;return}if(!De.push(le))return}}),De._destroy=function(le,ue){!le&&Te!==null&&(le=new h),de=null,J=null,Y=null,Te===null?ue(le):(Te=ue,y(k,le),y(V,le))},De}return dT}var fT,V6;function ks(){if(V6)return fT;V6=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=qr;fT=o;const a=uS(),s=eN();n(o.prototype,a.prototype),n(o,a);{const d=r(s.prototype);for(let f=0;f<d.length;f++){const h=d[f];o.prototype[h]||(o.prototype[h]=s.prototype[h])}}function o(d){if(!(this instanceof o))return new o(d);a.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(o.prototype,{writable:{__proto__:null,...t(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(s.prototype,"writableLength")},writableFinished:{__proto__:null,...t(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let u;function l(){return u===void 0&&(u={}),u}o.fromWeb=function(d,f){return l().newStreamDuplexFromReadableWritablePair(d,f)},o.toWeb=function(d){return l().newReadableWritablePairFromDuplex(d)};let c;return o.from=function(d){return c||(c=Gfe()),c(d,"body")},fT}const{ObjectSetPrototypeOf:cK,Symbol:Wfe}=qr;var lK=Vs;const{ERR_METHOD_NOT_IMPLEMENTED:Kfe}=pi.codes,tN=ks(),{getHighWaterMark:Jfe}=oS;cK(Vs.prototype,tN.prototype);cK(Vs,tN);const __=Wfe("kCallback");function Vs(e){if(!(this instanceof Vs))return new Vs(e);const t=e?Jfe(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),tN.call(this,e),this._readableState.sync=!1,this[__]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Xfe)}function nI(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function Xfe(){this._final!==nI&&nI.call(this)}Vs.prototype._final=nI;Vs.prototype._transform=function(e,t,r){throw new Kfe("_transform()")};Vs.prototype._write=function(e,t,r){const n=this._readableState,a=this._writableState,s=n.length;this._transform(e,t,(o,u)=>{if(o){r(o);return}u!=null&&this.push(u),a.ended||s===n.length||n.length<n.highWaterMark?r():this[__]=r})};Vs.prototype._read=function(){if(this[__]){const e=this[__];this[__]=null,e()}};const{ObjectSetPrototypeOf:dK}=qr;var fK=kl;const rN=lK;dK(kl.prototype,rN.prototype);dK(kl,rN);function kl(e){if(!(this instanceof kl))return new kl(e);rN.call(this,e)}kl.prototype._transform=function(e,t,r){r(null,e)};const Qg=Ks,{ArrayIsArray:Yfe,Promise:Zfe,SymbolAsyncIterator:ehe,SymbolDispose:the}=qr,lw=ko,{once:rhe}=ii,nhe=cd,H6=ks(),{aggregateTwoErrors:ihe,codes:{ERR_INVALID_ARG_TYPE:iI,ERR_INVALID_RETURN_VALUE:hT,ERR_MISSING_ARGS:ahe,ERR_STREAM_DESTROYED:she,ERR_STREAM_PREMATURE_CLOSE:ohe},AbortError:uhe}=pi,{validateFunction:che,validateAbortSignal:lhe}=hb,{isIterable:Ou,isReadable:pT,isReadableNodeStream:Av,isNodeStream:Q6,isTransformStream:tl,isWebStream:dhe,isReadableStream:yT,isReadableFinished:fhe}=Js,hhe=globalThis.AbortController||Ul().AbortController;let mT,gT,_T;function z6(e,t,r){let n=!1;e.on("close",()=>{n=!0});const a=lw(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,nhe.destroyer(e,s||new she("pipe")))},cleanup:a}}function phe(e){return che(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function bT(e){if(Ou(e))return e;if(Av(e))return yhe(e);throw new iI("val",["Readable","Iterable","AsyncIterable"],e)}async function*yhe(e){gT||(gT=uS()),yield*gT.prototype[ehe].call(e)}async function D1(e,t,r,{end:n}){let a,s=null;const o=c=>{if(c&&(a=c),s){const d=s;s=null,d()}},u=()=>new Zfe((c,d)=>{a?d(a):s=()=>{a?d(a):c()}});t.on("drain",o);const l=lw(t,{readable:!1},o);try{t.writableNeedDrain&&await u();for await(const c of e)t.write(c)||await u();n&&(t.end(),await u()),r()}catch(c){r(a!==c?ihe(a,c):c)}finally{l(),t.off("drain",o)}}async function vT(e,t,r,{end:n}){tl(t)&&(t=t.writable);const a=t.getWriter();try{for await(const s of e)await a.ready,a.write(s).catch(()=>{});await a.ready,n&&await a.close(),r()}catch(s){try{await a.abort(s),r(s)}catch(o){r(o)}}}function mhe(...e){return hK(e,rhe(phe(e)))}function hK(e,t,r){if(e.length===1&&Yfe(e[0])&&(e=e[0]),e.length<2)throw new ahe("streams");const n=new hhe,a=n.signal,s=r==null?void 0:r.signal,o=[];lhe(s,"options.signal");function u(){m(new uhe)}_T=_T||ii.addAbortListener;let l;s&&(l=_T(s,u));let c,d;const f=[];let h=0;function p(v){m(v,--h===0)}function m(v,_){var w;if(v&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=v),!(!c&&!_)){for(;f.length;)f.shift()(c);(w=l)===null||w===void 0||w[the](),n.abort(),_&&(c||o.forEach(S=>S()),Qg.nextTick(t,c,d))}}let y;for(let v=0;v<e.length;v++){const _=e[v],w=v<e.length-1,S=v>0,E=w||(r==null?void 0:r.end)!==!1,x=v===e.length-1;if(Q6(_)){let C=function(I){I&&I.name!=="AbortError"&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(I)};if(E){const{destroy:I,cleanup:P}=z6(_,w,S);f.push(I),pT(_)&&x&&o.push(P)}_.on("error",C),pT(_)&&x&&o.push(()=>{_.removeListener("error",C)})}if(v===0)if(typeof _=="function"){if(y=_({signal:a}),!Ou(y))throw new hT("Iterable, AsyncIterable or Stream","source",y)}else Ou(_)||Av(_)||tl(_)?y=_:y=H6.from(_);else if(typeof _=="function"){if(tl(y)){var g;y=bT((g=y)===null||g===void 0?void 0:g.readable)}else y=bT(y);if(y=_(y,{signal:a}),w){if(!Ou(y,!0))throw new hT("AsyncIterable",`transform[${v-1}]`,y)}else{var b;mT||(mT=fK);const C=new mT({objectMode:!0}),I=(b=y)===null||b===void 0?void 0:b.then;if(typeof I=="function")h++,I.call(y,D=>{d=D,D!=null&&C.write(D),E&&C.end(),Qg.nextTick(p)},D=>{C.destroy(D),Qg.nextTick(p,D)});else if(Ou(y,!0))h++,D1(y,C,p,{end:E});else if(yT(y)||tl(y)){const D=y.readable||y;h++,D1(D,C,p,{end:E})}else throw new hT("AsyncIterable or Promise","destination",y);y=C;const{destroy:P,cleanup:L}=z6(y,!1,!0);f.push(P),x&&o.push(L)}}else if(Q6(_)){if(Av(y)){h+=2;const C=ghe(y,_,p,{end:E});pT(_)&&x&&o.push(C)}else if(tl(y)||yT(y)){const C=y.readable||y;h++,D1(C,_,p,{end:E})}else if(Ou(y))h++,D1(y,_,p,{end:E});else throw new iI("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=_}else if(dhe(_)){if(Av(y))h++,vT(bT(y),_,p,{end:E});else if(yT(y)||Ou(y))h++,vT(y,_,p,{end:E});else if(tl(y))h++,vT(y.readable,_,p,{end:E});else throw new iI("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=_}else y=H6.from(_)}return(a!=null&&a.aborted||s!=null&&s.aborted)&&Qg.nextTick(u),y}function ghe(e,t,r,{end:n}){let a=!1;if(t.on("close",()=>{a||r(new ohe)}),e.pipe(t,{end:!1}),n){let s=function(){a=!0,t.end()};fhe(e)?Qg.nextTick(s):e.once("end",s)}else r();return lw(e,{readable:!0,writable:!1},s=>{const o=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&o&&o.ended&&!o.errored&&!o.errorEmitted?e.once("end",r).once("error",r):r(s)}),lw(t,{readable:!1,writable:!0},r)}var nN={pipelineImpl:hK,pipeline:mhe};const{pipeline:_he}=nN,C1=ks(),{destroyer:bhe}=cd,{isNodeStream:L1,isReadable:G6,isWritable:W6,isWebStream:wT,isTransformStream:cu,isWritableStream:K6,isReadableStream:J6}=Js,{AbortError:vhe,codes:{ERR_INVALID_ARG_VALUE:X6,ERR_MISSING_ARGS:whe}}=pi,She=ko;var pK=function(...t){if(t.length===0)throw new whe("streams");if(t.length===1)return C1.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=C1.from(t[0])),typeof t[t.length-1]=="function"){const p=t.length-1;t[p]=C1.from(t[p])}for(let p=0;p<t.length;++p)if(!(!L1(t[p])&&!wT(t[p]))){if(p<t.length-1&&!(G6(t[p])||J6(t[p])||cu(t[p])))throw new X6(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(W6(t[p])||K6(t[p])||cu(t[p])))throw new X6(`streams[${p}]`,r[p],"must be writable")}let n,a,s,o,u;function l(p){const m=o;o=null,m?m(p):p?u.destroy(p):!h&&!f&&u.destroy()}const c=t[0],d=_he(t,l),f=!!(W6(c)||K6(c)||cu(c)),h=!!(G6(d)||J6(d)||cu(d));if(u=new C1({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:f,readable:h}),f){if(L1(c))u._write=function(m,y,g){c.write(m,y)?g():n=g},u._final=function(m){c.end(),a=m},c.on("drain",function(){if(n){const m=n;n=null,m()}});else if(wT(c)){const y=(cu(c)?c.writable:c).getWriter();u._write=async function(g,b,v){try{await y.ready,y.write(g).catch(()=>{}),v()}catch(_){v(_)}},u._final=async function(g){try{await y.ready,y.close().catch(()=>{}),a=g}catch(b){g(b)}}}const p=cu(d)?d.readable:d;She(p,()=>{if(a){const m=a;a=null,m()}})}if(h){if(L1(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){u.push(null)}),u._read=function(){for(;;){const p=d.read();if(p===null){s=u._read;return}if(!u.push(p))return}};else if(wT(d)){const m=(cu(d)?d.readable:d).getReader();u._read=async function(){for(;;)try{const{value:y,done:g}=await m.read();if(!u.push(y))return;if(g){u.push(null);return}}catch{return}}}}return u._destroy=function(p,m){!p&&o!==null&&(p=new vhe),s=null,n=null,a=null,o===null?m(p):(o=m,L1(d)&&bhe(d,p))},u};const The=globalThis.AbortController||Ul().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Ehe,ERR_INVALID_ARG_TYPE:yb,ERR_MISSING_ARGS:Ahe,ERR_OUT_OF_RANGE:Ohe},AbortError:Ha}=pi,{validateAbortSignal:vc,validateInteger:Y6,validateObject:wc}=hb,Rhe=qr.Symbol("kWeak"),xhe=qr.Symbol("kResistStopPropagation"),{finished:Ihe}=ko,Phe=pK,{addAbortSignalNoValidate:Nhe}=sS,{isWritable:Dhe,isNodeStream:Che}=Js,{deprecate:Lhe}=ii,{ArrayPrototypePush:jhe,Boolean:Mhe,MathFloor:Z6,Number:Fhe,NumberIsNaN:qhe,Promise:eL,PromiseReject:tL,PromiseResolve:Bhe,PromisePrototypeThen:rL,Symbol:yK}=qr,dw=yK("kEmpty"),nL=yK("kEof");function $he(e,t){if(t!=null&&wc(t,"options"),(t==null?void 0:t.signal)!=null&&vc(t.signal,"options.signal"),Che(e)&&!Dhe(e))throw new Ehe("stream",e,"must be writable");const r=Phe(this,e);return t!=null&&t.signal&&Nhe(t.signal,r),r}function cS(e,t){if(typeof e!="function")throw new yb("fn",["Function","AsyncFunction"],e);t!=null&&wc(t,"options"),(t==null?void 0:t.signal)!=null&&vc(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=Z6(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=Z6(t.highWaterMark)),Y6(r,"options.concurrency",1),Y6(n,"options.highWaterMark",0),n+=r,(async function*(){const s=ii.AbortSignalAny([t==null?void 0:t.signal].filter(Mhe)),o=this,u=[],l={signal:s};let c,d,f=!1,h=0;function p(){f=!0,m()}function m(){h-=1,y()}function y(){d&&!f&&h<r&&u.length<n&&(d(),d=null)}async function g(){try{for await(let b of o){if(f)return;if(s.aborted)throw new Ha;try{if(b=e(b,l),b===dw)continue;b=Bhe(b)}catch(v){b=tL(v)}h+=1,rL(b,m,p),u.push(b),c&&(c(),c=null),!f&&(u.length>=n||h>=r)&&await new eL(v=>{d=v})}u.push(nL)}catch(b){const v=tL(b);rL(v,m,p),u.push(v)}finally{f=!0,c&&(c(),c=null)}}g();try{for(;;){for(;u.length>0;){const b=await u[0];if(b===nL)return;if(s.aborted)throw new Ha;b!==dw&&(yield b),u.shift(),y()}await new eL(b=>{c=b})}}finally{f=!0,d&&(d(),d=null)}}).call(this)}function Uhe(e=void 0){return e!=null&&wc(e,"options"),(e==null?void 0:e.signal)!=null&&vc(e.signal,"options.signal"),(async function*(){let r=0;for await(const a of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ha({cause:e.signal.reason});yield[r++,a]}}).call(this)}async function mK(e,t=void 0){for await(const r of iN.call(this,e,t))return!0;return!1}async function khe(e,t=void 0){if(typeof e!="function")throw new yb("fn",["Function","AsyncFunction"],e);return!await mK.call(this,async(...r)=>!await e(...r),t)}async function Vhe(e,t){for await(const r of iN.call(this,e,t))return r}async function Hhe(e,t){if(typeof e!="function")throw new yb("fn",["Function","AsyncFunction"],e);async function r(n,a){return await e(n,a),dw}for await(const n of cS.call(this,r,t));}function iN(e,t){if(typeof e!="function")throw new yb("fn",["Function","AsyncFunction"],e);async function r(n,a){return await e(n,a)?n:dw}return cS.call(this,r,t)}class Qhe extends Ahe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function zhe(e,t,r){var n;if(typeof e!="function")throw new yb("reducer",["Function","AsyncFunction"],e);r!=null&&wc(r,"options"),(r==null?void 0:r.signal)!=null&&vc(r.signal,"options.signal");let a=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const c=new Ha(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Ihe(this.destroy(c)),c}const s=new The,o=s.signal;if(r!=null&&r.signal){const c={once:!0,[Rhe]:this,[xhe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let u=!1;try{for await(const c of this){var l;if(u=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Ha;a?t=await e(t,c,{signal:o}):(t=c,a=!0)}if(!u&&!a)throw new Qhe}finally{s.abort()}return t}async function Ghe(e){e!=null&&wc(e,"options"),(e==null?void 0:e.signal)!=null&&vc(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Ha(void 0,{cause:e.signal.reason});jhe(t,n)}return t}function Whe(e,t){const r=cS.call(this,e,t);return(async function*(){for await(const a of r)yield*a}).call(this)}function gK(e){if(e=Fhe(e),qhe(e))return 0;if(e<0)throw new Ohe("number",">= 0",e);return e}function Khe(e,t=void 0){return t!=null&&wc(t,"options"),(t==null?void 0:t.signal)!=null&&vc(t.signal,"options.signal"),e=gK(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ha;for await(const s of this){var a;if(t!=null&&(a=t.signal)!==null&&a!==void 0&&a.aborted)throw new Ha;e--<=0&&(yield s)}}).call(this)}function Jhe(e,t=void 0){return t!=null&&wc(t,"options"),(t==null?void 0:t.signal)!=null&&vc(t.signal,"options.signal"),e=gK(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ha;for await(const s of this){var a;if(t!=null&&(a=t.signal)!==null&&a!==void 0&&a.aborted)throw new Ha;if(e-- >0&&(yield s),e<=0)return}}).call(this)}GP.streamReturningOperators={asIndexedPairs:Lhe(Uhe,"readable.asIndexedPairs will be removed in a future version."),drop:Khe,filter:iN,flatMap:Whe,map:cS,take:Jhe,compose:$he};GP.promiseReturningOperators={every:khe,forEach:Hhe,reduce:zhe,toArray:Ghe,some:mK,find:Vhe};var ST,iL;function _K(){if(iL)return ST;iL=1;const{ArrayPrototypePop:e,Promise:t}=qr,{isIterable:r,isNodeStream:n,isWebStream:a}=Js,{pipelineImpl:s}=nN,{finished:o}=ko;bK();function u(...l){return new t((c,d)=>{let f,h;const p=l[l.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!a(p)){const m=e(l);f=m.signal,h=m.end}s(l,(m,y)=>{m?d(m):c(y)},{signal:f,end:h})})}return ST={finished:o,pipeline:u},ST}var aL;function bK(){if(aL)return iT.exports;aL=1;const{Buffer:e}=za,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=qr,{promisify:{custom:a}}=ii,{streamReturningOperators:s,promiseReturningOperators:o}=GP,{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=pi,l=pK,{setDefaultHighWaterMark:c,getDefaultHighWaterMark:d}=oS,{pipeline:f}=nN,{destroyer:h}=cd,p=ko,m=_K(),y=Js,g=iT.exports=YP.Stream;g.isDestroyed=y.isDestroyed,g.isDisturbed=y.isDisturbed,g.isErrored=y.isErrored,g.isReadable=y.isReadable,g.isWritable=y.isWritable,g.Readable=uS();for(const v of r(s)){let w=function(...S){if(new.target)throw u();return g.Readable.from(n(_,this,S))};const _=s[v];t(w,"name",{__proto__:null,value:_.name}),t(w,"length",{__proto__:null,value:_.length}),t(g.Readable.prototype,v,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(const v of r(o)){let w=function(...S){if(new.target)throw u();return n(_,this,S)};const _=o[v];t(w,"name",{__proto__:null,value:_.name}),t(w,"length",{__proto__:null,value:_.length}),t(g.Readable.prototype,v,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}g.Writable=eN(),g.Duplex=ks(),g.Transform=lK,g.PassThrough=fK,g.pipeline=f;const{addAbortSignal:b}=sS;return g.addAbortSignal=b,g.finished=p,g.destroy=h,g.compose=l,g.setDefaultHighWaterMark=c,g.getDefaultHighWaterMark=d,t(g,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),t(f,a,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),t(p,a,{__proto__:null,enumerable:!0,get(){return m.finished}}),g.Stream=g,g._isUint8Array=function(_){return _ instanceof Uint8Array},g._uint8ArrayToBuffer=function(_){return e.from(_.buffer,_.byteOffset,_.byteLength)},iT.exports}(function(e){const t=bK(),r=_K(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(mW);var Lt=mW.exports;let vK=class{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}};vK.prototype.termType="BlankNode";let aN=class{equals(t){return!!t&&t.termType===this.termType}};aN.prototype.termType="DefaultGraph";aN.prototype.value="";function sL(e,t){if(!t)return null;if(t.termType==="BlankNode")return e.blankNode(t.value);if(t.termType==="DefaultGraph")return e.defaultGraph();if(t.termType==="Literal")return e.literal(t.value,t.language||e.namedNode(t.datatype.value));if(t.termType==="NamedNode")return e.namedNode(t.value);if(t.termType==="Quad"){const r=e.fromTerm(t.subject),n=e.fromTerm(t.predicate),a=e.fromTerm(t.object),s=e.fromTerm(t.graph);return e.quad(r,n,a,s)}if(t.termType==="Variable")return e.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}let aI=class{constructor(t,r,n){this.value=t,this.language=r,this.datatype=n}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value&&t.language===this.language&&t.datatype.equals(this.datatype)}};aI.prototype.termType="Literal";let lS=class{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}};lS.prototype.termType="NamedNode";let sN=class{constructor(t,r,n,a){this.subject=t,this.predicate=r,this.object=n,this.graph=a}equals(t){return!!t&&(t.termType==="Quad"||!t.termType)&&t.subject.equals(this.subject)&&t.predicate.equals(this.predicate)&&t.object.equals(this.object)&&t.graph.equals(this.graph)}};sN.prototype.termType="Quad";sN.prototype.value="";let wK=class{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}};wK.prototype.termType="Variable";const Xhe=new lS("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),Yhe=new lS("http://www.w3.org/2001/XMLSchema#string");let SK=class{constructor(){this.init()}init(){this._data={blankNodeCounter:0,defaultGraph:new aN}}namedNode(t){return new lS(t)}blankNode(t){return t=t||"b"+ ++this._data.blankNodeCounter,new vK(t)}literal(t,r){return typeof r=="string"?new aI(t,r,Xhe):new aI(t,"",r||Yhe)}variable(t){return new wK(t)}defaultGraph(){return this._data.defaultGraph}quad(t,r,n,a=this.defaultGraph()){return new sN(t,r,n,a)}fromTerm(t){return sL(this,t)}fromQuad(t){return sL(this,t)}};SK.exports=["blankNode","defaultGraph","fromQuad","fromTerm","literal","namedNode","quad","variable"];const Mr=new SK;class TT extends Lt.Transform{constructor(t,{factory:r=Mr}={}){super({objectMode:!0}),this.factory=r,this.graph=t||this.factory.defaultGraph(),this.on("pipe",n=>{n.on("error",a=>{this.emit("error",a)})})}_transform(t,r,n){const a=this.factory.quad(t.subject,t.predicate,t.object,this.graph);n(null,a)}}function Zhe(){this.__data__=[],this.size=0}var epe=Zhe;function tpe(e,t){return e===t||e!==e&&t!==t}var TK=tpe,rpe=TK;function npe(e,t){for(var r=e.length;r--;)if(rpe(e[r][0],t))return r;return-1}var dS=npe,ipe=dS,ape=Array.prototype,spe=ape.splice;function ope(e){var t=this.__data__,r=ipe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():spe.call(t,r,1),--this.size,!0}var upe=ope,cpe=dS;function lpe(e){var t=this.__data__,r=cpe(t,e);return r<0?void 0:t[r][1]}var dpe=lpe,fpe=dS;function hpe(e){return fpe(this.__data__,e)>-1}var ppe=hpe,ype=dS;function mpe(e,t){var r=this.__data__,n=ype(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var gpe=mpe,_pe=epe,bpe=upe,vpe=dpe,wpe=ppe,Spe=gpe;function ld(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ld.prototype.clear=_pe;ld.prototype.delete=bpe;ld.prototype.get=vpe;ld.prototype.has=wpe;ld.prototype.set=Spe;var fS=ld,Tpe=fS;function Epe(){this.__data__=new Tpe,this.size=0}var Ape=Epe;function Ope(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Rpe=Ope;function xpe(e){return this.__data__.get(e)}var Ipe=xpe;function Ppe(e){return this.__data__.has(e)}var Npe=Ppe,Dpe=typeof N=="object"&&N&&N.Object===Object&&N,EK=Dpe,Cpe=EK,Lpe=typeof self=="object"&&self&&self.Object===Object&&self,jpe=Cpe||Lpe||Function("return this")(),Wa=jpe,Mpe=Wa,Fpe=Mpe.Symbol,oN=Fpe,oL=oN,AK=Object.prototype,qpe=AK.hasOwnProperty,Bpe=AK.toString,zd=oL?oL.toStringTag:void 0;function $pe(e){var t=qpe.call(e,zd),r=e[zd];try{e[zd]=void 0;var n=!0}catch{}var a=Bpe.call(e);return n&&(t?e[zd]=r:delete e[zd]),a}var Upe=$pe,kpe=Object.prototype,Vpe=kpe.toString;function Hpe(e){return Vpe.call(e)}var Qpe=Hpe,uL=oN,zpe=Upe,Gpe=Qpe,Wpe="[object Null]",Kpe="[object Undefined]",cL=uL?uL.toStringTag:void 0;function Jpe(e){return e==null?e===void 0?Kpe:Wpe:cL&&cL in Object(e)?zpe(e):Gpe(e)}var hS=Jpe;function Xpe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var mb=Xpe,Ype=hS,Zpe=mb,e0e="[object AsyncFunction]",t0e="[object Function]",r0e="[object GeneratorFunction]",n0e="[object Proxy]";function i0e(e){if(!Zpe(e))return!1;var t=Ype(e);return t==t0e||t==r0e||t==e0e||t==n0e}var OK=i0e,a0e=Wa,s0e=a0e["__core-js_shared__"],o0e=s0e,ET=o0e,lL=function(){var e=/[^.]+$/.exec(ET&&ET.keys&&ET.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function u0e(e){return!!lL&&lL in e}var c0e=u0e,l0e=Function.prototype,d0e=l0e.toString;function f0e(e){if(e!=null){try{return d0e.call(e)}catch{}try{return e+""}catch{}}return""}var RK=f0e,h0e=OK,p0e=c0e,y0e=mb,m0e=RK,g0e=/[\\^$.*+?()[\]{}|]/g,_0e=/^\[object .+?Constructor\]$/,b0e=Function.prototype,v0e=Object.prototype,w0e=b0e.toString,S0e=v0e.hasOwnProperty,T0e=RegExp("^"+w0e.call(S0e).replace(g0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E0e(e){if(!y0e(e)||p0e(e))return!1;var t=h0e(e)?T0e:_0e;return t.test(m0e(e))}var A0e=E0e;function O0e(e,t){return e==null?void 0:e[t]}var R0e=O0e,x0e=A0e,I0e=R0e;function P0e(e,t){var r=I0e(e,t);return x0e(r)?r:void 0}var Sc=P0e,N0e=Sc,D0e=Wa,C0e=N0e(D0e,"Map"),uN=C0e,L0e=Sc,j0e=L0e(Object,"create"),pS=j0e,dL=pS;function M0e(){this.__data__=dL?dL(null):{},this.size=0}var F0e=M0e;function q0e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var B0e=q0e,$0e=pS,U0e="__lodash_hash_undefined__",k0e=Object.prototype,V0e=k0e.hasOwnProperty;function H0e(e){var t=this.__data__;if($0e){var r=t[e];return r===U0e?void 0:r}return V0e.call(t,e)?t[e]:void 0}var Q0e=H0e,z0e=pS,G0e=Object.prototype,W0e=G0e.hasOwnProperty;function K0e(e){var t=this.__data__;return z0e?t[e]!==void 0:W0e.call(t,e)}var J0e=K0e,X0e=pS,Y0e="__lodash_hash_undefined__";function Z0e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=X0e&&t===void 0?Y0e:t,this}var eye=Z0e,tye=F0e,rye=B0e,nye=Q0e,iye=J0e,aye=eye;function dd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}dd.prototype.clear=tye;dd.prototype.delete=rye;dd.prototype.get=nye;dd.prototype.has=iye;dd.prototype.set=aye;var sye=dd,fL=sye,oye=fS,uye=uN;function cye(){this.size=0,this.__data__={hash:new fL,map:new(uye||oye),string:new fL}}var lye=cye;function dye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var fye=dye,hye=fye;function pye(e,t){var r=e.__data__;return hye(t)?r[typeof t=="string"?"string":"hash"]:r.map}var yS=pye,yye=yS;function mye(e){var t=yye(this,e).delete(e);return this.size-=t?1:0,t}var gye=mye,_ye=yS;function bye(e){return _ye(this,e).get(e)}var vye=bye,wye=yS;function Sye(e){return wye(this,e).has(e)}var Tye=Sye,Eye=yS;function Aye(e,t){var r=Eye(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Oye=Aye,Rye=lye,xye=gye,Iye=vye,Pye=Tye,Nye=Oye;function fd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fd.prototype.clear=Rye;fd.prototype.delete=xye;fd.prototype.get=Iye;fd.prototype.has=Pye;fd.prototype.set=Nye;var Dye=fd,Cye=fS,Lye=uN,jye=Dye,Mye=200;function Fye(e,t){var r=this.__data__;if(r instanceof Cye){var n=r.__data__;if(!Lye||n.length<Mye-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new jye(n)}return r.set(e,t),this.size=r.size,this}var qye=Fye,Bye=fS,$ye=Ape,Uye=Rpe,kye=Ipe,Vye=Npe,Hye=qye;function hd(e){var t=this.__data__=new Bye(e);this.size=t.size}hd.prototype.clear=$ye;hd.prototype.delete=Uye;hd.prototype.get=kye;hd.prototype.has=Vye;hd.prototype.set=Hye;var Qye=hd;function zye(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Gye=zye,Wye=Sc,Kye=function(){try{var e=Wye(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Jye=Kye,hL=Jye;function Xye(e,t,r){t=="__proto__"&&hL?hL(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var xK=Xye,Yye=xK,Zye=TK,eme=Object.prototype,tme=eme.hasOwnProperty;function rme(e,t,r){var n=e[t];(!(tme.call(e,t)&&Zye(n,r))||r===void 0&&!(t in e))&&Yye(e,t,r)}var IK=rme,nme=IK,ime=xK;function ame(e,t,r,n){var a=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var u=t[s],l=n?n(r[u],e[u],u,r,e):void 0;l===void 0&&(l=e[u]),a?ime(r,u,l):nme(r,u,l)}return r}var mS=ame;function sme(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var ome=sme;function ume(e){return e!=null&&typeof e=="object"}var gb=ume,cme=hS,lme=gb,dme="[object Arguments]";function fme(e){return lme(e)&&cme(e)==dme}var hme=fme,pL=hme,pme=gb,PK=Object.prototype,yme=PK.hasOwnProperty,mme=PK.propertyIsEnumerable,gme=pL(function(){return arguments}())?pL:function(e){return pme(e)&&yme.call(e,"callee")&&!mme.call(e,"callee")},_me=gme,bme=Array.isArray,cN=bme,fw={exports:{}};function vme(){return!1}var wme=vme;fw.exports;(function(e,t){var r=Wa,n=wme,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,u=o?r.Buffer:void 0,l=u?u.isBuffer:void 0,c=l||n;e.exports=c})(fw,fw.exports);var NK=fw.exports,Sme=9007199254740991,Tme=/^(?:0|[1-9]\d*)$/;function Eme(e,t){var r=typeof e;return t=t??Sme,!!t&&(r=="number"||r!="symbol"&&Tme.test(e))&&e>-1&&e%1==0&&e<t}var Ame=Eme,Ome=9007199254740991;function Rme(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ome}var DK=Rme,xme=hS,Ime=DK,Pme=gb,Nme="[object Arguments]",Dme="[object Array]",Cme="[object Boolean]",Lme="[object Date]",jme="[object Error]",Mme="[object Function]",Fme="[object Map]",qme="[object Number]",Bme="[object Object]",$me="[object RegExp]",Ume="[object Set]",kme="[object String]",Vme="[object WeakMap]",Hme="[object ArrayBuffer]",Qme="[object DataView]",zme="[object Float32Array]",Gme="[object Float64Array]",Wme="[object Int8Array]",Kme="[object Int16Array]",Jme="[object Int32Array]",Xme="[object Uint8Array]",Yme="[object Uint8ClampedArray]",Zme="[object Uint16Array]",ege="[object Uint32Array]",Sr={};Sr[zme]=Sr[Gme]=Sr[Wme]=Sr[Kme]=Sr[Jme]=Sr[Xme]=Sr[Yme]=Sr[Zme]=Sr[ege]=!0;Sr[Nme]=Sr[Dme]=Sr[Hme]=Sr[Cme]=Sr[Qme]=Sr[Lme]=Sr[jme]=Sr[Mme]=Sr[Fme]=Sr[qme]=Sr[Bme]=Sr[$me]=Sr[Ume]=Sr[kme]=Sr[Vme]=!1;function tge(e){return Pme(e)&&Ime(e.length)&&!!Sr[xme(e)]}var rge=tge;function nge(e){return function(t){return e(t)}}var lN=nge,hw={exports:{}};hw.exports;(function(e,t){var r=EK,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,u=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=u})(hw,hw.exports);var dN=hw.exports,ige=rge,age=lN,yL=dN,mL=yL&&yL.isTypedArray,sge=mL?age(mL):ige,oge=sge,uge=ome,cge=_me,lge=cN,dge=NK,fge=Ame,hge=oge,pge=Object.prototype,yge=pge.hasOwnProperty;function mge(e,t){var r=lge(e),n=!r&&cge(e),a=!r&&!n&&dge(e),s=!r&&!n&&!a&&hge(e),o=r||n||a||s,u=o?uge(e.length,String):[],l=u.length;for(var c in e)(t||yge.call(e,c))&&!(o&&(c=="length"||a&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||fge(c,l)))&&u.push(c);return u}var CK=mge,gge=Object.prototype;function _ge(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||gge;return e===r}var fN=_ge;function bge(e,t){return function(r){return e(t(r))}}var LK=bge,vge=LK,wge=vge(Object.keys,Object),Sge=wge,Tge=fN,Ege=Sge,Age=Object.prototype,Oge=Age.hasOwnProperty;function Rge(e){if(!Tge(e))return Ege(e);var t=[];for(var r in Object(e))Oge.call(e,r)&&r!="constructor"&&t.push(r);return t}var xge=Rge,Ige=OK,Pge=DK;function Nge(e){return e!=null&&Pge(e.length)&&!Ige(e)}var jK=Nge,Dge=CK,Cge=xge,Lge=jK;function jge(e){return Lge(e)?Dge(e):Cge(e)}var hN=jge,Mge=mS,Fge=hN;function qge(e,t){return e&&Mge(t,Fge(t),e)}var Bge=qge;function $ge(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Uge=$ge,kge=mb,Vge=fN,Hge=Uge,Qge=Object.prototype,zge=Qge.hasOwnProperty;function Gge(e){if(!kge(e))return Hge(e);var t=Vge(e),r=[];for(var n in e)n=="constructor"&&(t||!zge.call(e,n))||r.push(n);return r}var Wge=Gge,Kge=CK,Jge=Wge,Xge=jK;function Yge(e){return Xge(e)?Kge(e,!0):Jge(e)}var pN=Yge,Zge=mS,e_e=pN;function t_e(e,t){return e&&Zge(t,e_e(t),e)}var r_e=t_e,pw={exports:{}};pw.exports;(function(e,t){var r=Wa,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s?r.Buffer:void 0,u=o?o.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var f=c.length,h=u?u(f):new c.constructor(f);return c.copy(h),h}e.exports=l})(pw,pw.exports);var n_e=pw.exports;function i_e(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var a_e=i_e;function s_e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var o_e=s_e;function u_e(){return[]}var MK=u_e,c_e=o_e,l_e=MK,d_e=Object.prototype,f_e=d_e.propertyIsEnumerable,gL=Object.getOwnPropertySymbols,h_e=gL?function(e){return e==null?[]:(e=Object(e),c_e(gL(e),function(t){return f_e.call(e,t)}))}:l_e,yN=h_e,p_e=mS,y_e=yN;function m_e(e,t){return p_e(e,y_e(e),t)}var g_e=m_e;function __e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var FK=__e,b_e=LK,v_e=b_e(Object.getPrototypeOf,Object),qK=v_e,w_e=FK,S_e=qK,T_e=yN,E_e=MK,A_e=Object.getOwnPropertySymbols,O_e=A_e?function(e){for(var t=[];e;)w_e(t,T_e(e)),e=S_e(e);return t}:E_e,BK=O_e,R_e=mS,x_e=BK;function I_e(e,t){return R_e(e,x_e(e),t)}var P_e=I_e,N_e=FK,D_e=cN;function C_e(e,t,r){var n=t(e);return D_e(e)?n:N_e(n,r(e))}var $K=C_e,L_e=$K,j_e=yN,M_e=hN;function F_e(e){return L_e(e,M_e,j_e)}var q_e=F_e,B_e=$K,$_e=BK,U_e=pN;function k_e(e){return B_e(e,U_e,$_e)}var V_e=k_e,H_e=Sc,Q_e=Wa,z_e=H_e(Q_e,"DataView"),G_e=z_e,W_e=Sc,K_e=Wa,J_e=W_e(K_e,"Promise"),X_e=J_e,Y_e=Sc,Z_e=Wa,ebe=Y_e(Z_e,"Set"),tbe=ebe,rbe=Sc,nbe=Wa,ibe=rbe(nbe,"WeakMap"),abe=ibe,sI=G_e,oI=uN,uI=X_e,cI=tbe,lI=abe,UK=hS,pd=RK,_L="[object Map]",sbe="[object Object]",bL="[object Promise]",vL="[object Set]",wL="[object WeakMap]",SL="[object DataView]",obe=pd(sI),ube=pd(oI),cbe=pd(uI),lbe=pd(cI),dbe=pd(lI),Ru=UK;(sI&&Ru(new sI(new ArrayBuffer(1)))!=SL||oI&&Ru(new oI)!=_L||uI&&Ru(uI.resolve())!=bL||cI&&Ru(new cI)!=vL||lI&&Ru(new lI)!=wL)&&(Ru=function(e){var t=UK(e),r=t==sbe?e.constructor:void 0,n=r?pd(r):"";if(n)switch(n){case obe:return SL;case ube:return _L;case cbe:return bL;case lbe:return vL;case dbe:return wL}return t});var mN=Ru,fbe=Object.prototype,hbe=fbe.hasOwnProperty;function pbe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&hbe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var ybe=pbe,mbe=Wa,gbe=mbe.Uint8Array,_be=gbe,TL=_be;function bbe(e){var t=new e.constructor(e.byteLength);return new TL(t).set(new TL(e)),t}var gN=bbe,vbe=gN;function wbe(e,t){var r=t?vbe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Sbe=wbe,Tbe=/\w*$/;function Ebe(e){var t=new e.constructor(e.source,Tbe.exec(e));return t.lastIndex=e.lastIndex,t}var Abe=Ebe,EL=oN,AL=EL?EL.prototype:void 0,OL=AL?AL.valueOf:void 0;function Obe(e){return OL?Object(OL.call(e)):{}}var Rbe=Obe,xbe=gN;function Ibe(e,t){var r=t?xbe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Pbe=Ibe,Nbe=gN,Dbe=Sbe,Cbe=Abe,Lbe=Rbe,jbe=Pbe,Mbe="[object Boolean]",Fbe="[object Date]",qbe="[object Map]",Bbe="[object Number]",$be="[object RegExp]",Ube="[object Set]",kbe="[object String]",Vbe="[object Symbol]",Hbe="[object ArrayBuffer]",Qbe="[object DataView]",zbe="[object Float32Array]",Gbe="[object Float64Array]",Wbe="[object Int8Array]",Kbe="[object Int16Array]",Jbe="[object Int32Array]",Xbe="[object Uint8Array]",Ybe="[object Uint8ClampedArray]",Zbe="[object Uint16Array]",e1e="[object Uint32Array]";function t1e(e,t,r){var n=e.constructor;switch(t){case Hbe:return Nbe(e);case Mbe:case Fbe:return new n(+e);case Qbe:return Dbe(e,r);case zbe:case Gbe:case Wbe:case Kbe:case Jbe:case Xbe:case Ybe:case Zbe:case e1e:return jbe(e,r);case qbe:return new n;case Bbe:case kbe:return new n(e);case $be:return Cbe(e);case Ube:return new n;case Vbe:return Lbe(e)}}var r1e=t1e,n1e=mb,RL=Object.create,i1e=function(){function e(){}return function(t){if(!n1e(t))return{};if(RL)return RL(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),a1e=i1e,s1e=a1e,o1e=qK,u1e=fN;function c1e(e){return typeof e.constructor=="function"&&!u1e(e)?s1e(o1e(e)):{}}var l1e=c1e,d1e=mN,f1e=gb,h1e="[object Map]";function p1e(e){return f1e(e)&&d1e(e)==h1e}var y1e=p1e,m1e=y1e,g1e=lN,xL=dN,IL=xL&&xL.isMap,_1e=IL?g1e(IL):m1e,b1e=_1e,v1e=mN,w1e=gb,S1e="[object Set]";function T1e(e){return w1e(e)&&v1e(e)==S1e}var E1e=T1e,A1e=E1e,O1e=lN,PL=dN,NL=PL&&PL.isSet,R1e=NL?O1e(NL):A1e,x1e=R1e,I1e=Qye,P1e=Gye,N1e=IK,D1e=Bge,C1e=r_e,L1e=n_e,j1e=a_e,M1e=g_e,F1e=P_e,q1e=q_e,B1e=V_e,$1e=mN,U1e=ybe,k1e=r1e,V1e=l1e,H1e=cN,Q1e=NK,z1e=b1e,G1e=mb,W1e=x1e,K1e=hN,J1e=pN,X1e=1,Y1e=2,Z1e=4,kK="[object Arguments]",eve="[object Array]",tve="[object Boolean]",rve="[object Date]",nve="[object Error]",VK="[object Function]",ive="[object GeneratorFunction]",ave="[object Map]",sve="[object Number]",HK="[object Object]",ove="[object RegExp]",uve="[object Set]",cve="[object String]",lve="[object Symbol]",dve="[object WeakMap]",fve="[object ArrayBuffer]",hve="[object DataView]",pve="[object Float32Array]",yve="[object Float64Array]",mve="[object Int8Array]",gve="[object Int16Array]",_ve="[object Int32Array]",bve="[object Uint8Array]",vve="[object Uint8ClampedArray]",wve="[object Uint16Array]",Sve="[object Uint32Array]",pr={};pr[kK]=pr[eve]=pr[fve]=pr[hve]=pr[tve]=pr[rve]=pr[pve]=pr[yve]=pr[mve]=pr[gve]=pr[_ve]=pr[ave]=pr[sve]=pr[HK]=pr[ove]=pr[uve]=pr[cve]=pr[lve]=pr[bve]=pr[vve]=pr[wve]=pr[Sve]=!0;pr[nve]=pr[VK]=pr[dve]=!1;function Ov(e,t,r,n,a,s){var o,u=t&X1e,l=t&Y1e,c=t&Z1e;if(r&&(o=a?r(e,n,a,s):r(e)),o!==void 0)return o;if(!G1e(e))return e;var d=H1e(e);if(d){if(o=U1e(e),!u)return j1e(e,o)}else{var f=$1e(e),h=f==VK||f==ive;if(Q1e(e))return L1e(e,u);if(f==HK||f==kK||h&&!a){if(o=l||h?{}:V1e(e),!u)return l?F1e(e,C1e(o,e)):M1e(e,D1e(o,e))}else{if(!pr[f])return a?e:{};o=k1e(e,f,u)}}s||(s=new I1e);var p=s.get(e);if(p)return p;s.set(e,o),W1e(e)?e.forEach(function(g){o.add(Ov(g,t,r,g,e,s))}):z1e(e)&&e.forEach(function(g,b){o.set(b,Ov(g,t,r,b,e,s))});var m=c?l?B1e:q1e:l?J1e:K1e,y=d?void 0:m(e);return P1e(y||e,function(g,b){y&&(b=g,g=e[b]),N1e(o,b,Ov(g,t,r,b,e,s))}),o}var Tve=Ov,Eve=Tve,Ave=4;function Ove(e){return Eve(e,Ave)}var Rve=Ove;const xve=fW(Rve);function Ive(e){let t="";for(let r=0;r<e;r++)t+=" ";return t}let yd=class{constructor({type:t,attr:r={},children:n=[]}={}){this.type=t,this.attr=r,this.children=n}clone(t){const r=new this.constructor;return r.type=this.type,r.attr=xve(this.attr),r.children=this.children.map(n=>typeof n.clone=="function"?n.clone():n),t&&t(r),r}toStringStart(){return null}toStringChildren({multiline:t=!1,indent:r=!1}={}){const n=t?`
`:" ";let a=this.children.map(s=>s.toString()).filter(Boolean).join(n);return r&&(a=a.split(`
`).map(s=>Ive(2)+s).join(`
`)),a}toStringEnd(){return null}toString({multiline:t=!1}={}){const r=t?`
`:" ";return[this.toStringStart(),this.toStringChildren(),this.toStringEnd()].filter(Boolean).join(r)}};function Pve(e){return"_:"+e.value}function Nve(e,t){return[...e].map(r=>t(r)).join(`
`)+`
`}function Dve(){return""}function QK(e){return"<"+e.value+">"}const Cve=/["\\\\\n\r]/,Lve=/["\\\\\n\r]/g,jve={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r"};function Mve(e){return jve[e]}function Fve(e){return Cve.test(e)?e.replace(Lve,Mve):e}function qve(e){const t=Fve(e.value);return e.datatype.value==="http://www.w3.org/2001/XMLSchema#string"?'"'+t+'"':e.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?'"'+t+'"@'+e.language:'"'+t+'"^^'+QK(e.datatype)}function Bve(e,t){const r=t(e.subject),n=t(e.predicate),a=t(e.object),s=t(e.graph);return`${r} ${n} ${a} ${s?s+" ":""}.`}function $ve(e){return"?"+e.value}function dI(e){if(!e)return null;if(e.termType==="BlankNode")return Pve(e);if(e.termType==="DefaultGraph")return Dve();if(e.termType==="Literal")return qve(e);if(e.termType==="NamedNode")return QK(e);if(e.termType==="Quad"||e.subject&&e.predicate&&e.object&&e.graph)return Bve(e,dI);if(e.termType==="Variable")return $ve(e);if(e[Symbol.iterator])return Nve(e,dI);throw new Error(`unknown termType ${e.termType}`)}function b_(e){return e.termType&&dI(e)||e.toString()}class _N extends yd{constructor({type:t="Patterns"}={}){super({type:t})}add(t){this.children.push(t)}addAll(t=[]){t.forEach(r=>{this.add(r)})}}class bN extends yd{constructor(t){super({type:"SubQuery"}),this.children=t?[t]:[]}toStringStart(){return this.children.length!==0&&"{"}toStringChildren(){return super.toStringChildren({indent:!0})}toStringEnd(){return this.children.length!==0&&"}"}toString(){return super.toString({multiline:!0})}}class Uve extends _N{constructor(t=[]){super({type:"GraphPattern"}),this.addAll(t)}get graph(){const t=this.children.filter(r=>r.type==="TriplePattern")[0];return t&&t.attr.graph}add(t){if(t.type==="TriplePattern"&&this.graph&&!this.graph.equals(t.attr.graph))throw new Error(`graph of new pattern ${t.attr.graph.value} doesn't match existing graph ${this.graph.value}`);super.add(t)}toStringStart(){if(!(!this.graph||this.graph.termType==="DefaultGraph"))return`GRAPH ${b_(this.graph)} {
`}toStringChildren(){if(this.graph)return this.graph.termType==="DefaultGraph"?super.toStringChildren({multiline:!0}):super.toStringChildren({multiline:!0,indent:!0})}toStringEnd(){if(!(!this.graph||this.graph.termType==="DefaultGraph"))return`
}`}}class j1 extends yd{constructor(t){super({type:"Path"}),this.attr.elements=t}toStringStart(){return this.attr.elements.map(t=>b_(t)).join("/")}}class DL extends yd{constructor(t,r,n,a){super({type:"TriplePattern"}),this.attr.subject=Array.isArray(t)?new j1(t):t,this.attr.predicate=Array.isArray(r)?new j1(r):r,this.attr.object=Array.isArray(n)?new j1(n):n,this.attr.graph=Array.isArray(a)?new j1(a):a||Mr.defaultGraph()}toStringStart(){return[b_(this.attr.subject),b_(this.attr.predicate),b_(this.attr.object),"."].join(" ")}}function kve(e,t){if(Array.isArray(t)&&(t=new DL(...t)),t.termType==="Quad"&&(t=new DL(t.subject,t.predicate,t.object,t.graph)),t.type==="Select")return e.children.push(new bN(t));if(t.type==="TriplePattern"&&e){const r=e.children.slice(-1)[0];return r&&r.type==="GraphPattern"&&r.graph.equals(t.attr.graph)?r.add(t):e.children.push(new Uve([t]))}return e.children.push(t)}function zK(e,t){return t.forEach(r=>{kve(e,r)}),e}class Vve extends yd{constructor(t=[],{queryPrefix:r}={}){super({type:"DeleteData"}),this.attr={queryPrefix:r},t.length===0?this.children=[""]:(this.children=[new bN(new _N)],zK(this._patterns,t))}get _patterns(){return this.children[0].children[0]}toStringStart(){return[this.attr.queryPrefix,"DELETE DATA"].filter(Boolean).join("")}}class Hve extends yd{constructor(t=[],{queryPrefix:r}={}){super({type:"InsertData"}),this.attr={queryPrefix:r},t.length===0?this.children=[""]:(this.children=[new bN(new _N)],zK(this._patterns,t))}get _patterns(){return this.children[0].children[0]}toStringStart(){return[this.attr.queryPrefix,"INSERT DATA"].filter(Boolean).join("")}}const Qve=(e,t)=>new Vve(e,t),zve=(e,t)=>new Hve(e,t);function GK(e,t){return function(){return e.apply(t,arguments)}}const{toString:Gve}=Object.prototype,{getPrototypeOf:vN}=Object,gS=(e=>t=>{const r=Gve.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ka=e=>(e=e.toLowerCase(),t=>gS(t)===e),_S=e=>t=>typeof t===e,{isArray:md}=Array,j_=_S("undefined");function Wve(e){return e!==null&&!j_(e)&&e.constructor!==null&&!j_(e.constructor)&&Wi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const WK=Ka("ArrayBuffer");function Kve(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&WK(e.buffer),t}const Jve=_S("string"),Wi=_S("function"),KK=_S("number"),bS=e=>e!==null&&typeof e=="object",Xve=e=>e===!0||e===!1,Rv=e=>{if(gS(e)!=="object")return!1;const t=vN(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Yve=Ka("Date"),Zve=Ka("File"),ewe=Ka("Blob"),twe=Ka("FileList"),rwe=e=>bS(e)&&Wi(e.pipe),nwe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Wi(e.append)&&((t=gS(e))==="formdata"||t==="object"&&Wi(e.toString)&&e.toString()==="[object FormData]"))},iwe=Ka("URLSearchParams"),awe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _b(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),md(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let u;for(n=0;n<o;n++)u=s[n],t.call(null,e[u],u,e)}}function JK(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const XK=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:gx,YK=e=>!j_(e)&&e!==XK;function fI(){const{caseless:e}=YK(this)&&this||{},t={},r=(n,a)=>{const s=e&&JK(t,a)||a;Rv(t[s])&&Rv(n)?t[s]=fI(t[s],n):Rv(n)?t[s]=fI({},n):md(n)?t[s]=n.slice():t[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&_b(arguments[n],r);return t}const swe=(e,t,r,{allOwnKeys:n}={})=>(_b(t,(a,s)=>{r&&Wi(a)?e[s]=GK(a,r):e[s]=a},{allOwnKeys:n}),e),owe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),uwe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},cwe=(e,t,r,n)=>{let a,s,o;const u={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!n||n(o,e,t))&&!u[o]&&(t[o]=e[o],u[o]=!0);e=r!==!1&&vN(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},lwe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},dwe=e=>{if(!e)return null;if(md(e))return e;let t=e.length;if(!KK(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},fwe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vN(Uint8Array)),hwe=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},pwe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},ywe=Ka("HTMLFormElement"),mwe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),CL=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),gwe=Ka("RegExp"),ZK=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};_b(r,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(n[s]=o||a)}),Object.defineProperties(e,n)},_we=e=>{ZK(e,(t,r)=>{if(Wi(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Wi(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},bwe=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return md(e)?n(e):n(String(e).split(t)),r},vwe=()=>{},wwe=(e,t)=>(e=+e,Number.isFinite(e)?e:t),AT="abcdefghijklmnopqrstuvwxyz",LL="0123456789",eJ={DIGIT:LL,ALPHA:AT,ALPHA_DIGIT:AT+AT.toUpperCase()+LL},Swe=(e=16,t=eJ.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function Twe(e){return!!(e&&Wi(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Ewe=e=>{const t=new Array(10),r=(n,a)=>{if(bS(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const s=md(n)?[]:{};return _b(n,(o,u)=>{const l=r(o,a+1);!j_(l)&&(s[u]=l)}),t[a]=void 0,s}}return n};return r(e,0)},Awe=Ka("AsyncFunction"),Owe=e=>e&&(bS(e)||Wi(e))&&Wi(e.then)&&Wi(e.catch),We={isArray:md,isArrayBuffer:WK,isBuffer:Wve,isFormData:nwe,isArrayBufferView:Kve,isString:Jve,isNumber:KK,isBoolean:Xve,isObject:bS,isPlainObject:Rv,isUndefined:j_,isDate:Yve,isFile:Zve,isBlob:ewe,isRegExp:gwe,isFunction:Wi,isStream:rwe,isURLSearchParams:iwe,isTypedArray:fwe,isFileList:twe,forEach:_b,merge:fI,extend:swe,trim:awe,stripBOM:owe,inherits:uwe,toFlatObject:cwe,kindOf:gS,kindOfTest:Ka,endsWith:lwe,toArray:dwe,forEachEntry:hwe,matchAll:pwe,isHTMLForm:ywe,hasOwnProperty:CL,hasOwnProp:CL,reduceDescriptors:ZK,freezeMethods:_we,toObjectSet:bwe,toCamelCase:mwe,noop:vwe,toFiniteNumber:wwe,findKey:JK,global:XK,isContextDefined:YK,ALPHABET:eJ,generateString:Swe,isSpecCompliantForm:Twe,toJSONObject:Ewe,isAsyncFn:Awe,isThenable:Owe};var wN={},vS={};vS.byteLength=Iwe;vS.toByteArray=Nwe;vS.fromByteArray=Lwe;var ja=[],Fi=[],Rwe=typeof Uint8Array<"u"?Uint8Array:Array,OT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var kc=0,xwe=OT.length;kc<xwe;++kc)ja[kc]=OT[kc],Fi[OT.charCodeAt(kc)]=kc;Fi[45]=62;Fi[95]=63;function tJ(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function Iwe(e){var t=tJ(e),r=t[0],n=t[1];return(r+n)*3/4-n}function Pwe(e,t,r){return(t+r)*3/4-r}function Nwe(e){var t,r=tJ(e),n=r[0],a=r[1],s=new Rwe(Pwe(e,n,a)),o=0,u=a>0?n-4:n,l;for(l=0;l<u;l+=4)t=Fi[e.charCodeAt(l)]<<18|Fi[e.charCodeAt(l+1)]<<12|Fi[e.charCodeAt(l+2)]<<6|Fi[e.charCodeAt(l+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return a===2&&(t=Fi[e.charCodeAt(l)]<<2|Fi[e.charCodeAt(l+1)]>>4,s[o++]=t&255),a===1&&(t=Fi[e.charCodeAt(l)]<<10|Fi[e.charCodeAt(l+1)]<<4|Fi[e.charCodeAt(l+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function Dwe(e){return ja[e>>18&63]+ja[e>>12&63]+ja[e>>6&63]+ja[e&63]}function Cwe(e,t,r){for(var n,a=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),a.push(Dwe(n));return a.join("")}function Lwe(e){for(var t,r=e.length,n=r%3,a=[],s=16383,o=0,u=r-n;o<u;o+=s)a.push(Cwe(e,o,o+s>u?u:o+s));return n===1?(t=e[r-1],a.push(ja[t>>2]+ja[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],a.push(ja[t>>10]+ja[t>>4&63]+ja[t<<2&63]+"=")),a.join("")}var SN={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */SN.read=function(e,t,r,n,a){var s,o,u=a*8-n-1,l=(1<<u)-1,c=l>>1,d=-7,f=r?a-1:0,h=r?-1:1,p=e[t+f];for(f+=h,s=p&(1<<-d)-1,p>>=-d,d+=u;d>0;s=s*256+e[t+f],f+=h,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=o*256+e[t+f],f+=h,d-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(p?-1:1)*o*Math.pow(2,s-n)};SN.write=function(e,t,r,n,a,s){var o,u,l,c=s*8-a-1,d=(1<<c)-1,f=d>>1,h=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,m=n?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?t+=h/l:t+=h*Math.pow(2,1-f),t*l>=2&&(o++,l/=2),o+f>=d?(u=0,o=d):o+f>=1?(u=(t*l-1)*Math.pow(2,a),o=o+f):(u=t*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;e[r+p]=u&255,p+=m,u/=256,a-=8);for(o=o<<a|u,c+=a;c>0;e[r+p]=o&255,p+=m,o/=256,c-=8);e[r+p-m]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=vS,r=SN,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=d,e.SlowBuffer=S,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:u}=globalThis;d.TYPED_ARRAY_SUPPORT=l(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const K=new s(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,s.prototype),Object.setPrototypeOf(K,j),K.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function c(K){if(K>a)throw new RangeError('The value "'+K+'" is invalid for option "size"');const j=new s(K);return Object.setPrototypeOf(j,d.prototype),j}function d(K,j,q){if(typeof K=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(K)}return f(K,j,q)}d.poolSize=8192;function f(K,j,q){if(typeof K=="string")return y(K,j);if(o.isView(K))return b(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(Ee(K,o)||K&&Ee(K.buffer,o)||typeof u<"u"&&(Ee(K,u)||K&&Ee(K.buffer,u)))return v(K,j,q);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const W=K.valueOf&&K.valueOf();if(W!=null&&W!==K)return d.from(W,j,q);const re=_(K);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return d.from(K[Symbol.toPrimitive]("string"),j,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}d.from=function(K,j,q){return f(K,j,q)},Object.setPrototypeOf(d.prototype,s.prototype),Object.setPrototypeOf(d,s);function h(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function p(K,j,q){return h(K),K<=0?c(K):j!==void 0?typeof q=="string"?c(K).fill(j,q):c(K).fill(j):c(K)}d.alloc=function(K,j,q){return p(K,j,q)};function m(K){return h(K),c(K<0?0:w(K)|0)}d.allocUnsafe=function(K){return m(K)},d.allocUnsafeSlow=function(K){return m(K)};function y(K,j){if((typeof j!="string"||j==="")&&(j="utf8"),!d.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const q=E(K,j)|0;let W=c(q);const re=W.write(K,j);return re!==q&&(W=W.slice(0,re)),W}function g(K){const j=K.length<0?0:w(K.length)|0,q=c(j);for(let W=0;W<j;W+=1)q[W]=K[W]&255;return q}function b(K){if(Ee(K,s)){const j=new s(K);return v(j.buffer,j.byteOffset,j.byteLength)}return g(K)}function v(K,j,q){if(j<0||K.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<j+(q||0))throw new RangeError('"length" is outside of buffer bounds');let W;return j===void 0&&q===void 0?W=new s(K):q===void 0?W=new s(K,j):W=new s(K,j,q),Object.setPrototypeOf(W,d.prototype),W}function _(K){if(d.isBuffer(K)){const j=w(K.length)|0,q=c(j);return q.length===0||K.copy(q,0,0,j),q}if(K.length!==void 0)return typeof K.length!="number"||Ue(K.length)?c(0):g(K);if(K.type==="Buffer"&&Array.isArray(K.data))return g(K.data)}function w(K){if(K>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return K|0}function S(K){return+K!=K&&(K=0),d.alloc(+K)}d.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==d.prototype},d.compare=function(j,q){if(Ee(j,s)&&(j=d.from(j,j.offset,j.byteLength)),Ee(q,s)&&(q=d.from(q,q.offset,q.byteLength)),!d.isBuffer(j)||!d.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===q)return 0;let W=j.length,re=q.length;for(let pe=0,ge=Math.min(W,re);pe<ge;++pe)if(j[pe]!==q[pe]){W=j[pe],re=q[pe];break}return W<re?-1:re<W?1:0},d.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(j,q){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return d.alloc(0);let W;if(q===void 0)for(q=0,W=0;W<j.length;++W)q+=j[W].length;const re=d.allocUnsafe(q);let pe=0;for(W=0;W<j.length;++W){let ge=j[W];if(Ee(ge,s))pe+ge.length>re.length?(d.isBuffer(ge)||(ge=d.from(ge)),ge.copy(re,pe)):s.prototype.set.call(re,ge,pe);else if(d.isBuffer(ge))ge.copy(re,pe);else throw new TypeError('"list" argument must be an Array of Buffers');pe+=ge.length}return re};function E(K,j){if(d.isBuffer(K))return K.length;if(o.isView(K)||Ee(K,o))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const q=K.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&q===0)return 0;let re=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return te(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return ve(K).length;default:if(re)return W?-1:te(K).length;j=(""+j).toLowerCase(),re=!0}}d.byteLength=E;function x(K,j,q){let W=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,j>>>=0,q<=j))return"";for(K||(K="utf8");;)switch(K){case"hex":return Ve(this,j,q);case"utf8":case"utf-8":return J(this,j,q);case"ascii":return Te(this,j,q);case"latin1":case"binary":return De(this,j,q);case"base64":return H(this,j,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,j,q);default:if(W)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),W=!0}}d.prototype._isBuffer=!0;function C(K,j,q){const W=K[j];K[j]=K[q],K[q]=W}d.prototype.swap16=function(){const j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<j;q+=2)C(this,q,q+1);return this},d.prototype.swap32=function(){const j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<j;q+=4)C(this,q,q+3),C(this,q+1,q+2);return this},d.prototype.swap64=function(){const j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<j;q+=8)C(this,q,q+7),C(this,q+1,q+6),C(this,q+2,q+5),C(this,q+3,q+4);return this},d.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?J(this,0,j):x.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(j){if(!d.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:d.compare(this,j)===0},d.prototype.inspect=function(){let j="";const q=e.INSPECT_MAX_BYTES;return j=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(j+=" ... "),"<Buffer "+j+">"},n&&(d.prototype[n]=d.prototype.inspect),d.prototype.compare=function(j,q,W,re,pe){if(Ee(j,s)&&(j=d.from(j,j.offset,j.byteLength)),!d.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(q===void 0&&(q=0),W===void 0&&(W=j?j.length:0),re===void 0&&(re=0),pe===void 0&&(pe=this.length),q<0||W>j.length||re<0||pe>this.length)throw new RangeError("out of range index");if(re>=pe&&q>=W)return 0;if(re>=pe)return-1;if(q>=W)return 1;if(q>>>=0,W>>>=0,re>>>=0,pe>>>=0,this===j)return 0;let ge=pe-re,qe=W-q;const ee=Math.min(ge,qe),Oe=this.slice(re,pe),je=j.slice(q,W);for(let Be=0;Be<ee;++Be)if(Oe[Be]!==je[Be]){ge=Oe[Be],qe=je[Be];break}return ge<qe?-1:qe<ge?1:0};function I(K,j,q,W,re){if(K.length===0)return-1;if(typeof q=="string"?(W=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,Ue(q)&&(q=re?0:K.length-1),q<0&&(q=K.length+q),q>=K.length){if(re)return-1;q=K.length-1}else if(q<0)if(re)q=0;else return-1;if(typeof j=="string"&&(j=d.from(j,W)),d.isBuffer(j))return j.length===0?-1:P(K,j,q,W,re);if(typeof j=="number")return j=j&255,typeof s.prototype.indexOf=="function"?re?s.prototype.indexOf.call(K,j,q):s.prototype.lastIndexOf.call(K,j,q):P(K,[j],q,W,re);throw new TypeError("val must be string, number or Buffer")}function P(K,j,q,W,re){let pe=1,ge=K.length,qe=j.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(K.length<2||j.length<2)return-1;pe=2,ge/=2,qe/=2,q/=2}function ee(je,Be){return pe===1?je[Be]:je.readUInt16BE(Be*pe)}let Oe;if(re){let je=-1;for(Oe=q;Oe<ge;Oe++)if(ee(K,Oe)===ee(j,je===-1?0:Oe-je)){if(je===-1&&(je=Oe),Oe-je+1===qe)return je*pe}else je!==-1&&(Oe-=Oe-je),je=-1}else for(q+qe>ge&&(q=ge-qe),Oe=q;Oe>=0;Oe--){let je=!0;for(let Be=0;Be<qe;Be++)if(ee(K,Oe+Be)!==ee(j,Be)){je=!1;break}if(je)return Oe}return-1}d.prototype.includes=function(j,q,W){return this.indexOf(j,q,W)!==-1},d.prototype.indexOf=function(j,q,W){return I(this,j,q,W,!0)},d.prototype.lastIndexOf=function(j,q,W){return I(this,j,q,W,!1)};function L(K,j,q,W){q=Number(q)||0;const re=K.length-q;W?(W=Number(W),W>re&&(W=re)):W=re;const pe=j.length;W>pe/2&&(W=pe/2);let ge;for(ge=0;ge<W;++ge){const qe=parseInt(j.substr(ge*2,2),16);if(Ue(qe))return ge;K[q+ge]=qe}return ge}function D(K,j,q,W){return Ce(te(j,K.length-q),K,q,W)}function V(K,j,q,W){return Ce(he(j),K,q,W)}function k(K,j,q,W){return Ce(ve(j),K,q,W)}function $(K,j,q,W){return Ce(ce(j,K.length-q),K,q,W)}d.prototype.write=function(j,q,W,re){if(q===void 0)re="utf8",W=this.length,q=0;else if(W===void 0&&typeof q=="string")re=q,W=this.length,q=0;else if(isFinite(q))q=q>>>0,isFinite(W)?(W=W>>>0,re===void 0&&(re="utf8")):(re=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const pe=this.length-q;if((W===void 0||W>pe)&&(W=pe),j.length>0&&(W<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");let ge=!1;for(;;)switch(re){case"hex":return L(this,j,q,W);case"utf8":case"utf-8":return D(this,j,q,W);case"ascii":case"latin1":case"binary":return V(this,j,q,W);case"base64":return k(this,j,q,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,j,q,W);default:if(ge)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),ge=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(K,j,q){return j===0&&q===K.length?t.fromByteArray(K):t.fromByteArray(K.slice(j,q))}function J(K,j,q){q=Math.min(K.length,q);const W=[];let re=j;for(;re<q;){const pe=K[re];let ge=null,qe=pe>239?4:pe>223?3:pe>191?2:1;if(re+qe<=q){let ee,Oe,je,Be;switch(qe){case 1:pe<128&&(ge=pe);break;case 2:ee=K[re+1],(ee&192)===128&&(Be=(pe&31)<<6|ee&63,Be>127&&(ge=Be));break;case 3:ee=K[re+1],Oe=K[re+2],(ee&192)===128&&(Oe&192)===128&&(Be=(pe&15)<<12|(ee&63)<<6|Oe&63,Be>2047&&(Be<55296||Be>57343)&&(ge=Be));break;case 4:ee=K[re+1],Oe=K[re+2],je=K[re+3],(ee&192)===128&&(Oe&192)===128&&(je&192)===128&&(Be=(pe&15)<<18|(ee&63)<<12|(Oe&63)<<6|je&63,Be>65535&&Be<1114112&&(ge=Be))}}ge===null?(ge=65533,qe=1):ge>65535&&(ge-=65536,W.push(ge>>>10&1023|55296),ge=56320|ge&1023),W.push(ge),re+=qe}return de(W)}const Y=4096;function de(K){const j=K.length;if(j<=Y)return String.fromCharCode.apply(String,K);let q="",W=0;for(;W<j;)q+=String.fromCharCode.apply(String,K.slice(W,W+=Y));return q}function Te(K,j,q){let W="";q=Math.min(K.length,q);for(let re=j;re<q;++re)W+=String.fromCharCode(K[re]&127);return W}function De(K,j,q){let W="";q=Math.min(K.length,q);for(let re=j;re<q;++re)W+=String.fromCharCode(K[re]);return W}function Ve(K,j,q){const W=K.length;(!j||j<0)&&(j=0),(!q||q<0||q>W)&&(q=W);let re="";for(let pe=j;pe<q;++pe)re+=Fe[K[pe]];return re}function le(K,j,q){const W=K.slice(j,q);let re="";for(let pe=0;pe<W.length-1;pe+=2)re+=String.fromCharCode(W[pe]+W[pe+1]*256);return re}d.prototype.slice=function(j,q){const W=this.length;j=~~j,q=q===void 0?W:~~q,j<0?(j+=W,j<0&&(j=0)):j>W&&(j=W),q<0?(q+=W,q<0&&(q=0)):q>W&&(q=W),q<j&&(q=j);const re=this.subarray(j,q);return Object.setPrototypeOf(re,d.prototype),re};function ue(K,j,q){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+j>q)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(j,q,W){j=j>>>0,q=q>>>0,W||ue(j,q,this.length);let re=this[j],pe=1,ge=0;for(;++ge<q&&(pe*=256);)re+=this[j+ge]*pe;return re},d.prototype.readUintBE=d.prototype.readUIntBE=function(j,q,W){j=j>>>0,q=q>>>0,W||ue(j,q,this.length);let re=this[j+--q],pe=1;for(;q>0&&(pe*=256);)re+=this[j+--q]*pe;return re},d.prototype.readUint8=d.prototype.readUInt8=function(j,q){return j=j>>>0,q||ue(j,1,this.length),this[j]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(j,q){return j=j>>>0,q||ue(j,2,this.length),this[j]|this[j+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(j,q){return j=j>>>0,q||ue(j,2,this.length),this[j]<<8|this[j+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(j,q){return j=j>>>0,q||ue(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(j,q){return j=j>>>0,q||ue(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},d.prototype.readBigUInt64LE=Qe(function(j){j=j>>>0,G(j,"offset");const q=this[j],W=this[j+7];(q===void 0||W===void 0)&&Q(j,this.length-8);const re=q+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,pe=this[++j]+this[++j]*2**8+this[++j]*2**16+W*2**24;return BigInt(re)+(BigInt(pe)<<BigInt(32))}),d.prototype.readBigUInt64BE=Qe(function(j){j=j>>>0,G(j,"offset");const q=this[j],W=this[j+7];(q===void 0||W===void 0)&&Q(j,this.length-8);const re=q*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],pe=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+W;return(BigInt(re)<<BigInt(32))+BigInt(pe)}),d.prototype.readIntLE=function(j,q,W){j=j>>>0,q=q>>>0,W||ue(j,q,this.length);let re=this[j],pe=1,ge=0;for(;++ge<q&&(pe*=256);)re+=this[j+ge]*pe;return pe*=128,re>=pe&&(re-=Math.pow(2,8*q)),re},d.prototype.readIntBE=function(j,q,W){j=j>>>0,q=q>>>0,W||ue(j,q,this.length);let re=q,pe=1,ge=this[j+--re];for(;re>0&&(pe*=256);)ge+=this[j+--re]*pe;return pe*=128,ge>=pe&&(ge-=Math.pow(2,8*q)),ge},d.prototype.readInt8=function(j,q){return j=j>>>0,q||ue(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},d.prototype.readInt16LE=function(j,q){j=j>>>0,q||ue(j,2,this.length);const W=this[j]|this[j+1]<<8;return W&32768?W|4294901760:W},d.prototype.readInt16BE=function(j,q){j=j>>>0,q||ue(j,2,this.length);const W=this[j+1]|this[j]<<8;return W&32768?W|4294901760:W},d.prototype.readInt32LE=function(j,q){return j=j>>>0,q||ue(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},d.prototype.readInt32BE=function(j,q){return j=j>>>0,q||ue(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},d.prototype.readBigInt64LE=Qe(function(j){j=j>>>0,G(j,"offset");const q=this[j],W=this[j+7];(q===void 0||W===void 0)&&Q(j,this.length-8);const re=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(W<<24);return(BigInt(re)<<BigInt(32))+BigInt(q+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),d.prototype.readBigInt64BE=Qe(function(j){j=j>>>0,G(j,"offset");const q=this[j],W=this[j+7];(q===void 0||W===void 0)&&Q(j,this.length-8);const re=(q<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(re)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+W)}),d.prototype.readFloatLE=function(j,q){return j=j>>>0,q||ue(j,4,this.length),r.read(this,j,!0,23,4)},d.prototype.readFloatBE=function(j,q){return j=j>>>0,q||ue(j,4,this.length),r.read(this,j,!1,23,4)},d.prototype.readDoubleLE=function(j,q){return j=j>>>0,q||ue(j,8,this.length),r.read(this,j,!0,52,8)},d.prototype.readDoubleBE=function(j,q){return j=j>>>0,q||ue(j,8,this.length),r.read(this,j,!1,52,8)};function Ie(K,j,q,W,re,pe){if(!d.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>re||j<pe)throw new RangeError('"value" argument is out of bounds');if(q+W>K.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(j,q,W,re){if(j=+j,q=q>>>0,W=W>>>0,!re){const qe=Math.pow(2,8*W)-1;Ie(this,j,q,W,qe,0)}let pe=1,ge=0;for(this[q]=j&255;++ge<W&&(pe*=256);)this[q+ge]=j/pe&255;return q+W},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(j,q,W,re){if(j=+j,q=q>>>0,W=W>>>0,!re){const qe=Math.pow(2,8*W)-1;Ie(this,j,q,W,qe,0)}let pe=W-1,ge=1;for(this[q+pe]=j&255;--pe>=0&&(ge*=256);)this[q+pe]=j/ge&255;return q+W},d.prototype.writeUint8=d.prototype.writeUInt8=function(j,q,W){return j=+j,q=q>>>0,W||Ie(this,j,q,1,255,0),this[q]=j&255,q+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(j,q,W){return j=+j,q=q>>>0,W||Ie(this,j,q,2,65535,0),this[q]=j&255,this[q+1]=j>>>8,q+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(j,q,W){return j=+j,q=q>>>0,W||Ie(this,j,q,2,65535,0),this[q]=j>>>8,this[q+1]=j&255,q+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(j,q,W){return j=+j,q=q>>>0,W||Ie(this,j,q,4,4294967295,0),this[q+3]=j>>>24,this[q+2]=j>>>16,this[q+1]=j>>>8,this[q]=j&255,q+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(j,q,W){return j=+j,q=q>>>0,W||Ie(this,j,q,4,4294967295,0),this[q]=j>>>24,this[q+1]=j>>>16,this[q+2]=j>>>8,this[q+3]=j&255,q+4};function Ne(K,j,q,W,re){U(j,W,re,K,q,7);let pe=Number(j&BigInt(4294967295));K[q++]=pe,pe=pe>>8,K[q++]=pe,pe=pe>>8,K[q++]=pe,pe=pe>>8,K[q++]=pe;let ge=Number(j>>BigInt(32)&BigInt(4294967295));return K[q++]=ge,ge=ge>>8,K[q++]=ge,ge=ge>>8,K[q++]=ge,ge=ge>>8,K[q++]=ge,q}function we(K,j,q,W,re){U(j,W,re,K,q,7);let pe=Number(j&BigInt(4294967295));K[q+7]=pe,pe=pe>>8,K[q+6]=pe,pe=pe>>8,K[q+5]=pe,pe=pe>>8,K[q+4]=pe;let ge=Number(j>>BigInt(32)&BigInt(4294967295));return K[q+3]=ge,ge=ge>>8,K[q+2]=ge,ge=ge>>8,K[q+1]=ge,ge=ge>>8,K[q]=ge,q+8}d.prototype.writeBigUInt64LE=Qe(function(j,q=0){return Ne(this,j,q,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Qe(function(j,q=0){return we(this,j,q,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(j,q,W,re){if(j=+j,q=q>>>0,!re){const ee=Math.pow(2,8*W-1);Ie(this,j,q,W,ee-1,-ee)}let pe=0,ge=1,qe=0;for(this[q]=j&255;++pe<W&&(ge*=256);)j<0&&qe===0&&this[q+pe-1]!==0&&(qe=1),this[q+pe]=(j/ge>>0)-qe&255;return q+W},d.prototype.writeIntBE=function(j,q,W,re){if(j=+j,q=q>>>0,!re){const ee=Math.pow(2,8*W-1);Ie(this,j,q,W,ee-1,-ee)}let pe=W-1,ge=1,qe=0;for(this[q+pe]=j&255;--pe>=0&&(ge*=256);)j<0&&qe===0&&this[q+pe+1]!==0&&(qe=1),this[q+pe]=(j/ge>>0)-qe&255;return q+W},d.prototype.writeInt8=function(j,q,W){return j=+j,q=q>>>0,W||Ie(this,j,q,1,127,-128),j<0&&(j=255+j+1),this[q]=j&255,q+1},d.prototype.writeInt16LE=function(j,q,W){return j=+j,q=q>>>0,W||Ie(this,j,q,2,32767,-32768),this[q]=j&255,this[q+1]=j>>>8,q+2},d.prototype.writeInt16BE=function(j,q,W){return j=+j,q=q>>>0,W||Ie(this,j,q,2,32767,-32768),this[q]=j>>>8,this[q+1]=j&255,q+2},d.prototype.writeInt32LE=function(j,q,W){return j=+j,q=q>>>0,W||Ie(this,j,q,4,2147483647,-2147483648),this[q]=j&255,this[q+1]=j>>>8,this[q+2]=j>>>16,this[q+3]=j>>>24,q+4},d.prototype.writeInt32BE=function(j,q,W){return j=+j,q=q>>>0,W||Ie(this,j,q,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[q]=j>>>24,this[q+1]=j>>>16,this[q+2]=j>>>8,this[q+3]=j&255,q+4},d.prototype.writeBigInt64LE=Qe(function(j,q=0){return Ne(this,j,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Qe(function(j,q=0){return we(this,j,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ae(K,j,q,W,re,pe){if(q+W>K.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function Se(K,j,q,W,re){return j=+j,q=q>>>0,re||Ae(K,j,q,4),r.write(K,j,q,W,23,4),q+4}d.prototype.writeFloatLE=function(j,q,W){return Se(this,j,q,!0,W)},d.prototype.writeFloatBE=function(j,q,W){return Se(this,j,q,!1,W)};function z(K,j,q,W,re){return j=+j,q=q>>>0,re||Ae(K,j,q,8),r.write(K,j,q,W,52,8),q+8}d.prototype.writeDoubleLE=function(j,q,W){return z(this,j,q,!0,W)},d.prototype.writeDoubleBE=function(j,q,W){return z(this,j,q,!1,W)},d.prototype.copy=function(j,q,W,re){if(!d.isBuffer(j))throw new TypeError("argument should be a Buffer");if(W||(W=0),!re&&re!==0&&(re=this.length),q>=j.length&&(q=j.length),q||(q=0),re>0&&re<W&&(re=W),re===W||j.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),j.length-q<re-W&&(re=j.length-q+W);const pe=re-W;return this===j&&typeof s.prototype.copyWithin=="function"?this.copyWithin(q,W,re):s.prototype.set.call(j,this.subarray(W,re),q),pe},d.prototype.fill=function(j,q,W,re){if(typeof j=="string"){if(typeof q=="string"?(re=q,q=0,W=this.length):typeof W=="string"&&(re=W,W=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!d.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(j.length===1){const ge=j.charCodeAt(0);(re==="utf8"&&ge<128||re==="latin1")&&(j=ge)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(q<0||this.length<q||this.length<W)throw new RangeError("Out of range index");if(W<=q)return this;q=q>>>0,W=W===void 0?this.length:W>>>0,j||(j=0);let pe;if(typeof j=="number")for(pe=q;pe<W;++pe)this[pe]=j;else{const ge=d.isBuffer(j)?j:d.from(j,re),qe=ge.length;if(qe===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(pe=0;pe<W-q;++pe)this[pe+q]=ge[pe%qe]}return this};const M={};function B(K,j,q){M[K]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,this.stack,delete this.name}get code(){return K}set code(re){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:re,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}B("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),B("ERR_INVALID_ARG_TYPE",function(K,j){return`The "${K}" argument must be of type number. Received type ${typeof j}`},TypeError),B("ERR_OUT_OF_RANGE",function(K,j,q){let W=`The value of "${K}" is out of range.`,re=q;return Number.isInteger(q)&&Math.abs(q)>2**32?re=T(String(q)):typeof q=="bigint"&&(re=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(re=T(re)),re+="n"),W+=` It must be ${j}. Received ${re}`,W},RangeError);function T(K){let j="",q=K.length;const W=K[0]==="-"?1:0;for(;q>=W+4;q-=3)j=`_${K.slice(q-3,q)}${j}`;return`${K.slice(0,q)}${j}`}function O(K,j,q){G(j,"offset"),(K[j]===void 0||K[j+q]===void 0)&&Q(j,K.length-(q+1))}function U(K,j,q,W,re,pe){if(K>q||K<j){const ge=typeof j=="bigint"?"n":"";let qe;throw pe>3?j===0||j===BigInt(0)?qe=`>= 0${ge} and < 2${ge} ** ${(pe+1)*8}${ge}`:qe=`>= -(2${ge} ** ${(pe+1)*8-1}${ge}) and < 2 ** ${(pe+1)*8-1}${ge}`:qe=`>= ${j}${ge} and <= ${q}${ge}`,new M.ERR_OUT_OF_RANGE("value",qe,K)}O(W,re,pe)}function G(K,j){if(typeof K!="number")throw new M.ERR_INVALID_ARG_TYPE(j,"number",K)}function Q(K,j,q){throw Math.floor(K)!==K?(G(K,q),new M.ERR_OUT_OF_RANGE(q||"offset","an integer",K)):j<0?new M.ERR_BUFFER_OUT_OF_BOUNDS:new M.ERR_OUT_OF_RANGE(q||"offset",`>= ${q?1:0} and <= ${j}`,K)}const Z=/[^+/0-9A-Za-z-_]/g;function ie(K){if(K=K.split("=")[0],K=K.trim().replace(Z,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function te(K,j){j=j||1/0;let q;const W=K.length;let re=null;const pe=[];for(let ge=0;ge<W;++ge){if(q=K.charCodeAt(ge),q>55295&&q<57344){if(!re){if(q>56319){(j-=3)>-1&&pe.push(239,191,189);continue}else if(ge+1===W){(j-=3)>-1&&pe.push(239,191,189);continue}re=q;continue}if(q<56320){(j-=3)>-1&&pe.push(239,191,189),re=q;continue}q=(re-55296<<10|q-56320)+65536}else re&&(j-=3)>-1&&pe.push(239,191,189);if(re=null,q<128){if((j-=1)<0)break;pe.push(q)}else if(q<2048){if((j-=2)<0)break;pe.push(q>>6|192,q&63|128)}else if(q<65536){if((j-=3)<0)break;pe.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((j-=4)<0)break;pe.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return pe}function he(K){const j=[];for(let q=0;q<K.length;++q)j.push(K.charCodeAt(q)&255);return j}function ce(K,j){let q,W,re;const pe=[];for(let ge=0;ge<K.length&&!((j-=2)<0);++ge)q=K.charCodeAt(ge),W=q>>8,re=q%256,pe.push(re),pe.push(W);return pe}function ve(K){return t.toByteArray(ie(K))}function Ce(K,j,q,W){let re;for(re=0;re<W&&!(re+q>=j.length||re>=K.length);++re)j[re+q]=K[re];return re}function Ee(K,j){return K instanceof j||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===j.name}function Ue(K){return K!==K}const Fe=function(){const K="0123456789abcdef",j=new Array(256);for(let q=0;q<16;++q){const W=q*16;for(let re=0;re<16;++re)j[W+re]=K[q]+K[re]}return j}();function Qe(K){return typeof BigInt>"u"?ke:K}function ke(){throw new Error("BigInt not supported")}})(wN);const Ui=wN.Buffer,jwe=wN.Buffer;function Wt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a)}We.inherits(Wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:We.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const rJ=Wt.prototype,nJ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nJ[e]={value:e}});Object.defineProperties(Wt,nJ);Object.defineProperty(rJ,"isAxiosError",{value:!0});Wt.from=(e,t,r,n,a,s)=>{const o=Object.create(rJ);return We.toFlatObject(e,o,function(l){return l!==Error.prototype},u=>u!=="isAxiosError"),Wt.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const Mwe=null;function hI(e){return We.isPlainObject(e)||We.isArray(e)}function iJ(e){return We.endsWith(e,"[]")?e.slice(0,-2):e}function jL(e,t,r){return e?e.concat(t).map(function(a,s){return a=iJ(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function Fwe(e){return We.isArray(e)&&!e.some(hI)}const qwe=We.toFlatObject(We,{},null,function(t){return/^is[A-Z]/.test(t)});function wS(e,t,r){if(!We.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=We.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,g){return!We.isUndefined(g[y])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&We.isSpecCompliantForm(t);if(!We.isFunction(a))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(We.isDate(m))return m.toISOString();if(!l&&We.isBlob(m))throw new Wt("Blob is not supported. Use a Buffer instead.");return We.isArrayBuffer(m)||We.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Ui.from(m):m}function d(m,y,g){let b=m;if(m&&!g&&typeof m=="object"){if(We.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(We.isArray(m)&&Fwe(m)||(We.isFileList(m)||We.endsWith(y,"[]"))&&(b=We.toArray(m)))return y=iJ(y),b.forEach(function(_,w){!(We.isUndefined(_)||_===null)&&t.append(o===!0?jL([y],w,s):o===null?y:y+"[]",c(_))}),!1}return hI(m)?!0:(t.append(jL(g,y,s),c(m)),!1)}const f=[],h=Object.assign(qwe,{defaultVisitor:d,convertValue:c,isVisitable:hI});function p(m,y){if(!We.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(m),We.forEach(m,function(b,v){(!(We.isUndefined(b)||b===null)&&a.call(t,b,We.isString(v)?v.trim():v,y,h))===!0&&p(b,y?y.concat(v):[v])}),f.pop()}}if(!We.isObject(e))throw new TypeError("data must be an object");return p(e),t}function ML(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function TN(e,t){this._pairs=[],e&&wS(e,this,t)}const aJ=TN.prototype;aJ.append=function(t,r){this._pairs.push([t,r])};aJ.toString=function(t){const r=t?function(n){return t.call(this,n,ML)}:ML;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Bwe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sJ(e,t,r){if(!t)return e;const n=r&&r.encode||Bwe,a=r&&r.serialize;let s;if(a?s=a(t,r):s=We.isURLSearchParams(t)?t.toString():new TN(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class FL{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){We.forEach(this.handlers,function(n){n!==null&&t(n)})}}const oJ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$we=typeof URLSearchParams<"u"?URLSearchParams:TN,Uwe=typeof FormData<"u"?FormData:null,kwe=typeof Blob<"u"?Blob:null,Vwe={isBrowser:!0,classes:{URLSearchParams:$we,FormData:Uwe,Blob:kwe},protocols:["http","https","file","blob","url","data"]},uJ=typeof window<"u"&&typeof document<"u",Hwe=(e=>uJ&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),Qwe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zwe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uJ,hasStandardBrowserEnv:Hwe,hasStandardBrowserWebWorkerEnv:Qwe},Symbol.toStringTag,{value:"Module"})),Fa={...zwe,...Vwe};function Gwe(e,t){return wS(e,new Fa.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,s){return Fa.isNode&&We.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function Wwe(e){return We.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Kwe(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function cJ(e){function t(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const u=Number.isFinite(+o),l=s>=r.length;return o=!o&&We.isArray(a)?a.length:o,l?(We.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!u):((!a[o]||!We.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],s)&&We.isArray(a[o])&&(a[o]=Kwe(a[o])),!u)}if(We.isFormData(e)&&We.isFunction(e.entries)){const r={};return We.forEachEntry(e,(n,a)=>{t(Wwe(n),a,r,0)}),r}return null}function Jwe(e,t,r){if(We.isString(e))try{return(t||JSON.parse)(e),We.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const EN={transitional:oJ,adapter:["xhr","http"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=We.isObject(t);if(s&&We.isHTMLForm(t)&&(t=new FormData(t)),We.isFormData(t))return a?JSON.stringify(cJ(t)):t;if(We.isArrayBuffer(t)||We.isBuffer(t)||We.isStream(t)||We.isFile(t)||We.isBlob(t))return t;if(We.isArrayBufferView(t))return t.buffer;if(We.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Gwe(t,this.formSerializer).toString();if((u=We.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return wS(u?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),Jwe(t)):t}],transformResponse:[function(t){const r=this.transitional||EN.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(t&&We.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(u){if(o)throw u.name==="SyntaxError"?Wt.from(u,Wt.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fa.classes.FormData,Blob:Fa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};We.forEach(["delete","get","head","post","put","patch"],e=>{EN.headers[e]={}});const AN=EN,Xwe=We.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ywe=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&Xwe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},qL=Symbol("internals");function Gd(e){return e&&String(e).trim().toLowerCase()}function xv(e){return e===!1||e==null?e:We.isArray(e)?e.map(xv):String(e)}function Zwe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const eSe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function RT(e,t,r,n,a){if(We.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!We.isString(t)){if(We.isString(n))return t.indexOf(n)!==-1;if(We.isRegExp(n))return n.test(t)}}function tSe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function rSe(e,t){const r=We.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,o){return this[n].call(this,t,a,s,o)},configurable:!0})})}class SS{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(u,l,c){const d=Gd(l);if(!d)throw new Error("header name must be a non-empty string");const f=We.findKey(a,d);(!f||a[f]===void 0||c===!0||c===void 0&&a[f]!==!1)&&(a[f||l]=xv(u))}const o=(u,l)=>We.forEach(u,(c,d)=>s(c,d,l));return We.isPlainObject(t)||t instanceof this.constructor?o(t,r):We.isString(t)&&(t=t.trim())&&!eSe(t)?o(Ywe(t),r):t!=null&&s(r,t,n),this}get(t,r){if(t=Gd(t),t){const n=We.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Zwe(a);if(We.isFunction(r))return r.call(this,a,n);if(We.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Gd(t),t){const n=We.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||RT(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(o){if(o=Gd(o),o){const u=We.findKey(n,o);u&&(!r||RT(n,n[u],u,r))&&(delete n[u],a=!0)}}return We.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||RT(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return We.forEach(this,(a,s)=>{const o=We.findKey(n,s);if(o){r[o]=xv(a),delete r[s];return}const u=t?tSe(s):String(s).trim();u!==s&&delete r[s],r[u]=xv(a),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return We.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&We.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[qL]=this[qL]={accessors:{}}).accessors,a=this.prototype;function s(o){const u=Gd(o);n[u]||(rSe(a,o),n[u]=!0)}return We.isArray(t)?t.forEach(s):s(t),this}}SS.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);We.reduceDescriptors(SS.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});We.freezeMethods(SS);const Fs=SS;function xT(e,t){const r=this||AN,n=t||r,a=Fs.from(n.headers);let s=n.data;return We.forEach(e,function(u){s=u.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function lJ(e){return!!(e&&e.__CANCEL__)}function bb(e,t,r){Wt.call(this,e??"canceled",Wt.ERR_CANCELED,t,r),this.name="CanceledError"}We.inherits(bb,Wt,{__CANCEL__:!0});function nSe(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Wt("Request failed with status code "+r.status,[Wt.ERR_BAD_REQUEST,Wt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const iSe=Fa.hasStandardBrowserEnv?{write(e,t,r,n,a,s){const o=[e+"="+encodeURIComponent(t)];We.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),We.isString(n)&&o.push("path="+n),We.isString(a)&&o.push("domain="+a),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function aSe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function sSe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function dJ(e,t){return e&&!aSe(t)?sSe(e,t):t}const oSe=Fa.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function a(s){let o=s;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=a(window.location.href),function(o){const u=We.isString(o)?a(o):o;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}();function uSe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function cSe(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=n[s];o||(o=c),r[a]=l,n[a]=c;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),c-o<t)return;const p=d&&c-d;return p?Math.round(h*1e3/p):void 0}}function BL(e,t){let r=0;const n=cSe(50,250);return a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,u=s-r,l=n(u),c=s<=o;r=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:u,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:a};d[t?"download":"upload"]=!0,e(d)}}const lSe=typeof XMLHttpRequest<"u",dSe=lSe&&function(e){return new Promise(function(r,n){let a=e.data;const s=Fs.from(e.headers).normalize();let{responseType:o,withXSRFToken:u}=e,l;function c(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}let d;if(We.isFormData(a)){if(Fa.hasStandardBrowserEnv||Fa.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((d=s.getContentType())!==!1){const[y,...g]=d?d.split(";").map(b=>b.trim()).filter(Boolean):[];s.setContentType([y||"multipart/form-data",...g].join("; "))}}let f=new XMLHttpRequest;if(e.auth){const y=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(y+":"+g))}const h=dJ(e.baseURL,e.url);f.open(e.method.toUpperCase(),sJ(h,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function p(){if(!f)return;const y=Fs.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:y,config:e,request:f};nSe(function(_){r(_),c()},function(_){n(_),c()},b),f=null}if("onloadend"in f?f.onloadend=p:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(p)},f.onabort=function(){f&&(n(new Wt("Request aborted",Wt.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Wt("Network Error",Wt.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let g=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const b=e.transitional||oJ;e.timeoutErrorMessage&&(g=e.timeoutErrorMessage),n(new Wt(g,b.clarifyTimeoutError?Wt.ETIMEDOUT:Wt.ECONNABORTED,e,f)),f=null},Fa.hasStandardBrowserEnv&&(u&&We.isFunction(u)&&(u=u(e)),u||u!==!1&&oSe(h))){const y=e.xsrfHeaderName&&e.xsrfCookieName&&iSe.read(e.xsrfCookieName);y&&s.set(e.xsrfHeaderName,y)}a===void 0&&s.setContentType(null),"setRequestHeader"in f&&We.forEach(s.toJSON(),function(g,b){f.setRequestHeader(b,g)}),We.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),o&&o!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",BL(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",BL(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=y=>{f&&(n(!y||y.type?new bb(null,e,f):y),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const m=uSe(h);if(m&&Fa.protocols.indexOf(m)===-1){n(new Wt("Unsupported protocol "+m+":",Wt.ERR_BAD_REQUEST,e));return}f.send(a||null)})},pI={http:Mwe,xhr:dSe};We.forEach(pI,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const $L=e=>`- ${e}`,fSe=e=>We.isFunction(e)||e===null||e===!1,fJ={getAdapter:e=>{e=We.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let s=0;s<t;s++){r=e[s];let o;if(n=r,!fSe(r)&&(n=pI[(o=String(r)).toLowerCase()],n===void 0))throw new Wt(`Unknown adapter '${o}'`);if(n)break;a[o||"#"+s]=n}if(!n){const s=Object.entries(a).map(([u,l])=>`adapter ${u} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map($L).join(`
`):" "+$L(s[0]):"as no adapter specified";throw new Wt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:pI};function IT(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bb(null,e)}function UL(e){return IT(e),e.headers=Fs.from(e.headers),e.data=xT.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),fJ.getAdapter(e.adapter||AN.adapter)(e).then(function(n){return IT(e),n.data=xT.call(e,e.transformResponse,n),n.headers=Fs.from(n.headers),n},function(n){return lJ(n)||(IT(e),n&&n.response&&(n.response.data=xT.call(e,e.transformResponse,n.response),n.response.headers=Fs.from(n.response.headers))),Promise.reject(n)})}const kL=e=>e instanceof Fs?{...e}:e;function Vl(e,t){t=t||{};const r={};function n(c,d,f){return We.isPlainObject(c)&&We.isPlainObject(d)?We.merge.call({caseless:f},c,d):We.isPlainObject(d)?We.merge({},d):We.isArray(d)?d.slice():d}function a(c,d,f){if(We.isUndefined(d)){if(!We.isUndefined(c))return n(void 0,c,f)}else return n(c,d,f)}function s(c,d){if(!We.isUndefined(d))return n(void 0,d)}function o(c,d){if(We.isUndefined(d)){if(!We.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function u(c,d,f){if(f in t)return n(c,d);if(f in e)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:(c,d)=>a(kL(c),kL(d),!0)};return We.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=l[d]||a,h=f(e[d],t[d],d);We.isUndefined(h)&&f!==u||(r[d]=h)}),r}const hJ="1.6.8",ON={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ON[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const VL={};ON.transitional=function(t,r,n){function a(s,o){return"[Axios v"+hJ+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,u)=>{if(t===!1)throw new Wt(a(o," has been removed"+(r?" in "+r:"")),Wt.ERR_DEPRECATED);return r&&!VL[o]&&(VL[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,u):!0}};function hSe(e,t,r){if(typeof e!="object")throw new Wt("options must be an object",Wt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const u=e[s],l=u===void 0||o(u,s,e);if(l!==!0)throw new Wt("option "+s+" must be "+l,Wt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Wt("Unknown option "+s,Wt.ERR_BAD_OPTION)}}const yI={assertOptions:hSe,validators:ON},ao=yI.validators;class yw{constructor(t){this.defaults=t,this.interceptors={request:new FL,response:new FL}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Vl(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&yI.assertOptions(n,{silentJSONParsing:ao.transitional(ao.boolean),forcedJSONParsing:ao.transitional(ao.boolean),clarifyTimeoutError:ao.transitional(ao.boolean)},!1),a!=null&&(We.isFunction(a)?r.paramsSerializer={serialize:a}:yI.assertOptions(a,{encode:ao.function,serialize:ao.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&We.merge(s.common,s[r.method]);s&&We.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=Fs.concat(o,s);const u=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,u.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,f=0,h;if(!l){const m=[UL.bind(this),void 0];for(m.unshift.apply(m,u),m.push.apply(m,c),h=m.length,d=Promise.resolve(r);f<h;)d=d.then(m[f++],m[f++]);return d}h=u.length;let p=r;for(f=0;f<h;){const m=u[f++],y=u[f++];try{p=m(p)}catch(g){y.call(this,g);break}}try{d=UL.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Vl(this.defaults,t);const r=dJ(t.baseURL,t.url);return sJ(r,t.params,t.paramsSerializer)}}We.forEach(["delete","get","head","options"],function(t){yw.prototype[t]=function(r,n){return this.request(Vl(n||{},{method:t,url:r,data:(n||{}).data}))}});We.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,u){return this.request(Vl(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}yw.prototype[t]=r(),yw.prototype[t+"Form"]=r(!0)});const Iv=yw;class RN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(u=>{n.subscribe(u),s=u}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,u){n.reason||(n.reason=new bb(s,o,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new RN(function(a){t=a}),cancel:t}}}const pSe=RN;function ySe(e){return function(r){return e.apply(null,r)}}function mSe(e){return We.isObject(e)&&e.isAxiosError===!0}const mI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mI).forEach(([e,t])=>{mI[t]=e});const gSe=mI;function pJ(e){const t=new Iv(e),r=GK(Iv.prototype.request,t);return We.extend(r,Iv.prototype,t,{allOwnKeys:!0}),We.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return pJ(Vl(e,a))},r}const Zr=pJ(AN);Zr.Axios=Iv;Zr.CanceledError=bb;Zr.CancelToken=pSe;Zr.isCancel=lJ;Zr.VERSION=hJ;Zr.toFormData=wS;Zr.AxiosError=Wt;Zr.Cancel=Zr.CanceledError;Zr.all=function(t){return Promise.all(t)};Zr.spread=ySe;Zr.isAxiosError=mSe;Zr.mergeConfig=Vl;Zr.AxiosHeaders=Fs;Zr.formToJSON=e=>cJ(We.isHTMLForm(e)?new FormData(e):e);Zr.getAdapter=fJ.getAdapter;Zr.HttpStatusCode=gSe;Zr.default=Zr;var xN={},TS={},IN={},vb={},yJ={},ES={},lt={},uc={},wb="delete",Tr=5,Vi=1<<Tr,Jn=Vi-1,zt={};function gI(){return{value:!1}}function Hi(e){e&&(e.value=!0)}function PN(){}function Hl(e){return e.size===void 0&&(e.size=e.__iterate(mJ)),e.size}function Co(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?Hl(e)+t:t}function mJ(){return!0}function Sb(e,t,r){return(e===0&&!_J(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function gd(e,t){return gJ(e,t,0)}function Tb(e,t){return gJ(e,t,t)}function gJ(e,t,r){return e===void 0?r:_J(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function _J(e){return e<0||e===0&&1/e===-1/0}var bJ="@@__IMMUTABLE_ITERABLE__@@";function Nn(e){return!!(e&&e[bJ])}var vJ="@@__IMMUTABLE_KEYED__@@";function hr(e){return!!(e&&e[vJ])}var wJ="@@__IMMUTABLE_INDEXED__@@";function _n(e){return!!(e&&e[wJ])}function _d(e){return hr(e)||_n(e)}var Er=function(t){return Nn(t)?t:Dn(t)},ra=function(e){function t(r){return hr(r)?r:Ho(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Er),Tc=function(e){function t(r){return _n(r)?r:na(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Er),bd=function(e){function t(r){return Nn(r)&&!_d(r)?r:Sd(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Er);Er.Keyed=ra;Er.Indexed=Tc;Er.Set=bd;var SJ="@@__IMMUTABLE_SEQ__@@";function Eb(e){return!!(e&&e[SJ])}var TJ="@@__IMMUTABLE_RECORD__@@";function Vo(e){return!!(e&&e[TJ])}function Ci(e){return Nn(e)||Vo(e)}var vd="@@__IMMUTABLE_ORDERED__@@";function xi(e){return!!(e&&e[vd])}var Ab=0,ma=1,Yi=2,_I=typeof Symbol=="function"&&Symbol.iterator,EJ="@@iterator",AS=_I||EJ,Xt=function(t){this.next=t};Xt.prototype.toString=function(){return"[Iterator]"};Xt.KEYS=Ab;Xt.VALUES=ma;Xt.ENTRIES=Yi;Xt.prototype.inspect=Xt.prototype.toSource=function(){return this.toString()};Xt.prototype[AS]=function(){return this};function Ar(e,t,r,n){var a=e===0?t:e===1?r:[t,r];return n?n.value=a:n={value:a,done:!1},n}function ti(){return{value:void 0,done:!0}}function NN(e){return Array.isArray(e)?!0:!!OS(e)}function HL(e){return e&&typeof e.next=="function"}function bI(e){var t=OS(e);return t&&t.call(e)}function OS(e){var t=e&&(_I&&e[_I]||e[EJ]);if(typeof t=="function")return t}function _Se(e){var t=OS(e);return t&&t===e.entries}function bSe(e){var t=OS(e);return t&&t===e.keys}var wd=Object.prototype.hasOwnProperty;function DN(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var Dn=function(e){function t(r){return r==null?LN():Ci(r)?r.toSeq():wSe(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,a){var s=this._cache;if(s){for(var o=s.length,u=0;u!==o;){var l=s[a?o-++u:u++];if(n(l[1],l[0],this)===!1)break}return u}return this.__iterateUncached(n,a)},t.prototype.__iterator=function(n,a){var s=this._cache;if(s){var o=s.length,u=0;return new Xt(function(){if(u===o)return ti();var l=s[a?o-++u:u++];return Ar(n,l[0],l[1])})}return this.__iteratorUncached(n,a)},t}(Er),Ho=function(e){function t(r){return r==null?LN().toKeyedSeq():Nn(r)?hr(r)?r.toSeq():r.fromEntrySeq():Vo(r)?r.toSeq():jN(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Dn),na=function(e){function t(r){return r==null?LN():Nn(r)?hr(r)?r.entrySeq():r.toIndexedSeq():Vo(r)?r.toSeq().entrySeq():AJ(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Dn),Sd=function(e){function t(r){return(Nn(r)&&!_d(r)?r:na(r)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Dn);Dn.isSeq=Eb;Dn.Keyed=Ho;Dn.Set=Sd;Dn.Indexed=na;Dn.prototype[SJ]=!0;var cc=function(e){function t(r){this._array=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,a){return this.has(n)?this._array[Co(this,n)]:a},t.prototype.__iterate=function(n,a){for(var s=this._array,o=s.length,u=0;u!==o;){var l=a?o-++u:u++;if(n(s[l],l,this)===!1)break}return u},t.prototype.__iterator=function(n,a){var s=this._array,o=s.length,u=0;return new Xt(function(){if(u===o)return ti();var l=a?o-++u:u++;return Ar(n,l,s[l])})},t}(na),CN=function(e){function t(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,a){return a!==void 0&&!this.has(n)?a:this._object[n]},t.prototype.has=function(n){return wd.call(this._object,n)},t.prototype.__iterate=function(n,a){for(var s=this._object,o=this._keys,u=o.length,l=0;l!==u;){var c=o[a?u-++l:l++];if(n(s[c],c,this)===!1)break}return l},t.prototype.__iterator=function(n,a){var s=this._object,o=this._keys,u=o.length,l=0;return new Xt(function(){if(l===u)return ti();var c=o[a?u-++l:l++];return Ar(n,c,s[c])})},t}(Ho);CN.prototype[vd]=!0;var vSe=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,a){if(a)return this.cacheResult().__iterate(n,a);var s=this._collection,o=bI(s),u=0;if(HL(o))for(var l;!(l=o.next()).done&&n(l.value,u++,this)!==!1;);return u},t.prototype.__iteratorUncached=function(n,a){if(a)return this.cacheResult().__iterator(n,a);var s=this._collection,o=bI(s);if(!HL(o))return new Xt(ti);var u=0;return new Xt(function(){var l=o.next();return l.done?l:Ar(n,u++,l.value)})},t}(na),QL;function LN(){return QL||(QL=new cc([]))}function jN(e){var t=MN(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new CN(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function AJ(e){var t=MN(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function wSe(e){var t=MN(e);if(t)return _Se(e)?t.fromEntrySeq():bSe(e)?t.toSetSeq():t;if(typeof e=="object")return new CN(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function MN(e){return DN(e)?new cc(e):NN(e)?new vSe(e):void 0}var OJ="@@__IMMUTABLE_MAP__@@";function Ob(e){return!!(e&&e[OJ])}function RS(e){return Ob(e)&&xi(e)}function mw(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function sn(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(mw(e)&&mw(t)&&e.equals(t))}var Wd=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,a=r&65535;return n*a+((t>>>16)*a+n*(r>>>16)<<16>>>0)|0};function xS(e){return e>>>1&1073741824|e&3221225471}var SSe=Object.prototype.valueOf;function Kn(e){if(e==null)return zL(e);if(typeof e.hashCode=="function")return xS(e.hashCode(e));var t=xSe(e);if(t==null)return zL(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return TSe(t);case"string":return t.length>ISe?ESe(t):vI(t);case"object":case"function":return OSe(t);case"symbol":return ASe(t);default:if(typeof t.toString=="function")return vI(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function zL(e){return e===null?1108378658:1108378659}function TSe(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return xS(t)}function ESe(e){var t=DT[e];return t===void 0&&(t=vI(e),NT===PSe&&(NT=0,DT={}),NT++,DT[e]=t),t}function vI(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return xS(t)}function ASe(e){var t=KL[e];return t!==void 0||(t=RJ(),KL[e]=t),t}function OSe(e){var t;if(wI&&(t=SI.get(e),t!==void 0)||(t=e[Fu],t!==void 0)||!WL&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Fu],t!==void 0||(t=RSe(e),t!==void 0)))return t;if(t=RJ(),wI)SI.set(e,t);else{if(GL!==void 0&&GL(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(WL)Object.defineProperty(e,Fu,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Fu]=t;else if(e.nodeType!==void 0)e[Fu]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var GL=Object.isExtensible,WL=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function RSe(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function xSe(e){return e.valueOf!==SSe&&typeof e.valueOf=="function"?e.valueOf(e):e}function RJ(){var e=++PT;return PT&1073741824&&(PT=0),e}var wI=typeof WeakMap=="function",SI;wI&&(SI=new WeakMap);var KL=Object.create(null),PT=0,Fu="__immutablehash__";typeof Symbol=="function"&&(Fu=Symbol(Fu));var ISe=16,PSe=255,NT=0,DT={},IS=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,a){return this._iter.get(n,a)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,a=FN(this,!0);return this._useKeys||(a.valueSeq=function(){return n._iter.toSeq().reverse()}),a},t.prototype.map=function(n,a){var s=this,o=DJ(this,n,a);return this._useKeys||(o.valueSeq=function(){return s._iter.toSeq().map(n,a)}),o},t.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(o,u){return n(o,u,s)},a)},t.prototype.__iterator=function(n,a){return this._iter.__iterator(n,a)},t}(Ho);IS.prototype[vd]=!0;var xJ=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,a){var s=this,o=0;return a&&Hl(this),this._iter.__iterate(function(u){return n(u,a?s.size-++o:o++,s)},a)},t.prototype.__iterator=function(n,a){var s=this,o=this._iter.__iterator(ma,a),u=0;return a&&Hl(this),new Xt(function(){var l=o.next();return l.done?l:Ar(n,a?s.size-++u:u++,l.value,l)})},t}(na),IJ=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(o){return n(o,o,s)},a)},t.prototype.__iterator=function(n,a){var s=this._iter.__iterator(ma,a);return new Xt(function(){var o=s.next();return o.done?o:Ar(n,o.value,o.value,o)})},t}(Sd),PJ=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(o){if(o){XL(o);var u=Nn(o);return n(u?o.get(1):o[1],u?o.get(0):o[0],s)}},a)},t.prototype.__iterator=function(n,a){var s=this._iter.__iterator(ma,a);return new Xt(function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value;if(u){XL(u);var l=Nn(u);return Ar(n,l?u.get(0):u[0],l?u.get(1):u[1],o)}}})},t}(Ho);xJ.prototype.cacheResult=IS.prototype.cacheResult=IJ.prototype.cacheResult=PJ.prototype.cacheResult=$N;function NJ(e){var t=Ja(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=$N,t.__iterateUncached=function(r,n){var a=this;return e.__iterate(function(s,o){return r(o,s,a)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===Yi){var a=e.__iterator(r,n);return new Xt(function(){var s=a.next();if(!s.done){var o=s.value[0];s.value[0]=s.value[1],s.value[1]=o}return s})}return e.__iterator(r===ma?Ab:ma,n)},t}function DJ(e,t,r){var n=Ja(e);return n.size=e.size,n.has=function(a){return e.has(a)},n.get=function(a,s){var o=e.get(a,zt);return o===zt?s:t.call(r,o,a,e)},n.__iterateUncached=function(a,s){var o=this;return e.__iterate(function(u,l,c){return a(t.call(r,u,l,c),l,o)!==!1},s)},n.__iteratorUncached=function(a,s){var o=e.__iterator(Yi,s);return new Xt(function(){var u=o.next();if(u.done)return u;var l=u.value,c=l[0];return Ar(a,c,t.call(r,l[1],c,e),u)})},n}function FN(e,t){var r=this,n=Ja(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var a=NJ(e);return a.reverse=function(){return e.flip()},a}),n.get=function(a,s){return e.get(t?a:-1-a,s)},n.has=function(a){return e.has(t?a:-1-a)},n.includes=function(a){return e.includes(a)},n.cacheResult=$N,n.__iterate=function(a,s){var o=this,u=0;return s&&Hl(e),e.__iterate(function(l,c){return a(l,t?c:s?o.size-++u:u++,o)},!s)},n.__iterator=function(a,s){var o=0;s&&Hl(e);var u=e.__iterator(Yi,!s);return new Xt(function(){var l=u.next();if(l.done)return l;var c=l.value;return Ar(a,t?c[0]:s?r.size-++o:o++,c[1],l)})},n}function CJ(e,t,r,n){var a=Ja(e);return n&&(a.has=function(s){var o=e.get(s,zt);return o!==zt&&!!t.call(r,o,s,e)},a.get=function(s,o){var u=e.get(s,zt);return u!==zt&&t.call(r,u,s,e)?u:o}),a.__iterateUncached=function(s,o){var u=this,l=0;return e.__iterate(function(c,d,f){if(t.call(r,c,d,f))return l++,s(c,n?d:l-1,u)},o),l},a.__iteratorUncached=function(s,o){var u=e.__iterator(Yi,o),l=0;return new Xt(function(){for(;;){var c=u.next();if(c.done)return c;var d=c.value,f=d[0],h=d[1];if(t.call(r,h,f,e))return Ar(s,n?f:l++,h,c)}})},a}function NSe(e,t,r){var n=zo().asMutable();return e.__iterate(function(a,s){n.update(t.call(r,a,s,e),0,function(o){return o+1})}),n.asImmutable()}function DSe(e,t,r){var n=hr(e),a=(xi(e)?ga():zo()).asMutable();e.__iterate(function(o,u){a.update(t.call(r,o,u,e),function(l){return l=l||[],l.push(n?[u,o]:o),l})});var s=BN(e);return a.map(function(o){return fr(e,s(o))}).asImmutable()}function CSe(e,t,r){var n=hr(e),a=[[],[]];e.__iterate(function(o,u){a[t.call(r,o,u,e)?1:0].push(n?[u,o]:o)});var s=BN(e);return a.map(function(o){return fr(e,s(o))})}function qN(e,t,r,n){var a=e.size;if(Sb(t,r,a))return e;var s=gd(t,a),o=Tb(r,a);if(s!==s||o!==o)return qN(e.toSeq().cacheResult(),t,r,n);var u=o-s,l;u===u&&(l=u<0?0:u);var c=Ja(e);return c.size=l===0?l:e.size&&l||void 0,!n&&Eb(e)&&l>=0&&(c.get=function(d,f){return d=Co(this,d),d>=0&&d<l?e.get(d+s,f):f}),c.__iterateUncached=function(d,f){var h=this;if(l===0)return 0;if(f)return this.cacheResult().__iterate(d,f);var p=0,m=!0,y=0;return e.__iterate(function(g,b){if(!(m&&(m=p++<s)))return y++,d(g,n?b:y-1,h)!==!1&&y!==l}),y},c.__iteratorUncached=function(d,f){if(l!==0&&f)return this.cacheResult().__iterator(d,f);if(l===0)return new Xt(ti);var h=e.__iterator(d,f),p=0,m=0;return new Xt(function(){for(;p++<s;)h.next();if(++m>l)return ti();var y=h.next();return n||d===ma||y.done?y:d===Ab?Ar(d,m-1,void 0,y):Ar(d,m-1,y.value[1],y)})},c}function LSe(e,t,r){var n=Ja(e);return n.__iterateUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterate(a,s);var u=0;return e.__iterate(function(l,c,d){return t.call(r,l,c,d)&&++u&&a(l,c,o)}),u},n.__iteratorUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterator(a,s);var u=e.__iterator(Yi,s),l=!0;return new Xt(function(){if(!l)return ti();var c=u.next();if(c.done)return c;var d=c.value,f=d[0],h=d[1];return t.call(r,h,f,o)?a===Yi?c:Ar(a,f,h,c):(l=!1,ti())})},n}function LJ(e,t,r,n){var a=Ja(e);return a.__iterateUncached=function(s,o){var u=this;if(o)return this.cacheResult().__iterate(s,o);var l=!0,c=0;return e.__iterate(function(d,f,h){if(!(l&&(l=t.call(r,d,f,h))))return c++,s(d,n?f:c-1,u)}),c},a.__iteratorUncached=function(s,o){var u=this;if(o)return this.cacheResult().__iterator(s,o);var l=e.__iterator(Yi,o),c=!0,d=0;return new Xt(function(){var f,h,p;do{if(f=l.next(),f.done)return n||s===ma?f:s===Ab?Ar(s,d++,void 0,f):Ar(s,d++,f.value[1],f);var m=f.value;h=m[0],p=m[1],c&&(c=t.call(r,p,h,u))}while(c);return s===Yi?f:Ar(s,h,p,f)})},a}function jSe(e,t){var r=hr(e),n=[e].concat(t).map(function(o){return Nn(o)?r&&(o=ra(o)):o=r?jN(o):AJ(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return e;if(n.length===1){var a=n[0];if(a===e||r&&hr(a)||_n(e)&&_n(a))return a}var s=new cc(n);return r?s=s.toKeyedSeq():_n(e)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=n.reduce(function(o,u){if(o!==void 0){var l=u.size;if(l!==void 0)return o+l}},0),s}function jJ(e,t,r){var n=Ja(e);return n.__iterateUncached=function(a,s){if(s)return this.cacheResult().__iterate(a,s);var o=0,u=!1;function l(c,d){c.__iterate(function(f,h){return(!t||d<t)&&Nn(f)?l(f,d+1):(o++,a(f,r?h:o-1,n)===!1&&(u=!0)),!u},s)}return l(e,0),o},n.__iteratorUncached=function(a,s){if(s)return this.cacheResult().__iterator(a,s);var o=e.__iterator(a,s),u=[],l=0;return new Xt(function(){for(;o;){var c=o.next();if(c.done!==!1){o=u.pop();continue}var d=c.value;if(a===Yi&&(d=d[1]),(!t||u.length<t)&&Nn(d))u.push(o),o=d.__iterator(a,s);else return r?c:Ar(a,l++,d,c)}return ti()})},n}function MSe(e,t,r){var n=BN(e);return e.toSeq().map(function(a,s){return n(t.call(r,a,s,e))}).flatten(!0)}function FSe(e,t){var r=Ja(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,a){var s=this,o=0;return e.__iterate(function(u){return(!o||n(t,o++,s)!==!1)&&n(u,o++,s)!==!1},a),o},r.__iteratorUncached=function(n,a){var s=e.__iterator(ma,a),o=0,u;return new Xt(function(){return(!u||o%2)&&(u=s.next(),u.done)?u:o%2?Ar(n,o++,t):Ar(n,o++,u.value,u)})},r}function Ql(e,t,r){t||(t=MJ);var n=hr(e),a=0,s=e.toSeq().map(function(o,u){return[u,o,a++,r?r(o,u,e):o]}).valueSeq().toArray();return s.sort(function(o,u){return t(o[3],u[3])||o[2]-u[2]}).forEach(n?function(o,u){s[u].length=2}:function(o,u){s[u]=o[1]}),n?Ho(s):_n(e)?na(s):Sd(s)}function M1(e,t,r){if(t||(t=MJ),r){var n=e.toSeq().map(function(a,s){return[a,r(a,s,e)]}).reduce(function(a,s){return JL(t,a[1],s[1])?s:a});return n&&n[0]}return e.reduce(function(a,s){return JL(t,a,s)?s:a})}function JL(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function F1(e,t,r,n){var a=Ja(e),s=new cc(r).map(function(o){return o.size});return a.size=n?s.max():s.min(),a.__iterate=function(o,u){for(var l=this.__iterator(ma,u),c,d=0;!(c=l.next()).done&&o(c.value,d++,this)!==!1;);return d},a.__iteratorUncached=function(o,u){var l=r.map(function(f){return f=Er(f),bI(u?f.reverse():f)}),c=0,d=!1;return new Xt(function(){var f;return d||(f=l.map(function(h){return h.next()}),d=n?f.every(function(h){return h.done}):f.some(function(h){return h.done})),d?ti():Ar(o,c++,t.apply(null,f.map(function(h){return h.value})))})},a}function fr(e,t){return e===t?e:Eb(e)?t:e.constructor(t)}function XL(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function BN(e){return hr(e)?ra:_n(e)?Tc:bd}function Ja(e){return Object.create((hr(e)?Ho:_n(e)?na:Sd).prototype)}function $N(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Dn.prototype.cacheResult.call(this)}function MJ(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function Ma(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),a=0;a<r;a++)n[a]=e[a+t];return n}function UN(e,t){if(!e)throw new Error(t)}function Oi(e){UN(e!==1/0,"Cannot perform this action with an infinite size.")}function FJ(e){if(DN(e)&&typeof e!="string")return e;if(xi(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var qSe=Object.prototype.toString;function PS(e){if(!e||typeof e!="object"||qSe.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t,n=Object.getPrototypeOf(t);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===t}function Lo(e){return typeof e=="object"&&(Ci(e)||Array.isArray(e)||PS(e))}function M_(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function kN(e,t){return Ci(e)?e.has(t):Lo(e)&&wd.call(e,t)}function NS(e,t,r){return Ci(e)?e.get(t,r):kN(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function gw(e){if(Array.isArray(e))return Ma(e);var t={};for(var r in e)wd.call(e,r)&&(t[r]=e[r]);return t}function VN(e,t){if(!Lo(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Ci(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!wd.call(e,t))return e;var r=gw(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function HN(e,t,r){if(!Lo(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Ci(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(wd.call(e,t)&&r===e[t])return e;var n=gw(e);return n[t]=r,n}function Qo(e,t,r,n){n||(n=r,r=void 0);var a=qJ(Ci(e),e,FJ(t),0,r,n);return a===zt?r:a}function qJ(e,t,r,n,a,s){var o=t===zt;if(n===r.length){var u=o?a:t,l=s(u);return l===u?t:l}if(!o&&!Lo(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(M_)+"]: "+t);var c=r[n],d=o?zt:NS(t,c,zt),f=qJ(d===zt?e:Ci(d),d,r,n+1,a,s);return f===d?t:f===zt?VN(t,c):HN(o?e?ha():{}:t,c,f)}function QN(e,t,r){return Qo(e,t,zt,function(){return r})}function zN(e,t){return QN(this,e,t)}function GN(e,t){return Qo(e,t,function(){return zt})}function WN(e){return GN(this,e)}function DS(e,t,r,n){return Qo(e,[t],r,n)}function KN(e,t,r){return arguments.length===1?e(this):DS(this,e,t,r)}function JN(e,t,r){return Qo(this,e,t,r)}function BJ(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return UJ(this,e)}function $J(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return UJ(this,t,e)}function UJ(e,t,r){for(var n=[],a=0;a<t.length;a++){var s=ra(t[a]);s.size!==0&&n.push(s)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(o){for(var u=r?function(c,d){DS(o,d,zt,function(f){return f===zt?c:r(f,c,d)})}:function(c,d){o.set(d,c)},l=0;l<n.length;l++)n[l].forEach(u)})}function kJ(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return xb(e,t)}function VJ(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return xb(t,r,e)}function HJ(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Rb(e,t)}function QJ(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Rb(t,r,e)}function Rb(e,t,r){return xb(e,t,BSe(r))}function xb(e,t,r){if(!Lo(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Ci(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),a=e,s=n?Tc:ra,o=n?function(l){a===e&&(a=gw(a)),a.push(l)}:function(l,c){var d=wd.call(a,c),f=d&&r?r(a[c],l,c):l;(!d||f!==a[c])&&(a===e&&(a=gw(a)),a[c]=f)},u=0;u<t.length;u++)s(t[u]).forEach(o);return a}function BSe(e){function t(r,n,a){return Lo(r)&&Lo(n)&&$Se(r,n)?xb(r,[n],t):e?e(r,n,a):n}return t}function $Se(e,t){var r=Dn(e),n=Dn(t);return _n(r)===_n(n)&&hr(r)===hr(n)}function zJ(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Rb(this,e)}function GJ(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Rb(this,t,e)}function XN(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Qo(this,e,ha(),function(n){return xb(n,t)})}function YN(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Qo(this,e,ha(),function(n){return Rb(n,t)})}function Ib(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Pb(){return this.__ownerID?this:this.__ensureOwner(new PN)}function Nb(){return this.__ensureOwner()}function ZN(){return this.__altered}var zo=function(e){function t(r){return r==null?ha():Ob(r)&&!xi(r)?r:ha().withMutations(function(n){var a=e(r);Oi(a.size),a.forEach(function(s,o){return n.set(o,s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return ha().withMutations(function(s){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);s.set(n[o],n[o+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,a){return this._root?this._root.get(0,void 0,n,a):a},t.prototype.set=function(n,a){return ej(this,n,a)},t.prototype.remove=function(n){return ej(this,n,zt)},t.prototype.deleteAll=function(n){var a=Er(n);return a.size===0?this:this.withMutations(function(s){a.forEach(function(o){return s.remove(o)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ha()},t.prototype.sort=function(n){return ga(Ql(this,n))},t.prototype.sortBy=function(n,a){return ga(Ql(this,a,n))},t.prototype.map=function(n,a){var s=this;return this.withMutations(function(o){o.forEach(function(u,l){o.set(l,n.call(a,u,l,s))})})},t.prototype.__iterator=function(n,a){return new USe(this,n,a)},t.prototype.__iterate=function(n,a){var s=this,o=0;return this._root&&this._root.iterate(function(u){return o++,n(u[1],u[0],s)},a),o},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?eD(this.size,this._root,n,this.__hash):this.size===0?ha():(this.__ownerID=n,this.__altered=!1,this)},t}(ra);zo.isMap=Ob;var Rr=zo.prototype;Rr[OJ]=!0;Rr[wb]=Rr.remove;Rr.removeAll=Rr.deleteAll;Rr.setIn=zN;Rr.removeIn=Rr.deleteIn=WN;Rr.update=KN;Rr.updateIn=JN;Rr.merge=Rr.concat=BJ;Rr.mergeWith=$J;Rr.mergeDeep=zJ;Rr.mergeDeepWith=GJ;Rr.mergeIn=XN;Rr.mergeDeepIn=YN;Rr.withMutations=Ib;Rr.wasAltered=ZN;Rr.asImmutable=Nb;Rr["@@transducer/init"]=Rr.asMutable=Pb;Rr["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};Rr["@@transducer/result"]=function(e){return e.asImmutable()};var F_=function(t,r){this.ownerID=t,this.entries=r};F_.prototype.get=function(t,r,n,a){for(var s=this.entries,o=0,u=s.length;o<u;o++)if(sn(n,s[o][0]))return s[o][1];return a};F_.prototype.update=function(t,r,n,a,s,o,u){for(var l=s===zt,c=this.entries,d=0,f=c.length;d<f&&!sn(a,c[d][0]);d++);var h=d<f;if(h?c[d][1]===s:l)return this;if(Hi(u),(l||!h)&&Hi(o),!(l&&c.length===1)){if(!h&&!l&&c.length>=GSe)return kSe(t,c,a,s);var p=t&&t===this.ownerID,m=p?c:Ma(c);return h?l?d===f-1?m.pop():m[d]=m.pop():m[d]=[a,s]:m.push([a,s]),p?(this.entries=m,this):new F_(t,m)}};var zl=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};zl.prototype.get=function(t,r,n,a){r===void 0&&(r=Kn(n));var s=1<<((t===0?r:r>>>t)&Jn),o=this.bitmap;return o&s?this.nodes[WJ(o&s-1)].get(t+Tr,r,n,a):a};zl.prototype.update=function(t,r,n,a,s,o,u){n===void 0&&(n=Kn(a));var l=(r===0?n:n>>>r)&Jn,c=1<<l,d=this.bitmap,f=(d&c)!==0;if(!f&&s===zt)return this;var h=WJ(d&c-1),p=this.nodes,m=f?p[h]:void 0,y=tD(m,t,r+Tr,n,a,s,o,u);if(y===m)return this;if(!f&&y&&p.length>=WSe)return HSe(t,p,d,l,y);if(f&&!y&&p.length===2&&tj(p[h^1]))return p[h^1];if(f&&y&&p.length===1&&tj(y))return y;var g=t&&t===this.ownerID,b=f?y?d:d^c:d|c,v=f?y?KJ(p,h,y,g):zSe(p,h,g):QSe(p,h,y,g);return g?(this.bitmap=b,this.nodes=v,this):new zl(t,b,v)};var q_=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};q_.prototype.get=function(t,r,n,a){r===void 0&&(r=Kn(n));var s=(t===0?r:r>>>t)&Jn,o=this.nodes[s];return o?o.get(t+Tr,r,n,a):a};q_.prototype.update=function(t,r,n,a,s,o,u){n===void 0&&(n=Kn(a));var l=(r===0?n:n>>>r)&Jn,c=s===zt,d=this.nodes,f=d[l];if(c&&!f)return this;var h=tD(f,t,r+Tr,n,a,s,o,u);if(h===f)return this;var p=this.count;if(!f)p++;else if(!h&&(p--,p<KSe))return VSe(t,d,p,l);var m=t&&t===this.ownerID,y=KJ(d,l,h,m);return m?(this.count=p,this.nodes=y,this):new q_(t,p,y)};var Gl=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};Gl.prototype.get=function(t,r,n,a){for(var s=this.entries,o=0,u=s.length;o<u;o++)if(sn(n,s[o][0]))return s[o][1];return a};Gl.prototype.update=function(t,r,n,a,s,o,u){n===void 0&&(n=Kn(a));var l=s===zt;if(n!==this.keyHash)return l?this:(Hi(u),Hi(o),rD(this,t,r,n,[a,s]));for(var c=this.entries,d=0,f=c.length;d<f&&!sn(a,c[d][0]);d++);var h=d<f;if(h?c[d][1]===s:l)return this;if(Hi(u),(l||!h)&&Hi(o),l&&f===2)return new Hs(t,this.keyHash,c[d^1]);var p=t&&t===this.ownerID,m=p?c:Ma(c);return h?l?d===f-1?m.pop():m[d]=m.pop():m[d]=[a,s]:m.push([a,s]),p?(this.entries=m,this):new Gl(t,this.keyHash,m)};var Hs=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};Hs.prototype.get=function(t,r,n,a){return sn(n,this.entry[0])?this.entry[1]:a};Hs.prototype.update=function(t,r,n,a,s,o,u){var l=s===zt,c=sn(a,this.entry[0]);if(c?s===this.entry[1]:l)return this;if(Hi(u),l){Hi(o);return}return c?t&&t===this.ownerID?(this.entry[1]=s,this):new Hs(t,this.keyHash,[a,s]):(Hi(o),rD(this,t,r,Kn(a),[a,s]))};F_.prototype.iterate=Gl.prototype.iterate=function(e,t){for(var r=this.entries,n=0,a=r.length-1;n<=a;n++)if(e(r[t?a-n:n])===!1)return!1};zl.prototype.iterate=q_.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,a=r.length-1;n<=a;n++){var s=r[t?a-n:n];if(s&&s.iterate(e,t)===!1)return!1}};Hs.prototype.iterate=function(e,t){return e(this.entry)};var USe=function(e){function t(r,n,a){this._type=n,this._reverse=a,this._stack=r._root&&YL(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this._type,a=this._stack;a;){var s=a.node,o=a.index++,u=void 0;if(s.entry){if(o===0)return CT(n,s.entry)}else if(s.entries){if(u=s.entries.length-1,o<=u)return CT(n,s.entries[this._reverse?u-o:o])}else if(u=s.nodes.length-1,o<=u){var l=s.nodes[this._reverse?u-o:o];if(l){if(l.entry)return CT(n,l.entry);a=this._stack=YL(l,a)}continue}a=this._stack=this._stack.__prev}return ti()},t}(Xt);function CT(e,t){return Ar(e,t[0],t[1])}function YL(e,t){return{node:e,index:0,__prev:t}}function eD(e,t,r,n){var a=Object.create(Rr);return a.size=e,a._root=t,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var ZL;function ha(){return ZL||(ZL=eD(0))}function ej(e,t,r){var n,a;if(e._root){var s=gI(),o=gI();if(n=tD(e._root,e.__ownerID,0,void 0,t,r,s,o),!o.value)return e;a=e.size+(s.value?r===zt?-1:1:0)}else{if(r===zt)return e;a=1,n=new F_(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=a,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?eD(a,n):ha()}function tD(e,t,r,n,a,s,o,u){return e?e.update(t,r,n,a,s,o,u):s===zt?e:(Hi(u),Hi(o),new Hs(t,n,[a,s]))}function tj(e){return e.constructor===Hs||e.constructor===Gl}function rD(e,t,r,n,a){if(e.keyHash===n)return new Gl(t,n,[e.entry,a]);var s=(r===0?e.keyHash:e.keyHash>>>r)&Jn,o=(r===0?n:n>>>r)&Jn,u,l=s===o?[rD(e,t,r+Tr,n,a)]:(u=new Hs(t,n,a),s<o?[e,u]:[u,e]);return new zl(t,1<<s|1<<o,l)}function kSe(e,t,r,n){e||(e=new PN);for(var a=new Hs(e,Kn(r),[r,n]),s=0;s<t.length;s++){var o=t[s];a=a.update(e,0,void 0,o[0],o[1])}return a}function VSe(e,t,r,n){for(var a=0,s=0,o=new Array(r),u=0,l=1,c=t.length;u<c;u++,l<<=1){var d=t[u];d!==void 0&&u!==n&&(a|=l,o[s++]=d)}return new zl(e,a,o)}function HSe(e,t,r,n,a){for(var s=0,o=new Array(Vi),u=0;r!==0;u++,r>>>=1)o[u]=r&1?t[s++]:void 0;return o[n]=a,new q_(e,s+1,o)}function WJ(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function KJ(e,t,r,n){var a=n?e:Ma(e);return a[t]=r,a}function QSe(e,t,r,n){var a=e.length+1;if(n&&t+1===a)return e[t]=r,e;for(var s=new Array(a),o=0,u=0;u<a;u++)u===t?(s[u]=r,o=-1):s[u]=e[u+o];return s}function zSe(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var a=new Array(n),s=0,o=0;o<n;o++)o===t&&(s=1),a[o]=e[o+s];return a}var GSe=Vi/4,WSe=Vi/2,KSe=Vi/4,JJ="@@__IMMUTABLE_LIST__@@";function CS(e){return!!(e&&e[JJ])}var Td=function(e){function t(r){var n=Pv();if(r==null)return n;if(CS(r))return r;var a=e(r),s=a.size;return s===0?n:(Oi(s),s>0&&s<Vi?B_(0,s,Tr,null,new Ao(a.toArray())):n.withMutations(function(o){o.setSize(s),a.forEach(function(u,l){return o.set(l,u)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,a){if(n=Co(this,n),n>=0&&n<this.size){n+=this._origin;var s=XJ(this,n);return s&&s.array[n&Jn]}return a},t.prototype.set=function(n,a){return JSe(this,n,a)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,a){return this.splice(n,0,a)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Tr,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Pv()},t.prototype.push=function(){var n=arguments,a=this.size;return this.withMutations(function(s){vo(s,0,a+n.length);for(var o=0;o<n.length;o++)s.set(a+o,n[o])})},t.prototype.pop=function(){return vo(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(a){vo(a,-n.length);for(var s=0;s<n.length;s++)a.set(s,n[s])})},t.prototype.shift=function(){return vo(this,1)},t.prototype.concat=function(){for(var n=arguments,a=[],s=0;s<arguments.length;s++){var o=n[s],u=e(typeof o!="string"&&NN(o)?o:[o]);u.size!==0&&a.push(u)}return a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(l){a.forEach(function(c){return c.forEach(function(d){return l.push(d)})})})},t.prototype.setSize=function(n){return vo(this,0,n)},t.prototype.map=function(n,a){var s=this;return this.withMutations(function(o){for(var u=0;u<s.size;u++)o.set(u,n.call(a,o.get(u),u,s))})},t.prototype.slice=function(n,a){var s=this.size;return Sb(n,a,s)?this:vo(this,gd(n,s),Tb(a,s))},t.prototype.__iterator=function(n,a){var s=a?this.size:0,o=rj(this,a);return new Xt(function(){var u=o();return u===v_?ti():Ar(n,a?--s:s++,u)})},t.prototype.__iterate=function(n,a){for(var s=a?this.size:0,o=rj(this,a),u;(u=o())!==v_&&n(u,a?--s:s++,this)!==!1;);return s},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?B_(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?Pv():(this.__ownerID=n,this.__altered=!1,this)},t}(Tc);Td.isList=CS;var en=Td.prototype;en[JJ]=!0;en[wb]=en.remove;en.merge=en.concat;en.setIn=zN;en.deleteIn=en.removeIn=WN;en.update=KN;en.updateIn=JN;en.mergeIn=XN;en.mergeDeepIn=YN;en.withMutations=Ib;en.wasAltered=ZN;en.asImmutable=Nb;en["@@transducer/init"]=en.asMutable=Pb;en["@@transducer/step"]=function(e,t){return e.push(t)};en["@@transducer/result"]=function(e){return e.asImmutable()};var Ao=function(t,r){this.array=t,this.ownerID=r};Ao.prototype.removeBefore=function(t,r,n){if(n===r?1<<r:this.array.length===0)return this;var a=n>>>r&Jn;if(a>=this.array.length)return new Ao([],t);var s=a===0,o;if(r>0){var u=this.array[a];if(o=u&&u.removeBefore(t,r-Tr,n),o===u&&s)return this}if(s&&!o)return this;var l=Wl(this,t);if(!s)for(var c=0;c<a;c++)l.array[c]=void 0;return o&&(l.array[a]=o),l};Ao.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var a=n-1>>>r&Jn;if(a>=this.array.length)return this;var s;if(r>0){var o=this.array[a];if(s=o&&o.removeAfter(t,r-Tr,n),s===o&&a===this.array.length-1)return this}var u=Wl(this,t);return u.array.splice(a+1),s&&(u.array[a]=s),u};var v_={};function rj(e,t){var r=e._origin,n=e._capacity,a=$_(n),s=e._tail;return o(e._root,e._level,0);function o(c,d,f){return d===0?u(c,f):l(c,d,f)}function u(c,d){var f=d===a?s&&s.array:c&&c.array,h=d>r?0:r-d,p=n-d;return p>Vi&&(p=Vi),function(){if(h===p)return v_;var m=t?--p:h++;return f&&f[m]}}function l(c,d,f){var h,p=c&&c.array,m=f>r?0:r-f>>d,y=(n-f>>d)+1;return y>Vi&&(y=Vi),function(){for(;;){if(h){var g=h();if(g!==v_)return g;h=null}if(m===y)return v_;var b=t?--y:m++;h=o(p&&p[b],d-Tr,f+(b<<d))}}}}function B_(e,t,r,n,a,s,o){var u=Object.create(en);return u.size=t-e,u._origin=e,u._capacity=t,u._level=r,u._root=n,u._tail=a,u.__ownerID=s,u.__hash=o,u.__altered=!1,u}var nj;function Pv(){return nj||(nj=B_(0,0,Tr))}function JSe(e,t,r){if(t=Co(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(o){t<0?vo(o,t).set(0,r):vo(o,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,a=e._root,s=gI();return t>=$_(e._capacity)?n=TI(n,e.__ownerID,0,t,r,s):a=TI(a,e.__ownerID,e._level,t,r,s),s.value?e.__ownerID?(e._root=a,e._tail=n,e.__hash=void 0,e.__altered=!0,e):B_(e._origin,e._capacity,e._level,a,n):e}function TI(e,t,r,n,a,s){var o=n>>>r&Jn,u=e&&o<e.array.length;if(!u&&a===void 0)return e;var l;if(r>0){var c=e&&e.array[o],d=TI(c,t,r-Tr,n,a,s);return d===c?e:(l=Wl(e,t),l.array[o]=d,l)}return u&&e.array[o]===a?e:(s&&Hi(s),l=Wl(e,t),a===void 0&&o===l.array.length-1?l.array.pop():l.array[o]=a,l)}function Wl(e,t){return t&&e&&t===e.ownerID?e:new Ao(e?e.array.slice():[],t)}function XJ(e,t){if(t>=$_(e._capacity))return e._tail;if(t<1<<e._level+Tr){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Jn],n-=Tr;return r}}function vo(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new PN,a=e._origin,s=e._capacity,o=a+t,u=r===void 0?s:r<0?s+r:a+r;if(o===a&&u===s)return e;if(o>=u)return e.clear();for(var l=e._level,c=e._root,d=0;o+d<0;)c=new Ao(c&&c.array.length?[void 0,c]:[],n),l+=Tr,d+=1<<l;d&&(o+=d,a+=d,u+=d,s+=d);for(var f=$_(s),h=$_(u);h>=1<<l+Tr;)c=new Ao(c&&c.array.length?[c]:[],n),l+=Tr;var p=e._tail,m=h<f?XJ(e,u-1):h>f?new Ao([],n):p;if(p&&h>f&&o<s&&p.array.length){c=Wl(c,n);for(var y=c,g=l;g>Tr;g-=Tr){var b=f>>>g&Jn;y=y.array[b]=Wl(y.array[b],n)}y.array[f>>>Tr&Jn]=p}if(u<s&&(m=m&&m.removeAfter(n,0,u)),o>=h)o-=h,u-=h,l=Tr,c=null,m=m&&m.removeBefore(n,0,o);else if(o>a||h<f){for(d=0;c;){var v=o>>>l&Jn;if(v!==h>>>l&Jn)break;v&&(d+=(1<<l)*v),l-=Tr,c=c.array[v]}c&&o>a&&(c=c.removeBefore(n,l,o-d)),c&&h<f&&(c=c.removeAfter(n,l,h-d)),d&&(o-=d,u-=d)}return e.__ownerID?(e.size=u-o,e._origin=o,e._capacity=u,e._level=l,e._root=c,e._tail=m,e.__hash=void 0,e.__altered=!0,e):B_(o,u,l,c,m)}function $_(e){return e<Vi?0:e-1>>>Tr<<Tr}var ga=function(e){function t(r){return r==null?zg():RS(r)?r:zg().withMutations(function(n){var a=ra(r);Oi(a.size),a.forEach(function(s,o){return n.set(o,s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,a){var s=this._map.get(n);return s!==void 0?this._list.get(s)[1]:a},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):zg()},t.prototype.set=function(n,a){return aj(this,n,a)},t.prototype.remove=function(n){return aj(this,n,zt)},t.prototype.__iterate=function(n,a){var s=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],s)},a)},t.prototype.__iterator=function(n,a){return this._list.fromEntrySeq().__iterator(n,a)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n),s=this._list.__ensureOwner(n);return n?nD(a,s,n,this.__hash):this.size===0?zg():(this.__ownerID=n,this.__altered=!1,this._map=a,this._list=s,this)},t}(zo);ga.isOrderedMap=RS;ga.prototype[vd]=!0;ga.prototype[wb]=ga.prototype.remove;function nD(e,t,r,n){var a=Object.create(ga.prototype);return a.size=e?e.size:0,a._map=e,a._list=t,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var ij;function zg(){return ij||(ij=nD(ha(),Pv()))}function aj(e,t,r){var n=e._map,a=e._list,s=n.get(t),o=s!==void 0,u,l;if(r===zt){if(!o)return e;a.size>=Vi&&a.size>=n.size*2?(l=a.filter(function(c,d){return c!==void 0&&s!==d}),u=l.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),e.__ownerID&&(u.__ownerID=l.__ownerID=e.__ownerID)):(u=n.remove(t),l=s===a.size-1?a.pop():a.set(s,void 0))}else if(o){if(r===a.get(s)[1])return e;u=n,l=a.set(s,[t,r])}else u=n.set(t,a.size),l=a.set(a.size,[t,r]);return e.__ownerID?(e.size=u.size,e._map=u,e._list=l,e.__hash=void 0,e.__altered=!0,e):nD(u,l)}var YJ="@@__IMMUTABLE_STACK__@@";function U_(e){return!!(e&&e[YJ])}var Db=function(e){function t(r){return r==null?q1():U_(r)?r:q1().pushAll(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,a){var s=this._head;for(n=Co(this,n);s&&n--;)s=s.next;return s?s.value:a},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var a=this.size+arguments.length,s=this._head,o=arguments.length-1;o>=0;o--)s={value:n[o],next:s};return this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):Gg(a,s)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&U_(n))return n;Oi(n.size);var a=this.size,s=this._head;return n.__iterate(function(o){a++,s={value:o,next:s}},!0),this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):Gg(a,s)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):q1()},t.prototype.slice=function(n,a){if(Sb(n,a,this.size))return this;var s=gd(n,this.size),o=Tb(a,this.size);if(o!==this.size)return e.prototype.slice.call(this,n,a);for(var u=this.size-s,l=this._head;s--;)l=l.next;return this.__ownerID?(this.size=u,this._head=l,this.__hash=void 0,this.__altered=!0,this):Gg(u,l)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Gg(this.size,this._head,n,this.__hash):this.size===0?q1():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,a){var s=this;if(a)return new cc(this.toArray()).__iterate(function(l,c){return n(l,c,s)},a);for(var o=0,u=this._head;u&&n(u.value,o++,this)!==!1;)u=u.next;return o},t.prototype.__iterator=function(n,a){if(a)return new cc(this.toArray()).__iterator(n,a);var s=0,o=this._head;return new Xt(function(){if(o){var u=o.value;return o=o.next,Ar(n,s++,u)}return ti()})},t}(Tc);Db.isStack=U_;var ri=Db.prototype;ri[YJ]=!0;ri.shift=ri.pop;ri.unshift=ri.push;ri.unshiftAll=ri.pushAll;ri.withMutations=Ib;ri.wasAltered=ZN;ri.asImmutable=Nb;ri["@@transducer/init"]=ri.asMutable=Pb;ri["@@transducer/step"]=function(e,t){return e.unshift(t)};ri["@@transducer/result"]=function(e){return e.asImmutable()};function Gg(e,t,r,n){var a=Object.create(ri);return a.size=e,a._head=t,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var sj;function q1(){return sj||(sj=Gg(0))}var ZJ="@@__IMMUTABLE_SET__@@";function Cb(e){return!!(e&&e[ZJ])}function LS(e){return Cb(e)&&xi(e)}function iD(e,t){if(e===t)return!0;if(!Nn(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||hr(e)!==hr(t)||_n(e)!==_n(t)||xi(e)!==xi(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!_d(e);if(xi(e)){var n=e.entries();return t.every(function(l,c){var d=n.next().value;return d&&sn(d[1],l)&&(r||sn(d[0],c))})&&n.next().done}var a=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{a=!0;var s=e;e=t,t=s}var o=!0,u=t.__iterate(function(l,c){if(r?!e.has(l):a?!sn(l,e.get(c,zt)):!sn(e.get(c,zt),l))return o=!1,!1});return o&&e.size===u}function Ec(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function _w(e){if(!e||typeof e!="object")return e;if(!Nn(e)){if(!Lo(e))return e;e=Dn(e)}if(hr(e)){var t={};return e.__iterate(function(n,a){t[a]=_w(n)}),t}var r=[];return e.__iterate(function(n){r.push(_w(n))}),r}var Ed=function(e){function t(r){return r==null?Wg():Cb(r)&&!xi(r)?r:Wg().withMutations(function(n){var a=e(r);Oi(a.size),a.forEach(function(s){return n.add(s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(ra(n).keySeq())},t.intersect=function(n){return n=Er(n).toArray(),n.length?bn.intersect.apply(t(n.pop()),n):Wg()},t.union=function(n){return n=Er(n).toArray(),n.length?bn.union.apply(t(n.pop()),n):Wg()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return B1(this,this._map.set(n,n))},t.prototype.remove=function(n){return B1(this,this._map.remove(n))},t.prototype.clear=function(){return B1(this,this._map.clear())},t.prototype.map=function(n,a){var s=this,o=!1,u=B1(this,this._map.mapEntries(function(l){var c=l[1],d=n.call(a,c,c,s);return d!==c&&(o=!0),[d,d]},a));return o?u:this},t.prototype.union=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return n=n.filter(function(s){return s.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(s){for(var o=0;o<n.length;o++)typeof n[o]=="string"?s.add(n[o]):e(n[o]).forEach(function(u){return s.add(u)})})},t.prototype.intersect=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(o){return e(o)});var s=[];return this.forEach(function(o){n.every(function(u){return u.includes(o)})||s.push(o)}),this.withMutations(function(o){s.forEach(function(u){o.remove(u)})})},t.prototype.subtract=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(o){return e(o)});var s=[];return this.forEach(function(o){n.some(function(u){return u.includes(o)})&&s.push(o)}),this.withMutations(function(o){s.forEach(function(u){o.remove(u)})})},t.prototype.sort=function(n){return lc(Ql(this,n))},t.prototype.sortBy=function(n,a){return lc(Ql(this,a,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,a){var s=this;return this._map.__iterate(function(o){return n(o,o,s)},a)},t.prototype.__iterator=function(n,a){return this._map.__iterator(n,a)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n);return n?this.__make(a,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=a,this)},t}(bd);Ed.isSet=Cb;var bn=Ed.prototype;bn[ZJ]=!0;bn[wb]=bn.remove;bn.merge=bn.concat=bn.union;bn.withMutations=Ib;bn.asImmutable=Nb;bn["@@transducer/init"]=bn.asMutable=Pb;bn["@@transducer/step"]=function(e,t){return e.add(t)};bn["@@transducer/result"]=function(e){return e.asImmutable()};bn.__empty=Wg;bn.__make=eX;function B1(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function eX(e,t){var r=Object.create(bn);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var oj;function Wg(){return oj||(oj=eX(ha()))}var aD=function(e){function t(r,n,a){if(!(this instanceof t))return new t(r,n,a);if(UN(a!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),a=a===void 0?1:Math.abs(a),n<r&&(a=-a),this._start=r,this._end=n,this._step=a,this.size=Math.max(0,Math.ceil((n-r)/a-1)+1),this.size===0){if(LT)return LT;LT=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,a){return this.has(n)?this._start+Co(this,n)*this._step:a},t.prototype.includes=function(n){var a=(n-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)},t.prototype.slice=function(n,a){return Sb(n,a,this.size)?this:(n=gd(n,this.size),a=Tb(a,this.size),a<=n?new t(0,0):new t(this.get(n,this._end),this.get(a,this._end),this._step))},t.prototype.indexOf=function(n){var a=n-this._start;if(a%this._step===0){var s=a/this._step;if(s>=0&&s<this.size)return s}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,a){for(var s=this.size,o=this._step,u=a?this._start+(s-1)*o:this._start,l=0;l!==s&&n(u,a?s-++l:l++,this)!==!1;)u+=a?-o:o;return l},t.prototype.__iterator=function(n,a){var s=this.size,o=this._step,u=a?this._start+(s-1)*o:this._start,l=0;return new Xt(function(){if(l===s)return ti();var c=u;return u+=a?-o:o,Ar(n,a?s-++l:l++,c)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:iD(this,n)},t}(na),LT;function jS(e,t,r){for(var n=FJ(t),a=0;a!==n.length;)if(e=NS(e,n[a++],zt),e===zt)return r;return e}function tX(e,t){return jS(this,e,t)}function sD(e,t){return jS(e,t,zt)!==zt}function XSe(e){return sD(this,e)}function rX(){Oi(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}Er.isIterable=Nn;Er.isKeyed=hr;Er.isIndexed=_n;Er.isAssociative=_d;Er.isOrdered=xi;Er.Iterator=Xt;Ec(Er,{toArray:function(){Oi(this.size);var t=new Array(this.size||0),r=hr(this),n=0;return this.__iterate(function(a,s){t[n++]=r?[s,a]:a}),t},toIndexedSeq:function(){return new xJ(this)},toJS:function(){return _w(this)},toKeyedSeq:function(){return new IS(this,!0)},toMap:function(){return zo(this.toKeyedSeq())},toObject:rX,toOrderedMap:function(){return ga(this.toKeyedSeq())},toOrderedSet:function(){return lc(hr(this)?this.valueSeq():this)},toSet:function(){return Ed(hr(this)?this.valueSeq():this)},toSetSeq:function(){return new IJ(this)},toSeq:function(){return _n(this)?this.toIndexedSeq():hr(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Db(hr(this)?this.valueSeq():this)},toList:function(){return Td(hr(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return fr(this,jSe(this,t))},includes:function(t){return this.some(function(r){return sn(r,t)})},entries:function(){return this.__iterator(Yi)},every:function(t,r){Oi(this.size);var n=!0;return this.__iterate(function(a,s,o){if(!t.call(r,a,s,o))return n=!1,!1}),n},filter:function(t,r){return fr(this,CJ(this,t,r,!0))},partition:function(t,r){return CSe(this,t,r)},find:function(t,r,n){var a=this.findEntry(t,r);return a?a[1]:n},forEach:function(t,r){return Oi(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){Oi(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(a){n?n=!1:r+=t,r+=a!=null?a.toString():""}),r},keys:function(){return this.__iterator(Ab)},map:function(t,r){return fr(this,DJ(this,t,r))},reduce:function(t,r,n){return uj(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return uj(this,t,r,n,arguments.length<2,!0)},reverse:function(){return fr(this,FN(this,!0))},slice:function(t,r){return fr(this,qN(this,t,r,!0))},some:function(t,r){Oi(this.size);var n=!1;return this.__iterate(function(a,s,o){if(t.call(r,a,s,o))return n=!0,!1}),n},sort:function(t){return fr(this,Ql(this,t))},values:function(){return this.__iterator(ma)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return Hl(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return NSe(this,t,r)},equals:function(t){return iD(this,t)},entrySeq:function(){var t=this;if(t._cache)return new cc(t._cache);var r=t.toSeq().map(ZSe).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(jT(t),r)},findEntry:function(t,r,n){var a=n;return this.__iterate(function(s,o,u){if(t.call(r,s,o,u))return a=[o,s],!1}),a},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(mJ,null,t)},flatMap:function(t,r){return fr(this,MSe(this,t,r))},flatten:function(t){return fr(this,jJ(this,t,!0))},fromEntrySeq:function(){return new PJ(this)},get:function(t,r){return this.find(function(n,a){return sn(a,t)},void 0,r)},getIn:tX,groupBy:function(t,r){return DSe(this,t,r)},has:function(t){return this.get(t,zt)!==zt},hasIn:XSe,isSubset:function(t){return t=typeof t.includes=="function"?t:Er(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:Er(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return sn(r,t)})},keySeq:function(){return this.toSeq().map(YSe).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return M1(this,t)},maxBy:function(t,r){return M1(this,r,t)},min:function(t){return M1(this,t?cj(t):dj)},minBy:function(t,r){return M1(this,r?cj(r):dj,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return fr(this,LJ(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(jT(t),r)},sortBy:function(t,r){return fr(this,Ql(this,r,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return fr(this,LSe(this,t,r))},takeUntil:function(t,r){return this.takeWhile(jT(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=e2e(this))}});var Cn=Er.prototype;Cn[bJ]=!0;Cn[AS]=Cn.values;Cn.toJSON=Cn.toArray;Cn.__toStringMapper=M_;Cn.inspect=Cn.toSource=function(){return this.toString()};Cn.chain=Cn.flatMap;Cn.contains=Cn.includes;Ec(ra,{flip:function(){return fr(this,NJ(this))},mapEntries:function(t,r){var n=this,a=0;return fr(this,this.toSeq().map(function(s,o){return t.call(r,[o,s],a++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return fr(this,this.toSeq().flip().map(function(a,s){return t.call(r,a,s,n)}).flip())}});var Lb=ra.prototype;Lb[vJ]=!0;Lb[AS]=Cn.entries;Lb.toJSON=rX;Lb.__toStringMapper=function(e,t){return M_(t)+": "+M_(e)};Ec(Tc,{toKeyedSeq:function(){return new IS(this,!1)},filter:function(t,r){return fr(this,CJ(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return fr(this,FN(this,!1))},slice:function(t,r){return fr(this,qN(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=gd(t,t<0?this.count():this.size);var a=this.slice(0,t);return fr(this,n===1?a:a.concat(Ma(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return fr(this,jJ(this,t,!1))},get:function(t,r){return t=Co(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,a){return a===t},void 0,r)},has:function(t){return t=Co(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return fr(this,FSe(this,t))},interleave:function(){var t=[this].concat(Ma(arguments)),r=F1(this.toSeq(),na.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),fr(this,n)},keySeq:function(){return aD(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return fr(this,LJ(this,t,r,!1))},zip:function(){var t=[this].concat(Ma(arguments));return fr(this,F1(this,lj,t))},zipAll:function(){var t=[this].concat(Ma(arguments));return fr(this,F1(this,lj,t,!0))},zipWith:function(t){var r=Ma(arguments);return r[0]=this,fr(this,F1(this,t,r))}});var Ad=Tc.prototype;Ad[wJ]=!0;Ad[vd]=!0;Ec(bd,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var Kl=bd.prototype;Kl.has=Cn.includes;Kl.contains=Kl.includes;Kl.keys=Kl.values;Ec(Ho,Lb);Ec(na,Ad);Ec(Sd,Kl);function uj(e,t,r,n,a,s){return Oi(e.size),e.__iterate(function(o,u,l){a?(a=!1,r=o):r=t.call(n,r,o,u,l)},s),r}function YSe(e,t){return t}function ZSe(e,t){return[t,e]}function jT(e){return function(){return!e.apply(this,arguments)}}function cj(e){return function(){return-e.apply(this,arguments)}}function lj(){return Ma(arguments)}function dj(e,t){return e<t?1:e>t?-1:0}function e2e(e){if(e.size===1/0)return 0;var t=xi(e),r=hr(e),n=t?1:0,a=e.__iterate(r?t?function(s,o){n=31*n+fj(Kn(s),Kn(o))|0}:function(s,o){n=n+fj(Kn(s),Kn(o))|0}:t?function(s){n=31*n+Kn(s)|0}:function(s){n=n+Kn(s)|0});return t2e(a,n)}function t2e(e,t){return t=Wd(t,3432918353),t=Wd(t<<15|t>>>-15,461845907),t=Wd(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Wd(t^t>>>16,2246822507),t=Wd(t^t>>>13,3266489909),t=xS(t^t>>>16),t}function fj(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var lc=function(e){function t(r){return r==null?EI():LS(r)?r:EI().withMutations(function(n){var a=bd(r);Oi(a.size),a.forEach(function(s){return n.add(s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(ra(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Ed);lc.isOrderedSet=LS;var Ac=lc.prototype;Ac[vd]=!0;Ac.zip=Ad.zip;Ac.zipWith=Ad.zipWith;Ac.zipAll=Ad.zipAll;Ac.__empty=EI;Ac.__make=nX;function nX(e,t){var r=Object.create(Ac);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var hj;function EI(){return hj||(hj=nX(zg()))}var iX={LeftThenRight:-1,RightThenLeft:1};function r2e(e){if(Vo(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Ci(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var tn=function(t,r){var n;r2e(t);var a=function(u){var l=this;if(u instanceof a)return u;if(!(this instanceof a))return new a(u);if(!n){n=!0;var c=Object.keys(t),d=s._indices={};s._name=r,s._keys=c,s._defaultValues=t;for(var f=0;f<c.length;f++){var h=c[f];d[h]=f,s[h]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+uD(this)+' with property "'+h+'" since that property name is part of the Record API.'):n2e(s,h)}}return this.__ownerID=void 0,this._values=Td().withMutations(function(p){p.setSize(l._keys.length),ra(u).forEach(function(m,y){p.set(l._indices[y],m===l._defaultValues[y]?void 0:m)})}),this},s=a.prototype=Object.create(mr);return s.constructor=a,r&&(a.displayName=r),a};tn.prototype.toString=function(){for(var t=uD(this)+" { ",r=this._keys,n,a=0,s=r.length;a!==s;a++)n=r[a],t+=(a?", ":"")+n+": "+M_(this.get(n));return t+" }"};tn.prototype.equals=function(t){return this===t||Vo(t)&&Jl(this).equals(Jl(t))};tn.prototype.hashCode=function(){return Jl(this).hashCode()};tn.prototype.has=function(t){return this._indices.hasOwnProperty(t)};tn.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],a=this._values.get(n);return a===void 0?this._defaultValues[t]:a};tn.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return oD(this,n)}return this};tn.prototype.remove=function(t){return this.set(t)};tn.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:oD(this,t)};tn.prototype.wasAltered=function(){return this._values.wasAltered()};tn.prototype.toSeq=function(){return Jl(this)};tn.prototype.toJS=function(){return _w(this)};tn.prototype.entries=function(){return this.__iterator(Yi)};tn.prototype.__iterator=function(t,r){return Jl(this).__iterator(t,r)};tn.prototype.__iterate=function(t,r){return Jl(this).__iterate(t,r)};tn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?oD(this,r,t):(this.__ownerID=t,this._values=r,this)};tn.isRecord=Vo;tn.getDescriptiveName=uD;var mr=tn.prototype;mr[TJ]=!0;mr[wb]=mr.remove;mr.deleteIn=mr.removeIn=WN;mr.getIn=tX;mr.hasIn=Cn.hasIn;mr.merge=BJ;mr.mergeWith=$J;mr.mergeIn=XN;mr.mergeDeep=zJ;mr.mergeDeepWith=GJ;mr.mergeDeepIn=YN;mr.setIn=zN;mr.update=KN;mr.updateIn=JN;mr.withMutations=Ib;mr.asMutable=Pb;mr.asImmutable=Nb;mr[AS]=mr.entries;mr.toJSON=mr.toObject=Cn.toObject;mr.inspect=mr.toSource=function(){return this.toString()};function oD(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function uD(e){return e.constructor.displayName||e.constructor.name||"Record"}function Jl(e){return jN(e._keys.map(function(t){return[t,e.get(t)]}))}function n2e(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){UN(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var aX=function(e){function t(r,n){if(!(this instanceof t))return new t(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(MT)return MT;MT=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(n,a){return this.has(n)?this._value:a},t.prototype.includes=function(n){return sn(this._value,n)},t.prototype.slice=function(n,a){var s=this.size;return Sb(n,a,s)?this:new t(this._value,Tb(a,s)-gd(n,s))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(n){return sn(this._value,n)?0:-1},t.prototype.lastIndexOf=function(n){return sn(this._value,n)?this.size:-1},t.prototype.__iterate=function(n,a){for(var s=this.size,o=0;o!==s&&n(this._value,a?s-++o:o++,this)!==!1;);return o},t.prototype.__iterator=function(n,a){var s=this,o=this.size,u=0;return new Xt(function(){return u===o?ti():Ar(n,a?o-++u:u++,s._value)})},t.prototype.equals=function(n){return n instanceof t?sn(this._value,n._value):iD(this,n)},t}(na),MT;function sX(e,t){return oX([],t||i2e,e,"",t&&t.length>2?[]:void 0,{"":e})}function oX(e,t,r,n,a,s){if(typeof r!="string"&&!Ci(r)&&(DN(r)||NN(r)||PS(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),a&&n!==""&&a.push(n);var o=t.call(s,n,Dn(r).map(function(u,l){return oX(e,t,u,l,a,r)}),a&&a.slice());return e.pop(),a&&a.pop(),o}return r}function i2e(e,t){return _n(t)?t.toList():hr(t)?t.toMap():t.toSet()}var uX="4.3.6",a2e={version:uX,Collection:Er,Iterable:Er,Seq:Dn,Map:zo,OrderedMap:ga,List:Td,Stack:Db,Set:Ed,OrderedSet:lc,PairSorting:iX,Record:tn,Range:aD,Repeat:aX,is:sn,fromJS:sX,hash:Kn,isImmutable:Ci,isCollection:Nn,isKeyed:hr,isIndexed:_n,isAssociative:_d,isOrdered:xi,isValueObject:mw,isPlainObject:PS,isSeq:Eb,isList:CS,isMap:Ob,isOrderedMap:RS,isStack:U_,isSet:Cb,isOrderedSet:LS,isRecord:Vo,get:NS,getIn:jS,has:kN,hasIn:sD,merge:kJ,mergeDeep:HJ,mergeWith:VJ,mergeDeepWith:QJ,remove:VN,removeIn:GN,set:HN,setIn:QN,update:DS,updateIn:Qo},s2e=Er;const o2e=Object.freeze(Object.defineProperty({__proto__:null,Collection:Er,Iterable:s2e,List:Td,Map:zo,OrderedMap:ga,OrderedSet:lc,PairSorting:iX,Range:aD,Record:tn,Repeat:aX,Seq:Dn,Set:Ed,Stack:Db,default:a2e,fromJS:sX,get:NS,getIn:jS,has:kN,hasIn:sD,hash:Kn,is:sn,isAssociative:_d,isCollection:Nn,isImmutable:Ci,isIndexed:_n,isKeyed:hr,isList:CS,isMap:Ob,isOrdered:xi,isOrderedMap:RS,isOrderedSet:LS,isPlainObject:PS,isRecord:Vo,isSeq:Eb,isSet:Cb,isStack:U_,isValueObject:mw,merge:kJ,mergeDeep:HJ,mergeDeepWith:QJ,mergeWith:VJ,remove:VN,removeIn:GN,set:HN,setIn:QN,update:DS,updateIn:Qo,version:uX},Symbol.toStringTag,{value:"Module"})),cD=VP(o2e);Object.defineProperty(uc,"__esModule",{value:!0});uc.ActionContextKey=uc.ActionContext=void 0;const pj=cD;class al{constructor(t={}){this.map=(0,pj.Map)(t)}setDefault(t,r){return this.has(t)?this:this.set(t,r)}set(t,r){return this.setRaw(t.name,r)}setRaw(t,r){return new al(this.map.set(t,r))}delete(t){return new al(this.map.delete(t.name))}get(t){return this.getRaw(t.name)}getRaw(t){return this.map.get(t)}getSafe(t){if(!this.has(t))throw new Error(`Context entry ${t.name} is required but not available`);return this.get(t)}has(t){return this.hasRaw(t.name)}hasRaw(t){return this.map.has(t)}merge(...t){let r=this;for(const n of t)for(const a of n.keys())r=r.set(a,n.get(a));return r}keys(){return[...this.map.keys()].map(t=>new cX(t))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(t){return t instanceof al?t:new al((0,pj.Map)(t??{}))}}uc.ActionContext=al;class cX{constructor(t){this.name=t}}uc.ActionContextKey=cX;var jb={};Object.defineProperty(jb,"__esModule",{value:!0});jb.Bus=void 0;class u2e{constructor(t){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,t)}subscribe(t){this.actors.push(t),this.reorderForDependencies()}subscribeObserver(t){this.observers.push(t)}unsubscribe(t){const r=this.actors.indexOf(t);return r>=0?(this.actors.splice(r,1),!0):!1}unsubscribeObserver(t){const r=this.observers.indexOf(t);return r>=0?(this.observers.splice(r,1),!0):!1}publish(t){return this.actors.map(r=>({actor:r,reply:r.test(t)}))}onRun(t,r,n){for(const a of this.observers)a.onRun(t,r,n)}addDependencies(t,r){for(const n of r){let a=this.dependencyLinks.get(n);a||(a=[],this.dependencyLinks.set(n,a)),a.push(t)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const t=[];for(const r of this.dependencyLinks.keys()){const n=this.actors.indexOf(r);n>=0&&(this.actors.splice(n,1),t.push(r))}for(;t.length>0;){let r=-1;for(let a=0;a<t.length;a++){let s=!0;for(const o of this.dependencyLinks.get(t[a]))if(!this.actors.includes(o)&&t.includes(o)){s=!1;break}if(s){r=a;break}}if(r<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const n=t.splice(r,1)[0];this.actors.push(n)}}}}jb.Bus=u2e;var MS={};Object.defineProperty(MS,"__esModule",{value:!0});MS.BusIndexed=void 0;const c2e=jb;class l2e extends c2e.Bus{constructor(t){super(t),this.actorsIndex={}}subscribe(t){const r=this.getActorIdentifier(t)||"_undefined_";let n=this.actorsIndex[r];n||(n=this.actorsIndex[r]=[]),n.push(t),super.subscribe(t)}unsubscribe(t){const r=this.getActorIdentifier(t)||"_undefined_",n=this.actorsIndex[r];if(n){const a=n.indexOf(t);a>=0&&n.splice(a,1),n.length===0&&delete this.actorsIndex[r]}return super.unsubscribe(t)}publish(t){const r=this.getActionIdentifier(t);return r?[...this.actorsIndex[r]||[],...this.actorsIndex._undefined_||[]].map(a=>({actor:a,reply:a.test(t)})):super.publish(t)}getActorIdentifier(t){return this.actorIdentifierFields.reduce((r,n)=>r[n],t)}getActionIdentifier(t){return this.actionIdentifierFields.reduce((r,n)=>r[n],t)}}MS.BusIndexed=l2e;var Mb={};Object.defineProperty(Mb,"__esModule",{value:!0});Mb.CONTEXT_KEY_LOGGER=void 0;const d2e=uc;Mb.CONTEXT_KEY_LOGGER=new d2e.ActionContextKey("@comunica/core:log");var FS={};Object.defineProperty(FS,"__esModule",{value:!0});FS.ActionObserver=void 0;class f2e{constructor(t){Object.assign(this,t)}}FS.ActionObserver=f2e;var qS={};Object.defineProperty(qS,"__esModule",{value:!0});qS.Actor=void 0;const h2e=Mb;class wo{constructor(t){this.beforeActors=[],Object.assign(this,t),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors)}static getContextLogger(t){return t.get(h2e.CONTEXT_KEY_LOGGER)}runObservable(t){const r=this.run(t);return this.bus.onRun(this,t,r),r}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(t,r){const n=r?r():{};return n.actor=this.name,n}logTrace(t,r,n){const a=wo.getContextLogger(t);a&&a.trace(r,this.getDefaultLogData(t,n))}logDebug(t,r,n){const a=wo.getContextLogger(t);a&&a.debug(r,this.getDefaultLogData(t,n))}logInfo(t,r,n){const a=wo.getContextLogger(t);a&&a.info(r,this.getDefaultLogData(t,n))}logWarn(t,r,n){const a=wo.getContextLogger(t);a&&a.warn(r,this.getDefaultLogData(t,n))}logError(t,r,n){const a=wo.getContextLogger(t);a&&a.error(r,this.getDefaultLogData(t,n))}logFatal(t,r,n){const a=wo.getContextLogger(t);a&&a.fatal(r,this.getDefaultLogData(t,n))}}qS.Actor=wo;var BS={};Object.defineProperty(BS,"__esModule",{value:!0});BS.Mediator=void 0;class p2e{constructor(t){Object.assign(this,t)}publish(t){const r=this.bus.publish(t);if(r.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return r}async mediateActor(t){return await this.mediateWith(t,this.publish(t))}async mediate(t){return(await this.mediateActor(t)).runObservable(t)}}BS.Mediator=p2e;(function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(uc,e),r(jb,e),r(MS,e),r(Mb,e),r(FS,e),r(qS,e),r(BS,e)})(lt);Object.defineProperty(ES,"__esModule",{value:!0});ES.ActorInit=void 0;const y2e=lt;class m2e extends y2e.Actor{constructor(t){super(t)}}ES.ActorInit=m2e;(function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ES,e)})(yJ);Object.defineProperty(vb,"__esModule",{value:!0});vb.ActorInitQueryBase=void 0;const g2e=yJ;class _2e extends g2e.ActorInit{async test(t){return!0}async run(t){throw new Error("ActorInitSparql#run is not supported in the browser.")}}vb.ActorInitQueryBase=_2e;function b2e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lX={exports:{}},Wr=lX.exports={},Da,Ca;function AI(){throw new Error("setTimeout has not been defined")}function OI(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Da=setTimeout:Da=AI}catch{Da=AI}try{typeof clearTimeout=="function"?Ca=clearTimeout:Ca=OI}catch{Ca=OI}})();function dX(e){if(Da===setTimeout)return setTimeout(e,0);if((Da===AI||!Da)&&setTimeout)return Da=setTimeout,setTimeout(e,0);try{return Da(e,0)}catch{try{return Da.call(null,e,0)}catch{return Da.call(this,e,0)}}}function v2e(e){if(Ca===clearTimeout)return clearTimeout(e);if((Ca===OI||!Ca)&&clearTimeout)return Ca=clearTimeout,clearTimeout(e);try{return Ca(e)}catch{try{return Ca.call(null,e)}catch{return Ca.call(this,e)}}}var Is=[],Tl=!1,Qu,Nv=-1;function w2e(){!Tl||!Qu||(Tl=!1,Qu.length?Is=Qu.concat(Is):Nv=-1,Is.length&&fX())}function fX(){if(!Tl){var e=dX(w2e);Tl=!0;for(var t=Is.length;t;){for(Qu=Is,Is=[];++Nv<t;)Qu&&Qu[Nv].run();Nv=-1,t=Is.length}Qu=null,Tl=!1,v2e(e)}}Wr.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Is.push(new hX(e,t)),Is.length===1&&!Tl&&dX(fX)};function hX(e,t){this.fun=e,this.array=t}hX.prototype.run=function(){this.fun.apply(null,this.array)};Wr.title="browser";Wr.browser=!0;Wr.env={};Wr.argv=[];Wr.version="";Wr.versions={};function Xs(){}Wr.on=Xs;Wr.addListener=Xs;Wr.once=Xs;Wr.off=Xs;Wr.removeListener=Xs;Wr.removeAllListeners=Xs;Wr.emit=Xs;Wr.prependListener=Xs;Wr.prependOnceListener=Xs;Wr.listeners=function(e){return[]};Wr.binding=function(e){throw new Error("process.binding is not supported")};Wr.cwd=function(){return"/"};Wr.chdir=function(e){throw new Error("process.chdir is not supported")};Wr.umask=function(){return 0};var S2e=lX.exports;const qs=b2e(S2e);var $S={};Object.defineProperty($S,"__esModule",{value:!0});$S.ActorInitQuery=void 0;const T2e=vb;typeof qs>"u"&&(globalThis.process=Ks);class E2e extends T2e.ActorInitQueryBase{}$S.ActorInitQuery=E2e;var US={},kt={},ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.KeysRdfJoin=ur.KeysMergeBindingsContext=ur.KeysRdfUpdateQuads=ur.KeysQuerySourceIdentify=ur.KeysRdfParseHtmlScript=ur.KeysRdfParseJsonLd=ur.KeysQueryOperation=ur.KeysInitQuery=ur.KeysHttpProxy=ur.KeysHttpMemento=ur.KeysHttpWayback=ur.KeysHttp=ur.KeysCore=void 0;const At=lt;ur.KeysCore={log:At.CONTEXT_KEY_LOGGER};ur.KeysHttp={includeCredentials:new At.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new At.ActionContextKey("@comunica/bus-http:auth"),fetch:new At.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new At.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new At.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new At.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelay:new At.ActionContextKey("@comunica/bus-http:http-retry-delay"),httpRetryOnServerError:new At.ActionContextKey("@comunica/bus-http:http-retry-on-server-error")};ur.KeysHttpWayback={recoverBrokenLinks:new At.ActionContextKey("@comunica/bus-http:recover-broken-links")};ur.KeysHttpMemento={datetime:new At.ActionContextKey("@comunica/actor-http-memento:datetime")};ur.KeysHttpProxy={httpProxyHandler:new At.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")};ur.KeysInitQuery={querySourcesUnidentified:new At.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new At.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new At.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new At.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new At.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new At.ActionContextKey("@comunica/actor-init-query:queryString"),query:new At.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new At.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new At.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new At.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),extensionFunctionCreator:new At.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new At.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new At.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new At.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new At.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new At.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new At.ActionContextKey("@context"),noCache:new At.ActionContextKey("@comunica/actor-init-query:noCache")};ur.KeysQueryOperation={operation:new At.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new At.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new At.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new At.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new At.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new At.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new At.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new At.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new At.ActionContextKey("@comunica/bus-query-operation:querySources")};ur.KeysRdfParseJsonLd={documentLoader:new At.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new At.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new At.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")};ur.KeysRdfParseHtmlScript={processingHtmlScript:new At.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new At.ActionContextKey("extractAllScripts")};ur.KeysQuerySourceIdentify={sourceIds:new At.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new At.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new At.ActionContextKey("@comunica/bus-query-source-identify:traverse")};ur.KeysRdfUpdateQuads={destination:new At.ActionContextKey("@comunica/bus-rdf-update-quads:destination")};ur.KeysMergeBindingsContext={sourcesBinding:new At.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")};ur.KeysRdfJoin={lastPhysicalJoin:new At.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")};(function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ur,e)})(kt);Object.defineProperty(US,"__esModule",{value:!0});US.QueryEngineBase=void 0;const A2e=kt,Kd=lt;class bw{constructor(t){this.actorInitQuery=t}async queryBindings(t,r){return this.queryOfType(t,r,"bindings")}async queryQuads(t,r){return this.queryOfType(t,r,"quads")}async queryBoolean(t,r){return this.queryOfType(t,r,"boolean")}async queryVoid(t,r){return this.queryOfType(t,r,"void")}async queryOfType(t,r,n){const a=await this.query(t,r);if(a.resultType===n)return await a.execute();throw new Error(`Query result type '${n}' was expected, while '${a.resultType}' was found.`)}async query(t,r){const n=await this.queryOrExplain(t,r);if("explain"in n)throw new Error("Tried to explain a query when in query-only mode");return n}async explain(t,r,n){return r.explain=n,await this.queryOrExplain(t,r)}async queryOrExplain(t,r){const n=Kd.ActionContext.ensureActionContext(r);n.get(A2e.KeysInitQuery.noCache)&&await this.invalidateHttpCache();const{result:a}=await this.actorInitQuery.mediatorQueryProcess.mediate({query:t,context:n});return"explain"in a?a:bw.internalToFinalResult(a)}async getResultMediaTypes(t){return t=Kd.ActionContext.ensureActionContext(t),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:t,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(t){return t=Kd.ActionContext.ensureActionContext(t),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:t,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(t,r,n){if(n=Kd.ActionContext.ensureActionContext(n),!r)switch(t.resultType){case"bindings":r="application/json";break;case"quads":r="application/trig";break;default:r="simple";break}const a={...await bw.finalToInternalResult(t),context:n};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:n,handle:a,handleMediaType:r})).handle}invalidateHttpCache(t,r){return r=Kd.ActionContext.ensureActionContext(r),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:t,context:r})}static internalToFinalResult(t){switch(t.type){case"bindings":return{resultType:"bindings",execute:async()=>t.bindingsStream,metadata:async()=>await t.metadata(),context:t.context};case"quads":return{resultType:"quads",execute:async()=>t.quadStream,metadata:async()=>await t.metadata(),context:t.context};case"boolean":return{resultType:"boolean",execute:async()=>t.execute(),context:t.context};case"void":return{resultType:"void",execute:async()=>t.execute(),context:t.context}}}static async finalToInternalResult(t){switch(t.resultType){case"bindings":return{type:"bindings",bindingsStream:await t.execute(),metadata:async()=>await t.metadata()};case"quads":return{type:"quads",quadStream:await t.execute(),metadata:async()=>await t.metadata()};case"boolean":return{type:"boolean",execute:()=>t.execute()};case"void":return{type:"void",execute:()=>t.execute()}}}}US.QueryEngineBase=bw;(function(e){var t=N&&N.__createBinding||(Object.create?function(a,s,o,u){u===void 0&&(u=o);var l=Object.getOwnPropertyDescriptor(s,o);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(a,u,l)}:function(a,s,o,u){u===void 0&&(u=o),a[u]=s[o]}),r=N&&N.__exportStar||function(a,s){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,a,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.QueryEngineBase=void 0,r(vb,e),r($S,e);var n=US;Object.defineProperty(e,"QueryEngineBase",{enumerable:!0,get:function(){return n.QueryEngineBase}})})(IN);var FT={},Jd={},qT={},BT={},yj;function O2e(){return yj||(yj=1,Object.defineProperty(BT,"__esModule",{value:!0})),BT}var $T={},mj;function R2e(){return mj||(mj=1,Object.defineProperty($T,"__esModule",{value:!0})),$T}var UT={},gj;function x2e(){return gj||(gj=1,Object.defineProperty(UT,"__esModule",{value:!0})),UT}var kT={},_j;function I2e(){return _j||(_j=1,Object.defineProperty(kT,"__esModule",{value:!0})),kT}var VT={},bj;function P2e(){return bj||(bj=1,Object.defineProperty(VT,"__esModule",{value:!0})),VT}var HT={},vj;function N2e(){return vj||(vj=1,Object.defineProperty(HT,"__esModule",{value:!0})),HT}var QT={},wj;function D2e(){return wj||(wj=1,Object.defineProperty(QT,"__esModule",{value:!0})),QT}var zT={},Sj;function C2e(){return Sj||(Sj=1,Object.defineProperty(zT,"__esModule",{value:!0})),zT}var GT={},Tj;function L2e(){return Tj||(Tj=1,Object.defineProperty(GT,"__esModule",{value:!0})),GT}var WT={},Ej;function j2e(){return Ej||(Ej=1,Object.defineProperty(WT,"__esModule",{value:!0})),WT}var KT={},Aj;function M2e(){return Aj||(Aj=1,Object.defineProperty(KT,"__esModule",{value:!0})),KT}var JT={},Oj;function F2e(){return Oj||(Oj=1,Object.defineProperty(JT,"__esModule",{value:!0})),JT}var XT={},Rj;function q2e(){return Rj||(Rj=1,Object.defineProperty(XT,"__esModule",{value:!0})),XT}var Xd={},xj;function B2e(){if(xj)return Xd;xj=1,Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.Logger=void 0;let e=class pX{static getLevelOrdinal(r){return pX.LEVELS[r]}};return Xd.Logger=e,e.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Xd}var Ij;function $2e(){return Ij||(Ij=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(O2e(),e),r(R2e(),e),r(x2e(),e),r(I2e(),e),r(P2e(),e),r(N2e(),e),r(D2e(),e),r(C2e(),e),r(L2e(),e),r(j2e(),e),r(M2e(),e),r(F2e(),e),r(q2e(),e),r(B2e(),e)}(qT)),qT}var Pj;function U2e(){if(Pj)return Jd;Pj=1,Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.LoggerVoid=void 0;const e=$2e();let t=class extends e.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}};return Jd.LoggerVoid=t,Jd}var Nj;function k2e(){return Nj||(Nj=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(U2e(),e)}(FT)),FT}var YT={},Yd={},ZT={},Zd={},Dj;function V2e(){if(Dj)return Zd;Dj=1,Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.BlankNodeScoped=void 0;let e=class{constructor(r,n){this.termType="BlankNode",this.value=r,this.skolemized=n}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}};return Zd.BlankNodeScoped=e,Zd}var ef={},Cj;function H2e(){if(Cj)return ef;Cj=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.BlankNodeBindingsScoped=void 0;let e=class{constructor(r){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}};return ef.BlankNodeBindingsScoped=e,ef}var Lj;function lD(){return Lj||(Lj=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(V2e(),e),r(H2e(),e)}(ZT)),ZT}var lu={},rr={},In={};Object.defineProperty(In,"__esModule",{value:!0});In.stringQuadToQuad=In.quadToStringQuad=In.stringToTerm=In.getLiteralLanguage=In.getLiteralType=In.getLiteralValue=In.termToString=void 0;const Q2e=xt,yX=new Q2e.DataFactory;function Ps(e){if(e)switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&t.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&t.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"");case"Quad":return`<<${Ps(e.subject)} ${Ps(e.predicate)} ${Ps(e.object)}${e.graph.termType==="DefaultGraph"?"":" "+Ps(e.graph)}>>`;case"Variable":return"?"+e.value;case"DefaultGraph":return e.value}}In.termToString=Ps;function mX(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}In.getLiteralValue=mX;function gX(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}In.getLiteralType=gX;function _X(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""}In.getLiteralLanguage=_X;function Ns(e,t){if(t=t||yX,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":if(!t.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return t.variable(e.substr(1));case'"':const r=_X(e),n=t.namedNode(gX(e));return t.literal(mX(e),r||n);case"<":default:if(e[0]==="<"&&e.length>4&&e[1]==="<"&&e[e.length-1]===">"&&e[e.length-2]===">"){const a=e.slice(2,-2).trim();let s=[],o=0,u=0,l=!1;for(let c=0;c<a.length;c++){const d=a[c];if(d==="<"&&o++,d===">"){if(o===0)throw new Error("Found closing tag without opening tag in "+e);o--}if(d==='"'){let f=!1,h=c;for(;h-- >0&&a[h]==="\\";)f=!f;f||(l=!l)}if(d===" "&&!l&&o===0){for(s.push(a.slice(u,c));a[c+1]===" ";)c+=1;u=c+1}}if(o!==0)throw new Error("Found opening tag without closing tag in "+e);if(s.push(a.slice(u,a.length)),s.length!==3&&s.length!==4)throw new Error("Nested quad syntax error "+e);return s=s.map(c=>c.startsWith("<")&&!c.includes(" ")?c.slice(1,-1):c),t.quad(Ns(s[0]),Ns(s[1]),Ns(s[2]),s[3]?Ns(s[3]):void 0)}return t.namedNode(e)}}In.stringToTerm=Ns;function z2e(e){return{subject:Ps(e.subject),predicate:Ps(e.predicate),object:Ps(e.object),graph:Ps(e.graph)}}In.quadToStringQuad=z2e;function G2e(e,t){return t=t||yX,t.quad(Ns(e.subject,t),Ns(e.predicate,t),Ns(e.object,t),Ns(e.graph,t))}In.stringQuadToQuad=G2e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const t=In;Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return t.termToString}})})(rr);var eE={},vt={},jj;function bX(){if(jj)return vt;jj=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.matchPatternMappings=vt.matchPatternComplete=vt.matchPattern=vt.matchTerm=vt.getValueNestedPath=vt.someTermsNested=vt.someTerms=vt.everyTermsNested=vt.everyTerms=vt.reduceTermsNested=vt.reduceTerms=vt.mapTermsNested=vt.mapTerms=vt.filterQuadTermNamesNested=vt.filterQuadTermNames=vt.filterTermsNested=vt.filterTerms=vt.forEachTermsNested=vt.forEachTerms=vt.collectNamedTerms=vt.getNamedTerms=vt.getTermsNested=vt.getTerms=vt.TRIPLE_TERM_NAMES=vt.QUAD_TERM_NAMES=void 0;const e=xt,t=new e.DataFactory;vt.QUAD_TERM_NAMES=["subject","predicate","object","graph"],vt.TRIPLE_TERM_NAMES=["subject","predicate","object"];function r(I,P){return P&&I.graph.termType==="DefaultGraph"?[I.subject,I.predicate,I.object]:[I.subject,I.predicate,I.object,I.graph]}vt.getTerms=r;function n(I,P){const L=[];for(const D of r(I,P))D.termType==="Quad"?n(D,P).forEach(V=>L.push(V)):L.push(D);return L}vt.getTermsNested=n;function a(I){return[{key:"subject",value:I.subject},{key:"predicate",value:I.predicate},{key:"object",value:I.object},{key:"graph",value:I.graph}]}vt.getNamedTerms=a;function s(I,P,L){const D={};return I.forEach(V=>D[V.key]=V.value),P&&(D.subject=D.subject||P("subject"),D.predicate=D.predicate||P("predicate"),D.object=D.object||P("object"),D.graph=D.graph||P("graph")),(L||t).quad(D.subject,D.predicate,D.object,D.graph)}vt.collectNamedTerms=s;function o(I,P){P(I.subject,"subject"),P(I.predicate,"predicate"),P(I.object,"object"),P(I.graph,"graph")}vt.forEachTerms=o;function u(I,P,L=[]){I.subject.termType==="Quad"?u(I.subject,P,[...L,"subject"]):P(I.subject,[...L,"subject"]),I.predicate.termType==="Quad"?u(I.predicate,P,[...L,"predicate"]):P(I.predicate,[...L,"predicate"]),I.object.termType==="Quad"?u(I.object,P,[...L,"object"]):P(I.object,[...L,"object"]),I.graph.termType==="Quad"?u(I.graph,P,[...L,"graph"]):P(I.graph,[...L,"graph"])}vt.forEachTermsNested=u;function l(I,P){const L=[];return P(I.subject,"subject")&&L.push(I.subject),P(I.predicate,"predicate")&&L.push(I.predicate),P(I.object,"object")&&L.push(I.object),P(I.graph,"graph")&&L.push(I.graph),L}vt.filterTerms=l;function c(I,P,L=[]){let D=[];return I.subject.termType==="Quad"?D=[...D,...c(I.subject,P,[...L,"subject"])]:P(I.subject,[...L,"subject"])&&D.push(I.subject),I.predicate.termType==="Quad"?D=[...D,...c(I.predicate,P,[...L,"predicate"])]:P(I.predicate,[...L,"predicate"])&&D.push(I.predicate),I.object.termType==="Quad"?D=[...D,...c(I.object,P,[...L,"object"])]:P(I.object,[...L,"object"])&&D.push(I.object),I.graph.termType==="Quad"?D=[...D,...c(I.graph,P,[...L,"graph"])]:P(I.graph,[...L,"graph"])&&D.push(I.graph),D}vt.filterTermsNested=c;function d(I,P){const L=[];return P(I.subject,"subject")&&L.push("subject"),P(I.predicate,"predicate")&&L.push("predicate"),P(I.object,"object")&&L.push("object"),P(I.graph,"graph")&&L.push("graph"),L}vt.filterQuadTermNames=d;function f(I,P,L=[]){let D=[];const V=[...L,"subject"];I.subject.termType==="Quad"?D=[...D,...f(I.subject,P,V)]:P(I.subject,V)&&D.push(V);const k=[...L,"predicate"];I.predicate.termType==="Quad"?D=[...D,...f(I.predicate,P,k)]:P(I.predicate,k)&&D.push(k);const $=[...L,"object"];I.object.termType==="Quad"?D=[...D,...f(I.object,P,$)]:P(I.object,$)&&D.push($);const H=[...L,"graph"];return I.graph.termType==="Quad"?D=[...D,...f(I.graph,P,H)]:P(I.graph,H)&&D.push(H),D}vt.filterQuadTermNamesNested=f;function h(I,P,L){return(L||t).quad(P(I.subject,"subject"),P(I.predicate,"predicate"),P(I.object,"object"),P(I.graph,"graph"))}vt.mapTerms=h;function p(I,P,L,D=[]){return(L||t).quad(I.subject.termType==="Quad"?p(I.subject,P,L,[...D,"subject"]):P(I.subject,[...D,"subject"]),I.predicate.termType==="Quad"?p(I.predicate,P,L,[...D,"predicate"]):P(I.predicate,[...D,"predicate"]),I.object.termType==="Quad"?p(I.object,P,L,[...D,"object"]):P(I.object,[...D,"object"]),I.graph.termType==="Quad"?p(I.graph,P,L,[...D,"graph"]):P(I.graph,[...D,"graph"]))}vt.mapTermsNested=p;function m(I,P,L){let D=L;return D=P(D,I.subject,"subject"),D=P(D,I.predicate,"predicate"),D=P(D,I.object,"object"),P(D,I.graph,"graph")}vt.reduceTerms=m;function y(I,P,L,D=[]){let V=L;return I.subject.termType==="Quad"?V=y(I.subject,P,V,[...D,"subject"]):V=P(V,I.subject,[...D,"subject"]),I.predicate.termType==="Quad"?V=y(I.predicate,P,V,[...D,"predicate"]):V=P(V,I.predicate,[...D,"predicate"]),I.object.termType==="Quad"?V=y(I.object,P,V,[...D,"object"]):V=P(V,I.object,[...D,"object"]),I.graph.termType==="Quad"?V=y(I.graph,P,V,[...D,"graph"]):V=P(V,I.graph,[...D,"graph"]),V}vt.reduceTermsNested=y;function g(I,P){return P(I.subject,"subject")&&P(I.predicate,"predicate")&&P(I.object,"object")&&P(I.graph,"graph")}vt.everyTerms=g;function b(I,P,L=[]){return(I.subject.termType==="Quad"?b(I.subject,P,[...L,"subject"]):P(I.subject,[...L,"subject"]))&&(I.predicate.termType==="Quad"?b(I.predicate,P,[...L,"predicate"]):P(I.predicate,[...L,"predicate"]))&&(I.object.termType==="Quad"?b(I.object,P,[...L,"object"]):P(I.object,[...L,"object"]))&&(I.graph.termType==="Quad"?b(I.graph,P,[...L,"graph"]):P(I.graph,[...L,"graph"]))}vt.everyTermsNested=b;function v(I,P){return P(I.subject,"subject")||P(I.predicate,"predicate")||P(I.object,"object")||P(I.graph,"graph")}vt.someTerms=v;function _(I,P,L=[]){return(I.subject.termType==="Quad"?_(I.subject,P,[...L,"subject"]):P(I.subject,[...L,"subject"]))||(I.predicate.termType==="Quad"?_(I.predicate,P,[...L,"predicate"]):P(I.predicate,[...L,"predicate"]))||(I.object.termType==="Quad"?_(I.object,P,[...L,"object"]):P(I.object,[...L,"object"]))||(I.graph.termType==="Quad"?_(I.graph,P,[...L,"graph"]):P(I.graph,[...L,"graph"]))}vt.someTermsNested=_;function w(I,P){if(P.length===0)return I;if(I.termType==="Quad")return w(I[P[0]],P.slice(1));throw new Error(`Tried to get ${P[0]} from term of type ${I.termType}`)}vt.getValueNestedPath=w;function S(I,P){return!P||P.termType==="Variable"||P.termType==="Quad"&&I.termType==="Quad"&&x(I,P)||P.equals(I)}vt.matchTerm=S;function E(I,P,L,D,V){return S(I.subject,P)&&S(I.predicate,L)&&S(I.object,D)&&S(I.graph,V)}vt.matchPattern=E;function x(I,P){return E(I,P.subject,P.predicate,P.object,P.graph)}vt.matchPatternComplete=x;function C(I,P,L={}){const D={};function V(k,$){return g(k,(H,J)=>{var Y,de;const Te=$[J];switch(H.termType){case"Variable":return L.skipVarMapping&&Te.termType==="Variable"||((de=(Y=D[H.value])===null||Y===void 0?void 0:Y.equals(Te))!==null&&de!==void 0?de:(D[H.value]=Te,!0));case"Quad":return Te.termType==="Quad"&&V(H,Te);default:return H.equals(Te)}})}return V(P,I)&&(L.returnMappings?D:!0)}return vt.matchPatternMappings=C,vt}var kr={},Mj;function W2e(){if(Mj)return kr;Mj=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.getQuads=kr.getDefaultGraphs=kr.getVariables=kr.getLiterals=kr.getBlankNodes=kr.getNamedNodes=kr.getTermsOfType=kr.uniqTerms=kr.TERM_TYPES=void 0;const e=rr;kr.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function t(c){const d={};return c.filter(f=>{const h=(0,e.termToString)(f);return!(h in d)&&(d[h]=!0)})}kr.uniqTerms=t;function r(c,d){return c.filter(f=>f.termType===d)}kr.getTermsOfType=r;function n(c){return r(c,"NamedNode")}kr.getNamedNodes=n;function a(c){return r(c,"BlankNode")}kr.getBlankNodes=a;function s(c){return r(c,"Literal")}kr.getLiterals=s;function o(c){return r(c,"Variable")}kr.getVariables=o;function u(c){return r(c,"DefaultGraph")}kr.getDefaultGraphs=u;function l(c){return r(c,"Quad")}return kr.getQuads=l,kr}var Fj;function Sn(){return Fj||(Fj=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(bX(),e),r(W2e(),e)}(eE)),eE}var tE={},$1={},rE,qj;function K2e(){return qj||(qj=1,rE=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(a of t.entries())if(!r.has(a[0]))return!1;for(a of t.entries())if(!e(a[1],r.get(a[0])))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(a of t.entries())if(!r.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(r)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(t[a]!==r[a])return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var o=s[a];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}),rE}var nE={},Bj;function Fb(){return Bj||(Bj=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.expressionTypes=e.types=void 0,function(t){t.ALT="alt",t.ASK="ask",t.BGP="bgp",t.CONSTRUCT="construct",t.DESCRIBE="describe",t.DISTINCT="distinct",t.EXPRESSION="expression",t.EXTEND="extend",t.FILTER="filter",t.FROM="from",t.GRAPH="graph",t.GROUP="group",t.INV="inv",t.JOIN="join",t.LEFT_JOIN="leftjoin",t.LINK="link",t.MINUS="minus",t.NOP="nop",t.NPS="nps",t.ONE_OR_MORE_PATH="OneOrMorePath",t.ORDER_BY="orderby",t.PATH="path",t.PATTERN="pattern",t.PROJECT="project",t.REDUCED="reduced",t.SEQ="seq",t.SERVICE="service",t.SLICE="slice",t.UNION="union",t.VALUES="values",t.ZERO_OR_MORE_PATH="ZeroOrMorePath",t.ZERO_OR_ONE_PATH="ZeroOrOnePath",t.COMPOSITE_UPDATE="compositeupdate",t.DELETE_INSERT="deleteinsert",t.LOAD="load",t.CLEAR="clear",t.CREATE="create",t.DROP="drop",t.ADD="add",t.MOVE="move",t.COPY="copy"}(e.types||(e.types={})),function(t){t.AGGREGATE="aggregate",t.EXISTENCE="existence",t.NAMED="named",t.OPERATOR="operator",t.TERM="term",t.WILDCARD="wildcard"}(e.expressionTypes||(e.expressionTypes={}))}(nE)),nE}var U1={},$j;function kS(){if($j)return U1;$j=1;var e=N&&N.__createBinding||(Object.create?function(l,c,d,f){f===void 0&&(f=d);var h=Object.getOwnPropertyDescriptor(c,d);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(l,f,h)}:function(l,c,d,f){f===void 0&&(f=d),l[f]=c[d]}),t=N&&N.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),r=N&&N.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var d in l)d!=="default"&&Object.prototype.hasOwnProperty.call(l,d)&&e(c,l,d);return t(c,l),c};Object.defineProperty(U1,"__esModule",{value:!0});const n=r(Fb()),a=xt,s=rr,o=_c;class u{constructor(c){this.dataFactory=c||new a.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(c,d=!0){return this.flattenMulti({type:n.types.ALT,input:c},d)}createAsk(c){return{type:n.types.ASK,input:c}}createBoundAggregate(c,d,f,h,p){const m=this.createAggregateExpression(d,f,h,p);return m.variable=c,m}createBgp(c){return{type:n.types.BGP,patterns:c}}createConstruct(c,d){return{type:n.types.CONSTRUCT,input:c,template:d}}createDescribe(c,d){return{type:n.types.DESCRIBE,input:c,terms:d}}createDistinct(c){return{type:n.types.DISTINCT,input:c}}createExtend(c,d,f){return{type:n.types.EXTEND,input:c,variable:d,expression:f}}createFrom(c,d,f){return{type:n.types.FROM,input:c,default:d,named:f}}createFilter(c,d){return{type:n.types.FILTER,input:c,expression:d}}createGraph(c,d){return{type:n.types.GRAPH,input:c,name:d}}createGroup(c,d,f){return{type:n.types.GROUP,input:c,variables:d,aggregates:f}}createInv(c){return{type:n.types.INV,path:c}}createJoin(c,d=!0){return this.flattenMulti({type:n.types.JOIN,input:c},d)}createLeftJoin(c,d,f){return f?{type:n.types.LEFT_JOIN,input:[c,d],expression:f}:{type:n.types.LEFT_JOIN,input:[c,d]}}createLink(c){return{type:n.types.LINK,iri:c}}createMinus(c,d){return{type:n.types.MINUS,input:[c,d]}}createNop(){return{type:n.types.NOP}}createNps(c){return{type:n.types.NPS,iris:c}}createOneOrMorePath(c){return{type:n.types.ONE_OR_MORE_PATH,path:c}}createOrderBy(c,d){return{type:n.types.ORDER_BY,input:c,expressions:d}}createPath(c,d,f,h){return h?{type:n.types.PATH,subject:c,predicate:d,object:f,graph:h}:{type:n.types.PATH,subject:c,predicate:d,object:f,graph:this.dataFactory.defaultGraph()}}createPattern(c,d,f,h){const p=this.dataFactory.quad(c,d,f,h);return p.type=n.types.PATTERN,p}createProject(c,d){return{type:n.types.PROJECT,input:c,variables:d}}createReduced(c){return{type:n.types.REDUCED,input:c}}createSeq(c,d=!0){return this.flattenMulti({type:n.types.SEQ,input:c},d)}createService(c,d,f){return{type:n.types.SERVICE,input:c,name:d,silent:!!f}}createSlice(c,d,f){return d=d||0,f!==void 0?{type:n.types.SLICE,input:c,start:d,length:f}:{type:n.types.SLICE,input:c,start:d}}createUnion(c,d=!0){return this.flattenMulti({type:n.types.UNION,input:c},d)}createValues(c,d){return{type:n.types.VALUES,variables:c,bindings:d}}createZeroOrMorePath(c){return{type:n.types.ZERO_OR_MORE_PATH,path:c}}createZeroOrOnePath(c){return{type:n.types.ZERO_OR_ONE_PATH,path:c}}createAggregateExpression(c,d,f,h){return h?{type:n.types.EXPRESSION,expressionType:n.expressionTypes.AGGREGATE,aggregator:c,expression:d,separator:h,distinct:f}:{type:n.types.EXPRESSION,expressionType:n.expressionTypes.AGGREGATE,aggregator:c,expression:d,distinct:f}}createExistenceExpression(c,d){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.EXISTENCE,not:c,input:d}}createNamedExpression(c,d){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.NAMED,name:c,args:d}}createOperatorExpression(c,d){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.OPERATOR,operator:c,args:d}}createTermExpression(c){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.TERM,term:c}}createWildcardExpression(){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.WILDCARD,wildcard:new o.Wildcard}}createTerm(c){return c[0]==="$"&&(c=c.replace("$","?")),(0,s.stringToTerm)(c,this.dataFactory)}createCompositeUpdate(c){return{type:n.types.COMPOSITE_UPDATE,updates:c}}createDeleteInsert(c,d,f){const h={type:n.types.DELETE_INSERT};return c&&(h.delete=c),d&&(h.insert=d),f&&(h.where=f),h}createLoad(c,d,f){const h={type:n.types.LOAD,source:c};return d&&(h.destination=d),this.addSilent(h,!!f)}createClear(c,d){return this.addSilent({type:n.types.CLEAR,source:c},!!d)}createCreate(c,d){return this.addSilent({type:n.types.CREATE,source:c},!!d)}createDrop(c,d){return this.addSilent({type:n.types.DROP,source:c},!!d)}createAdd(c,d,f){return this.addSilent({type:n.types.ADD,source:c,destination:d},!!f)}createMove(c,d,f){return this.addSilent({type:n.types.MOVE,source:c,destination:d},!!f)}createCopy(c,d,f){return this.addSilent({type:n.types.COPY,source:c,destination:d},!!f)}addSilent(c,d){return d&&(c.silent=d),c}flattenMulti(c,d){if(!d)return c;const f=c.type,h=c.input;let p=[];for(const m of h)m.type===f?p.push(...m.input):p.push(m);return c.input=p,c}}return U1.default=u,U1}var k1={},Uj;function dD(){if(Uj)return k1;Uj=1;var e=N&&N.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(k1,"__esModule",{value:!0});const t=Fb(),r=e(kS()),n=Sn();class a{static flatten(o){return Array.prototype.concat(...o).filter(u=>u)}static objectify(o){if(o.termType){if(o.termType==="Quad")return{type:"pattern",termType:"Quad",subject:a.objectify(o.subject),predicate:a.objectify(o.predicate),object:a.objectify(o.object),graph:a.objectify(o.graph)};{let u={termType:o.termType,value:o.value};return o.language&&(u.language=o.language),o.datatype&&(u.datatype=a.objectify(o.datatype)),u}}if(Array.isArray(o))return o.map(u=>a.objectify(u));if(o===Object(o)){let u={};for(let l of Object.keys(o))u[l]=a.objectify(o[l]);return u}return o}static inScopeVariables(o){const u=[];function l(d){u.find(f=>d.value===f.value)||u.push(d)}function c(d){d.subject.termType==="Variable"&&l(d.subject),d.predicate.termType==="Variable"&&l(d.predicate),d.object.termType==="Variable"&&l(d.object),d.graph.termType==="Variable"&&l(d.graph),d.subject.termType==="Quad"&&c(d.subject),d.predicate.termType==="Quad"&&c(d.predicate),d.object.termType==="Quad"&&c(d.object),d.graph.termType==="Quad"&&c(d.graph)}return a.recurseOperation(o,{[t.types.EXPRESSION]:d=>(d.expressionType===t.expressionTypes.AGGREGATE&&d.variable&&l(d.variable),!0),[t.types.EXTEND]:d=>(l(d.variable),!0),[t.types.GRAPH]:d=>(d.name.termType==="Variable"&&l(d.name),!0),[t.types.GROUP]:d=>(d.variables.forEach(l),!0),[t.types.PATH]:d=>(d.subject.termType==="Variable"&&l(d.subject),d.object.termType==="Variable"&&l(d.object),d.graph.termType==="Variable"&&l(d.graph),d.subject.termType==="Quad"&&c(d.subject),d.object.termType==="Quad"&&c(d.object),d.graph.termType==="Quad"&&c(d.graph),!0),[t.types.PATTERN]:d=>(c(d),!0),[t.types.PROJECT]:d=>(d.variables.forEach(l),!1),[t.types.SERVICE]:d=>(d.name.termType==="Variable"&&l(d.name),!0),[t.types.VALUES]:d=>(d.variables.forEach(l),!0)}),u}static recurseOperation(o,u){let l=o,c=!0;const d=u[o.type];if(d&&(c=d(o)),!c)return;let f=h=>a.recurseOperation(h,u);switch(l.type){case t.types.ALT:l.input.map(f);break;case t.types.ASK:f(l.input);break;case t.types.BGP:l.patterns.forEach(f);break;case t.types.CONSTRUCT:f(l.input),l.template.map(f);break;case t.types.DESCRIBE:f(l.input);break;case t.types.DISTINCT:f(l.input);break;case t.types.EXPRESSION:l.expressionType===t.expressionTypes.EXISTENCE&&f(l.input);break;case t.types.EXTEND:f(l.input),f(l.expression);break;case t.types.FILTER:f(l.input),f(l.expression);break;case t.types.FROM:f(l.input);break;case t.types.GRAPH:f(l.input);break;case t.types.GROUP:f(l.input),l.aggregates.forEach(f);break;case t.types.INV:f(l.path);break;case t.types.JOIN:l.input.map(f);break;case t.types.LEFT_JOIN:l.input.map(f),l.expression&&f(l.expression);break;case t.types.LINK:break;case t.types.MINUS:l.input.map(f);break;case t.types.NOP:break;case t.types.NPS:break;case t.types.ONE_OR_MORE_PATH:f(l.path);break;case t.types.ORDER_BY:f(l.input),l.expressions.forEach(f);break;case t.types.PATH:f(l.predicate);break;case t.types.PATTERN:break;case t.types.PROJECT:f(l.input);break;case t.types.REDUCED:f(l.input);break;case t.types.SEQ:l.input.map(f);break;case t.types.SERVICE:f(l.input);break;case t.types.SLICE:f(l.input);break;case t.types.UNION:l.input.map(f);break;case t.types.VALUES:break;case t.types.ZERO_OR_MORE_PATH:f(l.path);break;case t.types.ZERO_OR_ONE_PATH:f(l.path);break;case t.types.COMPOSITE_UPDATE:l.updates.forEach(h=>f(h));break;case t.types.DELETE_INSERT:l.delete&&l.delete.forEach(h=>f(h)),l.insert&&l.insert.forEach(h=>f(h)),l.where&&f(l.where);break;case t.types.LOAD:break;case t.types.CLEAR:break;case t.types.CREATE:break;case t.types.DROP:break;case t.types.ADD:break;case t.types.MOVE:break;case t.types.COPY:break;default:throw new Error(`Unknown Operation type ${l.type}`)}}static mapOperation(o,u,l){let c=o,d=!0,f=!0;l=l||new r.default;const h=u[o.type];if(h){const y=h(o,l);c=y.result,d=y.recurse,f=y.copyMetadata!==!1}let p;if(f&&(c.metadata||o.metadata)&&(p={...c.metadata,...o.metadata}),!d)return p&&(c.metadata=p),c;let m=y=>a.mapOperation(y,u,l);switch(c.type){case t.types.ALT:c=l.createAlt(c.input.map(m));break;case t.types.ASK:c=l.createAsk(m(c.input));break;case t.types.BGP:c=l.createBgp(c.patterns.map(m));break;case t.types.CONSTRUCT:c=l.createConstruct(m(c.input),c.template.map(m));break;case t.types.DESCRIBE:c=l.createDescribe(m(c.input),c.terms);break;case t.types.DISTINCT:c=l.createDistinct(m(c.input));break;case t.types.EXPRESSION:c=a.mapExpression(c,u,l);break;case t.types.EXTEND:c=l.createExtend(m(c.input),c.variable,m(c.expression));break;case t.types.FILTER:c=l.createFilter(m(c.input),m(c.expression));break;case t.types.FROM:c=l.createFrom(m(c.input),[...c.default],[...c.named]);break;case t.types.GRAPH:c=l.createGraph(m(c.input),c.name);break;case t.types.GROUP:c=l.createGroup(m(c.input),[].concat(c.variables),c.aggregates.map(m));break;case t.types.INV:c=l.createInv(m(c.path));break;case t.types.JOIN:c=l.createJoin(c.input.map(m));break;case t.types.LEFT_JOIN:c=l.createLeftJoin(m(c.input[0]),m(c.input[1]),c.expression?m(c.expression):void 0);break;case t.types.LINK:c=l.createLink(c.iri);break;case t.types.MINUS:c=l.createMinus(m(c.input[0]),m(c.input[1]));break;case t.types.NOP:c=l.createNop();break;case t.types.NPS:c=l.createNps([].concat(c.iris));break;case t.types.ONE_OR_MORE_PATH:c=l.createOneOrMorePath(m(c.path));break;case t.types.ORDER_BY:c=l.createOrderBy(m(c.input),c.expressions.map(m));break;case t.types.PATH:c=l.createPath(c.subject,m(c.predicate),c.object,c.graph);break;case t.types.PATTERN:c=l.createPattern(c.subject,c.predicate,c.object,c.graph);break;case t.types.PROJECT:c=l.createProject(m(c.input),[...c.variables]);break;case t.types.REDUCED:c=l.createReduced(m(c.input));break;case t.types.SEQ:c=l.createSeq(c.input.map(m));break;case t.types.SERVICE:c=l.createService(m(c.input),c.name,c.silent);break;case t.types.SLICE:c=l.createSlice(m(c.input),c.start,c.length);break;case t.types.UNION:c=l.createUnion(c.input.map(m));break;case t.types.VALUES:c=l.createValues([].concat(c.variables),c.bindings.map(y=>Object.assign({},y)));break;case t.types.ZERO_OR_MORE_PATH:c=l.createZeroOrMorePath(m(c.path));break;case t.types.ZERO_OR_ONE_PATH:c=l.createZeroOrOnePath(m(c.path));break;case t.types.COMPOSITE_UPDATE:c=l.createCompositeUpdate(c.updates.map(m));break;case t.types.DELETE_INSERT:c=l.createDeleteInsert(c.delete?c.delete.map(m):void 0,c.insert?c.insert.map(m):void 0,c.where?m(c.where):void 0);break;case t.types.LOAD:c=l.createLoad(c.source,c.destination,c.silent);break;case t.types.CLEAR:c=l.createClear(c.source,c.silent);break;case t.types.CREATE:c=l.createCreate(c.source,c.silent);break;case t.types.DROP:c=l.createDrop(c.source,c.silent);break;case t.types.ADD:c=l.createAdd(c.source,c.destination);break;case t.types.MOVE:c=l.createMove(c.source,c.destination);break;case t.types.COPY:c=l.createCopy(c.source,c.destination);break;default:throw new Error(`Unknown Operation type ${c.type}`)}return p&&(c.metadata=p),c}static mapExpression(o,u,l){let c=o,d=!0;l=l||new r.default;const f=u[o.expressionType];if(f&&({result:c,recurse:d}=f(o,l)),!d)return c;let h=p=>a.mapOperation(p,u,l);switch(o.expressionType){case t.expressionTypes.AGGREGATE:return o.variable?l.createBoundAggregate(o.variable,o.aggregator,h(o.expression),o.distinct,o.separator):l.createAggregateExpression(o.aggregator,h(o.expression),o.distinct,o.separator);case t.expressionTypes.EXISTENCE:return l.createExistenceExpression(o.not,h(o.input));case t.expressionTypes.NAMED:return l.createNamedExpression(o.name,o.args.map(h));case t.expressionTypes.OPERATOR:return l.createOperatorExpression(o.operator,o.args.map(h));case t.expressionTypes.TERM:return l.createTermExpression(o.term);case t.expressionTypes.WILDCARD:return l.createWildcardExpression();default:throw new Error(`Unknown Expression type ${o.expressionType}`)}}static cloneOperation(o){return a.mapOperation(o,{})}static cloneExpression(o){return a.mapExpression(o,{})}static createUniqueVariable(o,u,l){let c=0,d=o;for(;u[d];)d=`${o}${c++}`;return l.variable(d)}static isSimpleTerm(o){return o.termType!==void 0&&o.termType!=="Quad"&&o.termType!=="Wildcard"}static isQuad(o){return o.termType==="Quad"}static hasQuadVariables(o){return(0,n.someTermsNested)(o,u=>u.termType==="Variable")}static isWildcard(o){return o.termType==="Wildcard"}}return k1.default=a,k1}var kj;function J2e(){if(kj)return $1;kj=1;var e=N&&N.__createBinding||(Object.create?function(M,B,T,O){O===void 0&&(O=T);var U=Object.getOwnPropertyDescriptor(B,T);(!U||("get"in U?!B.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return B[T]}}),Object.defineProperty(M,O,U)}:function(M,B,T,O){O===void 0&&(O=T),M[O]=B[T]}),t=N&&N.__setModuleDefault||(Object.create?function(M,B){Object.defineProperty(M,"default",{enumerable:!0,value:B})}:function(M,B){M.default=B}),r=N&&N.__importStar||function(M){if(M&&M.__esModule)return M;var B={};if(M!=null)for(var T in M)T!=="default"&&Object.prototype.hasOwnProperty.call(M,T)&&e(B,M,T);return t(B,M),B},n=N&&N.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty($1,"__esModule",{value:!0});const a=K2e(),s=rr,o=r(Fb()),u=n(kS()),l=n(dD()),c=_c.Parser,d=o.types;let f=new Set,h=0,p=!1,m;function y(M,B){B=B||{},m=new u.default(B.dataFactory);let T;if(b(M)){let O=new c(B);O._resetBlanks(),T=O.parse(M)}else T=M;return g(T,B.quads,B.blankToVariable)}$1.default=y;function g(M,B,T){if(f=new Set,h=0,p=!!B,!M.type)return m.createNop();if(M.type!=="query"&&M.type!=="update")throw new Error("Translate only works on complete query or update objects.");let O;if(S(M),M.type==="query"){const U={type:"group",patterns:M.where||[]};O=x(U),O=Te(M,O)}else M.type==="update"&&(O=le(M));return T&&(O=z(O)),O}function b(M){return typeof M=="string"}function v(M){return!!(M!=null&&M.termType)}function _(M){return M.subject&&M.predicate&&M.object}function w(M){return(M==null?void 0:M.termType)==="Variable"}function S(M){if(v(M))w(M)&&f.add(`?${M.value}`);else if(Array.isArray(M))for(const B of M)S(B);else if(M&&typeof M=="object")for(let B of Object.keys(M))B.startsWith("?")?f.add(B):B.startsWith("$")&&f.add(`?${B.slice(1)}`),S(M[B])}function E(M){let B={};if(_(M)){const T=[E(M.subject),E(M.predicate),E(M.object),M.graph?E(M.graph):{}];Object.assign(B,...T)}else if(v(M))w(M)&&(B[M.value]=M);else if(M.type==="bgp"){const T=M.triples;Object.assign(B,...T.map(E))}else if(M.type==="path")Object.assign(B,...M.items.map(E));else if(M.type==="group"||M.type==="union"||M.type==="optional")Object.assign(B,...M.patterns.map(E));else if(M.type==="service"||M.type==="graph")Object.assign(B,E(M.name)),Object.assign(B,...M.patterns.map(E));else if(M.type==="bind")Object.assign(B,E(M.variable));else if(M.type==="values"){if(M.values.length>0){const T=Object.keys(M.values[0]).map(O=>m.createTerm(O));Object.assign(B,...T.map(E))}}else if(M.type==="query"&&(M.queryType==="SELECT"||M.queryType==="DESCRIBE")){M.where&&M.variables.some(l.default.isWildcard)&&Object.assign(B,...M.where.map(E));for(const T of M.variables)w(T)?Object.assign(B,E(T)):T.variable&&Object.assign(B,E(T.variable));if(M.queryType==="SELECT"){if(M.group)for(const T of M.group)T.variable&&Object.assign(B,E(T.variable));if(M.values){const T={type:"values",values:M.values};Object.assign(B,E(T))}}}return B}function x(M){if(M.type==="bgp")return I(M);if(M.type==="union")return m.createUnion(M.patterns.map(B=>(B.type!=="group"&&(B={type:"group",patterns:[B]}),x(B))));if(M.type==="graph"){const B={type:"group",patterns:M.patterns};let T=x(B);return p?T=H(T,M.name):T=m.createGraph(T,M.name),T}if(M.type==="values")return de(M);if(M.type==="query")return g(M,p,!1);if(M.type==="group"){let B=[],T=[];for(let G of M.patterns)(G.type==="filter"?B:T).push(G);let O=T.reduce(J,m.createBgp([])),U=B.map(G=>C(G.expression));return U.length>0&&(O=m.createFilter(O,U.reduce((G,Q)=>m.createOperatorExpression("&&",[G,Q])))),O}throw new Error(`Unexpected type: ${M.type}`)}function C(M){if(l.default.isSimpleTerm(M))return m.createTermExpression(M);if(l.default.isQuad(M))return l.default.hasQuadVariables(M)?m.createOperatorExpression("triple",[C(M.subject),C(M.predicate),C(M.object)]):m.createTermExpression(M);if(l.default.isWildcard(M))return m.createWildcardExpression();if("aggregation"in M)return m.createAggregateExpression(M.aggregation,C(M.expression),!!M.distinct,M.separator);if("function"in M)return m.createNamedExpression(M.function,M.args.map(C));if("operator"in M)return M.operator==="exists"||M.operator==="notexists"?m.createExistenceExpression(M.operator==="notexists",x(M.args[0])):((M.operator==="in"||M.operator==="notin")&&(M.args=[M.args[0]].concat(M.args[1])),m.createOperatorExpression(M.operator,M.args.map(C)));throw new Error(`Unknown expression: ${JSON.stringify(M)}`)}function I(M){let B=[],T=[];for(let O of M.triples)if("pathType"in O.predicate){let U=P(O);for(let G of U)G.type===d.PATH?(B.length>0&&T.push(m.createBgp(B)),B=[],T.push(G)):B.push(G)}else B.push(k(O));return B.length>0&&T.push(m.createBgp(B)),T.length===1?T[0]:m.createJoin(T)}function P(M){let B=M.subject,T=L(M.predicate),O=M.object;return D(B,T,O)}function L(M){if(l.default.isSimpleTerm(M)){if(M.termType==="NamedNode")return m.createLink(M);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(M)}`)}if(M.pathType==="^")return m.createInv(L(M.items[0]));if(M.pathType==="!"){let B=[],T=[],O;"pathType"in M.items[0]&&M.items[0].pathType==="|"?O=M.items[0].items:O=M.items;for(let Q of O)if(l.default.isSimpleTerm(Q))B.push(Q);else if(Q.pathType==="^")T.push(Q.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify(Q)}`);let U=m.createNps(B),G=m.createInv(m.createNps(T));return T.length===0?U:B.length===0?G:m.createAlt([U,G])}if(M.pathType==="/")return m.createSeq(M.items.map(L));if(M.pathType==="|")return m.createAlt(M.items.map(L));if(M.pathType==="*")return m.createZeroOrMorePath(L(M.items[0]));if(M.pathType==="+")return m.createOneOrMorePath(L(M.items[0]));if(M.pathType==="?")return m.createZeroOrOnePath(L(M.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(M)}`)}function D(M,B,T){if(B.type===d.LINK)return[m.createPattern(M,B.iri,T)];if(B.type===d.INV)return D(T,B.path,M);if(B.type===d.SEQ){let O=M;return l.default.flatten(B.input.map((U,G)=>{const Q=G===B.input.length-1?T:V(),Z=D(O,U,Q);return Q.termType==="Variable"&&(O=Q),Z}))}return[m.createPath(M,B,T)]}function V(){let M=`?var${h++}`;return f.has(M)?V():(f.add(M),m.createTerm(M))}function k(M){if("pathType"in M.predicate)throw new Error("Trying to translate property path to quad.");return m.createPattern(M.subject,M.predicate,M.object,M.graph)}let $=Object.values(d);function H(M,B,T){if(M.type===d.GRAPH){if(T)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");M=H(M.input,M.name)}else if(M.type!==d.SERVICE)if(M.type===d.BGP)M.patterns=M.patterns.map(O=>(T&&(O.subject.equals(B)&&(O.subject=T),O.predicate.equals(B)&&(O.predicate=T),O.object.equals(B)&&(O.object=T)),O.graph.termType==="DefaultGraph"&&(O.graph=B),O));else if(M.type===d.PATH)T&&(M.subject.equals(B)&&(M.subject=T),M.object.equals(B)&&(M.object=T)),M.graph.termType==="DefaultGraph"&&(M.graph=B);else if(M.type===d.PROJECT&&!T)M.variables.some(O=>O.equals(B))||(T=V()),M.input=H(M.input,B,T);else if(M.type===d.EXTEND&&!T)M.variable.equals(B)&&(T=V()),M.input=H(M.input,B,T);else for(let O of Object.keys(M))Array.isArray(M[O])?M[O]=M[O].map(U=>H(U,B,T)):$.indexOf(M[O].type)>=0?M[O]=H(M[O],B,T):T&&w(M[O])&&M[O].equals(B)&&(M[O]=T);return M}function J(M,B){if(B.type==="optional"){const T=x({type:"group",patterns:B.patterns});T.type===d.FILTER?M=m.createLeftJoin(M,T.input,T.expression):M=m.createLeftJoin(M,T)}else if(B.type==="minus"){const T=x({type:"group",patterns:B.patterns});M=m.createMinus(M,T)}else if(B.type==="bind")M=m.createExtend(M,B.variable,C(B.expression));else if(B.type==="service"){const T={type:"group",patterns:B.patterns},O=m.createService(x(T),B.name,B.silent);M=Y(M,O)}else{const T=x(B);M=Y(M,T)}return M}function Y(M,B){return M.type===d.BGP&&B.type===d.BGP?M=m.createBgp([...M.patterns,...B.patterns]):M.type===d.BGP&&M.patterns.length===0?M=B:B.type===d.BGP&&B.patterns.length===0||(M=m.createJoin([M,B])),M}function de(M){let B=(M.values.length===0?[]:Object.keys(M.values[0])).map(m.createTerm.bind(m)),T=M.values.map(O=>{let U=Object.keys(O);U=U.filter(Q=>O[Q]!==void 0);let G={};for(let Q of U)G[Q]=O[Q];return G});return m.createValues(B,T)}function Te(M,B){const T=M,O=[],U={};if(T.variables=T.variables&&T.variables.map(Q=>De(Q,U)),T.having=T.having&&T.having.map(Q=>De(Q,U)),T.order=T.order&&T.order.map(Q=>De(Q,U)),T.group||Object.keys(U).length>0){const Q=Object.keys(U).map(ie=>Ve(U[ie],m.createTerm(ie))),Z=[];if(T.group)for(const ie of T.group)if(l.default.isSimpleTerm(ie.expression))Z.push(ie.expression);else{const te="variable"in ie?ie.variable:V();B=m.createExtend(B,te,C(ie.expression)),Z.push(te)}B=m.createGroup(B,Z,Q)}if(T.having)for(let Q of T.having)B=m.createFilter(B,C(Q));M.values&&(B=m.createJoin([B,de(M)]));let G=[];if(M.queryType==="SELECT"||M.queryType==="DESCRIBE")if(M.variables.some(Q=>Q&&l.default.isWildcard(Q)))G=Object.values(E(M)).sort((Q,Z)=>Q.value.localeCompare(Z.value));else for(let Q of M.variables)w(Q)||!("variable"in Q)?G.push(Q):Q.variable&&(G.push(Q.variable),O.push(Q));for(let Q of O)B=m.createExtend(B,Q.variable,C(Q.expression));return T.order&&(B=m.createOrderBy(B,T.order.map(Q=>{let Z=C(Q.expression);return Q.descending&&(Z=m.createOperatorExpression("desc",[Z])),Z}))),M.queryType==="SELECT"&&(B=m.createProject(B,G)),T.distinct&&(B=m.createDistinct(B)),T.reduced&&(B=m.createReduced(B)),M.queryType==="CONSTRUCT"?B=m.createConstruct(B,(M.template||[]).map(k)):M.queryType==="ASK"?B=m.createAsk(B):M.queryType==="DESCRIBE"&&(B=m.createDescribe(B,G)),(T.offset||T.limit)&&(B=m.createSlice(B,T.offset||0,T.limit)),T.from&&(B=m.createFrom(B,T.from.default,T.from.named)),B}function De(M,B){if("type"in M&&M.type==="aggregate"){let T=!1,O;for(let U of Object.keys(B))if(a(B[U],M)){O=m.createTerm(U),T=!0;break}return T||(O=V(),B[(0,s.termToString)(O)]=M),O}return"expression"in M&&M.expression?{...M,expression:De(M.expression,B)}:"args"in M&&M.args?{...M,args:M.args.map(T=>De(T,B))}:M}function Ve(M,B){if(M.type!=="aggregate"||!M.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(M)}`);const T=C(M);return T.variable=B,T}function le(M){return M.updates.length===1?ue(M.updates[0]):m.createCompositeUpdate(M.updates.map(ue))}function ue(M){if("type"in M){if(M.type==="load")return Ae(M);if(M.type==="clear"||M.type==="create"||M.type==="drop")return we(M);if(M.type==="add"||M.type==="copy"||M.type==="move")return Se(M)}else if(M.updateType==="insertdelete"||M.updateType==="deletewhere"||M.updateType==="delete"||M.updateType==="insert")return Ie(M);throw new Error(`Unknown update type ${JSON.stringify(M)}`)}function Ie(M){if(!p)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let B=[],T=[],O;if(M.delete&&(B=l.default.flatten(M.delete.map(U=>Ne(U,M.graph)))),M.insert&&(T=l.default.flatten(M.insert.map(U=>Ne(U,M.graph)))),M.where&&M.where.length>0){O=x({type:"group",patterns:M.where});const U=M.using;U?O=m.createFrom(O,U.default,U.named):M.graph&&(O=H(O,M.graph))}else M.updateType==="deletewhere"&&B.length>0&&(O=m.createBgp(B));return m.createDeleteInsert(B.length>0?B:void 0,T.length>0?T:void 0,O)}function Ne(M,B){let T=B;M.type==="graph"&&(T=M.name);let O=M.triples;return T&&(O=O.map(U=>Object.assign(U,{graph:T}))),O.map(k)}function we(M){let B;switch(l.default.isSimpleTerm(M.graph)?B=M.graph:M.graph.all?B="ALL":M.graph.default?B="DEFAULT":M.graph.named?B="NAMED":B=M.graph.name,M.type){case"clear":return m.createClear(B,M.silent);case"create":return m.createCreate(B,M.silent);case"drop":return m.createDrop(B,M.silent)}}function Ae(M){return m.createLoad(M.source,M.destination,M.silent)}function Se(M){const B=M.source.default?"DEFAULT":M.source.name,T=M.destination.default?"DEFAULT":M.destination.name;switch(M.type){case"copy":return m.createCopy(B,T,M.silent);case"move":return m.createMove(B,T,M.silent);case"add":return m.createAdd(B,T,M.silent)}}function z(M){const B={},T=Array.from(f).reduce((U,G)=>(U[G]=!0,U),{});return l.default.mapOperation(M,{[o.types.DELETE_INSERT]:U=>({result:m.createDeleteInsert(U.delete,U.insert,U.where&&z(U.where)),recurse:!1}),[o.types.PATH]:(U,G)=>({result:G.createPath(O(U.subject),U.predicate,O(U.object),O(U.graph)),recurse:!1}),[o.types.PATTERN]:(U,G)=>({result:G.createPattern(O(U.subject),O(U.predicate),O(U.object),O(U.graph)),recurse:!1}),[o.types.CONSTRUCT]:U=>({result:m.createConstruct(z(U.input),U.template),recurse:!1})});function O(U){if(U.termType==="BlankNode"){let G=B[U.value];return G||(G=l.default.createUniqueVariable(U.value,T,m.dataFactory),T[G.value]=!0,B[U.value]=G),G}return U}}return $1}var du={},iE={},Vt={},aE={},or={},sE,Vj;function qb(){if(Vj)return sE;Vj=1,sE=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return e.equal=function(r,n,a){if(r!=n)throw new Error(a||"Assertion failed: "+r+" != "+n)},sE}var V1={exports:{}},Hj;function X2e(){return Hj||(Hj=1,typeof Object.create=="function"?V1.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:V1.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),V1.exports}var Qj;function Xa(){if(Qj)return or;Qj=1;var e=qb(),t=X2e();or.inherits=t;function r(D,V){return(D.charCodeAt(V)&64512)!==55296||V<0||V+1>=D.length?!1:(D.charCodeAt(V+1)&64512)===56320}function n(D,V){if(Array.isArray(D))return D.slice();if(!D)return[];var k=[];if(typeof D=="string")if(V){if(V==="hex")for(D=D.replace(/[^a-z0-9]+/ig,""),D.length%2!==0&&(D="0"+D),H=0;H<D.length;H+=2)k.push(parseInt(D[H]+D[H+1],16))}else for(var $=0,H=0;H<D.length;H++){var J=D.charCodeAt(H);J<128?k[$++]=J:J<2048?(k[$++]=J>>6|192,k[$++]=J&63|128):r(D,H)?(J=65536+((J&1023)<<10)+(D.charCodeAt(++H)&1023),k[$++]=J>>18|240,k[$++]=J>>12&63|128,k[$++]=J>>6&63|128,k[$++]=J&63|128):(k[$++]=J>>12|224,k[$++]=J>>6&63|128,k[$++]=J&63|128)}else for(H=0;H<D.length;H++)k[H]=D[H]|0;return k}or.toArray=n;function a(D){for(var V="",k=0;k<D.length;k++)V+=u(D[k].toString(16));return V}or.toHex=a;function s(D){var V=D>>>24|D>>>8&65280|D<<8&16711680|(D&255)<<24;return V>>>0}or.htonl=s;function o(D,V){for(var k="",$=0;$<D.length;$++){var H=D[$];V==="little"&&(H=s(H)),k+=l(H.toString(16))}return k}or.toHex32=o;function u(D){return D.length===1?"0"+D:D}or.zero2=u;function l(D){return D.length===7?"0"+D:D.length===6?"00"+D:D.length===5?"000"+D:D.length===4?"0000"+D:D.length===3?"00000"+D:D.length===2?"000000"+D:D.length===1?"0000000"+D:D}or.zero8=l;function c(D,V,k,$){var H=k-V;e(H%4===0);for(var J=new Array(H/4),Y=0,de=V;Y<J.length;Y++,de+=4){var Te;$==="big"?Te=D[de]<<24|D[de+1]<<16|D[de+2]<<8|D[de+3]:Te=D[de+3]<<24|D[de+2]<<16|D[de+1]<<8|D[de],J[Y]=Te>>>0}return J}or.join32=c;function d(D,V){for(var k=new Array(D.length*4),$=0,H=0;$<D.length;$++,H+=4){var J=D[$];V==="big"?(k[H]=J>>>24,k[H+1]=J>>>16&255,k[H+2]=J>>>8&255,k[H+3]=J&255):(k[H+3]=J>>>24,k[H+2]=J>>>16&255,k[H+1]=J>>>8&255,k[H]=J&255)}return k}or.split32=d;function f(D,V){return D>>>V|D<<32-V}or.rotr32=f;function h(D,V){return D<<V|D>>>32-V}or.rotl32=h;function p(D,V){return D+V>>>0}or.sum32=p;function m(D,V,k){return D+V+k>>>0}or.sum32_3=m;function y(D,V,k,$){return D+V+k+$>>>0}or.sum32_4=y;function g(D,V,k,$,H){return D+V+k+$+H>>>0}or.sum32_5=g;function b(D,V,k,$){var H=D[V],J=D[V+1],Y=$+J>>>0,de=(Y<$?1:0)+k+H;D[V]=de>>>0,D[V+1]=Y}or.sum64=b;function v(D,V,k,$){var H=V+$>>>0,J=(H<V?1:0)+D+k;return J>>>0}or.sum64_hi=v;function _(D,V,k,$){var H=V+$;return H>>>0}or.sum64_lo=_;function w(D,V,k,$,H,J,Y,de){var Te=0,De=V;De=De+$>>>0,Te+=De<V?1:0,De=De+J>>>0,Te+=De<J?1:0,De=De+de>>>0,Te+=De<de?1:0;var Ve=D+k+H+Y+Te;return Ve>>>0}or.sum64_4_hi=w;function S(D,V,k,$,H,J,Y,de){var Te=V+$+J+de;return Te>>>0}or.sum64_4_lo=S;function E(D,V,k,$,H,J,Y,de,Te,De){var Ve=0,le=V;le=le+$>>>0,Ve+=le<V?1:0,le=le+J>>>0,Ve+=le<J?1:0,le=le+de>>>0,Ve+=le<de?1:0,le=le+De>>>0,Ve+=le<De?1:0;var ue=D+k+H+Y+Te+Ve;return ue>>>0}or.sum64_5_hi=E;function x(D,V,k,$,H,J,Y,de,Te,De){var Ve=V+$+J+de+De;return Ve>>>0}or.sum64_5_lo=x;function C(D,V,k){var $=V<<32-k|D>>>k;return $>>>0}or.rotr64_hi=C;function I(D,V,k){var $=D<<32-k|V>>>k;return $>>>0}or.rotr64_lo=I;function P(D,V,k){return D>>>k}or.shr64_hi=P;function L(D,V,k){var $=D<<32-k|V>>>k;return $>>>0}return or.shr64_lo=L,or}var oE={},zj;function Bb(){if(zj)return oE;zj=1;var e=Xa(),t=qb();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return oE.BlockHash=r,r.prototype.update=function(a,s){if(a=e.toArray(a,s),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var o=a.length%this._delta8;this.pending=a.slice(a.length-o,a.length),this.pending.length===0&&(this.pending=null),a=e.join32(a,0,a.length-o,this.endian);for(var u=0;u<a.length;u+=this._delta32)this._update(a,u,u+this._delta32)}return this},r.prototype.digest=function(a){return this.update(this._pad()),t(this.pending===null),this._digest(a)},r.prototype._pad=function(){var a=this.pendingTotal,s=this._delta8,o=s-(a+this.padLength)%s,u=new Array(o+this.padLength);u[0]=128;for(var l=1;l<o;l++)u[l]=0;if(a<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)u[l++]=0;u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=a>>>24&255,u[l++]=a>>>16&255,u[l++]=a>>>8&255,u[l++]=a&255}else for(u[l++]=a&255,u[l++]=a>>>8&255,u[l++]=a>>>16&255,u[l++]=a>>>24&255,u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=0,c=8;c<this.padLength;c++)u[l++]=0;return u},oE}var fu={},Oa={},Gj;function vX(){if(Gj)return Oa;Gj=1;var e=Xa(),t=e.rotr32;function r(d,f,h,p){if(d===0)return n(f,h,p);if(d===1||d===3)return s(f,h,p);if(d===2)return a(f,h,p)}Oa.ft_1=r;function n(d,f,h){return d&f^~d&h}Oa.ch32=n;function a(d,f,h){return d&f^d&h^f&h}Oa.maj32=a;function s(d,f,h){return d^f^h}Oa.p32=s;function o(d){return t(d,2)^t(d,13)^t(d,22)}Oa.s0_256=o;function u(d){return t(d,6)^t(d,11)^t(d,25)}Oa.s1_256=u;function l(d){return t(d,7)^t(d,18)^d>>>3}Oa.g0_256=l;function c(d){return t(d,17)^t(d,19)^d>>>10}return Oa.g1_256=c,Oa}var uE,Wj;function Y2e(){if(Wj)return uE;Wj=1;var e=Xa(),t=Bb(),r=vX(),n=e.rotl32,a=e.sum32,s=e.sum32_5,o=r.ft_1,u=t.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(c,u),uE=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(f,h){for(var p=this.W,m=0;m<16;m++)p[m]=f[h+m];for(;m<p.length;m++)p[m]=n(p[m-3]^p[m-8]^p[m-14]^p[m-16],1);var y=this.h[0],g=this.h[1],b=this.h[2],v=this.h[3],_=this.h[4];for(m=0;m<p.length;m++){var w=~~(m/20),S=s(n(y,5),o(w,g,b,v),_,p[m],l[w]);_=v,v=b,b=n(g,30),g=y,y=S}this.h[0]=a(this.h[0],y),this.h[1]=a(this.h[1],g),this.h[2]=a(this.h[2],b),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],_)},c.prototype._digest=function(f){return f==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},uE}var cE,Kj;function wX(){if(Kj)return cE;Kj=1;var e=Xa(),t=Bb(),r=vX(),n=qb(),a=e.sum32,s=e.sum32_4,o=e.sum32_5,u=r.ch32,l=r.maj32,c=r.s0_256,d=r.s1_256,f=r.g0_256,h=r.g1_256,p=t.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}return e.inherits(y,p),cE=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(b,v){for(var _=this.W,w=0;w<16;w++)_[w]=b[v+w];for(;w<_.length;w++)_[w]=s(h(_[w-2]),_[w-7],f(_[w-15]),_[w-16]);var S=this.h[0],E=this.h[1],x=this.h[2],C=this.h[3],I=this.h[4],P=this.h[5],L=this.h[6],D=this.h[7];for(n(this.k.length===_.length),w=0;w<_.length;w++){var V=o(D,d(I),u(I,P,L),this.k[w],_[w]),k=a(c(S),l(S,E,x));D=L,L=P,P=I,I=a(C,V),C=x,x=E,E=S,S=a(V,k)}this.h[0]=a(this.h[0],S),this.h[1]=a(this.h[1],E),this.h[2]=a(this.h[2],x),this.h[3]=a(this.h[3],C),this.h[4]=a(this.h[4],I),this.h[5]=a(this.h[5],P),this.h[6]=a(this.h[6],L),this.h[7]=a(this.h[7],D)},y.prototype._digest=function(b){return b==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},cE}var lE,Jj;function Z2e(){if(Jj)return lE;Jj=1;var e=Xa(),t=wX();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),lE=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(a){return a==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},lE}var dE,Xj;function SX(){if(Xj)return dE;Xj=1;var e=Xa(),t=Bb(),r=qb(),n=e.rotr64_hi,a=e.rotr64_lo,s=e.shr64_hi,o=e.shr64_lo,u=e.sum64,l=e.sum64_hi,c=e.sum64_lo,d=e.sum64_4_hi,f=e.sum64_4_lo,h=e.sum64_5_hi,p=e.sum64_5_lo,m=t.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}e.inherits(g,m),dE=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(k,$){for(var H=this.W,J=0;J<32;J++)H[J]=k[$+J];for(;J<H.length;J+=2){var Y=L(H[J-4],H[J-3]),de=D(H[J-4],H[J-3]),Te=H[J-14],De=H[J-13],Ve=I(H[J-30],H[J-29]),le=P(H[J-30],H[J-29]),ue=H[J-32],Ie=H[J-31];H[J]=d(Y,de,Te,De,Ve,le,ue,Ie),H[J+1]=f(Y,de,Te,De,Ve,le,ue,Ie)}},g.prototype._update=function(k,$){this._prepareBlock(k,$);var H=this.W,J=this.h[0],Y=this.h[1],de=this.h[2],Te=this.h[3],De=this.h[4],Ve=this.h[5],le=this.h[6],ue=this.h[7],Ie=this.h[8],Ne=this.h[9],we=this.h[10],Ae=this.h[11],Se=this.h[12],z=this.h[13],M=this.h[14],B=this.h[15];r(this.k.length===H.length);for(var T=0;T<H.length;T+=2){var O=M,U=B,G=x(Ie,Ne),Q=C(Ie,Ne),Z=b(Ie,Ne,we,Ae,Se),ie=v(Ie,Ne,we,Ae,Se,z),te=this.k[T],he=this.k[T+1],ce=H[T],ve=H[T+1],Ce=h(O,U,G,Q,Z,ie,te,he,ce,ve),Ee=p(O,U,G,Q,Z,ie,te,he,ce,ve);O=S(J,Y),U=E(J,Y),G=_(J,Y,de,Te,De),Q=w(J,Y,de,Te,De,Ve);var Ue=l(O,U,G,Q),Fe=c(O,U,G,Q);M=Se,B=z,Se=we,z=Ae,we=Ie,Ae=Ne,Ie=l(le,ue,Ce,Ee),Ne=c(ue,ue,Ce,Ee),le=De,ue=Ve,De=de,Ve=Te,de=J,Te=Y,J=l(Ce,Ee,Ue,Fe),Y=c(Ce,Ee,Ue,Fe)}u(this.h,0,J,Y),u(this.h,2,de,Te),u(this.h,4,De,Ve),u(this.h,6,le,ue),u(this.h,8,Ie,Ne),u(this.h,10,we,Ae),u(this.h,12,Se,z),u(this.h,14,M,B)},g.prototype._digest=function(k){return k==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function b(V,k,$,H,J){var Y=V&$^~V&J;return Y<0&&(Y+=4294967296),Y}function v(V,k,$,H,J,Y){var de=k&H^~k&Y;return de<0&&(de+=4294967296),de}function _(V,k,$,H,J){var Y=V&$^V&J^$&J;return Y<0&&(Y+=4294967296),Y}function w(V,k,$,H,J,Y){var de=k&H^k&Y^H&Y;return de<0&&(de+=4294967296),de}function S(V,k){var $=n(V,k,28),H=n(k,V,2),J=n(k,V,7),Y=$^H^J;return Y<0&&(Y+=4294967296),Y}function E(V,k){var $=a(V,k,28),H=a(k,V,2),J=a(k,V,7),Y=$^H^J;return Y<0&&(Y+=4294967296),Y}function x(V,k){var $=n(V,k,14),H=n(V,k,18),J=n(k,V,9),Y=$^H^J;return Y<0&&(Y+=4294967296),Y}function C(V,k){var $=a(V,k,14),H=a(V,k,18),J=a(k,V,9),Y=$^H^J;return Y<0&&(Y+=4294967296),Y}function I(V,k){var $=n(V,k,1),H=n(V,k,8),J=s(V,k,7),Y=$^H^J;return Y<0&&(Y+=4294967296),Y}function P(V,k){var $=a(V,k,1),H=a(V,k,8),J=o(V,k,7),Y=$^H^J;return Y<0&&(Y+=4294967296),Y}function L(V,k){var $=n(V,k,19),H=n(k,V,29),J=s(V,k,6),Y=$^H^J;return Y<0&&(Y+=4294967296),Y}function D(V,k){var $=a(V,k,19),H=a(k,V,29),J=o(V,k,6),Y=$^H^J;return Y<0&&(Y+=4294967296),Y}return dE}var fE,Yj;function eTe(){if(Yj)return fE;Yj=1;var e=Xa(),t=SX();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),fE=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(a){return a==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},fE}var Zj;function tTe(){return Zj||(Zj=1,fu.sha1=Y2e(),fu.sha224=Z2e(),fu.sha256=wX(),fu.sha384=eTe(),fu.sha512=SX()),fu}var hE={},eM;function rTe(){if(eM)return hE;eM=1;var e=Xa(),t=Bb(),r=e.rotl32,n=e.sum32,a=e.sum32_3,s=e.sum32_4,o=t.BlockHash;function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(u,o),hE.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(g,b){for(var v=this.h[0],_=this.h[1],w=this.h[2],S=this.h[3],E=this.h[4],x=v,C=_,I=w,P=S,L=E,D=0;D<80;D++){var V=n(r(s(v,l(D,_,w,S),g[f[D]+b],c(D)),p[D]),E);v=E,E=S,S=r(w,10),w=_,_=V,V=n(r(s(x,l(79-D,C,I,P),g[h[D]+b],d(D)),m[D]),L),x=L,L=P,P=r(I,10),I=C,C=V}V=a(this.h[1],w,P),this.h[1]=a(this.h[2],S,L),this.h[2]=a(this.h[3],E,x),this.h[3]=a(this.h[4],v,C),this.h[4]=a(this.h[0],_,I),this.h[0]=V},u.prototype._digest=function(g){return g==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function l(y,g,b,v){return y<=15?g^b^v:y<=31?g&b|~g&v:y<=47?(g|~b)^v:y<=63?g&v|b&~v:g^(b|~v)}function c(y){return y<=15?0:y<=31?1518500249:y<=47?1859775393:y<=63?2400959708:2840853838}function d(y){return y<=15?1352829926:y<=31?1548603684:y<=47?1836072691:y<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return hE}var pE,tM;function nTe(){if(tM)return pE;tM=1;var e=Xa(),t=qb();function r(n,a,s){if(!(this instanceof r))return new r(n,a,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(a,s))}return pE=r,r.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),t(a.length<=this.blockSize);for(var s=a.length;s<this.blockSize;s++)a.push(0);for(s=0;s<a.length;s++)a[s]^=54;for(this.inner=new this.Hash().update(a),s=0;s<a.length;s++)a[s]^=106;this.outer=new this.Hash().update(a)},r.prototype.update=function(a,s){return this.inner.update(a,s),this},r.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)},pE}var rM;function fD(){return rM||(rM=1,function(e){var t=e;t.utils=Xa(),t.common=Bb(),t.sha=tTe(),t.ripemd=rTe(),t.hmac=nTe(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(aE)),aE}var nM;function iTe(){if(nM)return Vt;nM=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.isTermGrounded=Vt.termToSignature=Vt.quadToSignature=Vt.sha1hex=Vt.hashTerm=Vt.hashTerms=Vt.getGraphBlankNodes=Vt.uniqGraph=Vt.deindexGraph=Vt.indexGraph=Vt.getQuadsWithoutBlankNodes=Vt.getQuadsWithBlankNodes=Vt.hasValue=Vt.hashValues=Vt.getBijectionInner=Vt.getBijection=Vt.isomorphic=void 0;const e=fD(),t=rr,r=Sn();function n(S,E){return!!a(S,E)}Vt.isomorphic=n;function a(S,E){const x=f(d(S)),C=f(d(E));if(Object.keys(x).length!==Object.keys(C).length)return null;for(const V in x)if(x[V]!==C[V])return null;const I=p(c(S)),P=p(c(E)),L=m(S),D=m(E);return s(I,P,L,D)}Vt.getBijection=a;function s(S,E,x,C,I,P){I||(I={}),P||(P={});const[L,D]=y(S,x,I),[V,k]=y(E,C,P);if(Object.keys(L).length!==Object.keys(V).length)return null;for(const H in L)if(!l(V,L[H]))return null;let $={};for(const H of x){const J=t.termToString(H),Y=D[J];for(const de in k)if(k[de]===Y){$[J]=de,delete k[de];break}}if(!o(Object.keys($).sort(),x.map(t.termToString).sort())||!o(u($).sort(),C.map(t.termToString).sort())){$=null;for(const H of x){const J=t.termToString(H);if(!L[J])for(const Y of C){const de=t.termToString(Y);if(!V[de]&&D[J]===k[de]){const Te=b(J);$=s(S,E,x,C,Object.assign(Object.assign({},L),{[J]:Te}),Object.assign(Object.assign({},V),{[de]:Te}))}}}}return $}Vt.getBijectionInner=s;function o(S,E){if(S.length!==E.length)return!1;for(let x=S.length;x--;)if(S[x]!==E[x])return!1;return!0}function u(S){const E=[];for(const x in S)E.push(S[x]);return E}Vt.hashValues=u;function l(S,E){for(const x in S)if(S[x]===E)return!0;return!1}Vt.hasValue=l;function c(S){return S.filter(E=>r.someTerms(E,x=>x.termType==="BlankNode"||x.termType==="Quad"&&r.getTermsNested(x).some(C=>C.termType==="BlankNode")))}Vt.getQuadsWithBlankNodes=c;function d(S){return S.filter(E=>r.everyTerms(E,x=>x.termType!=="BlankNode"&&!(x.termType==="Quad"&&r.getTermsNested(x).some(C=>C.termType==="BlankNode"))))}Vt.getQuadsWithoutBlankNodes=d;function f(S){const E={};for(const x of S)E[JSON.stringify(t.quadToStringQuad(x))]=!0;return E}Vt.indexGraph=f;function h(S){return Object.keys(S).map(E=>t.stringQuadToQuad(JSON.parse(E)))}Vt.deindexGraph=h;function p(S){return h(f(S))}Vt.uniqGraph=p;function m(S){return r.uniqTerms(S.map(E=>r.getBlankNodes(r.getTermsNested(E))).reduce((E,x)=>E.concat(x),[]))}Vt.getGraphBlankNodes=m;function y(S,E,x){const C=Object.assign({},x),I={};let P=!0;for(;P;){const L=Object.keys(C).length;for(const V of E){const k=t.termToString(V);if(!C[k]){const[$,H]=g(V,S,C);$&&(C[k]=H),I[k]=H}}const D={};for(const V in I){const k=I[V];D[k]===void 0?D[k]=V:D[k]=!1}for(const V in D){const k=D[V];k&&(C[k]=V)}P=L!==Object.keys(C).length}return[C,I]}Vt.hashTerms=y;function g(S,E,x){const C=[];let I=!0;for(const L of E){const D=r.getTermsNested(L);if(D.some(V=>V.equals(S))){C.push(v(L,x,S));for(const V of D)!w(V,x)&&!V.equals(S)&&(I=!1)}}const P=b(C.sort().join(""));return[I,P]}Vt.hashTerm=g;function b(S){return e.sha1().update(S).digest("hex")}Vt.sha1hex=b;function v(S,E,x){return r.getTerms(S).map(C=>_(C,E,x)).join("|")}Vt.quadToSignature=v;function _(S,E,x){return S.equals(x)?"@self":S.termType==="BlankNode"?E[t.termToString(S)]||"@blank":S.termType==="Quad"?`<${v(S,E,x)}>`:t.termToString(S)}Vt.termToSignature=_;function w(S,E){return S.termType!=="BlankNode"&&!(S.termType==="Quad"&&r.getTermsNested(S).some(x=>!w(x,E)))||!!E[t.termToString(S)]}return Vt.isTermGrounded=w,Vt}var iM;function aTe(){return iM||(iM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(iTe(),e)}(iE)),iE}var aM;function sTe(){if(aM)return du;aM=1;var e=N&&N.__createBinding||(Object.create?function(ee,Oe,je,Be){Be===void 0&&(Be=je);var Ye=Object.getOwnPropertyDescriptor(Oe,je);(!Ye||("get"in Ye?!Oe.__esModule:Ye.writable||Ye.configurable))&&(Ye={enumerable:!0,get:function(){return Oe[je]}}),Object.defineProperty(ee,Be,Ye)}:function(ee,Oe,je,Be){Be===void 0&&(Be=je),ee[Be]=Oe[je]}),t=N&&N.__setModuleDefault||(Object.create?function(ee,Oe){Object.defineProperty(ee,"default",{enumerable:!0,value:Oe})}:function(ee,Oe){ee.default=Oe}),r=N&&N.__importStar||function(ee){if(ee&&ee.__esModule)return ee;var Oe={};if(ee!=null)for(var je in ee)je!=="default"&&Object.prototype.hasOwnProperty.call(ee,je)&&e(Oe,ee,je);return t(Oe,ee),Oe},n=N&&N.__importDefault||function(ee){return ee&&ee.__esModule?ee:{default:ee}};Object.defineProperty(du,"__esModule",{value:!0}),du.toSparqlJs=du.toSparql=void 0;const a=aTe(),s=rr,o=_c,u=r(Fb()),l=n(kS()),c=n(dD()),d=u.types,f=u.expressionTypes;let h;const p=new l.default;function m(ee,Oe={}){return new o.Generator(Oe).stringify(y(ee))}du.toSparql=m;function y(ee){g(),ee=pe(ee);let Oe=b(ee);return Oe.type==="group"?Oe.patterns[0]:Oe}du.toSparqlJs=y;function g(){h={project:!1,extend:[],group:[],aggregates:[],order:[]}}function b(ee){switch(ee.type!==d.EXTEND&&ee.type!==d.ORDER_BY&&ee.type!==d.GRAPH&&(h.project=!1),ee.type){case d.EXPRESSION:return v(ee);case d.ASK:return Ae(ee,d.ASK);case d.BGP:return V(ee);case d.CONSTRUCT:return k(ee);case d.DESCRIBE:return Ae(ee,d.DESCRIBE);case d.DISTINCT:return $(ee);case d.EXTEND:return H(ee);case d.FROM:return J(ee);case d.FILTER:return Y(ee);case d.GRAPH:return de(ee);case d.GROUP:return Te(ee);case d.JOIN:return De(ee);case d.LEFT_JOIN:return Ve(ee);case d.MINUS:return le(ee);case d.NOP:return{};case d.ORDER_BY:return ue(ee);case d.PATH:return Ie(ee);case d.PATTERN:return Ne(ee);case d.PROJECT:return Ae(ee,d.PROJECT);case d.REDUCED:return z(ee);case d.SERVICE:return M(ee);case d.SLICE:return B(ee);case d.UNION:return T(ee);case d.VALUES:return O(ee);case d.COMPOSITE_UPDATE:return ve(ee);case d.DELETE_INSERT:return Ce(ee);case d.LOAD:return Ee(ee);case d.CLEAR:return Ue(ee);case d.CREATE:return Fe(ee);case d.DROP:return Qe(ee);case d.ADD:return K(ee);case d.MOVE:return j(ee);case d.COPY:return q(ee)}throw new Error(`Unknown Operation type ${ee.type}`)}function v(ee){switch(ee.expressionType){case f.AGGREGATE:return S(ee);case f.EXISTENCE:return E(ee);case f.NAMED:return x(ee);case f.OPERATOR:return C(ee);case f.TERM:return I(ee);case f.WILDCARD:return P(ee)}throw new Error(`Unknown Expression Operation type ${ee.expressionType}`)}function _(ee){switch(ee.type){case d.ALT:return U(ee);case d.INV:return G(ee);case d.LINK:return Q(ee);case d.NPS:return Z(ee);case d.ONE_OR_MORE_PATH:return ie(ee);case d.SEQ:return te(ee);case d.ZERO_OR_MORE_PATH:return he(ee);case d.ZERO_OR_ONE_PATH:return ce(ee)}throw new Error(`Unknown Path type ${ee.type}`)}function w(ee){return(0,s.termToString)(ee)}function S(ee){const Oe={expression:v(ee.expression),type:"aggregate",aggregation:ee.aggregator,distinct:ee.distinct};return ee.separator&&(Oe.separator=ee.separator),Oe}function E(ee){return{type:"operation",operator:ee.not?"notexists":"exists",args:[{type:"group",patterns:c.default.flatten([b(ee.input)])}]}}function x(ee){return{type:"functionCall",function:ee.name,args:ee.args.map(v)}}function C(ee){if(ee.operator==="desc"){const je={expression:v(ee.args[0])};return je.descending=!0,je}const Oe={type:"operation",operator:ee.operator,args:ee.args.map(v)};return(Oe.operator==="in"||Oe.operator==="notin")&&(Oe.args=[Oe.args[0]].concat([Oe.args.slice(1)])),Oe}function I(ee){return ee.term}function P(ee){return ee.wildcard}function L(ee){return Array.isArray(ee)?ee.length===1?ee[0]:{type:"group",patterns:ee}:ee}function D(ee){return ee}function V(ee){let Oe=ee.patterns.map(Ne);return Oe.length===0?null:{type:"bgp",triples:Oe}}function k(ee){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:ee.template.map(Ne),where:c.default.flatten([b(ee.input)])}}function $(ee){let Oe=b(ee.input);return Oe.patterns[0].distinct=!0,Oe}function H(ee){return h.project?(h.extend.push(ee),b(ee.input)):c.default.flatten([b(ee.input),{type:"bind",variable:ee.variable,expression:v(ee.expression)}])}function J(ee){const Oe=b(ee.input);let je=Oe;return Oe.type==="group"&&(je=Oe.patterns[0]),je.from={default:ee.default,named:ee.named},Oe}function Y(ee){return{type:"group",patterns:c.default.flatten([b(ee.input),{type:"filter",expression:v(ee.expression)}])}}function de(ee){return{type:"graph",patterns:c.default.flatten([b(ee.input)]),name:ee.name}}function Te(ee){const Oe=b(ee.input),je=ee.aggregates.map(D);return h.aggregates.push(...je),h.group.push(...ee.variables),Oe}function De(ee){return c.default.flatten(ee.input.map(b)).reduce((je,Be)=>(Be.type!=="bgp"||je.length==0||je[je.length-1].type!=="bgp"?je.push(Be):je[je.length-1].triples.push(...Be.triples),je),[])}function Ve(ee){const Oe={type:"optional",patterns:[b(ee.input[1])]};return ee.expression&&Oe.patterns.push({type:"filter",expression:v(ee.expression)}),Oe.patterns=c.default.flatten(Oe.patterns),c.default.flatten([b(ee.input[0]),Oe])}function le(ee){let Oe=b(ee.input[1]);return Oe.type==="group"&&(Oe=Oe.patterns),Array.isArray(Oe)||(Oe=[Oe]),c.default.flatten([b(ee.input[0]),{type:"minus",patterns:Oe}])}function ue(ee){return h.order.push(...ee.expressions),b(ee.input)}function Ie(ee){return{type:"bgp",triples:[{subject:ee.subject,predicate:_(ee.predicate),object:ee.object}]}}function Ne(ee){return{subject:ee.subject,predicate:ee.predicate,object:ee.object}}function we(ee,Oe){let je=c.default.isSimpleTerm(ee)?w(ee):ee;if(typeof je=="string"){if(Oe[je])return Oe[je]}else if(Array.isArray(ee))ee=ee.map(Be=>we(Be,Oe));else for(let Be of Object.keys(ee))ee[Be]=we(ee[Be],Oe);return ee}function Ae(ee,Oe){const je={type:"query",prefixes:{}},Be=je;let Ye;Oe===d.PROJECT?(je.queryType="SELECT",Ye=ee.variables):Oe===d.ASK?je.queryType="ASK":Oe===d.DESCRIBE&&(je.queryType="DESCRIBE",Ye=ee.terms);const ct=h.extend,ft=h.group,ot=h.aggregates,mt=h.order;g(),h.project=!0;let ne=c.default.flatten([b(ee.input)]);ne.length===1&&ne[0].type==="group"&&(ne=ne[0].patterns),je.where=ne;let A={};for(let F of h.aggregates)A[w(F.variable)]=v(F);let R={};for(let F=h.extend.length-1;F>=0;--F){let X=h.extend[F];R[w(X.variable)]=we(v(X.expression),A)}if(h.group.length>0&&(Be.group=h.group.map(F=>{let X=w(F);if(R[X]){let me=R[X];return delete R[X],{variable:F,expression:me}}return{expression:F}})),h.order.length>0&&(Be.order=h.order.map(b).map(F=>F.descending?F:{expression:F})),Ye&&(Be.variables=Ye.map(F=>{let X=w(F);return R[X]?{variable:F,expression:R[X]}:F}),Be.variables.length===0&&(Be.variables=[new o.Wildcard])),je.where.length>0&&je.where[je.where.length-1].type==="filter"){const F=je.where[je.where.length-1];Se(F,Object.keys(A))&&(Be.having=c.default.flatten([we(F.expression,A)]),je.where.splice(-1))}return h.extend=ct,h.group=ft,h.aggregates=ot,h.order=mt,{type:"group",patterns:[Be]}}function Se(ee,Oe){return c.default.isSimpleTerm(ee)?Oe.indexOf(w(ee))>=0:Array.isArray(ee)?ee.some(je=>Se(je,Oe)):ee===Object(ee)?Object.keys(ee).some(je=>Se(ee[je],Oe)):Oe.indexOf(ee)>=0}function z(ee){let Oe=b(ee.input);return Oe.patterns[0].reduced=!0,Oe}function M(ee){let Oe=b(ee.input);return Oe.type==="group"&&(Oe=Oe.patterns),Array.isArray(Oe)||(Oe=[Oe]),{type:"service",name:ee.name,silent:ee.silent,patterns:Oe}}function B(ee){let Oe=b(ee.input),je=Oe;return Oe.type&&Oe.type==="group"&&(je=Oe.patterns[0]),ee.start!==0&&(je.offset=ee.start),ee.length!==void 0&&(je.limit=ee.length),Oe}function T(ee){return{type:"union",patterns:ee.input.map(b).map(L)}}function O(ee){return{type:"values",values:ee.bindings.map(Oe=>{let je={};for(let Be of ee.variables){let Ye=`?${Be.value}`;Oe[Ye]?je[Ye]=Oe[Ye]:je[Ye]=void 0}return je})}}function U(ee){const Oe=ee.input.map(_);return Oe.every(je=>"pathType"in je&&je.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:c.default.flatten(Oe.map(je=>je.items))}]}:{type:"path",pathType:"|",items:Oe}}function G(ee){if(ee.path.type===d.NPS){const Oe=ee.path.iris.map(je=>({type:"path",pathType:"^",items:[je]}));return Oe.length<=1?{type:"path",pathType:"!",items:Oe}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:Oe}]}}return{type:"path",pathType:"^",items:[_(ee.path)]}}function Q(ee){return ee.iri}function Z(ee){return ee.iris.length<=1?{type:"path",pathType:"!",items:ee.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:ee.iris}]}}function ie(ee){return{type:"path",pathType:"+",items:[_(ee.path)]}}function te(ee){return{type:"path",pathType:"/",items:ee.input.map(_)}}function he(ee){return{type:"path",pathType:"*",items:[_(ee.path)]}}function ce(ee){return{type:"path",pathType:"?",items:[_(ee.path)]}}function ve(ee){const Oe=ee.updates.map(je=>b(je).updates[0]);return{prefixes:{},type:"update",updates:Oe}}function Ce(ee){var Oe;let je=ee.where,Be;if(je&&je.type===d.FROM){let ct=je;je=ct.input,Be={default:ct.default,named:ct.named}}const Ye=[{updateType:"insertdelete",delete:re(ee.delete||[]),insert:re(ee.insert||[])}];if(Be&&(Ye[0].using=Be),!je||je.type===d.BGP&&je.patterns.length===0)Ye[0].where=[];else{const ct=[];let ft=b(ge(je,ct));if(ft.type==="group"?Ye[0].where=ft.patterns:Ye[0].where=[ft],ct.length>0){if(ct.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((Oe=ct[0])===null||Oe===void 0?void 0:Oe.value)!==""&&(Ye[0].where=[{type:"graph",patterns:Ye[0].where,name:ct[0]}])}}return!ee.delete&&!ee.where?(Ye[0].updateType="insert",delete Ye[0].delete,delete Ye[0].where):!ee.insert&&!ee.where?(delete Ye[0].insert,delete Ye[0].where,ee.delete.some(ct=>ct.subject.termType==="Variable"||ct.predicate.termType==="Variable"||ct.object.termType==="Variable")?Ye[0].updateType="deletewhere":Ye[0].updateType="delete"):!ee.insert&&ee.where&&ee.where.type==="bgp"&&(0,a.isomorphic)(ee.delete,ee.where.patterns)&&(delete Ye[0].where,Ye[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:Ye}}function Ee(ee){const Oe=[{type:"load",silent:!!ee.silent,source:ee.source}];return ee.destination&&(Oe[0].destination=ee.destination),{prefixes:{},type:"update",updates:Oe}}function Ue(ee){return ke(ee,"clear")}function Fe(ee){return ke(ee,"create")}function Qe(ee){return ke(ee,"drop")}function ke(ee,Oe){const je=[{type:Oe,silent:!!ee.silent}];return ee.source==="DEFAULT"?je[0].graph={default:!0}:ee.source==="NAMED"?je[0].graph={named:!0}:ee.source==="ALL"?je[0].graph={all:!0}:je[0].graph={type:"graph",name:ee.source},{prefixes:{},type:"update",updates:je}}function K(ee){return W(ee,"add")}function j(ee){return W(ee,"move")}function q(ee){return W(ee,"copy")}function W(ee,Oe){const je=[{type:Oe,silent:!!ee.silent}];return je[0].source=ee.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:ee.source},je[0].destination=ee.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:ee.destination},{prefixes:{},type:"update",updates:je}}function re(ee){if(!ee)return[];const Oe={};return ee.forEach(je=>{const Be=je.graph.value;Oe[Be]||(Oe[Be]=[]),Oe[Be].push(je)}),Object.keys(Oe).map(je=>je===""?{type:"bgp",triples:Oe[je].map(Ne)}:{type:"graph",triples:Oe[je].map(Ne),name:Oe[je][0].graph})}function pe(ee){return ge(ee,[])}function ge(ee,Oe){if(Array.isArray(ee))return ee.map(ft=>ge(ft,Oe));if(!ee.type||ee.type===d.DELETE_INSERT)return ee;if((ee.type===d.PATTERN||ee.type===d.PATH)&&ee.graph)return Oe.push(ee.graph),ee.graph.name!==""?ee.type===d.PATTERN?p.createPattern(ee.subject,ee.predicate,ee.object):p.createPath(ee.subject,ee.predicate,ee.object):ee;const je={},Be={},Ye={};for(let ft of Object.keys(ee)){const ot=[];if(je[ft]=ge(ee[ft],ot),ot.length>0){Be[ft]=ot;for(const mt of ot)Ye[mt.value]=mt}}const ct=Object.keys(Ye);if(ct.length>0)if(ct.length===1&&![d.PROJECT,d.SERVICE].includes(ee.type))Oe.push(Ye[ct[0]]);else{if(ee.type===d.BGP)return qe(ee,Be.patterns);for(let ft of Object.keys(Be)){const ot=je[ft];Array.isArray(ot)?je[ft]=ot.map((mt,ne)=>Be[ft][0].value===""?mt:p.createGraph(mt,Be[ft][ne])):Be[ft][0].value!==""&&(je[ft]=p.createGraph(ot,Be[ft][0]))}}return je}function qe(ee,Oe){var je;const Be={};for(let ft=0;ft<ee.patterns.length;++ft){const ot=ee.patterns[ft],mt=Oe[ft].value;Be[mt]=(je=Be[mt])!==null&&je!==void 0?je:{patterns:[],graph:Oe[ft]},Be[mt].patterns.push(ot)}let Ye=[];for(const[ft,{patterns:ot,graph:mt}]of Object.entries(Be)){const ne=p.createBgp(ot);Ye.push(ft===""?ne:p.createGraph(ne,mt))}let ct=Ye[0];for(let ft=1;ft<Ye.length;++ft)ct=p.createJoin([ct,Ye[ft]]);return ct}return du}var sM;function Nt(){return sM||(sM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(d,f,h,p){p===void 0&&(p=h);var m=Object.getOwnPropertyDescriptor(f,h);(!m||("get"in m?!f.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,p,m)}:function(d,f,h,p){p===void 0&&(p=h),d[p]=f[h]}),r=N&&N.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),n=N&&N.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var h in d)h!=="default"&&Object.prototype.hasOwnProperty.call(d,h)&&t(f,d,h);return r(f,d),f},a=N&&N.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.toSparqlJs=e.toSparql=e.Factory=e.Algebra=e.translate=void 0;const s=a(J2e());e.translate=s.default;const o=n(Fb());e.Algebra=o;const u=a(kS());e.Factory=u.default;const l=sTe();Object.defineProperty(e,"toSparql",{enumerable:!0,get:function(){return l.toSparql}}),Object.defineProperty(e,"toSparqlJs",{enumerable:!0,get:function(){return l.toSparqlJs}});const c=a(dD());e.Util=c.default}(tE)),tE}var oM;function TX(){if(oM)return lu;oM=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.materializeOperation=lu.materializeTerm=void 0;const e=xt,t=rr,r=Sn(),n=Nt(),a=new e.DataFactory,s=a.literal("true",a.namedNode("http://www.w3.org/2001/XMLSchema#boolean"));function o(l,c){if(l.termType==="Variable"){const d=c.get(l);if(d)return d}return l.termType==="Quad"&&(0,r.someTermsNested)(l,d=>d.termType==="Variable")?(0,r.mapTermsNested)(l,d=>o(d,c)):l}lu.materializeTerm=o;function u(l,c,d,f={}){return f={strictTargetVariables:"strictTargetVariables"in f?f.strictTargetVariables:!1,bindFilter:"bindFilter"in f?f.bindFilter:!0},n.Util.mapOperation(l,{path(h,p){return{recurse:!1,result:Object.assign(p.createPath(o(h.subject,c),h.predicate,o(h.object,c),o(h.graph,c)),{metadata:h.metadata})}},pattern(h,p){return{recurse:!1,result:Object.assign(p.createPattern(o(h.subject,c),o(h.predicate,c),o(h.object,c),o(h.graph,c)),{metadata:h.metadata})}},extend(h){if(c.has(h.variable)){if(f.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,t.termToString)(h.variable)} in a BIND operator.`);return{recurse:!0,result:u(h.input,c,d,f)}}return{recurse:!0,result:h}},group(h,p){if(f.strictTargetVariables){for(const y of h.variables)if(c.has(y))throw new Error(`Tried to bind variable ${(0,t.termToString)(y)} in a GROUP BY operator.`);return{recurse:!0,result:h}}const m=h.variables.filter(y=>!c.has(y));return{recurse:!0,result:p.createGroup(h.input,m,h.aggregates)}},project(h,p){if(f.strictTargetVariables){for(const g of h.variables)if(c.has(g))throw new Error(`Tried to bind variable ${(0,t.termToString)(g)} in a SELECT operator.`);return{recurse:!0,result:h}}const m=h.variables.filter(g=>!c.has(g)),y=d.bindings(h.variables.map(g=>{const b=c.get(g);if(b)return[g,b]}).filter(Boolean));return{recurse:!1,result:p.createProject(u(h.input,y,d,f),m)}},values(h,p){if(f.strictTargetVariables){for(const m of h.variables)if(c.has(m))throw new Error(`Tried to bind variable ${(0,t.termToString)(m)} in a VALUES operator.`)}else{const m=h.variables.filter(g=>!c.has(g)),y=h.bindings.map(g=>{const b={...g};let v=!0;return c.forEach((_,w)=>{const S=(0,t.termToString)(w);S in b&&(_.equals(b[S])||(v=!1),delete b[S])}),v?b:void 0}).filter(Boolean);return{recurse:!0,result:p.createValues(m,y)}}return{recurse:!1,result:h}},expression(h,p){if(!f.bindFilter)return{recurse:!1,result:h};if(h.expressionType==="term")return{recurse:!1,result:p.createTermExpression(o(h.term,c))};if(h.expressionType==="operator")return h.operator==="bound"&&h.args.length===1&&h.args[0].expressionType==="term"&&[...c.keys()].some(m=>h.args[0].term.equals(m))?{recurse:!1,result:p.createTermExpression(s)}:{recurse:!0,result:h};if(h.expressionType==="aggregate"&&"variable"in h&&c.has(h.variable)){if(f.strictTargetVariables)throw new Error(`Tried to bind ${(0,t.termToString)(h.variable)} in a ${h.aggregator} aggregate.`);return{recurse:!0,result:h}}return{recurse:!0,result:h}}})}return lu.materializeOperation=u,lu}var uM;function EX(){if(uM)return Yd;uM=1,Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.ActorQueryOperation=void 0;const e=kt,t=lt,r=lD(),n=TX();let a=0,s=class Ra extends t.Actor{constructor(u){super(u)}static getSafeBindings(u){return Ra.validateQueryOutput(u,"bindings"),u}static getSafeQuads(u){return Ra.validateQueryOutput(u,"quads"),u}static getSafeBoolean(u){return Ra.validateQueryOutput(u,"boolean"),u}static getSafeVoid(u){return Ra.validateQueryOutput(u,"void"),u}static validateQueryOutput(u,l){if(u.type!==l)throw new Error(`Invalid query output type: Expected '${l}' but got '${u.type}'`)}static getBaseExpressionContext(u){const l=u.get(e.KeysInitQuery.queryTimestamp),c=u.get(e.KeysInitQuery.baseIRI),d=u.get(e.KeysInitQuery.functionArgumentsCache)??{};if(u.has(e.KeysInitQuery.extensionFunctionCreator)&&u.has(e.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");let f=u.get(e.KeysInitQuery.extensionFunctionCreator);const h=u.get(e.KeysInitQuery.extensionFunctions);return h&&(f=p=>h[p.value]),{now:l,baseIRI:c,extensionFunctionCreator:f,functionArgumentsCache:d}}static getExpressionContext(u,l){return{...this.getBaseExpressionContext(u),bnode:c=>new r.BlankNodeBindingsScoped(c??`BNODE_${a++}`)}}static getAsyncExpressionContext(u,l,c){return{...this.getBaseExpressionContext(u),bnode:d=>Promise.resolve(new r.BlankNodeBindingsScoped(d??`BNODE_${a++}`)),exists:Ra.createExistenceResolver(u,l,c)}}static createExistenceResolver(u,l,c){return async(d,f)=>{const h=(0,n.materializeOperation)(d.input,f,c),p=await l.mediate({operation:h,context:u}),m=Ra.getSafeBindings(p);return d.not!==((await m.bindingsStream.take(1).toArray()).length===1)}}static throwOnReadOnly(u){if(u.get(e.KeysQueryOperation.readOnly))throw new Error("Attempted a write operation in read-only mode")}static getOperationSource(u){var l;return(l=u.metadata)==null?void 0:l.scopedSource}static assignOperationSource(u,l){return u={...u},u.metadata=u.metadata?{...u.metadata}:{},u.metadata.scopedSource=l,u}static removeOperationSource(u){var l;(l=u.metadata)==null||delete l.scopedSource,u.metadata&&Object.keys(u.metadata).length===0&&delete u.metadata}static doesShapeAcceptOperation(u,l,c){return u.type==="conjunction"?u.children.every(d=>Ra.doesShapeAcceptOperation(d,l,c)):u.type==="disjunction"?u.children.some(d=>Ra.doesShapeAcceptOperation(d,l,c)):u.type==="arity"?Ra.doesShapeAcceptOperation(u.child,l,c):((c==null?void 0:c.joinBindings)&&!u.joinBindings)??((c==null?void 0:c.filterBindings)&&!u.filterBindings)?!1:u.operation.operationType==="type"?u.operation.type==="project"||u.operation.type===l.type:u.operation.pattern.type===l.type}};return Yd.ActorQueryOperation=s,Yd}var tf={},yE={},rf={},cM;function oTe(){if(cM)return rf;cM=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.MetadataValidationState=void 0;let e=class{constructor(){this.invalidateListeners=[],this.valid=!0}addInvalidateListener(r){this.invalidateListeners.push(r)}invalidate(){if(this.valid){this.valid=!1;for(const r of this.invalidateListeners)r()}}};return rf.MetadataValidationState=e,rf}var _i={},lM;function uTe(){if(lM)return _i;lM=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.cachifyMetadata=_i.validateMetadataBindings=_i.validateMetadataQuads=_i.getMetadataBindings=_i.getMetadataQuads=void 0;function e(s){return a(()=>new Promise((o,u)=>{s.getProperty("metadata",l=>o(l)),s.on("error",u)}).then(o=>r(o)))}_i.getMetadataQuads=e;function t(s){return a(()=>new Promise((o,u)=>{s.getProperty("metadata",l=>o(l)),s.on("error",u)}).then(o=>("canContainUndefs"in o||(o.canContainUndefs=!1),n(o))))}_i.getMetadataBindings=t;function r(s){for(const o of["cardinality"])if(!(o in s))throw new Error(`Invalid metadata: missing ${o} in ${JSON.stringify(s)}`);return s}_i.validateMetadataQuads=r;function n(s){for(const o of["cardinality","canContainUndefs","variables"])if(!(o in s))throw new Error(`Invalid metadata: missing ${o} in ${JSON.stringify(s)}`);return s}_i.validateMetadataBindings=n;function a(s){let o;return()=>(o||(o=s(),o.then(u=>u.state.addInvalidateListener(()=>{o=void 0})).catch(()=>{})),o)}return _i.cachifyMetadata=a,_i}var dM;function ai(){return dM||(dM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(oTe(),e),r(uTe(),e)}(yE)),yE}var fM;function AX(){if(fM)return tf;fM=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.ActorQueryOperationTyped=void 0;const e=kt,t=ai(),r=EX();let n=class extends r.ActorQueryOperation{constructor(s,o){if(super({...s,operationName:o}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(s){if(!s.operation)throw new Error("Missing field 'operation' in a query operation action.");if(s.operation.type!==this.operationName)throw new Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${s.operation.type}`);const o=s.operation;return this.testOperation(o,s.context)}async run(s){const o=s.context.get(e.KeysInitQuery.physicalQueryPlanLogger);o&&(o.logOperation(s.operation.type,void 0,s.operation,s.context.get(e.KeysInitQuery.physicalQueryPlanNode),this.name,{}),s.context=s.context.set(e.KeysInitQuery.physicalQueryPlanNode,s.operation));const u=s.operation,l=s.context.set(e.KeysQueryOperation.operation,u),c=await this.runOperation(u,l);return"metadata"in c&&(c.metadata=(0,t.cachifyMetadata)(c.metadata)),c}};return tf.ActorQueryOperationTyped=n,tf}var nf={},hM;function cTe(){if(hM)return nf;hM=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.ActorQueryOperationTypedMediated=void 0;const e=AX();let t=class extends e.ActorQueryOperationTyped{constructor(n,a){super(n,a)}};return nf.ActorQueryOperationTypedMediated=t,nf}var af={},pM;function lTe(){if(pM)return af;pM=1,Object.defineProperty(af,"__esModule",{value:!0}),af.BusQueryOperation=void 0;const e=lt;let t=class extends e.BusIndexed{constructor(n){super({...n,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}};return af.BusQueryOperation=t,af}var sf={},mE={},of={},yM;function dTe(){if(yM)return of;yM=1,Object.defineProperty(of,"__esModule",{value:!0}),of.LinkedList=void 0;class e{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var r;return(r=this._head)===null||r===void 0?void 0:r.value}get last(){var r;return(r=this._tail)===null||r===void 0?void 0:r.value}get empty(){return this._head===null}push(r){const n={value:r,next:null};this._tail===null?this._head=this._tail=n:this._tail.next=this._tail=n,this._length++}shift(){if(this._head===null)return;const{value:r,next:n}=this._head;return this._head=n,n===null&&(this._tail=null),this._length--,r}clear(){this._length=0,this._head=this._tail=null}}return of.LinkedList=e,of}var uf={},mM;function fTe(){if(mM)return uf;mM=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.createTaskScheduler=void 0;const e=Promise.resolve(void 0);function t(){const r=typeof queueMicrotask=="function"?queueMicrotask:o=>e.then(o),n=typeof setImmediate=="function"?setImmediate:o=>setTimeout(o,0);let a=0,s=null;return o=>{s!==null?s.push(o):++a<100?r(o):(s=[o],n(()=>{for(const u of s)r(u);s=null,a=0}))}}return uf.createTaskScheduler=t,uf}var gM;function $t(){return gM||(gM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isIterator=e.isIterable=e.isSourceExpression=e.isPromise=e.isEventEmitter=e.isFunction=e.range=e.union=e.fromIterable=e.fromIterator=e.fromArray=e.single=e.empty=e.wrap=e.WrappingIterator=e.ClonedIterator=e.UnionIterator=e.MultiTransformIterator=e.SimpleTransformIterator=e.TransformIterator=e.BufferedIterator=e.MappingIterator=e.DESTINATION=e.identity=e.IntegerIterator=e.ArrayIterator=e.SingletonIterator=e.EmptyIterator=e.AsyncIterator=e.DESTROYED=e.ENDED=e.CLOSED=e.CLOSING=e.OPEN=e.INIT=e.setTaskScheduler=e.getTaskScheduler=e.scheduleTask=e.LinkedList=void 0;const t=fb,r=dTe();Object.defineProperty(e,"LinkedList",{enumerable:!0,get:function(){return r.LinkedList}});let a=fTe().createTaskScheduler();function s(B){a(B)}e.scheduleTask=s;function o(){return a}e.getTaskScheduler=o;function u(B){a=B}e.setTaskScheduler=u,e.INIT=1,e.OPEN=2,e.CLOSING=4,e.CLOSED=8,e.ENDED=16,e.DESTROYED=32;class l extends t.EventEmitter{constructor(T=e.OPEN){super(),this._readable=!1,this._state=T,this.on("newListener",c)}_changeState(T,O=!1){const U=T>this._state&&this._state<e.ENDED;return U&&(this._state=T,T===e.ENDED&&(O?a(()=>this.emit("end")):this.emit("end"))),U}read(){return null}forEach(T,O){this.on("data",Ie(T,O))}close(){this._changeState(e.CLOSED)&&this._endAsync()}destroy(T){this.done||this._destroy(T,O=>{T=T||O,T&&this.emit("error",T),this._end(!0)})}_destroy(T,O){O()}_end(T=!1){this._changeState(T?e.DESTROYED:e.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){a(()=>this._end())}get readable(){return this._readable}set readable(T){T=!!T&&!this.done,this._readable!==T&&(this._readable=T,T&&a(()=>this.emit("readable")))}get closed(){return this._state>=e.CLOSING}get ended(){return this._state===e.ENDED}get destroyed(){return this._state===e.DESTROYED}get done(){return this._state>=e.ENDED}toString(){const T=this._toStringDetails();return`[${this.constructor.name}${T?` ${T}`:""}]`}_toStringDetails(){return""}toArray(T){const O=[],U=typeof(T==null?void 0:T.limit)=="number"?T.limit:1/0;return this.ended||U<=0?Promise.resolve(O):new Promise((G,Q)=>{const Z=()=>G(O),ie=te=>{O.push(te),O.length>=U&&(this.removeListener("error",Q),this.removeListener("data",ie),this.removeListener("end",Z),G(O))};this.on("error",Q),this.on("data",ie),this.on("end",Z)})}getProperty(T,O){const U=this._properties;if(!O)return U&&U[T];if(U&&T in U)a(()=>O(U[T]));else{let G;(G=this._propertyCallbacks)||(this._propertyCallbacks=G=Object.create(null)),T in G?G[T].push(O):G[T]=[O]}}setProperty(T,O){const U=this._properties||(this._properties=Object.create(null));U[T]=O;const G=this._propertyCallbacks||{},Q=G[T];if(Q){delete G[T],a(()=>{for(const Z of Q)Z(O)});for(T in G)return;delete this._propertyCallbacks}}getProperties(){const T=this._properties,O={};for(const U in T)O[U]=T[U];return O}setProperties(T){for(const O in T)this.setProperty(O,T[O])}copyProperties(T,O){for(const U of O)T.getProperty(U,G=>this.setProperty(U,G))}transform(T){return new P(this,T)}map(T,O){return new b(this,Ie(T,O))}filter(T,O){return this.map(function(U){return T.call(O||this,U)?U:null})}uniq(T=g){const O=new Set;return this.filter(function(U){const G=T.call(this,U);return O.has(G)?!1:(O.add(G),!0)})}prepend(T){return this.transform({prepend:T})}append(T){return this.transform({append:T})}surround(T,O){return this.transform({prepend:T,append:O})}skip(T){return this.map(O=>T-- >0?null:O)}take(T){return this.transform({limit:T})}range(T,O){return this.transform({offset:T,limit:Math.max(O-T+1,0)})}clone(){return new k(this)}[Symbol.asyncIterator](){const T=this;let O=null,U=null,G=null;T.addListener("readable",Q),T.addListener("end",Q),T.addListener("error",Z);function Q(){if(O!==null)if(G!==null)Z(G);else if(T.done)O({done:!0,value:void 0}),O=U=null,ie();else{const te=T.read();te!==null&&(O({done:!1,value:te}),O=U=null)}}function Z(te){U!==null?(U(te),O=U=G=null,ie()):G===null&&(G=te)}function ie(){T.removeListener("readable",Q),T.removeListener("end",Q),T.removeListener("error",Z)}return{next(){return new Promise((te,he)=>{O=te,U=he,Q()})}}}}e.AsyncIterator=l;function c(B){B==="data"&&(this.removeListener("newListener",c),f(this,"readable",d),this.readable&&a(()=>d.call(this)))}function d(){let B;for(;this.listenerCount("data")!==0&&(B=this.read())!==null;)this.emit("data",B);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",d),f(this,"newListener",c))}function f(B,T,O){B.listeners(T).includes(O)||B.on(T,O)}class h extends l{constructor(){super(),this._changeState(e.ENDED,!0)}}e.EmptyIterator=h;class p extends l{constructor(T){super(),this._item=T,T===null?this.close():this.readable=!0}read(){const T=this._item;return this._item=null,this.close(),T}_toStringDetails(){return this._item===null?"":`(${this._item})`}}e.SingletonIterator=p;class m extends l{constructor(T=[],{autoStart:O=!0,preserve:U=!0}={}){super();const G=U||!Array.isArray(T)?[...T]:T;this._index=0,this._sourceStarted=O!==!1,this._truncateThreshold=U?-1:64,this._sourceStarted&&G.length===0?this.close():this._buffer=G,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let T=null;return this._buffer&&(this._index<this._buffer.length&&(T=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),T}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(T,O){delete this._buffer,O()}toArray(T={}){if(!this._buffer)return Promise.resolve([]);const{length:O}=this._buffer,U=this._index,G=typeof T.limit!="number"?O:U+T.limit,Q=this._buffer.slice(U,G);return this._index=G,G>=O&&this.close(),Promise.resolve(Q)}}e.ArrayIterator=m;class y extends l{constructor({start:T=0,step:O=1,end:U}={}){super(),Number.isFinite(T)&&(T=Math.trunc(T)),this._next=T,Number.isFinite(O)&&(O=Math.trunc(O)),this._step=O;const G=O>=0,Q=G?1/0:-1/0;Number.isFinite(U)?U=Math.trunc(U):U!==-Q&&(U=Q),this._last=U,!Number.isFinite(T)||(G?T>U:T<U)?this.close():this.readable=!0}read(){if(this.closed)return null;const T=this._next,O=this._step,U=this._last,G=this._next+=O;return(O>=0?G>U:G<U)&&this.close(),T}_toStringDetails(){return`(${this._next}...${this._last})`}}e.IntegerIterator=y;function g(B){return B}e.identity=g,e.DESTINATION=Symbol("destination");class b extends l{constructor(T,O=g,U={}){super(),this._map=O,this._source=v(T),this._destroySource=U.destroySource!==!1,T.done?this.close():(this._source[e.DESTINATION]=this,this._source.on("end",x),this._source.on("error",E),this._source.on("readable",S),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let T,O;for(;(T=this._source.read())!==null;)if((O=this._map(T))!==null)return O}this.readable=!1,this._source.done&&this.close()}return null}_end(T){this._source.removeListener("end",x),this._source.removeListener("error",E),this._source.removeListener("readable",S),delete this._source[e.DESTINATION],this._destroySource&&this._source.destroy(),super._end(T)}}e.MappingIterator=b;function v(B,T=!1){if(!B||!Ne(B.read)||!Ne(B.on))throw new TypeError(`Invalid source: ${B}`);if(!T&&B[e.DESTINATION])throw new Error("The source already has a destination");return B}class _ extends l{constructor({maxBufferSize:T=4,autoStart:O=!0}={}){super(e.INIT),this._buffer=new r.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=T,a(()=>this._init(O)),this._sourceStarted=O!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(T){T!==1/0&&(T=Number.isFinite(T)?Math.max(Math.trunc(T),1):4),this._maxBufferSize!==T&&(this._maxBufferSize=T,this._state===e.OPEN&&this._fillBuffer())}_init(T){let O=!1;this._reading=!0,this._begin(()=>{if(O)throw new Error("done callback called multiple times");O=!0,this._reading=!1,this._changeState(e.OPEN),T?this._fillBufferAsync():this.readable=!0})}_begin(T){T()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const T=this._buffer;let O;return T.empty?(O=null,this.readable=!1):O=T.shift(),!this._reading&&T.length<this._maxBufferSize&&(this.closed?T.empty&&this._endAsync():this._fillBufferAsync()),O}_read(T,O){O()}_push(T){this.done||(this._pushedCount++,this._buffer.push(T),this.readable=!0)}_fillBuffer(){let T;this._reading||(this.closed?this._completeClose():(T=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(T,()=>{if(!T)throw new Error("done callback called multiple times");T=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,a(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(e.CLOSING):this._completeClose()}_completeClose(){this._changeState(e.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(T,O){this._buffer.clear(),O()}_flush(T){T()}_toStringDetails(){const T=this._buffer;return`{${T.empty?"":`next: ${T.first}, `}buffer: ${T.length}}`}}e.BufferedIterator=_;class w extends _{constructor(T,O=T||{}){super(O),this._boundPush=U=>this._push(U),Se(T)||(T=O.source),we(T)?this.source=T:T&&(this._createSource=Ae(T)?()=>T:T,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!O.optional,this._destroySource=O.destroySource!==!1}get source(){return Ne(this._createSource)&&this._loadSourceAsync(),this._source}set source(T){const O=this._source=this._validateSource(T);O[e.DESTINATION]=this,this.done?this._destroySource&&O.destroy():O.done?this.close():(O.on("end",C),O.on("readable",I),O.on("error",E))}_loadSourceAsync(){Ne(this._createSource)&&(Promise.resolve(this._createSource()).then(T=>{delete this._createSource,this.source=T,this._fillBuffer()},T=>this.emit("error",T)),this._createSource=null)}_validateSource(T,O=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return v(T,O)}_read(T,O){const U=()=>{this._pushedCount<T&&!this.closed?a(()=>this._readAndTransform(U,O)):O()};this._readAndTransform(U,O)}_readAndTransform(T,O){let U;const G=this.source;!G||G.done||(U=G.read())===null?O():this._optional?this._optionalTransform(U,T):this._transform(U,T,this._boundPush)}_optionalTransform(T,O){const U=this._pushedCount;this._transform(T,()=>{U===this._pushedCount&&this._push(T),O()},this._boundPush)}_transform(T,O,U){U(T),O()}_closeWhenDone(){this.close()}_end(T){const O=this._source;O&&(O.removeListener("end",C),O.removeListener("error",E),O.removeListener("readable",I),delete O[e.DESTINATION],this._destroySource&&O.destroy()),super._end(T)}}e.TransformIterator=w;function S(){this[e.DESTINATION].readable=!0}function E(B){this[e.DESTINATION].emit("error",B)}function x(){this[e.DESTINATION].close()}function C(){this[e.DESTINATION]._closeWhenDone()}function I(){this[e.DESTINATION]._sourceStarted!==!1&&this[e.DESTINATION]._fillBuffer()}class P extends w{constructor(T,O){if(super(T,O),this._offset=0,this._limit=1/0,this._filter=U=>!0,O=O||(Se(T)?null:T),O){const U=Ne(O)?O:O.transform,{limit:G,offset:Q,filter:Z,map:ie,prepend:te,append:he}=O;Q===1/0||G===-1/0?this._limit=0:(Number.isFinite(Q)&&(this._offset=Math.max(Math.trunc(Q),0)),Number.isFinite(G)&&(this._limit=Math.max(Math.trunc(G),0)),Ne(Z)&&(this._filter=Z),Ne(ie)&&(this._map=ie),this._transform=Ne(U)?U:null),te&&(this._prepender=we(te)?te:Te(te)),he&&(this._appender=we(he)?he:Te(he))}}_read(T,O){const U=()=>this._readAndTransformSimple(T,G,O);this._readAndTransformSimple(T,G,O);function G(){a(U)}}_readAndTransformSimple(T,O,U){let G;const{source:Q}=this;if(!Q||Q.done){U();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<T&&(G=Q.read())!==null;){if(!this._filter(G)||this._offset!==0&&this._offset--)continue;const Z=typeof this._map>"u"?G:this._map(G);if(Z===null)this._optional&&this._push(G);else if(!Ne(this._transform))this._push(Z);else{this._optional?this._optionalTransform(Z,O):this._transform(Z,O,this._boundPush);return}--this._limit===0&&this.close()}U()}_begin(T){this._insert(this._prepender,T),delete this._prepender}_flush(T){this._insert(this._appender,T),delete this._appender}_insert(T,O){const U=Q=>this._push(Q);!T||T.done?O():(T.on("data",U),T.on("end",G));function G(){T.removeListener("data",U),T.removeListener("end",G),O()}}}e.SimpleTransformIterator=P;class L extends w{constructor(T,O){if(super(T,O),this._transformerQueue=[],O){const U=Ne(O)?O:O.multiTransform;U&&(this._createTransformer=U)}}_read(T,O){const U=this._transformerQueue,G=this._optional;let Q,Z;for(;(Q=U[0])&&Q.transformer.done;){G&&Q.item!==null&&(T--,this._push(Q.item)),U.shift();const{transformer:te}=Q;te.removeListener("end",I),te.removeListener("readable",I),te.removeListener("error",E)}const{source:ie}=this;for(;ie&&!ie.done&&U.length<this.maxBufferSize&&(Z=ie.read(),Z!==null);){const te=this._createTransformer(Z)||new h;te[e.DESTINATION]=this,te.on("end",I),te.on("readable",I),te.on("error",E),U.push({transformer:te,item:Z})}if(Q=U[0],Q){const{transformer:te}=Q;for(;T-- >0&&(Z=te.read())!==null;)this._push(Z),G&&(Q.item=null)}else ie&&ie.done&&this.close();O()}_createTransformer(T){return new p(T)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(T){if(super._end(T),this._destroySource)for(const O of this._transformerQueue)O.transformer.destroy()}}e.MultiTransformIterator=L;class D extends _{constructor(T,O={}){super(O),this._sources=[],this._currentSource=-1;const U=O.autoStart!==!1;if(we(T))T.on("error",G=>this.emit("error",G)),this._pending={loading:!1,sources:T},U&&this._loadSources();else if(Array.isArray(T)&&T.length>0)for(const G of T)this._addSource(G);else U&&this.close();this._destroySources=O.destroySources!==!1}_loadSources(){const T=this._pending.sources;this._pending.loading=!0,T.done?(delete this._pending,this.close()):(T.on("data",O=>{this._addSource(O),this._fillBufferAsync()}),T.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(T){Ae(T)&&(T=J(T)),T.done||(this._sources.push(T),T[e.DESTINATION]=this,T.on("error",E),T.on("readable",I),T.on("end",V))}_removeEmptySources(){this._sources=this._sources.filter((T,O)=>(T.done&&O<=this._currentSource&&this._currentSource--,!T.done)),this._fillBuffer()}_read(T,O){var U;((U=this._pending)===null||U===void 0?void 0:U.loading)===!1&&this._loadSources();let G=0,Q;for(;G!==(G=T);)for(let Z=0;Z<this._sources.length&&T>0;Z++)this._currentSource=(this._currentSource+1)%this._sources.length,(Q=this._sources[this._currentSource].read())!==null&&(T--,this._push(Q));!this._pending&&this._sources.length===0&&this.close(),O()}_end(T=!1){if(super._end(T),this._destroySources){for(const O of this._sources)O.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}e.UnionIterator=D;function V(){this[e.DESTINATION]._removeEmptySources()}class k extends w{constructor(T){super(T,{autoStart:!1}),this._readPosition=0,this._reading=!1,T&&(this.readable=!0)}_init(){}close(){l.prototype.close.call(this)}get source(){return super.source}set source(T){const O=this._source=this._validateSource(T),U=O&&O[e.DESTINATION]||(O[e.DESTINATION]=new $(O));this.done?this._destroySource&&O.destroy():U.endsAt(0)?this.close():(U.register(this),(O._sourceStarted===!1||U.readAt(0)!==null)&&(this.readable=!0));const G=this._propertyCallbacks;for(const Q in G){const Z=G[Q];for(const ie of Z)this._getSourceProperty(Q,ie)}}_validateSource(T,O=!1){const U=T&&T[e.DESTINATION];return super._validateSource(T,!U||U instanceof $)}getProperty(T,O){const{source:U}=this,G=this._properties,Q=G&&T in G;if(!O)return Q?G&&G[T]:U&&U.getProperty(T);super.getProperty(T,O),U&&!Q&&this._getSourceProperty(T,O)}_getSourceProperty(T,O){this.source.getProperty(T,U=>{(!this._properties||!(T in this._properties))&&O(U)})}getProperties(){const T=this.source?this.source.getProperties():{},O=this._properties;for(const U in O)T[U]=O[U];return T}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const T=this.source;let O=null;if(!this.done&&T){const U=T[e.DESTINATION];(O=U.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,U.endsAt(this._readPosition)&&this.close()}return O}_end(T){const O=this.source,U=O==null?void 0:O[e.DESTINATION];U&&U.unregister(this),_.prototype._end.call(this,T)}}e.ClonedIterator=k;class ${constructor(T){if(this._history=[],this._trackers=new Set,this._source=T,!T.done){const O=()=>{for(const Q of this._trackers)Q.readable=!0},U=Q=>{for(const Z of this._trackers)Z.emit("error",Q)},G=()=>{for(const Q of this._trackers)Q._sourceStarted!==!1&&Q._readPosition===this._history.length&&Q.close();this._trackers.clear(),T.removeListener("end",G),T.removeListener("error",U),T.removeListener("readable",O)};T.on("end",G),T.on("error",U),T.on("readable",O)}}register(T){this._source.done||this._trackers.add(T)}unregister(T){this._trackers.delete(T)}readAt(T){let O=null;return T<this._history.length?O=this._history[T]:!this._source.done&&(O=this._source.read())!==null&&(this._history[T]=O),O}endsAt(T){return this._source.done&&this._history.length===T}}class H extends l{constructor(T,O){super(),this._source=null,this._destroySource=(O==null?void 0:O.destroySource)!==!1,Ae(T)?(this._source=new l,T.then(U=>{this._source=null,this.source=U}).catch(U=>this.emit("error",U))):T&&(this.source=T)}set source(T){let O=T;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(z(O)&&(O=O[Symbol.iterator]()),M(O)){let U=O;O=new t.EventEmitter,O.read=()=>{if(U!==null){let G;for(;!(G=U.next()).done;)if(G.value!==null)return G.value;U=null,this.close()}return null}}else O=v(O);if(this.done){this._destroySource&&Ne(O.destroy)&&O.destroy();return}O[e.DESTINATION]=this,O.on("end",x),O.on("error",E),O.on("readable",S),this._source=O,this.readable=O.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const T=this._source.read();if(T!==null)return T;this.readable=!1}return null}_end(T=!1){this._source!==null&&(this._source.removeListener("end",x),this._source.removeListener("error",E),this._source.removeListener("readable",S),delete this._source[e.DESTINATION],this._destroySource&&Ne(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(T)}}e.WrappingIterator=H;function J(B,T){if(T&&("autoStart"in T||"optional"in T||"source"in T||"maxBufferSize"in T))return B&&!we(B)&&(B=new H(B)),new w(B,T);if(!B)return Y();if(Ae(B))return new H(B,T);if(B instanceof l)return B;if(Array.isArray(B))return Te(B);if(z(B)||M(B)||we(B))return new H(B,T);throw new TypeError(`Invalid source: ${B}`)}e.wrap=J;function Y(){return new h}e.empty=Y;function de(B){return new p(B)}e.single=de;function Te(B){return new m(B)}e.fromArray=Te;function De(B){return new H(B)}e.fromIterator=De;function Ve(B){return new H(B)}e.fromIterable=Ve;function le(B){return new D(B)}e.union=le;function ue(B,T,O){return new y({start:B,end:T,step:O})}e.range=ue;function Ie(B,T){return T?B.bind(T):B}function Ne(B){return typeof B=="function"}e.isFunction=Ne;function we(B){return Ne(B==null?void 0:B.on)}e.isEventEmitter=we;function Ae(B){return Ne(B==null?void 0:B.then)}e.isPromise=Ae;function Se(B){return B&&(we(B)||Ae(B)||Ne(B))}e.isSourceExpression=Se;function z(B){return B&&Symbol.iterator in B}e.isIterable=z;function M(B){return Ne(B==null?void 0:B.next)}e.isIterator=M}(mE)),mE}var _M;function hTe(){if(_M)return sf;_M=1,Object.defineProperty(sf,"__esModule",{value:!0}),sf.ClosableTransformIterator=void 0;const e=$t();let t=class extends e.TransformIterator{constructor(n,a){super(n,a),this.onClose=a.onClose}_end(n){this.onClose(),super._end(n)}};return sf.ClosableTransformIterator=t,sf}var bM;function Ot(){return bM||(bM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(EX(),e),r(AX(),e),r(cTe(),e),r(TX(),e),r(lTe(),e),r(hTe(),e)}(YT)),YT}var gE={},cf={},_E={},lf={},vM;function pTe(){if(vM)return lf;vM=1,Object.defineProperty(lf,"__esModule",{value:!0}),lf.ActorContextPreprocess=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return lf.ActorContextPreprocess=t,lf}var wM;function $b(){return wM||(wM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(pTe(),e)}(_E)),_E}var SM;function yTe(){if(SM)return cf;SM=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.ActorContextPreprocessConvertShortcuts=void 0;const e=$b(),t=lt;let r=class OX extends e.ActorContextPreprocess{constructor(a){super(a)}async test(a){return!0}async run(a){return{context:OX.expandShortcuts(a.context,this.contextKeyShortcuts)}}static expandShortcuts(a,s){for(const o of a.keys())s[o.name]&&(a=a.set(new t.ActionContextKey(s[o.name]),a.get(o)).delete(o));return a}};return cf.ActorContextPreprocessConvertShortcuts=r,cf}var TM;function mTe(){return TM||(TM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(yTe(),e)}(gE)),gE}var bE={},df={},EM;function gTe(){if(EM)return df;EM=1,Object.defineProperty(df,"__esModule",{value:!0}),df.ActorContextPreprocessSetDefaults=void 0;const e=$b(),t=kt;let r=class extends e.ActorContextPreprocess{constructor(a){super(a),this.defaultFunctionArgumentsCache={}}async test(a){return!0}async run(a){let s=a.context;if(a.initialize){s=s.setDefault(t.KeysInitQuery.queryTimestamp,new Date).setDefault(t.KeysQuerySourceIdentify.sourceIds,new Map).setDefault(t.KeysCore.log,this.logger).setDefault(t.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(t.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores,new Map);let o={language:"sparql",version:"1.1"};s.has(t.KeysInitQuery.queryFormat)?(o=s.get(t.KeysInitQuery.queryFormat),o.language==="graphql"&&(s=s.setDefault(t.KeysInitQuery.graphqlSingularizeVariables,{}))):s=s.set(t.KeysInitQuery.queryFormat,o)}return{context:s}}};return df.ActorContextPreprocessSetDefaults=r,df}var AM;function _Te(){return AM||(AM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(gTe(),e)}(bE)),bE}var vE={},ff={},OM;function bTe(){if(OM)return ff;OM=1,Object.defineProperty(ff,"__esModule",{value:!0}),ff.ActorContextPreprocessSourceToDestination=void 0;const e=$b(),t=kt;let r=class extends e.ActorContextPreprocess{constructor(a){super(a)}async test(a){return!0}async run(a){if(a.context.get(t.KeysInitQuery.querySourcesUnidentified)&&!a.context.get(t.KeysRdfUpdateQuads.destination)){const s=a.context.get(t.KeysInitQuery.querySourcesUnidentified);if(s.length===1)return{context:a.context.set(t.KeysRdfUpdateQuads.destination,s[0])}}return a}};return ff.ActorContextPreprocessSourceToDestination=r,ff}var RM;function vTe(){return RM||(RM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(bTe(),e)}(vE)),vE}var wE={},hf={},pf={},SE={},xM;function hD(){return xM||(xM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.deskolemizeOperation=e.deskolemizeQuad=e.deskolemizeTermNestedThrowing=e.deskolemizeTerm=e.skolemizeBindingsStream=e.skolemizeQuadStream=e.skolemizeBindings=e.skolemizeQuad=e.skolemizeTerm=e.getSourceId=e.SKOLEM_PREFIX=void 0;const t=lD(),r=xt,n=Sn(),a=Nt(),s=new r.DataFactory;e.SKOLEM_PREFIX="urn:comunica_skolem:source_";function o(g,b){let v=g.get(b.referenceValue);return v===void 0&&(v=`${g.size}`,g.set(b.referenceValue,v)),v}e.getSourceId=o;function u(g,b){return g.termType==="BlankNode"?new t.BlankNodeScoped(`bc_${b}_${g.value}`,s.namedNode(`${e.SKOLEM_PREFIX}${b}:${g.value}`)):g}e.skolemizeTerm=u;function l(g,b){return(0,n.mapTermsNested)(g,v=>u(v,b))}e.skolemizeQuad=l;function c(g,b){return g.map(v=>v.termType==="Quad"?l(v,b):u(v,b))}e.skolemizeBindings=c;function d(g,b){const v=g.map(w=>l(w,b));function _(){g.getProperty("metadata",w=>{v.setProperty("metadata",w),w.state.addInvalidateListener(_)})}return _(),v}e.skolemizeQuadStream=d;function f(g,b){const v=g.map(w=>c(w,b));function _(){g.getProperty("metadata",w=>{v.setProperty("metadata",w),w.state.addInvalidateListener(_)})}return _(),v}e.skolemizeBindingsStream=f;function h(g,b){if(g.termType==="BlankNode"&&"skolemized"in g&&(g=g.skolemized),g.termType==="NamedNode"&&g.value.startsWith(e.SKOLEM_PREFIX)){const v=g.value.indexOf(":",e.SKOLEM_PREFIX.length);if(g.value.slice(e.SKOLEM_PREFIX.length,v)===b){const w=g.value.slice(v+1,g.value.length);return s.blankNode(w)}return null}return g}e.deskolemizeTerm=h;function p(g,b){if(g.termType==="Quad")return(0,n.mapTermsNested)(g,_=>{const w=h(_,b);if(!w)throw new Error("Skolemized term is not in scope for this source");return w});const v=h(g,b);if(v===null)throw new Error("Skolemized term is not in scope for this source");return v}e.deskolemizeTermNestedThrowing=p;function m(g,b){return(0,n.mapTermsNested)(g,v=>h(v,b)??v)}e.deskolemizeQuad=m;function y(g,b){try{return a.Util.mapOperation(g,{[a.Algebra.types.PATTERN](v,_){return{result:Object.assign(_.createPattern(p(v.subject,b),p(v.predicate,b),p(v.object,b),p(v.graph,b)),{metadata:v.metadata}),recurse:!1}},[a.Algebra.types.PATH](v,_){return{result:Object.assign(_.createPath(p(v.subject,b),v.predicate,p(v.object,b),p(v.graph,b)),{metadata:v.metadata}),recurse:!1}}})}catch{}}e.deskolemizeOperation=y}(SE)),SE}var IM;function RX(){if(IM)return pf;IM=1,Object.defineProperty(pf,"__esModule",{value:!0}),pf.QuerySourceSkolemized=void 0;const e=ai(),t=$t(),r=hD();let n=class{constructor(s,o){this.innerSource=s,this.sourceId=o}async getSelectorShape(s){return this.innerSource.getSelectorShape(s)}queryBindings(s,o,u){const l=(0,r.deskolemizeOperation)(s,this.sourceId);if(!l){const c=new t.ArrayIterator([],{autoStart:!1});return c.setProperty("metadata",{state:new e.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:[]}),c}return(0,r.skolemizeBindingsStream)(this.innerSource.queryBindings(l,o,u),this.sourceId)}queryBoolean(s,o){return this.innerSource.queryBoolean(s,o)}queryQuads(s,o){const u=(0,r.deskolemizeOperation)(s,this.sourceId);if(!u){const l=new t.ArrayIterator([],{autoStart:!1});return l.setProperty("metadata",{state:new e.MetadataValidationState,cardinality:{type:"exact",value:0}}),l}return(0,r.skolemizeQuadStream)(this.innerSource.queryQuads(u,o),this.sourceId)}queryVoid(s,o){return this.innerSource.queryVoid(s,o)}get referenceValue(){return this.innerSource.referenceValue}toString(){return`${this.innerSource.toString()}(SkolemID:${this.sourceId})`}};return pf.QuerySourceSkolemized=n,pf}var PM;function wTe(){if(PM)return hf;PM=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.ActorContextPreprocessQuerySourceSkolemize=void 0;const e=$b(),t=kt,r=RX(),n=hD();let a=class extends e.ActorContextPreprocess{constructor(o){super(o)}async test(o){return!0}async run(o){let u=o.context;if(u.has(t.KeysQueryOperation.querySources)){u.has(t.KeysQuerySourceIdentify.sourceIds)||(u=u.set(t.KeysQuerySourceIdentify.sourceIds,new Map));const l=u.getSafe(t.KeysQuerySourceIdentify.sourceIds);let c=u.getSafe(t.KeysQueryOperation.querySources);c=c.map(d=>({source:new r.QuerySourceSkolemized(d.source,(0,n.getSourceId)(l,d.source)),context:d.context})),u=u.set(t.KeysQueryOperation.querySources,c)}return{context:u}}};return hf.ActorContextPreprocessQuerySourceSkolemize=a,hf}var NM;function xX(){return NM||(NM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(wTe(),e),r(RX(),e),r(hD(),e)}(wE)),wE}var TE={},yf={},DM;function STe(){if(DM)return yf;DM=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.MediatorCombinePipeline=void 0;const e=lt;let t=class extends e.Mediator{constructor(n){super(n)}async mediate(n){let a;try{a=this.publish(n)}catch{return n}if(this.filterErrors){const o=[];for(const u of a)try{await u.reply,o.push(u)}catch{}a=o}if(a=await Promise.all(a.map(async({actor:o,reply:u})=>({actor:o,reply:await u}))),this.order){const o=u=>{const l=this.field?u[this.field]:u;if(typeof l!="number")throw new TypeError("Cannot order elements that are not numbers.");return l};a=a.sort((u,l)=>(this.order==="increasing"?1:-1)*(o(u.reply)-o(l.reply)))}let s=n;for(const{actor:o}of a)s={...s,...await o.runObservable(s)};return s}mediateWith(){throw new Error("Method not supported.")}};return yf.MediatorCombinePipeline=t,yf}var CM;function LM(){return CM||(CM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(STe(),e)}(TE)),TE}var EE={},mf={},AE={},gf={},jM;function TTe(){if(jM)return gf;jM=1,Object.defineProperty(gf,"__esModule",{value:!0}),gf.ActorHashBindings=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return gf.ActorHashBindings=t,gf}var MM;function ETe(){return MM||(MM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(TTe(),e)}(AE)),AE}var OE,FM;function ATe(){return FM||(FM=1,OE=function e(t){if(typeof t=="number"&&isNaN(t))throw new Error("NaN is not allowed");if(typeof t=="number"&&!isFinite(t))throw new Error("Infinity is not allowed");return t===null||typeof t!="object"?JSON.stringify(t):t.toJSON instanceof Function?e(t.toJSON()):Array.isArray(t)?`[${t.reduce((a,s,o)=>`${a}${o===0?"":","}${e(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(t).sort().reduce((n,a)=>{if(t[a]===void 0||typeof t[a]=="symbol")return n;const s=n.length===0?"":",";return`${n}${s}${e(a)}:${e(t[a])}`},"")}}`}),OE}var qM;function OTe(){if(qM)return mf;qM=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.ActorHashBindingsSha1=void 0;const e=ETe(),t=fD(),r=rr,n=ATe();let a=class extends e.ActorHashBindings{async test(o){if(!o.allowHashCollisions)throw new Error(`Actor ${this.name} can not provide hash functions without hash collisions`);return!0}async run(o){return{hashFunction:u=>(0,t.sha1)().update(n(Object.fromEntries([...u].map(([l,c])=>[(0,r.termToString)(l),(0,r.termToString)(c)])))).digest("hex"),hashCollisions:!0}}};return mf.ActorHashBindingsSha1=a,mf}var BM;function RTe(){return BM||(BM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(OTe(),e)}(EE)),EE}var RE={},_f={},$M;function xTe(){if($M)return _f;$M=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.MediatorRace=void 0;const e=lt;let t=class extends e.Mediator{constructor(n){super(n)}mediateWith(n,a){return new Promise((s,o)=>{const u=[];for(const l of a)l.reply.then(()=>{s(l.actor)}).catch(c=>{u.push(c),u.length===a.length&&o(new Error(`${this.name} mediated over all rejecting actors:
${u.map(d=>d.message).join(`
`)}`))})})}};return _f.MediatorRace=t,_f}var UM;function Un(){return UM||(UM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(xTe(),e)}(RE)),RE}var xE={},bf={},IE={},vf={},kM;function ITe(){if(kM)return vf;kM=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.ActorOptimizeQueryOperation=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return vf.ActorOptimizeQueryOperation=t,vf}var VM;function ba(){return VM||(VM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ITe(),e)}(IE)),IE}var HM;function PTe(){if(HM)return bf;HM=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.ActorOptimizeQueryOperationRewriteCopy=void 0;const e=ba(),t=Nt();let r=class extends e.ActorOptimizeQueryOperation{constructor(a){super(a)}async test(a){return!0}async run(a){return{operation:t.Util.mapOperation(a.operation,{[t.Algebra.types.COPY](o,u){let l;return typeof o.destination=="string"&&typeof o.source=="string"&&o.destination===o.source||typeof o.destination!="string"&&typeof o.source!="string"&&o.destination.equals(o.source)?l=u.createCompositeUpdate([]):l=u.createCompositeUpdate([u.createDrop(o.destination,!0),u.createAdd(o.source,o.destination,o.silent)]),{result:l,recurse:!1}}}),context:a.context}}};return bf.ActorOptimizeQueryOperationRewriteCopy=r,bf}var QM;function NTe(){return QM||(QM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(PTe(),e)}(xE)),xE}var PE={},wf={},zM;function DTe(){if(zM)return wf;zM=1,Object.defineProperty(wf,"__esModule",{value:!0}),wf.ActorOptimizeQueryOperationRewriteMove=void 0;const e=ba(),t=Nt();let r=class extends e.ActorOptimizeQueryOperation{constructor(a){super(a)}async test(a){return!0}async run(a){return{operation:t.Util.mapOperation(a.operation,{[t.Algebra.types.MOVE](o,u){let l;if(typeof o.destination=="string"&&typeof o.source=="string"&&o.destination===o.source||typeof o.destination!="string"&&typeof o.source!="string"&&o.destination.equals(o.source))l=u.createCompositeUpdate([]);else{const c=[u.createDrop(o.destination,!0),u.createAdd(o.source,o.destination,o.silent),u.createDrop(o.source)];l=u.createCompositeUpdate(c)}return{result:l,recurse:!1}}}),context:a.context}}};return wf.ActorOptimizeQueryOperationRewriteMove=r,wf}var GM;function CTe(){return GM||(GM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(DTe(),e)}(PE)),PE}var NE={},Sf={},WM;function LTe(){if(WM)return Sf;WM=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.ActorOptimizeQueryOperationRewriteAdd=void 0;const e=ba(),t=xt,r=Nt(),n=new t.DataFactory;let a=class extends e.ActorOptimizeQueryOperation{constructor(o){super(o)}async test(o){return!0}async run(o){return{operation:r.Util.mapOperation(o.operation,{[r.Algebra.types.ADD](l,c){const d=l.destination==="DEFAULT"?n.defaultGraph():l.destination,f=l.source==="DEFAULT"?n.defaultGraph():l.source;return{result:c.createDeleteInsert(void 0,[c.createPattern(n.variable("s"),n.variable("p"),n.variable("o"),d)],c.createPattern(n.variable("s"),n.variable("p"),n.variable("o"),f)),recurse:!1}}}),context:o.context}}};return Sf.ActorOptimizeQueryOperationRewriteAdd=a,Sf}var KM;function jTe(){return KM||(KM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(LTe(),e)}(NE)),NE}var DE={},Tf={},JM;function MTe(){if(JM)return Tf;JM=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.ActorOptimizeQueryOperationGroupSources=void 0;const e=ba(),t=Ot(),r=Nt(),n=new r.Factory;let a=class extends e.ActorOptimizeQueryOperation{constructor(o){super(o)}async test(o){if(t.ActorQueryOperation.getOperationSource(o.operation))throw new Error(`Actor ${this.name} does not work with top-level operation sources.`);return!0}async run(o){return{operation:await this.groupOperation(o.operation,o.context),context:o.context}}async groupOperation(o,u){var f;if(t.ActorQueryOperation.getOperationSource(o)??!("input"in o))return o;if(!Array.isArray(o.input)){const h=await this.groupOperation(o.input,u);if((f=h.metadata)!=null&&f.scopedSource){const p=t.ActorQueryOperation.getOperationSource(h);t.ActorQueryOperation.doesShapeAcceptOperation(await p.source.getSelectorShape(u),o)&&(this.logDebug(u,`Hoist 1 source-specific operation into a single ${o.type} operation for ${p.source.toString()}`),t.ActorQueryOperation.removeOperationSource(h),o=t.ActorQueryOperation.assignOperationSource(o,p))}return{...o,input:h}}const l=await Promise.all(o.input.map(h=>this.groupOperation(h,u))),c=this.clusterOperationsWithEqualSources(l);if(c.length===1){const h=c[0],p=t.ActorQueryOperation.getOperationSource(c[0][0]);return{...await this.moveSourceAnnotationUpwardsIfPossible(o,h,p,u),input:h}}if(c.length===l.length)return{...o,input:l};let d;switch(o.type){case r.Algebra.types.JOIN:d=n.createJoin.bind(n);break;case r.Algebra.types.UNION:d=n.createUnion.bind(n);break;case r.Algebra.types.ALT:d=n.createAlt.bind(n);break;case r.Algebra.types.SEQ:d=n.createSeq.bind(n);break;default:throw new Error(`Unsupported operation '${o.type}' detected while grouping sources`)}return await this.groupOperationMulti(c,d,u)}async groupOperationMulti(o,u,l){let c=!0;const d=await Promise.all(o.map(async f=>{const h=t.ActorQueryOperation.getOperationSource(f[0]),p=await this.moveSourceAnnotationUpwardsIfPossible(u(f,!0),f,h,l);return t.ActorQueryOperation.getOperationSource(p)&&(c=!1),p}));return u(d,c)}clusterOperationsWithEqualSources(o){const u=new Map,l=[];for(const d of o){const f=t.ActorQueryOperation.getOperationSource(d);f?(u.has(f)||u.set(f,[]),u.get(f).push(d)):l.push(d)}const c=[];l.length>0&&c.push(l);for(const[d,f]of u.entries())c.push(f.map(h=>t.ActorQueryOperation.assignOperationSource(h,d)));return c}async moveSourceAnnotationUpwardsIfPossible(o,u,l,c){if(l&&t.ActorQueryOperation.doesShapeAcceptOperation(await l.source.getSelectorShape(c),o)){this.logDebug(c,`Hoist ${u.length} source-specific operations into a single ${o.type} operation for ${l.source.toString()}`),o=t.ActorQueryOperation.assignOperationSource(o,l);for(const d of u)t.ActorQueryOperation.removeOperationSource(d)}return o}};return Tf.ActorOptimizeQueryOperationGroupSources=a,Tf}var XM;function FTe(){return XM||(XM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(MTe(),e)}(DE)),DE}var CE={},Ef={},LE={},Af={},YM;function qTe(){if(YM)return Af;YM=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.ActorQueryParse=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return Af.ActorQueryParse=t,Af}var ZM;function IX(){return ZM||(ZM=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(qTe(),e)}(LE)),LE}var e8;function BTe(){if(e8)return Ef;e8=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.ActorQueryParseSparql=void 0;const e=IX(),t=Nt(),r=_c;let n=class extends e.ActorQueryParse{constructor(s){super(s),this.prefixes=Object.freeze(this.prefixes)}async test(s){if(s.queryFormat&&s.queryFormat.language!=="sparql")throw new Error("This actor can only parse SPARQL queries");return!0}async run(s){const u=new r.Parser({prefixes:this.prefixes,baseIRI:s.baseIRI,sparqlStar:!0}).parse(s.query);return{baseIRI:u.type==="query"?u.base:void 0,operation:(0,t.translate)(u,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:s.baseIRI})}}};return Ef.ActorQueryParseSparql=n,Ef}var t8;function $Te(){return t8||(t8=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(BTe(),e)}(CE)),CE}var jE={},Of={},ME={},FE={},qE={},Rf={},r8;function Od(){if(r8)return Rf;r8=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.DirectiveNodeHandlerAdapter=void 0;let e=class{constructor(r,n,a){this.targetKind=r,this.util=n,this.settings=a}getDirectiveConditionalValue(r,n){const a=this.util.getArgument(r.arguments,"if");if(!a)throw new Error(`The directive ${r.name.value} is missing an if-argument.`);const s=this.util.handleNodeValue(a.value,a.name.value,n);if(s.terms.length!==1)throw new Error(`Can not apply the directive ${r.name.value} with a list.`);return s.terms[0]}isDirectiveScopeAll(r){const n=this.util.getArgument(r.arguments,"scope");return n&&n.value.kind==="EnumValue"&&n.value.value==="all"}};return Rf.DirectiveNodeHandlerAdapter=e,Rf}var xf={},n8;function UTe(){if(n8)return xf;n8=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.DirectiveNodeHandlerInclude=void 0;const e=Od();let t=class extends e.DirectiveNodeHandlerAdapter{constructor(n,a){super("include",n,a)}handle(n,a){const s=this.getDirectiveConditionalValue(n.directive,a);return s.termType==="Literal"&&s.value==="false"?{ignore:!0}:{}}};return xf.DirectiveNodeHandlerInclude=t,xf}var If={},i8;function kTe(){if(i8)return If;i8=1,Object.defineProperty(If,"__esModule",{value:!0}),If.DirectiveNodeHandlerOptional=void 0;const e=Od();let t=class extends e.DirectiveNodeHandlerAdapter{constructor(n,a){super("optional",n,a)}handle(n,a){return{operationOverrider:s=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),s)}}};return If.DirectiveNodeHandlerOptional=t,If}var Pf={},BE={},a8;function Ub(){return a8||(a8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SingularizeState=void 0,function(t){t[t.SINGLE=0]="SINGLE",t[t.PLURAL=1]="PLURAL"}(e.SingularizeState||(e.SingularizeState={}))}(BE)),BE}var s8;function VTe(){if(s8)return Pf;s8=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.DirectiveNodeHandlerPlural=void 0;const e=Ub(),t=Od();let r=class extends t.DirectiveNodeHandlerAdapter{constructor(a,s){super("plural",a,s)}handle(a,s){return this.isDirectiveScopeAll(a.directive)&&(s.singularizeState=e.SingularizeState.PLURAL),delete s.singularizeVariables[this.util.nameToVariable(a.fieldLabel,s).value],{}}};return Pf.DirectiveNodeHandlerPlural=r,Pf}var Nf={},o8;function HTe(){if(o8)return Nf;o8=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.DirectiveNodeHandlerSingle=void 0;const e=Ub(),t=Od();let r=class extends t.DirectiveNodeHandlerAdapter{constructor(a,s){super("single",a,s)}handle(a,s){return this.isDirectiveScopeAll(a.directive)&&(s.singularizeState=e.SingularizeState.SINGLE),s.singularizeVariables[this.util.nameToVariable(a.fieldLabel,s).value]=!0,{}}};return Nf.DirectiveNodeHandlerSingle=r,Nf}var Df={},u8;function QTe(){if(u8)return Df;u8=1,Object.defineProperty(Df,"__esModule",{value:!0}),Df.DirectiveNodeHandlerSkip=void 0;const e=Od();let t=class extends e.DirectiveNodeHandlerAdapter{constructor(n,a){super("skip",n,a)}handle(n,a){const s=this.getDirectiveConditionalValue(n.directive,a);return s.termType==="Literal"&&s.value==="true"?{ignore:!0}:{}}};return Df.DirectiveNodeHandlerSkip=t,Df}var c8;function PX(){return c8||(c8=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Od(),e),r(UTe(),e),r(kTe(),e),r(VTe(),e),r(HTe(),e),r(QTe(),e)}(qE)),qE}var $E={},Cf={},l8;function Ya(){if(l8)return Cf;l8=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.NodeValueHandlerAdapter=void 0;let e=class{constructor(r,n,a){this.targetKind=r,this.util=n,this.settings=a}};return Cf.NodeValueHandlerAdapter=e,Cf}var Lf={},d8;function zTe(){if(d8)return Lf;d8=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.NodeValueHandlerBoolean=void 0;const e=Ya();let t=class extends e.NodeValueHandlerAdapter{constructor(n,a){super("BooleanValue",n,a),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(n,a,s){return{terms:[this.util.dataFactory.literal(n.value?"true":"false",this.datatype)]}}};return Lf.NodeValueHandlerBoolean=t,Lf}var jf={},f8;function GTe(){if(f8)return jf;f8=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.NodeValueHandlerEnum=void 0;const e=Ya();let t=class extends e.NodeValueHandlerAdapter{constructor(n,a){super("EnumValue",n,a)}handle(n,a,s){return{terms:[this.util.valueToNamedNode(n.value,s.context)]}}};return jf.NodeValueHandlerEnum=t,jf}var Mf={},h8;function WTe(){if(h8)return Mf;h8=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.NodeValueHandlerFloat=void 0;const e=Ya();let t=class extends e.NodeValueHandlerAdapter{constructor(n,a){super("FloatValue",n,a),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(n,a,s){return{terms:[this.util.dataFactory.literal(n.value,this.datatype)]}}};return Mf.NodeValueHandlerFloat=t,Mf}var Ff={},p8;function KTe(){if(p8)return Ff;p8=1,Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.NodeValueHandlerInt=void 0;const e=Ya();let t=class extends e.NodeValueHandlerAdapter{constructor(n,a){super("IntValue",n,a),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(n,a,s){return{terms:[this.util.dataFactory.literal(n.value,this.datatype)]}}};return Ff.NodeValueHandlerInt=t,Ff}var qf={},y8;function JTe(){if(y8)return qf;y8=1,Object.defineProperty(qf,"__esModule",{value:!0}),qf.NodeValueHandlerList=void 0;const e=Ya();let t=class extends e.NodeValueHandlerAdapter{constructor(n,a){super("ListValue",n,a),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(n,a,s){const o=[];let u=[];for(const l of n.values){const c=this.util.handleNodeValue(l,a,s);for(const d of c.terms)o.push(d);c.auxiliaryPatterns&&(u=u.concat(c.auxiliaryPatterns))}if(this.settings.arraysToRdfLists){const l=this.util.dataFactory.blankNode();let c=l,d=o.length;for(const f of o){u.push(this.util.operationFactory.createPattern(c,this.nodeFirst,f,s.graph));const h=--d===0?this.nodeNil:this.util.dataFactory.blankNode();u.push(this.util.operationFactory.createPattern(c,this.nodeRest,h,s.graph)),c=h}return{terms:[l],auxiliaryPatterns:u}}else return{terms:o,auxiliaryPatterns:u}}};return qf.NodeValueHandlerList=t,qf}var Bf={},m8;function XTe(){if(m8)return Bf;m8=1,Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.NodeValueHandlerNull=void 0;const e=Ya();let t=class extends e.NodeValueHandlerAdapter{constructor(n,a){super("NullValue",n,a),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(n,a,s){return{terms:[this.nil]}}};return Bf.NodeValueHandlerNull=t,Bf}var $f={},g8;function YTe(){if(g8)return $f;g8=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.NodeValueHandlerObject=void 0;const e=Ya();let t=class extends e.NodeValueHandlerAdapter{constructor(n,a){super("ObjectValue",n,a)}handle(n,a,s){const o=this.util.dataFactory.blankNode();let u=[];for(const l of n.fields){const c=this.util.handleNodeValue(l.value,a,s);for(const d of c.terms)u.push(this.util.createQuadPattern(o,l.name,d,s.graph,s.context));c.auxiliaryPatterns&&(u=u.concat(c.auxiliaryPatterns))}return{terms:[o],auxiliaryPatterns:u}}};return $f.NodeValueHandlerObject=t,$f}var Uf={},_8;function ZTe(){if(_8)return Uf;_8=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.NodeValueHandlerString=void 0;const e=Ya();let t=class extends e.NodeValueHandlerAdapter{constructor(n,a){super("StringValue",n,a)}handle(n,a,s){const o=s.context.getContextRaw()[a];let u,l;return o&&typeof o!="string"&&(o["@language"]?u=o["@language"]:o["@type"]&&(l=this.util.dataFactory.namedNode(o["@type"]))),{terms:[this.util.dataFactory.literal(n.value,u||l)]}}};return Uf.NodeValueHandlerString=t,Uf}var kf={},b8;function eEe(){if(b8)return kf;b8=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.NodeValueHandlerVariable=void 0;const e=Ya();let t=class extends e.NodeValueHandlerAdapter{constructor(n,a){super("Variable",n,a)}handle(n,a,s){const o=n.name.value,u=s.variablesDict[o],l=s.variablesMetaDict[o];if(!u){if(!s.ignoreUnknownVariables&&(!l||l.mandatory))throw new Error(`Undefined variable: ${o}`);{const c=this.util.dataFactory.variable(o);return s.terminalVariables.map(d=>d.value).indexOf(o)<0&&s.terminalVariables.push(c),{terms:[c]}}}if(u.kind==="Variable")throw new Error(`Variable refers to another variable: ${o}`);if(l)if(l.list){if(u.kind!=="ListValue")throw new Error(`Expected a list, but got ${u.kind} for ${o}`);if(l.type){const c=u;for(const d of c.values)if(d.kind!==l.type)throw new Error(`Expected ${l.type}, but got ${d.kind} for ${o}`)}}else l.type;return this.util.handleNodeValue(u,a,s)}};return kf.NodeValueHandlerVariable=t,kf}var v8;function tEe(){return v8||(v8=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ya(),e),r(zTe(),e),r(GTe(),e),r(WTe(),e),r(KTe(),e),r(JTe(),e),r(XTe(),e),r(YTe(),e),r(ZTe(),e),r(eEe(),e)}($E)),$E}var Vf={},w8;function VS(){if(w8)return Vf;w8=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.NodeHandlerAdapter=void 0;let e=class{constructor(r,n,a){this.targetKind=r,this.util=n,this.settings=a}getNodeQuadContextSelectionSet(r,n,a){const s={};if(r){for(const o of r.selections)if(o.kind==="Field"){const u=o;this.handleNodeQuadContextField(u,a,s,"id","subject"),this.handleNodeQuadContextField(u,a,s,"graph","graph")}}return s}handleNodeQuadContextField(r,n,a,s,o){if(!a[o]&&r.name.value===s){if(!a[o]){const u=this.util.getArgument(r.arguments,"_");if(u){const l=this.util.handleNodeValue(u.value,r.name.value,n);if(l.terms.length!==1)throw new Error(`Only single values can be set as ${s}, but got ${l.terms.length} at ${r.name.value}`);a[o]=l.terms[0],l.auxiliaryPatterns&&(a.auxiliaryPatterns||(a.auxiliaryPatterns=[]),a.auxiliaryPatterns.concat(l.auxiliaryPatterns))}}if(!a[o]){const u=this.util.nameToVariable(this.util.getFieldLabel(r),n);n.terminalVariables.push(u),a[o]=u}}}getDirectiveOutputs(r,n,a){const s=[];if(r)for(const o of r){const u=this.util.handleDirectiveNode({directive:o,fieldLabel:n},a);if(u){if(u.ignore)return null;s.push(u)}}return s}handleDirectiveOutputs(r,n){for(const a of r){if(a.ignore)return this.util.operationFactory.createBgp([]);a.operationOverrider&&(n=a.operationOverrider(n))}return n}};return Vf.NodeHandlerAdapter=e,Vf}var Hf={},S8;function pD(){if(S8)return Hf;S8=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.NodeHandlerDefinitionAdapter=void 0;const e=VS();let t=class extends e.NodeHandlerAdapter{constructor(n,a,s){super(n,a,s)}};return Hf.NodeHandlerDefinitionAdapter=t,Hf}var Qf={},T8;function rEe(){if(T8)return Qf;T8=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.NodeHandlerDefinitionFragment=void 0;const e=pD();let t=class extends e.NodeHandlerDefinitionAdapter{constructor(n,a){super("FragmentDefinition",n,a)}handle(n,a){throw new Error("Illegal state: fragment definitions must be indexed and removed before processing")}};return Qf.NodeHandlerDefinitionFragment=t,Qf}var zf={},E8;function nEe(){if(E8)return zf;E8=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.NodeHandlerDefinitionOperation=void 0;const e=pD();let t=class extends e.NodeHandlerDefinitionAdapter{constructor(n,a){super("OperationDefinition",n,a)}handle(n,a){if(n.operation!=="query")throw new Error("Unsupported definition operation: "+n.operation);if(n.variableDefinitions)for(const u of n.variableDefinitions){const l=u.variable.name.value;u.defaultValue&&(a.variablesDict[l]||(a.variablesDict[l]=u.defaultValue));let c=u.type;const d=c.kind==="NonNullType";d&&(c=c.type);const f=c.kind==="ListType";f&&(c=c.type);const h=c.name.value;a.variablesMetaDict[l]={mandatory:d,list:f,type:h}}const s=this.getDirectiveOutputs(n.directives,n.name?n.name.value:"",a);if(!s)return this.util.operationFactory.createBgp([]);const o=this.util.joinOperations(n.selectionSet.selections.map(u=>this.util.handleNode(u,a)));return this.handleDirectiveOutputs(s,o)}};return zf.NodeHandlerDefinitionOperation=t,zf}var Gf={},A8;function iEe(){if(A8)return Gf;A8=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.NodeHandlerDocument=void 0;const e=Nt(),t=VS();let r=class extends t.NodeHandlerAdapter{constructor(a,s){super("Document",a,s)}handle(a,s){const o=a.definitions.map(l=>{const c=this.getNodeQuadContextDefinitionNode(l,Object.assign(Object.assign({},s),{ignoreUnknownVariables:!0})),d=Object.assign(Object.assign({},s),{graph:c.graph||s.graph,subject:c.subject||this.util.dataFactory.blankNode()});let f=this.util.handleNode(l,d);return c&&c.auxiliaryPatterns&&(f=this.util.joinOperations([f,this.util.operationFactory.createBgp(c.auxiliaryPatterns)])),f}),u=this.util.operationFactory.createProject(o.length===1?o[0]:this.util.operationFactory.createUnion(o),s.terminalVariables);return this.translateBlankNodesToVariables(u)}getNodeQuadContextDefinitionNode(a,s){if(a.kind==="OperationDefinition")return this.getNodeQuadContextSelectionSet(a.selectionSet,a.name?a.name.value:"",s);throw new Error(`Unsupported definition: ${a.kind}`)}translateBlankNodesToVariables(a){const s=this,o={},u=Array.from(a.variables).reduce((c,d)=>(c[d.value]=!0,c),{});return e.Util.mapOperation(a,{path:(c,d)=>({recurse:!1,result:d.createPath(l(c.subject),c.predicate,l(c.object),l(c.graph))}),pattern:(c,d)=>({recurse:!1,result:d.createPattern(l(c.subject),l(c.predicate),l(c.object),l(c.graph))})});function l(c){if(c.termType==="BlankNode"){let d=o[c.value];return d||(d=e.Util.createUniqueVariable(c.value,u,s.util.dataFactory),u[d.value]=!0,o[c.value]=d),d}return c}}};return Gf.NodeHandlerDocument=r,Gf}var Wf={},O8;function HS(){if(O8)return Wf;O8=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.NodeHandlerSelectionAdapter=void 0;const e=Nt(),t=Ub(),r=VS();let n=class extends r.NodeHandlerAdapter{constructor(s,o,u){super(s,o,u)}getNodeQuadContextFieldNode(s,o,u){return this.getNodeQuadContextSelectionSet(s.selectionSet,o,Object.assign(Object.assign({},u),{path:this.util.appendFieldToPath(u.path,o)}))}fieldToOperation(s,o,u,l){const c=u;let d=0,f;if((o.name.value==="id"||o.name.value==="graph")&&(u=!1,o.arguments))for(const S of o.arguments)S.name.value==="_"&&this.util.handleNodeValue(S.value,o.name.value,s);const h=this.util.getFieldLabel(o);if(s.singularizeState===t.SingularizeState.SINGLE&&(s.singularizeVariables[this.util.nameToVariable(h,s).value]=!0),u){const S=this.handleMetaField(s,h,l);if(S)return S}const p=l?[this.util.operationFactory.createBgp(l)]:[],m=this.getNodeQuadContextFieldNode(o,h,s);let y=m.subject||this.util.nameToVariable(h,s),g=m.graph||s.graph;m.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(m.auxiliaryPatterns));let b=!0,v=null;if(u&&o.arguments&&o.arguments.length){for(const S of o.arguments)if(S.name.value==="_"){const E=this.util.handleNodeValue(S.value,o.name.value,s);v=E.terms,p.push(this.util.operationFactory.createBgp(E.terms.map(x=>this.util.createQuadPattern(s.subject,o.name,x,s.graph,s.context)))),E.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(E.auxiliaryPatterns)),u=!1;break}else if(S.name.value==="graph"){const E=this.util.handleNodeValue(S.value,o.name.value,s);if(E.terms.length!==1)throw new Error(`Only single values can be set as graph, but got ${E.terms.length} at ${o.name.value}`);g=E.terms[0],s=Object.assign(Object.assign({},s),{graph:g}),E.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(E.auxiliaryPatterns));break}else if(S.name.value==="alt"){let E=S.value;E.kind!=="ListValue"&&(E={kind:"ListValue",values:[E]}),p.push(this.util.createQuadPath(s.subject,o.name,E,y,s.graph,s.context)),b=!1;break}}if(u&&b&&p.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(s.subject,o.name,y,s.graph,s.context)])),o.arguments&&o.arguments.length){for(const S of o.arguments)if(!(S.name.value==="_"||S.name.value==="graph"||S.name.value==="alt"))if(S.name.value==="first"){if(S.value.kind!=="IntValue")throw new Error("Invalid value type for 'first' argument: "+S.value.kind);f=parseInt(S.value.value,10)}else if(S.name.value==="offset"){if(S.value.kind!=="IntValue")throw new Error("Invalid value type for 'offset' argument: "+S.value.kind);d=parseInt(S.value.value,10)}else{const E=this.util.handleNodeValue(S.value,S.name.value,s);p.push(this.util.operationFactory.createBgp(E.terms.map(x=>this.util.createQuadPattern(y,S.name,x,s.graph,s.context)))),E.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(E.auxiliaryPatterns))}}const _=this.getDirectiveOutputs(o.directives,h,s);if(!_)return this.util.operationFactory.createBgp([]);let w=this.util.joinOperations(p);if(o.selectionSet&&o.selectionSet.selections.length){if(v){if(v.length!==1)throw new Error(`Only single values can be set as id, but got ${v.length} at ${o.name.value}`);y=v[0]}const S=Object.assign(Object.assign(Object.assign({},s),c?{path:this.util.appendFieldToPath(s.path,h)}:{}),{graph:g,subject:c?y:s.subject});let E=!1;const x=o.selectionSet.selections.filter(I=>I.kind==="Field"&&I.name.value==="totalCount"?(E=!0,!1):!0);let C=this.util.joinOperations(p.concat(x.map(I=>this.util.handleNode(I,S))));if(E){const I=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),P=this.util.dataFactory.variable(y.value+this.settings.variableDelimiter+"totalCount"),L=this.util.operationFactory.createBoundAggregate(I,"count",this.util.operationFactory.createTermExpression(y),!1),D=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(w,[],[L]),P,this.util.operationFactory.createTermExpression(I)),[P]);s.terminalVariables.push(P),x.length?C=this.util.operationFactory.createJoin([this.util.operationFactory.createProject(C,[]),D]):C=D}w=C}else u&&y.termType==="Variable"&&s.terminalVariables.push(y);return(d||f)&&(w=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(w,e.Util.inScopeVariables(w)),d,f)),this.handleDirectiveOutputs(_,w)}handleMetaField(s,o,u){if(o==="__typename"){const l=this.util.nameToVariable(o,s);return s.terminalVariables.push(l),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(s.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(o,s),s.graph)].concat(u||[]))}}};return Wf.NodeHandlerSelectionAdapter=n,Wf}var Kf={},R8;function aEe(){if(R8)return Kf;R8=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.NodeHandlerSelectionField=void 0;const e=HS();let t=class extends e.NodeHandlerSelectionAdapter{constructor(n,a){super("Field",n,a)}handle(n,a){return this.fieldToOperation(a,n,!0)}};return Kf.NodeHandlerSelectionField=t,Kf}var Jf={},x8;function sEe(){if(x8)return Jf;x8=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.NodeHandlerSelectionFragmentSpread=void 0;const e=HS();let t=class extends e.NodeHandlerSelectionAdapter{constructor(n,a){super("FragmentSpread",n,a)}handle(n,a){const s=a.fragmentDefinitions[n.name.value];if(!s)throw new Error("Undefined fragment definition: "+n.name.value);const o={alias:void 0,arguments:void 0,directives:s.directives,kind:"Field",name:n.name,selectionSet:s.selectionSet},u=[this.util.newTypePattern(a.subject,s.typeCondition,a)];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(a,o,!1,u))}};return Jf.NodeHandlerSelectionFragmentSpread=t,Jf}var Xf={},I8;function oEe(){if(I8)return Xf;I8=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.NodeHandlerSelectionInlineFragment=void 0;const e=HS();let t=class extends e.NodeHandlerSelectionAdapter{constructor(n,a){super("InlineFragment",n,a)}handle(n,a){const s={alias:void 0,arguments:void 0,directives:n.directives,kind:"Field",name:{kind:"Name",value:a.subject.value},selectionSet:n.selectionSet},o=n.typeCondition?[this.util.newTypePattern(a.subject,n.typeCondition,a)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(a,s,!1,o))}};return Xf.NodeHandlerSelectionInlineFragment=t,Xf}var P8;function NX(){return P8||(P8=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(PX(),e),r(tEe(),e),r(VS(),e),r(pD(),e),r(rEe(),e),r(nEe(),e),r(iEe(),e),r(HS(),e),r(aEe(),e),r(sEe(),e),r(oEe(),e)}(FE)),FE}var Yf={},DX=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag",RI=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;function Dv(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dv=function(r){return typeof r}:Dv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dv(e)}var uEe=10,CX=2;function LX(e){return QS(e,[])}function QS(e,t){switch(Dv(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return e===null?"null":cEe(e,t);default:return String(e)}}function cEe(e,t){if(t.indexOf(e)!==-1)return"[Circular]";var r=[].concat(t,[e]),n=fEe(e);if(n!==void 0){var a=n.call(e);if(a!==e)return typeof a=="string"?a:QS(a,r)}else if(Array.isArray(e))return dEe(e,r);return lEe(e,r)}function lEe(e,t){var r=Object.keys(e);if(r.length===0)return"{}";if(t.length>CX)return"["+hEe(e)+"]";var n=r.map(function(a){var s=QS(e[a],t);return a+": "+s});return"{ "+n.join(", ")+" }"}function dEe(e,t){if(e.length===0)return"[]";if(t.length>CX)return"[Array]";for(var r=Math.min(uEe,e.length),n=e.length-r,a=[],s=0;s<r;++s)a.push(QS(e[s],t));return n===1?a.push("... 1 more item"):n>1&&a.push("... ".concat(n," more items")),"["+a.join(", ")+"]"}function fEe(e){var t=e[String(RI)];if(typeof t=="function")return t;if(typeof e.inspect=="function")return e.inspect}function hEe(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){var r=e.constructor.name;if(typeof r=="string"&&r!=="")return r}return t}function UE(e,t){var r=!!e;if(!r)throw new Error(t)}const pEe=function(t,r){return t instanceof r};function N8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yEe(e,t,r){return t&&N8(e.prototype,t),r&&N8(e,r),e}var yD=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof t=="string"||UE(0,"Body must be a string. Received: ".concat(LX(t),".")),this.body=t,this.name=r,this.locationOffset=n,this.locationOffset.line>0||UE(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||UE(0,"column in locationOffset is 1-indexed and must be positive.")}return yEe(e,[{key:DX,get:function(){return"Source"}}]),e}();function mEe(e){return pEe(e,yD)}function vw(e,t){for(var r=/\r\n|[\n\r]/g,n=1,a=t+1,s;(s=r.exec(e.body))&&s.index<t;)n+=1,a=t+1-(s.index+s[0].length);return{line:n,column:a}}function jX(e){return mD(e.source,vw(e.source,e.start))}function mD(e,t){var r=e.locationOffset.column-1,n=Cv(r)+e.body,a=t.line-1,s=e.locationOffset.line-1,o=t.line+s,u=t.line===1?r:0,l=t.column+u,c="".concat(e.name,":").concat(o,":").concat(l,`
`),d=n.split(/\r\n|[\n\r]/g),f=d[a];if(f.length>120){for(var h=Math.floor(l/80),p=l%80,m=[],y=0;y<f.length;y+=80)m.push(f.slice(y,y+80));return c+D8([["".concat(o),m[0]]].concat(m.slice(1,h+1).map(function(g){return["",g]}),[[" ",Cv(p-1)+"^"],["",m[h+1]]]))}return c+D8([["".concat(o-1),d[a-1]],["".concat(o),f],["",Cv(l-1)+"^"],["".concat(o+1),d[a+1]]])}function D8(e){var t=e.filter(function(n){n[0];var a=n[1];return a!==void 0}),r=Math.max.apply(Math,t.map(function(n){var a=n[0];return a.length}));return t.map(function(n){var a=n[0],s=n[1];return gEe(r,a)+(s?" | "+s:" |")}).join(`
`)}function Cv(e){return Array(e+1).join(" ")}function gEe(e,t){return Cv(e-t.length)+t}var at=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),ze=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Lv(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lv=function(r){return typeof r}:Lv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lv(e)}function _Ee(e){return Lv(e)=="object"&&e!==null}function jv(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jv=function(r){return typeof r}:jv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jv(e)}function C8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bEe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(r),!0).forEach(function(n){vEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vEe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SEe(e,t,r){return t&&L8(e.prototype,t),r&&L8(e,r),e}function TEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k_(e,t)}function EEe(e){var t=FX();return function(){var n=V_(e),a;if(t){var s=V_(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return MX(this,a)}}function MX(e,t){return t&&(jv(t)==="object"||typeof t=="function")?t:Kg(e)}function Kg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xI(e){var t=typeof Map=="function"?new Map:void 0;return xI=function(n){if(n===null||!AEe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return Mv(n,arguments,V_(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),k_(a,n)},xI(e)}function Mv(e,t,r){return FX()?Mv=Reflect.construct:Mv=function(a,s,o){var u=[null];u.push.apply(u,s);var l=Function.bind.apply(a,u),c=new l;return o&&k_(c,o.prototype),c},Mv.apply(null,arguments)}function FX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function AEe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function k_(e,t){return k_=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},k_(e,t)}function V_(e){return V_=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},V_(e)}var OEe=function(e){TEe(r,e);var t=EEe(r);function r(n,a,s,o,u,l,c){var d,f,h,p;wEe(this,r),p=t.call(this,n),p.name="GraphQLError",p.originalError=l??void 0,p.nodes=j8(Array.isArray(a)?a:a?[a]:void 0);for(var m=[],y=0,g=(b=p.nodes)!==null&&b!==void 0?b:[];y<g.length;y++){var b,v=g[y],_=v.loc;_!=null&&m.push(_)}m=j8(m),p.source=s??((d=m)===null||d===void 0?void 0:d[0].source),p.positions=o??((f=m)===null||f===void 0?void 0:f.map(function(S){return S.start})),p.locations=o&&s?o.map(function(S){return vw(s,S)}):(h=m)===null||h===void 0?void 0:h.map(function(S){return vw(S.source,S.start)}),p.path=u??void 0;var w=l==null?void 0:l.extensions;return c==null&&_Ee(w)?p.extensions=bEe({},w):p.extensions=c??{},Object.defineProperties(Kg(p),{message:{enumerable:!0},locations:{enumerable:p.locations!=null},path:{enumerable:p.path!=null},extensions:{enumerable:p.extensions!=null&&Object.keys(p.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?(Object.defineProperty(Kg(p),"stack",{value:l.stack,writable:!0,configurable:!0}),MX(p)):(Error.captureStackTrace?Error.captureStackTrace(Kg(p),r):Object.defineProperty(Kg(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return SEe(r,[{key:"toString",value:function(){return REe(this)}},{key:DX,get:function(){return"Object"}}]),r}(xI(Error));function j8(e){return e===void 0||e.length===0?void 0:e}function REe(e){var t=e.message;if(e.nodes)for(var r=0,n=e.nodes;r<n.length;r++){var a=n[r];a.loc&&(t+=`

`+jX(a.loc))}else if(e.source&&e.locations)for(var s=0,o=e.locations;s<o.length;s++){var u=o[s];t+=`

`+mD(e.source,u)}return t}function Ri(e,t,r){return new OEe("Syntax Error: ".concat(r),void 0,e,[t])}function xEe(e,t){var r=!!e;if(!r)throw new Error(t??"Unexpected invariant triggered.")}function qX(e){var t=e.prototype.toJSON;typeof t=="function"||xEe(0),e.prototype.inspect=t,RI&&(e.prototype[RI]=t)}var gD=function(){function e(r,n,a){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=a}var t=e.prototype;return t.toJSON=function(){return{start:this.start,end:this.end}},e}();qX(gD);var jr=function(){function e(r,n,a,s,o,u,l){this.kind=r,this.start=n,this.end=a,this.line=s,this.column=o,this.value=l,this.prev=u,this.next=null}var t=e.prototype;return t.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();qX(jr);function M8(e){return e!=null&&typeof e.kind=="string"}function IEe(e){var t=e.split(/\r\n|[\n\r]/g),r=PEe(e);if(r!==0)for(var n=1;n<t.length;n++)t[n]=t[n].slice(r);for(var a=0;a<t.length&&F8(t[a]);)++a;for(var s=t.length;s>a&&F8(t[s-1]);)--s;return t.slice(a,s).join(`
`)}function F8(e){for(var t=0;t<e.length;++t)if(e[t]!==" "&&e[t]!=="	")return!1;return!0}function PEe(e){for(var t,r=!0,n=!0,a=0,s=null,o=0;o<e.length;++o)switch(e.charCodeAt(o)){case 13:e.charCodeAt(o+1)===10&&++o;case 10:r=!1,n=!0,a=0;break;case 9:case 32:++a;break;default:n&&!r&&(s===null||a<s)&&(s=a),n=!1}return(t=s)!==null&&t!==void 0?t:0}function NEe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=e.indexOf(`
`)===-1,a=e[0]===" "||e[0]==="	",s=e[e.length-1]==='"',o=e[e.length-1]==="\\",u=!n||s||o||r,l="";return u&&!(n&&a)&&(l+=`
`+t),l+=t?e.replace(/\n/g,`
`+t):e,u&&(l+=`
`),'"""'+l.replace(/"""/g,'\\"""')+'"""'}var BX=function(){function e(r){var n=new jr(ze.SOF,0,0,0,0,null);this.source=r,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},t.lookahead=function(){var n=this.token;if(n.kind!==ze.EOF)do{var a;n=(a=n.next)!==null&&a!==void 0?a:n.next=CEe(this,n)}while(n.kind===ze.COMMENT);return n},e}();function DEe(e){return e===ze.BANG||e===ze.DOLLAR||e===ze.AMP||e===ze.PAREN_L||e===ze.PAREN_R||e===ze.SPREAD||e===ze.COLON||e===ze.EQUALS||e===ze.AT||e===ze.BRACKET_L||e===ze.BRACKET_R||e===ze.BRACE_L||e===ze.PIPE||e===ze.BRACE_R}function dc(e){return isNaN(e)?ze.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function CEe(e,t){for(var r=e.source,n=r.body,a=n.length,s=t.end;s<a;){var o=n.charCodeAt(s),u=e.line,l=1+s-e.lineStart;switch(o){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++e.line,e.lineStart=s;continue;case 13:n.charCodeAt(s+1)===10?s+=2:++s,++e.line,e.lineStart=s;continue;case 33:return new jr(ze.BANG,s,s+1,u,l,t);case 35:return jEe(r,s,u,l,t);case 36:return new jr(ze.DOLLAR,s,s+1,u,l,t);case 38:return new jr(ze.AMP,s,s+1,u,l,t);case 40:return new jr(ze.PAREN_L,s,s+1,u,l,t);case 41:return new jr(ze.PAREN_R,s,s+1,u,l,t);case 46:if(n.charCodeAt(s+1)===46&&n.charCodeAt(s+2)===46)return new jr(ze.SPREAD,s,s+3,u,l,t);break;case 58:return new jr(ze.COLON,s,s+1,u,l,t);case 61:return new jr(ze.EQUALS,s,s+1,u,l,t);case 64:return new jr(ze.AT,s,s+1,u,l,t);case 91:return new jr(ze.BRACKET_L,s,s+1,u,l,t);case 93:return new jr(ze.BRACKET_R,s,s+1,u,l,t);case 123:return new jr(ze.BRACE_L,s,s+1,u,l,t);case 124:return new jr(ze.PIPE,s,s+1,u,l,t);case 125:return new jr(ze.BRACE_R,s,s+1,u,l,t);case 34:return n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34?qEe(r,s,u,l,t,e):FEe(r,s,u,l,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return MEe(r,s,o,u,l,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return $Ee(r,s,u,l,t)}throw Ri(r,s,LEe(o))}var c=e.line,d=1+s-e.lineStart;return new jr(ze.EOF,a,a,c,d,t)}function LEe(e){return e<32&&e!==9&&e!==10&&e!==13?"Cannot contain the invalid character ".concat(dc(e),"."):e===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(dc(e),".")}function jEe(e,t,r,n,a){var s=e.body,o,u=t;do o=s.charCodeAt(++u);while(!isNaN(o)&&(o>31||o===9));return new jr(ze.COMMENT,t,u,r,n,a,s.slice(t+1,u))}function MEe(e,t,r,n,a,s){var o=e.body,u=r,l=t,c=!1;if(u===45&&(u=o.charCodeAt(++l)),u===48){if(u=o.charCodeAt(++l),u>=48&&u<=57)throw Ri(e,l,"Invalid number, unexpected digit after 0: ".concat(dc(u),"."))}else l=kE(e,l,u),u=o.charCodeAt(l);if(u===46&&(c=!0,u=o.charCodeAt(++l),l=kE(e,l,u),u=o.charCodeAt(l)),(u===69||u===101)&&(c=!0,u=o.charCodeAt(++l),(u===43||u===45)&&(u=o.charCodeAt(++l)),l=kE(e,l,u),u=o.charCodeAt(l)),u===46||UEe(u))throw Ri(e,l,"Invalid number, expected digit but got: ".concat(dc(u),"."));return new jr(c?ze.FLOAT:ze.INT,t,l,n,a,s,o.slice(t,l))}function kE(e,t,r){var n=e.body,a=t,s=r;if(s>=48&&s<=57){do s=n.charCodeAt(++a);while(s>=48&&s<=57);return a}throw Ri(e,a,"Invalid number, expected digit but got: ".concat(dc(s),"."))}function FEe(e,t,r,n,a){for(var s=e.body,o=t+1,u=o,l=0,c="";o<s.length&&!isNaN(l=s.charCodeAt(o))&&l!==10&&l!==13;){if(l===34)return c+=s.slice(u,o),new jr(ze.STRING,t,o+1,r,n,a,c);if(l<32&&l!==9)throw Ri(e,o,"Invalid character within String: ".concat(dc(l),"."));if(++o,l===92){switch(c+=s.slice(u,o-1),l=s.charCodeAt(o),l){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+=`
`;break;case 114:c+="\r";break;case 116:c+="	";break;case 117:{var d=BEe(s.charCodeAt(o+1),s.charCodeAt(o+2),s.charCodeAt(o+3),s.charCodeAt(o+4));if(d<0){var f=s.slice(o+1,o+5);throw Ri(e,o,"Invalid character escape sequence: \\u".concat(f,"."))}c+=String.fromCharCode(d),o+=4;break}default:throw Ri(e,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(l),"."))}++o,u=o}}throw Ri(e,o,"Unterminated string.")}function qEe(e,t,r,n,a,s){for(var o=e.body,u=t+3,l=u,c=0,d="";u<o.length&&!isNaN(c=o.charCodeAt(u));){if(c===34&&o.charCodeAt(u+1)===34&&o.charCodeAt(u+2)===34)return d+=o.slice(l,u),new jr(ze.BLOCK_STRING,t,u+3,r,n,a,IEe(d));if(c<32&&c!==9&&c!==10&&c!==13)throw Ri(e,u,"Invalid character within String: ".concat(dc(c),"."));c===10?(++u,++s.line,s.lineStart=u):c===13?(o.charCodeAt(u+1)===10?u+=2:++u,++s.line,s.lineStart=u):c===92&&o.charCodeAt(u+1)===34&&o.charCodeAt(u+2)===34&&o.charCodeAt(u+3)===34?(d+=o.slice(l,u)+'"""',u+=4,l=u):++u}throw Ri(e,u,"Unterminated string.")}function BEe(e,t,r,n){return H1(e)<<12|H1(t)<<8|H1(r)<<4|H1(n)}function H1(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function $Ee(e,t,r,n,a){for(var s=e.body,o=s.length,u=t+1,l=0;u!==o&&!isNaN(l=s.charCodeAt(u))&&(l===95||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++u;return new jr(ze.NAME,t,u,r,n,a,s.slice(t,u))}function UEe(e){return e===95||e>=65&&e<=90||e>=97&&e<=122}var $X=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function kEe(e,t){var r=new _D(e,t);return r.parseDocument()}function VEe(e,t){var r=new _D(e,t);r.expectToken(ze.SOF);var n=r.parseValueLiteral(!1);return r.expectToken(ze.EOF),n}function HEe(e,t){var r=new _D(e,t);r.expectToken(ze.SOF);var n=r.parseTypeReference();return r.expectToken(ze.EOF),n}var _D=function(){function e(r,n){var a=mEe(r)?r:new yD(r);this._lexer=new BX(a),this._options=n}var t=e.prototype;return t.parseName=function(){var n=this.expectToken(ze.NAME);return{kind:at.NAME,value:n.value,loc:this.loc(n)}},t.parseDocument=function(){var n=this._lexer.token;return{kind:at.DOCUMENT,definitions:this.many(ze.SOF,this.parseDefinition,ze.EOF),loc:this.loc(n)}},t.parseDefinition=function(){if(this.peek(ze.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(ze.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(ze.BRACE_L))return{kind:at.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var a=this.parseOperationType(),s;return this.peek(ze.NAME)&&(s=this.parseName()),{kind:at.OPERATION_DEFINITION,operation:a,name:s,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseOperationType=function(){var n=this.expectToken(ze.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},t.parseVariableDefinitions=function(){return this.optionalMany(ze.PAREN_L,this.parseVariableDefinition,ze.PAREN_R)},t.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:at.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(ze.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(ze.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},t.parseVariable=function(){var n=this._lexer.token;return this.expectToken(ze.DOLLAR),{kind:at.VARIABLE,name:this.parseName(),loc:this.loc(n)}},t.parseSelectionSet=function(){var n=this._lexer.token;return{kind:at.SELECTION_SET,selections:this.many(ze.BRACE_L,this.parseSelection,ze.BRACE_R),loc:this.loc(n)}},t.parseSelection=function(){return this.peek(ze.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var n=this._lexer.token,a=this.parseName(),s,o;return this.expectOptionalToken(ze.COLON)?(s=a,o=this.parseName()):o=a,{kind:at.FIELD,alias:s,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(ze.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(n){var a=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(ze.PAREN_L,a,ze.PAREN_R)},t.parseArgument=function(){var n=this._lexer.token,a=this.parseName();return this.expectToken(ze.COLON),{kind:at.ARGUMENT,name:a,value:this.parseValueLiteral(!1),loc:this.loc(n)}},t.parseConstArgument=function(){var n=this._lexer.token;return{kind:at.ARGUMENT,name:this.parseName(),value:(this.expectToken(ze.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},t.parseFragment=function(){var n=this._lexer.token;this.expectToken(ze.SPREAD);var a=this.expectOptionalKeyword("on");return!a&&this.peek(ze.NAME)?{kind:at.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:at.INLINE_FRAGMENT,typeCondition:a?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseFragmentDefinition=function(){var n,a=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:at.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}:{kind:at.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}},t.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(n){var a=this._lexer.token;switch(a.kind){case ze.BRACKET_L:return this.parseList(n);case ze.BRACE_L:return this.parseObject(n);case ze.INT:return this._lexer.advance(),{kind:at.INT,value:a.value,loc:this.loc(a)};case ze.FLOAT:return this._lexer.advance(),{kind:at.FLOAT,value:a.value,loc:this.loc(a)};case ze.STRING:case ze.BLOCK_STRING:return this.parseStringLiteral();case ze.NAME:switch(this._lexer.advance(),a.value){case"true":return{kind:at.BOOLEAN,value:!0,loc:this.loc(a)};case"false":return{kind:at.BOOLEAN,value:!1,loc:this.loc(a)};case"null":return{kind:at.NULL,loc:this.loc(a)};default:return{kind:at.ENUM,value:a.value,loc:this.loc(a)}}case ze.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},t.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:at.STRING,value:n.value,block:n.kind===ze.BLOCK_STRING,loc:this.loc(n)}},t.parseList=function(n){var a=this,s=this._lexer.token,o=function(){return a.parseValueLiteral(n)};return{kind:at.LIST,values:this.any(ze.BRACKET_L,o,ze.BRACKET_R),loc:this.loc(s)}},t.parseObject=function(n){var a=this,s=this._lexer.token,o=function(){return a.parseObjectField(n)};return{kind:at.OBJECT,fields:this.any(ze.BRACE_L,o,ze.BRACE_R),loc:this.loc(s)}},t.parseObjectField=function(n){var a=this._lexer.token,s=this.parseName();return this.expectToken(ze.COLON),{kind:at.OBJECT_FIELD,name:s,value:this.parseValueLiteral(n),loc:this.loc(a)}},t.parseDirectives=function(n){for(var a=[];this.peek(ze.AT);)a.push(this.parseDirective(n));return a},t.parseDirective=function(n){var a=this._lexer.token;return this.expectToken(ze.AT),{kind:at.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(a)}},t.parseTypeReference=function(){var n=this._lexer.token,a;return this.expectOptionalToken(ze.BRACKET_L)?(a=this.parseTypeReference(),this.expectToken(ze.BRACKET_R),a={kind:at.LIST_TYPE,type:a,loc:this.loc(n)}):a=this.parseNamedType(),this.expectOptionalToken(ze.BANG)?{kind:at.NON_NULL_TYPE,type:a,loc:this.loc(n)}:a},t.parseNamedType=function(){var n=this._lexer.token;return{kind:at.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},t.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===ze.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},t.peekDescription=function(){return this.peek(ze.STRING)||this.peek(ze.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("schema");var s=this.parseDirectives(!0),o=this.many(ze.BRACE_L,this.parseOperationTypeDefinition,ze.BRACE_R);return{kind:at.SCHEMA_DEFINITION,description:a,directives:s,operationTypes:o,loc:this.loc(n)}},t.parseOperationTypeDefinition=function(){var n=this._lexer.token,a=this.parseOperationType();this.expectToken(ze.COLON);var s=this.parseNamedType();return{kind:at.OPERATION_TYPE_DEFINITION,operation:a,type:s,loc:this.loc(n)}},t.parseScalarTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("scalar");var s=this.parseName(),o=this.parseDirectives(!0);return{kind:at.SCALAR_TYPE_DEFINITION,description:a,name:s,directives:o,loc:this.loc(n)}},t.parseObjectTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("type");var s=this.parseName(),o=this.parseImplementsInterfaces(),u=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:at.OBJECT_TYPE_DEFINITION,description:a,name:s,interfaces:o,directives:u,fields:l,loc:this.loc(n)}},t.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var a=[];this.expectOptionalToken(ze.AMP);do a.push(this.parseNamedType());while(this.expectOptionalToken(ze.AMP)||this.peek(ze.NAME));return a}return this.delimitedMany(ze.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(ze.BRACE_L)&&this._lexer.lookahead().kind===ze.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(ze.BRACE_L,this.parseFieldDefinition,ze.BRACE_R)},t.parseFieldDefinition=function(){var n=this._lexer.token,a=this.parseDescription(),s=this.parseName(),o=this.parseArgumentDefs();this.expectToken(ze.COLON);var u=this.parseTypeReference(),l=this.parseDirectives(!0);return{kind:at.FIELD_DEFINITION,description:a,name:s,arguments:o,type:u,directives:l,loc:this.loc(n)}},t.parseArgumentDefs=function(){return this.optionalMany(ze.PAREN_L,this.parseInputValueDef,ze.PAREN_R)},t.parseInputValueDef=function(){var n=this._lexer.token,a=this.parseDescription(),s=this.parseName();this.expectToken(ze.COLON);var o=this.parseTypeReference(),u;this.expectOptionalToken(ze.EQUALS)&&(u=this.parseValueLiteral(!0));var l=this.parseDirectives(!0);return{kind:at.INPUT_VALUE_DEFINITION,description:a,name:s,type:o,defaultValue:u,directives:l,loc:this.loc(n)}},t.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("interface");var s=this.parseName(),o=this.parseImplementsInterfaces(),u=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:at.INTERFACE_TYPE_DEFINITION,description:a,name:s,interfaces:o,directives:u,fields:l,loc:this.loc(n)}},t.parseUnionTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("union");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseUnionMemberTypes();return{kind:at.UNION_TYPE_DEFINITION,description:a,name:s,directives:o,types:u,loc:this.loc(n)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(ze.EQUALS)?this.delimitedMany(ze.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("enum");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseEnumValuesDefinition();return{kind:at.ENUM_TYPE_DEFINITION,description:a,name:s,directives:o,values:u,loc:this.loc(n)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(ze.BRACE_L,this.parseEnumValueDefinition,ze.BRACE_R)},t.parseEnumValueDefinition=function(){var n=this._lexer.token,a=this.parseDescription(),s=this.parseName(),o=this.parseDirectives(!0);return{kind:at.ENUM_VALUE_DEFINITION,description:a,name:s,directives:o,loc:this.loc(n)}},t.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("input");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseInputFieldsDefinition();return{kind:at.INPUT_OBJECT_TYPE_DEFINITION,description:a,name:s,directives:o,fields:u,loc:this.loc(n)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(ze.BRACE_L,this.parseInputValueDef,ze.BRACE_R)},t.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===ze.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},t.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var a=this.parseDirectives(!0),s=this.optionalMany(ze.BRACE_L,this.parseOperationTypeDefinition,ze.BRACE_R);if(a.length===0&&s.length===0)throw this.unexpected();return{kind:at.SCHEMA_EXTENSION,directives:a,operationTypes:s,loc:this.loc(n)}},t.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var a=this.parseName(),s=this.parseDirectives(!0);if(s.length===0)throw this.unexpected();return{kind:at.SCALAR_TYPE_EXTENSION,name:a,directives:s,loc:this.loc(n)}},t.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),u=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&u.length===0)throw this.unexpected();return{kind:at.OBJECT_TYPE_EXTENSION,name:a,interfaces:s,directives:o,fields:u,loc:this.loc(n)}},t.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),u=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&u.length===0)throw this.unexpected();return{kind:at.INTERFACE_TYPE_EXTENSION,name:a,interfaces:s,directives:o,fields:u,loc:this.loc(n)}},t.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseUnionMemberTypes();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:at.UNION_TYPE_EXTENSION,name:a,directives:s,types:o,loc:this.loc(n)}},t.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:at.ENUM_TYPE_EXTENSION,name:a,directives:s,values:o,loc:this.loc(n)}},t.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:at.INPUT_OBJECT_TYPE_EXTENSION,name:a,directives:s,fields:o,loc:this.loc(n)}},t.parseDirectiveDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("directive"),this.expectToken(ze.AT);var s=this.parseName(),o=this.parseArgumentDefs(),u=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var l=this.parseDirectiveLocations();return{kind:at.DIRECTIVE_DEFINITION,description:a,name:s,arguments:o,repeatable:u,locations:l,loc:this.loc(n)}},t.parseDirectiveLocations=function(){return this.delimitedMany(ze.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var n=this._lexer.token,a=this.parseName();if($X[a.value]!==void 0)return a;throw this.unexpected(n)},t.loc=function(n){var a;if(((a=this._options)===null||a===void 0?void 0:a.noLocation)!==!0)return new gD(n,this._lexer.lastToken,this._lexer.source)},t.peek=function(n){return this._lexer.token.kind===n},t.expectToken=function(n){var a=this._lexer.token;if(a.kind===n)return this._lexer.advance(),a;throw Ri(this._lexer.source,a.start,"Expected ".concat(UX(n),", found ").concat(VE(a),"."))},t.expectOptionalToken=function(n){var a=this._lexer.token;if(a.kind===n)return this._lexer.advance(),a},t.expectKeyword=function(n){var a=this._lexer.token;if(a.kind===ze.NAME&&a.value===n)this._lexer.advance();else throw Ri(this._lexer.source,a.start,'Expected "'.concat(n,'", found ').concat(VE(a),"."))},t.expectOptionalKeyword=function(n){var a=this._lexer.token;return a.kind===ze.NAME&&a.value===n?(this._lexer.advance(),!0):!1},t.unexpected=function(n){var a=n??this._lexer.token;return Ri(this._lexer.source,a.start,"Unexpected ".concat(VE(a),"."))},t.any=function(n,a,s){this.expectToken(n);for(var o=[];!this.expectOptionalToken(s);)o.push(a.call(this));return o},t.optionalMany=function(n,a,s){if(this.expectOptionalToken(n)){var o=[];do o.push(a.call(this));while(!this.expectOptionalToken(s));return o}return[]},t.many=function(n,a,s){this.expectToken(n);var o=[];do o.push(a.call(this));while(!this.expectOptionalToken(s));return o},t.delimitedMany=function(n,a){this.expectOptionalToken(n);var s=[];do s.push(a.call(this));while(this.expectOptionalToken(n));return s},e}();function VE(e){var t=e.value;return UX(e.kind)+(t!=null?' "'.concat(t,'"'):"")}function UX(e){return DEe(e)?'"'.concat(e,'"'):e}var QEe={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},sl=Object.freeze({});function kX(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:QEe,n=void 0,a=Array.isArray(e),s=[e],o=-1,u=[],l=void 0,c=void 0,d=void 0,f=[],h=[],p=e;do{o++;var m=o===s.length,y=m&&u.length!==0;if(m){if(c=h.length===0?void 0:f[f.length-1],l=d,d=h.pop(),y){if(a)l=l.slice();else{for(var g={},b=0,v=Object.keys(l);b<v.length;b++){var _=v[b];g[_]=l[_]}l=g}for(var w=0,S=0;S<u.length;S++){var E=u[S][0],x=u[S][1];a&&(E-=w),a&&x===null?(l.splice(E,1),w++):l[E]=x}}o=n.index,s=n.keys,u=n.edits,a=n.inArray,n=n.prev}else{if(c=d?a?o:s[o]:void 0,l=d?d[c]:p,l==null)continue;d&&f.push(c)}var C=void 0;if(!Array.isArray(l)){if(!M8(l))throw new Error("Invalid AST Node: ".concat(LX(l),"."));var I=ww(t,l.kind,m);if(I){if(C=I.call(t,l,c,d,f,h),C===sl)break;if(C===!1){if(!m){f.pop();continue}}else if(C!==void 0&&(u.push([c,C]),!m))if(M8(C))l=C;else{f.pop();continue}}}if(C===void 0&&y&&u.push([c,l]),m)f.pop();else{var P;n={inArray:a,index:o,keys:s,edits:u,prev:n},a=Array.isArray(l),s=a?l:(P=r[l.kind])!==null&&P!==void 0?P:[],o=-1,u=[],d&&h.push(d),d=l}}while(n!==void 0);return u.length!==0&&(p=u[u.length-1][1]),p}function zEe(e){var t=new Array(e.length);return{enter:function(n){for(var a=0;a<e.length;a++)if(t[a]==null){var s=ww(e[a],n.kind,!1);if(s){var o=s.apply(e[a],arguments);if(o===!1)t[a]=n;else if(o===sl)t[a]=sl;else if(o!==void 0)return o}}},leave:function(n){for(var a=0;a<e.length;a++)if(t[a]==null){var s=ww(e[a],n.kind,!0);if(s){var o=s.apply(e[a],arguments);if(o===sl)t[a]=sl;else if(o!==void 0&&o!==!1)return o}}else t[a]===n&&(t[a]=null)}}}function ww(e,t,r){var n=e[t];if(n){if(!r&&typeof n=="function")return n;var a=r?n.leave:n.enter;if(typeof a=="function")return a}else{var s=r?e.leave:e.enter;if(s){if(typeof s=="function")return s;var o=s[t];if(typeof o=="function")return o}}}function GEe(e){return kX(e,{leave:KEe})}var WEe=80,KEe={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return pt(t.definitions,`

`)+`
`},OperationDefinition:function(t){var r=t.operation,n=t.name,a=Lr("(",pt(t.variableDefinitions,", "),")"),s=pt(t.directives," "),o=t.selectionSet;return!n&&!s&&!a&&r==="query"?o:pt([r,pt([n,a]),s,o]," ")},VariableDefinition:function(t){var r=t.variable,n=t.type,a=t.defaultValue,s=t.directives;return r+": "+n+Lr(" = ",a)+Lr(" ",pt(s," "))},SelectionSet:function(t){var r=t.selections;return oa(r)},Field:function(t){var r=t.alias,n=t.name,a=t.arguments,s=t.directives,o=t.selectionSet,u=Lr("",r,": ")+n,l=u+Lr("(",pt(a,", "),")");return l.length>WEe&&(l=u+Lr(`(
`,Fv(pt(a,`
`)),`
)`)),pt([l,pt(s," "),o]," ")},Argument:function(t){var r=t.name,n=t.value;return r+": "+n},FragmentSpread:function(t){var r=t.name,n=t.directives;return"..."+r+Lr(" ",pt(n," "))},InlineFragment:function(t){var r=t.typeCondition,n=t.directives,a=t.selectionSet;return pt(["...",Lr("on ",r),pt(n," "),a]," ")},FragmentDefinition:function(t){var r=t.name,n=t.typeCondition,a=t.variableDefinitions,s=t.directives,o=t.selectionSet;return"fragment ".concat(r).concat(Lr("(",pt(a,", "),")")," ")+"on ".concat(n," ").concat(Lr("",pt(s," ")," "))+o},IntValue:function(t){var r=t.value;return r},FloatValue:function(t){var r=t.value;return r},StringValue:function(t,r){var n=t.value,a=t.block;return a?NEe(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(t){var r=t.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){var r=t.value;return r},ListValue:function(t){var r=t.values;return"["+pt(r,", ")+"]"},ObjectValue:function(t){var r=t.fields;return"{"+pt(r,", ")+"}"},ObjectField:function(t){var r=t.name,n=t.value;return r+": "+n},Directive:function(t){var r=t.name,n=t.arguments;return"@"+r+Lr("(",pt(n,", "),")")},NamedType:function(t){var r=t.name;return r},ListType:function(t){var r=t.type;return"["+r+"]"},NonNullType:function(t){var r=t.type;return r+"!"},SchemaDefinition:sa(function(e){var t=e.directives,r=e.operationTypes;return pt(["schema",pt(t," "),oa(r)]," ")}),OperationTypeDefinition:function(t){var r=t.operation,n=t.type;return r+": "+n},ScalarTypeDefinition:sa(function(e){var t=e.name,r=e.directives;return pt(["scalar",t,pt(r," ")]," ")}),ObjectTypeDefinition:sa(function(e){var t=e.name,r=e.interfaces,n=e.directives,a=e.fields;return pt(["type",t,Lr("implements ",pt(r," & ")),pt(n," "),oa(a)]," ")}),FieldDefinition:sa(function(e){var t=e.name,r=e.arguments,n=e.type,a=e.directives;return t+(q8(r)?Lr(`(
`,Fv(pt(r,`
`)),`
)`):Lr("(",pt(r,", "),")"))+": "+n+Lr(" ",pt(a," "))}),InputValueDefinition:sa(function(e){var t=e.name,r=e.type,n=e.defaultValue,a=e.directives;return pt([t+": "+r,Lr("= ",n),pt(a," ")]," ")}),InterfaceTypeDefinition:sa(function(e){var t=e.name,r=e.interfaces,n=e.directives,a=e.fields;return pt(["interface",t,Lr("implements ",pt(r," & ")),pt(n," "),oa(a)]," ")}),UnionTypeDefinition:sa(function(e){var t=e.name,r=e.directives,n=e.types;return pt(["union",t,pt(r," "),n&&n.length!==0?"= "+pt(n," | "):""]," ")}),EnumTypeDefinition:sa(function(e){var t=e.name,r=e.directives,n=e.values;return pt(["enum",t,pt(r," "),oa(n)]," ")}),EnumValueDefinition:sa(function(e){var t=e.name,r=e.directives;return pt([t,pt(r," ")]," ")}),InputObjectTypeDefinition:sa(function(e){var t=e.name,r=e.directives,n=e.fields;return pt(["input",t,pt(r," "),oa(n)]," ")}),DirectiveDefinition:sa(function(e){var t=e.name,r=e.arguments,n=e.repeatable,a=e.locations;return"directive @"+t+(q8(r)?Lr(`(
`,Fv(pt(r,`
`)),`
)`):Lr("(",pt(r,", "),")"))+(n?" repeatable":"")+" on "+pt(a," | ")}),SchemaExtension:function(t){var r=t.directives,n=t.operationTypes;return pt(["extend schema",pt(r," "),oa(n)]," ")},ScalarTypeExtension:function(t){var r=t.name,n=t.directives;return pt(["extend scalar",r,pt(n," ")]," ")},ObjectTypeExtension:function(t){var r=t.name,n=t.interfaces,a=t.directives,s=t.fields;return pt(["extend type",r,Lr("implements ",pt(n," & ")),pt(a," "),oa(s)]," ")},InterfaceTypeExtension:function(t){var r=t.name,n=t.interfaces,a=t.directives,s=t.fields;return pt(["extend interface",r,Lr("implements ",pt(n," & ")),pt(a," "),oa(s)]," ")},UnionTypeExtension:function(t){var r=t.name,n=t.directives,a=t.types;return pt(["extend union",r,pt(n," "),a&&a.length!==0?"= "+pt(a," | "):""]," ")},EnumTypeExtension:function(t){var r=t.name,n=t.directives,a=t.values;return pt(["extend enum",r,pt(n," "),oa(a)]," ")},InputObjectTypeExtension:function(t){var r=t.name,n=t.directives,a=t.fields;return pt(["extend input",r,pt(n," "),oa(a)]," ")}};function sa(e){return function(t){return pt([t.description,e(t)],`
`)}}function pt(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(t=e==null?void 0:e.filter(function(n){return n}).join(r))!==null&&t!==void 0?t:""}function oa(e){return Lr(`{
`,Fv(pt(e,`
`)),`
}`)}function Lr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return t!=null&&t!==""?e+t+r:""}function Fv(e){return Lr("  ",e.replace(/\n/g,`
  `))}function JEe(e){return e.indexOf(`
`)!==-1}function q8(e){return e!=null&&e.some(JEe)}function XEe(e){return VX(e)||HX(e)||zX(e)}function VX(e){return e.kind===at.OPERATION_DEFINITION||e.kind===at.FRAGMENT_DEFINITION}function YEe(e){return e.kind===at.FIELD||e.kind===at.FRAGMENT_SPREAD||e.kind===at.INLINE_FRAGMENT}function ZEe(e){return e.kind===at.VARIABLE||e.kind===at.INT||e.kind===at.FLOAT||e.kind===at.STRING||e.kind===at.BOOLEAN||e.kind===at.NULL||e.kind===at.ENUM||e.kind===at.LIST||e.kind===at.OBJECT}function eAe(e){return e.kind===at.NAMED_TYPE||e.kind===at.LIST_TYPE||e.kind===at.NON_NULL_TYPE}function HX(e){return e.kind===at.SCHEMA_DEFINITION||QX(e)||e.kind===at.DIRECTIVE_DEFINITION}function QX(e){return e.kind===at.SCALAR_TYPE_DEFINITION||e.kind===at.OBJECT_TYPE_DEFINITION||e.kind===at.INTERFACE_TYPE_DEFINITION||e.kind===at.UNION_TYPE_DEFINITION||e.kind===at.ENUM_TYPE_DEFINITION||e.kind===at.INPUT_OBJECT_TYPE_DEFINITION}function zX(e){return e.kind===at.SCHEMA_EXTENSION||GX(e)}function GX(e){return e.kind===at.SCALAR_TYPE_EXTENSION||e.kind===at.OBJECT_TYPE_EXTENSION||e.kind===at.INTERFACE_TYPE_EXTENSION||e.kind===at.UNION_TYPE_EXTENSION||e.kind===at.ENUM_TYPE_EXTENSION||e.kind===at.INPUT_OBJECT_TYPE_EXTENSION}const tAe=Object.freeze(Object.defineProperty({__proto__:null,BREAK:sl,DirectiveLocation:$X,Kind:at,Lexer:BX,Location:gD,Source:yD,Token:jr,TokenKind:ze,getLocation:vw,getVisitFn:ww,isDefinitionNode:XEe,isExecutableDefinitionNode:VX,isSelectionNode:YEe,isTypeDefinitionNode:QX,isTypeExtensionNode:GX,isTypeNode:eAe,isTypeSystemDefinitionNode:HX,isTypeSystemExtensionNode:zX,isValueNode:ZEe,parse:kEe,parseType:HEe,parseValue:VEe,print:GEe,printLocation:jX,printSourceLocation:mD,visit:kX,visitInParallel:zEe},Symbol.toStringTag,{value:"Module"})),rAe=VP(tAe);var Zf={},HE={},eh={},B8={},$8;function bD(){return $8||($8=1,function(){(function(e){(function(t){var r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(I){return I&&DataView.prototype.isPrototypeOf(I)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(I){return I&&a.indexOf(Object.prototype.toString.call(I))>-1};function o(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(I))throw new TypeError("Invalid character in header field name");return I.toLowerCase()}function u(I){return typeof I!="string"&&(I=String(I)),I}function l(I){var P={next:function(){var L=I.shift();return{done:L===void 0,value:L}}};return r.iterable&&(P[Symbol.iterator]=function(){return P}),P}function c(I){this.map={},I instanceof c?I.forEach(function(P,L){this.append(L,P)},this):Array.isArray(I)?I.forEach(function(P){this.append(P[0],P[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(P){this.append(P,I[P])},this)}c.prototype.append=function(I,P){I=o(I),P=u(P);var L=this.map[I];this.map[I]=L?L+", "+P:P},c.prototype.delete=function(I){delete this.map[o(I)]},c.prototype.get=function(I){return I=o(I),this.has(I)?this.map[I]:null},c.prototype.has=function(I){return this.map.hasOwnProperty(o(I))},c.prototype.set=function(I,P){this.map[o(I)]=u(P)},c.prototype.forEach=function(I,P){for(var L in this.map)this.map.hasOwnProperty(L)&&I.call(P,this.map[L],L,this)},c.prototype.keys=function(){var I=[];return this.forEach(function(P,L){I.push(L)}),l(I)},c.prototype.values=function(){var I=[];return this.forEach(function(P){I.push(P)}),l(I)},c.prototype.entries=function(){var I=[];return this.forEach(function(P,L){I.push([L,P])}),l(I)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);function d(I){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}function f(I){return new Promise(function(P,L){I.onload=function(){P(I.result)},I.onerror=function(){L(I.error)}})}function h(I){var P=new FileReader,L=f(P);return P.readAsArrayBuffer(I),L}function p(I){var P=new FileReader,L=f(P);return P.readAsText(I),L}function m(I){for(var P=new Uint8Array(I),L=new Array(P.length),D=0;D<P.length;D++)L[D]=String.fromCharCode(P[D]);return L.join("")}function y(I){if(I.slice)return I.slice(0);var P=new Uint8Array(I.byteLength);return P.set(new Uint8Array(I)),P.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(I){this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:r.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:r.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():r.arrayBuffer&&r.blob&&n(I)?(this._bodyArrayBuffer=y(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||s(I))?this._bodyArrayBuffer=y(I):this._bodyText=I=Object.prototype.toString.call(I):this._bodyText="",this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var I=d(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var I=d(this);if(I)return I;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(I){var P=I.toUpperCase();return b.indexOf(P)>-1?P:I}function _(I,P){P=P||{};var L=P.body;if(I instanceof _){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,P.headers||(this.headers=new c(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!L&&I._bodyInit!=null&&(L=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=P.credentials||this.credentials||"same-origin",(P.headers||!this.headers)&&(this.headers=new c(P.headers)),this.method=v(P.method||this.method||"GET"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(L)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})};function w(I){var P=new FormData;return I.trim().split("&").forEach(function(L){if(L){var D=L.split("="),V=D.shift().replace(/\+/g," "),k=D.join("=").replace(/\+/g," ");P.append(decodeURIComponent(V),decodeURIComponent(k))}}),P}function S(I){var P=new c,L=I.replace(/\r?\n[\t ]+/g," ");return L.split(/\r?\n/).forEach(function(D){var V=D.split(":"),k=V.shift().trim();if(k){var $=V.join(":").trim();P.append(k,$)}}),P}g.call(_.prototype);function E(I,P){P||(P={}),this.type="default",this.status=P.status===void 0?200:P.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in P?P.statusText:"OK",this.headers=new c(P.headers),this.url=P.url||"",this._initBody(I)}g.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},E.error=function(){var I=new E(null,{status:0,statusText:""});return I.type="error",I};var x=[301,302,303,307,308];E.redirect=function(I,P){if(x.indexOf(P)===-1)throw new RangeError("Invalid status code");return new E(null,{status:P,headers:{location:I}})},t.DOMException=e.DOMException;try{new t.DOMException}catch{t.DOMException=function(P,L){this.message=P,this.name=L;var D=Error(P);this.stack=D.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function C(I,P){return new Promise(function(L,D){var V=new _(I,P);if(V.signal&&V.signal.aborted)return D(new t.DOMException("Aborted","AbortError"));var k=new XMLHttpRequest;function $(){k.abort()}k.onload=function(){var H={status:k.status,statusText:k.statusText,headers:S(k.getAllResponseHeaders()||"")};H.url="responseURL"in k?k.responseURL:H.headers.get("X-Request-URL");var J="response"in k?k.response:k.responseText;L(new E(J,H))},k.onerror=function(){D(new TypeError("Network request failed"))},k.ontimeout=function(){D(new TypeError("Network request failed"))},k.onabort=function(){D(new t.DOMException("Aborted","AbortError"))},k.open(V.method,V.url,!0),V.credentials==="include"?k.withCredentials=!0:V.credentials==="omit"&&(k.withCredentials=!1),"responseType"in k&&r.blob&&(k.responseType="blob"),V.headers.forEach(function(H,J){k.setRequestHeader(J,H)}),V.signal&&(V.signal.addEventListener("abort",$),k.onreadystatechange=function(){k.readyState===4&&V.signal.removeEventListener("abort",$)}),k.send(typeof V._bodyInit>"u"?null:V._bodyInit)})}return C.polyfill=!0,e.fetch||(e.fetch=C,e.Headers=c,e.Request=_,e.Response=E),t.Headers=c,t.Request=_,t.Response=E,t.fetch=C,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:N)}()),B8}var QE={},ys={},U8;function nAe(){if(U8)return ys;U8=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.removeDotSegmentsOfPath=ys.removeDotSegments=ys.resolve=void 0;function e(a,s){s=s||"";const o=s.indexOf("#");if(o>0&&(s=s.substr(0,o)),!a.length){if(s.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${s}' for value '${a}'`);return s}if(a.startsWith("?")){const p=s.indexOf("?");return p>0&&(s=s.substr(0,p)),s+a}if(a.startsWith("#"))return s+a;if(!s.length){const p=a.indexOf(":");if(p<0)throw new Error(`Found invalid relative IRI '${a}' for a missing baseIRI`);return r(a,p)}const u=a.indexOf(":");if(u>=0)return r(a,u);const l=s.indexOf(":");if(l<0)throw new Error(`Found invalid baseIRI '${s}' for value '${a}'`);const c=s.substr(0,l+1);if(a.indexOf("//")===0)return c+r(a,u);let d;if(s.indexOf("//",l)===l+1){if(d=s.indexOf("/",l+3),d<0)return s.length>l+3?s+"/"+r(a,u):c+r(a,u)}else if(d=s.indexOf("/",l+1),d<0)return c+r(a,u);if(a.indexOf("/")===0)return s.substr(0,d)+t(a);let f=s.substr(d);const h=f.lastIndexOf("/");return h>=0&&h<f.length-1&&(f=f.substr(0,h+1),a[0]==="."&&a[1]!=="."&&a[1]!=="/"&&a[2]&&(a=a.substr(1))),a=f+a,a=t(a),s.substr(0,d)+a}ys.resolve=e;function t(a){const s=[];let o=0;for(;o<a.length;)switch(a[o]){case"/":if(a[o+1]===".")if(a[o+2]==="."){if(!n(a[o+3])){s.push([]),o++;break}s.pop(),a[o+3]||s.push([]),o+=3}else{if(!n(a[o+2])){s.push([]),o++;break}a[o+2]||s.push([]),o+=2}else s.push([]),o++;break;case"#":case"?":s.length||s.push([]),s[s.length-1].push(a.substr(o)),o=a.length;break;default:s.length||s.push([]),s[s.length-1].push(a[o]),o++;break}return"/"+s.map(u=>u.join("")).join("/")}ys.removeDotSegments=t;function r(a,s){let o=s+1;s>=0?a[s+1]==="/"&&a[s+2]==="/"&&(o=s+3):a[0]==="/"&&a[1]==="/"&&(o=2);const u=a.indexOf("/",o);if(u<0)return a;const l=a.substr(0,u),c=a.substr(u);return l+t(c)}ys.removeDotSegmentsOfPath=r;function n(a){return!a||a==="#"||a==="?"||a==="/"}return ys}var k8;function va(){return k8||(k8=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(nAe(),e)}(QE)),QE}var zE={},V8;function kb(){return V8||(V8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class t extends Error{constructor(n,a){super(n),this.code=a}}e.ErrorCoded=t,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))}(zE)),zE}var th={},GE,H8;function WX(){if(H8)return GE;H8=1;var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,r=/\s|\uFEFF|\xA0/,n=/\r?\n[\x20\x09]+/g,a=/[;,"]/,s=/[;,"]|\s/,o=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,u={IDLE:1,URI:2,ATTR:4};function l(m){return m.replace(t,"")}function c(m){return r.test(m)}function d(m,y){for(;c(m[y]);)y++;return y}function f(m){return s.test(m)||!o.test(m)}function h(m,y){return Object.keys(m).length===Object.keys(y).length&&Object.keys(m).every(g=>g in y&&m[g]===y[g])}class p{constructor(y){this.refs=[],y&&this.parse(y)}rel(y){for(var g=[],b=y.toLowerCase(),v=0;v<this.refs.length;v++)typeof this.refs[v].rel=="string"&&this.refs[v].rel.toLowerCase()===b&&g.push(this.refs[v]);return g}get(y,g){y=y.toLowerCase(),g=g.toLowerCase();for(var b=[],v=0;v<this.refs.length;v++)typeof this.refs[v][y]=="string"&&this.refs[v][y].toLowerCase()===g&&b.push(this.refs[v]);return b}set(y){return this.refs.push(y),this}setUnique(y){return this.refs.some(g=>h(g,y))||this.refs.push(y),this}has(y,g){y=y.toLowerCase(),g=g.toLowerCase();for(var b=0;b<this.refs.length;b++)if(typeof this.refs[b][y]=="string"&&this.refs[b][y].toLowerCase()===g)return!0;return!1}parse(y,_){_=_||0,y=_?y.slice(_):y,y=l(y).replace(n,"");for(var b=u.IDLE,v=y.length,_=0,w=null;_<v;)if(b===u.IDLE){if(c(y[_])){_++;continue}else if(y[_]==="<"){w!=null&&(w.rel!=null?this.refs.push(...p.expandRelations(w)):this.refs.push(w));var S=y.indexOf(">",_);if(S===-1)throw new Error("Expected end of URI delimiter at offset "+_);w={uri:y.slice(_+1,S)},_=S,b=u.URI}else throw new Error('Unexpected character "'+y[_]+'" at offset '+_);_++}else if(b===u.URI)if(c(y[_])){_++;continue}else if(y[_]===";")b=u.ATTR,_++;else if(y[_]===",")b=u.IDLE,_++;else throw new Error('Unexpected character "'+y[_]+'" at offset '+_);else if(b===u.ATTR){if(y[_]===";"||c(y[_])){_++;continue}var S=y.indexOf("=",_);S===-1&&(S=y.indexOf(";",_)),S===-1&&(S=y.length);var E=l(y.slice(_,S)).toLowerCase(),x="";if(_=S+1,_=d(y,_),y[_]==='"')for(_++;_<v;){if(y[_]==='"'){_++;break}y[_]==="\\"&&_++,x+=y[_],_++}else{for(var S=_+1;!a.test(y[S])&&S<v;)S++;x=y.slice(_,S),_=S}switch(w[E]&&p.isSingleOccurenceAttr(E)||(E[E.length-1]==="*"?w[E]=p.parseExtendedValue(x):(x=E==="type"?x.toLowerCase():x,w[E]!=null?Array.isArray(w[E])?w[E].push(x):w[E]=[w[E],x]:w[E]=x)),y[_]){case",":b=u.IDLE;break;case";":b=u.ATTR;break}_++}else throw new Error('Unknown parser state "'+b+'"');return w!=null&&(w.rel!=null?this.refs.push(...p.expandRelations(w)):this.refs.push(w)),w=null,this}toString(){for(var y=[],g="",b=null,v=0;v<this.refs.length;v++)b=this.refs[v],g=Object.keys(this.refs[v]).reduce(function(_,w){return w==="uri"?_:_+"; "+p.formatAttribute(w,b[w])},"<"+b.uri+">"),y.push(g);return y.join(", ")}}return p.isCompatibleEncoding=function(m){return e.test(m)},p.parse=function(m,y){return new p().parse(m,y)},p.isSingleOccurenceAttr=function(m){return m==="rel"||m==="type"||m==="media"||m==="title"||m==="title*"},p.isTokenAttr=function(m){return m==="rel"||m==="type"||m==="anchor"},p.escapeQuotes=function(m){return m.replace(/"/g,'\\"')},p.expandRelations=function(m){var y=m.rel.split(" ");return y.map(function(g){var b=Object.assign({},m);return b.rel=g,b})},p.parseExtendedValue=function(m){var y=/([^']+)?(?:'([^']*)')?(.+)/.exec(m);return{language:y[2].toLowerCase(),encoding:p.isCompatibleEncoding(y[1])?null:y[1].toLowerCase(),value:p.isCompatibleEncoding(y[1])?decodeURIComponent(y[3]):y[3]}},p.formatExtendedAttribute=function(m,y){var g=(y.encoding||"utf-8").toUpperCase(),b=y.language||"en",v="";return Ui.isBuffer(y.value)&&p.isCompatibleEncoding(g)?v=y.value.toString(g):Ui.isBuffer(y.value)?v=y.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):v=encodeURIComponent(y.value),m+"="+g+"'"+b+"'"+v},p.formatAttribute=function(m,y){return Array.isArray(y)?y.map(g=>p.formatAttribute(m,g)).join("; "):m[m.length-1]==="*"||typeof y!="string"?p.formatExtendedAttribute(m,y):(p.isTokenAttr(m)?y=f(y)?'"'+p.escapeQuotes(y)+'"':p.escapeQuotes(y):f(y)&&(y=encodeURIComponent(y),y=y.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),y='"'+y+'"'),m+"="+y)},GE=p,GE}var Q8;function KX(){if(Q8)return th;Q8=1,Object.defineProperty(th,"__esModule",{value:!0}),th.FetchDocumentLoader=void 0,bD();const e=kb(),t=WX(),r=va();let n=class{constructor(s){this.fetcher=s}async load(s){const o=await(this.fetcher||fetch)(s,{headers:new Headers({accept:"application/ld+json"})});if(o.ok&&o.headers){let u=o.headers.get("Content-Type");if(u){const l=u.indexOf(";");l>0&&(u=u.substr(0,l))}if(u==="application/ld+json")return await o.json();if(o.headers.has("Link")){let l;if(o.headers.forEach((c,d)=>{if(d==="link"){const f=(0,t.parse)(c);for(const h of f.get("type","application/ld+json"))if(h.rel==="alternate"){if(l)throw new Error("Multiple JSON-LD alternate links were found on "+s);l=(0,r.resolve)(h.uri,s)}}}),l)return this.load(l)}throw new e.ErrorCoded(`Unsupported JSON-LD media type ${u}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(o.statusText||`Status code: ${o.status}`)}};return th.FetchDocumentLoader=n,th}var WE={},rh={},z8;function vD(){if(z8)return rh;z8=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.Util=void 0;class e{static isCompactIri(r){return r.indexOf(":")>0&&!(r&&r[0]==="#")}static getPrefix(r,n){if(r&&r[0]==="#")return null;const a=r.indexOf(":");if(a>=0){if(r.length>a+1&&r.charAt(a+1)==="/"&&r.charAt(a+2)==="/")return null;const s=r.substr(0,a);if(s==="_")return null;if(n[s])return s}return null}static getContextValueId(r){if(r===null||typeof r=="string")return r;const n=r["@id"];return n||null}static isSimpleTermDefinitionPrefix(r,n){return!e.isPotentialKeyword(r)&&(n.allowPrefixNonGenDelims||typeof r=="string"&&(r[0]==="_"||e.isPrefixIriEndingWithGenDelim(r)))}static isPotentialKeyword(r){return typeof r=="string"&&e.KEYWORD_REGEX.test(r)}static isPrefixIriEndingWithGenDelim(r){return e.ENDS_WITH_GEN_DELIM.test(r)}static isPrefixValue(r){return r&&(typeof r=="string"||r&&typeof r=="object")}static isValidIri(r){return!!(r&&e.IRI_REGEX.test(r))}static isValidIriWeak(r){return!!r&&r[0]!==":"&&e.IRI_REGEX_WEAK.test(r)}static isValidKeyword(r){return e.VALID_KEYWORDS[r]}static isTermProtected(r,n){const a=r[n];return typeof a!="string"&&a&&a["@protected"]}static hasProtectedTerms(r){for(const n of Object.keys(r))if(e.isTermProtected(r,n))return!0;return!1}static isReservedInternalKeyword(r){return r.startsWith("@__")}static deepEqual(r,n){const a=Object.keys(r),s=Object.keys(n);return a.length!==s.length?!1:a.every(o=>{const u=r[o],l=n[o];return u===l||u!==null&&l!==null&&typeof u=="object"&&typeof l=="object"&&this.deepEqual(u,l)})}}return e.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,e.IRI_REGEX_WEAK=/(?::[^:])|\//,e.KEYWORD_REGEX=/^@[a-z]+$/i,e.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,e.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,e.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,e.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},e.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],e.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],e.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],e.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],e.CONTAINERS_1_0=["@list","@set","@index"],rh.Util=e,rh}var G8;function JX(){return G8||(G8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const t=va(),r=kb(),n=vD();class a{constructor(o){this.contextRaw=o}getContextRaw(){return this.contextRaw}expandTerm(o,u,l=e.defaultExpandOptions){const c=this.contextRaw[o];if(c===null||c&&c["@id"]===null)return null;let d=!0;if(c&&u){const g=n.Util.getContextValueId(c);if(g&&g!==o)if(typeof g!="string"||!n.Util.isValidIri(g)&&!n.Util.isValidKeyword(g))n.Util.isPotentialKeyword(g)||(d=!1);else return g}const f=n.Util.getPrefix(o,this.contextRaw),h=this.contextRaw["@vocab"],p=(!!h||h==="")&&h.indexOf(":")<0,m=this.contextRaw["@base"],y=n.Util.isPotentialKeyword(o);if(f){const g=this.contextRaw[f],b=n.Util.getContextValueId(g);if(b){if(typeof g=="string"||!l.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(b,l))return o}else if(b[0]!=="_"&&!y&&!g["@prefix"]&&!(o in this.contextRaw))return o;return b+o.substr(f.length+1)}}else if(u&&(h||h===""||l.allowVocabRelativeToBase&&m&&p)&&!y&&!n.Util.isCompactIri(o))if(p){if(l.allowVocabRelativeToBase)return(h||m?(0,t.resolve)(h,m):"")+o;throw new r.ErrorCoded(`Relative vocab expansion for term '${o}' with vocab '${h}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return h+o;else if(!u&&m&&!y&&!n.Util.isCompactIri(o))return(0,t.resolve)(o,m);if(d)return o;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${o}': '${JSON.stringify(c)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(o,u){if(u&&this.contextRaw["@vocab"]&&o.startsWith(this.contextRaw["@vocab"]))return o.substr(this.contextRaw["@vocab"].length);if(!u&&this.contextRaw["@base"]&&o.startsWith(this.contextRaw["@base"]))return o.substr(this.contextRaw["@base"].length);const l={prefix:"",suffix:o};for(const c in this.contextRaw){const d=this.contextRaw[c];if(d&&!n.Util.isPotentialKeyword(c)){const f=n.Util.getContextValueId(d);if(o.startsWith(f)){const h=o.substr(f.length);if(h)h.length<l.suffix.length&&(l.prefix=c,l.suffix=h);else if(u)return c}}}return l.prefix?l.prefix+":"+l.suffix:o}}e.JsonLdContextNormalized=a,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(WE)),WE}var W8;function iAe(){if(W8)return eh;W8=1,Object.defineProperty(eh,"__esModule",{value:!0}),eh.ContextParser=void 0,bD();const e=va(),t=kb(),r=KX(),n=JX(),a=vD();let s=class xu{constructor(u){u=u||{},this.documentLoader=u.documentLoader||new r.FetchDocumentLoader,this.documentCache={},this.validateContext=!u.skipValidation,this.expandContentTypeToBase=!!u.expandContentTypeToBase,this.remoteContextsDepthLimit=u.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in u?!!u.redirectSchemaOrgHttps:!0}static validateLanguage(u,l,c){if(typeof u!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(u)}'`,c);if(!a.Util.REGEX_LANGUAGE_TAG.test(u)){if(l)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(u)}'`,c);return!1}return!0}static validateDirection(u,l){if(typeof u!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(u)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(u)){if(l)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(u)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(u){for(const l of Object.keys(u)){let c=u[l];if(c&&typeof c=="object"&&c["@reverse"]&&!c["@id"]){if(typeof c["@reverse"]!="string"||a.Util.isValidKeyword(c["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${c["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);c=u[l]=Object.assign(Object.assign({},c),{"@id":c["@reverse"]}),c["@id"]=c["@reverse"],a.Util.isPotentialKeyword(c["@reverse"])?delete c["@reverse"]:c["@reverse"]=!0}}return u}expandPrefixedTerms(u,l,c){const d=u.getContextRaw();for(const f of c||Object.keys(d))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!a.Util.isReservedInternalKeyword(f)){const h=d[f];if(a.Util.isPotentialKeyword(f)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof d[f]=="object"&&!(d[f]["@protected"]||d[f]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(h)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(h))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(h)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(h&&a.Util.isPotentialKeyword(a.Util.getContextValueId(h))&&h["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(h)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(d[f]);){const p=d[f];let m=!1;if(typeof p=="string")d[f]=u.expandTerm(p,!0),m=m||p!==d[f];else{const y=p["@id"],g=p["@type"],b=!("@prefix"in p)||a.Util.isValidIri(f);if("@id"in p)y!=null&&typeof y=="string"&&(d[f]=Object.assign(Object.assign({},d[f]),{"@id":u.expandTerm(y,!0)}),m=m||y!==d[f]["@id"]);else if(!a.Util.isPotentialKeyword(f)&&b){const v=u.expandTerm(f,!0);v!==f&&(d[f]=Object.assign(Object.assign({},d[f]),{"@id":v}),m=!0)}if(g&&typeof g=="string"&&g!=="@vocab"&&(!p["@container"]||!p["@container"]["@type"])&&b){let v=u.expandTerm(g,!0);l&&g===v&&(v=u.expandTerm(g,!1)),v!==g&&(m=!0,d[f]=Object.assign(Object.assign({},d[f]),{"@type":v}))}}if(!m)break}}}normalize(u,{processingMode:l,normalizeLanguageTags:c}){if(c||l===1)for(const d of Object.keys(u))if(d==="@language"&&typeof u[d]=="string")u[d]=u[d].toLowerCase();else{const f=u[d];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const h=f["@language"].toLowerCase();h!==f["@language"]&&(u[d]=Object.assign(Object.assign({},f),{"@language":h}))}}}containersToHash(u){for(const l of Object.keys(u)){const c=u[l];if(c&&typeof c=="object"){if(typeof c["@container"]=="string")u[l]=Object.assign(Object.assign({},c),{"@container":{[c["@container"]]:!0}});else if(Array.isArray(c["@container"])){const d={};for(const f of c["@container"])d[f]=!0;u[l]=Object.assign(Object.assign({},c),{"@container":d})}}}}applyScopedProtected(u,{processingMode:l},c){if(l&&l>=1.1&&u["@protected"]){for(const d of Object.keys(u))if(!a.Util.isReservedInternalKeyword(d)&&!a.Util.isPotentialKeyword(d)&&!a.Util.isTermProtected(u,d)){const f=u[d];f&&typeof f=="object"?"@protected"in u[d]||(u[d]=Object.assign(Object.assign({},u[d]),{"@protected":!0})):(u[d]={"@id":f,"@protected":!0},a.Util.isSimpleTermDefinitionPrefix(f,c)&&(u[d]=Object.assign(Object.assign({},u[d]),{"@prefix":!0})))}delete u["@protected"]}}validateKeywordRedefinitions(u,l,c,d){for(const f of d??Object.keys(l))if(a.Util.isTermProtected(u,f)&&(typeof l[f]=="string"?l[f]={"@id":l[f],"@protected":!0}:l[f]=Object.assign(Object.assign({},l[f]),{"@protected":!0}),!a.Util.deepEqual(u[f],l[f])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(a.Util.getContextValueId(u[f]))} to ${JSON.stringify(a.Util.getContextValueId(l[f]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(u,{processingMode:l}){for(const c of Object.keys(u)){if(a.Util.isReservedInternalKeyword(c))continue;if(c==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${c}': '${JSON.stringify(u[c])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const d=u[c],f=typeof d;if(a.Util.isPotentialKeyword(c)){switch(c.substr(1)){case"vocab":if(d!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${d}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(d!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${u[c]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":d!==null&&xu.validateLanguage(d,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(d!==null&&f!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${d}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":d!==null&&xu.validateDirection(d,!0);break;case"propagate":if(l===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${d}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(d!==null&&f!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${d}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(a.Util.isValidKeyword(c)&&a.Util.isValidKeyword(a.Util.getContextValueId(d)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${c}': '${a.Util.getContextValueId(d)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(d!==null)switch(f){case"string":if(a.Util.getPrefix(d,u)===c)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${c}': '${JSON.stringify(d)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(c)){if(d==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${c}': '${d}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(d)&&d!==new n.JsonLdContextNormalized(u).expandTerm(c))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${c}': '${d}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!a.Util.isCompactIri(c)&&!("@id"in d)&&(d["@type"]==="@id"?!u["@base"]:!u["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${c}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const h of Object.keys(d)){const p=d[h];if(p)switch(h){case"@id":if(a.Util.isValidKeyword(p)&&p!=="@type"&&p!=="@id"&&p!=="@graph"&&p!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${c}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(c)){if(p==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${c}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(p)&&p!==new n.JsonLdContextNormalized(u).expandTerm(c))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${c}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof p!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${c}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(p,u)===c)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${c}': '${JSON.stringify(d)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(d["@container"]==="@type"&&p!=="@id"&&p!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${c}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof p!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(p!=="@id"&&p!=="@vocab"&&(l===1||p!=="@json")&&(l===1||p!=="@none")&&(p[0]==="_"||!a.Util.isValidIri(p)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${c}': '${p}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof p=="string"&&d["@id"]&&d["@id"]!==p)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${c}':'${p}' and '${d["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in d)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${c}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(p).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(p)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${c}' ('${Object.keys(p)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const m of Object.keys(p)){if(m==="@list"&&d["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${c}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(m)<0)throw new t.ErrorCoded(`Invalid term @container for '${c}' ('${m}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":xu.validateLanguage(p,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":xu.validateDirection(p,!0);break;case"@prefix":if(p!==null&&typeof p!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${c}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in d)&&!a.Util.isValidIri(c))throw new t.ErrorCoded(`Invalid @prefix definition for '${c}' ('${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!d["@container"]||!d["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${c}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(p)&&p!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${c}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${c}': '${d}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(u,l,c){return typeof u=="string"||(c&&!("@base"in u)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(u["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(u["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in u?u["@base"]!==null&&typeof u["@base"]=="string"&&!a.Util.isValidIri(u["@base"])&&(u["@base"]=(0,e.resolve)(u["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(u["@base"]=l.baseIRI,u["@__baseDocument"]=!0))),u}normalizeContextIri(u,l){if(!a.Util.isValidIri(u))try{u=(0,e.resolve)(u,l)}catch{throw new Error(`Invalid context IRI: ${u}`)}return this.redirectSchemaOrgHttps&&u.startsWith("http://schema.org")&&(u="https://schema.org/"),u}async parseInnerContexts(u,l,c){for(const d of c??Object.keys(u)){const f=u[d];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const h=Object.assign(Object.assign({},u),{[d]:Object.assign({},u[d])});delete h[d]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:h,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(h){throw new t.ErrorCoded(h.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}u[d]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:u}))).getContextRaw()})}}return u}async parse(u,l={},c={}){const{baseIRI:d,parentContext:f,external:h,processingMode:p=xu.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:m,ignoreProtection:y,minimalProcessing:g}=l,b=l.remoteContexts||{};if(Object.keys(b).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(b),t.ERROR_CODES.CONTEXT_OVERFLOW);if(u==null){if(!y&&f&&a.Util.hasProtectedTerms(f))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}else if(typeof u=="string"){const v=this.normalizeContextIri(u,d),_=this.getOverriddenLoad(v,l);if(_)return new n.JsonLdContextNormalized(_);const w=await this.parse(await this.load(v),Object.assign(Object.assign({},l),{baseIRI:v,external:!0,remoteContexts:Object.assign(Object.assign({},b),{[v]:!0})}));return this.applyBaseEntry(w.getContextRaw(),l,!0),w}else if(Array.isArray(u)){const v=[],_=await Promise.all(u.map((S,E)=>{if(typeof S=="string"){const x=this.normalizeContextIri(S,d);v[E]=x;const C=this.getOverriddenLoad(x,l);return C||this.load(x)}else return S}));if(g)return new n.JsonLdContextNormalized(_);const w=await _.reduce((S,E,x)=>S.then(C=>this.parse(E,Object.assign(Object.assign({},l),{baseIRI:v[x]||l.baseIRI,external:!!v[x]||l.external,parentContext:C.getContextRaw(),remoteContexts:v[x]?Object.assign(Object.assign({},b),{[v[x]]:!0}):b}),{skipValidation:x<_.length-1})),Promise.resolve(new n.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(w.getContextRaw(),l,!0),w}else if(typeof u=="object"){if("@context"in u)return await this.parse(u["@context"],l);if(u=Object.assign({},u),h&&delete u["@base"],this.applyBaseEntry(u,l,!0),this.containersToHash(u),g)return new n.JsonLdContextNormalized(u);let v={};if("@import"in u)if(p>=1.1){if(typeof u["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof u["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);v=await this.loadImportContext(this.normalizeContextIri(u["@import"],d)),delete u["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(v,{processingMode:p},n.defaultExpandOptions);const _=Object.assign(v,u);this.idifyReverseTerms(_),this.normalize(_,{processingMode:p,normalizeLanguageTags:m}),this.applyScopedProtected(_,{processingMode:p},n.defaultExpandOptions);const w=Object.keys(_),S=[];if(typeof f=="object")for(const x in f)x in _?S.push(x):_[x]=f[x];await this.parseInnerContexts(_,l,w);const E=new n.JsonLdContextNormalized(_);return(_&&_["@version"]||xu.DEFAULT_PROCESSING_MODE)>=1.1&&(u["@vocab"]&&typeof u["@vocab"]=="string"||u["@vocab"]==="")&&(f&&"@vocab"in f&&u["@vocab"].indexOf(":")<0?_["@vocab"]=f["@vocab"]+u["@vocab"]:(a.Util.isCompactIri(u["@vocab"])||u["@vocab"]in _)&&(_["@vocab"]=E.expandTerm(u["@vocab"],!0))),this.expandPrefixedTerms(E,this.expandContentTypeToBase,w),!y&&f&&p>=1.1&&this.validateKeywordRedefinitions(f,_,n.defaultExpandOptions,S),this.validateContext&&!c.skipValidation&&this.validate(_,{processingMode:p}),E}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${u}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(u){const l=this.documentCache[u];if(l)return l;let c;try{c=await this.documentLoader.load(u)}catch(d){throw new t.ErrorCoded(`Failed to load remote context ${u}: ${d.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in c))throw new t.ErrorCoded(`Missing @context in remote context at ${u}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[u]=c["@context"]}getOverriddenLoad(u,l){if(u in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return u;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+u,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(u){let l=await this.load(u);if(typeof l!="object"||Array.isArray(l))throw new t.ErrorCoded("An imported context must be a single object: "+u,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new t.ErrorCoded("An imported context can not import another context: "+u,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}};return s.DEFAULT_PROCESSING_MODE=1.1,eh.ContextParser=s,eh}var KE={},K8;function aAe(){return K8||(K8=1,Object.defineProperty(KE,"__esModule",{value:!0})),KE}var JE={},J8;function sAe(){return J8||(J8=1,Object.defineProperty(JE,"__esModule",{value:!0})),JE}var X8;function ln(){return X8||(X8=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(iAe(),e),r(kb(),e),r(KX(),e),r(aAe(),e),r(sAe(),e),r(JX(),e),r(vD(),e)}(HE)),HE}var Y8;function XX(){if(Y8)return Zf;Y8=1,Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.Util=void 0;const e=xt,t=ln(),r=Nt();class n{constructor(s){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=s,this.dataFactory=s.dataFactory||new e.DataFactory,this.operationFactory=new r.Factory(this.dataFactory),this.contextParser=new t.ContextParser}registerNodeHandler(s){this.nodeHandlers[s.targetKind]=s}registerNodeValueHandler(s){this.nodeValueHandlers[s.targetKind]=s}registerDirectiveNodeHandler(s){this.directiveNodeHandlers[s.targetKind]=s}handleNode(s,o){const u=this.nodeHandlers[s.kind];if(!u)throw new Error(`Unsupported GraphQL node '${s.kind}'`);return u.handle(s,o)}handleNodeValue(s,o,u){const l=this.nodeValueHandlers[s.kind];if(!l)throw new Error(`Unsupported GraphQL value node '${s.kind}'`);return l.handle(s,o,u)}handleDirectiveNode(s,o){const u=this.directiveNodeHandlers[s.directive.name.value];return u?u.handle(s,o):null}joinOperations(s){if(s.length===1)return s[0];const o=[],u=[];for(const l of s)l.type==="bgp"?o.push(l):u.push(l);if(o.length===s.length)return this.joinOperationsAsBgp(o);if(o.length===s.length-1&&u[0].type==="leftjoin"&&u[0].input[0].type==="bgp"){const l=u[0];return o.push(l.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(o),l.input[1])}else return u.length===s.length?this.joinOperationsAsNestedJoin(u):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(o),this.joinOperationsAsNestedJoin(u)])}joinOperationsAsBgp(s){return this.operationFactory.createBgp([].concat.apply([],s.map(o=>o.patterns)))}joinOperationsAsNestedJoin(s){return this.operationFactory.createJoin(s)}appendFieldToPath(s,o){return s.concat([o])}getFieldLabel(s){return(s.alias?s.alias:s.name).value}nameToVariable(s,o){return this.dataFactory.variable((o.path.length?o.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+s)}valueToNamedNode(s,o){const u=o.expandTerm(s,!0);if(this.settings.requireContext&&!u)throw new Error("No context entry was found for "+s);return this.dataFactory.namedNode(u||s)}getArgument(s,o){if(s){for(const u of s)if(u.name.value===o)return u}}newTypePattern(s,o,u){return this.operationFactory.createPattern(s,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(o.name.value,u.context),u.graph)}createQuadPattern(s,o,u,l,c){const d=this.valueToNamedNode(o.value,c);return c&&c.getContextRaw()[o.value]&&c.getContextRaw()[o.value]["@reverse"]?this.operationFactory.createPattern(u,d,s,l):this.operationFactory.createPattern(s,d,u,l)}createQuadPath(s,o,u,l,c,d){const f=this.valueToNamedNode(o.value,d);let h=this.operationFactory.createLink(f);for(const p of u.values){if(p.kind!=="EnumValue")throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+p.kind);h=this.operationFactory.createAlt([h,this.operationFactory.createLink(this.valueToNamedNode(p.value,d))])}return d&&d.getContextRaw()[o.value]&&d.getContextRaw()[o.value]["@reverse"]?this.operationFactory.createPath(l,h,s,c):this.operationFactory.createPath(s,h,l,c)}}return Zf.Util=n,Zf}var Z8;function oAe(){if(Z8)return Yf;Z8=1;var e=N&&N.__awaiter||function(u,l,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function m(b){try{g(d.next(b))}catch(v){p(v)}}function y(b){try{g(d.throw(b))}catch(v){p(v)}}function g(b){b.done?h(b.value):f(b.value).then(m,y)}g((d=d.apply(u,l||[])).next())})};Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.Converter=void 0;const t=rAe,r=NX(),n=PX(),a=Ub(),s=XX();class o{constructor(l){l=l||{},l.variableDelimiter=l.variableDelimiter||"_",l.expressionVariableCounter=l.expressionVariableCounter||0,this.util=new s.Util(l),this.initializeNodeHandlers(l)}static registerNodeHandlers(l,c){l.registerNodeHandler(new r.NodeHandlerDocument(l,c)),l.registerNodeHandler(new r.NodeHandlerDefinitionOperation(l,c)),l.registerNodeHandler(new r.NodeHandlerDefinitionFragment(l,c)),l.registerNodeHandler(new r.NodeHandlerSelectionFragmentSpread(l,c)),l.registerNodeHandler(new r.NodeHandlerSelectionInlineFragment(l,c)),l.registerNodeHandler(new r.NodeHandlerSelectionField(l,c))}static registerNodeValueHandlers(l,c){l.registerNodeValueHandler(new r.NodeValueHandlerVariable(l,c)),l.registerNodeValueHandler(new r.NodeValueHandlerInt(l,c)),l.registerNodeValueHandler(new r.NodeValueHandlerFloat(l,c)),l.registerNodeValueHandler(new r.NodeValueHandlerString(l,c)),l.registerNodeValueHandler(new r.NodeValueHandlerBoolean(l,c)),l.registerNodeValueHandler(new r.NodeValueHandlerNull(l,c)),l.registerNodeValueHandler(new r.NodeValueHandlerEnum(l,c)),l.registerNodeValueHandler(new r.NodeValueHandlerList(l,c)),l.registerNodeValueHandler(new r.NodeValueHandlerObject(l,c))}static registerDirectiveNodeHandlers(l,c){l.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerInclude(l,c)),l.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerOptional(l,c)),l.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerPlural(l,c)),l.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerSingle(l,c)),l.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerSkip(l,c))}graphqlToSparqlAlgebra(l,c,d){return e(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(l,yield this.util.contextParser.parse(c),d)})}graphqlToSparqlAlgebraRawContext(l,c,d){d=d||{};const f=typeof l=="string"?(0,t.parse)(l):l,h=this.indexFragments(f),p={context:c,fragmentDefinitions:h,graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:a.SingularizeState.PLURAL,singularizeVariables:d.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:d.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(f,p)}indexFragments(l){const c={},d=[];for(const f of l.definitions)f.kind==="FragmentDefinition"?c[f.name.value]=f:d.push(f);return l.definitions=d,c}initializeNodeHandlers(l){o.registerNodeHandlers(this.util,l),o.registerNodeValueHandlers(this.util,l),o.registerDirectiveNodeHandlers(this.util,l)}}return Yf.Converter=o,Yf}var XE={},eF;function uAe(){return eF||(eF=1,Object.defineProperty(XE,"__esModule",{value:!0})),XE}var tF;function cAe(){return tF||(tF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(NX(),e),r(oAe(),e),r(Ub(),e),r(uAe(),e),r(XX(),e)}(ME)),ME}var rF;function lAe(){if(rF)return Of;rF=1,Object.defineProperty(Of,"__esModule",{value:!0}),Of.ActorQueryParseGraphql=void 0;const e=IX(),t=kt,r=cAe();let n=class extends e.ActorQueryParse{constructor(s){super(s),this.graphqlToSparql=new r.Converter({requireContext:!0})}async test(s){var o;if(((o=s.queryFormat)==null?void 0:o.language)!=="graphql")throw new Error("This actor can only parse GraphQL queries");return!0}async run(s){const o=s.context.get(t.KeysInitQuery.jsonLdContext)||{},u={singularizeVariables:s.context.get(t.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(s.query,o,u)}}};return Of.ActorQueryParseGraphql=n,Of}var nF;function dAe(){return nF||(nF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(lAe(),e)}(jE)),jE}var YE={},nh={},ZE={},ih={},eA={},ah={},iF;function YX(){if(iF)return ah;iF=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.ActorAbstractMediaTyped=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}async run(n){if("handle"in n){const a=n;return{handle:await this.runHandle(a.handle,a.handleMediaType,n.context)}}if("mediaTypes"in n)return{mediaTypes:await this.getMediaTypes(n.context)};if("mediaTypeFormats"in n)return{mediaTypeFormats:await this.getMediaTypeFormats(n.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(n){if("handle"in n){const a=n;return{handle:await this.testHandle(a.handle,a.handleMediaType,n.context)}}if("mediaTypes"in n)return{mediaTypes:await this.testMediaType(n.context)};if("mediaTypeFormats"in n)return{mediaTypeFormats:await this.testMediaTypeFormats(n.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}};return ah.ActorAbstractMediaTyped=t,ah}var sh={},aF;function fAe(){if(aF)return sh;aF=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.ActorAbstractMediaTypedFixed=void 0;const e=YX();let t=class extends e.ActorAbstractMediaTyped{constructor(n){super(n);const a=this.priorityScale||this.priorityScale===0?this.priorityScale:1;if(this.mediaTypePriorities)for(const[s,[o,u]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[o]=a*u;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(n,a,s){if(!a||!(a in this.mediaTypePriorities))throw new Error(`Unrecognized media type: ${a}`);return await this.testHandleChecked(n,s)}async testMediaType(n){return!0}async getMediaTypes(n){return this.mediaTypePriorities}async testMediaTypeFormats(n){return!0}async getMediaTypeFormats(n){return this.mediaTypeFormats}};return sh.ActorAbstractMediaTypedFixed=t,sh}var sF;function Rd(){return sF||(sF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(YX(),e),r(fAe(),e)}(eA)),eA}var oF;function hAe(){if(oF)return ih;oF=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.ActorQueryResultSerialize=void 0;const e=Rd();let t=class extends e.ActorAbstractMediaTyped{constructor(n){super(n)}};return ih.ActorQueryResultSerialize=t,ih}var oh={},uF;function pAe(){if(uF)return oh;uF=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.ActorQueryResultSerializeFixedMediaTypes=void 0;const e=Rd();let t=class extends e.ActorAbstractMediaTypedFixed{constructor(n){super(n)}async testHandleChecked(n,a){return!0}};return oh.ActorQueryResultSerializeFixedMediaTypes=t,oh}var cF;function Za(){return cF||(cF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(hAe(),e),r(pAe(),e)}(ZE)),ZE}var lF;function yAe(){if(lF)return nh;lF=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.ActorQueryResultSerializeJson=void 0;const e=Za(),t=$t(),r=rr,n=Lt;let a=class extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,u){if(!["bindings","quads","boolean"].includes(o.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}async runHandle(o,u,l){const c=new n.Readable;if(c._read=()=>{},o.type==="bindings"||o.type==="quads"){let d=o.type==="bindings"?(0,t.wrap)(o.bindingsStream).map(h=>JSON.stringify(Object.fromEntries([...h].map(([p,m])=>[p.value,r.termToString(m)])))):(0,t.wrap)(o.quadStream).map(h=>JSON.stringify(r.quadToStringQuad(h))),f=!0;d=d.map(h=>{const p=`${f?"":","}
${h}`;return f=!1,p}).prepend(["["]).append([`
]
`]),c.wrap(d)}else try{c.push(`${JSON.stringify(await o.execute())}
`),c.push(null)}catch(d){setTimeout(()=>c.emit("error",d))}return{data:c}}};return nh.ActorQueryResultSerializeJson=a,nh}var dF;function mAe(){return dF||(dF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(yAe(),e)}(YE)),YE}var tA={},uh={},fF;function gAe(){if(fF)return uh;fF=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.ActorQueryResultSerializeSimple=void 0;const e=Za(),t=$t(),r=rr,n=Lt;let a=class rl extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,u){if(!["bindings","quads","boolean","void"].includes(o.type))throw new Error("This actor can only handle bindings streams, quad streams, booleans, or updates.");return!0}static termToString(o){return o.termType==="Quad"?(0,r.termToString)(o):o.value}async runHandle(o,u,l){const c=new n.Readable;return o.type==="bindings"?c.wrap(o.bindingsStream.map(d=>`${[...d].map(([f,h])=>`?${f.value}: ${rl.termToString(h)}`).join(`
`)}

`)):o.type==="quads"?c.wrap(o.quadStream.map(d=>`subject: ${rl.termToString(d.subject)}
predicate: ${rl.termToString(d.predicate)}
object: ${rl.termToString(d.object)}
graph: ${rl.termToString(d.graph)}

`)):c.wrap((0,t.wrap)(o.type==="boolean"?o.execute().then(d=>[`${d}
`]):o.execute().then(()=>[`ok
`]))),{data:c}}};return uh.ActorQueryResultSerializeSimple=a,uh}var hF;function _Ae(){return hF||(hF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(gAe(),e)}(tA)),tA}var rA={},ch={},pF;function bAe(){if(pF)return ch;pF=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.ActorQueryResultSerializeSparqlCsv=void 0;const e=Za(),t=Lt;let r=class Jg extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}static bindingToCsvBindings(a){if(!a)return"";let s=a.value;if(a.termType==="Literal")s=`${s}`;else if(a.termType==="BlankNode")s=`_:${s}`;else if(a.termType==="Quad"){let o=Jg.bindingToCsvBindings(a.object);a.object.termType==="Literal"&&(o=`"${o.replaceAll('"','""')}"`),s=`<< ${Jg.bindingToCsvBindings(a.subject)} ${Jg.bindingToCsvBindings(a.predicate)} ${o} >>`}else s=`<${s}>`;return/[",\n\r]/u.test(s)&&(s=`"${s.replaceAll('"','""')}"`),s}async testHandleChecked(a,s){if(a.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(a,s,o){const u=a,l=new t.Readable,c=await u.metadata();return l.push(`${c.variables.map(d=>d.value).join(",")}\r
`),l.wrap(u.bindingsStream.map(d=>`${c.variables.map(f=>Jg.bindingToCsvBindings(d.get(f))).join(",")}\r
`)),{data:l}}};return ch.ActorQueryResultSerializeSparqlCsv=r,ch}var yF;function vAe(){return yF||(yF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(bAe(),e)}(rA)),rA}var nA={},lh={},iA={},mn={},mF;function wAe(){if(mF)return mn;mF=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.stringQuadToQuad=mn.quadToStringQuad=mn.stringToTerm=mn.getLiteralLanguage=mn.getLiteralType=mn.getLiteralValue=mn.termToString=void 0;const e=xt,t=new e.DataFactory;function r(m){if(m)switch(m.termType){case"NamedNode":return`<${c(m.value)}>`;case"BlankNode":return`_:${m.value}`;case"Literal":{const y=m;return`"${d(y.value)}"${y.datatype&&y.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&y.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?`^^<${y.datatype.value}>`:""}${y.language?`@${y.language}`:""}`}case"Quad":return`<<${r(m.subject)} ${r(m.predicate)} ${r(m.object)}${m.graph.termType==="DefaultGraph"?"":` ${r(m.graph)}`}>>`;case"Variable":return`?${m.value}`;case"DefaultGraph":return m.value}}mn.termToString=r;function n(m){const y=/^"([^]*)"((\^\^.*)|(@.*))?$/u.exec(m);if(!y)throw new Error(`${m} is not a literal`);return y[1].replace(/\\"/ug,'"')}mn.getLiteralValue=n;function a(m){const y=/^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/u.exec(m);if(!y)throw new Error(`${m} is not a literal`);return y[1]||(y[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}mn.getLiteralType=a;function s(m){const y=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/u.exec(m);if(!y)throw new Error(`${m} is not a literal`);return y[1]?y[1].toLowerCase():""}mn.getLiteralLanguage=s;function o(m,y){if(y=y||t,!m||m.length===0)return y.defaultGraph();switch(m[0]){case"_":return y.blankNode(m.slice(2));case"?":if(!y.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return y.variable(m.slice(1));case'"':{const g=s(m),b=y.namedNode(a(m));return y.literal(n(m),g||b)}case"<":default:if(m.startsWith("<<")&&m.endsWith(">>")){const g=m.slice(2,-2),b=[];let v=0,_=0;for(let w=0;w<g.length;w++){const S=g[w];if(S==="<"&&v++,S===">"){if(v===0)throw new Error(`Found closing tag without opening tag in ${m}`);v--}S===" "&&v===0&&(b.push(g.slice(_,w)),_=w+1)}if(v!==0)throw new Error(`Found opening tag without closing tag in ${m}`);if(b.push(g.slice(_,g.length)),b.length!==3&&b.length!==4)throw new Error(`Nested quad syntax error ${m}`);return y.quad(o(b[0]),o(b[1]),o(b[2]),b[3]?o(b[3]):void 0)}if(!m.startsWith("<")||!m.endsWith(">"))throw new Error(`Detected invalid iri for named node (must be wrapped in <>): ${m}`);return y.namedNode(m.slice(1,-1))}}mn.stringToTerm=o;function u(m){return{subject:r(m.subject),predicate:r(m.predicate),object:r(m.object),graph:r(m.graph)}}mn.quadToStringQuad=u;function l(m,y){return y=y||t,y.quad(o(m.subject,y),o(m.predicate,y),o(m.object,y),o(m.graph,y))}mn.stringQuadToQuad=l;function c(m){return m.replace(f,p)}function d(m){return f.test(m)&&(m=m.replace(f,p)),m}const f=/["\\\t\n\r\b\f\u0000-\u0019]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=new Map([["\\","\\\\"],['"','\\"'],["	","\\t"],[`
`,"\\n"],["\r","\\r"],["\b","\\b"],["\f","\\f"]]);function p(m){const y=h.get(m);if(!y){if(m.length===1){const b=m.charCodeAt(0).toString(16);return`${"\\u0000".slice(0,-b.length)}${b}`}const g=((m.charCodeAt(0)-55296)*1024+m.charCodeAt(1)+9216).toString(16);return`${"\\U00000000".slice(0,-g.length)}${g}`}return y}return mn}var gF;function Vb(){return gF||(gF=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const t=wAe();Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(iA)),iA}var _F;function SAe(){if(_F)return lh;_F=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.ActorQueryResultSerializeSparqlTsv=void 0;const e=Za(),t=Vb(),r=Lt;let n=class ZX extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(s){super(s)}static bindingToTsvBindings(s){return s?(0,t.termToString)(s).replaceAll("	","\\t").replaceAll(`
`,"\\n").replaceAll("\r","\\r"):""}async testHandleChecked(s,o){if(s.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(s,o,u){const l=s,c=new r.Readable,d=await l.metadata();return c.push(`${d.variables.map(f=>f.value).join("	")}
`),c.wrap(l.bindingsStream.map(f=>`${d.variables.map(h=>ZX.bindingToTsvBindings(f.get(h))).join("	")}
`)),{data:c}}};return lh.ActorQueryResultSerializeSparqlTsv=n,lh}var bF;function TAe(){return bF||(bF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(SAe(),e)}(nA)),nA}var aA={},dh={},fh={},vF;function EAe(){if(vF)return fh;vF=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.XmlSerializer=void 0;let e=class{constructor(){this.stack=[]}open(r,n){const a=`${this.identation()+this.formatTag(r,n,"open")}
`;return this.stack.push(r),a}close(){const r=this.stack.pop();if(r===void 0)throw new Error("There is no tag left to close");return`${this.identation()+this.formatTag(r,{},"close")}
`}serializeNode(r){if(r.children===void 0)return`${this.identation()+this.formatTag(r.name,r.attributes,"self-closing")}
`;if(typeof r.children=="string")return`${this.identation()+this.formatTag(r.name,r.attributes,"open")+this.escape(r.children)+this.formatTag(r.name,{},"close")}
`;const n=[];n.push(`${this.identation()+this.formatTag(r.name,r.attributes,"open")}
`),this.stack.push(r.name);for(const a of r.children)n.push(this.serializeNode(a));return this.stack.pop(),n.push(`${this.identation()+this.formatTag(r.name,{},"close")}
`),n.join("")}identation(){return this.stack.map(r=>"  ").join("")}formatTag(r,n,a){return`<${a==="close"?"/":""}${r}${Object.entries(n??{}).map(s=>` ${s[0]}="${this.escape(s[1])}"`)}${a==="self-closing"?"/":""}>`}escape(r){return r.replaceAll(/["&'<>]/gu,n=>{switch(n){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}};return fh.XmlSerializer=e,e.header=`<?xml version="1.0" encoding="UTF-8"?>
`,fh}var wF;function AAe(){if(wF)return dh;wF=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.ActorQueryResultSerializeSparqlXml=void 0;const e=Za(),t=$t(),r=Lt,n=EAe();let a=class eY extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}static bindingToXmlBindings(o,u){return{name:"binding",attributes:{name:u.value},children:[this.valueToXmlValue(o)]}}static valueToXmlValue(o){let u;switch(o.termType){case"Literal":return o.language?u={"xml:lang":o.language}:o.datatype&&o.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?u={datatype:o.datatype.value}:u={},{name:"literal",attributes:u,children:o.value};case"BlankNode":return{name:"bnode",children:o.value};case"Quad":return{name:"triple",children:[{name:"subject",children:[this.valueToXmlValue(o.subject)]},{name:"predicate",children:[this.valueToXmlValue(o.predicate)]},{name:"object",children:[this.valueToXmlValue(o.object)]}]};default:return{name:"uri",children:o.value}}}async testHandleChecked(o,u){if(!["bindings","boolean"].includes(o.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(o,u,l){const c=new r.Readable;c._read=()=>{};const d=new n.XmlSerializer,f=await o.metadata();if(c.push(n.XmlSerializer.header),c.push(d.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"})),c.push(d.serializeNode({name:"head",children:f.variables.map(h=>({name:"variable",attributes:{name:h.value}}))})),o.type==="bindings"){function*h(){yield d.close(),yield d.close()}c.push(d.open("results"));const p=(0,t.wrap)(o.bindingsStream).map(m=>d.serializeNode({name:"result",children:[...m].map(([y,g])=>eY.bindingToXmlBindings(g,y))})).append((0,t.wrap)(h()));c.wrap(p)}else try{const h=await o.execute();c.push(d.serializeNode({name:"boolean",children:h.toString()})),c.push(d.close()),setTimeout(()=>c.push(null))}catch(h){setTimeout(()=>c.emit("error",h))}return{data:c}}};return dh.ActorQueryResultSerializeSparqlXml=a,dh}var SF;function OAe(){return SF||(SF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(AAe(),e)}(aA)),aA}var sA={},hh={},TF;function RAe(){if(TF)return hh;TF=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.ActorQueryResultSerializeTable=void 0;const e=Za(),t=xt,r=rr,n=Sn(),a=Lt,s=new t.DataFactory,o=n.QUAD_TERM_NAMES.map(l=>s.variable(l));let u=class II extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(c){super(c),this.padding=II.repeat(" ",this.columnWidth)}static repeat(c,d){return c.repeat(d)}async testHandleChecked(c,d){if(!["bindings","quads"].includes(c.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}termToString(c){return c.termType==="Quad"?(0,r.termToString)(c):c.value}pad(c){return c.length<=this.columnWidth?c+this.padding.slice(c.length):`${c.slice(0,this.columnWidth-1)}…`}pushHeader(c,d){const f=d.map(h=>this.pad(h.value)).join(" ");c.push(`${f}
${II.repeat("-",f.length)}
`)}createRow(c,d){return`${c.map(f=>d.has(f)?this.termToString(d.get(f)):"").map(f=>this.pad(f)).join(" ")}
`}async runHandle(c,d,f){const h=new a.Readable;let p;if(c.type==="bindings"){p=c.bindingsStream.map(y=>this.createRow(m,y));const m=(await c.metadata()).variables;this.pushHeader(h,m)}else p=c.quadStream.map(m=>`${(0,n.getTerms)(m).map(y=>this.pad(this.termToString(y))).join(" ")}
`),this.pushHeader(h,o);return h.wrap(p),{data:h}}};return hh.ActorQueryResultSerializeTable=u,hh}var EF;function xAe(){return EF||(EF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(RAe(),e)}(sA)),sA}var oA={},ph={},uA={},yh={},cA={},lA={},mh={},gh={},AF;function Xl(){if(AF)return gh;AF=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.Translator=void 0;let e=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(r){throw new Error(`Invalid RDF ${r.datatype.value} value: '${r.value}'`)}registerHandler(r,n,a){for(const s of n)this.supportedRdfDatatypes.push(s),this.fromRdfHandlers[s.value]=r;for(const s of a){let o=this.toRdfHandlers[s];o||(this.toRdfHandlers[s]=o=[]),o.push(r)}}fromRdf(r,n){const a=this.fromRdfHandlers[r.datatype.value];return a?a.fromRdf(r,n):r.value}toRdf(r,n){const a=this.toRdfHandlers[typeof r];if(a)for(const s of a){const o=s.toRdf(r,n);if(o)return o}throw new Error(`Invalid JavaScript value: '${r}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}};return gh.Translator=e,gh}var OF;function IAe(){if(OF)return mh;OF=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.TypeHandlerBoolean=void 0;const e=Xl();let t=class tY{fromRdf(n,a){switch(n.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return a&&e.Translator.incorrectRdfDataType(n),!1}toRdf(n,{datatype:a,dataFactory:s}){return s.literal(n?"true":"false",a||s.namedNode(tY.TYPE))}};return t.TYPE="http://www.w3.org/2001/XMLSchema#boolean",mh.TypeHandlerBoolean=t,mh}var _h={},RF;function PAe(){if(RF)return _h;RF=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.TypeHandlerDate=void 0;const e=Xl();let t=class PI{fromRdf(n,a){switch(a&&!n.value.match(PI.VALIDATORS[n.datatype.value.substr(33,n.datatype.value.length)])&&e.Translator.incorrectRdfDataType(n),n.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(n.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const s=n.value.split("-");return new Date(0,parseInt(s[0],10)-1,parseInt(s[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(n.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(n.value+"-01");default:return new Date(n.value)}}toRdf(n,{datatype:a,dataFactory:s}){if(a=a||s.namedNode(PI.TYPES[0]),!(n instanceof Date))return null;const o=n;let u;switch(a.value){case"http://www.w3.org/2001/XMLSchema#gDay":u=String(o.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":u=o.getUTCMonth()+1+"-"+o.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":u=String(o.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":u=o.getUTCFullYear()+"-"+(o.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":u=o.toISOString().replace(/T.*$/,"");break;default:u=o.toISOString()}return s.literal(u,a)}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],t.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},_h.TypeHandlerDate=t,_h}var bh={},xF;function NAe(){if(xF)return bh;xF=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.TypeHandlerNumberDouble=void 0;const e=Xl();let t=class rY{fromRdf(n,a){const s=parseFloat(n.value);return a&&isNaN(s)&&e.Translator.incorrectRdfDataType(n),s}toRdf(n,{datatype:a,dataFactory:s}){return a=a||s.namedNode(rY.TYPES[0]),isNaN(n)?s.literal("NaN",a):isFinite(n)?n%1===0?null:s.literal(n.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),a):s.literal(n>0?"INF":"-INF",a)}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],bh.TypeHandlerNumberDouble=t,bh}var vh={},IF;function DAe(){if(IF)return vh;IF=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.TypeHandlerNumberInteger=void 0;const e=Xl();let t=class Xg{fromRdf(n,a){const s=parseInt(n.value,10);return a&&(isNaN(s)||n.value.indexOf(".")>=0)&&e.Translator.incorrectRdfDataType(n),s}toRdf(n,{datatype:a,dataFactory:s}){return s.literal(String(n),a||(n<=Xg.MAX_INT&&n>=Xg.MIN_INT?s.namedNode(Xg.TYPES[0]):s.namedNode(Xg.TYPES[1])))}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],t.MAX_INT=2147483647,t.MIN_INT=-2147483648,vh.TypeHandlerNumberInteger=t,vh}var wh={},PF;function CAe(){if(PF)return wh;PF=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.TypeHandlerString=void 0;let e=class{fromRdf(r){return r.value}toRdf(r,{datatype:n,dataFactory:a}){return a.literal(r,n)}};return e.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],wh.TypeHandlerString=e,wh}var NF;function DF(){return NF||(NF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(IAe(),e),r(PAe(),e),r(NAe(),e),r(DAe(),e),r(CAe(),e)}(lA)),lA}var dA={},CF;function LAe(){return CF||(CF=1,Object.defineProperty(dA,"__esModule",{value:!0})),dA}var LF;function jAe(){return LF||(LF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(p,m,y,g){g===void 0&&(g=y);var b=Object.getOwnPropertyDescriptor(m,y);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(p,g,b)}:function(p,m,y,g){g===void 0&&(g=y),p[g]=m[y]}),r=N&&N.__exportStar||function(p,m){for(var y in p)y!=="default"&&!Object.prototype.hasOwnProperty.call(m,y)&&t(m,p,y)};Object.defineProperty(e,"__esModule",{value:!0}),e.getSupportedJavaScriptPrimitives=e.getSupportedRdfDatatypes=e.getTermRaw=e.toRdf=e.fromRdf=void 0;const n=xt,a=DF(),s=Xl();r(DF(),e),r(LAe(),e),r(Xl(),e);const o=new n.DataFactory,u=new s.Translator;u.registerHandler(new a.TypeHandlerString,a.TypeHandlerString.TYPES.map(p=>o.namedNode(p)),["string"]),u.registerHandler(new a.TypeHandlerBoolean,[a.TypeHandlerBoolean.TYPE].map(p=>o.namedNode(p)),["boolean"]),u.registerHandler(new a.TypeHandlerNumberDouble,a.TypeHandlerNumberDouble.TYPES.map(p=>o.namedNode(p)),["number"]),u.registerHandler(new a.TypeHandlerNumberInteger,a.TypeHandlerNumberInteger.TYPES.map(p=>o.namedNode(p)),["number"]),u.registerHandler(new a.TypeHandlerDate,a.TypeHandlerDate.TYPES.map(p=>o.namedNode(p)),["object"]);function l(p,m){return u.fromRdf(p,m)}e.fromRdf=l;function c(p,m){return m&&"namedNode"in m&&(m={dataFactory:m}),m=m||{},m&&!m.dataFactory&&(m.dataFactory=o),u.toRdf(p,m)}e.toRdf=c;function d(p,m){return p.termType==="Literal"?l(p,m):p.value}e.getTermRaw=d;function f(){return u.getSupportedRdfDatatypes()}e.getSupportedRdfDatatypes=f;function h(){return u.getSupportedJavaScriptPrimitives()}e.getSupportedJavaScriptPrimitives=h}(cA)),cA}var fA={},Sh={},hA,jF;function nY(){if(jF)return hA;jF=1;var{Buffer:e}=za,t={},r=t.LEFT_BRACE=1,n=t.RIGHT_BRACE=2,a=t.LEFT_BRACKET=3,s=t.RIGHT_BRACKET=4,o=t.COLON=5,u=t.COMMA=6,l=t.TRUE=7,c=t.FALSE=8,d=t.NULL=9,f=t.STRING=10,h=t.NUMBER=11,p=t.START=17,m=t.STOP=18,y=t.TRUE1=33,g=t.TRUE2=34,b=t.TRUE3=35,v=t.FALSE1=49,_=t.FALSE2=50,w=t.FALSE3=51,S=t.FALSE4=52,E=t.NULL1=65,x=t.NULL2=66,C=t.NULL3=67,I=t.NUMBER1=81,P=t.NUMBER3=83,L=t.STRING1=97,D=t.STRING2=98,V=t.STRING3=99,k=t.STRING4=100,$=t.STRING5=101,H=t.STRING6=102,J=t.VALUE=113,Y=t.KEY=114,de=t.OBJECT=129,Te=t.ARRAY=130,De=92,Ve=47,le=8,ue=12,Ie=10,Ne=13,we=9,Ae=64*1024;function Se(B){return e.alloc?e.alloc(B):new e(B)}function z(){this.tState=p,this.value=void 0,this.string=void 0,this.stringBuffer=Se(Ae),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=J,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:Se(2),3:Se(3),4:Se(4)},this.offset=-1}z.toknam=function(B){for(var T=Object.keys(t),O=0,U=T.length;O<U;O++){var G=T[O];if(t[G]===B)return G}return B&&"0x"+B.toString(16)};var M=z.prototype;return M.onError=function(B){throw B},M.charError=function(B,T){this.tState=m,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(B[T]))+" at position "+T+" in state "+z.toknam(this.tState)))},M.appendStringChar=function(B){this.stringBufferOffset>=Ae&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=B},M.appendStringBuf=function(B,T,O){var U=B.length;typeof T=="number"&&(typeof O=="number"?O<0?U=B.length-T+O:U=O-T:U=B.length-T),U<0&&(U=0),this.stringBufferOffset+U>Ae&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),B.copy(this.stringBuffer,this.stringBufferOffset,T,O),this.stringBufferOffset+=U},M.write=function(B){typeof B=="string"&&(B=new e(B));for(var T,O=0,U=B.length;O<U;O++)if(this.tState===p){if(T=B[O],this.offset++,T===123)this.onToken(r,"{");else if(T===125)this.onToken(n,"}");else if(T===91)this.onToken(a,"[");else if(T===93)this.onToken(s,"]");else if(T===58)this.onToken(o,":");else if(T===44)this.onToken(u,",");else if(T===116)this.tState=y;else if(T===102)this.tState=v;else if(T===110)this.tState=E;else if(T===34)this.string="",this.stringBufferOffset=0,this.tState=L;else if(T===45)this.string="-",this.tState=I;else if(T>=48&&T<64)this.string=String.fromCharCode(T),this.tState=P;else if(!(T===32||T===9||T===10||T===13))return this.charError(B,O)}else if(this.tState===L)if(T=B[O],this.bytes_remaining>0){for(var G=0;G<this.bytes_remaining;G++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+G]=B[G];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,O=O+G-1}else if(this.bytes_remaining===0&&T>=128){if(T<=193||T>244)return this.onError(new Error("Invalid UTF-8 character at position "+O+" in state "+z.toknam(this.tState)));if(T>=194&&T<=223&&(this.bytes_in_sequence=2),T>=224&&T<=239&&(this.bytes_in_sequence=3),T>=240&&T<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+O>B.length){for(var Q=0;Q<=B.length-1-O;Q++)this.temp_buffs[this.bytes_in_sequence][Q]=B[O+Q];this.bytes_remaining=O+this.bytes_in_sequence-B.length,O=B.length-1}else this.appendStringBuf(B,O,O+this.bytes_in_sequence),O=O+this.bytes_in_sequence-1}else if(T===34)this.tState=p,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(f,this.string),this.offset+=e.byteLength(this.string,"utf8")+1,this.string=void 0;else if(T===92)this.tState=D;else if(T>=32)this.appendStringChar(T);else return this.charError(B,O);else if(this.tState===D)if(T=B[O],T===34)this.appendStringChar(T),this.tState=L;else if(T===92)this.appendStringChar(De),this.tState=L;else if(T===47)this.appendStringChar(Ve),this.tState=L;else if(T===98)this.appendStringChar(le),this.tState=L;else if(T===102)this.appendStringChar(ue),this.tState=L;else if(T===110)this.appendStringChar(Ie),this.tState=L;else if(T===114)this.appendStringChar(Ne),this.tState=L;else if(T===116)this.appendStringChar(we),this.tState=L;else if(T===117)this.unicode="",this.tState=V;else return this.charError(B,O);else if(this.tState===V||this.tState===k||this.tState===$||this.tState===H)if(T=B[O],T>=48&&T<64||T>64&&T<=70||T>96&&T<=102){if(this.unicode+=String.fromCharCode(T),this.tState++===H){var Z=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&Z>=56320&&Z<57344?(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate,Z))),this.highSurrogate=void 0):this.highSurrogate===void 0&&Z>=55296&&Z<56320?this.highSurrogate=Z:(this.highSurrogate!==void 0&&(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new e(String.fromCharCode(Z)))),this.tState=L}}else return this.charError(B,O);else if(this.tState===I||this.tState===P)switch(T=B[O],T){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(T),this.tState=P;break;default:this.tState=p;var ie=this.numberReviver(this.string);if(ie)return ie;this.offset+=this.string.length-1,this.string=void 0,O--;break}else if(this.tState===y)if(B[O]===114)this.tState=g;else return this.charError(B,O);else if(this.tState===g)if(B[O]===117)this.tState=b;else return this.charError(B,O);else if(this.tState===b)if(B[O]===101)this.tState=p,this.onToken(l,!0),this.offset+=3;else return this.charError(B,O);else if(this.tState===v)if(B[O]===97)this.tState=_;else return this.charError(B,O);else if(this.tState===_)if(B[O]===108)this.tState=w;else return this.charError(B,O);else if(this.tState===w)if(B[O]===115)this.tState=S;else return this.charError(B,O);else if(this.tState===S)if(B[O]===101)this.tState=p,this.onToken(c,!1),this.offset+=4;else return this.charError(B,O);else if(this.tState===E)if(B[O]===117)this.tState=x;else return this.charError(B,O);else if(this.tState===x)if(B[O]===108)this.tState=C;else return this.charError(B,O);else if(this.tState===C)if(B[O]===108)this.tState=p,this.onToken(d,null),this.offset+=3;else return this.charError(B,O)},M.onToken=function(B,T){},M.parseError=function(B,T){this.tState=m,this.onError(new Error("Unexpected "+z.toknam(B)+(T?"("+JSON.stringify(T)+")":"")+" in state "+z.toknam(this.state)))},M.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},M.pop=function(){var B=this.value,T=this.stack.pop();this.value=T.value,this.key=T.key,this.mode=T.mode,this.emit(B),this.mode||(this.state=J)},M.emit=function(B){this.mode&&(this.state=u),this.onValue(B)},M.onValue=function(B){},M.onToken=function(B,T){if(this.state===J)if(B===f||B===h||B===l||B===c||B===d)this.value&&(this.value[this.key]=T),this.emit(T);else if(B===r)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=Y,this.mode=de;else if(B===a)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=Te,this.state=J;else if(B===n)if(this.mode===de)this.pop();else return this.parseError(B,T);else if(B===s)if(this.mode===Te)this.pop();else return this.parseError(B,T);else return this.parseError(B,T);else if(this.state===Y)if(B===f)this.key=T,this.state=o;else if(B===n)this.pop();else return this.parseError(B,T);else if(this.state===o)if(B===o)this.state=J;else return this.parseError(B,T);else if(this.state===u)if(B===u)this.mode===Te?(this.key++,this.state=J):this.mode===de&&(this.state=Y);else if(B===s&&this.mode===Te||B===n&&this.mode===de)this.pop();else return this.parseError(B,T);else return this.parseError(B,T)},M.numberReviver=function(B){var T=Number(B);if(isNaN(T))return this.charError(buffer,i);B.match(/[0-9]+/)==B&&T.toString()!=B?this.onToken(f,B):this.onToken(h,T)},z.C=t,hA=z,hA}var MF;function MAe(){if(MF)return Sh;MF=1,Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.SparqlJsonParser=void 0;const e=xt,t=Lt,r=nY();let n=class{constructor(s){var o;s=s||{},this.dataFactory=s.dataFactory||new e.DataFactory,this.prefixVariableQuestionMark=!!s.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(o=s.suppressMissingStreamResultsError)!==null&&o!==void 0?o:!0}parseJsonResults(s){return s.results.bindings.map(o=>this.parseJsonBindings(o))}parseJsonResultsStream(s){const o=f=>d.emit("error",f);s.on("error",o);const u=new r;u.onError=o;let l=!1,c=!1;u.onValue=f=>{if(u.key==="vars"&&u.stack.length===2&&u.stack[1].key==="head")d.emit("variables",f.map(h=>this.dataFactory.variable(h))),l=!0;else if(u.key==="results"&&u.stack.length===1)c=!0;else if(typeof u.key=="number"&&u.stack.length===3&&u.stack[1].key==="results"&&u.stack[2].key==="bindings")try{d.push(this.parseJsonBindings(f))}catch(h){d.emit("error",h)}else u.key==="metadata"&&u.stack.length===1&&d.emit("metadata",f)};const d=s.on("end",f=>{!c&&!this.suppressMissingStreamResultsError?d.emit("error",new Error("No valid SPARQL query results were found.")):l||d.emit("variables",[])}).pipe(new t.Transform({objectMode:!0,transform(f,h,p){u.write(f),p()}}));return d}parseJsonBindings(s){const o={};for(const u in s){const l=s[u];o[this.prefixVariableQuestionMark?"?"+u:u]=this.parseJsonValue(l)}return o}parseJsonValue(s){let o;switch(s.type){case"bnode":o=this.dataFactory.blankNode(s.value);break;case"literal":s["xml:lang"]?o=this.dataFactory.literal(s.value,s["xml:lang"]):s.datatype?o=this.dataFactory.literal(s.value,this.dataFactory.namedNode(s.datatype)):o=this.dataFactory.literal(s.value);break;case"typed-literal":o=this.dataFactory.literal(s.value,this.dataFactory.namedNode(s.datatype));break;case"triple":const u=s.value;if(!u||!u.subject||!u.predicate||!u.object)throw new Error("Invalid quoted triple: "+JSON.stringify(s));o=this.dataFactory.quad(this.parseJsonValue(u.subject),this.parseJsonValue(u.predicate),this.parseJsonValue(u.object));break;default:o=this.dataFactory.namedNode(s.value);break}return o}parseJsonBoolean(s){if("boolean"in s)return s.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(s){return new Promise((o,u)=>{const l=new r;l.onError=u,l.onValue=c=>{l.key==="boolean"&&typeof c=="boolean"&&l.stack.length===1&&o(c)},s.on("error",u).on("data",c=>l.write(c)).on("end",()=>u(new Error("No valid ASK response was found.")))})}};return Sh.SparqlJsonParser=n,Sh}var FF;function iY(){return FF||(FF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(MAe(),e)}(fA)),fA}var qF;function FAe(){if(qF)return yh;qF=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.Converter=void 0;const e=jAe(),t=iY();let r=class Ts{constructor(a){a=a||{delimiter:"_"},a.prefixVariableQuestionMark=!1,this.delimiter=a.delimiter||"_",this.parser=new t.SparqlJsonParser(a),this.materializeRdfJsTerms=a.materializeRdfJsTerms}static addValueToTree(a,s,o,u,l,c){const d=s[0],f=u?u+c+d:d,h=l.singularizeVariables[f];if(s.length===1)h?a[d]||(a[d]=o):(a[d]||(a[d]=[]),a[d].push(o));else{let p;h?(a[d]||(a[d]={}),p=a[d]):(a[d]||(a[d]=[{}]),p=a[d][0]),Ts.addValueToTree(p,s.slice(1),o,f,l,c)}}static mergeTrees(a,s){if(typeof a!=typeof s)throw new Error(`Two incompatible tree nodes were found: ${typeof a} and ${typeof s}`);if(Array.isArray(a)!==Array.isArray(s))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(a)} and Array?${Array.isArray(s)}`);if(typeof a=="object"&&typeof s=="object"){if(a.termType&&s.termType)return a.equals(s)?{valid:!0,result:a}:{valid:!1,result:a};if(Array.isArray(a)&&Array.isArray(s)){if(a.length>0){const o=[];let u=!1;for(const l of a){const c=Ts.mergeTrees(l,s[0]);c.valid?(u=!0,o.push(c.result)):o.push(l)}if(u)return{valid:!0,result:o}}return{valid:!0,result:a.concat(s)}}else{const o={};for(const u in s)o[u]=s[u];for(const u in a)if(o[u]){const l=Ts.mergeTrees(a[u],o[u]);if(l.valid)o[u]=l.result;else return{valid:!1,result:a}}else o[u]=a[u];return{valid:!0,result:o}}}else throw new Error(`Unmergable tree types: ${typeof a} and ${typeof s}`)}static materializeTree(a){if(a.termType)return(0,e.getTermRaw)(a);if(Array.isArray(a))return a.map(Ts.materializeTree);{const s={};for(const o in a)s[o]=Ts.materializeTree(a[o]);return s}}sparqlJsonResultsToTree(a,s){return this.bindingsToTree(this.parser.parseJsonResults(a),s||{singularizeVariables:{}})}bindingsToTree(a,s){const o=s&&s.singularizeVariables[""];let u=o?{}:[];for(const l of a){const c=o?{}:[{}];for(const d in l){const f=d.split(this.delimiter),h=l[d];Ts.addValueToTree(o?c:c[0],f,h,"",s,this.delimiter)}u=Ts.mergeTrees(u,c).result}return this.materializeRdfJsTerms&&(u=Ts.materializeTree(u)),u}};return yh.Converter=r,yh}var BF;function qAe(){return BF||(BF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(FAe(),e)}(uA)),uA}var $F;function UF(){if($F)return ph;$F=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.ActorQueryResultSerializeTree=void 0;const e=Za(),t=kt,r=lt,n=Lt,a=qAe();let s=class aY extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(u){super(u)}static async bindingsStreamToGraphQl(u,l,c){const d=r.ActionContext.ensureActionContext(l),f=new a.Converter(c),h={singularizeVariables:d.get(t.KeysInitQuery.graphqlSingularizeVariables)??{}};return f.bindingsToTree(await u.map(p=>Object.fromEntries([...p].map(([m,y])=>[m.value,y]))).toArray(),h)}async testHandleChecked(u){if(u.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(u,l){const c=new n.Readable;return c._read=()=>{c._read=()=>{},aY.bindingsStreamToGraphQl(u.bindingsStream,u.context,{materializeRdfJsTerms:!0}).then(d=>{c.push(JSON.stringify(d,null,"  ")),c.push(null)}).catch(d=>c.emit("error",d))},{data:c}}};return ph.ActorQueryResultSerializeTree=s,ph}var kF;function BAe(){return kF||(kF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(s,o,u,l){l===void 0&&(l=u);var c=Object.getOwnPropertyDescriptor(o,u);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,l,c)}:function(s,o,u,l){l===void 0&&(l=u),s[l]=o[u]}),r=N&&N.__exportStar||function(s,o){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&t(o,s,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.bindingsStreamToGraphQl=void 0;const n=UF(),{bindingsStreamToGraphQl:a}=n.ActorQueryResultSerializeTree;e.bindingsStreamToGraphQl=a,r(UF(),e)}(oA)),oA}var pA={},Th={},VF;function $Ae(){if(VF)return Th;VF=1,Object.defineProperty(Th,"__esModule",{value:!0}),Th.MediatorCombineUnion=void 0;const e=lt;let t=class extends e.Mediator{constructor(n){super(n),this.combiner=this.createCombiner()}async mediate(n){let a;try{a=this.publish(n)}catch{a=[]}if(this.filterErrors){const o=[];for(const u of a)try{await u.reply,o.push(u)}catch{}a=o}await Promise.all(a.map(({reply:o})=>o));const s=await Promise.all(a.map(o=>o.actor.runObservable(n)));return this.combiner(s)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return n=>{const a={};return a[this.field]={},[{}].concat(n.map(s=>s[this.field])).forEach(s=>{a[this.field]={...s,...a[this.field]}}),a}}};return Th.MediatorCombineUnion=t,Th}var HF;function so(){return HF||(HF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r($Ae(),e)}(pA)),pA}var yA={},Eh={},QF;function UAe(){if(QF)return Eh;QF=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.MediatorNumber=void 0;const e=lt;let t=class extends e.Mediator{constructor(n){super(n),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return n=>n.reduce((a,s,o)=>{const u=this.getOrDefault(s[this.field],Number.POSITIVE_INFINITY);return u!==null&&(Number.isNaN(a[0])||a[0]>u)?[u,o]:a},[Number.NaN,-1])[1];case"max":return n=>n.reduce((a,s,o)=>{const u=this.getOrDefault(s[this.field],Number.NEGATIVE_INFINITY);return u!==null&&(Number.isNaN(a[0])||a[0]<u)?[u,o]:a},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(n,a){return n===void 0?a:n}async mediateWith(n,a){let s=a.map(({reply:c})=>c);const o=[];if(this.ignoreErrors){const c={};c[this.field]=null,s=s.map(d=>d.catch(f=>(o.push(f),c)))}const u=await Promise.all(s),l=this.indexPicker(u);if(l<0)throw new Error(`All actors rejected their test in ${this.name}
${o.map(c=>c.message).join(`
`)}`);return a[l].actor}};return Eh.MediatorNumber=t,Eh}var zF;function Ah(){return zF||(zF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(UAe(),e)}(yA)),yA}var mA={},Oh={},gA={},Rh={},ms={},GF;function wD(){if(GF)return ms;GF=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.ActorDereferenceBase=ms.isHardError=ms.emptyReadable=void 0;const e=kt,t=lt,r=Lt;function n(){const o=new r.Readable;return o.push(null),o}ms.emptyReadable=n;function a(o){return!o.get(e.KeysInitQuery.lenient)}ms.isHardError=a;let s=class extends t.Actor{constructor(u){super(u)}async dereferenceErrorHandler(u,l,c){if(a(u.context))throw l;return this.logWarn(u.context,l.message),{...c,data:n()}}};return ms.ActorDereferenceBase=s,ms}var WF;function kAe(){if(WF)return Rh;WF=1,Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.ActorDereference=void 0;const e=wD();let t=class extends e.ActorDereferenceBase{constructor(n){super(n)}async handleDereferenceErrors(n,a,s,o=0){return this.dereferenceErrorHandler(n,a,{url:n.url,exists:!1,headers:s,requestTime:o})}};return Rh.ActorDereference=t,Rh}var hu={},KF;function VAe(){if(KF)return hu;KF=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.ActorDereferenceParse=hu.getMediaTypeFromExtension=void 0;const e=Lt,t=wD();function r(a,s){const o=a.lastIndexOf(".");return o>=0&&(s==null?void 0:s[a.slice(o+1)])||""}hu.getMediaTypeFromExtension=r;let n=class extends t.ActorDereferenceBase{constructor(s){super(s)}async test(s){return!0}handleDereferenceStreamErrors(s,o){return(0,t.isHardError)(s.context)||(o.on("error",u=>{this.logWarn(s.context,u.message,()=>({url:s.url})),o.push(null)}),o=o.pipe(new e.PassThrough({objectMode:!0}))),o}async run(s){var c,d;const{context:o}=s,u=await this.mediatorDereference.mediate({...s,mediaTypes:async()=>{var f,h;return(h=await((f=this.mediatorParseMediatypes)==null?void 0:f.mediate({context:o,mediaTypes:!0})))==null?void 0:h.mediaTypes}});let l;try{l=(await this.mediatorParse.mediate({context:o,handle:{context:o,...u,metadata:await this.getMetadata(u)},handleMediaType:u.mediaType||r(u.url,this.mediaMappings)||s.mediaType})).handle,l.data=this.handleDereferenceStreamErrors(s,l.data)}catch(f){await((d=(c=u.data).close)==null?void 0:d.call(c)),l=await this.dereferenceErrorHandler(s,f,{})}return{...u,...l}}};return hu.ActorDereferenceParse=n,hu}var JF;function SD(){return JF||(JF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(kAe(),e),r(VAe(),e),r(wD(),e)}(gA)),gA}var XF;function HAe(){if(XF)return Oh;XF=1,Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.ActorDereferenceFallback=void 0;const e=SD();let t=class extends e.ActorDereference{constructor(n){super(n)}async test(n){return!0}async run(n){return this.handleDereferenceErrors(n,new Error(`Could not dereference '${n.url}'`))}};return Oh.ActorDereferenceFallback=t,Oh}var YF;function QAe(){return YF||(YF=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(HAe(),e)}(mA)),mA}var _A={},xh={},bA={},Ih={},ZF;function zAe(){if(ZF)return Ih;ZF=1,Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.ActorRdfJoinEntriesSort=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return Ih.ActorRdfJoinEntriesSort=t,Ih}var e5;function GAe(){return e5||(e5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(zAe(),e)}(bA)),bA}var t5;function WAe(){if(t5)return xh;t5=1,Object.defineProperty(xh,"__esModule",{value:!0}),xh.ActorRdfJoinEntriesSortCardinality=void 0;const e=GAe();let t=class extends e.ActorRdfJoinEntriesSort{constructor(n){super(n)}async test(n){return!0}async run(n){return{entries:[...n.entries].sort((s,o)=>s.metadata.cardinality.value-o.metadata.cardinality.value)}}};return xh.ActorRdfJoinEntriesSortCardinality=t,xh}var r5;function KAe(){return r5||(r5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(WAe(),e)}(_A)),_A}var vA={},pu={},wA={},Ph={},n5;function JAe(){if(n5)return Ph;n5=1,Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.ActorRdfJoinSelectivity=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return Ph.ActorRdfJoinSelectivity=t,Ph}var i5;function XAe(){return i5||(i5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(JAe(),e)}(wA)),wA}var a5;function YAe(){if(a5)return pu;a5=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.JoinTypes=pu.ActorRdfJoinSelectivityVariableCounting=void 0;const e=XAe(),t=Nt();let r=class Iu extends e.ActorRdfJoinSelectivity{constructor(s){super(s)}async test(s){return{accuracy:.5}}static getPatternCost(s){let o=1;return s.subject.termType==="Variable"&&(o+=4),(s.predicate.termType==="Variable"||s.type===t.Algebra.types.PATH)&&(o+=1),s.object.termType==="Variable"&&(o+=2),s.graph.termType==="Variable"&&(o+=1),o/9}static getJoinTypes(s,o){const u=[];return s.subject.termType==="Variable"?(s.subject.equals(o.subject)&&u.push(n.unboundSS),o.type==="pattern"&&s.subject.equals(o.predicate)&&u.push(n.unboundSP),s.subject.equals(o.object)&&u.push(n.unboundSO),s.subject.equals(o.graph)&&u.push(n.unboundSG)):(s.subject.equals(o.subject)&&u.push(n.boundSS),o.type==="pattern"&&s.subject.equals(o.predicate)&&u.push(n.boundSP),s.subject.equals(o.object)&&u.push(n.boundSO),s.subject.equals(o.graph)&&u.push(n.boundSG)),s.type==="pattern"&&(s.predicate.termType==="Variable"?(s.predicate.equals(o.subject)&&u.push(n.unboundPS),o.type==="pattern"&&s.predicate.equals(o.predicate)&&u.push(n.unboundPP),s.predicate.equals(o.object)&&u.push(n.unboundPO),s.predicate.equals(o.graph)&&u.push(n.unboundPG)):(s.predicate.equals(o.subject)&&u.push(n.boundPS),o.type==="pattern"&&s.predicate.equals(o.predicate)&&u.push(n.boundPP),s.predicate.equals(o.object)&&u.push(n.boundPO),s.predicate.equals(o.graph)&&u.push(n.boundPG))),s.object.termType==="Variable"?(s.object.equals(o.subject)&&u.push(n.unboundOS),o.type==="pattern"&&s.object.equals(o.predicate)&&u.push(n.unboundOP),s.object.equals(o.object)&&u.push(n.unboundOO),s.object.equals(o.graph)&&u.push(n.unboundOG)):(s.object.equals(o.subject)&&u.push(n.boundOS),o.type==="pattern"&&s.object.equals(o.predicate)&&u.push(n.boundOP),s.object.equals(o.object)&&u.push(n.boundOO),s.object.equals(o.graph)&&u.push(n.boundOG)),s.graph.termType==="Variable"?(s.graph.equals(o.subject)&&u.push(n.unboundGS),o.type==="pattern"&&s.graph.equals(o.predicate)&&u.push(n.unboundGP),s.graph.equals(o.object)&&u.push(n.unboundGO),s.graph.equals(o.graph)&&u.push(n.unboundGG)):(s.graph.equals(o.subject)&&u.push(n.boundGS),o.type==="pattern"&&s.graph.equals(o.predicate)&&u.push(n.boundGP),s.graph.equals(o.object)&&u.push(n.boundGO),s.graph.equals(o.graph)&&u.push(n.boundGG)),u}static getOperationsPairwiseJoinCost(s,o){let u=Iu.MAX_PAIRWISE_COST;for(const l of Iu.getJoinTypes(s,o))switch(l){case n.boundSS:u-=2*2;break;case n.boundSP:u-=3*2;break;case n.boundSO:u-=1*2;break;case n.boundSG:u-=3*2;break;case n.boundPS:u-=3*2;break;case n.boundPP:return 1;case n.boundPO:u-=3*2;break;case n.boundPG:u-=3*2;break;case n.boundOS:u-=1*2;break;case n.boundOP:u-=3*2;break;case n.boundOO:u-=1*2;break;case n.boundOG:u-=3*2;break;case n.boundGS:u-=3*2;break;case n.boundGP:u-=3*2;break;case n.boundGO:u-=3*2;break;case n.boundGG:u-=3*2;break;case n.unboundSS:u-=2;break;case n.unboundSP:u-=3;break;case n.unboundSO:u-=1;break;case n.unboundSG:u-=3;break;case n.unboundPS:u-=3;break;case n.unboundPP:u-=3;break;case n.unboundPO:u-=3;break;case n.unboundPG:u-=3;break;case n.unboundOS:u-=1;break;case n.unboundOP:u-=3;break;case n.unboundOO:u-=1;break;case n.unboundOG:u-=3;break;case n.unboundGS:u-=3;break;case n.unboundGP:u-=3;break;case n.unboundGO:u-=3;break;case n.unboundGG:u-=3;break}return u/Iu.MAX_PAIRWISE_COST}static getOperationsJoinCost(s){const o=[];for(const c of s)t.Util.recurseOperation(c,{[t.Algebra.types.PATTERN](d){return o.push(d),!1},[t.Algebra.types.PATH](d){return o.push(d),!1}});let u=0,l=0;for(const c of o)for(const d of o)c!==d&&(u+=Iu.getOperationsPairwiseJoinCost(c,d),l++);return l===0?1:u/l*o.reduce((c,d)=>c*Iu.getPatternCost(d),1)}async run(s){return s.entries.length<=1?{selectivity:1}:{selectivity:Iu.getOperationsJoinCost(s.entries.map(o=>o.operation))}}};pu.ActorRdfJoinSelectivityVariableCounting=r,r.MAX_PAIRWISE_COST=41*2;var n;return function(a){a[a.boundSS=0]="boundSS",a[a.boundSP=1]="boundSP",a[a.boundSO=2]="boundSO",a[a.boundSG=3]="boundSG",a[a.boundPS=4]="boundPS",a[a.boundPP=5]="boundPP",a[a.boundPO=6]="boundPO",a[a.boundPG=7]="boundPG",a[a.boundOS=8]="boundOS",a[a.boundOP=9]="boundOP",a[a.boundOO=10]="boundOO",a[a.boundOG=11]="boundOG",a[a.boundGS=12]="boundGS",a[a.boundGP=13]="boundGP",a[a.boundGO=14]="boundGO",a[a.boundGG=15]="boundGG",a[a.unboundSS=16]="unboundSS",a[a.unboundSP=17]="unboundSP",a[a.unboundSO=18]="unboundSO",a[a.unboundSG=19]="unboundSG",a[a.unboundPS=20]="unboundPS",a[a.unboundPP=21]="unboundPP",a[a.unboundPO=22]="unboundPO",a[a.unboundPG=23]="unboundPG",a[a.unboundOS=24]="unboundOS",a[a.unboundOP=25]="unboundOP",a[a.unboundOO=26]="unboundOO",a[a.unboundOG=27]="unboundOG",a[a.unboundGS=28]="unboundGS",a[a.unboundGP=29]="unboundGP",a[a.unboundGO=30]="unboundGO",a[a.unboundGG=31]="unboundGG"}(n||(pu.JoinTypes=n={})),pu}var s5;function ZAe(){return s5||(s5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(YAe(),e)}(vA)),vA}var SA={},Nh={},TA={},Dh={},o5;function e3e(){if(o5)return Dh;o5=1,Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.ActorRdfMetadata=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return Dh.ActorRdfMetadata=t,Dh}var u5;function sY(){return u5||(u5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(e3e(),e)}(TA)),TA}var c5;function t3e(){if(c5)return Nh;c5=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.ActorRdfMetadataPrimaryTopic=void 0;const e=sY(),t=Lt;let r=class extends e.ActorRdfMetadata{constructor(a){super(a)}async test(a){if(a.triples)throw new Error("This actor only supports non-triple quad streams.");return!0}async run(a){const s=new t.Readable({objectMode:!0}),o=new t.Readable({objectMode:!0}),u=()=>{s._read=o._read=()=>{},a.quads.on("error",f=>{s.emit("error",f),o.emit("error",f)});const l={};let c;const d={};a.quads.on("data",f=>{f.predicate.value==="http://rdfs.org/ns/void#subset"&&f.object.value===a.url?c=f.subject.value:f.predicate.value==="http://xmlns.com/foaf/0.1/primaryTopic"&&(d[f.object.value]=f.subject.value);let h=l[f.graph.value];h||(h=l[f.graph.value]=[]),h.push(f)}),a.quads.on("end",()=>{const f=c?d[c]:void 0;for(const h in l)if(h===f){for(const p of l[h])o.push(p);if(this.metadataToData)for(const p of l[h])s.push(p)}else{for(const p of l[h])s.push(p);if(!f&&this.dataToMetadataOnInvalidMetadataGraph)for(const p of l[h])o.push(p)}s.push(null),o.push(null)})};return s._read=o._read=()=>{u()},{data:s,metadata:o}}};return Nh.ActorRdfMetadataPrimaryTopic=r,Nh}var l5;function r3e(){return l5||(l5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(t3e(),e)}(SA)),SA}var EA={},Ch={},d5;function n3e(){if(d5)return Ch;d5=1,Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.ActorRdfMetadataAll=void 0;const e=sY(),t=Lt;let r=class extends e.ActorRdfMetadata{constructor(a){super(a)}async test(a){return!0}async run(a){const s=new t.Readable({objectMode:!0}),o=new t.Readable({objectMode:!0});a.quads.on("error",l=>{s.emit("error",l),o.emit("error",l)}),a.quads.on("end",()=>{s.push(null),o.push(null)});const u=s._read=o._read=l=>{for(;l>0;){const c=a.quads.read();if(c===null)return a.quads.once("readable",()=>u(l));l--,s.push(c),o.push(c)}};return{data:s,metadata:o}}};return Ch.ActorRdfMetadataAll=r,Ch}var f5;function i3e(){return f5||(f5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(n3e(),e)}(EA)),EA}var AA={},Lh={},OA={},jh={},h5;function a3e(){if(h5)return jh;h5=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.ActorRdfMetadataAccumulate=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return jh.ActorRdfMetadataAccumulate=t,jh}var p5;function zS(){return p5||(p5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(a3e(),e)}(OA)),OA}var y5;function s3e(){if(y5)return Lh;y5=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.ActorRdfMetadataAccumulateCanContainUndefs=void 0;const e=zS();let t=class extends e.ActorRdfMetadataAccumulate{constructor(n){super(n)}async test(n){return!0}async run(n){if(n.mode==="initialize")return{metadata:{canContainUndefs:!1}};let a=n.accumulatedMetadata.canContainUndefs;return n.appendingMetadata.canContainUndefs&&(a=!0),{metadata:{canContainUndefs:a}}}};return Lh.ActorRdfMetadataAccumulateCanContainUndefs=t,Lh}var m5;function o3e(){return m5||(m5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(s3e(),e)}(AA)),AA}var RA={},Mh={},g5;function u3e(){if(g5)return Mh;g5=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.ActorRdfMetadataAccumulateCardinality=void 0;const e=zS();let t=class extends e.ActorRdfMetadataAccumulate{constructor(n){super(n)}async test(n){return!0}async run(n){if(n.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0}}};const a={...n.accumulatedMetadata.cardinality};if(a.dataset)if(n.appendingMetadata.cardinality.dataset){if(a.dataset!==n.appendingMetadata.cardinality.dataset&&n.appendingMetadata.subsetOf===a.dataset)return{metadata:{cardinality:n.appendingMetadata.cardinality}};if(a.dataset===n.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:a}};delete a.dataset}else return{metadata:{cardinality:a}};return!n.appendingMetadata.cardinality||!Number.isFinite(n.appendingMetadata.cardinality.value)?(a.type="estimate",a.value=Number.POSITIVE_INFINITY):(n.appendingMetadata.cardinality.type==="estimate"&&(a.type="estimate"),a.value+=n.appendingMetadata.cardinality.value),{metadata:{cardinality:a}}}};return Mh.ActorRdfMetadataAccumulateCardinality=t,Mh}var _5;function c3e(){return _5||(_5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(u3e(),e)}(RA)),RA}var xA={},Fh={},b5;function l3e(){if(b5)return Fh;b5=1,Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.ActorRdfMetadataAccumulatePageSize=void 0;const e=zS();let t=class extends e.ActorRdfMetadataAccumulate{constructor(n){super(n)}async test(n){return!0}async run(n){return n.mode==="initialize"?{metadata:{}}:{metadata:{..."pageSize"in n.accumulatedMetadata||"pageSize"in n.appendingMetadata?{pageSize:(n.accumulatedMetadata.pageSize??0)+(n.appendingMetadata.pageSize??0)}:{}}}}};return Fh.ActorRdfMetadataAccumulatePageSize=t,Fh}var v5;function d3e(){return v5||(v5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(l3e(),e)}(xA)),xA}var IA={},qh={},w5;function f3e(){if(w5)return qh;w5=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.ActorRdfMetadataAccumulateRequestTime=void 0;const e=zS();let t=class extends e.ActorRdfMetadataAccumulate{constructor(n){super(n)}async test(n){return!0}async run(n){return n.mode==="initialize"?{metadata:{}}:{metadata:{..."requestTime"in n.accumulatedMetadata||"requestTime"in n.appendingMetadata?{requestTime:(n.accumulatedMetadata.requestTime??0)+(n.appendingMetadata.requestTime??0)}:{}}}}};return qh.ActorRdfMetadataAccumulateRequestTime=t,qh}var S5;function h3e(){return S5||(S5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(f3e(),e)}(IA)),IA}var PA={},Bh={},NA={},$h={},T5;function p3e(){if(T5)return $h;T5=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.ActorRdfMetadataExtract=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return $h.ActorRdfMetadataExtract=t,$h}var E5;function Go(){return E5||(E5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(p3e(),e)}(NA)),NA}var DA={exports:{}},A5;function y3e(){return A5||(A5=1,function(e){(function(t){var r=function(){function m(y){this.options=y}return m.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},m}(),n=function(){function m(x){return Object.prototype.toString.apply(x)==="[object Array]"}function y(x){return Object.prototype.toString.apply(x)==="[object String]"}function g(x){return Object.prototype.toString.apply(x)==="[object Number]"}function b(x){return Object.prototype.toString.apply(x)==="[object Boolean]"}function v(x,C){var I="",P=!0,L;for(L=0;L<x.length;L+=1)P?P=!1:I+=C,I+=x[L];return I}function _(x,C){for(var I=[],P=0;P<x.length;P+=1)I.push(C(x[P]));return I}function w(x,C){for(var I=[],P=0;P<x.length;P+=1)C(x[P])&&I.push(x[P]);return I}function S(x){if(typeof x!="object"||x===null)return x;Object.freeze(x);var C,I;for(I in x)x.hasOwnProperty(I)&&(C=x[I],typeof C=="object"&&E(C));return x}function E(x){return typeof Object.freeze=="function"?S(x):x}return{isArray:m,isString:y,isNumber:g,isBoolean:b,join:v,map:_,filter:w,deepFreeze:E}}(),a=function(){function m(b){return b>="a"&&b<="z"||b>="A"&&b<="Z"}function y(b){return b>="0"&&b<="9"}function g(b){return y(b)||b>="a"&&b<="f"||b>="A"&&b<="F"}return{isAlpha:m,isDigit:y,isHexDigit:g}}(),s=function(){var m={encode:function(w){return unescape(encodeURIComponent(w))},numBytes:function(w){return w<=127?1:194<=w&&w<=223?2:224<=w&&w<=239?3:240<=w&&w<=244?4:0},isValidFollowingCharCode:function(w){return 128<=w&&w<=191}};function y(w){var S="",E=m.encode(w),x,C;for(C=0;C<E.length;C+=1)x=E.charCodeAt(C),S+="%"+(x<16?"0":"")+x.toString(16).toUpperCase();return S}function g(w,S){return w.charAt(S)==="%"&&a.isHexDigit(w.charAt(S+1))&&a.isHexDigit(w.charAt(S+2))}function b(w,S){return parseInt(w.substr(S,2),16)}function v(w){if(!g(w,0))return!1;var S=b(w,1),E=m.numBytes(S);if(E===0)return!1;for(var x=1;x<E;x+=1)if(!g(w,3*x)||!m.isValidFollowingCharCode(b(w,3*x+1)))return!1;return!0}function _(w,S){var E=w.charAt(S);if(!g(w,S))return E;var x=b(w,S+1),C=m.numBytes(x);if(C===0)return E;for(var I=1;I<C;I+=1)if(!g(w,S+3*I)||!m.isValidFollowingCharCode(b(w,S+3*I+1)))return E;return w.substr(S,3*C)}return{encodeCharacter:y,isPctEncoded:v,pctCharAt:_}}(),o=function(){function m(b){return a.isAlpha(b)||a.isDigit(b)||b==="_"||s.isPctEncoded(b)}function y(b){return a.isAlpha(b)||a.isDigit(b)||b==="-"||b==="."||b==="_"||b==="~"}function g(b){return b===":"||b==="/"||b==="?"||b==="#"||b==="["||b==="]"||b==="@"||b==="!"||b==="$"||b==="&"||b==="("||b===")"||b==="*"||b==="+"||b===","||b===";"||b==="="||b==="'"}return{isVarchar:m,isUnreserved:y,isReserved:g}}(),u=function(){function m(v,_){var w="",S,E="";for((typeof v=="number"||typeof v=="boolean")&&(v=v.toString()),S=0;S<v.length;S+=E.length)E=v.charAt(S),w+=o.isUnreserved(E)||_&&o.isReserved(E)?E:s.encodeCharacter(E);return w}function y(v){return m(v,!0)}function g(v,_){var w=s.pctCharAt(v,_);return w.length>1||o.isReserved(w)||o.isUnreserved(w)?w:s.encodeCharacter(w)}function b(v){var _="",w,S="";for(w=0;w<v.length;w+=S.length)S=s.pctCharAt(v,w),S.length>1?_+=S:_+=o.isReserved(S)||o.isUnreserved(S)?S:s.encodeCharacter(S);return _}return{encode:m,encodePassReserved:y,encodeLiteral:b,encodeLiteralCharacter:g}}(),l=function(){var m={};function y(g){m[g]={symbol:g,separator:g==="?"?"&":g===""||g==="+"||g==="#"?",":g,named:g===";"||g==="&"||g==="?",ifEmpty:g==="&"||g==="?"?"=":"",first:g==="+"?"":g,encode:g==="+"||g==="#"?u.encodePassReserved:u.encode,toString:function(){return this.symbol}}}return y(""),y("+"),y("#"),y("."),y("/"),y(";"),y("?"),y("&"),{valueOf:function(g){return m[g]?m[g]:"=,!@|".indexOf(g)>=0?null:m[""]}}}();function c(m){var y;if(m==null)return!1;if(n.isArray(m))return m.length>0;if(typeof m=="string"||typeof m=="number"||typeof m=="boolean")return!0;for(y in m)if(m.hasOwnProperty(y)&&c(m[y]))return!0;return!1}var d=function(){function m(y){this.literal=u.encodeLiteral(y)}return m.prototype.expand=function(){return this.literal},m.prototype.toString=m.prototype.expand,m}(),f=function(){function m(g){var b,v=[],_=null,w=null,S=null,E,x="";function C(){var P=g.substring(w,E);if(P.length===0)throw new r({expressionText:g,message:"a varname must be specified",position:E});_={varname:P,exploded:!1,maxLength:null},w=null}function I(){if(S===E)throw new r({expressionText:g,message:"after a ':' you have to specify the length",position:E});_.maxLength=parseInt(g.substring(S,E),10),S=null}for(b=function(P){var L=l.valueOf(P);if(L===null)throw new r({expressionText:g,message:"illegal use of reserved operator",position:E,operator:P});return L}(g.charAt(0)),E=b.symbol.length,w=E;E<g.length;E+=x.length){if(x=s.pctCharAt(g,E),w!==null){if(x==="."){if(w===E)throw new r({expressionText:g,message:"a varname MUST NOT start with a dot",position:E});continue}if(o.isVarchar(x))continue;C()}if(S!==null){if(E===S&&x==="0")throw new r({expressionText:g,message:"A :prefix must not start with digit 0",position:E});if(a.isDigit(x)){if(E-S>=4)throw new r({expressionText:g,message:"A :prefix must have max 4 digits",position:E});continue}I()}if(x===":"){if(_.maxLength!==null)throw new r({expressionText:g,message:"only one :maxLength is allowed per varspec",position:E});if(_.exploded)throw new r({expressionText:g,message:"an exploeded varspec MUST NOT be varspeced",position:E});S=E+1;continue}if(x==="*"){if(_===null)throw new r({expressionText:g,message:"exploded without varspec",position:E});if(_.exploded)throw new r({expressionText:g,message:"exploded twice",position:E});if(_.maxLength)throw new r({expressionText:g,message:"an explode (*) MUST NOT follow to a prefix",position:E});_.exploded=!0;continue}if(x===","){v.push(_),_=null,w=E+1;continue}throw new r({expressionText:g,message:"illegal character",character:x,position:E})}return w!==null&&C(),S!==null&&I(),v.push(_),new h(g,b,v)}function y(g){var b,v,_=[],w=null,S=0;for(b=0;b<g.length;b+=1){if(v=g.charAt(b),S!==null){if(v==="}")throw new r({templateText:g,message:"unopened brace closed",position:b});v==="{"&&(S<b&&_.push(new d(g.substring(S,b))),S=null,w=b);continue}if(w!==null){if(v==="{")throw new r({templateText:g,message:"brace already opened",position:b});if(v==="}"){if(w+1===b)throw new r({templateText:g,message:"empty braces",position:w});try{_.push(m(g.substring(w+1,b)))}catch(E){throw E.prototype===r.prototype?new r({templateText:g,message:E.options.message,position:w+E.options.position,details:E.options}):E}w=null,S=b+1}continue}throw new Error("reached unreachable code")}if(w!==null)throw new r({templateText:g,message:"unclosed brace",position:w});return S<g.length&&_.push(new d(g.substr(S))),new p(g,_)}return y}(),h=function(){function m(x){return JSON&&JSON.stringify?JSON.stringify(x):x}function y(x){if(!c(x))return!0;if(n.isString(x))return x==="";if(n.isNumber(x)||n.isBoolean(x))return!1;if(n.isArray(x))return x.length===0;for(var C in x)if(x.hasOwnProperty(C))return!1;return!0}function g(x){var C=[],I;for(I in x)x.hasOwnProperty(I)&&C.push({name:I,value:x[I]});return C}function b(x,C,I){this.templateText=x,this.operator=C,this.varspecs=I}b.prototype.toString=function(){return this.templateText};function v(x,C,I){var P="";if(I=I.toString(),C.named){if(P+=u.encodeLiteral(x.varname),I==="")return P+=C.ifEmpty,P;P+="="}return x.maxLength!==null&&(I=I.substr(0,x.maxLength)),P+=C.encode(I),P}function _(x){return c(x.value)}function w(x,C,I){var P=[],L="";if(C.named){if(L+=u.encodeLiteral(x.varname),y(I))return L+=C.ifEmpty,L;L+="="}return n.isArray(I)?(P=I,P=n.filter(P,c),P=n.map(P,C.encode),L+=n.join(P,",")):(P=g(I),P=n.filter(P,_),P=n.map(P,function(D){return C.encode(D.name)+","+C.encode(D.value)}),L+=n.join(P,",")),L}function S(x,C,I){var P=n.isArray(I),L=[];return P?(L=I,L=n.filter(L,c),L=n.map(L,function(D){var V=u.encodeLiteral(x.varname);return y(D)?V+=C.ifEmpty:V+="="+C.encode(D),V})):(L=g(I),L=n.filter(L,_),L=n.map(L,function(D){var V=u.encodeLiteral(D.name);return y(D.value)?V+=C.ifEmpty:V+="="+C.encode(D.value),V})),n.join(L,C.separator)}function E(x,C){var I=[],P="";return n.isArray(C)?(I=C,I=n.filter(I,c),I=n.map(I,x.encode),P+=n.join(I,x.separator)):(I=g(C),I=n.filter(I,function(L){return c(L.value)}),I=n.map(I,function(L){return x.encode(L.name)+"="+x.encode(L.value)}),P+=n.join(I,x.separator)),P}return b.prototype.expand=function(x){var C=[],I,P,L,D=this.operator;for(I=0;I<this.varspecs.length;I+=1)if(P=this.varspecs[I],L=x[P.varname],L!=null)if(P.exploded,n.isArray(L),typeof L=="string"||typeof L=="number"||typeof L=="boolean")C.push(v(P,D,L));else{if(P.maxLength&&c(L))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+m(L));P.exploded?c(L)&&(D.named?C.push(S(P,D,L)):C.push(E(D,L))):(D.named||!y(L))&&C.push(w(P,D,L))}return C.length===0?"":D.first+n.join(C,D.separator)},b}(),p=function(){function m(y,g){this.templateText=y,this.expressions=g,n.deepFreeze(this)}return m.prototype.toString=function(){return this.templateText},m.prototype.expand=function(y){var g,b="";for(g=0;g<this.expressions.length;g+=1)b+=this.expressions[g].expand(y);return b},m.parse=f,m.UriTemplateError=r,m}();t(p)})(function(t){e.exports=t})}(DA)),DA.exports}var O5;function m3e(){if(O5)return Bh;O5=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.ActorRdfMetadataExtractHydraControls=void 0;const e=Go(),t=y3e();let r=class qv extends e.ActorRdfMetadataExtract{constructor(a){super(a),this.parsedUriTemplateCache={}}async test(a){return!0}getLinks(a,s){return Object.fromEntries(qv.LINK_TYPES.map(o=>{const u=s[o]||s[`${o}Page`],l=u&&u[a];return[o,l&&l.length>0?[l[0]]:[]]}))}parseUriTemplateCached(a){const s=this.parsedUriTemplateCache[a];return s||(this.parsedUriTemplateCache[a]=(0,t.parse)(a))}getSearchForms(a){const s=a.search,o=[];if(s)for(const u in s)for(const l of s[u]){const c=(a.template||{})[l]||[];if(c.length!==1)throw new Error(`Expected 1 hydra:template for ${l}`);const d=c[0],f=this.parseUriTemplateCached(d),h=Object.fromEntries(((a.mapping||{})[l]||[]).map(m=>{const y=((a.variable||{})[m]||[])[0],g=((a.property||{})[m]||[])[0];if(!y)throw new Error(`Expected a hydra:variable for ${m}`);if(!g)throw new Error(`Expected a hydra:property for ${m}`);return[g,y]})),p=m=>f.expand(Object.fromEntries(Object.keys(m).map(y=>[h[y],m[y]])));o.push({dataset:u,template:d,mappings:h,getUri:p})}return{values:o}}getHydraProperties(a){return new Promise((s,o)=>{a.on("error",o);const u={};a.on("data",l=>{if(l.predicate.value.startsWith(qv.HYDRA)){const c=l.predicate.value.slice(qv.HYDRA.length),d=u[c]||(u[c]={});(d[l.subject.value]||(d[l.subject.value]=[])).push(l.object.value)}}),a.on("end",()=>s(u))})}async run(a){const s={},o=await this.getHydraProperties(a.metadata);return Object.assign(s,this.getLinks(a.url,o)),s.searchForms=this.getSearchForms(o),{metadata:s}}};return Bh.ActorRdfMetadataExtractHydraControls=r,r.HYDRA="http://www.w3.org/ns/hydra/core#",r.LINK_TYPES=["first","next","previous","last"],Bh}var R5;function g3e(){return R5||(R5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(m3e(),e)}(PA)),PA}var CA={},Uh={},x5;function _3e(){if(x5)return Uh;x5=1,Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.ActorRdfMetadataExtractHydraCount=void 0;const e=Go();let t=class extends e.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return!0}run(n){return new Promise((a,s)=>{n.metadata.on("error",s),n.metadata.on("data",o=>{this.predicates.includes(o.predicate.value)&&a({metadata:{cardinality:{type:"estimate",value:Number.parseInt(o.object.value,10),dataset:o.subject.value}}})}),n.metadata.on("end",()=>{a({metadata:{cardinality:{type:"estimate",value:0}}})})})}};return Uh.ActorRdfMetadataExtractHydraCount=t,Uh}var I5;function b3e(){return I5||(I5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(_3e(),e)}(CA)),CA}var LA={},kh={},P5;function v3e(){if(P5)return kh;P5=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.ActorRdfMetadataExtractHydraPagesize=void 0;const e=Go();let t=class extends e.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return!0}async run(n){return new Promise((a,s)=>{n.metadata.on("error",s),n.metadata.on("data",o=>{this.predicates.includes(o.predicate.value)&&a({metadata:{pageSize:Number.parseInt(o.object.value,10)}})}),n.metadata.on("end",()=>{a({metadata:{}})})})}};return kh.ActorRdfMetadataExtractHydraPagesize=t,kh}var N5;function w3e(){return N5||(N5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(v3e(),e)}(LA)),LA}var jA={},Vh={},D5;function S3e(){if(D5)return Vh;D5=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.ActorRdfMetadataExtractRequestTime=void 0;const e=Go();let t=class extends e.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return!0}async run(n){return{metadata:{requestTime:n.requestTime}}}};return Vh.ActorRdfMetadataExtractRequestTime=t,Vh}var C5;function T3e(){return C5||(C5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(S3e(),e)}(jA)),jA}var MA={},Hh={},L5;function E3e(){if(L5)return Hh;L5=1,Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.ActorRdfMetadataExtractAllowHttpMethods=void 0;const e=Go();let t=class extends e.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return!0}async run(n){var s,o;const a={};return(s=n.headers)!=null&&s.get("allow")&&(a.allowHttpMethods=(o=n.headers.get("allow"))==null?void 0:o.split(/, */u)),{metadata:a}}};return Hh.ActorRdfMetadataExtractAllowHttpMethods=t,Hh}var j5;function A3e(){return j5||(j5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(E3e(),e)}(MA)),MA}var FA={},Qh={},M5;function O3e(){if(M5)return Qh;M5=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.ActorRdfMetadataExtractPutAccepted=void 0;const e=Go();let t=class extends e.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return!0}async run(n){var s,o;const a={};return(s=n.headers)!=null&&s.get("accept-put")&&(a.putAccepted=(o=n.headers.get("accept-put"))==null?void 0:o.split(/, */u)),{metadata:a}}};return Qh.ActorRdfMetadataExtractPutAccepted=t,Qh}var F5;function R3e(){return F5||(F5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(O3e(),e)}(FA)),FA}var qA={},zh={},q5;function x3e(){if(q5)return zh;q5=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.ActorRdfMetadataExtractPatchSparqlUpdate=void 0;const e=Go();let t=class extends e.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return!0}async run(n){var s,o,u,l;const a={};return(((o=(s=n.headers)==null?void 0:s.get("accept-patch"))==null?void 0:o.includes("application/sparql-update"))??((l=(u=n.headers)==null?void 0:u.get("ms-author-via"))==null?void 0:l.includes("SPARQL")))&&(a.patchSparqlUpdate=!0),{metadata:a}}};return zh.ActorRdfMetadataExtractPatchSparqlUpdate=t,zh}var B5;function I3e(){return B5||(B5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(x3e(),e)}(qA)),qA}var BA={},Gh={},$5;function P3e(){if($5)return Gh;$5=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.ActorRdfMetadataExtractSparqlService=void 0;const e=Go(),t=va();let r=class extends e.ActorRdfMetadataExtract{constructor(a){super(a)}async test(a){return!0}async run(a){return new Promise((s,o)=>{a.metadata.on("error",o);const u={};a.metadata.on("data",l=>{l.predicate.value==="http://www.w3.org/ns/sparql-service-description#endpoint"&&(l.subject.termType==="BlankNode"||l.subject.value===a.url)?(u.sparqlService=l.object.termType==="Literal"?(0,t.resolve)(l.object.value,a.url):l.object.value,this.inferHttpsEndpoint&&a.url.startsWith("https")&&!u.sparqlService.startsWith("https")&&(u.sparqlService=u.sparqlService.replace("http:","https:"))):l.predicate.value==="http://www.w3.org/ns/sparql-service-description#defaultGraph"&&(u.defaultGraph=l.object.value)}),a.metadata.on("end",()=>{s({metadata:u})})})}};return Gh.ActorRdfMetadataExtractSparqlService=r,Gh}var U5;function N3e(){return U5||(U5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(P3e(),e)}(BA)),BA}var $A={},Wh={},UA={},Kh={},k5;function D3e(){if(k5)return Kh;k5=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.ActorRdfParse=void 0;const e=Rd();let t=class extends e.ActorAbstractMediaTyped{constructor(n){super(n)}};return Kh.ActorRdfParse=t,Kh}var Jh={},V5;function C3e(){if(V5)return Jh;V5=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.ActorRdfParseFixedMediaTypes=void 0;const e=Rd();let t=class extends e.ActorAbstractMediaTypedFixed{constructor(n){super(n)}async testHandleChecked(n){return!0}};return Jh.ActorRdfParseFixedMediaTypes=t,Jh}var H5;function xd(){return H5||(H5=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(D3e(),e),r(C3e(),e)}(UA)),UA}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let Q5;var L3e=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:N):e=>(Q5||(Q5=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0));const oY=fW(L3e),Xh="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Yh="http://www.w3.org/2001/XMLSchema#",kA="http://www.w3.org/2000/10/swap/",Rn={xsd:{decimal:`${Yh}decimal`,boolean:`${Yh}boolean`,double:`${Yh}double`,integer:`${Yh}integer`,string:`${Yh}string`},rdf:{type:`${Xh}type`,nil:`${Xh}nil`,first:`${Xh}first`,rest:`${Xh}rest`,langString:`${Xh}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${kA}reify#forSome`,forAll:`${kA}reify#forAll`},log:{implies:`${kA}log#implies`}},{xsd:Q1}=Rn,j3e=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,z5={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},M3e=/[\x00-\x20<>\\"\{\}\|\^\`]/,F3e={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},q3e=/$0^/;let TD=class{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const r in this)!(r in F3e)&&this[r]instanceof RegExp&&(this[r]=q3e)}else this._n3Mode=t.n3!==!1;this._comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,r){let n=this._input,a=n.length;for(;;){let u,l;for(;u=this._newline.exec(n);)this._comments&&(l=this._comment.exec(u[0]))&&s("comment",l[1],"",this._line,u[0].length),n=n.substr(u[0].length,n.length),a=n.length,this._line++;if(!u&&(u=this._whitespace.exec(n))&&(n=n.substr(u[0].length,n.length)),this._endOfFile.test(n))return r&&(this._comments&&(l=this._comment.exec(n))&&s("comment",l[1],"",this._line,n.length),n=null,s("eof","","",this._line,0)),this._input=n;const c=this._line,d=n[0];let f="",h="",p="",m=null,y=0,g=!1;switch(d){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){g=!0;break}}else{this._n3Mode&&(y=1,f="^");break}case"<":if(m=this._unescapedIri.exec(n))f="IRI",h=m[1];else if(m=this._iri.exec(n)){if(h=this._unescape(m[1]),h===null||M3e.test(h))return o(this);f="IRI"}else n.length>1&&n[1]==="<"?(f="<<",y=2):this._n3Mode&&n.length>1&&n[1]==="="&&(f="inverse",y=2,h=">");break;case">":n.length>1&&n[1]===">"&&(f=">>",y=2);break;case"_":((m=this._blank.exec(n))||r&&(m=this._blank.exec(`${n} `)))&&(f="blank",p="_",h=m[1]);break;case'"':if(m=this._simpleQuotedString.exec(n))h=m[1];else if({value:h,matchLength:y}=this._parseLiteral(n),h===null)return o(this);(m!==null||y!==0)&&(f="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(m=this._simpleApostropheString.exec(n))h=m[1];else if({value:h,matchLength:y}=this._parseLiteral(n),h===null)return o(this);(m!==null||y!==0)&&(f="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(m=this._variable.exec(n))&&(f="var",h=m[0]);break;case"@":this._previousMarker==="literal"&&(m=this._langcode.exec(n))?(f="langcode",h=m[1]):(m=this._keyword.exec(n))&&(f=m[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){f=".",y=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(m=this._number.exec(n)||r&&(m=this._number.exec(`${n} `)))&&(f="literal",h=m[0],p=typeof m[1]=="string"?Q1.double:typeof m[2]=="string"?Q1.decimal:Q1.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(m=this._sparqlKeyword.exec(n))?f=m[0].toUpperCase():g=!0;break;case"f":case"t":(m=this._boolean.exec(n))?(f="literal",h=m[0],p=Q1.boolean):g=!0;break;case"a":(m=this._shortPredicates.exec(n))?(f="abbreviation",h="a"):g=!0;break;case"=":this._n3Mode&&n.length>1&&(f="abbreviation",n[1]!==">"?(y=1,h="="):(y=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(y=1,f=d);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(f="{|",y=2):(f=d,y=1));break;case"|":n.length>=2&&n[1]==="}"&&(f="|}",y=2);break;default:g=!0}if(g&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(m=this._prefix.exec(n))?(f="prefix",h=m[1]||""):((m=this._prefixed.exec(n))||r&&(m=this._prefixed.exec(`${n} `)))&&(f="prefixed",p=m[1]||"",h=this._unescape(m[2]))),this._previousMarker==="^^")switch(f){case"prefixed":f="type";break;case"IRI":f="typeIRI";break;default:f=""}if(!f)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;const b=y||m[0].length,v=s(f,h,p,c,b);this.previousToken=v,this._previousMarker=f,n=n.substr(b,n.length)}function s(u,l,c,d,f){const h=n?a-n.length:a,p=h+f,m={type:u,value:l,prefix:c,line:d,start:h,end:p};return t(null,m),m}function o(u){t(u._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(t){let r=!1;const n=t.replace(j3e,(a,s,o,u)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return u in z5?z5[u]:(r=!0,"")});return r?null:n}_parseLiteral(t){if(t.length>=3){const r=t.match(/^(?:"""|"|'''|'|)/)[0],n=r.length;let a=Math.max(this._literalClosingPos,n);for(;(a=t.indexOf(r,a))>0;){let s=0;for(;t[a-s-1]==="\\";)s++;if(s%2===0){const o=t.substring(n,a),u=o.split(/\r\n|\r|\n/).length-1,l=a+n;if(n===1&&u!==0||n===3&&this._lineMode)break;return this._line+=u,{value:this._unescape(o),matchLength:l}}a++}this._literalClosingPos=t.length-n+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const r=new Error(`Unexpected "${t}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,r){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof r=="function")oY(()=>this._tokenizeToEnd(r,!0));else{const n=[];let a;if(this._tokenizeToEnd((s,o)=>s?a=s:n.push(o),!0),a)throw a;return n}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=jwe.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),t.on("error",r)}};const{rdf:B3e,xsd:qu}=Rn;let Hb,$3e=0;const jo={namedNode:U3e,blankNode:k3e,variable:H3e,literal:V3e,defaultGraph:Q3e,quad:G5,triple:G5};let es=class uY{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof uY?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},GS=class extends es{get termType(){return"NamedNode"}},El=class cY extends es{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let r=t.lastIndexOf('"')+1;return r<t.length&&t[r++]==="@"?t.substr(r).toLowerCase():""}get datatype(){return new GS(this.datatypeString)}get datatypeString(){const t=this.id,r=t.lastIndexOf('"')+1,n=r<t.length?t[r]:"";return n==="^"?t.substr(r+2):n!=="@"?qu.string:B3e.langString}equals(t){return t instanceof cY?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},ED=class extends es{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},AD=class extends es{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},OD=class extends es{constructor(){return super(""),Hb||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};Hb=new OD;function zu(e,t,r){if(t=t||jo,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===jo)return new El(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const n=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,n-1),e[n+1]==="@"?e.substr(n+2):t.namedNode(e.substr(n+3)));case"[":e=JSON.parse(e);break;default:if(!r||!Array.isArray(e))return t.namedNode(e)}return t.quad(zu(e[0],t,!0),zu(e[1],t,!0),zu(e[2],t,!0),e[3]&&zu(e[3],t,!0))}function Gn(e,t){if(typeof e=="string")return e;if(e instanceof es&&e.termType!=="Quad")return e.id;if(!e)return Hb.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==qu.string?`^^${e.datatype.value}`:""}`;case"Quad":const r=[Gn(e.subject,!0),Gn(e.predicate,!0),Gn(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&r.push(Gn(e.graph,!0)),t?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let H_=class extends es{constructor(t,r,n,a){super(""),this._subject=t,this._predicate=r,this._object=n,this._graph=a||Hb}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function U3e(e){return new GS(e)}function k3e(e){return new ED(e||`n3-${$3e++}`)}function V3e(e,t){if(typeof t=="string")return new El(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return r===""&&(typeof e=="boolean"?r=qu.boolean:typeof e=="number"&&(Number.isFinite(e)?r=Number.isInteger(e)?qu.integer:qu.double:(r=qu.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),r===""||r===qu.string?new El(`"${e}"`):new El(`"${e}"^^${r}`)}function H3e(e){return new AD(e)}function Q3e(){return Hb}function G5(e,t,r,n){return new H_(e,t,r,n)}let W5=0,WS=class{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&lY(this,t.factory);const r=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),a=/trig/.test(r),s=/triple/.test(r),o=/quad/.test(r),u=this._n3Mode=/n3/.test(r),l=s||o;(this._supportsNamedGraphs=!(n||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||a||s||u),this._supportsRDFStar=r===""||/star|\*$/.test(r),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new TD({lineMode:l,n3:u}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){W5=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const r=t.indexOf("#");r>=0&&(t=t.substr(0,r)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,r,n,a,s){const o=this._n3Mode;this._contextStack.push({type:t,subject:n,predicate:a,object:s,graph:r,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,r){const n=this._contextStack.pop();if(!n||n.type!==t)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,r){let n;switch(t.type){case"IRI":case"typeIRI":const a=this._resolveIRI(t.value);if(a===null)return this._error("Invalid IRI",t);n=this._namedNode(a);break;case"type":case"prefixed":const s=this._prefixes[t.prefix];if(s===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);n=this._namedNode(s+t.value);break;case"blank":n=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":n=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const r=t.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,t):(this._subject=null,r==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let r=null,n=null,a=this._readListItem;const s=this._subject,o=this._contextStack,u=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=r=this._blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;n=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,a=this._readListItemDataTypeOrLang):(r=this._literal(t.value,this._namedNode(t.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((r=this._readEntity(t))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),s===null?u.predicate===null?u.subject=n:u.object=n:this._emit(s,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return a}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let r=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const n=this._readEntity(t);if(n===void 0)return;r=this._literal(this._literalValue,n),t=null;break;case"langcode":r=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:r}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,r){const n=this._completeLiteral(t);if(n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let r,n=this._graph;const a=this._subject,s=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",t);const o=this._predicate,u=this._object;this._subject=this._quad(a,o,u,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(t))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(a!==null){const o=this._predicate,u=this._object;s?this._emit(u,o,a,n):this._emit(a,o,u,n)}return r}_readBlankNodePunctuation(t){let r;switch(t.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const r=this._readEntity(t);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(t){const r=t.type==="IRI"&&this._resolveIRI(t.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let r;switch(t.type){case"IRI":case"prefixed":if((r=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){const a=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,a,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let r,n;const a=this._blankNode();if((n=this._readEntity(t))!==void 0)return this._predicate===null?(r=this._subject,this._subject=a):(r=this._object,this._object=a),this._emit(r,n,a,this._graph),this._readPath}_readBackwardPath(t){const r=this._blankNode();let n,a;if((n=this._readEntity(t))!==void 0)return this._predicate===null?(a=this._subject,this._subject=r):(a=this._object,this._object=r),this._emit(r,n,a,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const r=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,r,n,a){this._callback(null,this._quad(t,r,n,a||this.DEFAULTGRAPH))}_error(t,r){const n=new Error(`${t} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=VA}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const r=t.length;let n="",a=-1,s=-1,o=0,u="/";for(;a<r;){switch(u){case":":if(s<0&&t[++a]==="/"&&t[++a]==="/")for(;(s=a+1)<r&&t[s]!=="/";)a=s;break;case"?":case"#":a=r;break;case"/":if(t[a+1]===".")switch(u=t[++a+1],u){case"/":n+=t.substring(o,a-1),o=a+1;break;case void 0:case"?":case"#":return n+t.substring(o,a)+t.substr(a+1);case".":if(u=t[++a+1],u===void 0||u==="/"||u==="?"||u==="#"){if(n+=t.substring(o,a-2),(o=n.lastIndexOf("/"))>=s&&(n=n.substr(0,o)),u!=="/")return`${n}/${t.substr(a+1)}`;o=a+1}}}u=t[++a]}return n+t.substring(o)}parse(t,r,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${W5++}_`,this._prefixCallback=n||VA,this._inversePredicate=!1,this._quantified=Object.create(null),!r){const a=[];let s;if(this._callback=(o,u)=>{o?s=o:u&&a.push(u)},this._lexer.tokenize(t).every(o=>this._readCallback=this._readCallback(o)),s)throw s;return a}this._callback=r,this._lexer.tokenize(t,(a,s)=>{a!==null?(this._callback(a),this._callback=VA):this._readCallback&&(this._readCallback=this._readCallback(s))})}};function VA(){}function lY(e,t){const r=t.namedNode;e._namedNode=r,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=r(Rn.rdf.first),e.RDF_REST=r(Rn.rdf.rest),e.RDF_NIL=r(Rn.rdf.nil),e.N3_FORALL=r(Rn.r.forAll),e.N3_FORSOME=r(Rn.r.forSome),e.ABBREVIATIONS={a:r(Rn.rdf.type),"=":r(Rn.owl.sameAs),">":r(Rn.log.implies)},e.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}lY(WS.prototype,jo);function z3e(e){return!!e&&e.termType==="NamedNode"}function G3e(e){return!!e&&e.termType==="BlankNode"}function W3e(e){return!!e&&e.termType==="Literal"}function K3e(e){return!!e&&e.termType==="Variable"}function Q_(e){return!!e&&e.termType==="DefaultGraph"}function J3e(e){return Q_(e.graph)}function X3e(e,t){return dY({"":e.value||e},t)("")}function dY(e,t){const r=Object.create(null);for(const a in e)n(a,e[a]);t=t||jo;function n(a,s){if(typeof s=="string"){const o=Object.create(null);r[a]=u=>o[u]||(o[u]=t.namedNode(s+u))}else if(!(a in r))throw new Error(`Unknown prefix: ${a}`);return r[a]}return n}const fY=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:J3e,isBlankNode:G3e,isDefaultGraph:Q_,isLiteral:W3e,isNamedNode:z3e,isVariable:K3e,prefix:X3e,prefixes:dY},Symbol.toStringTag,{value:"Module"})),Zh=jo.defaultGraph(),{rdf:Y3e,xsd:Vc}=Rn,K5=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,J5=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Z3e={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};let ep=class extends es{equals(t){return t===this}},RD=class{constructor(t,r){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(r=t,t=null),r=r||{},this._lists=r.lists,t)this._outputStream=t,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(a,s,o){n+=a,o&&o()},end:a=>{a&&a(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Zh,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${Y5(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return Zh.equals(this._graph)}_write(t,r){this._outputStream.write(t,"utf8",r)}_writeQuad(t,r,n,a,s){try{a.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Zh.equals(a)?"":`${this._encodeIriOrBlank(a)} {
`)),this._graph=a,this._subject=null),t.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s)}catch(o){s&&s(o)}}_writeQuadLine(t,r,n,a,s){delete this._prefixMatch,this._write(this.quadToString(t,r,n,a),s)}quadToString(t,r,n,a){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${a&&a.value?` ${this._encodeIriOrBlank(a)} .
`:` .
`}`}quadsToString(t){return t.map(r=>this.quadToString(r.subject,r.predicate,r.object,r.graph)).join("")}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let r=t.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),K5.test(r)&&(r=r.replace(J5,X5));const n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(t){let r=t.value;if(K5.test(r)&&(r=r.replace(J5,X5)),t.language)return`"${r}"@${t.language}`;if(this._lineMode){if(t.datatype.value===Vc.string)return`"${r}"`}else switch(t.datatype.value){case Vc.string:return`"${r}"`;case Vc.boolean:if(r==="true"||r==="false")return r;break;case Vc.integer:if(/^[+-]?\d+$/.test(r))return r;break;case Vc.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case Vc.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===Y3e.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:r,object:n,graph:a}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${Q_(a)?"":` ${this._encodeIriOrBlank(a)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,r,n,a,s){n===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,r):typeof a=="function"?this._writeQuad(t,r,n,Zh,a):this._writeQuad(t,r,n,a||Zh,s)}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}addPrefix(t,r,n){const a={};a[t]=r,this.addPrefixes(a,n)}addPrefixes(t,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let a in t){let s=t[a];typeof s!="string"&&(s=s.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=a+=":",this._write(`@prefix ${a} <${s}>.
`)}if(n){let a="",s="";for(const o in this._prefixIRIs)a+=a?`|${o}`:o,s+=(s?"|":"")+this._prefixIRIs[o];a=Y5(a),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${a})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(t,r){let n=t,a,s;switch(t===void 0?n=[]:t.termType?n=[{predicate:t,object:r}]:"length"in t||(n=[t]),s=n.length){case 0:return new ep("[]");case 1:if(a=n[0],!(a.object instanceof ep))return new ep(`[ ${this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)} ]`);default:let o="[";for(let u=0;u<s;u++)a=n[u],a.predicate.equals(t)?o+=`, ${this._encodeObject(a.object)}`:(o+=`${(u?`;
  `:`
  `)+this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)}`,t=a.predicate);return new ep(`${o}
]`)}}list(t){const r=t&&t.length||0,n=new Array(r);for(let a=0;a<r;a++)n[a]=this._encodeObject(t[a]);return new ep(`(${n.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=t&&((n,a)=>{r=null,t(n,a)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}};function X5(e){let t=Z3e[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function Y5(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}let xD=class{constructor(t,r){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!r&&t&&!t[0]&&(r=t,t=null),r=r||{},this._factory=r.factory||jo,t&&this.addQuads(t)}_termFromId(t,r){if(t[0]==="."){const n=this._entities,a=t.split(".");return this._factory.quad(this._termFromId(n[a[1]]),this._termFromId(n[a[2]]),this._termFromId(n[a[3]]),a[4]&&this._termFromId(n[a[4]]))}return zu(t,r)}_termToNumericId(t){if(t.termType==="Quad"){const r=this._termToNumericId(t.subject),n=this._termToNumericId(t.predicate),a=this._termToNumericId(t.object);let s;return r&&n&&a&&(Q_(t.graph)||(s=this._termToNumericId(t.graph)))&&this._ids[s?`.${r}.${n}.${a}.${s}`:`.${r}.${n}.${a}`]}return this._ids[Gn(t)]}_termToNewNumericId(t){const r=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${Q_(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:Gn(t);return this._ids[r]||(this._ids[this._entities[++this._id]=r]=this._id)}get size(){let t=this._size;if(t!==null)return t;t=0;const r=this._graphs;let n,a;for(const s in r)for(const o in n=r[s].subjects)for(const u in a=n[o])t+=Object.keys(a[u]).length;return this._size=t}_addToIndex(t,r,n,a){const s=t[r]||(t[r]={}),o=s[n]||(s[n]={}),u=a in o;return u||(o[a]=null),!u}_removeFromIndex(t,r,n,a){const s=t[r],o=s[n];delete o[a];for(const u in o)return;delete s[n];for(const u in s)return;delete t[r]}*_findInIndex(t,r,n,a,s,o,u,l){let c,d,f;const h=this._entities,p=this._termFromId(l,this._factory),m={subject:null,predicate:null,object:null};r&&((c=t,t={})[r]=c[r]);for(const y in t)if(d=t[y]){m[s]=this._termFromId(h[y],this._factory),n&&((c=d,d={})[n]=c[n]);for(const g in d)if(f=d[g]){m[o]=this._termFromId(h[g],this._factory);const b=a?a in f?[a]:[]:Object.keys(f);for(let v=0;v<b.length;v++)m[u]=this._termFromId(h[b[v]],this._factory),yield this._factory.quad(m.subject,m.predicate,m.object,p)}}}_loop(t,r){for(const n in t)r(n)}_loopByKey0(t,r,n){let a,s;if(a=t[r])for(s in a)n(s)}_loopByKey1(t,r,n){let a,s;for(a in t)s=t[a],s[r]&&n(a)}_loopBy2Keys(t,r,n,a){let s,o,u;if((s=t[r])&&(o=s[n]))for(u in o)a(u)}_countInIndex(t,r,n,a){let s=0,o,u,l;r&&((o=t,t={})[r]=o[r]);for(const c in t)if(u=t[c]){n&&((o=u,u={})[n]=o[n]);for(const d in u)(l=u[d])&&(a?a in l&&s++:s+=Object.keys(l).length)}return s}_getGraphs(t){if(!eOe(t))return this._graphs;const r={};return r[t]=this._graphs[t],r}_uniqueEntities(t){const r=Object.create(null);return n=>{n in r||(r[n]=!0,t(this._termFromId(this._entities[n],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,r,n,a){r||(a=t.graph,n=t.object,r=t.predicate,t=t.subject),a=Gn(a);let s=this._graphs[a];s||(s=this._graphs[a]={subjects:{},predicates:{},objects:{}},Object.freeze(s)),t=this._termToNewNumericId(t),r=this._termToNewNumericId(r),n=this._termToNewNumericId(n);const o=this._addToIndex(s.subjects,t,r,n);return this._addToIndex(s.predicates,r,n,t),this._addToIndex(s.objects,n,t,r),this._size=null,o}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}delete(t){return this.removeQuad(t),this}has(t,r,n,a){return t&&t.subject&&({subject:t,predicate:r,object:n,graph:a}=t),!this.readQuads(t,r,n,a).next().done}import(t){return t.on("data",r=>{this.addQuad(r)}),t}removeQuad(t,r,n,a){r||(a=t.graph,n=t.object,r=t.predicate,t=t.subject),a=Gn(a);const s=this._graphs;let o,u,l;if(!(t=t&&this._termToNumericId(t))||!(r=r&&this._termToNumericId(r))||!(n=n&&this._termToNumericId(n))||!(o=s[a])||!(u=o.subjects[t])||!(l=u[r])||!(n in l))return!1;this._removeFromIndex(o.subjects,t,r,n),this._removeFromIndex(o.predicates,r,n,t),this._removeFromIndex(o.objects,n,t,r),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete s[a],!0}removeQuads(t){for(let r=0;r<t.length;r++)this.removeQuad(t[r])}remove(t){return t.on("data",r=>{this.removeQuad(r)}),t}removeMatches(t,r,n,a){const s=new Lt.Readable({objectMode:!0});return s._read=()=>{for(const o of this.readQuads(t,r,n,a))s.push(o);s.push(null)},this.remove(s)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,r,n,a){return[...this.readQuads(t,r,n,a)]}*readQuads(t,r,n,a){a=a&&Gn(a);const s=this._getGraphs(a);let o,u,l,c;if(!(t&&!(u=this._termToNumericId(t))||r&&!(l=this._termToNumericId(r))||n&&!(c=this._termToNumericId(n))))for(const d in s)(o=s[d])&&(u?c?yield*this._findInIndex(o.objects,c,u,l,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,u,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",d):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(t,r,n,a){return new tOe(this,t,r,n,a)}countQuads(t,r,n,a){a=a&&Gn(a);const s=this._getGraphs(a);let o=0,u,l,c,d;if(t&&!(l=this._termToNumericId(t))||r&&!(c=this._termToNumericId(r))||n&&!(d=this._termToNumericId(n)))return 0;for(const f in s)(u=s[f])&&(t?n?o+=this._countInIndex(u.objects,d,l,c):o+=this._countInIndex(u.subjects,l,c,d):r?o+=this._countInIndex(u.predicates,c,d,l):o+=this._countInIndex(u.objects,d,l,c));return o}forEach(t,r,n,a,s){this.some(o=>(t(o),!1),r,n,a,s)}every(t,r,n,a,s){let o=!1;const u=!this.some(l=>(o=!0,!t(l)),r,n,a,s);return o&&u}some(t,r,n,a,s){for(const o of this.readQuads(r,n,a,s))if(t(o))return!0;return!1}getSubjects(t,r,n){const a=[];return this.forSubjects(s=>{a.push(s)},t,r,n),a}forSubjects(t,r,n,a){a=a&&Gn(a);const s=this._getGraphs(a);let o,u,l;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?l?this._loopBy2Keys(o.predicates,u,l,t):this._loopByKey1(o.subjects,u,t):l?this._loopByKey0(o.objects,l,t):this._loop(o.subjects,t))}getPredicates(t,r,n){const a=[];return this.forPredicates(s=>{a.push(s)},t,r,n),a}forPredicates(t,r,n,a){a=a&&Gn(a);const s=this._getGraphs(a);let o,u,l;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?l?this._loopBy2Keys(o.objects,l,u,t):this._loopByKey0(o.subjects,u,t):l?this._loopByKey1(o.predicates,l,t):this._loop(o.predicates,t))}getObjects(t,r,n){const a=[];return this.forObjects(s=>{a.push(s)},t,r,n),a}forObjects(t,r,n,a){a=a&&Gn(a);const s=this._getGraphs(a);let o,u,l;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?l?this._loopBy2Keys(o.subjects,u,l,t):this._loopByKey1(o.objects,u,t):l?this._loopByKey0(o.predicates,l,t):this._loop(o.objects,t))}getGraphs(t,r,n){const a=[];return this.forGraphs(s=>{a.push(s)},t,r,n),a}forGraphs(t,r,n,a){for(const s in this._graphs)this.some(o=>(t(o.graph),!0),r,n,a,s)}createBlankNode(t){let r,n;if(t)for(r=t=`_:${t}`,n=1;this._ids[r];)r=t+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}extractLists({remove:t=!1,ignoreErrors:r=!1}={}){const n={},a=r?()=>!0:(u,l)=>{throw new Error(`${u.value} ${l}`)},s=this.getQuads(null,Rn.rdf.rest,Rn.rdf.nil,null),o=t?[...s]:[];return s.forEach(u=>{const l=[];let c=!1,d,f;const h=u.graph;let p=u.subject;for(;p&&!c;){const m=this.getQuads(null,null,p,null),y=this.getQuads(p,null,null,null);let g,b=null,v=null,_=null;for(let w=0;w<y.length&&!c;w++)g=y[w],g.graph.equals(h)?d?c=a(p,"has non-list arcs out"):g.predicate.value===Rn.rdf.first?b?c=a(p,"has multiple rdf:first arcs"):o.push(b=g):g.predicate.value===Rn.rdf.rest?v?c=a(p,"has multiple rdf:rest arcs"):o.push(v=g):m.length?c=a(p,"can't be subject and object"):(d=g,f="subject"):c=a(p,"not confined to single graph");for(let w=0;w<m.length&&!c;++w)g=m[w],d?c=a(p,"can't have coreferences"):g.predicate.value===Rn.rdf.rest?_?c=a(p,"has incoming rdf:rest arcs"):_=g:(d=g,f="object");b?l.unshift(b.object):c=a(p,"has no list head"),p=_&&_.subject}c?t=!1:d&&(n[d[f].value]=l)}),t&&this.removeQuads(o),n}*[Symbol.iterator](){yield*this.readQuads()}};function eOe(e){return typeof e=="string"||e instanceof String}let tOe=class hY extends Lt.Readable{constructor(t,r,n,a,s){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:r,predicate:n,object:a,graph:s})}get filtered(){if(!this._filtered){const{n3Store:t,graph:r,object:n,predicate:a,subject:s}=this,o=this._filtered=new xD({factory:t._factory});for(const u of t.readQuads(s,a,n,r))o.addQuad(u)}return this._filtered}get size(){return this.filtered.size}_read(){for(const t of this)this.push(t);this.push(null)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,r,n,a){return new hY(this.filtered,t,r,n,a)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}},pY=class extends Lt.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new WS(t);let n,a;r.parse({on:(s,o)=>{switch(s){case"data":n=o;break;case"end":a=o;break}}},(s,o)=>{s&&this.emit("error",s)||o&&this.push(o)},(s,o)=>{this.emit("prefix",s,o)}),this._transform=(s,o,u)=>{n(s),u()},this._flush=s=>{a(),s()}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),this}},yY=class extends Lt.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const r=this._writer=new RD({write:(n,a,s)=>{this.push(n),s&&s()},end:n=>{this.push(null),n&&n()}},t);this._transform=(n,a,s)=>{r.addQuad(n,s)},this._flush=n=>{r.end(n)}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),t.on("prefix",(r,n)=>{this._writer.addPrefix(r,n)}),this}};const rOe={Lexer:TD,Parser:WS,Writer:RD,Store:xD,StreamParser:pY,StreamWriter:yY,Util:fY,DataFactory:jo,Term:es,NamedNode:GS,Literal:El,BlankNode:ED,Variable:AD,DefaultGraph:OD,Quad:H_,Triple:H_,termFromId:zu,termToId:Gn},nOe=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:ED,DataFactory:jo,DefaultGraph:OD,Lexer:TD,Literal:El,NamedNode:GS,Parser:WS,Quad:H_,Store:xD,StreamParser:pY,StreamWriter:yY,Term:es,Triple:H_,Util:fY,Variable:AD,Writer:RD,default:rOe,termFromId:zu,termToId:Gn},Symbol.toStringTag,{value:"Module"})),Wo=VP(nOe);var Z5;function iOe(){if(Z5)return Wh;Z5=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.ActorRdfParseN3=void 0;const e=xd(),t=Wo;let r=class extends e.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,s,o){var l;a.data.on("error",c=>u.emit("error",c));const u=a.data.pipe(new t.StreamParser({baseIRI:(l=a.metadata)==null?void 0:l.baseIRI,format:s.endsWith("n3")?s:`${s}*`}));return{data:u,metadata:{triples:s==="text/turtle"||s==="application/n-triples"||s==="text/n3"}}}};return Wh.ActorRdfParseN3=r,Wh}var e9;function aOe(){return e9||(e9=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(iOe(),e)}($A)),$A}var HA={},tp={},QA={},yu={},mu={},zA={},t9;function sOe(){return t9||(t9=1,function(e){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR=`	
\r -퟿-�𐀀-􏿿`,e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,r=10,n=13,a=32;e.S_LIST=[a,r,n,t];function s(c){return c>=a&&c<=55295||c===r||c===n||c===t||c>=57344&&c<=65533||c>=65536&&c<=1114111}e.isChar=s;function o(c){return c===a||c===r||c===n||c===t}e.isS=o;function u(c){return c>=65&&c<=90||c>=97&&c<=122||c===58||c===95||c===8204||c===8205||c>=192&&c<=214||c>=216&&c<=246||c>=248&&c<=767||c>=880&&c<=893||c>=895&&c<=8191||c>=8304&&c<=8591||c>=11264&&c<=12271||c>=12289&&c<=55295||c>=63744&&c<=64975||c>=65008&&c<=65533||c>=65536&&c<=983039}e.isNameStartChar=u;function l(c){return u(c)||c>=48&&c<=57||c===45||c===46||c===183||c>=768&&c<=879||c>=8255&&c<=8256}e.isNameChar=l}(zA)),zA}var GA={},r9;function oOe(){return r9||(r9=1,function(e){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="-퟿-�𐀀-􏿿",e.RESTRICTED_CHAR="-\b\v\f---",e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=new RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,r=10,n=13,a=32;e.S_LIST=[a,r,n,t];function s(f){return f>=1&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}e.isChar=s;function o(f){return f>=1&&f<=8||f===11||f===12||f>=14&&f<=31||f>=127&&f<=132||f>=134&&f<=159}e.isRestrictedChar=o;function u(f){return f===9||f===10||f===13||f>31&&f<127||f===133||f>159&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}e.isCharAndNotRestricted=u;function l(f){return f===a||f===r||f===n||f===t}e.isS=l;function c(f){return f>=65&&f<=90||f>=97&&f<=122||f===58||f===95||f===8204||f===8205||f>=192&&f<=214||f>=216&&f<=246||f>=248&&f<=767||f>=880&&f<=893||f>=895&&f<=8191||f>=8304&&f<=8591||f>=11264&&f<=12271||f>=12289&&f<=55295||f>=63744&&f<=64975||f>=65008&&f<=65533||f>=65536&&f<=983039}e.isNameStartChar=c;function d(f){return c(f)||f>=48&&f<=57||f===45||f===46||f===183||f>=768&&f<=879||f>=8255&&f<=8256}e.isNameChar=d}(GA)),GA}var WA={},n9;function uOe(){return n9||(n9=1,function(e){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",e.NC_NAME_START_CHAR_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=new RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u");function t(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}e.isNCNameStartChar=t;function r(n){return t(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}e.isNCNameChar=r}(WA)),WA}var i9;function mY(){if(i9)return mu;i9=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.SaxesParser=mu.EVENTS=void 0;const e=sOe(),t=oOe(),r=uOe();var n=e.isS,a=e.isChar,s=e.isNameStartChar,o=e.isNameChar,u=e.S_LIST,l=e.NAME_RE,c=t.isChar,d=r.isNCNameStartChar,f=r.isNCNameChar,h=r.NC_NAME_RE;const p="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",y={__proto__:null,xml:p,xmlns:m},g={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},b=-1,v=-2,_=0,w=1,S=2,E=3,x=4,C=5,I=6,P=7,L=8,D=9,V=10,k=11,$=12,H=13,J=14,Y=15,de=16,Te=17,De=18,Ve=19,le=20,ue=21,Ie=22,Ne=23,we=24,Ae=25,Se=26,z=27,M=28,B=29,T=30,O=31,U=32,G=33,Q=34,Z=35,ie=36,te=37,he=38,ce=39,ve=40,Ce=41,Ee=42,Ue=43,Fe=44,Qe=9,ke=10,K=13,j=32,q=33,W=34,re=38,pe=39,ge=45,qe=47,ee=59,Oe=60,je=61,Be=62,Ye=63,ct=91,ft=93,ot=133,mt=8232,ne=Je=>Je===W||Je===pe,A=[W,pe],R=[...A,ct,Be],F=[...A,Oe,ft],X=[je,Ye,...u],me=[...u,Be,re,Oe];function ye(Je,fe,Pe){switch(fe){case"xml":Pe!==p&&Je.fail(`xml prefix must be bound to ${p}.`);break;case"xmlns":Pe!==m&&Je.fail(`xmlns prefix must be bound to ${m}.`);break}switch(Pe){case m:Je.fail(fe===""?`the default namespace may not be set to ${Pe}.`:`may not assign a prefix (even "xmlns") to the URI ${m}.`);break;case p:switch(fe){case"xml":break;case"":Je.fail(`the default namespace may not be set to ${Pe}.`);break;default:Je.fail("may not assign the xml namespace to another prefix.")}break}}function xe(Je,fe){for(const Pe of Object.keys(fe))ye(Je,Pe,fe[Pe])}const Me=Je=>h.test(Je),Ke=Je=>l.test(Je),et=0,dt=1,it=2;mu.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const rt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class Kr{get closed(){return this._closed}constructor(fe){this.opt=fe??{},this.fragmentOpt=!!this.opt.fragment;const Pe=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,Pe){this.nameStartCheck=d,this.nameCheck=f,this.isName=Me,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},y);const Le=this.opt.additionalNamespaces;Le!=null&&(xe(this,Le),Object.assign(this.ns,Le))}else this.nameStartCheck=s,this.nameCheck=o,this.isName=Ke,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var fe;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=et,this.attribList=[];const{fragmentOpt:Pe}=this;this.state=Pe?H:_,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=Pe,this.xmlDeclPossible=!Pe,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:Le}=this.opt;if(Le===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");Le="1.0"}this.setXMLVersion(Le),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(g),(fe=this.readyHandler)===null||fe===void 0||fe.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(fe,Pe){this[rt[fe]]=Pe}off(fe){this[rt[fe]]=void 0}makeError(fe){var Pe;let Le=(Pe=this.fileName)!==null&&Pe!==void 0?Pe:"";return this.trackPosition&&(Le.length>0&&(Le+=":"),Le+=`${this.line}:${this.column}`),Le.length>0&&(Le+=": "),new Error(Le+fe)}fail(fe){const Pe=this.makeError(fe),Le=this.errorHandler;if(Le===void 0)throw Pe;return Le(Pe),this}write(fe){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let Pe=!1;fe===null?(Pe=!0,fe=""):typeof fe=="object"&&(fe=fe.toString()),this.carriedFromPrevious!==void 0&&(fe=`${this.carriedFromPrevious}${fe}`,this.carriedFromPrevious=void 0);let Le=fe.length;const Ze=fe.charCodeAt(Le-1);!Pe&&(Ze===K||Ze>=55296&&Ze<=56319)&&(this.carriedFromPrevious=fe[Le-1],Le--,fe=fe.slice(0,Le));const{stateTable:gt}=this;for(this.chunk=fe,this.i=0;this.i<Le;)gt[this.state].call(this);return this.chunkPosition+=Le,Pe?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:fe,i:Pe}=this;if(this.prevI=Pe,this.i=Pe+1,Pe>=fe.length)return b;const Le=fe.charCodeAt(Pe);if(this.column++,Le<55296){if(Le>=j||Le===Qe)return Le;switch(Le){case ke:return this.line++,this.column=0,this.positionAtNewLine=this.position,ke;case K:return fe.charCodeAt(Pe+1)===ke&&(this.i=Pe+2),this.line++,this.column=0,this.positionAtNewLine=this.position,v;default:return this.fail("disallowed character."),Le}}if(Le>56319)return Le>=57344&&Le<=65533||this.fail("disallowed character."),Le;const Ze=65536+(Le-55296)*1024+(fe.charCodeAt(Pe+1)-56320);return this.i=Pe+2,Ze>1114111&&this.fail("disallowed character."),Ze}getCode11(){const{chunk:fe,i:Pe}=this;if(this.prevI=Pe,this.i=Pe+1,Pe>=fe.length)return b;const Le=fe.charCodeAt(Pe);if(this.column++,Le<55296){if(Le>31&&Le<127||Le>159&&Le!==mt||Le===Qe)return Le;switch(Le){case ke:return this.line++,this.column=0,this.positionAtNewLine=this.position,ke;case K:{const gt=fe.charCodeAt(Pe+1);(gt===ke||gt===ot)&&(this.i=Pe+2)}case ot:case mt:return this.line++,this.column=0,this.positionAtNewLine=this.position,v;default:return this.fail("disallowed character."),Le}}if(Le>56319)return Le>=57344&&Le<=65533||this.fail("disallowed character."),Le;const Ze=65536+(Le-55296)*1024+(fe.charCodeAt(Pe+1)-56320);return this.i=Pe+2,Ze>1114111&&this.fail("disallowed character."),Ze}getCodeNorm(){const fe=this.getCode();return fe===v?ke:fe}unget(){this.i=this.prevI,this.column--}captureTo(fe){let{i:Pe}=this;const{chunk:Le}=this;for(;;){const Ze=this.getCode(),gt=Ze===v,It=gt?ke:Ze;if(It===b||fe.includes(It))return this.text+=Le.slice(Pe,this.prevI),It;gt&&(this.text+=`${Le.slice(Pe,this.prevI)}
`,Pe=this.i)}}captureToChar(fe){let{i:Pe}=this;const{chunk:Le}=this;for(;;){let Ze=this.getCode();switch(Ze){case v:this.text+=`${Le.slice(Pe,this.prevI)}
`,Pe=this.i,Ze=ke;break;case b:return this.text+=Le.slice(Pe),!1}if(Ze===fe)return this.text+=Le.slice(Pe,this.prevI),!0}}captureNameChars(){const{chunk:fe,i:Pe}=this;for(;;){const Le=this.getCode();if(Le===b)return this.name+=fe.slice(Pe),b;if(!o(Le))return this.name+=fe.slice(Pe,this.prevI),Le===v?ke:Le}}skipSpaces(){for(;;){const fe=this.getCodeNorm();if(fe===b||!n(fe))return fe}}setXMLVersion(fe){this.currentXMLVersion=fe,fe==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=w}sBeginWhitespace(){const fe=this.i,Pe=this.skipSpaces();switch(this.prevI!==fe&&(this.xmlDeclPossible=!1),Pe){case Oe:if(this.state=Y,this.text.length!==0)throw new Error("no-empty text at start");break;case b:break;default:this.unget(),this.state=H,this.xmlDeclPossible=!1}}sDoctype(){var fe;const Pe=this.captureTo(R);switch(Pe){case Be:{(fe=this.doctypeHandler)===null||fe===void 0||fe.call(this,this.text),this.text="",this.state=H,this.doctype=!0;break}case b:break;default:this.text+=String.fromCodePoint(Pe),Pe===ct?this.state=x:ne(Pe)&&(this.state=E,this.q=Pe)}}sDoctypeQuote(){const fe=this.q;this.captureToChar(fe)&&(this.text+=String.fromCodePoint(fe),this.q=null,this.state=S)}sDTD(){const fe=this.captureTo(F);fe!==b&&(this.text+=String.fromCodePoint(fe),fe===ft?this.state=S:fe===Oe?this.state=I:ne(fe)&&(this.state=C,this.q=fe))}sDTDQuoted(){const fe=this.q;this.captureToChar(fe)&&(this.text+=String.fromCodePoint(fe),this.state=x,this.q=null)}sDTDOpenWaka(){const fe=this.getCodeNorm();switch(this.text+=String.fromCodePoint(fe),fe){case q:this.state=P,this.openWakaBang="";break;case Ye:this.state=k;break;default:this.state=x}}sDTDOpenWakaBang(){const fe=String.fromCodePoint(this.getCodeNorm()),Pe=this.openWakaBang+=fe;this.text+=fe,Pe!=="-"&&(this.state=Pe==="--"?L:x,this.openWakaBang="")}sDTDComment(){this.captureToChar(ge)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const fe=this.getCodeNorm();this.text+=String.fromCodePoint(fe),this.state=fe===ge?V:L}sDTDCommentEnded(){const fe=this.getCodeNorm();this.text+=String.fromCodePoint(fe),fe===Be?this.state=x:(this.fail("malformed comment."),this.state=L)}sDTDPI(){this.captureToChar(Ye)&&(this.text+="?",this.state=$)}sDTDPIEnding(){const fe=this.getCodeNorm();this.text+=String.fromCodePoint(fe),fe===Be&&(this.state=x)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:fe}=this;const{chunk:Pe}=this;e:for(;;)switch(this.getCode()){case v:this.entity+=`${Pe.slice(fe,this.prevI)}
`,fe=this.i;break;case ee:{const{entityReturnState:Le}=this,Ze=this.entity+Pe.slice(fe,this.prevI);this.state=Le;let gt;Ze===""?(this.fail("empty entity name."),gt="&;"):(gt=this.parseEntity(Ze),this.entity=""),(Le!==H||this.textHandler!==void 0)&&(this.text+=gt);break e}case b:this.entity+=Pe.slice(fe);break e}}sOpenWaka(){const fe=this.getCode();if(s(fe))this.state=Q,this.unget(),this.xmlDeclPossible=!1;else switch(fe){case qe:this.state=Ue,this.xmlDeclPossible=!1;break;case q:this.state=de,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Ye:this.state=Ne;break;default:this.fail("disallowed character in tag name"),this.state=H,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=le,this.openWakaBang="";break;case"--":this.state=Te,this.openWakaBang="";break;case"DOCTYPE":this.state=S,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(ge)&&(this.state=De)}sCommentEnding(){var fe;const Pe=this.getCodeNorm();Pe===ge?(this.state=Ve,(fe=this.commentHandler)===null||fe===void 0||fe.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(Pe)}`,this.state=Te)}sCommentEnded(){const fe=this.getCodeNorm();fe!==Be?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(fe)}`,this.state=Te):this.state=H}sCData(){this.captureToChar(ft)&&(this.state=ue)}sCDataEnding(){const fe=this.getCodeNorm();fe===ft?this.state=Ie:(this.text+=`]${String.fromCodePoint(fe)}`,this.state=le)}sCDataEnding2(){var fe;const Pe=this.getCodeNorm();switch(Pe){case Be:{(fe=this.cdataHandler)===null||fe===void 0||fe.call(this,this.text),this.text="",this.state=H;break}case ft:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(Pe)}`,this.state=le}}sPIFirstChar(){const fe=this.getCodeNorm();this.nameStartCheck(fe)?(this.piTarget+=String.fromCodePoint(fe),this.state=we):fe===Ye||n(fe)?(this.fail("processing instruction without a target."),this.state=fe===Ye?Se:Ae):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(fe),this.state=we)}sPIRest(){const{chunk:fe,i:Pe}=this;for(;;){const Le=this.getCodeNorm();if(Le===b){this.piTarget+=fe.slice(Pe);return}if(!this.nameCheck(Le)){this.piTarget+=fe.slice(Pe,this.prevI);const Ze=Le===Ye;Ze||n(Le)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=Ze?G:z):this.state=Ze?Se:Ae:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Le));break}}}sPIBody(){if(this.text.length===0){const fe=this.getCodeNorm();fe===Ye?this.state=Se:n(fe)||(this.text=String.fromCodePoint(fe))}else this.captureToChar(Ye)&&(this.state=Se)}sPIEnding(){var fe;const Pe=this.getCodeNorm();if(Pe===Be){const{piTarget:Le}=this;Le.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(fe=this.piHandler)===null||fe===void 0||fe.call(this,{target:Le,body:this.text}),this.piTarget=this.text="",this.state=H}else Pe===Ye?this.text+="?":(this.text+=`?${String.fromCodePoint(Pe)}`,this.state=Ae);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const fe=this.skipSpaces();if(fe===Ye){this.state=G;return}fe!==b&&(this.state=M,this.name=String.fromCodePoint(fe))}sXMLDeclName(){const fe=this.captureTo(X);if(fe===Ye){this.state=G,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(n(fe)||fe===je){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=fe===je?T:B}}sXMLDeclEq(){const fe=this.getCodeNorm();if(fe===Ye){this.state=G,this.fail("XML declaration is incomplete.");return}n(fe)||(fe!==je&&this.fail("value required."),this.state=T)}sXMLDeclValueStart(){const fe=this.getCodeNorm();if(fe===Ye){this.state=G,this.fail("XML declaration is incomplete.");return}n(fe)||(ne(fe)?this.q=fe:(this.fail("value must be quoted."),this.q=j),this.state=O)}sXMLDeclValue(){const fe=this.captureTo([this.q,Ye]);if(fe===Ye){this.state=G,this.text="",this.fail("XML declaration is incomplete.");return}if(fe===b)return;const Pe=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const Le=Pe;this.xmlDecl.version=Le,/^1\.[0-9]+$/.test(Le)?this.opt.forceXMLVersion||this.setXMLVersion(Le):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(Pe)||this.fail("encoding value must match 	/^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=Pe;break;case"standalone":Pe!=="yes"&&Pe!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=Pe;break}this.name="",this.state=U}sXMLDeclSeparator(){const fe=this.getCodeNorm();if(fe===Ye){this.state=G;return}n(fe)||(this.fail("whitespace required."),this.unget()),this.state=z}sXMLDeclEnding(){var fe;this.getCodeNorm()===Be?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(fe=this.xmldeclHandler)===null||fe===void 0||fe.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=H):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var fe;const Pe=this.captureNameChars();if(Pe===b)return;const Le=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=Le.ns=Object.create(null)),(fe=this.openTagStartHandler)===null||fe===void 0||fe.call(this,Le),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),Pe){case Be:this.openTag();break;case qe:this.state=Z;break;default:n(Pe)||this.fail("disallowed character in tag name."),this.state=ie}}sOpenTagSlash(){this.getCode()===Be?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=ie)}sAttrib(){const fe=this.skipSpaces();fe!==b&&(s(fe)?(this.unget(),this.state=te):fe===Be?this.openTag():fe===qe?this.state=Z:this.fail("disallowed character in attribute name."))}sAttribName(){const fe=this.captureNameChars();fe===je?this.state=ce:n(fe)?this.state=he:fe===Be?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):fe!==b&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const fe=this.skipSpaces();switch(fe){case b:return;case je:this.state=ce;break;default:this.fail("attribute without value."),this.text="",this.name="",fe===Be?this.openTag():s(fe)?(this.unget(),this.state=te):(this.fail("disallowed character in attribute name."),this.state=ie)}}sAttribValue(){const fe=this.getCodeNorm();ne(fe)?(this.q=fe,this.state=ve):n(fe)||(this.fail("unquoted attribute value."),this.state=Ee,this.unget())}sAttribValueQuoted(){const{q:fe,chunk:Pe}=this;let{i:Le}=this;for(;;)switch(this.getCode()){case fe:this.pushAttrib(this.name,this.text+Pe.slice(Le,this.prevI)),this.name=this.text="",this.q=null,this.state=Ce;return;case re:this.text+=Pe.slice(Le,this.prevI),this.state=J,this.entityReturnState=ve;return;case ke:case v:case Qe:this.text+=`${Pe.slice(Le,this.prevI)} `,Le=this.i;break;case Oe:this.text+=Pe.slice(Le,this.prevI),this.fail("disallowed character.");return;case b:this.text+=Pe.slice(Le);return}}sAttribValueClosed(){const fe=this.getCodeNorm();n(fe)?this.state=ie:fe===Be?this.openTag():fe===qe?this.state=Z:s(fe)?(this.fail("no whitespace between attributes."),this.unget(),this.state=te):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const fe=this.captureTo(me);switch(fe){case re:this.state=J,this.entityReturnState=Ee;break;case Oe:this.fail("disallowed character.");break;case b:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",fe===Be?this.openTag():this.state=ie}}sCloseTag(){const fe=this.captureNameChars();fe===Be?this.closeTag():n(fe)?this.state=Fe:fe!==b&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Be:this.closeTag();break;case b:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:fe,forbiddenState:Pe}=this;const{chunk:Le,textHandler:Ze}=this;e:for(;;)switch(this.getCode()){case Oe:{if(this.state=Y,Ze!==void 0){const{text:gt}=this,It=Le.slice(fe,this.prevI);gt.length!==0?(Ze(gt+It),this.text=""):It.length!==0&&Ze(It)}Pe=et;break e}case re:this.state=J,this.entityReturnState=H,Ze!==void 0&&(this.text+=Le.slice(fe,this.prevI)),Pe=et;break e;case ft:switch(Pe){case et:Pe=dt;break;case dt:Pe=it;break;case it:break;default:throw new Error("impossible state")}break;case Be:Pe===it&&this.fail('the string "]]>" is disallowed in char data.'),Pe=et;break;case v:Ze!==void 0&&(this.text+=`${Le.slice(fe,this.prevI)}
`),fe=this.i,Pe=et;break;case b:Ze!==void 0&&(this.text+=Le.slice(fe));break e;default:Pe=et}this.forbiddenState=Pe}handleTextOutsideRoot(){let{i:fe}=this;const{chunk:Pe,textHandler:Le}=this;let Ze=!1;e:for(;;){const gt=this.getCode();switch(gt){case Oe:{if(this.state=Y,Le!==void 0){const{text:It}=this,Dt=Pe.slice(fe,this.prevI);It.length!==0?(Le(It+Dt),this.text=""):Dt.length!==0&&Le(Dt)}break e}case re:this.state=J,this.entityReturnState=H,Le!==void 0&&(this.text+=Pe.slice(fe,this.prevI)),Ze=!0;break e;case v:Le!==void 0&&(this.text+=`${Pe.slice(fe,this.prevI)}
`),fe=this.i;break;case b:Le!==void 0&&(this.text+=Pe.slice(fe));break e;default:n(gt)||(Ze=!0)}}Ze&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(fe,Pe){var Le;const{prefix:Ze,local:gt}=this.qname(fe),It={name:fe,prefix:Ze,local:gt,value:Pe};if(this.attribList.push(It),(Le=this.attributeHandler)===null||Le===void 0||Le.call(this,It),Ze==="xmlns"){const Dt=Pe.trim();this.currentXMLVersion==="1.0"&&Dt===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[gt]=Dt,ye(this,gt,Dt)}else if(fe==="xmlns"){const Dt=Pe.trim();this.topNS[""]=Dt,ye(this,"",Dt)}}pushAttribPlain(fe,Pe){var Le;const Ze={name:fe,value:Pe};this.attribList.push(Ze),(Le=this.attributeHandler)===null||Le===void 0||Le.call(this,Ze)}end(){var fe,Pe;this.sawRoot||this.fail("document must contain a root element.");const{tags:Le}=this;for(;Le.length>0;){const gt=Le.pop();this.fail(`unclosed tag: ${gt.name}`)}this.state!==_&&this.state!==H&&this.fail("unexpected end.");const{text:Ze}=this;return Ze.length!==0&&((fe=this.textHandler)===null||fe===void 0||fe.call(this,Ze),this.text=""),this._closed=!0,(Pe=this.endHandler)===null||Pe===void 0||Pe.call(this),this._init(),this}resolve(fe){var Pe,Le;let Ze=this.topNS[fe];if(Ze!==void 0)return Ze;const{tags:gt}=this;for(let It=gt.length-1;It>=0;It--)if(Ze=gt[It].ns[fe],Ze!==void 0)return Ze;return Ze=this.ns[fe],Ze!==void 0?Ze:(Le=(Pe=this.opt).resolvePrefix)===null||Le===void 0?void 0:Le.call(Pe,fe)}qname(fe){const Pe=fe.indexOf(":");if(Pe===-1)return{prefix:"",local:fe};const Le=fe.slice(Pe+1),Ze=fe.slice(0,Pe);return(Ze===""||Le===""||Le.includes(":"))&&this.fail(`malformed name: ${fe}.`),{prefix:Ze,local:Le}}processAttribsNS(){var fe;const{attribList:Pe}=this,Le=this.tag;{const{prefix:It,local:Dt}=this.qname(Le.name);Le.prefix=It,Le.local=Dt;const on=Le.uri=(fe=this.resolve(It))!==null&&fe!==void 0?fe:"";It!==""&&(It==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),on===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(It)}.`),Le.uri=It))}if(Pe.length===0)return;const{attributes:Ze}=Le,gt=new Set;for(const It of Pe){const{name:Dt,prefix:on,local:Sa}=It;let jn,dr;on===""?(jn=Dt==="xmlns"?m:"",dr=Dt):(jn=this.resolve(on),jn===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(on)}.`),jn=on),dr=`{${jn}}${Sa}`),gt.has(dr)&&this.fail(`duplicate attribute: ${dr}.`),gt.add(dr),It.uri=jn,Ze[Dt]=It}this.attribList=[]}processAttribsPlain(){const{attribList:fe}=this,Pe=this.tag.attributes;for(const{name:Le,value:Ze}of fe)Pe[Le]!==void 0&&this.fail(`duplicate attribute: ${Le}.`),Pe[Le]=Ze;this.attribList=[]}openTag(){var fe;this.processAttribs();const{tags:Pe}=this,Le=this.tag;Le.isSelfClosing=!1,(fe=this.openTagHandler)===null||fe===void 0||fe.call(this,Le),Pe.push(Le),this.state=H,this.name=""}openSelfClosingTag(){var fe,Pe,Le;this.processAttribs();const{tags:Ze}=this,gt=this.tag;gt.isSelfClosing=!0,(fe=this.openTagHandler)===null||fe===void 0||fe.call(this,gt),(Pe=this.closeTagHandler)===null||Pe===void 0||Pe.call(this,gt),(this.tag=(Le=Ze[Ze.length-1])!==null&&Le!==void 0?Le:null)===null&&(this.closedRoot=!0),this.state=H,this.name=""}closeTag(){const{tags:fe,name:Pe}=this;if(this.state=H,this.name="",Pe===""){this.fail("weird empty close tag."),this.text+="</>";return}const Le=this.closeTagHandler;let Ze=fe.length;for(;Ze-- >0;){const gt=this.tag=fe.pop();if(this.topNS=gt.ns,Le==null||Le(gt),gt.name===Pe)break;this.fail("unexpected close tag.")}Ze===0?this.closedRoot=!0:Ze<0&&(this.fail(`unmatched closing tag: ${Pe}.`),this.text+=`</${Pe}>`)}parseEntity(fe){if(fe[0]!=="#"){const Le=this.ENTITIES[fe];return Le!==void 0?Le:(this.fail(this.isName(fe)?"undefined entity.":"disallowed character in entity name."),`&${fe};`)}let Pe=NaN;return fe[1]==="x"&&/^#x[0-9a-f]+$/i.test(fe)?Pe=parseInt(fe.slice(2),16):/^#[0-9]+$/.test(fe)&&(Pe=parseInt(fe.slice(1),10)),this.isChar(Pe)?String.fromCodePoint(Pe):(this.fail("malformed character entity."),`&${fe};`)}}return mu.SaxesParser=Kr,mu}var rp={},a9;function cOe(){if(a9)return rp;a9=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.ParseError=void 0;let e=class extends Error{constructor(r,n){const a=r.saxParser;super(r.trackPosition?`Line ${a.line} column ${a.column+1}: ${n}`:n)}};return rp.ParseError=e,rp}var KA={},JA={},s9;function lOe(){return s9||(s9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateIri=e.IriValidationStrategy=void 0;function t(){const u="[!$&'()*+,;=]",l="%[a-fA-F0-9]{2}",c="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",d=`${c}\\.${c}\\.${c}\\.${c}`,f="[a-fA-F0-9]{1,4}",h=`(${f}:${f}|${d})`,p=`((${f}:){6}${h}|::(${f}:){5}${h}|(${f})?::(${f}:){4}${h}|((${f}:){0,1}${f})?::(${f}:){3}${h}|((${f}:){0,2}${f})?::(${f}:){2}${h}|((${f}:){0,3}${f})?::${f}:${h}|((${f}:){0,4}${f})?::${h}|((${f}:){0,5}${f})?::${f}|((${f}:){0,6}${f})?::)`,m=`v[a-fA-F0-9]+\\.(${u}|${u}|":)+`,y=`\\[(${p}|${m})\\]`,g="[0-9]*",b="[a-zA-Z][a-zA-Z0-9+\\-.]*",_="[-󰀀-󿿽􀀀-􏿽]",E="[a-zA-Z0-9\\-._~ -퟿豈-﷏ﷰ-￯𐀀-🿽𠀀-𯿽𰀀-𿿽񀀀-񏿽񐀀-񟿽񠀀-񯿽񰀀-񿿽򀀀-򏿽򐀀-򟿽򠀀-򯿽򰀀-򿿽󀀀-󏿽󐀀-󟿽󡀀-󯿽]",x=`(${E}|${l}|${u}|[:@])*`,C=`(${x}|[\\/?])*`,I=`(${x}|${_}|[\\/?])*`,P=`(${x})+`,L=`(${x})*`,D="",V=`${P}(\\/${L})*`,k=`\\/(${P}(\\/${L})*)?`,$=`(\\/${L})*`,H=`(${E}|${l}|${u})*`,J=`(${y}|${d}|${H})`,Te=`(\\/\\/${`(${`(${E}|${l}|${u}|:)*`}@)?${J}(:${g})?`}${$}|${k}|${V}|${D})`,De=`^${b}:${Te}(\\?${I})?(#${C})?$`;return new RegExp(De,"u")}const r=t(),n=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var a;(function(o){o.Strict="strict",o.Pragmatic="pragmatic",o.None="none"})(a=e.IriValidationStrategy||(e.IriValidationStrategy={}));function s(o,u=a.Strict){switch(u){case a.Strict:return r.test(o)?void 0:new Error(`Invalid IRI according to RFC 3987: '${o}'`);case a.Pragmatic:return n.test(o)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${o}'`);case a.None:return;default:return new Error(`Not supported validation strategy "${u}"`)}}e.validateIri=s}(JA)),JA}var o9;function dOe(){return o9||(o9=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(lOe(),e)}(KA)),KA}var u9;function fOe(){if(u9)return yu;u9=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.ParseType=yu.RdfXmlParser=void 0;const e=va(),t=mY(),r=Lt,n=cOe(),a=xt,s=dOe();let o=class Cr extends r.Transform{constructor(c){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},c&&(Object.assign(this,c),this.options=c),this.dataFactory||(this.dataFactory=new a.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?s.IriValidationStrategy.Pragmatic:s.IriValidationStrategy.None),this.saxParser=new t.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(c){const d=new r.PassThrough({readableObjectMode:!0});c.on("error",h=>f.emit("error",h)),c.on("data",h=>d.push(h)),c.on("end",()=>d.push(null));const f=d.pipe(new Cr(this.options));return f}_transform(c,d,f){try{this.saxParser.write(c)}catch(h){return f(h)}f()}newParseError(c){return new n.ParseError(this,c)}valueToUri(c,d){return this.uriToNamedNode((0,e.resolve)(c,d.baseIRI))}uriToNamedNode(c){const d=(0,s.validateIri)(c,this.iriValidationStrategy);if(d instanceof Error)throw this.newParseError(d.message);return this.dataFactory.namedNode(c)}validateNcname(c){if(!Cr.NCNAME_MATCHER.test(c))throw this.newParseError(`Not a valid NCName: ${c}`)}attachSaxListeners(){this.saxParser.on("error",c=>this.emit("error",c)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(c){const d=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let f=u.RESOURCE;if(d&&(d.hadChildren=!0,f=d.childrenParseType),d&&d.childrenStringTags){const p=c.name;let m="";for(const v in c.attributes)m+=` ${v}="${c.attributes[v].value}"`;const g=`<${`${p}${m}`}>`;d.childrenStringTags.push(g);const b={childrenStringTags:d.childrenStringTags};b.childrenStringEmitClosingTag=`</${p}>`,this.activeTagStack.push(b);return}const h={};d?(h.language=d.language,h.baseIRI=d.baseIRI):h.baseIRI=this.baseIRI,this.activeTagStack.push(h),f===u.RESOURCE?this.onTagResource(c,h,d,!d):this.onTagProperty(c,h,d)}onTagResource(c,d,f,h){d.childrenParseType=u.PROPERTY;let p=!0;if(c.uri===Cr.RDF){if(!h&&Cr.FORBIDDEN_NODE_ELEMENTS.indexOf(c.local)>=0)throw this.newParseError(`Illegal node element name: ${c.local}`);switch(c.local){case"RDF":d.childrenParseType=u.RESOURCE;case"Description":p=!1}}const m=[],y=[];let g=null,b=!1,v=!1,_=null;for(const w in c.attributes){const S=c.attributes[w];if(f&&S.uri===Cr.RDF)switch(S.local){case"about":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${g} where found.`);g=S.value;continue;case"ID":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${g} where found.`);this.validateNcname(S.value),g="#"+S.value,b=!0;continue;case"nodeID":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${g} where found.`);this.validateNcname(S.value),g=S.value,v=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":_=S.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(S.uri===Cr.XML){if(S.local==="lang"){d.language=S.value===""?null:S.value.toLowerCase();continue}else if(S.local==="base"){d.baseIRI=(0,e.resolve)(S.value,d.baseIRI);continue}}S.prefix!=="xml"&&S.prefix!=="xmlns"&&(S.prefix!==""||S.local!=="xmlns")&&S.uri&&(m.push(this.uriToNamedNode(S.uri+S.local)),y.push(S.value))}if(g!==null&&(d.subject=v?this.dataFactory.blankNode(g):this.valueToUri(g,d),b&&this.claimNodeId(d.subject)),d.subject||(d.subject=this.dataFactory.blankNode()),p){const w=this.uriToNamedNode(c.uri+c.local);this.emitTriple(d.subject,this.dataFactory.namedNode(Cr.RDF+"type"),w,f?f.reifiedStatementId:null)}if(f){if(f.predicate)if(f.childrenCollectionSubject){const w=this.dataFactory.blankNode();this.emitTriple(f.childrenCollectionSubject,f.childrenCollectionPredicate,w,f.reifiedStatementId),this.emitTriple(w,this.dataFactory.namedNode(Cr.RDF+"first"),d.subject,d.reifiedStatementId),f.childrenCollectionSubject=w,f.childrenCollectionPredicate=this.dataFactory.namedNode(Cr.RDF+"rest")}else{this.emitTriple(f.subject,f.predicate,d.subject,f.reifiedStatementId);for(let w=0;w<f.predicateSubPredicates.length;w++)this.emitTriple(d.subject,f.predicateSubPredicates[w],f.predicateSubObjects[w],null);f.predicateSubPredicates=[],f.predicateSubObjects=[],f.predicateEmitted=!0}for(let w=0;w<m.length;w++){const S=this.dataFactory.literal(y[w],d.datatype||d.language);this.emitTriple(d.subject,m[w],S,f.reifiedStatementId)}_&&this.emitTriple(d.subject,this.dataFactory.namedNode(Cr.RDF+"type"),this.uriToNamedNode(_),null)}}onTagProperty(c,d,f){if(d.childrenParseType=u.RESOURCE,d.subject=f.subject,c.uri===Cr.RDF&&c.local==="li"?(f.listItemCounter||(f.listItemCounter=1),d.predicate=this.uriToNamedNode(c.uri+"_"+f.listItemCounter++)):d.predicate=this.uriToNamedNode(c.uri+c.local),c.uri===Cr.RDF&&Cr.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(c.local)>=0)throw this.newParseError(`Illegal property element name: ${c.local}`);d.predicateSubPredicates=[],d.predicateSubObjects=[];let h=!1,p=!1,m=null,y=!0;const g=[],b=[];for(const v in c.attributes){const _=c.attributes[v];if(_.uri===Cr.RDF)switch(_.local){case"resource":if(m)throw this.newParseError(`Found both rdf:resource (${_.value}) and rdf:nodeID (${m}).`);if(h)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${_.value})`);d.hadChildren=!0,m=_.value,y=!1;continue;case"datatype":if(p)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${_.value}).`);if(h)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${_.value})`);d.datatype=this.valueToUri(_.value,d);continue;case"nodeID":if(p)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${_.value}).`);if(d.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${_.value}).`);if(h)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${_.value})`);this.validateNcname(_.value),d.hadChildren=!0,m=_.value,y=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(p)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(d.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${d.datatype.value})`);if(m)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${m})`);if(_.value==="Resource"){h=!0,d.childrenParseType=u.PROPERTY;const w=this.dataFactory.blankNode();this.emitTriple(d.subject,d.predicate,w,d.reifiedStatementId),d.subject=w,d.predicate=null}else _.value==="Collection"?(h=!0,d.hadChildren=!0,d.childrenCollectionSubject=d.subject,d.childrenCollectionPredicate=d.predicate,y=!1):_.value==="Literal"&&(h=!0,d.childrenTagsToString=!0,d.childrenStringTags=[]);continue;case"ID":this.validateNcname(_.value),d.reifiedStatementId=this.valueToUri("#"+_.value,d),this.claimNodeId(d.reifiedStatementId);continue}else if(_.uri===Cr.XML&&_.local==="lang"){d.language=_.value===""?null:_.value.toLowerCase();continue}if(_.prefix!=="xml"&&_.prefix!=="xmlns"&&(_.prefix!==""||_.local!=="xmlns")&&_.uri){if(h||d.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${_.value}`);d.hadChildren=!0,p=!0,g.push(this.uriToNamedNode(_.uri+_.local)),b.push(this.dataFactory.literal(_.value,d.datatype||d.language))}}if(m!==null){const v=d.subject;d.subject=y?this.dataFactory.blankNode(m):this.valueToUri(m,d),this.emitTriple(v,d.predicate,d.subject,d.reifiedStatementId);for(let _=0;_<g.length;_++)this.emitTriple(d.subject,g[_],b[_],null);d.predicateEmitted=!0}else y&&(d.predicateSubPredicates=g,d.predicateSubObjects=b,d.predicateEmitted=!1)}emitTriple(c,d,f,h){this.push(this.dataFactory.quad(c,d,f,this.defaultGraph)),h&&(this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(Cr.RDF+"type"),this.dataFactory.namedNode(Cr.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(Cr.RDF+"subject"),c,this.defaultGraph)),this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(Cr.RDF+"predicate"),d,this.defaultGraph)),this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(Cr.RDF+"object"),f,this.defaultGraph)))}claimNodeId(c){if(!this.allowDuplicateRdfIds){if(this.nodeIds[c.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${c.value}'.`);this.nodeIds[c.value]=!0}}onText(c){const d=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;d&&(d.childrenStringTags?d.childrenStringTags.push(c):d.predicate&&(d.text=c))}onCloseTag(){const c=this.activeTagStack.pop();if(c.childrenStringEmitClosingTag&&c.childrenStringTags.push(c.childrenStringEmitClosingTag),c.childrenTagsToString&&(c.datatype=this.dataFactory.namedNode(Cr.RDF+"XMLLiteral"),c.text=c.childrenStringTags.join(""),c.hadChildren=!1),c.childrenCollectionSubject)this.emitTriple(c.childrenCollectionSubject,c.childrenCollectionPredicate,this.dataFactory.namedNode(Cr.RDF+"nil"),c.reifiedStatementId);else if(c.predicate){if(!c.hadChildren&&c.childrenParseType!==u.PROPERTY)this.emitTriple(c.subject,c.predicate,this.dataFactory.literal(c.text||"",c.datatype||c.language),c.reifiedStatementId);else if(!c.predicateEmitted){const d=this.dataFactory.blankNode();this.emitTriple(c.subject,c.predicate,d,c.reifiedStatementId);for(let f=0;f<c.predicateSubPredicates.length;f++)this.emitTriple(d,c.predicateSubPredicates[f],c.predicateSubObjects[f],null)}}}onDoctype(c){c.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(d,f,h)=>(this.saxParser.ENTITIES[f]=h,""))}};yu.RdfXmlParser=o,o.MIME_TYPE="application/rdf+xml",o.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o.XML="http://www.w3.org/XML/1998/namespace",o.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],o.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],o.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var u;return function(l){l[l.RESOURCE=0]="RESOURCE",l[l.PROPERTY=1]="PROPERTY"}(u||(yu.ParseType=u={})),yu}var c9;function hOe(){return c9||(c9=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(fOe(),e)}(QA)),QA}var l9;function pOe(){if(l9)return tp;l9=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.ActorRdfParseRdfXml=void 0;const e=xd(),t=hOe();let r=class extends e.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a){var o;a.data.on("error",u=>s.emit("error",u));const s=a.data.pipe(new t.RdfXmlParser({baseIRI:(o=a.metadata)==null?void 0:o.baseIRI}));return{data:s,metadata:{triples:!0}}}};return tp.ActorRdfParseRdfXml=r,tp}var d9;function yOe(){return d9||(d9=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(pOe(),e)}(HA)),HA}var XA={},np={},YA={},ZA={},f9;function mOe(){return f9||(f9=1,Object.defineProperty(ZA,"__esModule",{value:!0})),ZA}var e3={},h9;function gOe(){return h9||(h9=1,Object.defineProperty(e3,"__esModule",{value:!0})),e3}var t3={},p9;function _Oe(){return p9||(p9=1,Object.defineProperty(t3,"__esModule",{value:!0})),t3}var ip={},r3={},ap={},n3={},i3={},z1={},y9;function bOe(){return y9||(y9=1,Object.defineProperty(z1,"__esModule",{value:!0}),z1.default=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(function(e){return e.charCodeAt(0)}))),z1}var G1={},m9;function vOe(){return m9||(m9=1,Object.defineProperty(G1,"__esModule",{value:!0}),G1.default=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(function(e){return e.charCodeAt(0)}))),G1}var a3={},g9;function _9(){return g9||(g9=1,function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);e.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(s){var o="";return s>65535&&(s-=65536,o+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),o+=String.fromCharCode(s),o};function n(s){var o;return s>=55296&&s<=57343||s>1114111?65533:(o=r.get(s))!==null&&o!==void 0?o:s}e.replaceCodePoint=n;function a(s){return(0,e.fromCodePoint)(n(s))}e.default=a}(a3)),a3}var b9;function Yl(){return b9||(b9=1,function(e){var t=N&&N.__createBinding||(Object.create?function(L,D,V,k){k===void 0&&(k=V);var $=Object.getOwnPropertyDescriptor(D,V);(!$||("get"in $?!D.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return D[V]}}),Object.defineProperty(L,k,$)}:function(L,D,V,k){k===void 0&&(k=V),L[k]=D[V]}),r=N&&N.__setModuleDefault||(Object.create?function(L,D){Object.defineProperty(L,"default",{enumerable:!0,value:D})}:function(L,D){L.default=D}),n=N&&N.__importStar||function(L){if(L&&L.__esModule)return L;var D={};if(L!=null)for(var V in L)V!=="default"&&Object.prototype.hasOwnProperty.call(L,V)&&t(D,L,V);return r(D,L),D},a=N&&N.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTMLAttribute=e.decodeHTML=e.determineBranch=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var s=a(bOe());e.htmlDecodeTree=s.default;var o=a(vOe());e.xmlDecodeTree=o.default;var u=n(_9());e.decodeCodePoint=u.default;var l=_9();Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return l.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return l.fromCodePoint}});var c;(function(L){L[L.NUM=35]="NUM",L[L.SEMI=59]="SEMI",L[L.EQUALS=61]="EQUALS",L[L.ZERO=48]="ZERO",L[L.NINE=57]="NINE",L[L.LOWER_A=97]="LOWER_A",L[L.LOWER_F=102]="LOWER_F",L[L.LOWER_X=120]="LOWER_X",L[L.LOWER_Z=122]="LOWER_Z",L[L.UPPER_A=65]="UPPER_A",L[L.UPPER_F=70]="UPPER_F",L[L.UPPER_Z=90]="UPPER_Z"})(c||(c={}));var d=32,f;(function(L){L[L.VALUE_LENGTH=49152]="VALUE_LENGTH",L[L.BRANCH_LENGTH=16256]="BRANCH_LENGTH",L[L.JUMP_TABLE=127]="JUMP_TABLE"})(f=e.BinTrieFlags||(e.BinTrieFlags={}));function h(L){return L>=c.ZERO&&L<=c.NINE}function p(L){return L>=c.UPPER_A&&L<=c.UPPER_F||L>=c.LOWER_A&&L<=c.LOWER_F}function m(L){return L>=c.UPPER_A&&L<=c.UPPER_Z||L>=c.LOWER_A&&L<=c.LOWER_Z||h(L)}function y(L){return L===c.EQUALS||m(L)}var g;(function(L){L[L.EntityStart=0]="EntityStart",L[L.NumericStart=1]="NumericStart",L[L.NumericDecimal=2]="NumericDecimal",L[L.NumericHex=3]="NumericHex",L[L.NamedEntity=4]="NamedEntity"})(g||(g={}));var b;(function(L){L[L.Legacy=0]="Legacy",L[L.Strict=1]="Strict",L[L.Attribute=2]="Attribute"})(b=e.DecodingMode||(e.DecodingMode={}));var v=function(){function L(D,V,k){this.decodeTree=D,this.emitCodePoint=V,this.errors=k,this.state=g.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=b.Strict}return L.prototype.startEntity=function(D){this.decodeMode=D,this.state=g.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},L.prototype.write=function(D,V){switch(this.state){case g.EntityStart:return D.charCodeAt(V)===c.NUM?(this.state=g.NumericStart,this.consumed+=1,this.stateNumericStart(D,V+1)):(this.state=g.NamedEntity,this.stateNamedEntity(D,V));case g.NumericStart:return this.stateNumericStart(D,V);case g.NumericDecimal:return this.stateNumericDecimal(D,V);case g.NumericHex:return this.stateNumericHex(D,V);case g.NamedEntity:return this.stateNamedEntity(D,V)}},L.prototype.stateNumericStart=function(D,V){return V>=D.length?-1:(D.charCodeAt(V)|d)===c.LOWER_X?(this.state=g.NumericHex,this.consumed+=1,this.stateNumericHex(D,V+1)):(this.state=g.NumericDecimal,this.stateNumericDecimal(D,V))},L.prototype.addToNumericResult=function(D,V,k,$){if(V!==k){var H=k-V;this.result=this.result*Math.pow($,H)+parseInt(D.substr(V,H),$),this.consumed+=H}},L.prototype.stateNumericHex=function(D,V){for(var k=V;V<D.length;){var $=D.charCodeAt(V);if(h($)||p($))V+=1;else return this.addToNumericResult(D,k,V,16),this.emitNumericEntity($,3)}return this.addToNumericResult(D,k,V,16),-1},L.prototype.stateNumericDecimal=function(D,V){for(var k=V;V<D.length;){var $=D.charCodeAt(V);if(h($))V+=1;else return this.addToNumericResult(D,k,V,10),this.emitNumericEntity($,2)}return this.addToNumericResult(D,k,V,10),-1},L.prototype.emitNumericEntity=function(D,V){var k;if(this.consumed<=V)return(k=this.errors)===null||k===void 0||k.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(D===c.SEMI)this.consumed+=1;else if(this.decodeMode===b.Strict)return 0;return this.emitCodePoint((0,u.replaceCodePoint)(this.result),this.consumed),this.errors&&(D!==c.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},L.prototype.stateNamedEntity=function(D,V){for(var k=this.decodeTree,$=k[this.treeIndex],H=($&f.VALUE_LENGTH)>>14;V<D.length;V++,this.excess++){var J=D.charCodeAt(V);if(this.treeIndex=w(k,$,this.treeIndex+Math.max(1,H),J),this.treeIndex<0)return this.result===0||this.decodeMode===b.Attribute&&(H===0||y(J))?0:this.emitNotTerminatedNamedEntity();if($=k[this.treeIndex],H=($&f.VALUE_LENGTH)>>14,H!==0){if(J===c.SEMI)return this.emitNamedEntityData(this.treeIndex,H,this.consumed+this.excess);this.decodeMode!==b.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},L.prototype.emitNotTerminatedNamedEntity=function(){var D,V=this,k=V.result,$=V.decodeTree,H=($[k]&f.VALUE_LENGTH)>>14;return this.emitNamedEntityData(k,H,this.consumed),(D=this.errors)===null||D===void 0||D.missingSemicolonAfterCharacterReference(),this.consumed},L.prototype.emitNamedEntityData=function(D,V,k){var $=this.decodeTree;return this.emitCodePoint(V===1?$[D]&~f.VALUE_LENGTH:$[D+1],k),V===3&&this.emitCodePoint($[D+2],k),k},L.prototype.end=function(){var D;switch(this.state){case g.NamedEntity:return this.result!==0&&(this.decodeMode!==b.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case g.NumericDecimal:return this.emitNumericEntity(0,2);case g.NumericHex:return this.emitNumericEntity(0,3);case g.NumericStart:return(D=this.errors)===null||D===void 0||D.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case g.EntityStart:return 0}},L}();e.EntityDecoder=v;function _(L){var D="",V=new v(L,function(k){return D+=(0,u.fromCodePoint)(k)});return function($,H){for(var J=0,Y=0;(Y=$.indexOf("&",Y))>=0;){D+=$.slice(J,Y),V.startEntity(H);var de=V.write($,Y+1);if(de<0){J=Y+V.end();break}J=Y+de,Y=de===0?J+1:J}var Te=D+$.slice(J);return D="",Te}}function w(L,D,V,k){var $=(D&f.BRANCH_LENGTH)>>7,H=D&f.JUMP_TABLE;if($===0)return H!==0&&k===H?V:-1;if(H){var J=k-H;return J<0||J>=$?-1:L[V+J]-1}for(var Y=V,de=Y+$-1;Y<=de;){var Te=Y+de>>>1,De=L[Te];if(De<k)Y=Te+1;else if(De>k)de=Te-1;else return L[Te+$]}return-1}e.determineBranch=w;var S=_(s.default),E=_(o.default);function x(L,D){return D===void 0&&(D=b.Legacy),S(L,D)}e.decodeHTML=x;function C(L){return S(L,b.Attribute)}e.decodeHTMLAttribute=C;function I(L){return S(L,b.Strict)}e.decodeHTMLStrict=I;function P(L){return E(L,b.Strict)}e.decodeXML=P}(i3)),i3}var v9;function gY(){return v9||(v9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=Yl(),r;(function(h){h[h.Tab=9]="Tab",h[h.NewLine=10]="NewLine",h[h.FormFeed=12]="FormFeed",h[h.CarriageReturn=13]="CarriageReturn",h[h.Space=32]="Space",h[h.ExclamationMark=33]="ExclamationMark",h[h.Number=35]="Number",h[h.Amp=38]="Amp",h[h.SingleQuote=39]="SingleQuote",h[h.DoubleQuote=34]="DoubleQuote",h[h.Dash=45]="Dash",h[h.Slash=47]="Slash",h[h.Zero=48]="Zero",h[h.Nine=57]="Nine",h[h.Semi=59]="Semi",h[h.Lt=60]="Lt",h[h.Eq=61]="Eq",h[h.Gt=62]="Gt",h[h.Questionmark=63]="Questionmark",h[h.UpperA=65]="UpperA",h[h.LowerA=97]="LowerA",h[h.UpperF=70]="UpperF",h[h.LowerF=102]="LowerF",h[h.UpperZ=90]="UpperZ",h[h.LowerZ=122]="LowerZ",h[h.LowerX=120]="LowerX",h[h.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(h){h[h.Text=1]="Text",h[h.BeforeTagName=2]="BeforeTagName",h[h.InTagName=3]="InTagName",h[h.InSelfClosingTag=4]="InSelfClosingTag",h[h.BeforeClosingTagName=5]="BeforeClosingTagName",h[h.InClosingTagName=6]="InClosingTagName",h[h.AfterClosingTagName=7]="AfterClosingTagName",h[h.BeforeAttributeName=8]="BeforeAttributeName",h[h.InAttributeName=9]="InAttributeName",h[h.AfterAttributeName=10]="AfterAttributeName",h[h.BeforeAttributeValue=11]="BeforeAttributeValue",h[h.InAttributeValueDq=12]="InAttributeValueDq",h[h.InAttributeValueSq=13]="InAttributeValueSq",h[h.InAttributeValueNq=14]="InAttributeValueNq",h[h.BeforeDeclaration=15]="BeforeDeclaration",h[h.InDeclaration=16]="InDeclaration",h[h.InProcessingInstruction=17]="InProcessingInstruction",h[h.BeforeComment=18]="BeforeComment",h[h.CDATASequence=19]="CDATASequence",h[h.InSpecialComment=20]="InSpecialComment",h[h.InCommentLike=21]="InCommentLike",h[h.BeforeSpecialS=22]="BeforeSpecialS",h[h.SpecialStartSequence=23]="SpecialStartSequence",h[h.InSpecialTag=24]="InSpecialTag",h[h.BeforeEntity=25]="BeforeEntity",h[h.BeforeNumericEntity=26]="BeforeNumericEntity",h[h.InNamedEntity=27]="InNamedEntity",h[h.InNumericEntity=28]="InNumericEntity",h[h.InHexEntity=29]="InHexEntity"})(n||(n={}));function a(h){return h===r.Space||h===r.NewLine||h===r.Tab||h===r.FormFeed||h===r.CarriageReturn}function s(h){return h===r.Slash||h===r.Gt||a(h)}function o(h){return h>=r.Zero&&h<=r.Nine}function u(h){return h>=r.LowerA&&h<=r.LowerZ||h>=r.UpperA&&h<=r.UpperZ}function l(h){return h>=r.UpperA&&h<=r.UpperF||h>=r.LowerA&&h<=r.LowerF}var c;(function(h){h[h.NoValue=0]="NoValue",h[h.Unquoted=1]="Unquoted",h[h.Single=2]="Single",h[h.Double=3]="Double"})(c=e.QuoteType||(e.QuoteType={}));var d={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},f=function(){function h(p,m){var y=p.xmlMode,g=y===void 0?!1:y,b=p.decodeEntities,v=b===void 0?!0:b;this.cbs=m,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=g,this.decodeEntities=v,this.entityTrie=g?t.xmlDecodeTree:t.htmlDecodeTree}return h.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},h.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},h.prototype.end=function(){this.running&&this.finish()},h.prototype.pause=function(){this.running=!1},h.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},h.prototype.getIndex=function(){return this.index},h.prototype.getSectionStart=function(){return this.sectionStart},h.prototype.stateText=function(p){p===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity)},h.prototype.stateSpecialStartSequence=function(p){var m=this.sequenceIndex===this.currentSequence.length,y=m?s(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!y)this.isSpecial=!1;else if(!m){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(p)},h.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===r.Gt||a(p)){var m=this.index-this.currentSequence.length;if(this.sectionStart<m){var y=this.index;this.index=m,this.cbs.ontext(this.sectionStart,m),this.index=y}this.isSpecial=!1,this.sectionStart=m+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===d.TitleEnd?this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===r.Lt)},h.prototype.stateCDATASequence=function(p){p===d.Cdata[this.sequenceIndex]?++this.sequenceIndex===d.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=d.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(p))},h.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},h.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},h.prototype.isTagStartChar=function(p){return this.xmlMode?!s(p):u(p)},h.prototype.startSpecial=function(p,m){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=m,this.state=n.SpecialStartSequence},h.prototype.stateBeforeTagName=function(p){if(p===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var m=p|32;this.sectionStart=this.index,!this.xmlMode&&m===d.TitleEnd[2]?this.startSpecial(d.TitleEnd,3):this.state=!this.xmlMode&&m===d.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else p===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(p))},h.prototype.stateInTagName=function(p){s(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateBeforeClosingTagName=function(p){a(p)||(p===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(p)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},h.prototype.stateInClosingTagName=function(p){(p===r.Gt||a(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(p))},h.prototype.stateAfterClosingTagName=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeAttributeName=function(p){p===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===r.Slash?this.state=n.InSelfClosingTag:a(p)||(this.state=n.InAttributeName,this.sectionStart=this.index)},h.prototype.stateInSelfClosingTag=function(p){p===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(p)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateInAttributeName=function(p){(p===r.Eq||s(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(p))},h.prototype.stateAfterAttributeName=function(p){p===r.Eq?this.state=n.BeforeAttributeValue:p===r.Slash||p===r.Gt?(this.cbs.onattribend(c.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):a(p)||(this.cbs.onattribend(c.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},h.prototype.stateBeforeAttributeValue=function(p){p===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):p===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(p)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},h.prototype.handleInAttributeValue=function(p,m){p===m||!this.decodeEntities&&this.fastForwardTo(m)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(m===r.DoubleQuote?c.Double:c.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},h.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,r.DoubleQuote)},h.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,r.SingleQuote)},h.prototype.stateInAttributeValueNoQuotes=function(p){a(p)||p===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(c.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},h.prototype.stateBeforeDeclaration=function(p){p===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=p===r.Dash?n.BeforeComment:n.InDeclaration},h.prototype.stateInDeclaration=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateInProcessingInstruction=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeComment=function(p){p===r.Dash?(this.state=n.InCommentLike,this.currentSequence=d.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},h.prototype.stateInSpecialComment=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeSpecialS=function(p){var m=p|32;m===d.ScriptEnd[3]?this.startSpecial(d.ScriptEnd,4):m===d.StyleEnd[3]?this.startSpecial(d.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(p))},h.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===r.Number?this.state=n.BeforeNumericEntity:p===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(p))},h.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var m=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(m){var y=(m>>14)-1;if(!this.allowLegacyEntity()&&p!==r.Semi)this.trieIndex+=y;else{var g=this.index-this.entityExcess+1;g>this.sectionStart&&this.emitPartial(this.sectionStart,g),this.entityResult=this.trieIndex,this.trieIndex+=y,this.entityExcess=0,this.sectionStart=this.index+1,y===0&&this.emitNamedEntity()}}},h.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},h.prototype.stateBeforeNumericEntity=function(p){(p|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(p))},h.prototype.emitNumericEntity=function(p){var m=this.index-this.entityExcess-1,y=m+2+ +(this.state===n.InHexEntity);y!==this.index&&(m>this.sectionStart&&this.emitPartial(this.sectionStart,m),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},h.prototype.stateInNumericEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*10+(p-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.stateInHexEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*16+(p-r.Zero),this.entityExcess++):l(p)?(this.entityResult=this.entityResult*16+((p|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},h.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},h.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},h.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(p);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case n.InSpecialTag:{this.stateInSpecialTag(p);break}case n.CDATASequence:{this.stateCDATASequence(p);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case n.InAttributeName:{this.stateInAttributeName(p);break}case n.InCommentLike:{this.stateInCommentLike(p);break}case n.InSpecialComment:{this.stateInSpecialComment(p);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case n.InTagName:{this.stateInTagName(p);break}case n.InClosingTagName:{this.stateInClosingTagName(p);break}case n.BeforeTagName:{this.stateBeforeTagName(p);break}case n.AfterAttributeName:{this.stateAfterAttributeName(p);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case n.InDeclaration:{this.stateInDeclaration(p);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case n.BeforeComment:{this.stateBeforeComment(p);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case n.InNamedEntity:{this.stateInNamedEntity(p);break}case n.BeforeEntity:{this.stateBeforeEntity(p);break}case n.InHexEntity:{this.stateInHexEntity(p);break}case n.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},h.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},h.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},h.prototype.emitPartial=function(p,m){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(p,m):this.cbs.ontext(p,m)},h.prototype.emitCodePoint=function(p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},h}();e.default=f}(n3)),n3}var w9;function S9(){if(w9)return ap;w9=1;var e=N&&N.__createBinding||(Object.create?function(g,b,v,_){_===void 0&&(_=v);var w=Object.getOwnPropertyDescriptor(b,v);(!w||("get"in w?!b.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(g,_,w)}:function(g,b,v,_){_===void 0&&(_=v),g[_]=b[v]}),t=N&&N.__setModuleDefault||(Object.create?function(g,b){Object.defineProperty(g,"default",{enumerable:!0,value:b})}:function(g,b){g.default=b}),r=N&&N.__importStar||function(g){if(g&&g.__esModule)return g;var b={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&e(b,g,v);return t(b,g),b};Object.defineProperty(ap,"__esModule",{value:!0}),ap.Parser=void 0;var n=r(gY()),a=Yl(),s=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),u=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),c=new Set(["rt","rp"]),d=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",s],["input",s],["output",s],["button",s],["datalist",s],["textarea",s],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",c],["rp",c],["tbody",u],["tfoot",u]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),m=/\s|\//,y=function(){function g(b,v){v===void 0&&(v={});var _,w,S,E,x;this.options=v,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=b??{},this.lowerCaseTagNames=(_=v.lowerCaseTags)!==null&&_!==void 0?_:!v.xmlMode,this.lowerCaseAttributeNames=(w=v.lowerCaseAttributeNames)!==null&&w!==void 0?w:!v.xmlMode,this.tokenizer=new((S=v.Tokenizer)!==null&&S!==void 0?S:n.default)(this.options,this),(x=(E=this.cbs).onparserinit)===null||x===void 0||x.call(E,this)}return g.prototype.ontext=function(b,v){var _,w,S=this.getSlice(b,v);this.endIndex=v-1,(w=(_=this.cbs).ontext)===null||w===void 0||w.call(_,S),this.startIndex=v},g.prototype.ontextentity=function(b){var v,_,w=this.tokenizer.getSectionStart();this.endIndex=w-1,(_=(v=this.cbs).ontext)===null||_===void 0||_.call(v,(0,a.fromCodePoint)(b)),this.startIndex=w},g.prototype.isVoidElement=function(b){return!this.options.xmlMode&&f.has(b)},g.prototype.onopentagname=function(b,v){this.endIndex=v;var _=this.getSlice(b,v);this.lowerCaseTagNames&&(_=_.toLowerCase()),this.emitOpenTag(_)},g.prototype.emitOpenTag=function(b){var v,_,w,S;this.openTagStart=this.startIndex,this.tagname=b;var E=!this.options.xmlMode&&d.get(b);if(E)for(;this.stack.length>0&&E.has(this.stack[this.stack.length-1]);){var x=this.stack.pop();(_=(v=this.cbs).onclosetag)===null||_===void 0||_.call(v,x,!0)}this.isVoidElement(b)||(this.stack.push(b),h.has(b)?this.foreignContext.push(!0):p.has(b)&&this.foreignContext.push(!1)),(S=(w=this.cbs).onopentagname)===null||S===void 0||S.call(w,b),this.cbs.onopentag&&(this.attribs={})},g.prototype.endOpenTag=function(b){var v,_;this.startIndex=this.openTagStart,this.attribs&&((_=(v=this.cbs).onopentag)===null||_===void 0||_.call(v,this.tagname,this.attribs,b),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},g.prototype.onopentagend=function(b){this.endIndex=b,this.endOpenTag(!1),this.startIndex=b+1},g.prototype.onclosetag=function(b,v){var _,w,S,E,x,C;this.endIndex=v;var I=this.getSlice(b,v);if(this.lowerCaseTagNames&&(I=I.toLowerCase()),(h.has(I)||p.has(I))&&this.foreignContext.pop(),this.isVoidElement(I))!this.options.xmlMode&&I==="br"&&((w=(_=this.cbs).onopentagname)===null||w===void 0||w.call(_,"br"),(E=(S=this.cbs).onopentag)===null||E===void 0||E.call(S,"br",{},!0),(C=(x=this.cbs).onclosetag)===null||C===void 0||C.call(x,"br",!1));else{var P=this.stack.lastIndexOf(I);if(P!==-1)if(this.cbs.onclosetag)for(var L=this.stack.length-P;L--;)this.cbs.onclosetag(this.stack.pop(),L!==0);else this.stack.length=P;else!this.options.xmlMode&&I==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=v+1},g.prototype.onselfclosingtag=function(b){this.endIndex=b,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=b+1):this.onopentagend(b)},g.prototype.closeCurrentTag=function(b){var v,_,w=this.tagname;this.endOpenTag(b),this.stack[this.stack.length-1]===w&&((_=(v=this.cbs).onclosetag)===null||_===void 0||_.call(v,w,!b),this.stack.pop())},g.prototype.onattribname=function(b,v){this.startIndex=b;var _=this.getSlice(b,v);this.attribname=this.lowerCaseAttributeNames?_.toLowerCase():_},g.prototype.onattribdata=function(b,v){this.attribvalue+=this.getSlice(b,v)},g.prototype.onattribentity=function(b){this.attribvalue+=(0,a.fromCodePoint)(b)},g.prototype.onattribend=function(b,v){var _,w;this.endIndex=v,(w=(_=this.cbs).onattribute)===null||w===void 0||w.call(_,this.attribname,this.attribvalue,b===n.QuoteType.Double?'"':b===n.QuoteType.Single?"'":b===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},g.prototype.getInstructionName=function(b){var v=b.search(m),_=v<0?b:b.substr(0,v);return this.lowerCaseTagNames&&(_=_.toLowerCase()),_},g.prototype.ondeclaration=function(b,v){this.endIndex=v;var _=this.getSlice(b,v);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(_);this.cbs.onprocessinginstruction("!".concat(w),"!".concat(_))}this.startIndex=v+1},g.prototype.onprocessinginstruction=function(b,v){this.endIndex=v;var _=this.getSlice(b,v);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(_);this.cbs.onprocessinginstruction("?".concat(w),"?".concat(_))}this.startIndex=v+1},g.prototype.oncomment=function(b,v,_){var w,S,E,x;this.endIndex=v,(S=(w=this.cbs).oncomment)===null||S===void 0||S.call(w,this.getSlice(b,v-_)),(x=(E=this.cbs).oncommentend)===null||x===void 0||x.call(E),this.startIndex=v+1},g.prototype.oncdata=function(b,v,_){var w,S,E,x,C,I,P,L,D,V;this.endIndex=v;var k=this.getSlice(b,v-_);this.options.xmlMode||this.options.recognizeCDATA?((S=(w=this.cbs).oncdatastart)===null||S===void 0||S.call(w),(x=(E=this.cbs).ontext)===null||x===void 0||x.call(E,k),(I=(C=this.cbs).oncdataend)===null||I===void 0||I.call(C)):((L=(P=this.cbs).oncomment)===null||L===void 0||L.call(P,"[CDATA[".concat(k,"]]")),(V=(D=this.cbs).oncommentend)===null||V===void 0||V.call(D)),this.startIndex=v+1},g.prototype.onend=function(){var b,v;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var _=this.stack.length;_>0;this.cbs.onclosetag(this.stack[--_],!0));}(v=(b=this.cbs).onend)===null||v===void 0||v.call(b)},g.prototype.reset=function(){var b,v,_,w;(v=(b=this.cbs).onreset)===null||v===void 0||v.call(b),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(w=(_=this.cbs).onparserinit)===null||w===void 0||w.call(_,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},g.prototype.parseComplete=function(b){this.reset(),this.end(b)},g.prototype.getSlice=function(b,v){for(;b-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var _=this.buffers[0].slice(b-this.bufferOffset,v-this.bufferOffset);v-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),_+=this.buffers[0].slice(0,v-this.bufferOffset);return _},g.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},g.prototype.write=function(b){var v,_;if(this.ended){(_=(v=this.cbs).onerror)===null||_===void 0||_.call(v,new Error(".write() after done!"));return}this.buffers.push(b),this.tokenizer.running&&(this.tokenizer.write(b),this.writeIndex++)},g.prototype.end=function(b){var v,_;if(this.ended){(_=(v=this.cbs).onerror)===null||_===void 0||_.call(v,new Error(".end() after done!"));return}b&&this.write(b),this.ended=!0,this.tokenizer.end()},g.prototype.pause=function(){this.tokenizer.pause()},g.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},g.prototype.parseChunk=function(b){this.write(b)},g.prototype.done=function(b){this.end(b)},g}();return ap.Parser=y,ap}var s3={},o3={},T9;function Id(){return T9||(T9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function r(n){return n.type===t.Tag||n.type===t.Script||n.type===t.Style}e.isTag=r,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype}(o3)),o3}var Ht={},E9;function A9(){if(E9)return Ht;E9=1;var e=N&&N.__extends||function(){var S=function(E,x){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(C[P]=I[P])},S(E,x)};return function(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");S(E,x);function C(){this.constructor=E}E.prototype=x===null?Object.create(x):(C.prototype=x.prototype,new C)}}(),t=N&&N.__assign||function(){return t=Object.assign||function(S){for(var E,x=1,C=arguments.length;x<C;x++){E=arguments[x];for(var I in E)Object.prototype.hasOwnProperty.call(E,I)&&(S[I]=E[I])}return S},t.apply(this,arguments)};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.cloneNode=Ht.hasChildren=Ht.isDocument=Ht.isDirective=Ht.isComment=Ht.isText=Ht.isCDATA=Ht.isTag=Ht.Element=Ht.Document=Ht.CDATA=Ht.NodeWithChildren=Ht.ProcessingInstruction=Ht.Comment=Ht.Text=Ht.DataNode=Ht.Node=void 0;var r=Id(),n=function(){function S(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(S.prototype,"parentNode",{get:function(){return this.parent},set:function(E){this.parent=E},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"previousSibling",{get:function(){return this.prev},set:function(E){this.prev=E},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"nextSibling",{get:function(){return this.next},set:function(E){this.next=E},enumerable:!1,configurable:!0}),S.prototype.cloneNode=function(E){return E===void 0&&(E=!1),_(this,E)},S}();Ht.Node=n;var a=function(S){e(E,S);function E(x){var C=S.call(this)||this;return C.data=x,C}return Object.defineProperty(E.prototype,"nodeValue",{get:function(){return this.data},set:function(x){this.data=x},enumerable:!1,configurable:!0}),E}(n);Ht.DataNode=a;var s=function(S){e(E,S);function E(){var x=S!==null&&S.apply(this,arguments)||this;return x.type=r.ElementType.Text,x}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),E}(a);Ht.Text=s;var o=function(S){e(E,S);function E(){var x=S!==null&&S.apply(this,arguments)||this;return x.type=r.ElementType.Comment,x}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),E}(a);Ht.Comment=o;var u=function(S){e(E,S);function E(x,C){var I=S.call(this,C)||this;return I.name=x,I.type=r.ElementType.Directive,I}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),E}(a);Ht.ProcessingInstruction=u;var l=function(S){e(E,S);function E(x){var C=S.call(this)||this;return C.children=x,C}return Object.defineProperty(E.prototype,"firstChild",{get:function(){var x;return(x=this.children[0])!==null&&x!==void 0?x:null},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"childNodes",{get:function(){return this.children},set:function(x){this.children=x},enumerable:!1,configurable:!0}),E}(n);Ht.NodeWithChildren=l;var c=function(S){e(E,S);function E(){var x=S!==null&&S.apply(this,arguments)||this;return x.type=r.ElementType.CDATA,x}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),E}(l);Ht.CDATA=c;var d=function(S){e(E,S);function E(){var x=S!==null&&S.apply(this,arguments)||this;return x.type=r.ElementType.Root,x}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),E}(l);Ht.Document=d;var f=function(S){e(E,S);function E(x,C,I,P){I===void 0&&(I=[]),P===void 0&&(P=x==="script"?r.ElementType.Script:x==="style"?r.ElementType.Style:r.ElementType.Tag);var L=S.call(this,I)||this;return L.name=x,L.attribs=C,L.type=P,L}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"tagName",{get:function(){return this.name},set:function(x){this.name=x},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"attributes",{get:function(){var x=this;return Object.keys(this.attribs).map(function(C){var I,P;return{name:C,value:x.attribs[C],namespace:(I=x["x-attribsNamespace"])===null||I===void 0?void 0:I[C],prefix:(P=x["x-attribsPrefix"])===null||P===void 0?void 0:P[C]}})},enumerable:!1,configurable:!0}),E}(l);Ht.Element=f;function h(S){return(0,r.isTag)(S)}Ht.isTag=h;function p(S){return S.type===r.ElementType.CDATA}Ht.isCDATA=p;function m(S){return S.type===r.ElementType.Text}Ht.isText=m;function y(S){return S.type===r.ElementType.Comment}Ht.isComment=y;function g(S){return S.type===r.ElementType.Directive}Ht.isDirective=g;function b(S){return S.type===r.ElementType.Root}Ht.isDocument=b;function v(S){return Object.prototype.hasOwnProperty.call(S,"children")}Ht.hasChildren=v;function _(S,E){E===void 0&&(E=!1);var x;if(m(S))x=new s(S.data);else if(y(S))x=new o(S.data);else if(h(S)){var C=E?w(S.children):[],I=new f(S.name,t({},S.attribs),C);C.forEach(function(V){return V.parent=I}),S.namespace!=null&&(I.namespace=S.namespace),S["x-attribsNamespace"]&&(I["x-attribsNamespace"]=t({},S["x-attribsNamespace"])),S["x-attribsPrefix"]&&(I["x-attribsPrefix"]=t({},S["x-attribsPrefix"])),x=I}else if(p(S)){var C=E?w(S.children):[],P=new c(C);C.forEach(function(k){return k.parent=P}),x=P}else if(b(S)){var C=E?w(S.children):[],L=new d(C);C.forEach(function(k){return k.parent=L}),S["x-mode"]&&(L["x-mode"]=S["x-mode"]),x=L}else if(g(S)){var D=new u(S.name,S.data);S["x-name"]!=null&&(D["x-name"]=S["x-name"],D["x-publicId"]=S["x-publicId"],D["x-systemId"]=S["x-systemId"]),x=D}else throw new Error("Not implemented yet: ".concat(S.type));return x.startIndex=S.startIndex,x.endIndex=S.endIndex,S.sourceCodeLocation!=null&&(x.sourceCodeLocation=S.sourceCodeLocation),x}Ht.cloneNode=_;function w(S){for(var E=S.map(function(C){return _(C,!0)}),x=1;x<E.length;x++)E[x].prev=E[x-1],E[x-1].next=E[x];return E}return Ht}var O9;function Qa(){return O9||(O9=1,function(e){var t=N&&N.__createBinding||(Object.create?function(u,l,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(l,c);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(u,d,f)}:function(u,l,c,d){d===void 0&&(d=c),u[d]=l[c]}),r=N&&N.__exportStar||function(u,l){for(var c in u)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&t(l,u,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=Id(),a=A9();r(A9(),e);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function u(l,c,d){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(d=c,c=s),typeof l=="object"&&(c=l,l=void 0),this.callback=l??null,this.options=c??s,this.elementCB=d??null}return u.prototype.onparserinit=function(l){this.parser=l},u.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},u.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},u.prototype.onerror=function(l){this.handleCallback(l)},u.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},u.prototype.onopentag=function(l,c){var d=this.options.xmlMode?n.ElementType.Tag:void 0,f=new a.Element(l,c,void 0,d);this.addNode(f),this.tagStack.push(f)},u.prototype.ontext=function(l){var c=this.lastNode;if(c&&c.type===n.ElementType.Text)c.data+=l,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var d=new a.Text(l);this.addNode(d),this.lastNode=d}},u.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=l;return}var c=new a.Comment(l);this.addNode(c),this.lastNode=c},u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=function(){var l=new a.Text(""),c=new a.CDATA([l]);this.addNode(c),l.parent=c,this.lastNode=l},u.prototype.oncdataend=function(){this.lastNode=null},u.prototype.onprocessinginstruction=function(l,c){var d=new a.ProcessingInstruction(l,c);this.addNode(d)},u.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},u.prototype.addNode=function(l){var c=this.tagStack[this.tagStack.length-1],d=c.children[c.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),c.children.push(l),d&&(l.prev=d,d.next=l),l.parent=c,this.lastNode=null},u}();e.DomHandler=o,e.default=o}(s3)),s3}var u3={},bi={},Hc={},c3={},gu={},W1={},R9;function wOe(){if(R9)return W1;R9=1,Object.defineProperty(W1,"__esModule",{value:!0});function e(t){for(var r=1;r<t.length;r++)t[r][0]+=t[r-1][0]+1;return t}return W1.default=new Map(e([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(e([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(e([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(e([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),W1}var l3={},x9;function NI(){return x9||(x9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);e.getCodePoint=String.prototype.codePointAt!=null?function(a,s){return a.codePointAt(s)}:function(a,s){return(a.charCodeAt(s)&64512)===55296?(a.charCodeAt(s)-55296)*1024+a.charCodeAt(s+1)-56320+65536:a.charCodeAt(s)};function r(a){for(var s="",o=0,u;(u=e.xmlReplacer.exec(a))!==null;){var l=u.index,c=a.charCodeAt(l),d=t.get(c);d!==void 0?(s+=a.substring(o,l)+d,o=l+1):(s+="".concat(a.substring(o,l),"&#x").concat((0,e.getCodePoint)(a,l).toString(16),";"),o=e.xmlReplacer.lastIndex+=+((c&64512)===55296))}return s+a.substr(o)}e.encodeXML=r,e.escape=r;function n(a,s){return function(u){for(var l,c=0,d="";l=a.exec(u);)c!==l.index&&(d+=u.substring(c,l.index)),d+=s.get(l[0].charCodeAt(0)),c=l.index+1;return d+u.substring(c)}}e.escapeUTF8=n(/[&<>'"]/g,t),e.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(l3)),l3}var I9;function P9(){if(I9)return gu;I9=1;var e=N&&N.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(gu,"__esModule",{value:!0}),gu.encodeNonAsciiHTML=gu.encodeHTML=void 0;var t=e(wOe()),r=NI(),n=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function a(u){return o(n,u)}gu.encodeHTML=a;function s(u){return o(r.xmlReplacer,u)}gu.encodeNonAsciiHTML=s;function o(u,l){for(var c="",d=0,f;(f=u.exec(l))!==null;){var h=f.index;c+=l.substring(d,h);var p=l.charCodeAt(h),m=t.default.get(p);if(typeof m=="object"){if(h+1<l.length){var y=l.charCodeAt(h+1),g=typeof m.n=="number"?m.n===y?m.o:void 0:m.n.get(y);if(g!==void 0){c+=g,d=u.lastIndex+=1;continue}}m=m.v}if(m!==void 0)c+=m,d=h+1;else{var b=(0,r.getCodePoint)(l,h);c+="&#x".concat(b.toString(16),";"),d=u.lastIndex+=+(b!==p)}}return c+l.substr(d)}return gu}var N9;function SOe(){return N9||(N9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLAttribute=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.DecodingMode=e.EntityDecoder=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.EntityLevel=void 0;var t=Yl(),r=P9(),n=NI(),a;(function(h){h[h.XML=0]="XML",h[h.HTML=1]="HTML"})(a=e.EntityLevel||(e.EntityLevel={}));var s;(function(h){h[h.UTF8=0]="UTF8",h[h.ASCII=1]="ASCII",h[h.Extensive=2]="Extensive",h[h.Attribute=3]="Attribute",h[h.Text=4]="Text"})(s=e.EncodingMode||(e.EncodingMode={}));function o(h,p){p===void 0&&(p=a.XML);var m=typeof p=="number"?p:p.level;if(m===a.HTML){var y=typeof p=="object"?p.mode:void 0;return(0,t.decodeHTML)(h,y)}return(0,t.decodeXML)(h)}e.decode=o;function u(h,p){var m;p===void 0&&(p=a.XML);var y=typeof p=="number"?{level:p}:p;return(m=y.mode)!==null&&m!==void 0||(y.mode=t.DecodingMode.Strict),o(h,y)}e.decodeStrict=u;function l(h,p){p===void 0&&(p=a.XML);var m=typeof p=="number"?{level:p}:p;return m.mode===s.UTF8?(0,n.escapeUTF8)(h):m.mode===s.Attribute?(0,n.escapeAttribute)(h):m.mode===s.Text?(0,n.escapeText)(h):m.level===a.HTML?m.mode===s.ASCII?(0,r.encodeNonAsciiHTML)(h):(0,r.encodeHTML)(h):(0,n.encodeXML)(h)}e.encode=l;var c=NI();Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var d=P9();Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return d.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return d.encodeHTML}});var f=Yl();Object.defineProperty(e,"EntityDecoder",{enumerable:!0,get:function(){return f.EntityDecoder}}),Object.defineProperty(e,"DecodingMode",{enumerable:!0,get:function(){return f.DecodingMode}}),Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return f.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTMLAttribute",{enumerable:!0,get:function(){return f.decodeHTMLAttribute}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return f.decodeXML}})}(c3)),c3}var _u={},D9;function TOe(){return D9||(D9=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.attributeNames=_u.elementNames=void 0,_u.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(e){return[e.toLowerCase(),e]})),_u.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(e){return[e.toLowerCase(),e]}))),_u}var C9;function EOe(){if(C9)return Hc;C9=1;var e=N&&N.__assign||function(){return e=Object.assign||function(w){for(var S,E=1,x=arguments.length;E<x;E++){S=arguments[E];for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(w[C]=S[C])}return w},e.apply(this,arguments)},t=N&&N.__createBinding||(Object.create?function(w,S,E,x){x===void 0&&(x=E);var C=Object.getOwnPropertyDescriptor(S,E);(!C||("get"in C?!S.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(w,x,C)}:function(w,S,E,x){x===void 0&&(x=E),w[x]=S[E]}),r=N&&N.__setModuleDefault||(Object.create?function(w,S){Object.defineProperty(w,"default",{enumerable:!0,value:S})}:function(w,S){w.default=S}),n=N&&N.__importStar||function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var E in w)E!=="default"&&Object.prototype.hasOwnProperty.call(w,E)&&t(S,w,E);return r(S,w),S};Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.render=void 0;var a=n(Id()),s=SOe(),o=TOe(),u=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function l(w){return w.replace(/"/g,"&quot;")}function c(w,S){var E;if(w){var x=((E=S.encodeEntities)!==null&&E!==void 0?E:S.decodeEntities)===!1?l:S.xmlMode||S.encodeEntities!=="utf8"?s.encodeXML:s.escapeAttribute;return Object.keys(w).map(function(C){var I,P,L=(I=w[C])!==null&&I!==void 0?I:"";return S.xmlMode==="foreign"&&(C=(P=o.attributeNames.get(C))!==null&&P!==void 0?P:C),!S.emptyAttrs&&!S.xmlMode&&L===""?C:"".concat(C,'="').concat(x(L),'"')}).join(" ")}}var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function f(w,S){S===void 0&&(S={});for(var E=("length"in w)?w:[w],x="",C=0;C<E.length;C++)x+=h(E[C],S);return x}Hc.render=f,Hc.default=f;function h(w,S){switch(w.type){case a.Root:return f(w.children,S);case a.Doctype:case a.Directive:return g(w);case a.Comment:return _(w);case a.CDATA:return v(w);case a.Script:case a.Style:case a.Tag:return y(w,S);case a.Text:return b(w,S)}}var p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),m=new Set(["svg","math"]);function y(w,S){var E;S.xmlMode==="foreign"&&(w.name=(E=o.elementNames.get(w.name))!==null&&E!==void 0?E:w.name,w.parent&&p.has(w.parent.name)&&(S=e(e({},S),{xmlMode:!1}))),!S.xmlMode&&m.has(w.name)&&(S=e(e({},S),{xmlMode:"foreign"}));var x="<".concat(w.name),C=c(w.attribs,S);return C&&(x+=" ".concat(C)),w.children.length===0&&(S.xmlMode?S.selfClosingTags!==!1:S.selfClosingTags&&d.has(w.name))?(S.xmlMode||(x+=" "),x+="/>"):(x+=">",w.children.length>0&&(x+=f(w.children,S)),(S.xmlMode||!d.has(w.name))&&(x+="</".concat(w.name,">"))),x}function g(w){return"<".concat(w.data,">")}function b(w,S){var E,x=w.data||"";return((E=S.encodeEntities)!==null&&E!==void 0?E:S.decodeEntities)!==!1&&!(!S.xmlMode&&w.parent&&u.has(w.parent.name))&&(x=S.xmlMode||S.encodeEntities!=="utf8"?(0,s.encodeXML)(x):(0,s.escapeText)(x)),x}function v(w){return"<![CDATA[".concat(w.children[0].data,"]]>")}function _(w){return"<!--".concat(w.data,"-->")}return Hc}var L9;function _Y(){if(L9)return bi;L9=1;var e=N&&N.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(bi,"__esModule",{value:!0}),bi.innerText=bi.textContent=bi.getText=bi.getInnerHTML=bi.getOuterHTML=void 0;var t=Qa(),r=e(EOe()),n=Id();function a(c,d){return(0,r.default)(c,d)}bi.getOuterHTML=a;function s(c,d){return(0,t.hasChildren)(c)?c.children.map(function(f){return a(f,d)}).join(""):""}bi.getInnerHTML=s;function o(c){return Array.isArray(c)?c.map(o).join(""):(0,t.isTag)(c)?c.name==="br"?`
`:o(c.children):(0,t.isCDATA)(c)?o(c.children):(0,t.isText)(c)?c.data:""}bi.getText=o;function u(c){return Array.isArray(c)?c.map(u).join(""):(0,t.hasChildren)(c)&&!(0,t.isComment)(c)?u(c.children):(0,t.isText)(c)?c.data:""}bi.textContent=u;function l(c){return Array.isArray(c)?c.map(l).join(""):(0,t.hasChildren)(c)&&(c.type===n.ElementType.Tag||(0,t.isCDATA)(c))?l(c.children):(0,t.isText)(c)?c.data:""}return bi.innerText=l,bi}var rn={},j9;function AOe(){if(j9)return rn;j9=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.prevElementSibling=rn.nextElementSibling=rn.getName=rn.hasAttrib=rn.getAttributeValue=rn.getSiblings=rn.getParent=rn.getChildren=void 0;var e=Qa();function t(c){return(0,e.hasChildren)(c)?c.children:[]}rn.getChildren=t;function r(c){return c.parent||null}rn.getParent=r;function n(c){var d,f,h=r(c);if(h!=null)return t(h);for(var p=[c],m=c.prev,y=c.next;m!=null;)p.unshift(m),d=m,m=d.prev;for(;y!=null;)p.push(y),f=y,y=f.next;return p}rn.getSiblings=n;function a(c,d){var f;return(f=c.attribs)===null||f===void 0?void 0:f[d]}rn.getAttributeValue=a;function s(c,d){return c.attribs!=null&&Object.prototype.hasOwnProperty.call(c.attribs,d)&&c.attribs[d]!=null}rn.hasAttrib=s;function o(c){return c.name}rn.getName=o;function u(c){for(var d,f=c.next;f!==null&&!(0,e.isTag)(f);)d=f,f=d.next;return f}rn.nextElementSibling=u;function l(c){for(var d,f=c.prev;f!==null&&!(0,e.isTag)(f);)d=f,f=d.prev;return f}return rn.prevElementSibling=l,rn}var kn={},M9;function OOe(){if(M9)return kn;M9=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.prepend=kn.prependChild=kn.append=kn.appendChild=kn.replaceElement=kn.removeElement=void 0;function e(o){if(o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),o.parent){var u=o.parent.children,l=u.lastIndexOf(o);l>=0&&u.splice(l,1)}o.next=null,o.prev=null,o.parent=null}kn.removeElement=e;function t(o,u){var l=u.prev=o.prev;l&&(l.next=u);var c=u.next=o.next;c&&(c.prev=u);var d=u.parent=o.parent;if(d){var f=d.children;f[f.lastIndexOf(o)]=u,o.parent=null}}kn.replaceElement=t;function r(o,u){if(e(u),u.next=null,u.parent=o,o.children.push(u)>1){var l=o.children[o.children.length-2];l.next=u,u.prev=l}else u.prev=null}kn.appendChild=r;function n(o,u){e(u);var l=o.parent,c=o.next;if(u.next=c,u.prev=o,o.next=u,u.parent=l,c){if(c.prev=u,l){var d=l.children;d.splice(d.lastIndexOf(c),0,u)}}else l&&l.children.push(u)}kn.append=n;function a(o,u){if(e(u),u.parent=o,u.prev=null,o.children.unshift(u)!==1){var l=o.children[1];l.prev=u,u.next=l}else u.next=null}kn.prependChild=a;function s(o,u){e(u);var l=o.parent;if(l){var c=l.children;c.splice(c.indexOf(o),0,u)}o.prev&&(o.prev.next=u),u.parent=l,u.prev=o.prev,u.next=o,o.prev=u}return kn.prepend=s,kn}var Vn={},F9;function bY(){if(F9)return Vn;F9=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.findAll=Vn.existsOne=Vn.findOne=Vn.findOneChild=Vn.find=Vn.filter=void 0;var e=Qa();function t(u,l,c,d){return c===void 0&&(c=!0),d===void 0&&(d=1/0),r(u,Array.isArray(l)?l:[l],c,d)}Vn.filter=t;function r(u,l,c,d){for(var f=[],h=[l],p=[0];;){if(p[0]>=h[0].length){if(p.length===1)return f;h.shift(),p.shift();continue}var m=h[0][p[0]++];if(u(m)&&(f.push(m),--d<=0))return f;c&&(0,e.hasChildren)(m)&&m.children.length>0&&(p.unshift(0),h.unshift(m.children))}}Vn.find=r;function n(u,l){return l.find(u)}Vn.findOneChild=n;function a(u,l,c){c===void 0&&(c=!0);for(var d=null,f=0;f<l.length&&!d;f++){var h=l[f];if((0,e.isTag)(h))u(h)?d=h:c&&h.children.length>0&&(d=a(u,h.children,!0));else continue}return d}Vn.findOne=a;function s(u,l){return l.some(function(c){return(0,e.isTag)(c)&&(u(c)||s(u,c.children))})}Vn.existsOne=s;function o(u,l){for(var c=[],d=[l],f=[0];;){if(f[0]>=d[0].length){if(d.length===1)return c;d.shift(),f.shift();continue}var h=d[0][f[0]++];(0,e.isTag)(h)&&(u(h)&&c.push(h),h.children.length>0&&(f.unshift(0),d.unshift(h.children)))}}return Vn.findAll=o,Vn}var vi={},q9;function vY(){if(q9)return vi;q9=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.getElementsByTagType=vi.getElementsByTagName=vi.getElementById=vi.getElements=vi.testElement=void 0;var e=Qa(),t=bY(),r={tag_name:function(f){return typeof f=="function"?function(h){return(0,e.isTag)(h)&&f(h.name)}:f==="*"?e.isTag:function(h){return(0,e.isTag)(h)&&h.name===f}},tag_type:function(f){return typeof f=="function"?function(h){return f(h.type)}:function(h){return h.type===f}},tag_contains:function(f){return typeof f=="function"?function(h){return(0,e.isText)(h)&&f(h.data)}:function(h){return(0,e.isText)(h)&&h.data===f}}};function n(f,h){return typeof h=="function"?function(p){return(0,e.isTag)(p)&&h(p.attribs[f])}:function(p){return(0,e.isTag)(p)&&p.attribs[f]===h}}function a(f,h){return function(p){return f(p)||h(p)}}function s(f){var h=Object.keys(f).map(function(p){var m=f[p];return Object.prototype.hasOwnProperty.call(r,p)?r[p](m):n(p,m)});return h.length===0?null:h.reduce(a)}function o(f,h){var p=s(f);return p?p(h):!0}vi.testElement=o;function u(f,h,p,m){m===void 0&&(m=1/0);var y=s(f);return y?(0,t.filter)(y,h,p,m):[]}vi.getElements=u;function l(f,h,p){return p===void 0&&(p=!0),Array.isArray(h)||(h=[h]),(0,t.findOne)(n("id",f),h,p)}vi.getElementById=l;function c(f,h,p,m){return p===void 0&&(p=!0),m===void 0&&(m=1/0),(0,t.filter)(r.tag_name(f),h,p,m)}vi.getElementsByTagName=c;function d(f,h,p,m){return p===void 0&&(p=!0),m===void 0&&(m=1/0),(0,t.filter)(r.tag_type(f),h,p,m)}return vi.getElementsByTagType=d,vi}var d3={},B9;function ROe(){return B9||(B9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueSort=e.compareDocumentPosition=e.DocumentPosition=e.removeSubsets=void 0;var t=Qa();function r(o){for(var u=o.length;--u>=0;){var l=o[u];if(u>0&&o.lastIndexOf(l,u-1)>=0){o.splice(u,1);continue}for(var c=l.parent;c;c=c.parent)if(o.includes(c)){o.splice(u,1);break}}return o}e.removeSubsets=r;var n;(function(o){o[o.DISCONNECTED=1]="DISCONNECTED",o[o.PRECEDING=2]="PRECEDING",o[o.FOLLOWING=4]="FOLLOWING",o[o.CONTAINS=8]="CONTAINS",o[o.CONTAINED_BY=16]="CONTAINED_BY"})(n=e.DocumentPosition||(e.DocumentPosition={}));function a(o,u){var l=[],c=[];if(o===u)return 0;for(var d=(0,t.hasChildren)(o)?o:o.parent;d;)l.unshift(d),d=d.parent;for(d=(0,t.hasChildren)(u)?u:u.parent;d;)c.unshift(d),d=d.parent;for(var f=Math.min(l.length,c.length),h=0;h<f&&l[h]===c[h];)h++;if(h===0)return n.DISCONNECTED;var p=l[h-1],m=p.children,y=l[h],g=c[h];return m.indexOf(y)>m.indexOf(g)?p===u?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:p===o?n.PRECEDING|n.CONTAINS:n.PRECEDING}e.compareDocumentPosition=a;function s(o){return o=o.filter(function(u,l,c){return!c.includes(u,l+1)}),o.sort(function(u,l){var c=a(u,l);return c&n.PRECEDING?-1:c&n.FOLLOWING?1:0}),o}e.uniqueSort=s}(d3)),d3}var sp={},$9;function xOe(){if($9)return sp;$9=1,Object.defineProperty(sp,"__esModule",{value:!0}),sp.getFeed=void 0;var e=_Y(),t=vY();function r(h){var p=l(f,h);return p?p.name==="feed"?n(p):a(p):null}sp.getFeed=r;function n(h){var p,m=h.children,y={type:"atom",items:(0,t.getElementsByTagName)("entry",m).map(function(v){var _,w=v.children,S={media:u(w)};d(S,"id","id",w),d(S,"title","title",w);var E=(_=l("link",w))===null||_===void 0?void 0:_.attribs.href;E&&(S.link=E);var x=c("summary",w)||c("content",w);x&&(S.description=x);var C=c("updated",w);return C&&(S.pubDate=new Date(C)),S})};d(y,"id","id",m),d(y,"title","title",m);var g=(p=l("link",m))===null||p===void 0?void 0:p.attribs.href;g&&(y.link=g),d(y,"description","subtitle",m);var b=c("updated",m);return b&&(y.updated=new Date(b)),d(y,"author","email",m,!0),y}function a(h){var p,m,y=(m=(p=l("channel",h.children))===null||p===void 0?void 0:p.children)!==null&&m!==void 0?m:[],g={type:h.name.substr(0,3),id:"",items:(0,t.getElementsByTagName)("item",h.children).map(function(v){var _=v.children,w={media:u(_)};d(w,"id","guid",_),d(w,"title","title",_),d(w,"link","link",_),d(w,"description","description",_);var S=c("pubDate",_)||c("dc:date",_);return S&&(w.pubDate=new Date(S)),w})};d(g,"title","title",y),d(g,"link","link",y),d(g,"description","description",y);var b=c("lastBuildDate",y);return b&&(g.updated=new Date(b)),d(g,"author","managingEditor",y,!0),g}var s=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function u(h){return(0,t.getElementsByTagName)("media:content",h).map(function(p){for(var m=p.attribs,y={medium:m.medium,isDefault:!!m.isDefault},g=0,b=s;g<b.length;g++){var v=b[g];m[v]&&(y[v]=m[v])}for(var _=0,w=o;_<w.length;_++){var v=w[_];m[v]&&(y[v]=parseInt(m[v],10))}return m.expression&&(y.expression=m.expression),y})}function l(h,p){return(0,t.getElementsByTagName)(h,p,!0,1)[0]}function c(h,p,m){return m===void 0&&(m=!1),(0,e.textContent)((0,t.getElementsByTagName)(h,p,m,1)).trim()}function d(h,p,m,y,g){g===void 0&&(g=!1);var b=c(m,y,g);b&&(h[p]=b)}function f(h){return h==="rss"||h==="feed"||h==="rdf:RDF"}return sp}var U9;function Al(){return U9||(U9=1,function(e){var t=N&&N.__createBinding||(Object.create?function(a,s,o,u){u===void 0&&(u=o);var l=Object.getOwnPropertyDescriptor(s,o);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(a,u,l)}:function(a,s,o,u){u===void 0&&(u=o),a[u]=s[o]}),r=N&&N.__exportStar||function(a,s){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,a,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,r(_Y(),e),r(AOe(),e),r(OOe(),e),r(bY(),e),r(vY(),e),r(ROe(),e),r(xOe(),e);var n=Qa();Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})}(u3)),u3}var k9;function wY(){return k9||(k9=1,function(e){var t=N&&N.__createBinding||(Object.create?function(b,v,_,w){w===void 0&&(w=_);var S=Object.getOwnPropertyDescriptor(v,_);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[_]}}),Object.defineProperty(b,w,S)}:function(b,v,_,w){w===void 0&&(w=_),b[w]=v[_]}),r=N&&N.__setModuleDefault||(Object.create?function(b,v){Object.defineProperty(b,"default",{enumerable:!0,value:v})}:function(b,v){b.default=v}),n=N&&N.__importStar||function(b){if(b&&b.__esModule)return b;var v={};if(b!=null)for(var _ in b)_!=="default"&&Object.prototype.hasOwnProperty.call(b,_)&&t(v,b,_);return r(v,b),v},a=N&&N.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var s=S9(),o=S9();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var u=Qa(),l=Qa();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function c(b,v){var _=new u.DomHandler(void 0,v);return new s.Parser(_,v).end(b),_.root}e.parseDocument=c;function d(b,v){return c(b,v).children}e.parseDOM=d;function f(b,v,_){var w=new u.DomHandler(b,v,_);return new s.Parser(w,v)}e.createDomStream=f;var h=gY();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return a(h).default}}),e.ElementType=n(Id());var p=Al(),m=Al();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return m.getFeed}});var y={xmlMode:!0};function g(b,v){return v===void 0&&(v=y),(0,p.getFeed)(d(b,v))}e.parseFeed=g,e.DomUtils=n(Al())}(r3)),r3}const IOe={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}},POe={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}};var bu={},V9;function ID(){return V9||(V9=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.RDFA_CONTENTTYPES=bu.RDFA_FEATURES=void 0,bu.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},bu.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}),bu}var op={},H9;function SY(){if(H9)return op;H9=1,Object.defineProperty(op,"__esModule",{value:!0}),op.Util=void 0;const e=va(),t=ID(),r=xt;class n{constructor(s,o){this.dataFactory=s||new r.DataFactory,this.baseIRI=this.dataFactory.namedNode(o||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(s,o,u){const l={};if(u)for(const c in s)c.startsWith("xmlns")&&(l[c.substr(6)]=s[c]);if(s.prefix||Object.keys(l).length>0){const c=Object.assign(Object.assign({},o),l);if(s.prefix){let d;for(;d=n.PREFIX_REGEX.exec(s.prefix);)c[d[1]]=d[2]}return c}else return o}static expandPrefixedTerm(s,o){const u=s.indexOf(":");let l,c;if(u>=0&&(l=s.substr(0,u),c=s.substr(u+1)),l==="")return"http://www.w3.org/1999/xhtml/vocab#"+c;if(l){const d=o.prefixesAll[l];if(d)return d+c}if(s){const d=o.prefixesAll[s.toLocaleLowerCase()];if(d)return d}return s}static isValidIri(s){return n.IRI_REGEX.test(s)}static contentTypeToProfile(s){return t.RDFA_CONTENTTYPES[s]||""}getBaseIRI(s){let o=s;const u=o.indexOf("#");return u>=0&&(o=o.substr(0,u)),this.dataFactory.namedNode((0,e.resolve)(o,this.baseIRI.value))}getResourceOrBaseIri(s,o){return s===!0?this.getBaseIriTerm(o):s}getBaseIriTerm(s){return s.localBaseIRI||this.baseIRI}createVocabIris(s,o,u,l){return s.split(/\s+/).filter(c=>c&&(u||c.indexOf(":")>=0)).map(c=>this.createIri(c,o,!0,!0,l)).filter(c=>c!=null)}createLiteral(s,o){if(o.interpretObjectAsTime&&!o.datatype){for(const u of n.TIME_REGEXES)if(s.match(u.regex)){o.datatype=this.dataFactory.namedNode(n.XSD+u.type);break}}return this.dataFactory.literal(s,o.datatype||o.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(s,o,u,l,c){if(s=s||"",!l)return u||(s=(0,e.resolve)(s,this.getBaseIriTerm(o).value)),n.isValidIri(s)?this.dataFactory.namedNode(s):null;if(s.length>0&&s[0]==="["&&s[s.length-1]==="]"&&(s=s.substr(1,s.length-2),s.indexOf(":")<0))return null;if(s.startsWith("_:"))return c?this.dataFactory.blankNode(s.substr(2)||"b_identity"):null;if(u&&o.vocab&&s.indexOf(":")<0)return this.dataFactory.namedNode(o.vocab+s);let d=n.expandPrefixedTerm(s,o);return u?s!==d&&(d=(0,e.resolve)(d,this.baseIRIDocument.value)):d=(0,e.resolve)(d,this.getBaseIriTerm(o).value),n.isValidIri(d)?this.dataFactory.namedNode(d):null}}return op.Util=n,n.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n.XSD="http://www.w3.org/2001/XMLSchema#",n.RDFA="http://www.w3.org/ns/rdfa#",n.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,n.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/,op}var Q9;function NOe(){if(Q9)return ip;Q9=1,Object.defineProperty(ip,"__esModule",{value:!0}),ip.RdfaParser=void 0;const e=wY(),t=Lt,r=IOe,n=POe,a=ID(),s=SY();let o=class TY extends t.Transform{constructor(l){super({readableObjectMode:!0}),this.activeTagStack=[],l=l||{},this.options=l,this.util=new s.Util(l.dataFactory,l.baseIRI),this.defaultGraph=l.defaultGraph||this.util.dataFactory.defaultGraph();const c=l.contentType?s.Util.contentTypeToProfile(l.contentType):l.profile||"";this.features=l.features||a.RDFA_FEATURES[c],this.htmlParseListener=l.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(c==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:l.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},n["@context"]),this.features.xhtmlInitialContext?r["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:l.vocab})}import(l){const c=new t.PassThrough({readableObjectMode:!0});l.on("error",f=>d.emit("error",f)),l.on("data",f=>c.push(f)),l.on("end",()=>c.push(null));const d=c.pipe(new TY(this.options));return d}_transform(l,c,d){this.parser.write(l.toString()),d()}_flush(l){this.parser.end(),l()}onTagOpen(l,c){let d=this.activeTagStack.length-1;for(;d>0&&this.activeTagStack[d].skipElement;)d--;let f=this.activeTagStack[d];d!==this.activeTagStack.length-1&&(f=Object.assign(Object.assign({},f),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const h={collectChildTags:f.collectChildTags,incompleteTriples:[],inlist:"inlist"in c,listMapping:[],listMappingLocal:f.listMapping,localBaseIRI:f.localBaseIRI,name:l,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(h),h.collectChildTags){for(const S of Object.keys(f.prefixesCustom).sort()){const E=f.prefixesCustom[S],x=S===""?"xmlns":"xmlns:"+S;x in c||(c[x]=E)}const w=Object.keys(c).map(S=>`${S}="${c[S]}"`).join(" ");if(h.text=[`<${l}${w?" "+w:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let p=!0,m=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in c&&"rel"in c&&(p=!1,c.rel.indexOf(":")<0&&delete c.rel),"property"in c&&"rev"in c&&(m=!1,c.rev.indexOf(":")<0&&delete c.rev)),this.features.copyRdfaPatterns){if(f.collectedPatternTag){const w={attributes:c,children:[],name:l,referenced:!1,rootPattern:!1,text:[]};f.collectedPatternTag.children.push(w),h.collectedPatternTag=w;return}if(c.typeof==="rdfa:Pattern"){h.collectedPatternTag={attributes:c,children:[],name:l,parentTag:f,referenced:!1,rootPattern:!0,text:[]};return}if(c.property==="rdfa:copy"){const w=c.resource||c.href||c.src;this.rdfaPatterns[w]?this.emitPatternCopy(f,this.rdfaPatterns[w],w):(this.pendingRdfaPatternCopies[w]||(this.pendingRdfaPatternCopies[w]=[]),this.pendingRdfaPatternCopies[w].push(f));return}}this.features.baseTag&&l==="base"&&c.href&&(this.util.baseIRI=this.util.getBaseIRI(c.href)),this.features.xmlBase&&c["xml:base"]&&(h.localBaseIRI=this.util.getBaseIRI(c["xml:base"])),this.features.timeTag&&l==="time"&&!c.datatype&&(h.interpretObjectAsTime=!0);let y,g,b;if("vocab"in c?c.vocab?(h.vocab=c.vocab,this.emitTriple(this.util.getBaseIriTerm(h),this.util.dataFactory.namedNode(s.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(h.vocab))):h.vocab=this.activeTagStack[0].vocab:h.vocab=f.vocab,h.prefixesCustom=s.Util.parsePrefixes(c,f.prefixesCustom,this.features.xmlnsPrefixMappings),h.prefixesAll=Object.keys(h.prefixesCustom).length>0?Object.assign(Object.assign({},f.prefixesAll),h.prefixesCustom):f.prefixesAll,this.features.roleAttribute&&c.role){const w=c.id?this.util.createIri("#"+c.id,h,!1,!1,!1):this.util.createBlankNode(),S=h.vocab;h.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const E of this.util.createVocabIris(c.role,h,!0,!1))this.emitTriple(w,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),E);h.vocab=S}"xml:lang"in c||this.features.langAttribute&&"lang"in c?h.language=c["xml:lang"]||c.lang:h.language=f.language;const v=this.activeTagStack.length===2;if(!("rel"in c)&&!("rev"in c)?"property"in c&&!("content"in c)&&!("datatype"in c)?("about"in c?(y=this.util.createIri(c.about,h,!1,!0,!0),h.explicitNewSubject=!!y):v?y=!0:f.object&&(y=f.object),"typeof"in c&&("about"in c&&(b=this.util.createIri(c.about,h,!1,!0,!0)),!b&&v&&(b=!0),!b&&"resource"in c&&(b=this.util.createIri(c.resource,h,!1,!0,!0)),!b&&("href"in c||"src"in c)&&(b=this.util.createIri(c.href||c.src,h,!1,!1,!0)),!b&&this.isInheritSubjectInHeadBody(l)&&(b=y),b||(b=this.util.createBlankNode()),g=b)):(("about"in c||"resource"in c)&&(y=this.util.createIri(c.about||c.resource,h,!1,!0,!0),h.explicitNewSubject=!!y),!y&&("href"in c||"src"in c)&&(y=this.util.createIri(c.href||c.src,h,!1,!1,!0),h.explicitNewSubject=!!y),y||(v?y=!0:this.isInheritSubjectInHeadBody(l)?y=f.object:"typeof"in c?(y=this.util.createBlankNode(),h.explicitNewSubject=!0):f.object&&(y=f.object,"property"in c||(h.skipElement=!0))),"typeof"in c&&(b=y)):("about"in c?(y=this.util.createIri(c.about,h,!1,!0,!0),h.explicitNewSubject=!!y,"typeof"in c&&(b=y)):v?y=!0:f.object&&(y=f.object),"resource"in c&&(g=this.util.createIri(c.resource,h,!1,!0,!0)),g||("href"in c||"src"in c?g=this.util.createIri(c.href||c.src,h,!1,!1,!0):"typeof"in c&&!("about"in c)&&!this.isInheritSubjectInHeadBody(l)&&(g=this.util.createBlankNode())),"typeof"in c&&!("about"in c)&&(this.isInheritSubjectInHeadBody(l)?b=y:b=g)),b)for(const w of this.util.createVocabIris(c.typeof,h,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(b,h),this.util.dataFactory.namedNode(s.Util.RDF+"type"),w);if(y&&(h.listMapping={}),g){if("rel"in c&&"inlist"in c)for(const w of this.util.createVocabIris(c.rel,h,p,!1))this.addListMapping(h,y,w,g);if(!("rel"in c&&"inlist"in c)){if("rel"in c)for(const w of this.util.createVocabIris(c.rel,h,p,!1))this.emitTriple(this.util.getResourceOrBaseIri(y,h),w,this.util.getResourceOrBaseIri(g,h));if("rev"in c)for(const w of this.util.createVocabIris(c.rev,h,m,!1))this.emitTriple(this.util.getResourceOrBaseIri(g,h),w,this.util.getResourceOrBaseIri(y,h))}}if(!g){if("rel"in c)if("inlist"in c)for(const w of this.util.createVocabIris(c.rel,h,p,!1))this.addListMapping(h,y,w,null),h.incompleteTriples.push({predicate:w,reverse:!1,list:!0});else for(const w of this.util.createVocabIris(c.rel,h,p,!1))h.incompleteTriples.push({predicate:w,reverse:!1});if("rev"in c)for(const w of this.util.createVocabIris(c.rev,h,m,!1))h.incompleteTriples.push({predicate:w,reverse:!0});h.incompleteTriples.length>0&&(g=this.util.createBlankNode())}if("property"in c){h.predicates=this.util.createVocabIris(c.property,h,!0,!1);let w;if("datatype"in c?(h.datatype=this.util.createIri(c.datatype,h,!0,!0,!1),h.datatype&&(h.datatype.value===s.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&h.datatype.value===s.Util.RDF+"HTML")&&(h.collectChildTags=!0)):(!("rev"in c)&&!("rel"in c)&&!("content"in c)&&("resource"in c&&(w=this.util.createIri(c.resource,h,!1,!0,!0)),!w&&"href"in c&&(w=this.util.createIri(c.href,h,!1,!1,!0)),!w&&"src"in c&&(w=this.util.createIri(c.src,h,!1,!1,!0))),"typeof"in c&&!("about"in c)&&(w=b)),"content"in c){const S=this.util.createLiteral(c.content,h);if("inlist"in c)for(const E of h.predicates)this.addListMapping(h,y,E,S);else{const E=this.util.getResourceOrBaseIri(y,h);for(const x of h.predicates)this.emitTriple(E,x,S)}h.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in c){h.interpretObjectAsTime=!0;const S=this.util.createLiteral(c.datetime,h);if("inlist"in c)for(const E of h.predicates)this.addListMapping(h,y,E,S);else{const E=this.util.getResourceOrBaseIri(y,h);for(const x of h.predicates)this.emitTriple(E,x,S)}h.predicates=null}else if(w){const S=this.util.getResourceOrBaseIri(w,h);if("inlist"in c)for(const E of h.predicates)this.addListMapping(h,y,E,S);else{const E=this.util.getResourceOrBaseIri(y,h);for(const x of h.predicates)this.emitTriple(E,x,S)}h.predicates=null}}let _=!1;if(!h.skipElement&&y&&f.incompleteTriples.length>0){_=!0;const w=this.util.getResourceOrBaseIri(f.subject,h),S=this.util.getResourceOrBaseIri(y,h);for(const E of f.incompleteTriples)if(E.reverse)this.emitTriple(S,E.predicate,w);else if(E.list){let x=null;for(let C=this.activeTagStack.length-1;C>=0;C--)if(this.activeTagStack[C].inlist){x=this.activeTagStack[C];break}this.addListMapping(x,y,E.predicate,S)}else this.emitTriple(w,E.predicate,S)}!_&&f.incompleteTriples.length>0&&(h.incompleteTriples=h.incompleteTriples.concat(f.incompleteTriples)),h.subject=y||f.subject,h.object=g||y}onText(l){const c=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&c.collectedPatternTag){c.collectedPatternTag.text.push(l);return}c.text||(c.text=[]),c.text.push(l)}onTagClose(){const l=this.activeTagStack[this.activeTagStack.length-1],c=this.activeTagStack[this.activeTagStack.length-2];if(!(l.collectChildTags&&c.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&l.collectedPatternTag&&l.collectedPatternTag.rootPattern){const d=l.collectedPatternTag.attributes.resource;if(delete l.collectedPatternTag.attributes.resource,delete l.collectedPatternTag.attributes.typeof,this.rdfaPatterns[d]=l.collectedPatternTag,this.pendingRdfaPatternCopies[d]){for(const f of this.pendingRdfaPatternCopies[d])this.emitPatternCopy(f,l.collectedPatternTag,d);delete this.pendingRdfaPatternCopies[d]}this.activeTagStack.pop();return}if(l.predicates){const d=this.util.getResourceOrBaseIri(l.subject,l);let f=l.text||[];l.collectChildTags&&c.collectChildTags&&(f=f.slice(1));const h=this.util.createLiteral(f.join(""),l);if(l.inlist)for(const p of l.predicates)this.addListMapping(l,d,p,h);else for(const p of l.predicates)this.emitTriple(d,p,h);c.predicates||(l.text=null)}if(l.object&&Object.keys(l.listMapping).length>0){const d=this.util.getResourceOrBaseIri(l.object,l);for(const f in l.listMapping){const h=this.util.dataFactory.namedNode(f),p=l.listMapping[f];if(p.length>0){const m=p.map(()=>this.util.createBlankNode());for(let y=0;y<p.length;y++){const g=this.util.getResourceOrBaseIri(p[y],l);this.emitTriple(m[y],this.util.dataFactory.namedNode(s.Util.RDF+"first"),g),this.emitTriple(m[y],this.util.dataFactory.namedNode(s.Util.RDF+"rest"),y<p.length-1?m[y+1]:this.util.dataFactory.namedNode(s.Util.RDF+"nil"))}this.emitTriple(d,h,m[0])}else this.emitTriple(d,h,this.util.dataFactory.namedNode(s.Util.RDF+"nil"))}}}this.activeTagStack.pop(),l.collectChildTags&&l.text&&l.text.push(`</${l.name}>`),l.text&&c&&(c.text?c.text=c.text.concat(l.text):c.text=l.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const l in this.rdfaPatterns){const c=this.rdfaPatterns[l];c.referenced||(c.attributes.typeof="rdfa:Pattern",c.attributes.resource=l,this.emitPatternCopy(c.parentTag,c,l),c.referenced=!1,delete c.attributes.typeof,delete c.attributes.resource)}for(const l in this.pendingRdfaPatternCopies)for(const c of this.pendingRdfaPatternCopies[l])this.activeTagStack.push(c),this.onTagOpen("link",{property:"rdfa:copy",href:l}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(l){return this.features.inheritSubjectInHeadBody&&(l==="head"||l==="body")}addListMapping(l,c,d,f){if(l.explicitNewSubject){const h=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(c,l),d,h),this.emitTriple(h,this.util.dataFactory.namedNode(s.Util.RDF+"first"),this.util.getResourceOrBaseIri(f,l)),this.emitTriple(h,this.util.dataFactory.namedNode(s.Util.RDF+"rest"),this.util.dataFactory.namedNode(s.Util.RDF+"nil"))}else{let h=l.listMappingLocal[d.value];h||(l.listMappingLocal[d.value]=h=[]),f&&h.push(f)}}emitTriple(l,c,d){l.termType==="NamedNode"&&l.value.indexOf(":")<0||c.termType==="NamedNode"&&c.value.indexOf(":")<0||d.termType==="NamedNode"&&d.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(l,c,d,this.defaultGraph))}emitPatternCopy(l,c,d){if(this.activeTagStack.push(l),c.referenced=!0,!c.constructedBlankNodes)c.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const f=this.util.dataFactory.blankNode();return c.constructedBlankNodes.push(f),f};else{let f=0;this.util.blankNodeFactory=()=>c.constructedBlankNodes[f++]}this.emitPatternCopyAbsolute(c,!0,d),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(l,c,d){if(!(!c&&l.attributes.property==="rdfa:copy"&&l.attributes.href===d)){this.onTagOpen(l.name,l.attributes);for(const f of l.text)this.onText(f);for(const f of l.children)this.emitPatternCopyAbsolute(f,!1,d);this.onTagClose()}}initializeParser(l){return new e.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(c){this.emit("error",c)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(c){this.emit("error",c)}},onopentag:(c,d)=>{try{this.onTagOpen(c,d),this.htmlParseListener&&this.htmlParseListener.onTagOpen(c,d)}catch(f){this.emit("error",f)}},ontext:c=>{try{this.onText(c),this.htmlParseListener&&this.htmlParseListener.onText(c)}catch(d){this.emit("error",d)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:l})}};return ip.RdfaParser=o,ip}var z9;function EY(){return z9||(z9=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(mOe(),e),r(gOe(),e),r(_Oe(),e),r(NOe(),e),r(ID(),e),r(SY(),e)}(YA)),YA}var G9;function DOe(){if(G9)return np;G9=1,Object.defineProperty(np,"__esModule",{value:!0}),np.ActorRdfParseXmlRdfa=void 0;const e=xd(),t=EY();let r=class extends e.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,s,o){var c;const u=(a.headers&&a.headers.get("content-language"))??void 0;a.data.on("error",d=>l.emit("error",d));const l=a.data.pipe(new t.RdfaParser({baseIRI:(c=a.metadata)==null?void 0:c.baseIRI,profile:"xml",language:u}));return{data:l,metadata:{triples:!0}}}};return np.ActorRdfParseXmlRdfa=r,np}var W9;function COe(){return W9||(W9=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(DOe(),e)}(XA)),XA}var f3={},up={},K1={},h3,K9;function LOe(){if(K9)return h3;K9=1;var e=function(){var t=function(xe,Me,Ke,et){for(Ke=Ke||{},et=xe.length;et--;Ke[xe[et]]=Me);return Ke},r=[7,12,13,14,15,16,20,25,115,130],n=[7,13,16,20,25,115,130],a=[7,13,16,115,130],s=[1,25],o=[1,29],u=[1,27],l=[1,28],c=[13,16,115,130],d=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],f=[28,56],h=[1,42],p=[46,48,53,56],m=[1,54],y=[1,60],g=[1,56],b=[1,57],v=[1,58],_=[1,63],w=[1,64],S=[1,65],E=[1,66],x=[1,67],C=[1,68],I=[1,75],P=[28,46,48,53,56],L=[28,42,46,48,53,56],D=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],V=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],k=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],$=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],H=[13,16,28,56,115,130],J=[13,16,38,58,87,96,109,115,126,130],Y=[1,116],de=[1,112],Te=[1,108],De=[1,114],Ve=[1,111],le=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],ue=[48,53],Ie=[48,53,87,96,126],Ne=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],we=[1,126],Ae=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],Se=[1,129],z=[48,53,67,87,96,126],M=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],B=[1,133],T=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],O=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],U=[1,151],G=[1,153],Q=[1,156],Z=[1,157],ie=[1,158],te=[1,167],he=[1,175],ce=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],ve=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],Ce=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],Ee={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function(Me,Ke,et,dt,it,rt,Kr){var Je=rt.length-1;switch(it){case 1:this.$=A(ye.factory.namedNode(Be("")),ye.factory.namedNode(Fe),ye.factory.namedNode(qe+"Ontology"));break;case 5:ye.base=ye.factory.namedNode(rt[Je].slice(1,-1)),ye.n3Parser._setBase(ye.base.value);break;case 6:this.$=A(ye.base,ye.factory.namedNode(qe+"imports"),ye.factory.namedNode(rt[Je].slice(1,-1)));break;case 7:this.$=ye.prefixes[rt[Je-1].substr(0,rt[Je-1].length-1)]=Be(rt[Je]);break;case 8:ye.nodeShapeStack=!1,A(ye.currentNodeShape=rt[Je],ye.factory.namedNode(Fe),ye.factory.namedNode(ge+"NodeShape"));break;case 10:this.$=A(ye.currentNodeShape,ye.factory.namedNode(Fe),ye.factory.namedNode(ee+"Class"));break;case 11:this.$=X();break;case 13:this.$=rt[Je].forEach(Le=>A(ye.currentNodeShape,rt[Je-1],Le));break;case 14:this.$=[rt[Je-1],...rt[Je]];break;case 18:this.$=je(rt[Je-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=rt[Je];break;case 20:ye.tempCurrentNodeShape=ye.currentNodeShape,this.$=ye.currentNodeShape=ot();break;case 21:ye.currentNodeShape=ye.tempCurrentNodeShape;break;case 22:case 31:this.$=rt[Je-2];break;case 23:ye.tempCurrentNodeShape=ye.currentNodeShape,ye.currentNodeShape=ye.currentPropertyNode;break;case 24:ye.currentNodeShape=ye.tempCurrentNodeShape;break;case 26:ye.currentNodeShape=rt[Je];break;case 29:ye.nodeShapeStack?(ye.nodeShapeStack.push(ye.currentNodeShape),A(ye.currentPropertyNode,ye.factory.namedNode(ge+"node"),ye.currentNodeShape=ot())):ye.nodeShapeStack=[],this.$=ye.currentNodeShape;break;case 30:ye.nodeShapeStack.length>0&&(ye.currentNodeShape=ye.nodeShapeStack.pop());break;case 32:this.$=rt[Je].forEach(Le=>{A(ye.currentNodeShape,ye.factory.namedNode(ge+"targetClass"),Le)});break;case 35:this.$=A(ye.currentNodeShape,ye.factory.namedNode(ge+rt[Je][0]),rt[Je][1]);break;case 36:break;case 37:const fe=je([rt[Je-1],...rt[Je]].map(Le=>{const Ze=ot();return A(Ze,ye.factory.namedNode(ge+Le[0]),Le[1]),Ze}));this.$=["or",fe];break;case 39:case 46:this.$=F("not",...rt[Je]);break;case 40:case 50:this.$=[rt[Je-2],rt[Je]];break;case 43:this.$=rt[Je]&&R(...rt[Je]);break;case 44:this.$=R("or",je([rt[Je-1],...rt[Je]].map(Le=>{const Ze=ot();return A(Ze,ye.factory.namedNode(ge+Le[0]),Le[1]),Ze})));break;case 47:this.$=[Oe[rt[Je].value]?"datatype":"class",rt[Je]];break;case 48:this.$=["nodeKind",ye.factory.namedNode(ge+rt[Je])];break;case 49:this.$=["node",ye.factory.namedNode(rt[Je])];break;case 51:this.$=void 0;break;case 53:this.$=rt[Je]>0&&R("minCount",ct(rt[Je],q));break;case 54:this.$=R("maxCount",ct(rt[Je],q));break;case 56:this.$=Ye(rt[Je].slice(1));break;case 57:this.$=Be(rt[Je]);break;case 59:A(ye.currentNodeShape,ye.factory.namedNode(ge+"property"),ye.currentPropertyNode=ot()),R("path",rt[Je]);break;case 62:const Pe=ot();A(Pe,ye.factory.namedNode(ge+"alternativePath"),je([rt[Je-1],...rt[Je]])),this.$=Pe;break;case 65:this.$=je([rt[Je-1],...rt[Je]]);break;case 67:A(this.$=ot(),ye.factory.namedNode(ge+rt[Je]),rt[Je-1]);break;case 69:A(this.$=ot(),ye.factory.namedNode(ge+"inversePath"),rt[Je]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=rt[Je-1];break;case 77:this.$=je(rt[Je-1]);break;case 80:this.$=ye.factory.namedNode(Be(rt[Je]));break;case 81:this.$=ye.factory.namedNode(Ye(rt[Je]));break;case 82:this.$=X(ye.factory.namedNode(Fe));break;case 83:this.$=ct(rt[Je]);break;case 84:this.$=ft(rt[Je-1],lowercase(rt[Je].substr(1)));break;case 85:this.$=ct(rt[Je-2],rt[Je]);break;case 86:this.$=ct(rt[Je],q);break;case 87:this.$=ct(rt[Je],W);break;case 88:this.$=ct(rt[Je].toLowerCase(),re);break;case 89:this.$=ct(rt[Je].toLowerCase(),pe);break;case 90:this.$=ne(rt[Je],1);break;case 91:this.$=ne(rt[Je],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:rt[Je-1].push(rt[Je]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[rt[Je]];break}},table:[t(r,[2,92],{3:1,4:2}),{1:[3]},t(n,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),t(a,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),t(r,[2,93]),t(r,[2,2]),t(r,[2,3]),t(r,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},t(n,[2,97]),{7:[2,28],13:s,16:o,18:24,51:23,52:22,114:26,115:u,130:l},t(n,[2,94]),t(n,[2,95]),{13:s,16:o,17:30,18:31,114:26,115:u,130:l},{13:s,16:o,17:32,18:31,114:26,115:u,130:l},t(r,[2,5]),t(r,[2,6]),{13:[1,33]},{1:[2,1]},t(a,[2,111]),{13:s,16:o,18:36,29:34,30:35,114:26,115:u,130:l},t(c,[2,26]),t(d,[2,80]),t(d,[2,81]),t(d,[2,82]),t(d,[2,140]),t(d,[2,141]),t(f,[2,98],{21:37,60:38,61:[1,39]}),t([28,56,61],[2,8]),{26:40,27:41,28:h,56:[2,102]},t(r,[2,7]),{53:[1,43]},t(p,[2,104],{31:44,27:45,28:h}),{13:s,16:o,18:51,32:46,33:47,35:48,36:49,37:50,38:m,43:53,44:y,92:g,113:52,114:26,115:u,116:55,119:b,120:v,121:59,122:61,123:62,130:l,131:_,132:w,133:S,134:E,135:x,136:C},{22:69,27:70,28:h,56:[2,100]},t(f,[2,99]),{13:s,16:o,18:72,62:71,114:26,115:u,130:l},{23:73,55:74,56:I},{56:[2,103]},{13:s,16:o,18:36,29:76,30:35,114:26,115:u,130:l},t(a,[2,27]),t(p,[2,12]),t(p,[2,105]),t(P,[2,13]),t(L,[2,106],{34:77}),t(D,[2,15]),t(D,[2,16]),t(D,[2,17]),t(V,[2,78]),t(V,[2,79]),{13:s,16:o,18:36,29:78,30:35,114:26,115:u,130:l},t(k,[2,108],{39:79}),t(V,[2,83],{117:[1,80],118:[1,81]}),t(V,[2,86]),t(V,[2,87]),t(V,[2,88]),t(V,[2,89]),t(c,[2,20]),t($,[2,90]),t($,[2,91]),t(V,[2,142]),t(V,[2,143]),t($,[2,144]),t($,[2,145]),t($,[2,146]),t($,[2,147]),{23:82,55:74,56:I},{56:[2,101]},t(f,[2,32],{114:26,18:83,13:s,16:o,115:u,130:l}),t(H,[2,114]),t(n,[2,10]),t(J,[2,112],{59:84}),t(J,[2,29]),t(p,[2,11]),t(P,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:s,16:o,18:51,33:90,35:48,36:49,37:50,38:m,40:[1,89],43:53,44:y,92:g,113:52,114:26,115:u,116:55,119:b,120:v,121:59,122:61,123:62,130:l,131:_,132:w,133:S,134:E,135:x,136:C},t(V,[2,84]),{13:s,16:o,18:91,114:26,115:u,130:l},t(n,[2,9]),t(H,[2,115]),{13:s,16:o,18:115,38:Y,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:de,96:Te,97:101,99:103,103:106,105:109,106:113,108:110,109:De,114:26,115:u,125:96,126:Ve,130:l},t(L,[2,107]),{13:s,16:o,18:51,33:117,35:48,36:49,37:50,38:m,43:53,44:y,92:g,113:52,114:26,115:u,116:55,119:b,120:v,121:59,122:61,123:62,130:l,131:_,132:w,133:S,134:E,135:x,136:C},t(D,[2,22]),t(D,[2,21]),t(D,[2,18]),t(k,[2,109]),t(V,[2,85]),t(le,[2,31]),t(J,[2,113]),t(le,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},t(ue,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:de,96:Te,126:Ve}),t(ue,[2,119]),t(Ie,[2,116]),t(Ne,[2,128],{79:123}),t(Ie,[2,35]),t(Ne,[2,59]),t(Ie,[2,36],{71:124,66:125,67:we}),t(Ae,[2,61],{100:127,98:128,67:Se}),t(z,[2,38]),{72:130,74:107,87:de,126:Ve},t(M,[2,64],{104:131,101:132,102:B}),{75:[1,134]},t([13,16,56,85,87,95,115,126,128,129,130],[2,58]),t(T,[2,68]),{13:s,16:o,18:115,38:Y,105:135,106:113,114:26,115:u,130:l},{75:[2,124]},{75:[2,125]},t(T,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),t([13,16,38,115,130],[2,70]),t(O,[2,74]),{13:s,16:o,18:115,38:Y,97:140,99:103,103:106,105:109,106:113,108:110,109:De,114:26,115:u,130:l},t(L,[2,19]),{53:[1,141]},{53:[2,121]},{13:s,16:o,18:36,29:142,30:35,114:26,115:u,130:l},t(c,[2,23]),t(Ie,[2,117]),t(ue,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:s,16:o,44:[1,146],56:I,85:U,87:G,95:Q,96:Te,115:u,128:Z,129:ie,130:l}),t(Ie,[2,37],{66:159,67:we}),t(z,[2,122]),{68:160,72:104,73:105,74:107,87:de,96:Te,126:Ve},t(Ae,[2,62],{98:161,67:Se}),t(M,[2,134]),{13:s,16:o,18:115,38:Y,99:162,103:106,105:109,106:113,108:110,109:De,114:26,115:u,130:l},t(z,[2,39]),t(M,[2,65],{101:163,102:B}),t(T,[2,136]),{13:s,16:o,18:115,38:Y,103:164,105:109,106:113,108:110,109:De,114:26,115:u,130:l},{13:s,16:o,18:51,35:166,44:te,76:165,92:g,113:52,114:26,115:u,116:55,119:b,120:v,121:59,122:61,123:62,130:l,131:_,132:w,133:S,134:E,135:x,136:C},t(T,[2,69]),t(T,[2,67]),t(T,[2,71]),t(T,[2,72]),t(T,[2,73]),{40:[1,168]},t(J,[2,33]),{48:[1,170],49:169},t(Ne,[2,129]),t(Ne,[2,126]),t(Ne,[2,127]),{89:171,92:[1,172]},t(Ne,[2,43],{83:173,80:174,67:he}),t(ce,[2,45]),{13:s,16:o,18:150,23:154,55:74,56:I,84:176,85:U,86:152,87:G,94:155,95:Q,114:26,115:u,128:Z,129:ie,130:l},t(ce,[2,47]),t(ce,[2,48]),t(ce,[2,49]),{75:[1,177]},t(ce,[2,51]),t(ce,[2,56]),{13:[1,178]},t(ce,[2,132]),t(ce,[2,133]),t(z,[2,123]),t(z,[2,34]),t(M,[2,135]),t(M,[2,60]),t(T,[2,137]),t(T,[2,63]),t(z,[2,40]),t(ve,[2,76]),t(Ce,[2,138],{112:179}),t(O,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},t(Ne,[2,44],{80:181,67:he}),t(ce,[2,130]),{13:s,16:o,18:150,23:154,55:74,56:I,73:149,81:182,84:148,85:U,86:152,87:G,94:155,95:Q,96:Te,114:26,115:u,128:Z,129:ie,130:l},t(ce,[2,46]),{13:s,16:o,18:51,35:166,44:te,76:183,92:g,113:52,114:26,115:u,116:55,119:b,120:v,121:59,122:61,123:62,130:l,131:_,132:w,133:S,134:E,135:x,136:C},t(ce,[2,57]),{13:s,16:o,18:51,35:185,46:[1,184],92:g,113:52,114:26,115:u,116:55,119:b,120:v,121:59,122:61,123:62,130:l,131:_,132:w,133:S,134:E,135:x,136:C},{91:186,92:[1,187],93:[1,188]},t(ce,[2,131]),t(ce,[2,42]),t(ce,[2,50]),t(ve,[2,77]),t(Ce,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},t(Ne,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function(Me,Ke){if(Ke.recoverable)this.trace(Me);else{var et=new Error(Me);throw et.hash=Ke,et}},parse:function(Me){var Ke=this,et=[0],dt=[null],it=[],rt=this.table,Kr="",Je=0,fe=0,Pe=2,Le=1,Ze=it.slice.call(arguments,1),gt=Object.create(this.lexer),It={yy:{}};for(var Dt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Dt)&&(It.yy[Dt]=this.yy[Dt]);gt.setInput(Me,It.yy),It.yy.lexer=gt,It.yy.parser=this,typeof gt.yylloc>"u"&&(gt.yylloc={});var on=gt.yylloc;it.push(on);var Sa=gt.options&&gt.options.ranges;typeof It.yy.parseError=="function"?this.parseError=It.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var jn=function(){var Fn;return Fn=gt.lex()||Le,typeof Fn!="number"&&(Fn=Ke.symbols_[Fn]||Fn),Fn},dr,oi,Fr,Tn,yi={},Mn,dn,as,En;;){if(oi=et[et.length-1],this.defaultActions[oi]?Fr=this.defaultActions[oi]:((dr===null||typeof dr>"u")&&(dr=jn()),Fr=rt[oi]&&rt[oi][dr]),typeof Fr>"u"||!Fr.length||!Fr[0]){var mi="";En=[];for(Mn in rt[oi])this.terminals_[Mn]&&Mn>Pe&&En.push("'"+this.terminals_[Mn]+"'");gt.showPosition?mi="Parse error on line "+(Je+1)+`:
`+gt.showPosition()+`
Expecting `+En.join(", ")+", got '"+(this.terminals_[dr]||dr)+"'":mi="Parse error on line "+(Je+1)+": Unexpected "+(dr==Le?"end of input":"'"+(this.terminals_[dr]||dr)+"'"),this.parseError(mi,{text:gt.match,token:this.terminals_[dr]||dr,line:gt.yylineno,loc:on,expected:En})}if(Fr[0]instanceof Array&&Fr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+oi+", token: "+dr);switch(Fr[0]){case 1:et.push(dr),dt.push(gt.yytext),it.push(gt.yylloc),et.push(Fr[1]),dr=null,fe=gt.yyleng,Kr=gt.yytext,Je=gt.yylineno,on=gt.yylloc;break;case 2:if(dn=this.productions_[Fr[1]][1],yi.$=dt[dt.length-dn],yi._$={first_line:it[it.length-(dn||1)].first_line,last_line:it[it.length-1].last_line,first_column:it[it.length-(dn||1)].first_column,last_column:it[it.length-1].last_column},Sa&&(yi._$.range=[it[it.length-(dn||1)].range[0],it[it.length-1].range[1]]),Tn=this.performAction.apply(yi,[Kr,fe,Je,It.yy,Fr[1],dt,it].concat(Ze)),typeof Tn<"u")return Tn;dn&&(et=et.slice(0,-1*dn*2),dt=dt.slice(0,-1*dn),it=it.slice(0,-1*dn)),et.push(this.productions_[Fr[1]][0]),dt.push(yi.$),it.push(yi._$),as=rt[et[et.length-2]][et[et.length-1]],et.push(as);break;case 3:return!0}}return!0}};const Ue="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Fe=Ue+"type",Qe=Ue+"first",ke=Ue+"rest",K=Ue+"nil",j="http://www.w3.org/2001/XMLSchema#",q=j+"integer",W=j+"decimal",re=j+"double",pe=j+"boolean",ge="http://www.w3.org/ns/shacl#",qe="http://www.w3.org/2002/07/owl#",ee="http://www.w3.org/2000/01/rdf-schema#",Oe={[q]:!0,[W]:!0,[j+"float"]:!0,[re]:!0,[j+"string"]:!0,[pe]:!0,[j+"dateTime"]:!0,[j+"nonPositiveInteger"]:!0,[j+"negativeInteger"]:!0,[j+"long"]:!0,[j+"int"]:!0,[j+"short"]:!0,[j+"byte"]:!0,[j+"nonNegativeInteger"]:!0,[j+"unsignedLong"]:!0,[j+"unsignedShort"]:!0,[j+"unsignedByte"]:!0,[j+"positiveInteger"]:!0,[Ue+"langString"]:!0};function je(xe,Me=!1){let Ke=0,et=xe.length;if(Me&&et===0)return ye.factory.namedNode(K);const dt=head=ot();return et===0&&A(head,ye.factory.namedNode(ke),ye.factory.namedNode(K)),xe.forEach(it=>{if(it===void 0)throw new Error("b");A(head,ye.factory.namedNode(Qe),it),A(head,ye.factory.namedNode(ke),head=++Ke<et?ot():ye.factory.namedNode(K))}),dt}function Be(xe){return ye.n3Parser._resolveIRI(xe[0]==="<"?xe.substring(1,xe.length-1):xe)}function Ye(xe){const Me=xe.indexOf(":"),Ke=xe.substr(0,Me),et=ye.prefixes[Ke];if(!et)throw new Error("Unknown prefix: "+Ke);return Be(et+xe.substr(Me+1))}function ct(xe,Me){return Me&&Me.termType!=="NamedNode"&&(Me=ye.factory.namedNode(Me)),ye.factory.literal(xe,Me)}function ft(xe,Me){return ye.factory.literal(xe,Me)}function ot(xe){return typeof xe=="string"?xe.startsWith("e_")?ye.factory.blankNode(xe):ye.factory.blankNode("e_"+xe):ye.factory.blankNode("g_"+mt++)}var mt=0;ye._resetBlanks=function(){mt=0};function ne(xe,Me){return ye.n3Parser._lexer._unescape(xe.substring(Me,xe.length-Me))}function A(xe,Me,Ke){if(!xe.termType||!Me.termType||Me.value.includes(",")||!Ke.termType)throw new Error(`boo ${xe.value} ${Me.value} ${Ke.value}`);ye.onQuad(ye.factory.quad(xe,Me,Ke))}function R(xe,Me){A(ye.currentPropertyNode,ye.factory.namedNode(ge+xe),Me)}function F(xe,Me,Ke){const et=ot();return A(et,ye.factory.namedNode(ge+Me),Ke),[xe,et]}function X(xe){if(!ye.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return xe}var me=function(){var xe={EOF:1,parseError:function(Ke,et){if(this.yy.parser)this.yy.parser.parseError(Ke,et);else throw new Error(Ke)},setInput:function(Me,Ke){return this.yy=Ke||this.yy||{},this._input=Me,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Me=this._input[0];this.yytext+=Me,this.yyleng++,this.offset++,this.match+=Me,this.matched+=Me;var Ke=Me.match(/(?:\r\n?|\n).*/g);return Ke?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Me},unput:function(Me){var Ke=Me.length,et=Me.split(/(?:\r\n?|\n)/g);this._input=Me+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ke),this.offset-=Ke;var dt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),et.length-1&&(this.yylineno-=et.length-1);var it=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:et?(et.length===dt.length?this.yylloc.first_column:0)+dt[dt.length-et.length].length-et[0].length:this.yylloc.first_column-Ke},this.options.ranges&&(this.yylloc.range=[it[0],it[0]+this.yyleng-Ke]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Me){this.unput(this.match.slice(Me))},pastInput:function(){var Me=this.matched.substr(0,this.matched.length-this.match.length);return(Me.length>20?"...":"")+Me.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Me=this.match;return Me.length<20&&(Me+=this._input.substr(0,20-Me.length)),(Me.substr(0,20)+(Me.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Me=this.pastInput(),Ke=new Array(Me.length+1).join("-");return Me+this.upcomingInput()+`
`+Ke+"^"},test_match:function(Me,Ke){var et,dt,it;if(this.options.backtrack_lexer&&(it={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(it.yylloc.range=this.yylloc.range.slice(0))),dt=Me[0].match(/(?:\r\n?|\n).*/g),dt&&(this.yylineno+=dt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:dt?dt[dt.length-1].length-dt[dt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Me[0].length},this.yytext+=Me[0],this.match+=Me[0],this.matches=Me,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Me[0].length),this.matched+=Me[0],et=this.performAction.call(this,this.yy,this,Ke,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),et)return et;if(this._backtrack){for(var rt in it)this[rt]=it[rt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Me,Ke,et,dt;this._more||(this.yytext="",this.match="");for(var it=this._currentRules(),rt=0;rt<it.length;rt++)if(et=this._input.match(this.rules[it[rt]]),et&&(!Ke||et[0].length>Ke[0].length)){if(Ke=et,dt=rt,this.options.backtrack_lexer){if(Me=this.test_match(et,it[rt]),Me!==!1)return Me;if(this._backtrack){Ke=!1;continue}else return!1}else if(!this.options.flex)break}return Ke?(Me=this.test_match(Ke,it[dt]),Me!==!1?Me:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ke=this.next();return Ke||this.lex()},begin:function(Ke){this.conditionStack.push(Ke)},popState:function(){var Ke=this.conditionStack.length-1;return Ke>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ke){return Ke=this.conditionStack.length-1-Math.abs(Ke||0),Ke>=0?this.conditionStack[Ke]:"INITIAL"},pushState:function(Ke){this.begin(Ke)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(Ke,et,dt,it){switch(dt){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(et.yytext);break}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return xe}();Ee.lexer=me;function ye(){this.yy={}}return ye.prototype=Ee,Ee.Parser=ye,new ye}();return h3=e,h3}var J9;function jOe(){if(J9)return K1;J9=1;const e=LOe().Parser,t=Wo;class r{constructor(){}parse(a,{extendedSyntax:s,baseIRI:o}={}){this._parser=new e,this._parser.Parser.factory=t.DataFactory,this._parser.Parser.base=t.DataFactory.namedNode(o||"urn:x-base:default"),this._parser.Parser.extended=s===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new t.Parser({baseIRI:o||"urn:x-base:default"});const u=[];return this._parser.Parser.onQuad=l=>{u.push(l)},this._parser.parse(a),u.prefixes=this._parser.Parser.prefixes,u}}return K1.Parser=r,K1.parse=function(a,s){return new r().parse(a,s)},K1}var p3={exports:{}},X9;function MOe(){return X9||(X9=1,function(e){(function(){var t;typeof window=="object"&&window?t=window:t=N,e.exports?e.exports=t.Promise?t.Promise:s:t.Promise||(t.Promise=s);var r=t.setImmediate||function(h){setTimeout(h,1)};function n(h,p){return function(){h.apply(p,arguments)}}var a=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function s(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof h!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(h,n(u,this),n(l,this))}function o(h){var p=this;if(this._state===null){this._deferreds.push(h);return}r(function(){var m=p._state?h.onFulfilled:h.onRejected;if(m===null){(p._state?h.resolve:h.reject)(p._value);return}var y;try{y=m(p._value)}catch(g){h.reject(g);return}h.resolve(y)})}function u(h){try{if(h===this)throw new TypeError("A promise cannot be resolved with itself.");if(h&&(typeof h=="object"||typeof h=="function")){var p=h.then;if(typeof p=="function"){f(n(p,h),n(u,this),n(l,this));return}}this._state=!0,this._value=h,c.call(this)}catch(m){l.call(this,m)}}function l(h){this._state=!1,this._value=h,c.call(this)}function c(){for(var h=0,p=this._deferreds.length;h<p;h++)o.call(this,this._deferreds[h]);this._deferreds=null}function d(h,p,m,y){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof p=="function"?p:null,this.resolve=m,this.reject=y}function f(h,p,m){var y=!1;try{h(function(g){y||(y=!0,p(g))},function(g){y||(y=!0,m(g))})}catch(g){if(y)return;y=!0,m(g)}}s.prototype.catch=function(h){return this.then(null,h)},s.prototype.then=function(h,p){var m=this;return new s(function(y,g){o.call(m,new d(h,p,y,g))})},s.all=function(){var h=Array.prototype.slice.call(arguments.length===1&&a(arguments[0])?arguments[0]:arguments);return new s(function(p,m){if(h.length===0)return p([]);var y=h.length;function g(v,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var w=_.then;if(typeof w=="function"){w.call(_,function(S){g(v,S)},m);return}}h[v]=_,--y===0&&p(h)}catch(S){m(S)}}for(var b=0;b<h.length;b++)g(b,h[b])})},s.resolve=function(h){return h&&typeof h=="object"&&h.constructor===s?h:new s(function(p){p(h)})},s.reject=function(h){return new s(function(p,m){m(h)})},s.race=function(h){return new s(function(p,m){for(var y=0,g=h.length;y<g;y++)h[y].then(p,m)})}})()}(p3)),p3.exports}var y3,Y9;function Oc(){if(Y9)return y3;Y9=1;var e=MOe();return y3=function(t,r,n){typeof r=="function"&&(n=r,r=null);var a="",s=new e(function(o,u){t.on("data",function(l){a+=typeof r=="string"?l.toString(r):l.toString()}),t.on("end",function(){o(a)}),t.on("error",u)});return n&&s.then(function(o){n(null,o)},n),s},y3}var cp={},Z9;function FOe(){if(Z9)return cp;Z9=1,Object.defineProperty(cp,"__esModule",{value:!0}),cp.PrefixWrappingIterator=void 0;const e=$t();let t=class extends e.WrappingIterator{constructor(n){super(n==null?void 0:n.then(a=>(this.prefixes=a.prefixes,a)))}read(){if(this.prefixes){for(const n of Object.entries(this.prefixes))this.emit("prefix",...n);delete this.prefixes}return super.read()}};return cp.PrefixWrappingIterator=t,cp}var eq;function qOe(){if(eq)return up;eq=1,Object.defineProperty(up,"__esModule",{value:!0}),up.ActorRdfParseShaclc=void 0;const e=xd(),t=Lt,r=jOe(),n=Oc(),a=FOe();let s=class extends e.ActorRdfParseFixedMediaTypes{constructor(u){super(u)}async runHandle(u,l,c){const d=new a.PrefixWrappingIterator(n(u.data).then(h=>{var p;return(0,r.parse)(h,{extendedSyntax:l==="text/shaclc-ext",baseIRI:(p=u.metadata)==null?void 0:p.baseIRI})})),f=new t.Readable({objectMode:!0});return d.on("prefix",(...h)=>f.emit("prefix",...h)),{data:f.wrap(d),metadata:{triples:!0}}}};return up.ActorRdfParseShaclc=s,up}var tq;function BOe(){return tq||(tq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(qOe(),e)}(f3)),f3}var m3={},lp={},g3={},dp={},Qc={},rq;function AY(){if(rq)return Qc;rq=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.QuoteType=void 0;var e=Yl(),t;(function(c){c[c.Tab=9]="Tab",c[c.NewLine=10]="NewLine",c[c.FormFeed=12]="FormFeed",c[c.CarriageReturn=13]="CarriageReturn",c[c.Space=32]="Space",c[c.ExclamationMark=33]="ExclamationMark",c[c.Number=35]="Number",c[c.Amp=38]="Amp",c[c.SingleQuote=39]="SingleQuote",c[c.DoubleQuote=34]="DoubleQuote",c[c.Dash=45]="Dash",c[c.Slash=47]="Slash",c[c.Zero=48]="Zero",c[c.Nine=57]="Nine",c[c.Semi=59]="Semi",c[c.Lt=60]="Lt",c[c.Eq=61]="Eq",c[c.Gt=62]="Gt",c[c.Questionmark=63]="Questionmark",c[c.UpperA=65]="UpperA",c[c.LowerA=97]="LowerA",c[c.UpperF=70]="UpperF",c[c.LowerF=102]="LowerF",c[c.UpperZ=90]="UpperZ",c[c.LowerZ=122]="LowerZ",c[c.LowerX=120]="LowerX",c[c.OpeningSquareBracket=91]="OpeningSquareBracket"})(t||(t={}));var r;(function(c){c[c.Text=1]="Text",c[c.BeforeTagName=2]="BeforeTagName",c[c.InTagName=3]="InTagName",c[c.InSelfClosingTag=4]="InSelfClosingTag",c[c.BeforeClosingTagName=5]="BeforeClosingTagName",c[c.InClosingTagName=6]="InClosingTagName",c[c.AfterClosingTagName=7]="AfterClosingTagName",c[c.BeforeAttributeName=8]="BeforeAttributeName",c[c.InAttributeName=9]="InAttributeName",c[c.AfterAttributeName=10]="AfterAttributeName",c[c.BeforeAttributeValue=11]="BeforeAttributeValue",c[c.InAttributeValueDq=12]="InAttributeValueDq",c[c.InAttributeValueSq=13]="InAttributeValueSq",c[c.InAttributeValueNq=14]="InAttributeValueNq",c[c.BeforeDeclaration=15]="BeforeDeclaration",c[c.InDeclaration=16]="InDeclaration",c[c.InProcessingInstruction=17]="InProcessingInstruction",c[c.BeforeComment=18]="BeforeComment",c[c.CDATASequence=19]="CDATASequence",c[c.InSpecialComment=20]="InSpecialComment",c[c.InCommentLike=21]="InCommentLike",c[c.BeforeSpecialS=22]="BeforeSpecialS",c[c.BeforeSpecialT=23]="BeforeSpecialT",c[c.SpecialStartSequence=24]="SpecialStartSequence",c[c.InSpecialTag=25]="InSpecialTag",c[c.InEntity=26]="InEntity"})(r||(r={}));function n(c){return c===t.Space||c===t.NewLine||c===t.Tab||c===t.FormFeed||c===t.CarriageReturn}function a(c){return c===t.Slash||c===t.Gt||n(c)}function s(c){return c>=t.LowerA&&c<=t.LowerZ||c>=t.UpperA&&c<=t.UpperZ}var o;(function(c){c[c.NoValue=0]="NoValue",c[c.Unquoted=1]="Unquoted",c[c.Single=2]="Single",c[c.Double=3]="Double"})(o||(Qc.QuoteType=o={}));var u={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])},l=function(){function c(d,f){var h=d.xmlMode,p=h===void 0?!1:h,m=d.decodeEntities,y=m===void 0?!0:m,g=this;this.cbs=f,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=p,this.decodeEntities=y,this.entityDecoder=new e.EntityDecoder(p?e.xmlDecodeTree:e.htmlDecodeTree,function(b,v){return g.emitCodePoint(b,v)})}return c.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},c.prototype.write=function(d){this.offset+=this.buffer.length,this.buffer=d,this.parse()},c.prototype.end=function(){this.running&&this.finish()},c.prototype.pause=function(){this.running=!1},c.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},c.prototype.stateText=function(d){d===t.Lt||!this.decodeEntities&&this.fastForwardTo(t.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&d===t.Amp&&this.startEntity()},c.prototype.stateSpecialStartSequence=function(d){var f=this.sequenceIndex===this.currentSequence.length,h=f?a(d):(d|32)===this.currentSequence[this.sequenceIndex];if(!h)this.isSpecial=!1;else if(!f){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(d)},c.prototype.stateInSpecialTag=function(d){if(this.sequenceIndex===this.currentSequence.length){if(d===t.Gt||n(d)){var f=this.index-this.currentSequence.length;if(this.sectionStart<f){var h=this.index;this.index=f,this.cbs.ontext(this.sectionStart,f),this.index=h}this.isSpecial=!1,this.sectionStart=f+2,this.stateInClosingTagName(d);return}this.sequenceIndex=0}(d|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===u.TitleEnd?this.decodeEntities&&d===t.Amp&&this.startEntity():this.fastForwardTo(t.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(d===t.Lt)},c.prototype.stateCDATASequence=function(d){d===u.Cdata[this.sequenceIndex]?++this.sequenceIndex===u.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=u.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(d))},c.prototype.fastForwardTo=function(d){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===d)return!0;return this.index=this.buffer.length+this.offset-1,!1},c.prototype.stateInCommentLike=function(d){d===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):d!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},c.prototype.isTagStartChar=function(d){return this.xmlMode?!a(d):s(d)},c.prototype.startSpecial=function(d,f){this.isSpecial=!0,this.currentSequence=d,this.sequenceIndex=f,this.state=r.SpecialStartSequence},c.prototype.stateBeforeTagName=function(d){if(d===t.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(d===t.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(d)){var f=d|32;this.sectionStart=this.index,this.xmlMode?this.state=r.InTagName:f===u.ScriptEnd[2]?this.state=r.BeforeSpecialS:f===u.TitleEnd[2]?this.state=r.BeforeSpecialT:this.state=r.InTagName}else d===t.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(d))},c.prototype.stateInTagName=function(d){a(d)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(d))},c.prototype.stateBeforeClosingTagName=function(d){n(d)||(d===t.Gt?this.state=r.Text:(this.state=this.isTagStartChar(d)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},c.prototype.stateInClosingTagName=function(d){(d===t.Gt||n(d))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(d))},c.prototype.stateAfterClosingTagName=function(d){(d===t.Gt||this.fastForwardTo(t.Gt))&&(this.state=r.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeAttributeName=function(d){d===t.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.sectionStart=this.index+1):d===t.Slash?this.state=r.InSelfClosingTag:n(d)||(this.state=r.InAttributeName,this.sectionStart=this.index)},c.prototype.stateInSelfClosingTag=function(d){d===t.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):n(d)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(d))},c.prototype.stateInAttributeName=function(d){(d===t.Eq||a(d))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=r.AfterAttributeName,this.stateAfterAttributeName(d))},c.prototype.stateAfterAttributeName=function(d){d===t.Eq?this.state=r.BeforeAttributeValue:d===t.Slash||d===t.Gt?(this.cbs.onattribend(o.NoValue,this.sectionStart),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(d)):n(d)||(this.cbs.onattribend(o.NoValue,this.sectionStart),this.state=r.InAttributeName,this.sectionStart=this.index)},c.prototype.stateBeforeAttributeValue=function(d){d===t.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):d===t.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):n(d)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(d))},c.prototype.handleInAttributeValue=function(d,f){d===f||!this.decodeEntities&&this.fastForwardTo(f)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(f===t.DoubleQuote?o.Double:o.Single,this.index+1),this.state=r.BeforeAttributeName):this.decodeEntities&&d===t.Amp&&this.startEntity()},c.prototype.stateInAttributeValueDoubleQuotes=function(d){this.handleInAttributeValue(d,t.DoubleQuote)},c.prototype.stateInAttributeValueSingleQuotes=function(d){this.handleInAttributeValue(d,t.SingleQuote)},c.prototype.stateInAttributeValueNoQuotes=function(d){n(d)||d===t.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(o.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(d)):this.decodeEntities&&d===t.Amp&&this.startEntity()},c.prototype.stateBeforeDeclaration=function(d){d===t.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=d===t.Dash?r.BeforeComment:r.InDeclaration},c.prototype.stateInDeclaration=function(d){(d===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},c.prototype.stateInProcessingInstruction=function(d){(d===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeComment=function(d){d===t.Dash?(this.state=r.InCommentLike,this.currentSequence=u.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},c.prototype.stateInSpecialComment=function(d){(d===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeSpecialS=function(d){var f=d|32;f===u.ScriptEnd[3]?this.startSpecial(u.ScriptEnd,4):f===u.StyleEnd[3]?this.startSpecial(u.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(d))},c.prototype.stateBeforeSpecialT=function(d){var f=d|32;f===u.TitleEnd[3]?this.startSpecial(u.TitleEnd,4):f===u.TextareaEnd[3]?this.startSpecial(u.TextareaEnd,4):(this.state=r.InTagName,this.stateInTagName(d))},c.prototype.startEntity=function(){this.baseState=this.state,this.state=r.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?e.DecodingMode.Strict:this.baseState===r.Text||this.baseState===r.InSpecialTag?e.DecodingMode.Legacy:e.DecodingMode.Attribute)},c.prototype.stateInEntity=function(){var d=this.entityDecoder.write(this.buffer,this.index-this.offset);d>=0?(this.state=this.baseState,d===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1},c.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},c.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},c.prototype.parse=function(){for(;this.shouldContinue();){var d=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(d);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(d);break}case r.InSpecialTag:{this.stateInSpecialTag(d);break}case r.CDATASequence:{this.stateCDATASequence(d);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(d);break}case r.InAttributeName:{this.stateInAttributeName(d);break}case r.InCommentLike:{this.stateInCommentLike(d);break}case r.InSpecialComment:{this.stateInSpecialComment(d);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(d);break}case r.InTagName:{this.stateInTagName(d);break}case r.InClosingTagName:{this.stateInClosingTagName(d);break}case r.BeforeTagName:{this.stateBeforeTagName(d);break}case r.AfterAttributeName:{this.stateAfterAttributeName(d);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(d);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(d);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(d);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(d);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(d);break}case r.BeforeSpecialT:{this.stateBeforeSpecialT(d);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(d);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(d);break}case r.InDeclaration:{this.stateInDeclaration(d);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(d);break}case r.BeforeComment:{this.stateBeforeComment(d);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(d);break}case r.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()},c.prototype.finish=function(){this.state===r.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()},c.prototype.handleTrailingData=function(){var d=this.buffer.length+this.offset;this.sectionStart>=d||(this.state===r.InCommentLike?this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,d,0):this.cbs.oncomment(this.sectionStart,d,0):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,d))},c.prototype.emitCodePoint=function(d,f){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+f,this.index=this.sectionStart-1,this.cbs.onattribentity(d)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+f,this.index=this.sectionStart-1,this.cbs.ontextentity(d,this.sectionStart))},c}();return Qc.default=l,Qc}var nq;function iq(){if(nq)return dp;nq=1;var e=N&&N.__createBinding||(Object.create?function(g,b,v,_){_===void 0&&(_=v);var w=Object.getOwnPropertyDescriptor(b,v);(!w||("get"in w?!b.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(g,_,w)}:function(g,b,v,_){_===void 0&&(_=v),g[_]=b[v]}),t=N&&N.__setModuleDefault||(Object.create?function(g,b){Object.defineProperty(g,"default",{enumerable:!0,value:b})}:function(g,b){g.default=b}),r=N&&N.__importStar||function(g){if(g&&g.__esModule)return g;var b={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&e(b,g,v);return t(b,g),b};Object.defineProperty(dp,"__esModule",{value:!0}),dp.Parser=void 0;var n=r(AY()),a=Yl(),s=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),u=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),c=new Set(["rt","rp"]),d=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",s],["input",s],["output",s],["button",s],["datalist",s],["textarea",s],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",c],["rp",c],["tbody",u],["tfoot",u]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),m=/\s|\//,y=function(){function g(b,v){v===void 0&&(v={});var _,w,S,E,x,C;this.options=v,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=b??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(_=v.lowerCaseTags)!==null&&_!==void 0?_:this.htmlMode,this.lowerCaseAttributeNames=(w=v.lowerCaseAttributeNames)!==null&&w!==void 0?w:this.htmlMode,this.recognizeSelfClosing=(S=v.recognizeSelfClosing)!==null&&S!==void 0?S:!this.htmlMode,this.tokenizer=new((E=v.Tokenizer)!==null&&E!==void 0?E:n.default)(this.options,this),this.foreignContext=[!this.htmlMode],(C=(x=this.cbs).onparserinit)===null||C===void 0||C.call(x,this)}return g.prototype.ontext=function(b,v){var _,w,S=this.getSlice(b,v);this.endIndex=v-1,(w=(_=this.cbs).ontext)===null||w===void 0||w.call(_,S),this.startIndex=v},g.prototype.ontextentity=function(b,v){var _,w;this.endIndex=v-1,(w=(_=this.cbs).ontext)===null||w===void 0||w.call(_,(0,a.fromCodePoint)(b)),this.startIndex=v},g.prototype.isVoidElement=function(b){return this.htmlMode&&f.has(b)},g.prototype.onopentagname=function(b,v){this.endIndex=v;var _=this.getSlice(b,v);this.lowerCaseTagNames&&(_=_.toLowerCase()),this.emitOpenTag(_)},g.prototype.emitOpenTag=function(b){var v,_,w,S;this.openTagStart=this.startIndex,this.tagname=b;var E=this.htmlMode&&d.get(b);if(E)for(;this.stack.length>0&&E.has(this.stack[0]);){var x=this.stack.shift();(_=(v=this.cbs).onclosetag)===null||_===void 0||_.call(v,x,!0)}this.isVoidElement(b)||(this.stack.unshift(b),this.htmlMode&&(h.has(b)?this.foreignContext.unshift(!0):p.has(b)&&this.foreignContext.unshift(!1))),(S=(w=this.cbs).onopentagname)===null||S===void 0||S.call(w,b),this.cbs.onopentag&&(this.attribs={})},g.prototype.endOpenTag=function(b){var v,_;this.startIndex=this.openTagStart,this.attribs&&((_=(v=this.cbs).onopentag)===null||_===void 0||_.call(v,this.tagname,this.attribs,b),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},g.prototype.onopentagend=function(b){this.endIndex=b,this.endOpenTag(!1),this.startIndex=b+1},g.prototype.onclosetag=function(b,v){var _,w,S,E,x,C,I,P;this.endIndex=v;var L=this.getSlice(b,v);if(this.lowerCaseTagNames&&(L=L.toLowerCase()),this.htmlMode&&(h.has(L)||p.has(L))&&this.foreignContext.shift(),this.isVoidElement(L))this.htmlMode&&L==="br"&&((E=(S=this.cbs).onopentagname)===null||E===void 0||E.call(S,"br"),(C=(x=this.cbs).onopentag)===null||C===void 0||C.call(x,"br",{},!0),(P=(I=this.cbs).onclosetag)===null||P===void 0||P.call(I,"br",!1));else{var D=this.stack.indexOf(L);if(D!==-1)for(var V=0;V<=D;V++){var k=this.stack.shift();(w=(_=this.cbs).onclosetag)===null||w===void 0||w.call(_,k,V!==D)}else this.htmlMode&&L==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=v+1},g.prototype.onselfclosingtag=function(b){this.endIndex=b,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=b+1):this.onopentagend(b)},g.prototype.closeCurrentTag=function(b){var v,_,w=this.tagname;this.endOpenTag(b),this.stack[0]===w&&((_=(v=this.cbs).onclosetag)===null||_===void 0||_.call(v,w,!b),this.stack.shift())},g.prototype.onattribname=function(b,v){this.startIndex=b;var _=this.getSlice(b,v);this.attribname=this.lowerCaseAttributeNames?_.toLowerCase():_},g.prototype.onattribdata=function(b,v){this.attribvalue+=this.getSlice(b,v)},g.prototype.onattribentity=function(b){this.attribvalue+=(0,a.fromCodePoint)(b)},g.prototype.onattribend=function(b,v){var _,w;this.endIndex=v,(w=(_=this.cbs).onattribute)===null||w===void 0||w.call(_,this.attribname,this.attribvalue,b===n.QuoteType.Double?'"':b===n.QuoteType.Single?"'":b===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},g.prototype.getInstructionName=function(b){var v=b.search(m),_=v<0?b:b.substr(0,v);return this.lowerCaseTagNames&&(_=_.toLowerCase()),_},g.prototype.ondeclaration=function(b,v){this.endIndex=v;var _=this.getSlice(b,v);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(_);this.cbs.onprocessinginstruction("!".concat(w),"!".concat(_))}this.startIndex=v+1},g.prototype.onprocessinginstruction=function(b,v){this.endIndex=v;var _=this.getSlice(b,v);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(_);this.cbs.onprocessinginstruction("?".concat(w),"?".concat(_))}this.startIndex=v+1},g.prototype.oncomment=function(b,v,_){var w,S,E,x;this.endIndex=v,(S=(w=this.cbs).oncomment)===null||S===void 0||S.call(w,this.getSlice(b,v-_)),(x=(E=this.cbs).oncommentend)===null||x===void 0||x.call(E),this.startIndex=v+1},g.prototype.oncdata=function(b,v,_){var w,S,E,x,C,I,P,L,D,V;this.endIndex=v;var k=this.getSlice(b,v-_);!this.htmlMode||this.options.recognizeCDATA?((S=(w=this.cbs).oncdatastart)===null||S===void 0||S.call(w),(x=(E=this.cbs).ontext)===null||x===void 0||x.call(E,k),(I=(C=this.cbs).oncdataend)===null||I===void 0||I.call(C)):((L=(P=this.cbs).oncomment)===null||L===void 0||L.call(P,"[CDATA[".concat(k,"]]")),(V=(D=this.cbs).oncommentend)===null||V===void 0||V.call(D)),this.startIndex=v+1},g.prototype.onend=function(){var b,v;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var _=0;_<this.stack.length;_++)this.cbs.onclosetag(this.stack[_],!0)}(v=(b=this.cbs).onend)===null||v===void 0||v.call(b)},g.prototype.reset=function(){var b,v,_,w;(v=(b=this.cbs).onreset)===null||v===void 0||v.call(b),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(w=(_=this.cbs).onparserinit)===null||w===void 0||w.call(_,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1},g.prototype.parseComplete=function(b){this.reset(),this.end(b)},g.prototype.getSlice=function(b,v){for(;b-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var _=this.buffers[0].slice(b-this.bufferOffset,v-this.bufferOffset);v-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),_+=this.buffers[0].slice(0,v-this.bufferOffset);return _},g.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},g.prototype.write=function(b){var v,_;if(this.ended){(_=(v=this.cbs).onerror)===null||_===void 0||_.call(v,new Error(".write() after done!"));return}this.buffers.push(b),this.tokenizer.running&&(this.tokenizer.write(b),this.writeIndex++)},g.prototype.end=function(b){var v,_;if(this.ended){(_=(v=this.cbs).onerror)===null||_===void 0||_.call(v,new Error(".end() after done!"));return}b&&this.write(b),this.ended=!0,this.tokenizer.end()},g.prototype.pause=function(){this.tokenizer.pause()},g.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},g.prototype.parseChunk=function(b){this.write(b)},g.prototype.done=function(b){this.end(b)},g}();return dp.Parser=y,dp}var aq;function $Oe(){return aq||(aq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(v,_,w,S){S===void 0&&(S=w);var E=Object.getOwnPropertyDescriptor(_,w);(!E||("get"in E?!_.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(v,S,E)}:function(v,_,w,S){S===void 0&&(S=w),v[S]=_[w]}),r=N&&N.__setModuleDefault||(Object.create?function(v,_){Object.defineProperty(v,"default",{enumerable:!0,value:_})}:function(v,_){v.default=_}),n=N&&N.__importStar||function(v){if(v&&v.__esModule)return v;var _={};if(v!=null)for(var w in v)w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)&&t(_,v,w);return r(_,v),_},a=N&&N.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.QuoteType=e.Tokenizer=e.createDomStream=e.createDocumentStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var s=iq(),o=iq();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var u=Qa(),l=Qa();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function c(v,_){var w=new u.DomHandler(void 0,_);return new s.Parser(w,_).end(v),w.root}e.parseDocument=c;function d(v,_){return c(v,_).children}e.parseDOM=d;function f(v,_,w){var S=new u.DomHandler(function(E){return v(E,S.root)},_,w);return new s.Parser(S,_)}e.createDocumentStream=f;function h(v,_,w){var S=new u.DomHandler(v,_,w);return new s.Parser(S,_)}e.createDomStream=h;var p=AY();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return a(p).default}}),Object.defineProperty(e,"QuoteType",{enumerable:!0,get:function(){return p.QuoteType}}),e.ElementType=n(Id());var m=Al(),y=Al();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return y.getFeed}});var g={xmlMode:!0};function b(v,_){return _===void 0&&(_=g),(0,m.getFeed)(d(v,_))}e.parseFeed=b,e.DomUtils=n(Al())}(g3)),g3}var sq;function UOe(){if(sq)return lp;sq=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.ActorRdfParseHtml=void 0;const e=xd(),t=$Oe(),r=Lt;class n extends e.ActorRdfParseFixedMediaTypes{constructor(s){super(s)}async runHandle(s,o,u){var m;const l=new r.Readable({objectMode:!0});l._read=()=>{};let c=0,d=1;function f(y){l.emit("error",y)}function h(){--d===0&&l.push(null)}const p={baseIRI:((m=s.metadata)==null?void 0:m.baseIRI)??"",context:u,emit:y=>{c--,l.push(y)},end:h,error:f,headers:s.headers};try{const y=await Promise.all(this.busRdfParseHtml.publish(p));d+=y.length;const g=[];for(const _ of y){const{htmlParseListener:w}=await _.actor.run(p);g.push(w)}const b=new t.Parser({onclosetag(){try{for(const _ of g)_.onTagClose()}catch(_){f(_)}},onend(){try{for(const _ of g)_.onEnd()}catch(_){f(_)}h()},onopentag(_,w){try{for(const S of g)S.onTagOpen(_,w)}catch(S){f(S)}},ontext(_){try{for(const w of g)w.onText(_)}catch(w){f(w)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),v=l._read=_=>{for(c=Math.max(_,c);c>0;){const w=s.data.read();if(w===null){s.data.once("readable",()=>v(0));return}b.write(w.toString())}};s.data.on("error",f).on("end",()=>b.end())}catch(y){setTimeout(()=>{l.emit("error",y)})}return{data:l}}}return lp.ActorRdfParseHtml=n,lp}var oq;function kOe(){return oq||(oq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(UOe(),e)}(m3)),m3}var _3={},fp={},b3={},hp={},uq;function VOe(){if(uq)return hp;uq=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.ActorRdfParseHtml=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return hp.ActorRdfParseHtml=t,hp}var cq;function PD(){return cq||(cq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(VOe(),e)}(b3)),b3}var v3={},w3={},lq;function HOe(){return lq||(lq=1,Object.defineProperty(w3,"__esModule",{value:!0})),w3}var pp={},dq;function OY(){if(dq)return pp;dq=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.ItemPropertyHandlerContent=void 0;let e=class{canHandle(r,n){return"content"in n}getObject(r,n,a){return n.createLiteral(r.content,a)}};return pp.ItemPropertyHandlerContent=e,pp}var yp={},mp={},fq;function KS(){if(fq)return mp;fq=1,Object.defineProperty(mp,"__esModule",{value:!0}),mp.Util=void 0;const e=xt,t=va();class r{constructor(a,s){this.dataFactory=a||new e.DataFactory,this.baseIRI=s||""}static isValidIri(a){return r.IRI_REGEX.test(a)}createVocabIris(a,s,o){return a.split(/\s+/u).filter(u=>!!u).map(u=>{if(!r.isValidIri(u)){if(!o)return;u=`${s.vocab||`${this.baseIRI}#`}${u}`}return this.dataFactory.namedNode(u)}).filter(u=>!!u)}getVocabularyExpansionType(a,s,o){const u=a.split(/\s+/u);if(u.includes("subPropertyOf")||u.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${r.RDF}type`)];if(s.vocab&&s.vocab in o&&o[s.vocab].properties){let l=[];for(const[c,d]of Object.entries(o[s.vocab].properties))u.includes(c)&&(l=[...Object.values(d).map(f=>this.dataFactory.namedNode(f))]);return l}return[]}createSubject(a){if(!r.isValidIri(a))try{a=(0,t.resolve)(a,this.baseIRI)}catch{return}return this.dataFactory.namedNode(a)}createLiteral(a,s){return this.dataFactory.literal(a,s.language)}deriveVocab(a,s){let o;for(const u in s)if(a.startsWith(u)){o=u,o.endsWith("/")||(o+="#");break}if(!o){const u=a.indexOf("#");u>0?o=a.slice(0,u+1):o=(0,t.resolve)(".",a)}return o}}return mp.Util=r,r.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r.XSD="http://www.w3.org/2001/XMLSchema#",r.RDFA="http://www.w3.org/ns/rdfa#",r.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u,mp}var hq;function RY(){if(hq)return yp;hq=1,Object.defineProperty(yp,"__esModule",{value:!0}),yp.ItemPropertyHandlerNumber=void 0;const e=KS();let t=class{constructor(n,a){this.tagName=n,this.attributeName=a}canHandle(n,a){return this.tagName===n&&this.attributeName in a}getObject(n,a,s){const o=n[this.attributeName];let u;return!Number.isNaN(Number.parseInt(o,10))&&!o.includes(".")?u=`${e.Util.XSD}integer`:Number.isNaN(Number.parseFloat(o))||(u=`${e.Util.XSD}double`),a.dataFactory.literal(o,u&&a.dataFactory.namedNode(u))}};return yp.ItemPropertyHandlerNumber=t,yp}var gp={},pq;function IY(){if(pq)return gp;pq=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.ItemPropertyHandlerTime=void 0;const e=KS();let t=class xY{canHandle(n,a){return n==="time"&&"datetime"in a}getObject(n,a,s){const o=n.datetime;let u;for(const l of xY.TIME_REGEXES)if(l.regex.test(o)){u=a.dataFactory.namedNode(e.Util.XSD+l.type);break}return a.dataFactory.literal(o,u)}};return gp.ItemPropertyHandlerTime=t,t.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}],gp}var _p={},yq;function PY(){if(yq)return _p;yq=1,Object.defineProperty(_p,"__esModule",{value:!0}),_p.ItemPropertyHandlerUrl=void 0;const e=va();let t=class{constructor(n,a){this.tagName=n,this.attributeName=a}canHandle(n,a){return this.tagName===n&&this.attributeName in a}getObject(n,a,s){return a.dataFactory.namedNode((0,e.resolve)(n[this.attributeName],a.baseIRI))}};return _p.ItemPropertyHandlerUrl=t,_p}var S3={},mq;function QOe(){return mq||(mq=1,Object.defineProperty(S3,"__esModule",{value:!0})),S3}var T3={},gq;function zOe(){return gq||(gq=1,Object.defineProperty(T3,"__esModule",{value:!0})),T3}var E3={},_q;function GOe(){return _q||(_q=1,Object.defineProperty(E3,"__esModule",{value:!0})),E3}var bp={};const WOe={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}};var bq;function KOe(){if(bq)return bp;bq=1,Object.defineProperty(bp,"__esModule",{value:!0}),bp.MicrodataRdfParser=void 0;const e=wY(),t=Lt,r=OY(),n=RY(),a=IY(),s=PY(),o=KS(),u=WOe;let l=class DI extends t.Transform{constructor(d){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},d=d||{},this.options=d,this.util=new o.Util(d.dataFactory,d.baseIRI),this.defaultGraph=d.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=d.htmlParseListener,this.vocabRegistry=d.vocabRegistry||u,this.parser=this.initializeParser(!!d.xmlMode)}import(d){const f=new t.PassThrough({readableObjectMode:!0});d.on("error",p=>h.emit("error",p)),d.on("data",p=>f.push(p)),d.on("end",()=>f.push(null));const h=f.pipe(new DI(this.options));return h}_transform(d,f,h){this.parser.write(d.toString()),h()}_flush(d){this.parser.end(),d()}getItemScope(d){let f=this.itemScopeStack.length-(d?2:1);for(;f>0&&!this.itemScopeStack[f];)f--;return this.itemScopeStack[f]}getDepth(){return this.itemScopeStack.length}onTagOpen(d,f){if(!this.isEmittingReferences){if("id"in f){const p=f.id;this.pendingItemRefsRangeCollecting[p]={events:[],counter:0,ids:[]}}for(const p of Object.values(this.pendingItemRefsRangeCollecting))p.counter++,p.events.push({type:"open",name:d,attributes:f})}this.textBufferStack.push(void 0);let h;if("itemscope"in f){let p;if(this.emittingReferencesItemScopeIdGenerator)p=this.emittingReferencesItemScopeIdGenerator();else{p="itemid"in f&&this.util.createSubject(f.itemid)||this.util.dataFactory.blankNode();for(const y of Object.values(this.pendingItemRefsRangeCollecting))y.ids.push(p)}h={subject:p},this.isEmittingReferences&&(h.blockEmission=!0);const m=this.getItemScope();m&&m.vocab&&(h.vocab=m.vocab),this.itemScopeStack.push(h)}else h=this.getItemScope(),this.itemScopeStack.push(void 0);if(h){if("itemtype"in f)for(const p of this.util.createVocabIris(f.itemtype,h,!1))h.vocab||(h.vocab=this.util.deriveVocab(p.value,this.vocabRegistry)),h.blockEmission||this.emitTriple(h.subject,this.util.dataFactory.namedNode(`${o.Util.RDF}type`),p);if("lang"in f&&(h.language=f.lang),"xml:lang"in f&&(h.language=f["xml:lang"]),"itemscope"in f&&!this.isEmittingReferences&&"itemref"in f)for(const p of f.itemref.split(/\s+/u))p in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[p]=[]),this.pendingItemRefsDomain[p].push(h),this.tryToEmitReferences(p,h)}"itemprop"in f&&this.handleItemProperties(f.itemprop,!1,h,d,f),"itemprop-reverse"in f&&this.handleItemProperties(f["itemprop-reverse"],!0,h,d,f)}onText(d){if(!this.isEmittingReferences)for(const f of Object.values(this.pendingItemRefsRangeCollecting))f.events.push({type:"text",data:d});for(const f of this.textBufferStack)f&&f.push(d)}onTagClose(){if(!this.isEmittingReferences)for(const[f,h]of Object.entries(this.pendingItemRefsRangeCollecting))h.counter--,h.events.push({type:"close"}),h.counter===0&&(this.pendingItemRefsRangeFinalized[f]=h,delete this.pendingItemRefsRangeCollecting[f],this.tryToEmitReferences(f));const d=this.getItemScope(!0);if(d){const f=this.getDepth();if(d.predicates&&f in d.predicates)for(const[h,p]of Object.entries(d.predicates[f])){const m=this.util.createLiteral(this.textBufferStack[f].join(""),d);this.emitPredicateTriples(d,p,m,h==="reverse"),delete d.predicates[f][h]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(d){return new e.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(f){this.emit("error",f)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(f){this.emit("error",f)}},onopentag:(f,h)=>{try{this.onTagOpen(f,h),this.htmlParseListener&&this.htmlParseListener.onTagOpen(f,h)}catch(p){this.emit("error",p)}},ontext:f=>{try{this.onText(f),this.htmlParseListener&&this.htmlParseListener.onText(f)}catch(h){this.emit("error",h)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:d})}handleItemProperties(d,f,h,p,m){const y=this.getItemScope(!0);if(y){const g=this.getDepth(),b=this.util.createVocabIris(d,y,!0);y.predicates||(y.predicates={}),y.predicates[g]||(y.predicates[g]={});const v=f?"reverse":"forward";y.predicates[g][v]=b;for(const _ of this.util.getVocabularyExpansionType(d,y,this.vocabRegistry))b.push(_);if(h&&"itemscope"in m)this.emitPredicateTriples(y,b,h.subject,f),delete y.predicates[g][v];else for(const _ of DI.ITEM_PROPERTY_HANDLERS)if(_.canHandle(p,m)){const w=_.getObject(m,this.util,y);this.emitPredicateTriples(y,b,w,f),delete y.predicates[g][v]}y.predicates[g][v]&&(this.textBufferStack[g]=[])}}emitPredicateTriples(d,f,h,p){if(!d.blockEmission)for(const m of f)p?h.termType!=="Literal"&&this.emitTriple(h,m,d.subject):this.emitTriple(d.subject,m,h)}emitTriple(d,f,h){this.push(this.util.dataFactory.quad(d,f,h,this.defaultGraph))}tryToEmitReferences(d,f){const h=this.pendingItemRefsRangeFinalized[d];if(h){let p;if(f){p=[f];const m=this.pendingItemRefsDomain[d].indexOf(f);this.pendingItemRefsDomain[d].splice(m,1)}else p=this.pendingItemRefsDomain[d],delete this.pendingItemRefsDomain[d];if(p){const m=this.itemScopeStack,y=this.textBufferStack;this.isEmittingReferences=!0;for(const g of p){this.itemScopeStack=[g],this.textBufferStack=[void 0];const b=[...h.ids];this.emittingReferencesItemScopeIdGenerator=()=>b.shift();for(const v of h.events)switch(v.type){case"open":this.onTagOpen(v.name,v.attributes);break;case"text":this.onText(v.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=m,this.textBufferStack=y,this.isEmittingReferences=!1}}}};return bp.MicrodataRdfParser=l,l.ITEM_PROPERTY_HANDLERS=[new r.ItemPropertyHandlerContent,new s.ItemPropertyHandlerUrl("a","href"),new s.ItemPropertyHandlerUrl("area","href"),new s.ItemPropertyHandlerUrl("audio","src"),new s.ItemPropertyHandlerUrl("embed","src"),new s.ItemPropertyHandlerUrl("iframe","src"),new s.ItemPropertyHandlerUrl("img","src"),new s.ItemPropertyHandlerUrl("link","href"),new s.ItemPropertyHandlerUrl("object","data"),new s.ItemPropertyHandlerUrl("source","src"),new s.ItemPropertyHandlerUrl("track","src"),new s.ItemPropertyHandlerUrl("video","src"),new n.ItemPropertyHandlerNumber("data","value"),new n.ItemPropertyHandlerNumber("meter","value"),new a.ItemPropertyHandlerTime],bp}var vq;function JOe(){return vq||(vq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(HOe(),e),r(OY(),e),r(RY(),e),r(IY(),e),r(PY(),e),r(QOe(),e),r(zOe(),e),r(GOe(),e),r(KOe(),e),r(KS(),e)}(v3)),v3}var wq;function XOe(){if(wq)return fp;wq=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.ActorRdfParseHtmlMicrodata=void 0;const e=PD(),t=JOe();let r=class extends e.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return!0}async run(a){const s=a.headers?a.headers.get("content-type"):null,o=s==null?void 0:s.includes("xml"),u=new t.MicrodataRdfParser({baseIRI:a.baseIRI,xmlMode:o});u.on("error",a.error),u.on("data",a.emit);const l=u.onEnd;return u.onEnd=()=>{l.call(u),a.end()},{htmlParseListener:u}}};return fp.ActorRdfParseHtmlMicrodata=r,fp}var Sq;function YOe(){return Sq||(Sq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(XOe(),e)}(_3)),_3}var A3={},vp={},Tq;function ZOe(){if(Tq)return vp;Tq=1,Object.defineProperty(vp,"__esModule",{value:!0}),vp.ActorRdfParseHtmlRdfa=void 0;const e=PD(),t=EY();let r=class extends e.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return!0}async run(a){const s=a.headers?a.headers.get("content-type"):null,o=(a.headers&&a.headers.get("content-language"))??void 0,u=s&&s.includes("xml")?"xhtml":"html",l=new t.RdfaParser({baseIRI:a.baseIRI,profile:u,language:o});l.on("error",a.error),l.on("data",a.emit);const c=l.onEnd;return l.onEnd=()=>{c.call(l),a.end()},{htmlParseListener:l}}};return vp.ActorRdfParseHtmlRdfa=r,vp}var Eq;function eRe(){return Eq||(Eq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ZOe(),e)}(A3)),A3}var O3={},wp={},R3={},Sp={},Aq;function tRe(){if(Aq)return Sp;Aq=1,Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.ActorRdfResolveHypermediaLinksQueue=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return Sp.ActorRdfResolveHypermediaLinksQueue=t,Sp}var x3={},Oq;function rRe(){return Oq||(Oq=1,Object.defineProperty(x3,"__esModule",{value:!0})),x3}var Tp={},Rq;function nRe(){if(Rq)return Tp;Rq=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.LinkQueueWrapper=void 0;let e=class{constructor(r){this.linkQueue=r}push(r,n){return this.linkQueue.push(r,n)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}};return Tp.LinkQueueWrapper=e,Tp}var xq;function iRe(){return xq||(xq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(tRe(),e),r(rRe(),e),r(nRe(),e)}(R3)),R3}var Ep={},Iq;function NY(){if(Iq)return Ep;Iq=1,Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.LinkQueueFifo=void 0;let e=class{constructor(){this.links=[]}push(r){return this.links.push(r),!0}getSize(){return this.links.length}isEmpty(){return this.links.length===0}pop(){return this.links.shift()}peek(){return this.links[0]}};return Ep.LinkQueueFifo=e,Ep}var Pq;function aRe(){if(Pq)return wp;Pq=1,Object.defineProperty(wp,"__esModule",{value:!0}),wp.ActorRdfResolveHypermediaLinksQueueFifo=void 0;const e=iRe(),t=NY();let r=class extends e.ActorRdfResolveHypermediaLinksQueue{constructor(a){super(a)}async test(a){return!0}async run(a){return{linkQueue:new t.LinkQueueFifo}}};return wp.ActorRdfResolveHypermediaLinksQueueFifo=r,wp}var Nq;function sRe(){return Nq||(Nq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(aRe(),e),r(NY(),e)}(O3)),O3}var I3={},Ap={},P3={},Op={},Dq;function oRe(){if(Dq)return Op;Dq=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.ActorRdfResolveHypermediaLinks=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return Op.ActorRdfResolveHypermediaLinks=t,Op}var Cq;function uRe(){return Cq||(Cq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(oRe(),e)}(P3)),P3}var Lq;function cRe(){if(Lq)return Ap;Lq=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.ActorRdfResolveHypermediaLinksNext=void 0;const e=uRe();let t=class extends e.ActorRdfResolveHypermediaLinks{constructor(n){super(n)}async test(n){if(!n.metadata.next||n.metadata.next.length===0)throw new Error(`Actor ${this.name} requires a 'next' metadata entry.`);return!0}async run(n){return{links:n.metadata.next.map(a=>({url:a}))}}};return Ap.ActorRdfResolveHypermediaLinksNext=t,Ap}var jq;function lRe(){return jq||(jq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(cRe(),e)}(I3)),I3}var N3={},Rp={},D3={},xp={},Mq;function dRe(){if(Mq)return xp;Mq=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.ActorRdfSerialize=void 0;const e=Rd();let t=class extends e.ActorAbstractMediaTyped{constructor(n){super(n)}};return xp.ActorRdfSerialize=t,xp}var Ip={},Fq;function fRe(){if(Fq)return Ip;Fq=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.ActorRdfSerializeFixedMediaTypes=void 0;const e=Rd();let t=class extends e.ActorAbstractMediaTypedFixed{constructor(n){super(n)}async testHandleChecked(){return!0}};return Ip.ActorRdfSerializeFixedMediaTypes=t,Ip}var qq;function ND(){return qq||(qq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(dRe(),e),r(fRe(),e)}(D3)),D3}var Bq;function hRe(){if(Bq)return Rp;Bq=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.ActorRdfSerializeN3=void 0;const e=ND(),t=Wo;let r=class extends e.ActorRdfSerializeFixedMediaTypes{constructor(a){super(a)}async runHandle(a,s){const o=new t.StreamWriter({format:s});let u;return"pipe"in a.quadStream?(a.quadStream.on("error",l=>o.emit("error",l)),u=a.quadStream.pipe(o)):u=o.import(a.quadStream),{data:u,triples:s==="text/turtle"||s==="application/n-triples"||s==="text/n3"}}};return Rp.ActorRdfSerializeN3=r,Rp}var $q;function pRe(){return $q||($q=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(hRe(),e)}(N3)),N3}var C3={},Pp={},L3={},Np={},Dp={},Uq;function yRe(){if(Uq)return Dp;Uq=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.SeparatorType=void 0;let e=class{constructor(r){this.label=r}};return Dp.SeparatorType=e,e.COMMA=new e(","),e.OBJECT_START=new e("{"),e.OBJECT_END=new e("}"),e.OBJECT_END_COMMA=new e("},"),e.ARRAY_START=new e("["),e.ARRAY_END=new e("]"),e.ARRAY_END_COMMA=new e("],"),e.GRAPH_FIELD_NONCOMPACT=new e('"@graph": ['),e.GRAPH_FIELD_COMPACT=new e('"@graph":['),e.CONTEXT_FIELD=new e('"@context":'),Dp}var Cp={},kq;function DY(){if(kq)return Cp;kq=1,Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.Util=void 0;const e=ln();class t{static termToValue(n,a,s={compactIds:!1,useNativeTypes:!1}){switch(n.termType){case"NamedNode":const o=a.compactIri(n.value,s.vocab);return s.compactIds?o:{"@id":o};case"DefaultGraph":return s.compactIds?n.value:{"@id":n.value};case"BlankNode":const u=`_:${n.value}`;return s.compactIds?u:{"@id":u};case"Literal":if(n.datatype.value===t.RDF_JSON){let d;try{d=JSON.parse(n.value)}catch(f){throw new e.ErrorCoded("Invalid JSON literal: "+f.message,e.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":d,"@type":"@json"}}if(s.rdfDirection==="i18n-datatype"&&n.datatype.value.startsWith(t.I18N)){const[d,f]=n.datatype.value.substr(t.I18N.length,n.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":n.value},d?{"@language":d}:{}),f?{"@direction":f}:{})}const l=n.datatype.value===t.XSD_STRING,c={"@value":!l&&s.useNativeTypes?t.stringToNativeType(n.value,n.datatype.value):n.value};return n.language?Object.assign(Object.assign({},c),{"@language":n.language}):!l&&typeof c["@value"]=="string"?Object.assign(Object.assign({},c),{"@type":n.datatype.value}):c}}static stringToNativeType(n,a){if(a.startsWith(t.XSD))switch(a.substr(t.XSD.length)){case"boolean":if(n==="true")return!0;if(n==="false")return!1;throw new Error(`Invalid xsd:boolean value '${n}'`);case"integer":case"number":case"int":case"byte":case"long":const o=parseInt(n,10);if(isNaN(o))throw new Error(`Invalid xsd:integer value '${n}'`);return o;case"float":case"double":const u=parseFloat(n);if(isNaN(u))throw new Error(`Invalid xsd:float value '${n}'`);return u}return n}}return Cp.Util=t,t.XSD="http://www.w3.org/2001/XMLSchema#",t.XSD_STRING=t.XSD+"string",t.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",t.RDF_TYPE=t.RDF+"type",t.RDF_JSON=t.RDF+"JSON",t.I18N="https://www.w3.org/ns/i18n#",Cp}var Vq;function mRe(){if(Vq)return Np;Vq=1,Object.defineProperty(Np,"__esModule",{value:!0}),Np.JsonLdSerializer=void 0;const e=ln(),t=yRe(),r=DY(),n=Lt;let a=class CY extends n.Transform{constructor(o={}){super({objectMode:!0}),this.indentation=0,this.options=o,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=new e.ContextParser().parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new e.JsonLdContextNormalized({}))}import(o){const u=new n.PassThrough({objectMode:!0});o.on("error",c=>l.emit("error",c)),o.on("data",c=>u.push(c)),o.on("end",()=>u.push(null));const l=u.pipe(new CY(this.options));return l}_transform(o,u,l){this.context.then(c=>{this.transformQuad(o,c),l()}).catch(l)}async list(o){const u=await this.context;return{"@list":o.map(l=>r.Util.termToValue(l,u,this.options))}}_flush(o){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.endGraph(),this.endDocument(),o(null,null)}transformQuad(o,u){this.opened||this.pushDocumentStart();const l=this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.lastGraph.equals(o.subject);if(!l&&(!this.lastGraph||!o.graph.equals(this.lastGraph))){let c=o.graph.termType!=="DefaultGraph"&&this.lastSubject&&this.lastSubject.equals(o.graph);this.lastGraph&&(this.lastGraph.termType!=="DefaultGraph"?(this.endPredicate(),this.endSubject(),this.endGraph(!0),c=!1):c?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),o.graph.termType!=="DefaultGraph"&&(c||this.pushId(o.graph,!0,u),this.pushSeparator(this.options.space?t.SeparatorType.GRAPH_FIELD_NONCOMPACT:t.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=o.graph}(!this.lastSubject||!o.subject.equals(this.lastSubject))&&(l?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END_COMMA),this.lastGraph=o.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(o.subject,!0,u)),this.lastSubject=o.subject),(!this.lastPredicate||!o.predicate.equals(this.lastPredicate))&&(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(o.predicate,u)),this.pushObject(o.object,u)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(t.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(t.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?t.SeparatorType.GRAPH_FIELD_NONCOMPACT:t.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(t.SeparatorType.ARRAY_START),this.indentation++)}pushId(o,u,l){if(o.termType==="Quad")this.pushNestedQuad(o,!0,l);else{const c=o.termType==="BlankNode"?"_:"+o.value:l.compactIri(o.value,!1);u?this.pushSeparator(t.SeparatorType.OBJECT_START):(this.push(t.SeparatorType.OBJECT_START.label),this.options.space&&this.push(`
`)),this.indentation++,this.pushIndented(this.options.space?`"@id": "${c}",`:`"@id":"${c}",`)}}pushPredicate(o,u){let l=o.value;!this.options.useRdfType&&l===r.Util.RDF_TYPE&&(l="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const c=u.compactIri(l,!0);this.pushIndented(this.options.space?`"${c}": [`:`"${c}":[`),this.indentation++,this.lastPredicate=o}pushObject(o,u){if(this.hadObjectForPredicate?this.pushSeparator(t.SeparatorType.COMMA):this.hadObjectForPredicate=!0,o.termType==="Quad"){const c=this.lastSubject,d=this.lastPredicate;this.hadObjectForPredicate=!1,this.pushNestedQuad(o,!1,u),this.endSubject(!1),this.hadObjectForPredicate=!0,this.lastPredicate=d,this.lastSubject=c;return}let l;try{o["@list"]?l=o:l=r.Util.termToValue(o,u,this.objectOptions||this.options)}catch(c){return this.emit("error",c)}this.pushIndented(JSON.stringify(l,null,this.options.space))}pushNestedQuad(o,u,l){this.pushSeparator(t.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?'"@id": ':'"@id":',!1),o.graph.termType!=="DefaultGraph"&&this.emit("error",new Error(`Found a nested quad with the non-default graph: ${o.graph.value}`)),this.pushId(o.subject,!1,l),this.pushPredicate(o.predicate,l),this.pushObject(o.object,l),this.endPredicate(!1),this.endSubject(u)}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(t.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END))}endPredicate(o){this.indentation--,this.pushSeparator(o?t.SeparatorType.ARRAY_END_COMMA:t.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(o){this.indentation--,this.pushSeparator(o?t.SeparatorType.OBJECT_END_COMMA:t.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(o){this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(o?t.SeparatorType.OBJECT_END_COMMA:t.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(o){this.pushIndented(o.label)}pushIndented(o,u=!0){const l=this.getIndentPrefix(),c=o.split(`
`).map(d=>l+d).join(`
`);this.push(c),this.options.space&&u&&this.push(`
`)}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}};return Np.JsonLdSerializer=a,Np}var Hq;function gRe(){return Hq||(Hq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(mRe(),e),r(DY(),e)}(L3)),L3}var Qq;function _Re(){if(Qq)return Pp;Qq=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.ActorRdfSerializeJsonLd=void 0;const e=ND(),t=gRe();let r=class extends e.ActorRdfSerializeFixedMediaTypes{constructor(a){super(a)}async runHandle(a,s,o){const u=new t.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)});let l;return"pipe"in a.quadStream?(a.quadStream.on("error",c=>u.emit("error",c)),l=a.quadStream.pipe(u)):l=u.import(a.quadStream),{data:l}}};return Pp.ActorRdfSerializeJsonLd=r,Pp}var zq;function bRe(){return zq||(zq=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(_Re(),e)}(C3)),C3}var j3={},Lp={},J1={},Gq;function vRe(){if(Gq)return J1;Gq=1,Object.defineProperty(J1,"__esModule",{value:!0});function e(r,n){return new Promise((a,s)=>{r.on("end",()=>a(n)),r.on("error",s)})}function t(r){const n=[];return e(r.on("data",a=>n.push(a)),n)}return J1.default=t,J1}var jp={},X1={},M3={},Mp={},Wq;function wRe(){if(Wq)return Mp;Wq=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.fragment=void 0;function e(n){let a=n;(a.endsWith("/")||a.endsWith("#"))&&(a=a.slice(0,a.length-1));const s=[];a.lastIndexOf("/")>0&&s.push(a.lastIndexOf("/")),a.lastIndexOf("#")>0&&s.push(a.lastIndexOf("#"));const o=Math.max(...s);return a.slice(o+1)}function t(n){var a;const s=(a=n.split(/[^a-z0-9]+/ig).filter(o=>o!=="").map(o=>o[0].toUpperCase()+o.slice(1)).join("").match(/[a-z][a-z0-9]+/ig))===null||a===void 0?void 0:a[0];return typeof s>"u"?void 0:s[0].toLowerCase()+s.slice(1)}function r(n){let a=e(n);return a=a?t(a):void 0,a||"v"}return Mp.fragment=r,Mp}var F3={},Fp={},vu={},Y1={exports:{}},Kq;function SRe(){return Kq||(Kq=1,function(e,t){var r=typeof self<"u"?self:N,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var u={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(k){return k&&DataView.prototype.isPrototypeOf(k)}if(u.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(k){return k&&c.indexOf(Object.prototype.toString.call(k))>-1};function f(k){if(typeof k!="string"&&(k=String(k)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(k))throw new TypeError("Invalid character in header field name");return k.toLowerCase()}function h(k){return typeof k!="string"&&(k=String(k)),k}function p(k){var $={next:function(){var H=k.shift();return{done:H===void 0,value:H}}};return u.iterable&&($[Symbol.iterator]=function(){return $}),$}function m(k){this.map={},k instanceof m?k.forEach(function($,H){this.append(H,$)},this):Array.isArray(k)?k.forEach(function($){this.append($[0],$[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function($){this.append($,k[$])},this)}m.prototype.append=function(k,$){k=f(k),$=h($);var H=this.map[k];this.map[k]=H?H+", "+$:$},m.prototype.delete=function(k){delete this.map[f(k)]},m.prototype.get=function(k){return k=f(k),this.has(k)?this.map[k]:null},m.prototype.has=function(k){return this.map.hasOwnProperty(f(k))},m.prototype.set=function(k,$){this.map[f(k)]=h($)},m.prototype.forEach=function(k,$){for(var H in this.map)this.map.hasOwnProperty(H)&&k.call($,this.map[H],H,this)},m.prototype.keys=function(){var k=[];return this.forEach(function($,H){k.push(H)}),p(k)},m.prototype.values=function(){var k=[];return this.forEach(function($){k.push($)}),p(k)},m.prototype.entries=function(){var k=[];return this.forEach(function($,H){k.push([H,$])}),p(k)},u.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(k){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}function g(k){return new Promise(function($,H){k.onload=function(){$(k.result)},k.onerror=function(){H(k.error)}})}function b(k){var $=new FileReader,H=g($);return $.readAsArrayBuffer(k),H}function v(k){var $=new FileReader,H=g($);return $.readAsText(k),H}function _(k){for(var $=new Uint8Array(k),H=new Array($.length),J=0;J<$.length;J++)H[J]=String.fromCharCode($[J]);return H.join("")}function w(k){if(k.slice)return k.slice(0);var $=new Uint8Array(k.byteLength);return $.set(new Uint8Array(k)),$.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(k){this._bodyInit=k,k?typeof k=="string"?this._bodyText=k:u.blob&&Blob.prototype.isPrototypeOf(k)?this._bodyBlob=k:u.formData&&FormData.prototype.isPrototypeOf(k)?this._bodyFormData=k:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)?this._bodyText=k.toString():u.arrayBuffer&&u.blob&&l(k)?(this._bodyArrayBuffer=w(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(k)||d(k))?this._bodyArrayBuffer=w(k):this._bodyText=k=Object.prototype.toString.call(k):this._bodyText="",this.headers.get("content-type")||(typeof k=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var k=y(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var k=y(this);if(k)return k;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(k){var $=k.toUpperCase();return E.indexOf($)>-1?$:k}function C(k,$){$=$||{};var H=$.body;if(k instanceof C){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,$.headers||(this.headers=new m(k.headers)),this.method=k.method,this.mode=k.mode,this.signal=k.signal,!H&&k._bodyInit!=null&&(H=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new m($.headers)),this.method=x($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(H)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function I(k){var $=new FormData;return k.trim().split("&").forEach(function(H){if(H){var J=H.split("="),Y=J.shift().replace(/\+/g," "),de=J.join("=").replace(/\+/g," ");$.append(decodeURIComponent(Y),decodeURIComponent(de))}}),$}function P(k){var $=new m,H=k.replace(/\r?\n[\t ]+/g," ");return H.split(/\r?\n/).forEach(function(J){var Y=J.split(":"),de=Y.shift().trim();if(de){var Te=Y.join(":").trim();$.append(de,Te)}}),$}S.call(C.prototype);function L(k,$){$||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in $?$.statusText:"OK",this.headers=new m($.headers),this.url=$.url||"",this._initBody(k)}S.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},L.error=function(){var k=new L(null,{status:0,statusText:""});return k.type="error",k};var D=[301,302,303,307,308];L.redirect=function(k,$){if(D.indexOf($)===-1)throw new RangeError("Invalid status code");return new L(null,{status:$,headers:{location:k}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function($,H){this.message=$,this.name=H;var J=Error($);this.stack=J.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function V(k,$){return new Promise(function(H,J){var Y=new C(k,$);if(Y.signal&&Y.signal.aborted)return J(new o.DOMException("Aborted","AbortError"));var de=new XMLHttpRequest;function Te(){de.abort()}de.onload=function(){var De={status:de.status,statusText:de.statusText,headers:P(de.getAllResponseHeaders()||"")};De.url="responseURL"in de?de.responseURL:De.headers.get("X-Request-URL");var Ve="response"in de?de.response:de.responseText;H(new L(Ve,De))},de.onerror=function(){J(new TypeError("Network request failed"))},de.ontimeout=function(){J(new TypeError("Network request failed"))},de.onabort=function(){J(new o.DOMException("Aborted","AbortError"))},de.open(Y.method,Y.url,!0),Y.credentials==="include"?de.withCredentials=!0:Y.credentials==="omit"&&(de.withCredentials=!1),"responseType"in de&&u.blob&&(de.responseType="blob"),Y.headers.forEach(function(De,Ve){de.setRequestHeader(Ve,De)}),Y.signal&&(Y.signal.addEventListener("abort",Te),de.onreadystatechange=function(){de.readyState===4&&Y.signal.removeEventListener("abort",Te)}),de.send(typeof Y._bodyInit>"u"?null:Y._bodyInit)})}return V.polyfill=!0,s.fetch||(s.fetch=V,s.Headers=m,s.Request=C,s.Response=L),o.Headers=m,o.Request=C,o.Response=L,o.fetch=V,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=n;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t}(Y1,Y1.exports)),Y1.exports}var Jq;function DD(){if(Jq)return vu;Jq=1;var e=N&&N.__awaiter||function(a,s,o,u){function l(c){return c instanceof o?c:new o(function(d){d(c)})}return new(o||(o=Promise))(function(c,d){function f(m){try{p(u.next(m))}catch(y){d(y)}}function h(m){try{p(u.throw(m))}catch(y){d(y)}}function p(m){m.done?c(m.value):l(m.value).then(f,h)}p((u=u.apply(a,s||[])).next())})};Object.defineProperty(vu,"__esModule",{value:!0}),vu.fetchContext=vu.fetchJson=void 0;const t=SRe();function r(a,s){var o;return e(this,void 0,void 0,function*(){return(yield((o=s==null?void 0:s.fetch)!==null&&o!==void 0?o:t.fetch)(a)).json()})}vu.fetchJson=r;function n(a,s){return e(this,void 0,void 0,function*(){return(yield r(a,s))["@context"]})}return vu.fetchContext=n,vu}var Xq;function TRe(){if(Xq)return Fp;Xq=1;var e=N&&N.__awaiter||function(n,a,s,o){function u(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(p){try{h(o.next(p))}catch(m){c(m)}}function f(p){try{h(o.throw(p))}catch(m){c(m)}}function h(p){p.done?l(p.value):u(p.value).then(d,f)}h((o=o.apply(n,a||[])).next())})};Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.lookupUri=void 0;const t=DD();function r(n,a){return e(this,void 0,void 0,function*(){const s=(yield(0,t.fetchContext)(`https://prefix.cc/${n}.file.jsonld`,a))[n];if(typeof s!="string")throw new Error(`Expected uri to be a string, received: ${s} of type ${typeof s}`);return s})}return Fp.lookupUri=r,Fp}var qp={},Yq;function ERe(){if(Yq)return qp;Yq=1;var e=N&&N.__awaiter||function(n,a,s,o){function u(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(p){try{h(o.next(p))}catch(m){c(m)}}function f(p){try{h(o.throw(p))}catch(m){c(m)}}function h(p){p.done?l(p.value):u(p.value).then(d,f)}h((o=o.apply(n,a||[])).next())})};Object.defineProperty(qp,"__esModule",{value:!0}),qp.lookupPrefix=void 0;const t=DD();function r(n,a){return e(this,void 0,void 0,function*(){const s=new URL("https://prefix.cc/reverse");s.searchParams.append("uri",n),s.searchParams.append("format","jsonld");const o=Object.keys(yield(0,t.fetchContext)(s,a));if(o.length===0)throw new Error("No prefixes returned");return o[0]})}return qp.lookupPrefix=r,qp}var Bp={},Zq;function ARe(){if(Zq)return Bp;Zq=1;var e=N&&N.__awaiter||function(n,a,s,o){function u(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(p){try{h(o.next(p))}catch(m){c(m)}}function f(p){try{h(o.throw(p))}catch(m){c(m)}}function h(p){p.done?l(p.value):u(p.value).then(d,f)}h((o=o.apply(n,a||[])).next())})};Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.lookupAllPrefixes=void 0;const t=DD();function r(n){return e(this,void 0,void 0,function*(){return(0,t.fetchContext)("https://prefix.cc/context",n)})}return Bp.lookupAllPrefixes=r,Bp}var e7;function t7(){return e7||(e7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(TRe(),e),r(ERe(),e),r(ARe(),e)}(F3)),F3}var r7;function ORe(){return r7||(r7=1,function(e){var t=N&&N.__awaiter||function(u,l,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function m(b){try{g(d.next(b))}catch(v){p(v)}}function y(b){try{g(d.throw(b))}catch(v){p(v)}}function g(b){b.done?h(b.value):f(b.value).then(m,y)}g((d=d.apply(u,l||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.lookupAllPrefixes=e.prefixToUri=e.uriToPrefix=void 0;const r=wRe(),n=t7();function a(u,l){return t(this,void 0,void 0,function*(){let c;try{c=yield(0,n.lookupPrefix)(u,l)}catch{l!=null&&l.mintOnUnknown&&(c=(0,r.fragment)(u).slice(0,4))}if(typeof c<"u"&&typeof(l==null?void 0:l.existingPrefixes)=="object"&&c in l.existingPrefixes){let d=0;for(;`${c}${d}`in l.existingPrefixes;)d+=1;c=`${c}${d}`}return c})}e.uriToPrefix=a;function s(u,l){return t(this,void 0,void 0,function*(){try{return yield(0,n.lookupUri)(u,l)}catch{return}})}e.prefixToUri=s;var o=t7();Object.defineProperty(e,"lookupAllPrefixes",{enumerable:!0,get:function(){return o.lookupAllPrefixes}})}(M3)),M3}var $p={},n7;function RRe(){if(n7)return $p;n7=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.getShaclName=void 0;function e(t){if(t.termType!=="NamedNode"||!t.value.startsWith("http://www.w3.org/ns/shacl#"))throw new Error(`Term ${t.value} is not part of the SHACL namespace`);return t.value.slice(27)}return $p.getShaclName=e,$p}var Z1={},i7;function xRe(){return i7||(i7=1,Object.defineProperty(Z1,"__esModule",{value:!0}),Z1.default={deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,uniqueLang:!0,equals:!0,disjoint:!0,lessThan:!0,lessThanOrEquals:!0,qualifiedValueShape:!0,qualifiedMinCount:!0,qualifiedMaxCount:!0,qualifiedValueShapesDisjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0,node:!0}),Z1}var ev={},a7;function IRe(){return a7||(a7=1,Object.defineProperty(ev,"__esModule",{value:!0}),ev.default={owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"}),ev}var tv={},s7;function PRe(){return s7||(s7=1,Object.defineProperty(tv,"__esModule",{value:!0}),tv.default={targetNode:!0,targetObjectsOf:!0,targetSubjectsOf:!0,deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,equals:!0,disjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0}),tv}var o7;function NRe(){if(o7)return X1;o7=1;var e=N&&N.__awaiter||function(p,m,y,g){function b(v){return v instanceof y?v:new y(function(_){_(v)})}return new(y||(y=Promise))(function(v,_){function w(x){try{E(g.next(x))}catch(C){_(C)}}function S(x){try{E(g.throw(x))}catch(C){_(C)}}function E(x){x.done?v(x.value):b(x.value).then(w,S)}E((g=g.apply(p,m||[])).next())})},t=N&&N.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(X1,"__esModule",{value:!0});const r=Wo,n=ORe(),a=Vb(),s=RRe(),o=t(xRe()),u=t(IRe()),l=t(PRe());function c(p){var m;return(m=/^[^]*[#/]/.exec(p))===null||m===void 0?void 0:m[0]}const d={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/ns/shacl#":"sh","http://www.w3.org/2001/XMLSchema#":"xsd"},f={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};class h{constructor(m,y,g={},b=void 0,v=!0,_=!1,w,S=!1){this.store=m,this.base=b,this.errorOnExtraQuads=v,this.mintUnspecifiedPrefixes=_,this.fetch=w,this.extendedSyntax=S,this.prefixes={},this.prefixRev={};for(const E of Object.keys(g)){const x=g[E],C=typeof x=="string"?x:x.value;!(C in d)&&!(E in f)&&(this.prefixRev[C]=E,this.prefixes[E]=C)}this.writer=y}write(){return e(this,void 0,void 0,function*(){const m=this.store.getQuads(null,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/2002/07/owl#Ontology",null);if(m.length===1&&m[0].subject.termType==="NamedNode"){const g=m[0].subject;this.store.removeQuads(m),g.equals(new r.NamedNode("urn:x-base:default"))||this.writer.add(`BASE ${(0,a.termToString)(g)}`),yield this.writeImports(g)}else throw new Error("Base expected");if(this.mintUnspecifiedPrefixes){const g=new Set;for(const v of[...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)])if(v.termType==="NamedNode"){const _=c(v.value);_&&!(_ in this.prefixRev)&&!(_ in d)&&g.add(_)}const b=Object.assign(Object.assign({},this.prefixes),f);yield Promise.all([...g].map(v=>(0,n.uriToPrefix)(v,{fetch:this.fetch,mintOnUnknown:!0,existingPrefixes:b}).then(_=>{this.prefixes[_]=v,b[_]=v,this.prefixRev[v]=_})))}const y=new Set([...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)].filter(g=>g.termType==="NamedNode").map(g=>c(g.value)).filter(g=>typeof g=="string"));for(const g in this.prefixRev)y.has(g)||(delete this.prefixes[this.prefixRev[g]],delete this.prefixRev[g]);if(yield this.writePrefixes(),this.prefixes=Object.assign(Object.assign({},this.prefixes),f),this.prefixRev=Object.assign(Object.assign({},this.prefixRev),d),this.writer.newLine(),yield this.writeShapes(),this.extendedSyntax){const g=this.store.getSubjects(null,null,null);g.length>0&&this.writer.newLine(1);for(const b of g)this.writer.add(yield this.termToString(b,!0,!0)),this.writer.add(" "),this.writer.indent(),yield this.writeTurtlePredicates(b),this.writer.deindent();g.length>0&&(this.writer.add(" ."),this.writer.newLine())}if(this.errorOnExtraQuads&&this.store.size>0)throw new Error(`Dataset contains quads that cannot be written in SHACLC [
${new r.Writer({prefixes:this.prefixes}).quadsToString(this.store.getQuads(null,null,null,null))}]`);this.writer.end()})}writeImports(m){return e(this,void 0,void 0,function*(){const y=this.store.getObjectsOnce(m,new r.NamedNode("http://www.w3.org/2002/07/owl#imports"),null);if(y.length>0)for(const g of y)this.writer.add(`IMPORTS <${g.value}>`,!0)})}writePrefixes(){return e(this,void 0,void 0,function*(){const m=Object.keys(this.prefixes).filter(y=>!(y in u.default)).sort();if(m.length>0)for(const y of m)this.writer.add(`PREFIX ${y}: <${this.prefixes[y]}>`,!0)})}termToString(m,y=!1,g=!1){return e(this,void 0,void 0,function*(){try{if(y)throw new Error("Shacl name disabled");return(0,s.getShaclName)(m)}catch{}if(m.termType==="NamedNode"){const b=c(m.value);return b&&b in this.prefixRev&&b in this.prefixRev?`${this.prefixRev[b]}:${m.value.slice(b.length)}`:(0,a.termToString)(m)}if(m.termType==="Literal")return m.datatypeString==="http://www.w3.org/2001/XMLSchema#integer"||m.datatypeString==="http://www.w3.org/2001/XMLSchema#boolean"?m.value:(0,a.termToString)(m);throw m.termType==="BlankNode"&&g&&(0,a.termToString)(m),new Error(`Invalid term type for extra statement ${m.value} (${m.termType})`)})}writeShapes(){return e(this,void 0,void 0,function*(){for(const m of this.store.getSubjectsOnce(new r.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new r.NamedNode("http://www.w3.org/ns/shacl#NodeShape"),null)){this.store.getQuadsOnce(m,new r.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new r.NamedNode("http://www.w3.org/2000/01/rdf-schema#Class"),null).length>0?this.writer.add("shapeClass "):this.writer.add("shape "),this.writer.add(yield this.termToString(m)),this.writer.add(" ");const y=this.store.getObjectsOnce(m,new r.NamedNode("http://www.w3.org/ns/shacl#targetClass"),null);if(y.length>0){this.writer.add("-> ");for(const b of y)b.termType==="NamedNode"?this.writer.add(yield this.termToString(b)):(this.writer.add("!"),this.writer.add(yield this.termToString(this.singleObject(b,new r.NamedNode("http://www.w3.org/ns/shacl#not"),!0)))),this.writer.add(" ")}const g=this.store.getPredicates(m,null,null).filter(b=>[new r.NamedNode("http://www.w3.org/ns/shacl#targetClass"),new r.NamedNode("http://www.w3.org/ns/shacl#property"),new r.NamedNode("http://www.w3.org/ns/shacl#or"),...Object.keys(l.default).map(v=>new r.NamedNode("http://www.w3.org/ns/shacl#"+v))].every(v=>!b.equals(v)));g.length>0&&(this.writer.add(";"),this.writer.indent(),this.writer.newLine(1)),this.extendedSyntax&&(yield this.writeGivenTurtlePredicates(m,g)),g.length>0&&(this.writer.add(" "),this.writer.deindent()),yield this.writeShapeBody(m,!1)}})}getSingleProperty(m,y){let g=[m];try{let b=(0,s.getShaclName)(m.predicate),v="pred";if(b==="not"){const _=this.store.getQuadsOnce(m.object,null,null,null);if(g=g.concat(_),_.length!==1)throw new Error("Can only handle having one predicate of 'not'");[m]=_,b=(0,s.getShaclName)(m.predicate),v="not"}if(!(b in y))throw new Error(`${b} is not allowed`);return{name:b,type:v,object:m.object}}catch{this.store.addQuads(g)}}singleLayerPropertiesList(m,y){const g=[];for(const b of this.store.getQuadsOnce(m,null,null,null)){const v=this.getSingleProperty(b,y);v&&g.push(v)}return g}expectOneProperty(m,y){const g=this.store.getQuadsOnce(m,null,null,null);if(g.length===1){const b=this.getSingleProperty(g[0],y);if(b)return b}this.store.addQuads(g)}orProperties(m,y){const g=[];for(const b of this.store.getQuadsOnce(m,new r.NamedNode("http://www.w3.org/ns/shacl#or"),null,null)){const v=[];for(const _ of this.getList(b.object)){const w=this.expectOneProperty(_,y);if(!w)throw this.store.addQuad(b),new Error("Each entry of the 'or' statement must declare exactly one property");v.push(w)}g.push(v)}return g}getList(m){let y=m;const g=[];for(;!y.equals(new r.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));)g.push(this.singleObject(y,new r.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),!0)),y=this.singleObject(y,new r.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),!0);return g}writeIriLiteralOrArray(m){return e(this,void 0,void 0,function*(){if(m.termType==="BlankNode"){this.writer.add("[");let y=!0;for(const g of this.getList(m))y?y=!1:this.writer.add(" "),this.writer.add(yield this.termToString(g));this.writer.add("]")}else this.writer.add(yield this.termToString(m))})}singleObject(m,y,g){var b;return(b=this.singleQuad(m,y,g))===null||b===void 0?void 0:b.object}singleQuad(m,y,g=!1){const b=this.store.getQuadsOnce(m,y,null,null);if(g&&b.length!==1)throw this.store.addQuads(b),new Error(`The subject and predicate ${m==null?void 0:m.value} ${y==null?void 0:y.value} must have exactly one object. Instead has ${b.length}`);if(b.length>1)throw this.store.addQuads(b),new Error(`The subject and predicate ${m==null?void 0:m.value} ${y==null?void 0:y.value} can have at most one object. Instead has ${b.length}`);return b.length===1?b[0]:void 0}writeAssigment({name:m,type:y,object:g}){return e(this,void 0,void 0,function*(){y==="not"&&this.writer.add("!"),this.writer.add(m),this.writer.add("="),yield this.writeIriLiteralOrArray(g)})}writeAtom({name:m,type:y,object:g}){return e(this,void 0,void 0,function*(){switch(y==="not"&&this.writer.add("!"),m){case"node":{if(g.termType==="NamedNode")this.writer.add(`@${yield this.termToString(g)}`);else if(g.termType==="BlankNode")yield this.writeShapeBody(g);else throw new Error("Invalid nested shape, must be blank node or IRI");return}case"nodeKind":{this.writer.add((0,s.getShaclName)(g));return}case"class":{this.writer.add(yield this.termToString(g));return}case"datatype":{this.writer.add(yield this.termToString(g));return}default:this.writer.add(m),this.writer.add("="),yield this.writeIriLiteralOrArray(g)}})}writeAssigments(m,y=" ",g=!0,b){return e(this,void 0,void 0,function*(){for(const v of m)g?g=!1:this.writer.add(y),b?yield this.writeAtom(v):yield this.writeAssigment(v)})}writeParams(m,y=!0,g,b=!1,v=!1){return e(this,void 0,void 0,function*(){const _=this.orProperties(m,g),w=this.singleLayerPropertiesList(m,g);v&&(_.length>0||w.length>0)&&this.writer.newLine(1);for(const S of _)y?y=!1:this.writer.add(" "),yield this.writeAssigments(S,"|",!0,b);yield this.writeAssigments(w," ",y,b),v&&(_.length>0||w.length>0)&&this.writer.add(" .")})}writeShapeBody(m,y=!0){return e(this,void 0,void 0,function*(){this.writer.add("{").indent();const g=this.store.getObjectsOnce(m,new r.NamedNode("http://www.w3.org/ns/shacl#property"),null);yield this.writeParams(m,!0,l.default,!1,!0);for(const b of g)this.writer.newLine(1),yield this.writeProperty(b);this.writer.deindent().newLine(1),y?this.writer.add("} ."):this.writer.add("}").newLine(1)})}writeProperty(m){return e(this,void 0,void 0,function*(){yield this.writePath(this.singleObject(m,new r.NamedNode("http://www.w3.org/ns/shacl#path"),!0));const y=this.singleObject(m,new r.NamedNode("http://www.w3.org/ns/shacl#minCount")),g=this.singleObject(m,new r.NamedNode("http://www.w3.org/ns/shacl#maxCount")),b=this.singleObject(m,new r.NamedNode("http://www.w3.org/ns/shacl#nodeKind")),v=this.singleObject(m,new r.NamedNode("http://www.w3.org/ns/shacl#class")),_=this.singleObject(m,new r.NamedNode("http://www.w3.org/ns/shacl#datatype")),w=this.store.getObjectsOnce(m,new r.NamedNode("http://www.w3.org/ns/shacl#node"),null);if(b&&(this.writer.add(" "),this.writer.add((0,s.getShaclName)(b))),v&&(this.writer.add(" "),this.writer.add(yield this.termToString(v))),_&&(this.writer.add(" "),this.writer.add(yield this.termToString(_))),y!==void 0||g!==void 0){if(this.writer.add(" ["),y){if(y.termType!=="Literal"||y.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid min value, must me an integer literal");this.writer.add(y.value)}else this.writer.add("0");if(this.writer.add(".."),g){if(g.termType!=="Literal"||g.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid max value, must me an integer literal");this.store.removeMatches(m,new r.NamedNode("http://www.w3.org/ns/shacl#maxCount"),void 0,void 0),this.writer.add(g.value)}else this.writer.add("*");this.writer.add("]")}yield this.writeParams(m,!1,o.default,!0);const S=[];for(const E of w)if(E.termType==="NamedNode")this.writer.add(" "),this.writer.add(`@${yield this.termToString(E)}`);else if(E.termType==="BlankNode")S.push(E);else throw new Error("Invalid nested shape, must be blank node or IRI");for(const E of S)this.writer.add(" "),yield this.writeShapeBody(E);this.extendedSyntax&&this.store.getQuads(m,null,null,null).length>0&&(this.writer.add(" %"),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(m),this.writer.deindent(),this.writer.newLine(1),this.writer.add("%")),S.length===0&&this.writer.add(" .")})}writeTurtlePredicates(m){return e(this,void 0,void 0,function*(){return this.writeGivenTurtlePredicates(m,this.store.getPredicates(m,null,null))})}writeGivenTurtlePredicates(m,y){return e(this,void 0,void 0,function*(){let g=!1;if(y.some(b=>b.equals(r.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")))){const b=this.store.getObjectsOnce(m,r.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null);b.length>0&&(g=!0,this.writer.add("a "),yield this.writeTurtleObjects(b))}for(const b of y)b.equals(r.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))||(g?(this.writer.add(" ;"),this.writer.newLine(1)):g=!0,this.writer.add(yield this.termToString(b,!0)),this.writer.add(" "),yield this.writeTurtleObjects(this.store.getObjectsOnce(m,b,null)))})}writeTurtleObjects(m){return e(this,void 0,void 0,function*(){const y=[],g=[];for(const v of m)v.termType==="BlankNode"&&[...this.store.match(null,null,v),...this.store.match(null,v,null)].length===0?y.push(v):g.push(v);this.writer.add((yield Promise.all(g.map(v=>this.termToString(v,!0,!0)))).join(", "));let b=g.length>0;if(y.length>0)for(const v of y)b?this.writer.add(", "):b=!0,(yield this.writeList(v))||(this.writer.add("["),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(v),this.writer.deindent(),this.writer.newLine(1),this.writer.add("]"))})}writeList(m){return e(this,void 0,void 0,function*(){let y=m;const g=[],b=[];for(;!y.equals(r.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));){const _=this.store.getQuadsOnce(y,r.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null,null),w=this.store.getQuadsOnce(y,r.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null,null);if(b.push(..._,...w),_.length!==1||w.length!==1||this.store.getQuads(y,null,null,null).length!==0)return this.store.addQuads(b),!1;g.push(_[0].object),y=w[0].object}let v=!1;this.writer.add("(");for(const _ of g)v?this.writer.add(" "):v=!0,yield this.writeTurtleObjects([_]);return this.writer.add(")"),!0})}writePath(m,y=!1){return e(this,void 0,void 0,function*(){if(m.termType==="NamedNode")this.writer.add(yield this.termToString(m));else if(m.termType==="BlankNode"){const g=this.store.getQuadsOnce(m,null,null,null);if(g.length===1){const{predicate:b,object:v}=g[0];switch(b.value){case"http://www.w3.org/ns/shacl#inversePath":this.writer.add("^"),yield this.writePath(v,!0);return;case"http://www.w3.org/ns/shacl#alternativePath":{const _=this.getList(v);if(_.length===0)throw new Error("Invalid Alternative Path - no options");if(_.length===1)yield this.writePath(_[0]);else{y&&this.writer.add("(");let w=!0;for(const S of _)w?w=!1:this.writer.add("|"),yield this.writePath(S,!0);y&&this.writer.add(")")}return}case"http://www.w3.org/ns/shacl#zeroOrMorePath":yield this.writePath(v,!0),this.writer.add("*");return;case"http://www.w3.org/ns/shacl#oneOrMorePath":yield this.writePath(v,!0),this.writer.add("+");return;case"http://www.w3.org/ns/shacl#zeroOrOnePath":yield this.writePath(v,!0),this.writer.add("?");return;default:throw new Error(`Invalid path type ${m.value}`)}}else{this.store.addQuads(g);const b=this.getList(m);if(b.length===0)throw new Error("Invalid Path");{y&&this.writer.add("(");let v=!0;for(const _ of b)v?v=!1:this.writer.add("/"),yield this.writePath(_,!0);y&&this.writer.add(")")}}}else throw new Error("Path should be named node or blank node")})}}return X1.default=h,X1}var rv={},u7;function DRe(){if(u7)return rv;u7=1,Object.defineProperty(rv,"__esModule",{value:!0});class e{constructor(r){this.indents=0,this.write=r.write,this.end=r.end}indent(){return this.indents+=1,this}deindent(){if(this.indents<1)throw new Error(`Trying to deindent when indent is only ${this.indents}`);return this.indents-=1,this}add(r,n=!1){return this.write(n?`
${"	".repeat(this.indents)}${r}`:r,"utf-8"),this}newLine(r=2){return this.write(`
`.repeat(r)+"	".repeat(this.indents),"utf-8"),this}}return rv.default=e,rv}var nv={},c7;function CRe(){if(c7)return nv;c7=1,Object.defineProperty(nv,"__esModule",{value:!0});const e=Wo;class t extends e.Store{getQuadsOnce(n,a,s,o){const u=this.getQuads(n,a,s,o);return this.removeQuads(u),u}getSubjectsOnce(n,a,s){return this.getQuadsOnce(null,n,a,s).map(o=>o.subject)}getObjectsOnce(n,a,s){return this.getQuadsOnce(n,a,null,s).map(o=>o.object)}}return nv.default=t,nv}var l7;function LRe(){if(l7)return jp;l7=1;var e=N&&N.__awaiter||function(u,l,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function m(b){try{g(d.next(b))}catch(v){p(v)}}function y(b){try{g(d.throw(b))}catch(v){p(v)}}function g(b){b.done?h(b.value):f(b.value).then(m,y)}g((d=d.apply(u,l||[])).next())})},t=N&&N.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(jp,"__esModule",{value:!0}),jp.write=void 0;const r=Wo,n=t(NRe()),a=t(DRe()),s=t(CRe());function o(u,l){return e(this,void 0,void 0,function*(){return new Promise((c,d)=>e(this,void 0,void 0,function*(){try{let f="";const h=new s.default(u),p=h.getGraphs(null,null,null);if(p.length>1)throw new Error("More than one graph found - can serialize in the default graph");if(p.length===1&&!p[0].equals(r.DataFactory.defaultGraph()))throw new Error(`Expected all triples to be in the default graph, instead triples were in ${p[0].value}`);const m=new a.default({write:g=>{f+=g},end:()=>{let g=h.getQuads(null,null,null,null);g.length===0&&(g=void 0),c({text:f,extraQuads:g})}});yield new n.default(h,m,l==null?void 0:l.prefixes,void 0,(l==null?void 0:l.errorOnUnused)!==!1,l==null?void 0:l.mintPrefixes,l==null?void 0:l.fetch,l==null?void 0:l.extendedSyntax).write()}catch(f){d(f)}}))})}return jp.write=o,jp}var d7;function jRe(){if(d7)return Lp;d7=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.ActorRdfSerializeShaclc=void 0;const e=ND(),t=vRe(),r=Lt,n=LRe();let a=class extends e.ActorRdfSerializeFixedMediaTypes{constructor(o){super(o)}async runHandle(o,u){const l=new r.Readable;l._read=()=>{};try{const c={};o.quadStream.on("prefix",(f,h)=>{c[f]=h});const{text:d}=await(0,n.write)(await(0,t.default)(o.quadStream),{errorOnUnused:!0,extendedSyntax:u==="text/shaclc-ext",prefixes:c});l.push(d),l.push(null)}catch(c){l._read=()=>{l.emit("error",c)}}return{data:l,triples:!0}}};return Lp.ActorRdfSerializeShaclc=a,Lp}var f7;function MRe(){return f7||(f7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(jRe(),e)}(j3)),j3}var q3={},Up={},B3={},kp={},h7;function LY(){if(h7)return kp;h7=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.ActorRdfUpdateQuads=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return kp.ActorRdfUpdateQuads=t,kp}var gs={},p7;function FRe(){if(p7)return gs;p7=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.ActorRdfUpdateQuadsDestination=gs.deskolemize=gs.deskolemizeStream=void 0;const e=xX(),t=kt,r=LY();function n(o,u){return o==null?void 0:o.map(l=>(0,e.deskolemizeQuad)(l,u))}gs.deskolemizeStream=n;function a(o){var c;const u=o.context.get(t.KeysRdfUpdateQuads.destination),l=(c=o.context.get(t.KeysQuerySourceIdentify.sourceIds))==null?void 0:c.get(u);return l?{...o,quadStreamInsert:n(o.quadStreamInsert,l),quadStreamDelete:n(o.quadStreamDelete,l)}:o}gs.deskolemize=a;let s=class extends r.ActorRdfUpdateQuads{async test(u){return!0}async run(u){const l=await this.getDestination(u.context);return await this.getOutput(l,a(u))}async getOutput(u,l){return{execute:async()=>{await(l.quadStreamDelete?u.delete(l.quadStreamDelete):Promise.resolve()),await(l.deleteGraphs?u.deleteGraphs(l.deleteGraphs.graphs,l.deleteGraphs.requireExistence,l.deleteGraphs.dropGraphs):Promise.resolve()),await(l.createGraphs?u.createGraphs(l.createGraphs.graphs,l.createGraphs.requireNonExistence):Promise.resolve()),await(l.quadStreamInsert?u.insert(l.quadStreamInsert):Promise.resolve())}}}};return gs.ActorRdfUpdateQuadsDestination=s,gs}var $3={},y7;function qRe(){return y7||(y7=1,Object.defineProperty($3,"__esModule",{value:!0})),$3}var Hn={},m7;function BRe(){if(m7)return Hn;m7=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.getContextDestinationUrl=Hn.getContextDestination=Hn.getDataDestinationContext=Hn.getDataDestinationValue=Hn.getDataDestinationType=Hn.isDataDestinationRawType=void 0;const e=kt;function t(u){return typeof u=="string"||"remove"in u}Hn.isDataDestinationRawType=t;function r(u){return typeof u=="string"?"":"remove"in u?"rdfjsStore":u.type}Hn.getDataDestinationType=r;function n(u){return t(u)?u:u.value}Hn.getDataDestinationValue=n;function a(u,l){return typeof u=="string"||"remove"in u||!u.context?l:l.merge(u.context)}Hn.getDataDestinationContext=a;function s(u){return u.get(e.KeysRdfUpdateQuads.destination)}Hn.getContextDestination=s;function o(u){if(u){let l=n(u);if(typeof l=="string"){const c=l.indexOf("#");return c>=0&&(l=l.slice(0,c)),l}}}return Hn.getContextDestinationUrl=o,Hn}var g7;function CD(){return g7||(g7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(LY(),e),r(FRe(),e),r(qRe(),e),r(BRe(),e)}(B3)),B3}var Vp={},JS={};Object.defineProperty(JS,"__esModule",{value:!0});var LD=JS.promisifyEventEmitter=void 0;function $Re(e,t){return new Promise((r,n)=>{e.on("end",()=>r(t)),e.on("error",n)})}LD=JS.promisifyEventEmitter=$Re;var _7;function URe(){if(_7)return Vp;_7=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.RdfJsQuadDestination=void 0;const e=JS,t=xt,r=rr,n=new t.DataFactory;let a=class{constructor(o){this.store=o}delete(o){return(0,e.promisifyEventEmitter)(this.store.remove(o))}insert(o){return(0,e.promisifyEventEmitter)(this.store.import(o))}async deleteGraphs(o,u,l){switch(o){case"ALL":await(0,e.promisifyEventEmitter)(this.store.deleteGraph(n.defaultGraph()));case"NAMED":const c=this.store.match(),d={};c.on("data",f=>{f.graph.termType!=="DefaultGraph"&&(d[(0,r.termToString)(f.graph)]=!0)}),await(0,e.promisifyEventEmitter)(c),await Promise.all(Object.keys(d).map(f=>(0,e.promisifyEventEmitter)(this.store.deleteGraph((0,r.stringToTerm)(f)))));break;default:for(const f of Array.isArray(o)?o:[o])await(0,e.promisifyEventEmitter)(this.store.deleteGraph(f))}}async createGraphs(o,u){if(u)for(const l of o){const c=this.store.match(void 0,void 0,void 0,l);await new Promise((d,f)=>{c.once("data",()=>{f(new Error(`Unable to create graph ${l.value} as it already exists`))}),c.on("end",d),c.on("error",f)})}}};return Vp.RdfJsQuadDestination=a,Vp}var b7;function kRe(){if(b7)return Up;b7=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.ActorRdfUpdateQuadsRdfJsStore=void 0;const e=CD(),t=URe();let r=class extends e.ActorRdfUpdateQuadsDestination{constructor(a){super(a)}async test(a){const s=(0,e.getContextDestination)(a.context);if(!s||typeof s=="string"||!("remove"in s)&&"value"in s&&!s.value.remove)throw new Error(`${this.name} received an invalid rdfjsStore.`);return!0}async getDestination(a){const s=(0,e.getContextDestination)(a);return new t.RdfJsQuadDestination("remove"in s?s:s.value)}};return Up.ActorRdfUpdateQuadsRdfJsStore=r,Up}var v7;function VRe(){return v7||(v7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(kRe(),e)}(q3)),q3}var U3={},Hp={},k3={},Qp={},V3={},wu={},w7;function HRe(){if(w7)return wu;w7=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.readableFromWeb=wu.ReadableFromWeb=void 0;const e=Lt;let t=class extends e.Readable{constructor(a,s){super(s),this.reader=a.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(o=>{this.readerClosed=!0,this.destroy(o)})}_read(){this.reader.read().then(a=>this.push(a.done?null:a.value)).catch(a=>this.destroy(a))}destroy(a){return this.readerClosed||this.reader.cancel(a).then().catch(()=>{}),super.destroy(a)}};wu.ReadableFromWeb=t;function r(n,a){return new t(n,a)}return wu.readableFromWeb=r,wu}var S7;function QRe(){return S7||(S7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.readableFromWeb=void 0;var t=HRe();Object.defineProperty(e,"readableFromWeb",{enumerable:!0,get:function(){return t.readableFromWeb}})}(V3)),V3}function iv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var H3={exports:{}},T7;function zRe(){return T7||(T7=1,function(e,t){(function(r){e.exports=r()})(function(){return function r(n,a,s){function o(c,d){if(!a[c]){if(!n[c]){var f=typeof iv=="function"&&iv;if(!d&&f)return f(c,!0);if(u)return u(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=a[c]={exports:{}};n[c][0].call(p.exports,function(m){var y=n[c][1][m];return o(y||m)},p,p.exports,r,n,a,s)}return a[c].exports}for(var u=typeof iv=="function"&&iv,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,a){Object.defineProperty(a,"__esModule",{value:!0});var s=r("./spec/reference-implementation/lib/readable-stream"),o=s.ReadableStream,u=r("./spec/reference-implementation/lib/writable-stream"),l=u.WritableStream,c=r("./spec/reference-implementation/lib/byte-length-queuing-strategy"),d=r("./spec/reference-implementation/lib/count-queuing-strategy"),f=r("./spec/reference-implementation/lib/transform-stream"),h=f.TransformStream;a.ByteLengthQueuingStrategy=c,a.CountQueuingStrategy=d,a.ReadableStream=o,a.WritableStream=l,a.TransformStream=h;var p={ReadableStream:o,WritableStream:l,ByteLengthQueuingStrategy:c,CountQueuingStrategy:d,TransformStream:h};a.default=p},{"./spec/reference-implementation/lib/byte-length-queuing-strategy":8,"./spec/reference-implementation/lib/count-queuing-strategy":9,"./spec/reference-implementation/lib/readable-stream":12,"./spec/reference-implementation/lib/transform-stream":13,"./spec/reference-implementation/lib/writable-stream":15}],2:[function(r,n,a){(function(s){function o(k,$){if(k===$)return 0;for(var H=k.length,J=$.length,Y=0,de=Math.min(H,J);Y<de;++Y)if(k[Y]!==$[Y]){H=k[Y],J=$[Y];break}return H<J?-1:J<H?1:0}function u(k){return s.Buffer&&typeof s.Buffer.isBuffer=="function"?s.Buffer.isBuffer(k):!(k==null||!k._isBuffer)}function l(k){return Object.prototype.toString.call(k)}function c(k){return!u(k)&&typeof s.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(k):!!k&&(k instanceof DataView||!!(k.buffer&&k.buffer instanceof ArrayBuffer)))}function d(k){if(x.isFunction(k)){if(P)return k.name;var $=k.toString().match(D);return $&&$[1]}}function f(k,$){return typeof k=="string"?k.length<$?k:k.slice(0,$):k}function h(k){if(P||!x.isFunction(k))return x.inspect(k);var $=d(k);return"[Function"+($?": "+$:"")+"]"}function p(k){return f(h(k.actual),128)+" "+k.operator+" "+f(h(k.expected),128)}function m(k,$,H,J,Y){throw new L.AssertionError({message:H,actual:k,expected:$,operator:J,stackStartFunction:Y})}function y(k,$){k||m(k,!0,$,"==",L.ok)}function g(k,$,H,J){if(k===$)return!0;if(u(k)&&u($))return o(k,$)===0;if(x.isDate(k)&&x.isDate($))return k.getTime()===$.getTime();if(x.isRegExp(k)&&x.isRegExp($))return k.source===$.source&&k.global===$.global&&k.multiline===$.multiline&&k.lastIndex===$.lastIndex&&k.ignoreCase===$.ignoreCase;if(k!==null&&typeof k=="object"||$!==null&&typeof $=="object"){if(c(k)&&c($)&&l(k)===l($)&&!(k instanceof Float32Array||k instanceof Float64Array))return o(new Uint8Array(k.buffer),new Uint8Array($.buffer))===0;if(u(k)!==u($))return!1;var Y=(J=J||{actual:[],expected:[]}).actual.indexOf(k);return Y!==-1&&Y===J.expected.indexOf($)||(J.actual.push(k),J.expected.push($),v(k,$,H,J))}return H?k===$:k==$}function b(k){return Object.prototype.toString.call(k)=="[object Arguments]"}function v(k,$,H,J){if(k==null||$===null||$===void 0)return!1;if(x.isPrimitive(k)||x.isPrimitive($))return k===$;if(H&&Object.getPrototypeOf(k)!==Object.getPrototypeOf($))return!1;var Y=b(k),de=b($);if(Y&&!de||!Y&&de)return!1;if(Y)return k=I.call(k),$=I.call($),g(k,$,H);var Te,De,Ve=V(k),le=V($);if(Ve.length!==le.length)return!1;for(Ve.sort(),le.sort(),De=Ve.length-1;De>=0;De--)if(Ve[De]!==le[De])return!1;for(De=Ve.length-1;De>=0;De--)if(Te=Ve[De],!g(k[Te],$[Te],H,J))return!1;return!0}function _(k,$,H){g(k,$,!0)&&m(k,$,H,"notDeepStrictEqual",_)}function w(k,$){if(!k||!$)return!1;if(Object.prototype.toString.call($)=="[object RegExp]")return $.test(k);try{if(k instanceof $)return!0}catch{}return!Error.isPrototypeOf($)&&$.call({},k)===!0}function S(k){var $;try{k()}catch(H){$=H}return $}function E(k,$,H,J){var Y;if(typeof $!="function")throw new TypeError('"block" argument must be a function');typeof H=="string"&&(J=H,H=null),Y=S($),J=(H&&H.name?" ("+H.name+").":".")+(J?" "+J:"."),k&&!Y&&m(Y,H,"Missing expected exception"+J);var de=typeof J=="string",Te=!k&&x.isError(Y),De=!k&&Y&&!H;if((Te&&de&&w(Y,H)||De)&&m(Y,H,"Got unwanted exception"+J),k&&Y&&H&&!w(Y,H)||!k&&Y)throw Y}var x=r("util/"),C=Object.prototype.hasOwnProperty,I=Array.prototype.slice,P=(function(){}).name==="foo",L=n.exports=y,D=/\s*function\s+([^\(\s]*)\s*/;L.AssertionError=function($){this.name="AssertionError",this.actual=$.actual,this.expected=$.expected,this.operator=$.operator,$.message?(this.message=$.message,this.generatedMessage=!1):(this.message=p(this),this.generatedMessage=!0);var H=$.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,H);else{var J=new Error;if(J.stack){var Y=J.stack,de=d(H),Te=Y.indexOf(`
`+de);if(Te>=0){var De=Y.indexOf(`
`,Te+1);Y=Y.substring(De+1)}this.stack=Y}}},x.inherits(L.AssertionError,Error),L.fail=m,L.ok=y,L.equal=function($,H,J){$!=H&&m($,H,J,"==",L.equal)},L.notEqual=function($,H,J){$==H&&m($,H,J,"!=",L.notEqual)},L.deepEqual=function($,H,J){g($,H,!1)||m($,H,J,"deepEqual",L.deepEqual)},L.deepStrictEqual=function($,H,J){g($,H,!0)||m($,H,J,"deepStrictEqual",L.deepStrictEqual)},L.notDeepEqual=function($,H,J){g($,H,!1)&&m($,H,J,"notDeepEqual",L.notDeepEqual)},L.notDeepStrictEqual=_,L.strictEqual=function($,H,J){$!==H&&m($,H,J,"===",L.strictEqual)},L.notStrictEqual=function($,H,J){$===H&&m($,H,J,"!==",L.notStrictEqual)},L.throws=function(k,$,H){E(!0,k,$,H)},L.doesNotThrow=function(k,$,H){E(!1,k,$,H)},L.ifError=function(k){if(k)throw k};var V=Object.keys||function(k){var $=[];for(var H in k)C.call(k,H)&&$.push(H);return $}}).call(this,typeof N<"u"?N:typeof self<"u"?self:typeof window<"u"?window:{})},{"util/":7}],3:[function(r,n,a){},{}],4:[function(r,n,a){function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(w){if(p===setTimeout)return setTimeout(w,0);if((p===s||!p)&&setTimeout)return p=setTimeout,setTimeout(w,0);try{return p(w,0)}catch{try{return p.call(null,w,0)}catch{return p.call(this,w,0)}}}function l(w){if(m===clearTimeout)return clearTimeout(w);if((m===o||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(w);try{return m(w)}catch{try{return m.call(null,w)}catch{return m.call(this,w)}}}function c(){v&&g&&(v=!1,g.length?b=g.concat(b):_=-1,b.length&&d())}function d(){if(!v){var w=u(c);v=!0;for(var S=b.length;S;){for(g=b,b=[];++_<S;)g&&g[_].run();_=-1,S=b.length}g=null,v=!1,l(w)}}function f(w,S){this.fun=w,this.array=S}function h(){}var p,m,y=n.exports={};(function(){try{p=typeof setTimeout=="function"?setTimeout:s}catch{p=s}try{m=typeof clearTimeout=="function"?clearTimeout:o}catch{m=o}})();var g,b=[],v=!1,_=-1;y.nextTick=function(w){var S=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)S[E-1]=arguments[E];b.push(new f(w,S)),b.length!==1||v||u(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=h,y.addListener=h,y.once=h,y.off=h,y.removeListener=h,y.removeAllListeners=h,y.emit=h,y.prependListener=h,y.prependOnceListener=h,y.listeners=function(w){return[]},y.binding=function(w){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(w){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},{}],5:[function(r,n,a){typeof Object.create=="function"?n.exports=function(o,u){o.super_=u,o.prototype=Object.create(u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(o,u){o.super_=u;var l=function(){};l.prototype=u.prototype,o.prototype=new l,o.prototype.constructor=o}},{}],6:[function(r,n,a){n.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],7:[function(r,n,a){(function(s,o){function u(le,ue){var Ie={seen:[],stylize:c};return arguments.length>=3&&(Ie.depth=arguments[2]),arguments.length>=4&&(Ie.colors=arguments[3]),v(ue)?Ie.showHidden=ue:ue&&a._extend(Ie,ue),C(Ie.showHidden)&&(Ie.showHidden=!1),C(Ie.depth)&&(Ie.depth=2),C(Ie.colors)&&(Ie.colors=!1),C(Ie.customInspect)&&(Ie.customInspect=!0),Ie.colors&&(Ie.stylize=l),f(Ie,le,Ie.depth)}function l(le,ue){var Ie=u.styles[ue];return Ie?"\x1B["+u.colors[Ie][0]+"m"+le+"\x1B["+u.colors[Ie][1]+"m":le}function c(le,ue){return le}function d(le){var ue={};return le.forEach(function(Ie,Ne){ue[Ie]=!0}),ue}function f(le,ue,Ie){if(le.customInspect&&ue&&V(ue.inspect)&&ue.inspect!==a.inspect&&(!ue.constructor||ue.constructor.prototype!==ue)){var Ne=ue.inspect(Ie,le);return E(Ne)||(Ne=f(le,Ne,Ie)),Ne}var we=h(le,ue);if(we)return we;var Ae=Object.keys(ue),Se=d(Ae);if(le.showHidden&&(Ae=Object.getOwnPropertyNames(ue)),D(ue)&&(Ae.indexOf("message")>=0||Ae.indexOf("description")>=0))return p(ue);if(Ae.length===0){if(V(ue)){var z=ue.name?": "+ue.name:"";return le.stylize("[Function"+z+"]","special")}if(I(ue))return le.stylize(RegExp.prototype.toString.call(ue),"regexp");if(L(ue))return le.stylize(Date.prototype.toString.call(ue),"date");if(D(ue))return p(ue)}var M="",B=!1,T=["{","}"];if(b(ue)&&(B=!0,T=["[","]"]),V(ue)&&(M=" [Function"+(ue.name?": "+ue.name:"")+"]"),I(ue)&&(M=" "+RegExp.prototype.toString.call(ue)),L(ue)&&(M=" "+Date.prototype.toUTCString.call(ue)),D(ue)&&(M=" "+p(ue)),Ae.length===0&&(!B||ue.length==0))return T[0]+M+T[1];if(Ie<0)return I(ue)?le.stylize(RegExp.prototype.toString.call(ue),"regexp"):le.stylize("[Object]","special");le.seen.push(ue);var O;return O=B?m(le,ue,Ie,Se,Ae):Ae.map(function(U){return y(le,ue,Ie,Se,U,B)}),le.seen.pop(),g(O,M,T)}function h(le,ue){if(C(ue))return le.stylize("undefined","undefined");if(E(ue)){var Ie="'"+JSON.stringify(ue).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return le.stylize(Ie,"string")}return S(ue)?le.stylize(""+ue,"number"):v(ue)?le.stylize(""+ue,"boolean"):_(ue)?le.stylize("null","null"):void 0}function p(le){return"["+Error.prototype.toString.call(le)+"]"}function m(le,ue,Ie,Ne,we){for(var Ae=[],Se=0,z=ue.length;Se<z;++Se)Y(ue,String(Se))?Ae.push(y(le,ue,Ie,Ne,String(Se),!0)):Ae.push("");return we.forEach(function(M){M.match(/^\d+$/)||Ae.push(y(le,ue,Ie,Ne,M,!0))}),Ae}function y(le,ue,Ie,Ne,we,Ae){var Se,z,M;if((M=Object.getOwnPropertyDescriptor(ue,we)||{value:ue[we]}).get?z=M.set?le.stylize("[Getter/Setter]","special"):le.stylize("[Getter]","special"):M.set&&(z=le.stylize("[Setter]","special")),Y(Ne,we)||(Se="["+we+"]"),z||(le.seen.indexOf(M.value)<0?(z=_(Ie)?f(le,M.value,null):f(le,M.value,Ie-1)).indexOf(`
`)>-1&&(z=Ae?z.split(`
`).map(function(B){return"  "+B}).join(`
`).substr(2):`
`+z.split(`
`).map(function(B){return"   "+B}).join(`
`)):z=le.stylize("[Circular]","special")),C(Se)){if(Ae&&we.match(/^\d+$/))return z;(Se=JSON.stringify(""+we)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Se=Se.substr(1,Se.length-2),Se=le.stylize(Se,"name")):(Se=Se.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Se=le.stylize(Se,"string"))}return Se+": "+z}function g(le,ue,Ie){var Ne=0;return le.reduce(function(we,Ae){return Ne++,Ae.indexOf(`
`)>=0&&Ne++,we+Ae.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Ie[0]+(ue===""?"":ue+`
 `)+" "+le.join(`,
  `)+" "+Ie[1]:Ie[0]+ue+" "+le.join(", ")+" "+Ie[1]}function b(le){return Array.isArray(le)}function v(le){return typeof le=="boolean"}function _(le){return le===null}function w(le){return le==null}function S(le){return typeof le=="number"}function E(le){return typeof le=="string"}function x(le){return typeof le=="symbol"}function C(le){return le===void 0}function I(le){return P(le)&&$(le)==="[object RegExp]"}function P(le){return typeof le=="object"&&le!==null}function L(le){return P(le)&&$(le)==="[object Date]"}function D(le){return P(le)&&($(le)==="[object Error]"||le instanceof Error)}function V(le){return typeof le=="function"}function k(le){return le===null||typeof le=="boolean"||typeof le=="number"||typeof le=="string"||typeof le=="symbol"||le===void 0}function $(le){return Object.prototype.toString.call(le)}function H(le){return le<10?"0"+le.toString(10):le.toString(10)}function J(){var le=new Date,ue=[H(le.getHours()),H(le.getMinutes()),H(le.getSeconds())].join(":");return[le.getDate(),Ve[le.getMonth()],ue].join(" ")}function Y(le,ue){return Object.prototype.hasOwnProperty.call(le,ue)}var de=/%[sdj%]/g;a.format=function(le){if(!E(le)){for(var ue=[],Ie=0;Ie<arguments.length;Ie++)ue.push(u(arguments[Ie]));return ue.join(" ")}for(var Ie=1,Ne=arguments,we=Ne.length,Ae=String(le).replace(de,function(M){if(M==="%%")return"%";if(Ie>=we)return M;switch(M){case"%s":return String(Ne[Ie++]);case"%d":return Number(Ne[Ie++]);case"%j":try{return JSON.stringify(Ne[Ie++])}catch{return"[Circular]"}default:return M}}),Se=Ne[Ie];Ie<we;Se=Ne[++Ie])_(Se)||!P(Se)?Ae+=" "+Se:Ae+=" "+u(Se);return Ae},a.deprecate=function(le,ue){if(C(o.process))return function(){return a.deprecate(le,ue).apply(this,arguments)};if(s.noDeprecation===!0)return le;var Ie=!1;return function(){if(!Ie){if(s.throwDeprecation)throw new Error(ue);s.traceDeprecation?console.trace(ue):console.error(ue),Ie=!0}return le.apply(this,arguments)}};var Te,De={};a.debuglog=function(le){if(C(Te)&&(Te=s.env.NODE_DEBUG||""),le=le.toUpperCase(),!De[le])if(new RegExp("\\b"+le+"\\b","i").test(Te)){var ue=s.pid;De[le]=function(){var Ie=a.format.apply(a,arguments);console.error("%s %d: %s",le,ue,Ie)}}else De[le]=function(){};return De[le]},a.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},a.isArray=b,a.isBoolean=v,a.isNull=_,a.isNullOrUndefined=w,a.isNumber=S,a.isString=E,a.isSymbol=x,a.isUndefined=C,a.isRegExp=I,a.isObject=P,a.isDate=L,a.isError=D,a.isFunction=V,a.isPrimitive=k,a.isBuffer=r("./support/isBuffer");var Ve=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];a.log=function(){console.log("%s - %s",J(),a.format.apply(a,arguments))},a.inherits=r("inherits"),a._extend=function(le,ue){if(!ue||!P(ue))return le;for(var Ie=Object.keys(ue),Ne=Ie.length;Ne--;)le[Ie[Ne]]=ue[Ie[Ne]];return le}}).call(this,r("_process"),typeof N<"u"?N:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":6,_process:4,inherits:5}],8:[function(r,n,a){function s(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function c(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&c(d.prototype,f),h&&c(d,h),d}}(),u=r("./helpers.js"),l=u.createDataProperty;n.exports=function(){function c(d){var f=d.highWaterMark;s(this,c),l(this,"highWaterMark",f)}return o(c,[{key:"size",value:function(f){return f.byteLength}}]),c}()},{"./helpers.js":10}],9:[function(r,n,a){function s(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function c(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&c(d.prototype,f),h&&c(d,h),d}}(),u=r("./helpers.js"),l=u.createDataProperty;n.exports=function(){function c(d){var f=d.highWaterMark;s(this,c),l(this,"highWaterMark",f)}return o(c,[{key:"size",value:function(){return 1}}]),c}()},{"./helpers.js":10}],10:[function(r,n,a){function s(c,d,f){if(typeof c!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(c,d,f)}function o(c,d,f){try{return Promise.resolve(s(c,d,f))}catch(h){return Promise.reject(h)}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};r("better-assert");var l=Symbol('is "detached" for our purposes');a.typeIsObject=function(c){return(c===void 0?"undefined":u(c))==="object"&&c!==null||typeof c=="function"},a.createDataProperty=function(c,d,f){Object.defineProperty(c,d,{value:f,writable:!0,enumerable:!0,configurable:!0})},a.createArrayFromList=function(c){return c.slice()},a.ArrayBufferCopy=function(c,d,f,h,p){new Uint8Array(c).set(new Uint8Array(f,h,p),d)},a.CreateIterResultObject=function(c,d){var f={};return Object.defineProperty(f,"value",{value:c,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(f,"done",{value:d,enumerable:!0,writable:!0,configurable:!0}),f},a.IsFiniteNonNegativeNumber=function(c){return a.IsNonNegativeNumber(c)!==!1&&c!==1/0},a.IsNonNegativeNumber=function(c){return typeof c=="number"&&!Number.isNaN(c)&&!(c<0)},a.Call=s,a.CreateAlgorithmFromUnderlyingMethod=function(c,d,f,h){var p=c[d];if(p!==void 0){if(typeof p!="function")throw new TypeError(p+" is not a method");switch(f){case 0:return function(){return o(p,c,h)};case 1:return function(m){var y=[m].concat(h);return o(p,c,y)}}}return function(){return Promise.resolve()}},a.InvokeOrNoop=function(c,d,f){var h=c[d];if(h!==void 0)return s(h,c,f)},a.PromiseCall=o,a.TransferArrayBuffer=function(c){var d=c.slice();return Object.defineProperty(c,"byteLength",{get:function(){return 0}}),c[l]=!0,d},a.IsDetachedBuffer=function(c){return l in c},a.ValidateAndNormalizeHighWaterMark=function(c){if(c=Number(c),Number.isNaN(c)||c<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return c},a.MakeSizeAlgorithmFromSizeFunction=function(c){if(c===void 0)return function(){return 1};if(typeof c!="function")throw new TypeError("size property of a queuing strategy must be a function");return function(d){return c(d)}}},{"better-assert":16}],11:[function(r,n,a){r("better-assert");var s=r("./helpers.js"),o=s.IsFiniteNonNegativeNumber;a.DequeueValue=function(u){var l=u._queue.shift();return u._queueTotalSize-=l.size,u._queueTotalSize<0&&(u._queueTotalSize=0),l.value},a.EnqueueValueWithSize=function(u,l,c){if(c=Number(c),!o(c))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");u._queue.push({value:l,size:c}),u._queueTotalSize+=c},a.PeekQueueValue=function(u){return u._queue[0].value},a.ResetQueue=function(u){u._queue=[],u._queueTotalSize=0}},{"./helpers.js":10,"better-assert":16}],12:[function(r,n,a){function s(oe,_e){if(!(oe instanceof _e))throw new TypeError("Cannot call a class as a function")}function o(oe){return new mi(oe)}function u(oe){return new En(oe)}function l(oe,_e,Re){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,ut=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},ht=Object.create(as.prototype);return d(ht),we(ht,Object.create(Fn.prototype),oe,_e,Re,nt,ut),ht}function c(oe,_e,Re){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,ut=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,ht=Object.create(as.prototype);return d(ht),W(ht,Object.create(Ic.prototype),oe,_e,Re,nt,ut),ht}function d(oe){oe._state="readable",oe._reader=void 0,oe._storedError=void 0,oe._disturbed=!1}function f(oe){return!!Je(oe)&&!!Object.prototype.hasOwnProperty.call(oe,"_readableStreamController")}function h(oe){return oe._disturbed}function p(oe){return oe._reader!==void 0}function m(oe,_e){function Re(){return H(ut).then(function(fn){var Bn=fn.value;if(fn.done===!0&&ht===!1&&(jt===!1&&Te(Zt._readableStreamController),Qt===!1&&Te(gr._readableStreamController),ht=!0),ht!==!0){var aa=Bn,un=Bn;jt===!1&&De(Zt._readableStreamController,aa),Qt===!1&&De(gr._readableStreamController,un)}})}function nt(){}var ut=u(oe),ht=!1,jt=!1,Qt=!1,nr=void 0,Ir=void 0,Zt=void 0,gr=void 0,qn=void 0,An=new Promise(function(fn){qn=fn});return Zt=l(nt,Re,function(Bn){if(jt=!0,nr=Bn,Qt===!0){var aa=Kr([nr,Ir]),un=b(oe,aa);qn(un)}return An}),gr=l(nt,Re,function(Bn){if(Qt=!0,Ir=Bn,jt===!0){var aa=Kr([nr,Ir]),un=b(oe,aa);qn(un)}return An}),ut._closedPromise.catch(function(fn){ht!==!0&&(le(Zt._readableStreamController,fn),le(gr._readableStreamController,fn),ht=!0)}),[Zt,gr]}function y(oe){return new Promise(function(_e,Re){var nt={_resolve:_e,_reject:Re};oe._reader._readIntoRequests.push(nt)})}function g(oe){return new Promise(function(_e,Re){var nt={_resolve:_e,_reject:Re};oe._reader._readRequests.push(nt)})}function b(oe,_e){return oe._disturbed=!0,oe._state==="closed"?Promise.resolve(void 0):oe._state==="errored"?Promise.reject(oe._storedError):(v(oe),oe._readableStreamController[Mn](_e).then(function(){}))}function v(oe){oe._state="closed";var _e=oe._reader;if(_e!==void 0){if(L(_e)===!0){var Re=!0,nt=!1,ut=void 0;try{for(var ht,jt=_e._readRequests[Symbol.iterator]();!(Re=(ht=jt.next()).done);Re=!0)(0,ht.value._resolve)(xe(void 0,!0))}catch(Qt){nt=!0,ut=Qt}finally{try{!Re&&jt.return&&jt.return()}finally{if(nt)throw ut}}_e._readRequests=[]}ft(_e)}}function _(oe,_e){oe._state="errored",oe._storedError=_e;var Re=oe._reader;if(Re!==void 0){if(L(Re)===!0){var nt=!0,ut=!1,ht=void 0;try{for(var jt,Qt=Re._readRequests[Symbol.iterator]();!(nt=(jt=Qt.next()).done);nt=!0)jt.value._reject(_e)}catch(An){ut=!0,ht=An}finally{try{!nt&&Qt.return&&Qt.return()}finally{if(ut)throw ht}}Re._readRequests=[]}else{var nr=!0,Ir=!1,Zt=void 0;try{for(var gr,qn=Re._readIntoRequests[Symbol.iterator]();!(nr=(gr=qn.next()).done);nr=!0)gr.value._reject(_e)}catch(An){Ir=!0,Zt=An}finally{try{!nr&&qn.return&&qn.return()}finally{if(Ir)throw Zt}}Re._readIntoRequests=[]}Ye(Re,_e),Re._closedPromise.catch(function(){})}}function w(oe,_e,Re){oe._reader._readIntoRequests.shift()._resolve(xe(_e,Re))}function S(oe,_e,Re){oe._reader._readRequests.shift()._resolve(xe(_e,Re))}function E(oe){return oe._reader._readIntoRequests.length}function x(oe){return oe._reader._readRequests.length}function C(oe){var _e=oe._reader;return _e!==void 0&&P(_e)!==!1}function I(oe){var _e=oe._reader;return _e!==void 0&&L(_e)!==!1}function P(oe){return!!Je(oe)&&!!Object.prototype.hasOwnProperty.call(oe,"_readIntoRequests")}function L(oe){return!!Je(oe)&&!!Object.prototype.hasOwnProperty.call(oe,"_readRequests")}function D(oe,_e){oe._ownerReadableStream=_e,_e._reader=oe,_e._state==="readable"?Oe(oe):_e._state==="closed"?Be(oe):(je(oe,_e._storedError),oe._closedPromise.catch(function(){}))}function V(oe,_e){return b(oe._ownerReadableStream,_e)}function k(oe){oe._ownerReadableStream._state==="readable"?Ye(oe,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ct(oe,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),oe._closedPromise.catch(function(){}),oe._ownerReadableStream._reader=void 0,oe._ownerReadableStream=void 0}function $(oe,_e){var Re=oe._ownerReadableStream;return Re._disturbed=!0,Re._state==="errored"?Promise.reject(Re._storedError):he(Re._readableStreamController,_e)}function H(oe){var _e=oe._ownerReadableStream;return _e._disturbed=!0,_e._state==="closed"?Promise.resolve(xe(void 0,!0)):_e._state==="errored"?Promise.reject(_e._storedError):_e._readableStreamController[dn]()}function J(oe){return!!Je(oe)&&!!Object.prototype.hasOwnProperty.call(oe,"_controlledReadableStream")}function Y(oe){de(oe)!==!1&&(oe._pulling!==!0?(oe._pulling=!0,oe._pullAlgorithm().then(function(){if(oe._pulling=!1,oe._pullAgain===!0)return oe._pullAgain=!1,Y(oe)},function(_e){le(oe,_e)}).catch(Pe)):oe._pullAgain=!0)}function de(oe){var _e=oe._controlledReadableStream;return Ne(oe)!==!1&&oe._started!==!1&&(p(_e)===!0&&x(_e)>0||ue(oe)>0)}function Te(oe){var _e=oe._controlledReadableStream;oe._closeRequested=!0,oe._queue.length===0&&v(_e)}function De(oe,_e){var Re=oe._controlledReadableStream;if(p(Re)===!0&&x(Re)>0)S(Re,_e,!1);else{var nt=void 0;try{nt=oe._strategySizeAlgorithm(_e)}catch(ut){throw le(oe,ut),ut}try{gt(oe,_e,nt)}catch(ut){throw le(oe,ut),ut}}Y(oe)}function Ve(oe,_e){var Re=oe._controlledReadableStream;It(oe),_(Re,_e)}function le(oe,_e){oe._controlledReadableStream._state==="readable"&&Ve(oe,_e)}function ue(oe){var _e=oe._controlledReadableStream._state;return _e==="errored"?null:_e==="closed"?0:oe._strategyHWM-oe._queueTotalSize}function Ie(oe){return de(oe)!==!0}function Ne(oe){var _e=oe._controlledReadableStream._state;return oe._closeRequested===!1&&_e==="readable"}function we(oe,_e,Re,nt,ut,ht,jt){_e._controlledReadableStream=oe,_e._queue=void 0,_e._queueTotalSize=void 0,It(_e),_e._started=!1,_e._closeRequested=!1,_e._pullAgain=!1,_e._pulling=!1,_e._strategySizeAlgorithm=jt,_e._strategyHWM=ht,_e._pullAlgorithm=nt,_e._cancelAlgorithm=ut,oe._readableStreamController=_e;var Qt=Re();Promise.resolve(Qt).then(function(){_e._started=!0,Y(_e)},function(nr){le(_e,nr)}).catch(Pe)}function Ae(oe,_e,Re,nt){var ut=Object.create(Fn.prototype),ht=ye(_e,"pull",0,[ut]),jt=ye(_e,"cancel",1,[]);we(oe,ut,function(){return Ke(_e,"start",[ut])},ht,jt,Re,nt)}function Se(oe){return!!Je(oe)&&!!Object.prototype.hasOwnProperty.call(oe,"_controlledReadableByteStream")}function z(oe){return!!Je(oe)&&!!Object.prototype.hasOwnProperty.call(oe,"_associatedReadableByteStreamController")}function M(oe){Ue(oe)!==!1&&(oe._pulling!==!0?(oe._pulling=!0,oe._pullAlgorithm().then(function(){oe._pulling=!1,oe._pullAgain===!0&&(oe._pullAgain=!1,M(oe))},function(_e){oe._controlledReadableByteStream._state==="readable"&&ke(oe,_e)}).catch(Pe)):oe._pullAgain=!0)}function B(oe){ie(oe),oe._pendingPullIntos=[]}function T(oe,_e){var Re=!1;oe._state==="closed"&&(Re=!0);var nt=O(_e);_e.readerType==="default"?S(oe,nt,Re):w(oe,nt,Re)}function O(oe){var _e=oe.bytesFilled,Re=oe.elementSize;return new oe.ctor(oe.buffer,oe.byteOffset,_e/Re)}function U(oe,_e,Re,nt){oe._queue.push({buffer:_e,byteOffset:Re,byteLength:nt}),oe._queueTotalSize+=nt}function G(oe,_e){var Re=_e.elementSize,nt=_e.bytesFilled-_e.bytesFilled%Re,ut=Math.min(oe._queueTotalSize,_e.byteLength-_e.bytesFilled),ht=_e.bytesFilled+ut,jt=ht-ht%Re,Qt=ut,nr=!1;jt>nt&&(Qt=jt-_e.bytesFilled,nr=!0);for(var Ir=oe._queue;Qt>0;){var Zt=Ir[0],gr=Math.min(Qt,Zt.byteLength),qn=_e.byteOffset+_e.bytesFilled;me(_e.buffer,qn,Zt.buffer,Zt.byteOffset,gr),Zt.byteLength===gr?Ir.shift():(Zt.byteOffset+=gr,Zt.byteLength-=gr),oe._queueTotalSize-=gr,Q(oe,gr,_e),Qt-=gr}return nr}function Q(oe,_e,Re){ie(oe),Re.bytesFilled+=_e}function Z(oe){oe._queueTotalSize===0&&oe._closeRequested===!0?v(oe._controlledReadableByteStream):M(oe)}function ie(oe){oe._byobRequest!==void 0&&(oe._byobRequest._associatedReadableByteStreamController=void 0,oe._byobRequest._view=void 0,oe._byobRequest=void 0)}function te(oe){for(;oe._pendingPullIntos.length>0;){if(oe._queueTotalSize===0)return;var _e=oe._pendingPullIntos[0];G(oe,_e)===!0&&(Ee(oe),T(oe._controlledReadableByteStream,_e))}}function he(oe,_e){var Re=oe._controlledReadableByteStream,nt=1;_e.constructor!==DataView&&(nt=_e.constructor.BYTES_PER_ELEMENT);var ut=_e.constructor,ht={buffer:dt(_e.buffer),byteOffset:_e.byteOffset,byteLength:_e.byteLength,bytesFilled:0,elementSize:nt,ctor:ut,readerType:"byob"};if(oe._pendingPullIntos.length>0)return oe._pendingPullIntos.push(ht),y(Re);if(Re._state==="closed"){var jt=new _e.constructor(ht.buffer,ht.byteOffset,0);return Promise.resolve(xe(jt,!0))}if(oe._queueTotalSize>0){if(G(oe,ht)===!0){var Qt=O(ht);return Z(oe),Promise.resolve(xe(Qt,!1))}if(oe._closeRequested===!0){var nr=new TypeError("Insufficient bytes to fill elements in the given buffer");return ke(oe,nr),Promise.reject(nr)}}oe._pendingPullIntos.push(ht);var Ir=y(Re);return M(oe),Ir}function ce(oe,_e){_e.buffer=dt(_e.buffer);var Re=oe._controlledReadableByteStream;if(C(Re)===!0)for(;E(Re)>0;)T(Re,Ee(oe))}function ve(oe,_e,Re){if(Re.bytesFilled+_e>Re.byteLength)throw new RangeError("bytesWritten out of range");if(Q(oe,_e,Re),!(Re.bytesFilled<Re.elementSize)){Ee(oe);var nt=Re.bytesFilled%Re.elementSize;if(nt>0){var ut=Re.byteOffset+Re.bytesFilled,ht=Re.buffer.slice(ut-nt,ut);U(oe,ht,0,ht.byteLength)}Re.buffer=dt(Re.buffer),Re.bytesFilled-=nt,T(oe._controlledReadableByteStream,Re),te(oe)}}function Ce(oe,_e){var Re=oe._pendingPullIntos[0];if(oe._controlledReadableByteStream._state==="closed"){if(_e!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");ce(oe,Re)}else ve(oe,_e,Re)}function Ee(oe){var _e=oe._pendingPullIntos.shift();return ie(oe),_e}function Ue(oe){var _e=oe._controlledReadableByteStream;return _e._state==="readable"&&oe._closeRequested!==!0&&oe._started!==!1&&(I(_e)===!0&&x(_e)>0||C(_e)===!0&&E(_e)>0||K(oe)>0)}function Fe(oe){var _e=oe._controlledReadableByteStream;if(oe._queueTotalSize>0)oe._closeRequested=!0;else{if(oe._pendingPullIntos.length>0&&oe._pendingPullIntos[0].bytesFilled>0){var Re=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ke(oe,Re),Re}v(_e)}}function Qe(oe,_e){var Re=oe._controlledReadableByteStream,nt=_e.buffer,ut=_e.byteOffset,ht=_e.byteLength,jt=dt(nt);I(Re)===!0?x(Re)===0?U(oe,jt,ut,ht):S(Re,new Uint8Array(jt,ut,ht),!1):C(Re)===!0?(U(oe,jt,ut,ht),te(oe)):U(oe,jt,ut,ht)}function ke(oe,_e){var Re=oe._controlledReadableByteStream;B(oe),It(oe),_(Re,_e)}function K(oe){var _e=oe._controlledReadableByteStream._state;return _e==="errored"?null:_e==="closed"?0:oe._strategyHWM-oe._queueTotalSize}function j(oe,_e){if(_e=Number(_e),Me(_e)===!1)throw new RangeError("bytesWritten must be a finite");Ce(oe,_e)}function q(oe,_e){var Re=oe._pendingPullIntos[0];if(Re.byteOffset+Re.bytesFilled!==_e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(Re.byteLength!==_e.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");Re.buffer=_e.buffer,Ce(oe,_e.byteLength)}function W(oe,_e,Re,nt,ut,ht,jt){_e._controlledReadableByteStream=oe,_e._pullAgain=!1,_e._pulling=!1,B(_e),_e._queue=_e._queueTotalSize=void 0,It(_e),_e._closeRequested=!1,_e._started=!1,_e._strategyHWM=it(ht),_e._pullAlgorithm=nt,_e._cancelAlgorithm=ut,_e._autoAllocateChunkSize=jt,_e._pendingPullIntos=[],oe._readableStreamController=_e;var Qt=Re();Promise.resolve(Qt).then(function(){_e._started=!0,M(_e)},function(nr){oe._state==="readable"&&ke(_e,nr)}).catch(Pe)}function re(oe,_e,Re){var nt=Object.create(Ic.prototype),ut=ye(_e,"pull",0,[nt]),ht=ye(_e,"cancel",1,[]),jt=_e.autoAllocateChunkSize;if(jt!==void 0&&(Number.isInteger(jt)===!1||jt<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");W(oe,nt,function(){return Ke(_e,"start",[nt])},ut,ht,Re,jt)}function pe(oe,_e,Re){oe._associatedReadableByteStreamController=_e,oe._view=Re}function ge(oe){return new TypeError("ReadableStream.prototype."+oe+" can only be used on a ReadableStream")}function qe(oe){return new TypeError("Cannot "+oe+" a stream using a released reader")}function ee(oe){return new TypeError("ReadableStreamDefaultReader.prototype."+oe+" can only be used on a ReadableStreamDefaultReader")}function Oe(oe){oe._closedPromise=new Promise(function(_e,Re){oe._closedPromise_resolve=_e,oe._closedPromise_reject=Re})}function je(oe,_e){oe._closedPromise=Promise.reject(_e),oe._closedPromise_resolve=void 0,oe._closedPromise_reject=void 0}function Be(oe){oe._closedPromise=Promise.resolve(void 0),oe._closedPromise_resolve=void 0,oe._closedPromise_reject=void 0}function Ye(oe,_e){oe._closedPromise_reject(_e),oe._closedPromise_resolve=void 0,oe._closedPromise_reject=void 0}function ct(oe,_e){oe._closedPromise=Promise.reject(_e)}function ft(oe){oe._closedPromise_resolve(void 0),oe._closedPromise_resolve=void 0,oe._closedPromise_reject=void 0}function ot(oe){return new TypeError("ReadableStreamBYOBReader.prototype."+oe+" can only be used on a ReadableStreamBYOBReader")}function mt(oe){return new TypeError("ReadableStreamDefaultController.prototype."+oe+" can only be used on a ReadableStreamDefaultController")}function ne(oe){return new TypeError("ReadableStreamBYOBRequest.prototype."+oe+" can only be used on a ReadableStreamBYOBRequest")}function A(oe){return new TypeError("ReadableByteStreamController.prototype."+oe+" can only be used on a ReadableByteStreamController")}function R(oe){try{Promise.prototype.then.call(oe,void 0,function(){})}catch{}}var F=function(){function oe(_e,Re){for(var nt=0;nt<Re.length;nt++){var ut=Re[nt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(_e,ut.key,ut)}}return function(_e,Re,nt){return Re&&oe(_e.prototype,Re),nt&&oe(_e,nt),_e}}();r("better-assert");var X=r("./helpers.js"),me=X.ArrayBufferCopy,ye=X.CreateAlgorithmFromUnderlyingMethod,xe=X.CreateIterResultObject,Me=X.IsFiniteNonNegativeNumber,Ke=X.InvokeOrNoop,et=X.IsDetachedBuffer,dt=X.TransferArrayBuffer,it=X.ValidateAndNormalizeHighWaterMark;X.IsNonNegativeNumber;var rt=X.MakeSizeAlgorithmFromSizeFunction,Kr=X.createArrayFromList,Je=X.typeIsObject,fe=r("./utils.js"),Pe=fe.rethrowAssertionErrorRejection,Le=r("./queue-with-sizes.js"),Ze=Le.DequeueValue,gt=Le.EnqueueValueWithSize,It=Le.ResetQueue,Dt=r("./writable-stream.js"),on=Dt.AcquireWritableStreamDefaultWriter,Sa=Dt.IsWritableStream,jn=Dt.IsWritableStreamLocked,dr=Dt.WritableStreamAbort,oi=Dt.WritableStreamDefaultWriterCloseWithErrorPropagation,Fr=Dt.WritableStreamDefaultWriterRelease,Tn=Dt.WritableStreamDefaultWriterWrite,yi=Dt.WritableStreamCloseQueuedOrInFlight,Mn=Symbol("[[CancelSteps]]"),dn=Symbol("[[PullSteps]]"),as=function(){function oe(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=Re.size,ut=Re.highWaterMark;s(this,oe),d(this);var ht=_e.type;if(String(ht)==="bytes"){if(ut===void 0&&(ut=0),ut=it(ut),nt!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");re(this,_e,ut)}else{if(ht!==void 0)throw new RangeError("Invalid type is specified");ut===void 0&&(ut=1),Ae(this,_e,ut=it(ut),rt(nt))}}return F(oe,[{key:"cancel",value:function(Re){return f(this)===!1?Promise.reject(ge("cancel")):p(this)===!0?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):b(this,Re)}},{key:"getReader",value:function(){var Re=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).mode;if(f(this)===!1)throw ge("getReader");if(Re===void 0)return u(this);if((Re=String(Re))==="byob")return o(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(Re,nt){var ut=Re.writable,ht=Re.readable;if(ut===void 0||ht===void 0)throw new TypeError("readable and writable arguments must be defined");return R(this.pipeTo(ut,nt)),ht}},{key:"pipeTo",value:function(Re){var nt=this,ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ht=ut.preventClose,jt=ut.preventAbort,Qt=ut.preventCancel;if(f(this)===!1)return Promise.reject(ge("pipeTo"));if(Sa(Re)===!1)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(ht=!!ht,jt=!!jt,Qt=!!Qt,p(this)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(jn(Re)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var nr=u(this),Ir=on(Re),Zt=!1,gr=Promise.resolve();return new Promise(function(qn,An){function fn(){return Zt===!0?Promise.resolve():Ir._readyPromise.then(function(){return H(nr).then(function(Yt){var cn=Yt.value;Yt.done!==!0&&(gr=Tn(Ir,cn).catch(function(){}))})}).then(fn)}function Bn(){var Yt=gr;return gr.then(function(){return Yt!==gr?Bn():void 0})}function aa(Yt,cn,os){Yt._state==="errored"?os(Yt._storedError):cn.catch(os).catch(Pe)}function un(Yt,cn,os){function Ys(){Yt().then(function(){return eu(cn,os)},function(Yb){return eu(!0,Yb)}).catch(Pe)}Zt!==!0&&(Zt=!0,Re._state==="writable"&&yi(Re)===!1?Bn().then(Ys):Ys())}function ss(Yt,cn){Zt!==!0&&(Zt=!0,Re._state==="writable"&&yi(Re)===!1?Bn().then(function(){return eu(Yt,cn)}).catch(Pe):eu(Yt,cn))}function eu(Yt,cn){Fr(Ir),k(nr),Yt?An(cn):qn(void 0)}if(aa(nt,nr._closedPromise,function(Yt){jt===!1?un(function(){return dr(Re,Yt)},!0,Yt):ss(!0,Yt)}),aa(Re,Ir._closedPromise,function(Yt){Qt===!1?un(function(){return b(nt,Yt)},!0,Yt):ss(!0,Yt)}),function(cn,os,Ys){cn._state==="closed"?Ys():os.then(Ys).catch(Pe)}(nt,nr._closedPromise,function(){ht===!1?un(function(){return oi(Ir)}):ss()}),yi(Re)===!0||Re._state==="closed"){var tu=new TypeError("the destination writable stream closed before all data could be piped to it");Qt===!1?un(function(){return b(nt,tu)},!0,tu):ss(!0,tu)}fn().catch(function(Yt){gr=Promise.resolve(),Pe(Yt)})})}},{key:"tee",value:function(){if(f(this)===!1)throw ge("tee");var Re=m(this);return Kr(Re)}},{key:"locked",get:function(){if(f(this)===!1)throw ge("locked");return p(this)}}]),oe}();n.exports={CreateReadableByteStream:c,CreateReadableStream:l,ReadableStream:as,IsReadableStreamDisturbed:h,ReadableStreamDefaultControllerClose:Te,ReadableStreamDefaultControllerEnqueue:De,ReadableStreamDefaultControllerError:Ve,ReadableStreamDefaultControllerGetDesiredSize:ue,ReadableStreamDefaultControllerHasBackpressure:Ie,ReadableStreamDefaultControllerCanCloseOrEnqueue:Ne};var En=function(){function oe(_e){if(s(this,oe),f(_e)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(p(_e)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");D(this,_e),this._readRequests=[]}return F(oe,[{key:"cancel",value:function(Re){return L(this)===!1?Promise.reject(ee("cancel")):this._ownerReadableStream===void 0?Promise.reject(qe("cancel")):V(this,Re)}},{key:"read",value:function(){return L(this)===!1?Promise.reject(ee("read")):this._ownerReadableStream===void 0?Promise.reject(qe("read from")):H(this)}},{key:"releaseLock",value:function(){if(L(this)===!1)throw ee("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");k(this)}}},{key:"closed",get:function(){return L(this)===!1?Promise.reject(ee("closed")):this._closedPromise}}]),oe}(),mi=function(){function oe(_e){if(s(this,oe),!f(_e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(Se(_e._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(p(_e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");D(this,_e),this._readIntoRequests=[]}return F(oe,[{key:"cancel",value:function(Re){return P(this)?this._ownerReadableStream===void 0?Promise.reject(qe("cancel")):V(this,Re):Promise.reject(ot("cancel"))}},{key:"read",value:function(Re){return P(this)?this._ownerReadableStream===void 0?Promise.reject(qe("read from")):ArrayBuffer.isView(Re)?et(Re.buffer)===!0?Promise.reject(new TypeError("Cannot read into a view onto a detached ArrayBuffer")):Re.byteLength===0?Promise.reject(new TypeError("view must have non-zero byteLength")):$(this,Re):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(ot("read"))}},{key:"releaseLock",value:function(){if(!P(this))throw ot("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");k(this)}}},{key:"closed",get:function(){return P(this)?this._closedPromise:Promise.reject(ot("closed"))}}]),oe}(),Fn=function(){function oe(){throw s(this,oe),new TypeError}return F(oe,[{key:"close",value:function(){if(J(this)===!1)throw mt("close");if(Ne(this)===!1)throw new TypeError("The stream is not in a state that permits close");Te(this)}},{key:"enqueue",value:function(Re){if(J(this)===!1)throw mt("enqueue");if(Ne(this)===!1)throw new TypeError("The stream is not in a state that permits enqueue");return De(this,Re)}},{key:"error",value:function(Re){if(J(this)===!1)throw mt("error");var nt=this._controlledReadableStream;if(nt._state!=="readable")throw new TypeError("The stream is "+nt._state+" and so cannot be errored");Ve(this,Re)}},{key:Mn,value:function(Re){return It(this),this._cancelAlgorithm(Re)}},{key:dn,value:function(){var Re=this._controlledReadableStream;if(this._queue.length>0){var nt=Ze(this);return this._closeRequested===!0&&this._queue.length===0?v(Re):Y(this),Promise.resolve(xe(nt,!1))}var ut=g(Re);return Y(this),ut}},{key:"desiredSize",get:function(){if(J(this)===!1)throw mt("desiredSize");return ue(this)}}]),oe}(),ia=function(){function oe(){throw s(this,oe),new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return F(oe,[{key:"respond",value:function(Re){if(z(this)===!1)throw ne("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(et(this._view.buffer)===!0)throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");j(this._associatedReadableByteStreamController,Re)}},{key:"respondWithNewView",value:function(Re){if(z(this)===!1)throw ne("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(Re))throw new TypeError("You can only respond with array buffer views");if(et(Re.buffer)===!0)throw new TypeError("The supplied view's buffer has been detached and so cannot be used as a response");q(this._associatedReadableByteStreamController,Re)}},{key:"view",get:function(){if(z(this)===!1)throw ne("view");return this._view}}]),oe}(),Ic=function(){function oe(){throw s(this,oe),new TypeError("ReadableByteStreamController constructor cannot be used directly")}return F(oe,[{key:"close",value:function(){if(Se(this)===!1)throw A("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var Re=this._controlledReadableByteStream._state;if(Re!=="readable")throw new TypeError("The stream (in "+Re+" state) is not in the readable state and cannot be closed");Fe(this)}},{key:"enqueue",value:function(Re){if(Se(this)===!1)throw A("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var nt=this._controlledReadableByteStream._state;if(nt!=="readable")throw new TypeError("The stream (in "+nt+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(Re))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");if(et(Re.buffer)===!0)throw new TypeError("Cannot enqueue a view onto a detached ArrayBuffer");Qe(this,Re)}},{key:"error",value:function(Re){if(Se(this)===!1)throw A("error");var nt=this._controlledReadableByteStream;if(nt._state!=="readable")throw new TypeError("The stream is "+nt._state+" and so cannot be errored");ke(this,Re)}},{key:Mn,value:function(Re){return this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0),It(this),this._cancelAlgorithm(Re)}},{key:dn,value:function(){var Re=this._controlledReadableByteStream;if(this._queueTotalSize>0){var nt=this._queue.shift();this._queueTotalSize-=nt.byteLength,Z(this);var ut=void 0;try{ut=new Uint8Array(nt.buffer,nt.byteOffset,nt.byteLength)}catch(Ir){return Promise.reject(Ir)}return Promise.resolve(xe(ut,!1))}var ht=this._autoAllocateChunkSize;if(ht!==void 0){var jt=void 0;try{jt=new ArrayBuffer(ht)}catch(Ir){return Promise.reject(Ir)}var Qt={buffer:jt,byteOffset:0,byteLength:ht,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Qt)}var nr=g(Re);return M(this),nr}},{key:"byobRequest",get:function(){if(Se(this)===!1)throw A("byobRequest");if(this._byobRequest===void 0&&this._pendingPullIntos.length>0){var Re=this._pendingPullIntos[0],nt=new Uint8Array(Re.buffer,Re.byteOffset+Re.bytesFilled,Re.byteLength-Re.bytesFilled),ut=Object.create(ia.prototype);pe(ut,this,nt),this._byobRequest=ut}return this._byobRequest}},{key:"desiredSize",get:function(){if(Se(this)===!1)throw A("desiredSize");return K(this)}}]),oe}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"./writable-stream.js":15,"better-assert":16}],13:[function(r,n,a){function s(z,M){if(!(z instanceof M))throw new TypeError("Cannot call a class as a function")}function o(z,M,B){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,G=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){return 1},Q=Object.create(Ae.prototype),Z=void 0;u(Q,new Promise(function(te){Z=te}),T,O,U,G),p(Q,Object.create(Se.prototype),M,B);var ie=z();return Z(ie),Q}function u(z,M,B,T,O,U){function G(){return M}z._writable=Ne(G,function(Z){return v(z,Z)},function(){return w(z)},function(){return _(z)},B,T),z._readable=Y(G,function(){return S(z)},function(Z){return d(z,Z),Promise.resolve()},O,U),z._backpressure=void 0,z._backpressureChangePromise=void 0,z._backpressureChangePromise_resolve=void 0,f(z,!0),z._transformStreamController=void 0}function l(z){return!!k(z)&&!!Object.prototype.hasOwnProperty.call(z,"_transformStreamController")}function c(z,M){I("TransformStreamError()"),z._readable._state==="readable"&&De(z._readable._readableStreamController,M),d(z,M)}function d(z,M){we(z._writable._writableStreamController,M),z._backpressure===!0&&f(z,!1)}function f(z,M){I("TransformStreamSetBackpressure() [backpressure = "+M+"]"),z._backpressureChangePromise!==void 0&&z._backpressureChangePromise_resolve(),z._backpressureChangePromise=new Promise(function(B){z._backpressureChangePromise_resolve=B}),z._backpressure=M}function h(z){return!!k(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledTransformStream")}function p(z,M,B,T){M._controlledTransformStream=z,z._transformStreamController=M,M._transformAlgorithm=B,M._flushAlgorithm=T}function m(z,M){var B=Object.create(Se.prototype),T=function(Q){try{return y(B,Q),Promise.resolve()}catch(Z){return Promise.reject(Z)}},O=M.transform;if(O!==void 0){if(typeof O!="function")throw new TypeError("transform is not a method");T=function(Q){return V(O,M,[Q,B]).catch(function(Z){throw c(z,Z),Z})}}var U=D(M,"flush",0,[B]);p(z,B,T,U)}function y(z,M){I("TransformStreamDefaultControllerEnqueue()");var B=z._controlledTransformStream,T=B._readable._readableStreamController;if(ue(T)===!1)throw new TypeError("Readable side is not in a state that permits enqueue");try{Te(T,M)}catch(O){throw d(B,O),B._readable._storedError}le(T)!==B._backpressure&&f(B,!0)}function g(z,M){c(z._controlledTransformStream,M)}function b(z){I("TransformStreamDefaultControllerTerminate()");var M=z._controlledTransformStream,B=M._readable._readableStreamController;ue(B)===!0&&de(B),d(M,new TypeError("TransformStream terminated"))}function v(z,M){I("TransformStreamDefaultSinkWriteAlgorithm()");var B=z._transformStreamController;return z._backpressure===!0?z._backpressureChangePromise.then(function(){var T=z._writable;if(T._state==="erroring")throw T._storedError;return B._transformAlgorithm(M)}):B._transformAlgorithm(M)}function _(z){return c(z,new TypeError("Writable side aborted")),Promise.resolve()}function w(z){I("TransformStreamDefaultSinkCloseAlgorithm()");var M=z._readable;return z._transformStreamController._flushAlgorithm().then(function(){if(M._state==="errored")throw M._storedError;var B=M._readableStreamController;ue(B)===!0&&de(B)}).catch(function(B){throw c(z,B),M._storedError})}function S(z){return I("TransformStreamDefaultSourcePullAlgorithm()"),f(z,!1),z._backpressureChangePromise}function E(z){return new TypeError("TransformStreamDefaultController.prototype."+z+" can only be used on a TransformStreamDefaultController")}function x(z){return new TypeError("TransformStream.prototype."+z+" can only be used on a TransformStream")}var C=function(){function z(M,B){for(var T=0;T<B.length;T++){var O=B[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(M,O.key,O)}}return function(M,B,T){return B&&z(M.prototype,B),T&&z(M,T),M}}();r("better-assert");var I=r("debug")("streams:transform-stream:verbose"),P=r("./helpers.js"),L=P.InvokeOrNoop,D=P.CreateAlgorithmFromUnderlyingMethod,V=P.PromiseCall,k=P.typeIsObject,$=P.ValidateAndNormalizeHighWaterMark;P.IsNonNegativeNumber;var H=P.MakeSizeAlgorithmFromSizeFunction,J=r("./readable-stream.js"),Y=J.CreateReadableStream,de=J.ReadableStreamDefaultControllerClose,Te=J.ReadableStreamDefaultControllerEnqueue,De=J.ReadableStreamDefaultControllerError,Ve=J.ReadableStreamDefaultControllerGetDesiredSize,le=J.ReadableStreamDefaultControllerHasBackpressure,ue=J.ReadableStreamDefaultControllerCanCloseOrEnqueue,Ie=r("./writable-stream.js"),Ne=Ie.CreateWritableStream,we=Ie.WritableStreamDefaultControllerErrorIfNeeded,Ae=function(){function z(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s(this,z),M.readableType!==void 0)throw new RangeError("Invalid readable type specified");if(M.writableType!==void 0)throw new RangeError("Invalid writable type specified");var O=B.size,U=H(O),G=B.highWaterMark;G===void 0&&(G=1),G=$(G);var Q=T.size,Z=H(Q),ie=T.highWaterMark;ie===void 0&&(ie=0),ie=$(ie);var te=void 0;u(this,new Promise(function(ce){te=ce}),G,U,ie,Z),m(this,M);var he=L(M,"start",[this._transformStreamController]);te(he)}return C(z,[{key:"readable",get:function(){if(l(this)===!1)throw x("readable");return this._readable}},{key:"writable",get:function(){if(l(this)===!1)throw x("writable");return this._writable}}]),z}(),Se=function(){function z(){throw s(this,z),new TypeError("TransformStreamDefaultController instances cannot be created directly")}return C(z,[{key:"enqueue",value:function(B){if(h(this)===!1)throw E("enqueue");y(this,B)}},{key:"error",value:function(B){if(h(this)===!1)throw E("error");g(this,B)}},{key:"terminate",value:function(){if(h(this)===!1)throw E("terminate");b(this)}},{key:"desiredSize",get:function(){if(h(this)===!1)throw E("desiredSize");var B=this._controlledTransformStream._readable._readableStreamController;return Ve(B)}}]),z}();n.exports={CreateTransformStream:o,TransformStream:Ae}},{"./helpers.js":10,"./readable-stream.js":12,"./writable-stream.js":15,"better-assert":16,debug:18}],14:[function(r,n,a){var s=r("better-assert");a.rethrowAssertionErrorRejection=function(o){o&&o.constructor===s.AssertionError&&setTimeout(function(){throw o},0)}},{"better-assert":16}],15:[function(r,n,a){function s(A,R){if(!(A instanceof R))throw new TypeError("Cannot call a class as a function")}function o(A){return new mt(A)}function u(A,R,F,X){var me=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,ye=arguments.length>5&&arguments[5]!==void 0?arguments[5]:function(){return 1},xe=Object.create(ot.prototype);return l(xe),Te(xe,Object.create(ne.prototype),A,R,F,X,me,ye),xe}function l(A){A._state="writable",A._storedError=void 0,A._writer=void 0,A._writableStreamController=void 0,A._writeRequests=[],A._inFlightWriteRequest=void 0,A._closeRequest=void 0,A._inFlightCloseRequest=void 0,A._pendingAbortRequest=void 0,A._backpressure=!1}function c(A){return!!pe(A)&&!!Object.prototype.hasOwnProperty.call(A,"_writableStreamController")}function d(A){return A._writer!==void 0}function f(A,R){var F=A._state;if(F==="closed")return Promise.resolve(void 0);if(F==="errored")return Promise.reject(A._storedError);var X=new TypeError("Requested to abort");if(A._pendingAbortRequest!==void 0)return Promise.reject(X);var me=!1;F==="erroring"&&(me=!0,R=void 0);var ye=new Promise(function(xe,Me){A._pendingAbortRequest={_resolve:xe,_reject:Me,_reason:R,_wasAlreadyErroring:me}});return me===!1&&m(A,X),ye}function h(A){return new Promise(function(R,F){var X={_resolve:R,_reject:F};A._writeRequests.push(X)})}function p(A,R){ke("WritableStreamDealWithRejection(stream, %o)",R),A._state!=="writable"?y(A):m(A,R)}function m(A,R){ke("WritableStreamStartErroring(stream, %o)",R);var F=A._writableStreamController;A._state="erroring",A._storedError=R;var X=A._writer;X!==void 0&&$(X,R),S(A)===!1&&F._started===!0&&y(A)}function y(A){ke("WritableStreamFinishErroring()"),A._state="errored",A._writableStreamController[ft]();var R=A._storedError,F=!0,X=!1,me=void 0;try{for(var ye,xe=A._writeRequests[Symbol.iterator]();!(F=(ye=xe.next()).done);F=!0)ye.value._reject(R)}catch(Ke){X=!0,me=Ke}finally{try{!F&&xe.return&&xe.return()}finally{if(X)throw me}}if(A._writeRequests=[],A._pendingAbortRequest!==void 0){var Me=A._pendingAbortRequest;if(A._pendingAbortRequest=void 0,Me._wasAlreadyErroring===!0)return Me._reject(R),void C(A);A._writableStreamController[ct](Me._reason).then(function(){Me._resolve(),C(A)},function(Ke){Me._reject(Ke),C(A)})}else C(A)}function g(A){A._inFlightWriteRequest._resolve(void 0),A._inFlightWriteRequest=void 0}function b(A,R){A._inFlightWriteRequest._reject(R),A._inFlightWriteRequest=void 0,p(A,R)}function v(A){A._inFlightCloseRequest._resolve(void 0),A._inFlightCloseRequest=void 0,A._state==="erroring"&&(A._storedError=void 0,A._pendingAbortRequest!==void 0&&(A._pendingAbortRequest._resolve(),A._pendingAbortRequest=void 0)),A._state="closed";var R=A._writer;R!==void 0&&te(R)}function _(A,R){A._inFlightCloseRequest._reject(R),A._inFlightCloseRequest=void 0,A._pendingAbortRequest!==void 0&&(A._pendingAbortRequest._reject(R),A._pendingAbortRequest=void 0),p(A,R)}function w(A){return A._closeRequest!==void 0||A._inFlightCloseRequest!==void 0}function S(A){return A._inFlightWriteRequest===void 0&&A._inFlightCloseRequest===void 0?(ke("WritableStreamHasOperationMarkedInFlight() is false"),!1):(ke("WritableStreamHasOperationMarkedInFlight() is true"),!0)}function E(A){A._inFlightCloseRequest=A._closeRequest,A._closeRequest=void 0}function x(A){A._inFlightWriteRequest=A._writeRequests.shift()}function C(A){ke("WritableStreamRejectCloseAndClosedPromiseIfNeeded()"),A._closeRequest!==void 0&&(A._closeRequest._reject(A._storedError),A._closeRequest=void 0);var R=A._writer;R!==void 0&&(Z(R,A._storedError),R._closedPromise.catch(function(){}))}function I(A,R){var F=A._writer;F!==void 0&&R!==A._backpressure&&(R===!0?Ee(F):Fe(F)),A._backpressure=R}function P(A){return!!pe(A)&&!!Object.prototype.hasOwnProperty.call(A,"_ownerWritableStream")}function L(A,R){return f(A._ownerWritableStream,R)}function D(A){var R=A._ownerWritableStream,F=R._state;if(F==="closed"||F==="errored")return Promise.reject(new TypeError("The stream (in "+F+" state) is not in the writable state and cannot be closed"));var X=new Promise(function(me,ye){var xe={_resolve:me,_reject:ye};R._closeRequest=xe});return R._backpressure===!0&&F==="writable"&&Fe(A),Ve(R._writableStreamController),X}function V(A){var R=A._ownerWritableStream,F=R._state;return w(R)===!0||F==="closed"?Promise.resolve():F==="errored"?Promise.reject(R._storedError):D(A)}function k(A,R){A._closedPromiseState==="pending"?Z(A,R):ie(A,R),A._closedPromise.catch(function(){})}function $(A,R){ke("WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, %o)",R),A._readyPromiseState==="pending"?Ce(A,R):Ue(A,R),A._readyPromise.catch(function(){})}function H(A){var R=A._ownerWritableStream,F=R._state;return F==="errored"||F==="erroring"?null:F==="closed"?0:ue(R._writableStreamController)}function J(A){var R=A._ownerWritableStream,F=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");$(A,F),k(A,F),R._writer=void 0,A._ownerWritableStream=void 0}function Y(A,R){var F=A._ownerWritableStream,X=F._writableStreamController,me=le(X,R);if(F!==A._ownerWritableStream)return Promise.reject(O("write to"));var ye=F._state;if(ye==="errored")return Promise.reject(F._storedError);if(w(F)===!0||ye==="closed")return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if(ye==="erroring")return Promise.reject(F._storedError);var xe=h(F);return Ie(X,R,me),xe}function de(A){return!!pe(A)&&!!Object.prototype.hasOwnProperty.call(A,"_controlledWritableStream")}function Te(A,R,F,X,me,ye,xe,Me){R._controlledWritableStream=A,A._writableStreamController=R,R._queue=void 0,R._queueTotalSize=void 0,Ye(R),R._started=!1,R._strategySizeAlgorithm=Me,R._strategyHWM=xe,R._writeAlgorithm=X,R._closeAlgorithm=me,R._abortAlgorithm=ye;var Ke=z(R);I(A,Ke);var et=F();Promise.resolve(et).then(function(){R._started=!0,Ne(R)},function(dt){R._started=!0,p(A,dt)}).catch(qe)}function De(A,R,F,X){var me=Object.create(ne.prototype),ye=j(R,"write",1,[me]),xe=j(R,"close",0,[]),Me=j(R,"abort",1,[]);Te(A,me,function(){return q(R,"start",[me])},ye,xe,Me,F,X)}function Ve(A){je(A,"close",0),Ne(A)}function le(A,R){try{return A._strategySizeAlgorithm(R)}catch(F){return we(A,F),1}}function ue(A){return A._strategyHWM-A._queueTotalSize}function Ie(A,R,F){var X={chunk:R};try{je(A,X,F)}catch(ye){return void we(A,ye)}var me=A._controlledWritableStream;w(me)===!1&&me._state==="writable"&&I(me,z(A)),Ne(A)}function Ne(A){ke("WritableStreamDefaultControllerAdvanceQueueIfNeeded()");var R=A._controlledWritableStream;if(A._started!==!1&&R._inFlightWriteRequest===void 0){var F=R._state;if(F!=="closed"&&F!=="errored")if(F!=="erroring"){if(A._queue.length!==0){var X=Be(A);X==="close"?Ae(A):Se(A,X.chunk)}}else y(R)}}function we(A,R){A._controlledWritableStream._state==="writable"&&M(A,R)}function Ae(A){var R=A._controlledWritableStream;E(R),Oe(A),A._closeAlgorithm().then(function(){v(R)},function(F){_(R,F)}).catch(qe)}function Se(A,R){var F=A._controlledWritableStream;x(F),A._writeAlgorithm(R).then(function(){g(F);var X=F._state;if(Oe(A),w(F)===!1&&X==="writable"){var me=z(A);I(F,me)}Ne(A)},function(X){b(F,X)}).catch(qe)}function z(A){return ue(A)<=0}function M(A,R){m(A._controlledWritableStream,R)}function B(A){return new TypeError("WritableStream.prototype."+A+" can only be used on a WritableStream")}function T(A){return new TypeError("WritableStreamDefaultWriter.prototype."+A+" can only be used on a WritableStreamDefaultWriter")}function O(A){return new TypeError("Cannot "+A+" a stream using a released writer")}function U(A){A._closedPromise=new Promise(function(R,F){A._closedPromise_resolve=R,A._closedPromise_reject=F,A._closedPromiseState="pending"})}function G(A,R){A._closedPromise=Promise.reject(R),A._closedPromise_resolve=void 0,A._closedPromise_reject=void 0,A._closedPromiseState="rejected"}function Q(A){A._closedPromise=Promise.resolve(void 0),A._closedPromise_resolve=void 0,A._closedPromise_reject=void 0,A._closedPromiseState="resolved"}function Z(A,R){A._closedPromise_reject(R),A._closedPromise_resolve=void 0,A._closedPromise_reject=void 0,A._closedPromiseState="rejected"}function ie(A,R){A._closedPromise=Promise.reject(R),A._closedPromiseState="rejected"}function te(A){A._closedPromise_resolve(void 0),A._closedPromise_resolve=void 0,A._closedPromise_reject=void 0,A._closedPromiseState="resolved"}function he(A){ke("defaultWriterReadyPromiseInitialize()"),A._readyPromise=new Promise(function(R,F){A._readyPromise_resolve=R,A._readyPromise_reject=F}),A._readyPromiseState="pending"}function ce(A,R){ke("defaultWriterReadyPromiseInitializeAsRejected(writer, %o)",R),A._readyPromise=Promise.reject(R),A._readyPromise_resolve=void 0,A._readyPromise_reject=void 0,A._readyPromiseState="rejected"}function ve(A){ke("defaultWriterReadyPromiseInitializeAsResolved()"),A._readyPromise=Promise.resolve(void 0),A._readyPromise_resolve=void 0,A._readyPromise_reject=void 0,A._readyPromiseState="fulfilled"}function Ce(A,R){ke("defaultWriterReadyPromiseReject(writer, %o)",R),A._readyPromise_reject(R),A._readyPromise_resolve=void 0,A._readyPromise_reject=void 0,A._readyPromiseState="rejected"}function Ee(A){ke("defaultWriterReadyPromiseReset()"),A._readyPromise=new Promise(function(R,F){A._readyPromise_resolve=R,A._readyPromise_reject=F}),A._readyPromiseState="pending"}function Ue(A,R){ke("defaultWriterReadyPromiseResetToRejected(writer, %o)",R),A._readyPromise=Promise.reject(R),A._readyPromiseState="rejected"}function Fe(A){ke("defaultWriterReadyPromiseResolve()"),A._readyPromise_resolve(void 0),A._readyPromise_resolve=void 0,A._readyPromise_reject=void 0,A._readyPromiseState="fulfilled"}var Qe=function(){function A(R,F){for(var X=0;X<F.length;X++){var me=F[X];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(R,me.key,me)}}return function(R,F,X){return F&&A(R.prototype,F),X&&A(R,X),R}}();r("better-assert");var ke=r("debug")("streams:writable-stream:verbose"),K=r("./helpers.js"),j=K.CreateAlgorithmFromUnderlyingMethod,q=K.InvokeOrNoop,W=K.ValidateAndNormalizeHighWaterMark;K.IsNonNegativeNumber;var re=K.MakeSizeAlgorithmFromSizeFunction,pe=K.typeIsObject,ge=r("./utils.js"),qe=ge.rethrowAssertionErrorRejection,ee=r("./queue-with-sizes.js"),Oe=ee.DequeueValue,je=ee.EnqueueValueWithSize,Be=ee.PeekQueueValue,Ye=ee.ResetQueue,ct=Symbol("[[AbortSteps]]"),ft=Symbol("[[ErrorSteps]]"),ot=function(){function A(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=F.size,me=F.highWaterMark,ye=me===void 0?1:me;if(s(this,A),l(this),R.type!==void 0)throw new RangeError("Invalid type is specified");var xe=re(X);De(this,R,ye=W(ye),xe)}return Qe(A,[{key:"abort",value:function(F){return c(this)===!1?Promise.reject(B("abort")):d(this)===!0?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):f(this,F)}},{key:"getWriter",value:function(){if(c(this)===!1)throw B("getWriter");return o(this)}},{key:"locked",get:function(){if(c(this)===!1)throw B("locked");return d(this)}}]),A}();n.exports={AcquireWritableStreamDefaultWriter:o,CreateWritableStream:u,IsWritableStream:c,IsWritableStreamLocked:d,WritableStream:ot,WritableStreamAbort:f,WritableStreamDefaultControllerErrorIfNeeded:we,WritableStreamDefaultWriterCloseWithErrorPropagation:V,WritableStreamDefaultWriterRelease:J,WritableStreamDefaultWriterWrite:Y,WritableStreamCloseQueuedOrInFlight:w};var mt=function(){function A(R){if(s(this,A),c(R)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(d(R)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=R,R._writer=this;var F=R._state;if(F==="writable")w(R)===!1&&R._backpressure===!0?he(this):ve(this),U(this);else if(F==="erroring")ce(this,R._storedError),this._readyPromise.catch(function(){}),U(this);else if(F==="closed")ve(this),Q(this);else{var X=R._storedError;ce(this,X),this._readyPromise.catch(function(){}),G(this,X),this._closedPromise.catch(function(){})}}return Qe(A,[{key:"abort",value:function(F){return P(this)===!1?Promise.reject(T("abort")):this._ownerWritableStream===void 0?Promise.reject(O("abort")):L(this,F)}},{key:"close",value:function(){if(P(this)===!1)return Promise.reject(T("close"));var F=this._ownerWritableStream;return F===void 0?Promise.reject(O("close")):w(F)===!0?Promise.reject(new TypeError("cannot close an already-closing stream")):D(this)}},{key:"releaseLock",value:function(){if(P(this)===!1)throw T("releaseLock");this._ownerWritableStream!==void 0&&J(this)}},{key:"write",value:function(F){return P(this)===!1?Promise.reject(T("write")):this._ownerWritableStream===void 0?Promise.reject(O("write to")):Y(this,F)}},{key:"closed",get:function(){return P(this)===!1?Promise.reject(T("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(P(this)===!1)throw T("desiredSize");if(this._ownerWritableStream===void 0)throw O("desiredSize");return H(this)}},{key:"ready",get:function(){return P(this)===!1?Promise.reject(T("ready")):this._readyPromise}}]),A}(),ne=function(){function A(){throw s(this,A),new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return Qe(A,[{key:"error",value:function(F){if(de(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&M(this,F)}},{key:ct,value:function(F){return this._abortAlgorithm(F)}},{key:ft,value:function(){Ye(this)}}]),A}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"better-assert":16,debug:18}],16:[function(r,n,a){(function(s){function o(d){if(!d){var f=l(),h=f[1],p=h.getFileName(),m=h.getLineNumber(),y=(y=c.readFileSync(p,"utf8")).split(`
`)[m-1].match(/assert\((.*)\)/)[1];throw new u({message:y,stackStartFunction:f[0].getFunction()})}}var u=r("assert").AssertionError,l=r("callsite"),c=r("fs");n.exports=s.env.NO_ASSERT?function(){}:o}).call(this,r("_process"))},{_process:4,assert:2,callsite:17,fs:3}],17:[function(r,n,a){n.exports=function(){var s=Error.prepareStackTrace;Error.prepareStackTrace=function(l,c){return c};var o=new Error;Error.captureStackTrace(o,arguments.callee);var u=o.stack;return Error.prepareStackTrace=s,u}},{}],18:[function(r,n,a){(function(s){function o(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function u(h){var p=this.useColors;if(h[0]=(p?"%c":"")+this.namespace+(p?" %c":" ")+h[0]+(p?"%c ":" ")+"+"+a.humanize(this.diff),p){var m="color: "+this.color;h.splice(1,0,m,"color: inherit");var y=0,g=0;h[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(y++,b==="%c"&&(g=y))}),h.splice(g,0,m)}}function l(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(h){try{h==null?a.storage.removeItem("debug"):a.storage.debug=h}catch{}}function d(){var h;try{h=a.storage.debug}catch{}return!h&&typeof s<"u"&&"env"in s&&(h=s.env.DEBUG),h}function f(){try{return window.localStorage}catch{}}a=n.exports=r("./debug"),a.log=l,a.formatArgs=u,a.save=c,a.load=d,a.useColors=o,a.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:f(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],a.formatters.j=function(h){try{return JSON.stringify(h)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}},a.enable(d())}).call(this,r("_process"))},{"./debug":19,_process:4}],19:[function(r,n,a){function s(h){var p,m=0;for(p in h)m=(m<<5)-m+h.charCodeAt(p),m|=0;return a.colors[Math.abs(m)%a.colors.length]}function o(h){function p(){if(p.enabled){var y=p,g=+new Date,b=g-(m||g);y.diff=b,y.prev=m,y.curr=g,m=g;for(var v=new Array(arguments.length),_=0;_<v.length;_++)v[_]=arguments[_];v[0]=a.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var w=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(S,E){if(S==="%%")return S;w++;var x=a.formatters[E];if(typeof x=="function"){var C=v[w];S=x.call(y,C),v.splice(w,1),w--}return S}),a.formatArgs.call(y,v),(p.log||a.log||console.log.bind(console)).apply(y,v)}}var m;return p.namespace=h,p.enabled=a.enabled(h),p.useColors=a.useColors(),p.color=s(h),p.destroy=u,typeof a.init=="function"&&a.init(p),a.instances.push(p),p}function u(){var h=a.instances.indexOf(this);return h!==-1&&(a.instances.splice(h,1),!0)}function l(h){a.save(h),a.names=[],a.skips=[];var p,m=(typeof h=="string"?h:"").split(/[\s,]+/),y=m.length;for(p=0;p<y;p++)m[p]&&((h=m[p].replace(/\*/g,".*?"))[0]==="-"?a.skips.push(new RegExp("^"+h.substr(1)+"$")):a.names.push(new RegExp("^"+h+"$")));for(p=0;p<a.instances.length;p++){var g=a.instances[p];g.enabled=a.enabled(g.namespace)}}function c(){a.enable("")}function d(h){if(h[h.length-1]==="*")return!0;var p,m;for(p=0,m=a.skips.length;p<m;p++)if(a.skips[p].test(h))return!1;for(p=0,m=a.names.length;p<m;p++)if(a.names[p].test(h))return!0;return!1}function f(h){return h instanceof Error?h.stack||h.message:h}a=n.exports=o.debug=o.default=o,a.coerce=f,a.disable=c,a.enable=l,a.enabled=d,a.humanize=r("ms"),a.instances=[],a.names=[],a.skips=[],a.formatters={}},{ms:20}],20:[function(r,n,a){function s(m){if(!((m=String(m)).length>100)){var y=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(m);if(y){var g=parseFloat(y[1]);switch((y[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return g*p;case"days":case"day":case"d":return g*h;case"hours":case"hour":case"hrs":case"hr":case"h":return g*f;case"minutes":case"minute":case"mins":case"min":case"m":return g*d;case"seconds":case"second":case"secs":case"sec":case"s":return g*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function o(m){return m>=h?Math.round(m/h)+"d":m>=f?Math.round(m/f)+"h":m>=d?Math.round(m/d)+"m":m>=c?Math.round(m/c)+"s":m+"ms"}function u(m){return l(m,h,"day")||l(m,f,"hour")||l(m,d,"minute")||l(m,c,"second")||m+" ms"}function l(m,y,g){if(!(m<y))return m<1.5*y?Math.floor(m/y)+" "+g:Math.ceil(m/y)+" "+g+"s"}var c=1e3,d=60*c,f=60*d,h=24*f,p=365.25*h;n.exports=function(m,y){y=y||{};var g=typeof m;if(g==="string"&&m.length>0)return s(m);if(g==="number"&&isNaN(m)===!1)return y.long?u(m):o(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))}},{}]},{},[1])(1)})}(H3)),H3.exports}var Q3,E7;function jY(){if(E7)return Q3;E7=1;const e=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";return e.writable=t=>e(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",e.readable=t=>e(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",e.duplex=t=>e.writable(t)&&e.readable(t),e.transform=t=>e.duplex(t)&&typeof t._transform=="function",Q3=e,Q3}var z3={exports:{}},A7;function GRe(){return A7||(A7=1,function(e){e.exports=t,e.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function t(r){if(!e.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var n=!1,a={};function s(l){a.data=d,a.end=d,a.end=f,a.close=f,a.error=f;for(var c in a)r.on(c,a[c]);r.pause();function d(h){n||(l.enqueue(h),r.pause())}function f(h){if(!n){n=!0;for(var p in a)r.removeListener(p,a[p]);h?l.error(h):l.close()}}}function o(){n||r.resume()}function u(){n=!0;for(var l in a)r.removeListener(l,a[l]);r.push(null),r.pause(),r.destroy?r.destroy():r.close&&r.close()}return new ReadableStream({start:s,pull:o,cancel:u})}}(z3)),z3.exports}var O7;function MY(){if(O7)return Qp;O7=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.ActorHttp=void 0;const e=lt,t=QRe();globalThis.ReadableStream||(globalThis.ReadableStream=zRe().ReadableStream);const r=jY(),n=GRe();let a=class extends e.Actor{constructor(o){super(o)}static toNodeReadable(o){return r(o)||o===null?o:(0,t.readableFromWeb)(o)}static toWebReadableStream(o){return n(o)}static headersToHash(o){const u={};return o.forEach((l,c)=>{u[c]=l}),u}};return Qp.ActorHttp=a,Qp}var zp={},R7;function WRe(){if(R7)return zp;R7=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.validateAndCloseHttpResponse=void 0;const e=Oc(),t=MY();async function r(n,a){var s;if(a.status>=400){let o="empty response";if(a.body){const u=t.ActorHttp.toNodeReadable(a.body);o=await e(u)}throw new Error(`Could not update ${n} (HTTP status ${a.status}):
${o}`)}await((s=a.body)==null?void 0:s.cancel())}return zp.validateAndCloseHttpResponse=r,zp}var x7;function Ko(){return x7||(x7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(MY(),e),r(WRe(),e)}(k3)),k3}var I7={},P7;function FY(){return P7||(P7=1,function(e){(function(t){var r=typeof globalThis<"u"&&globalThis||typeof e<"u"&&e||typeof r<"u"&&r,n={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function a(P){return P&&DataView.prototype.isPrototypeOf(P)}if(n.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(P){return P&&s.indexOf(Object.prototype.toString.call(P))>-1};function u(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(P)||P==="")throw new TypeError('Invalid character in header field name: "'+P+'"');return P.toLowerCase()}function l(P){return typeof P!="string"&&(P=String(P)),P}function c(P){var L={next:function(){var D=P.shift();return{done:D===void 0,value:D}}};return n.iterable&&(L[Symbol.iterator]=function(){return L}),L}function d(P){this.map={},P instanceof d?P.forEach(function(L,D){this.append(D,L)},this):Array.isArray(P)?P.forEach(function(L){this.append(L[0],L[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(L){this.append(L,P[L])},this)}d.prototype.append=function(P,L){P=u(P),L=l(L);var D=this.map[P];this.map[P]=D?D+", "+L:L},d.prototype.delete=function(P){delete this.map[u(P)]},d.prototype.get=function(P){return P=u(P),this.has(P)?this.map[P]:null},d.prototype.has=function(P){return this.map.hasOwnProperty(u(P))},d.prototype.set=function(P,L){this.map[u(P)]=l(L)},d.prototype.forEach=function(P,L){for(var D in this.map)this.map.hasOwnProperty(D)&&P.call(L,this.map[D],D,this)},d.prototype.keys=function(){var P=[];return this.forEach(function(L,D){P.push(D)}),c(P)},d.prototype.values=function(){var P=[];return this.forEach(function(L){P.push(L)}),c(P)},d.prototype.entries=function(){var P=[];return this.forEach(function(L,D){P.push([D,L])}),c(P)},n.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function f(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function h(P){return new Promise(function(L,D){P.onload=function(){L(P.result)},P.onerror=function(){D(P.error)}})}function p(P){var L=new FileReader,D=h(L);return L.readAsArrayBuffer(P),D}function m(P){var L=new FileReader,D=h(L);return L.readAsText(P),D}function y(P){for(var L=new Uint8Array(P),D=new Array(L.length),V=0;V<L.length;V++)D[V]=String.fromCharCode(L[V]);return D.join("")}function g(P){if(P.slice)return P.slice(0);var L=new Uint8Array(P.byteLength);return L.set(new Uint8Array(P)),L.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(P){this.bodyUsed=this.bodyUsed,this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:n.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:n.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():n.arrayBuffer&&n.blob&&a(P)?(this._bodyArrayBuffer=g(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||o(P))?this._bodyArrayBuffer=g(P):this._bodyText=P=Object.prototype.toString.call(P):this._bodyText="",this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var P=f(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var P=f(this);return P||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(p)}),this.text=function(){var P=f(this);if(P)return P;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(P){var L=P.toUpperCase();return v.indexOf(L)>-1?L:P}function w(P,L){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');L=L||{};var D=L.body;if(P instanceof w){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,L.headers||(this.headers=new d(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!D&&P._bodyInit!=null&&(D=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=L.credentials||this.credentials||"same-origin",(L.headers||!this.headers)&&(this.headers=new d(L.headers)),this.method=_(L.method||this.method||"GET"),this.mode=L.mode||this.mode||null,this.signal=L.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(D),(this.method==="GET"||this.method==="HEAD")&&(L.cache==="no-store"||L.cache==="no-cache")){var V=/([?&])_=[^&]*/;if(V.test(this.url))this.url=this.url.replace(V,"$1_="+new Date().getTime());else{var k=/\?/;this.url+=(k.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})};function S(P){var L=new FormData;return P.trim().split("&").forEach(function(D){if(D){var V=D.split("="),k=V.shift().replace(/\+/g," "),$=V.join("=").replace(/\+/g," ");L.append(decodeURIComponent(k),decodeURIComponent($))}}),L}function E(P){var L=new d,D=P.replace(/\r?\n[\t ]+/g," ");return D.split("\r").map(function(V){return V.indexOf(`
`)===0?V.substr(1,V.length):V}).forEach(function(V){var k=V.split(":"),$=k.shift().trim();if($){var H=k.join(":").trim();L.append($,H)}}),L}b.call(w.prototype);function x(P,L){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');L||(L={}),this.type="default",this.status=L.status===void 0?200:L.status,this.ok=this.status>=200&&this.status<300,this.statusText=L.statusText===void 0?"":""+L.statusText,this.headers=new d(L.headers),this.url=L.url||"",this._initBody(P)}b.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},x.error=function(){var P=new x(null,{status:0,statusText:""});return P.type="error",P};var C=[301,302,303,307,308];x.redirect=function(P,L){if(C.indexOf(L)===-1)throw new RangeError("Invalid status code");return new x(null,{status:L,headers:{location:P}})},t.DOMException=r.DOMException;try{new t.DOMException}catch{t.DOMException=function(L,D){this.message=L,this.name=D;var V=Error(L);this.stack=V.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function I(P,L){return new Promise(function(D,V){var k=new w(P,L);if(k.signal&&k.signal.aborted)return V(new t.DOMException("Aborted","AbortError"));var $=new XMLHttpRequest;function H(){$.abort()}$.onload=function(){var Y={status:$.status,statusText:$.statusText,headers:E($.getAllResponseHeaders()||"")};Y.url="responseURL"in $?$.responseURL:Y.headers.get("X-Request-URL");var de="response"in $?$.response:$.responseText;setTimeout(function(){D(new x(de,Y))},0)},$.onerror=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},$.ontimeout=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},$.onabort=function(){setTimeout(function(){V(new t.DOMException("Aborted","AbortError"))},0)};function J(Y){try{return Y===""&&r.location.href?r.location.href:Y}catch{return Y}}$.open(k.method,J(k.url),!0),k.credentials==="include"?$.withCredentials=!0:k.credentials==="omit"&&($.withCredentials=!1),"responseType"in $&&(n.blob?$.responseType="blob":n.arrayBuffer&&k.headers.get("Content-Type")&&k.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&($.responseType="arraybuffer")),L&&typeof L.headers=="object"&&!(L.headers instanceof d)?Object.getOwnPropertyNames(L.headers).forEach(function(Y){$.setRequestHeader(Y,l(L.headers[Y]))}):k.headers.forEach(function(Y,de){$.setRequestHeader(de,Y)}),k.signal&&(k.signal.addEventListener("abort",H),$.onreadystatechange=function(){$.readyState===4&&k.signal.removeEventListener("abort",H)}),$.send(typeof k._bodyInit>"u"?null:k._bodyInit)})}return I.polyfill=!0,r.fetch||(r.fetch=I,r.Headers=d,r.Request=w,r.Response=x),t.Headers=d,t.Request=w,t.Response=x,t.fetch=I,t})({})}(typeof self<"u"?self:N)),I7}var Gp={},N7;function KRe(){if(N7)return Gp;N7=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.FetchInitPreprocessor=void 0;const e=Ko();class t{async handle(n){if(n.headers){const a=new Headers(n.headers);a.has("user-agent")&&a.delete("user-agent"),n.headers=a}if(n!=null&&n.headers&&"append"in n.headers&&(n.headers=e.ActorHttp.headersToHash(n.headers)),n.body&&typeof n.body!="string"&&"getReader"in n.body){const a=n.body.getReader(),s=[];for(;;){const{done:o,value:u}=await a.read();if(o)break;s.push(u)}n.body=s.join("")}return{keepalive:!n.body,...n}}async createAbortController(){return new AbortController}}return Gp.FetchInitPreprocessor=t,Gp}var D7;function JRe(){if(D7)return Hp;D7=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.ActorHttpFetch=void 0;const e=Ko(),t=kt;FY();const r=KRe();let n=class CI extends e.ActorHttp{constructor(s){super(s),this.userAgent=CI.createUserAgent(),this.fetchInitPreprocessor=new r.FetchInitPreprocessor(s.agentOptions)}static createUserAgent(){return`Comunica/actor-http-fetch (${typeof globalThis.navigator>"u"?`Node.js ${qs.version}; ${qs.platform}`:`Browser-${globalThis.navigator.userAgent}`})`}async test(s){return{time:Number.POSITIVE_INFINITY}}static async getResponse(s,o,u,l,c,d){var p;let f,h=l+1;for(;h-- >0;)try{const m=await s(o,u);if(d&&m.status>=500&&m.status<600)throw new Error(`Server replied with response code ${m.status}: ${m.statusText}`);return m}catch(m){if(f=m,(p=u.signal)!=null&&p.aborted)throw m;h>0&&await new Promise((y,g)=>{var b;setTimeout(y,c),(b=u.signal)==null||b.addEventListener("abort",()=>{g(new Error("Fetch aborted by timeout."))})})}throw l>0?new Error(`Number of fetch retries (${l}) exceeded. Last error: ${String(f)}`):f}async run(s){var h,p,m,y,g,b,v,_;const o=((h=s.init)==null?void 0:h.headers)??{};s.init=s.init??{},s.init.headers=new Headers(o),s.init.headers.has("user-agent")||s.init.headers.append("user-agent",this.userAgent);const u=s.context.get(t.KeysHttp.auth);u&&s.init.headers.append("Authorization",`Basic ${Ui.from(u).toString("base64")}`),this.logInfo(s.context,`Requesting ${typeof s.input=="string"?s.input:s.input.url}`,()=>({headers:e.ActorHttp.headersToHash(new Headers(s.init.headers)),method:s.init.method??"GET"})),(p=s.init)!=null&&p.headers&&"append"in s.init.headers&&s.context.has(t.KeysHttp.fetch)&&(s.init.headers=e.ActorHttp.headersToHash(s.init.headers));let l={...s.init};s.context.get(t.KeysHttp.includeCredentials)&&(l.credentials="include");const c=(m=s.context)==null?void 0:m.get(t.KeysHttp.httpTimeout);let d,f;if(c!==void 0){const w=await this.fetchInitPreprocessor.createAbortController();l.signal=w.signal,f=()=>w.abort(),d=setTimeout(()=>f(),c)}try{l=await this.fetchInitPreprocessor.handle(l);const w=((y=s.context)==null?void 0:y.get(t.KeysHttp.httpRetryCount))??0,S=((g=s.context)==null?void 0:g.get(t.KeysHttp.httpRetryDelay))??0,E=((b=s.context)==null?void 0:b.get(t.KeysHttp.httpRetryOnServerError))??!1,x=(v=s.context)==null?void 0:v.get(t.KeysHttp.fetch),C=await CI.getResponse(x??fetch,s.input,l,w,S,E);return d!==void 0&&((((_=s.context)==null?void 0:_.get(t.KeysHttp.httpBodyTimeout))||!1)&&C.body?(f=()=>{var P;return(P=C.body)==null?void 0:P.cancel(new Error(`HTTP timeout when reading the body of ${C.url}.
This error can be disabled by modifying the 'httpBodyTimeout' and/or 'httpTimeout' options.`))},C.body.on("close",()=>{clearTimeout(d)})):clearTimeout(d)),C.body&&!C.body.cancel&&(C.body.cancel=async I=>{C.body.destroy(I),d!==void 0&&clearTimeout(d)}),C}catch(w){throw d!==void 0&&clearTimeout(d),w}}};return Hp.ActorHttpFetch=n,Hp}var C7;function XRe(){return C7||(C7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(JRe(),e)}(U3)),U3}var G3={},Wp={},L7;function YRe(){if(L7)return Wp;L7=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.ActorQueryOperationSource=void 0;const e=Ot(),t=kt,r=ai(),n=Nt();let a=class extends e.ActorQueryOperation{constructor(o){super(o)}async test(o){if(!e.ActorQueryOperation.getOperationSource(o.operation))throw new Error(`Actor ${this.name} requires an operation with source annotation.`);return{httpRequests:1}}async run(o){const u=o.context.get(t.KeysInitQuery.physicalQueryPlanLogger);u&&(u.logOperation(o.operation.type,void 0,o.operation,o.context.get(t.KeysInitQuery.physicalQueryPlanNode),this.name,{}),o.context=o.context.set(t.KeysInitQuery.physicalQueryPlanNode,o.operation));const l=e.ActorQueryOperation.getOperationSource(o.operation),c=l.context?o.context.merge(l.context):o.context;let d=!1;if(n.Util.recurseOperation(o.operation,{construct(){return d=!0,!1}}),d){const p=l.source.queryQuads(o.operation,c),m=(0,r.getMetadataQuads)(p);return{type:"quads",quadStream:p,metadata:m}}switch(o.operation.type){case n.Algebra.types.ASK:return{type:"boolean",execute:()=>l.source.queryBoolean(o.operation,c)};case n.Algebra.types.COMPOSITE_UPDATE:case n.Algebra.types.DELETE_INSERT:case n.Algebra.types.LOAD:case n.Algebra.types.CLEAR:case n.Algebra.types.CREATE:case n.Algebra.types.DROP:case n.Algebra.types.ADD:case n.Algebra.types.MOVE:case n.Algebra.types.COPY:return{type:"void",execute:()=>l.source.queryVoid(o.operation,c)}}const f=l.source.queryBindings(o.operation,c),h=(0,r.getMetadataBindings)(f);return{type:"bindings",bindingsStream:f,metadata:h}}};return Wp.ActorQueryOperationSource=a,Wp}var j7;function ZRe(){return j7||(j7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(YRe(),e)}(G3)),G3}var W3={},Kp={},M7;function exe(){if(M7)return Kp;M7=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.MediatorJoinCoefficientsFixed=void 0;const e=kt,t=lt;let r=class extends t.Mediator{constructor(a){super(a)}async mediateWith(a,s){var y;const o=[],u=s.map(({reply:g})=>g).map(g=>g.catch(b=>{o.push(b)})),l=await Promise.all(u);let c=l.map(g=>{if(g)return g.iterations*this.cpuWeight+g.persistedItems*this.memoryWeight+g.blockingItems*this.timeWeight+g.requestTime*this.ioWeight});const d=Math.max(...c.filter(g=>g!==void 0)),f=a.context.get(e.KeysQueryOperation.limitIndicator);f&&(c=c.map((g,b)=>g!==void 0&&l[b].persistedItems>0&&l[b].iterations>f?g+d:g));let h=-1,p=Number.POSITIVE_INFINITY;for(const[g,b]of c.entries())b!==void 0&&(h===-1||b<p)&&(h=g,p=b);if(h<0)throw new Error(`All actors rejected their test in ${this.name}
${o.map(g=>g.message).join(`
`)}`);const m=s[h].actor;return m.includeInLogs&&((y=t.Actor.getContextLogger(a.context))==null||y.debug(`Determined physical join operator '${m.logicalType}-${m.physicalName}'`,{entries:a.entries.length,variables:await Promise.all(a.entries.map(async g=>(await g.output.metadata()).variables.map(b=>b.value))),costs:Object.fromEntries(c.map((g,b)=>[`${s[b].actor.logicalType}-${s[b].actor.physicalName}`,g]).filter(g=>g[1]!==void 0)),coefficients:Object.fromEntries(l.map((g,b)=>[`${s[b].actor.logicalType}-${s[b].actor.physicalName}`,g]).filter(g=>g[1]!==void 0))})),m}};return Kp.MediatorJoinCoefficientsFixed=r,Kp}var F7;function txe(){return F7||(F7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(exe(),e)}(W3)),W3}var K3={},Jp={},q7;function qY(){if(q7)return Jp;q7=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.ActorHttpInvalidate=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return Jp.ActorHttpInvalidate=t,Jp}var Xp={},B7;function rxe(){if(B7)return Xp;B7=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.ActorHttpInvalidateListenable=void 0;const e=qY();let t=class extends e.ActorHttpInvalidate{constructor(n){super(n),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(n){this.invalidateListeners.push(n)}async test(n){return!0}async run(n){for(const a of this.invalidateListeners)a(n);return{}}};return Xp.ActorHttpInvalidateListenable=t,Xp}var $7;function av(){return $7||($7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(qY(),e),r(rxe(),e)}(K3)),K3}var J3={},Yp={},U7;function nxe(){if(U7)return Yp;U7=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.MediatorAll=void 0;const e=lt;let t=class extends e.Mediator{constructor(n){super(n)}async mediate(n){const a=[];let s;try{s=this.publish(n)}catch{s=[]}for(const u of s)try{await u.reply,a.push(u.actor)}catch{}return(await Promise.all(a.map(u=>u.runObservable(n))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}};return Yp.MediatorAll=t,Yp}var k7;function ixe(){return k7||(k7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(nxe(),e)}(J3)),J3}var X3={},Zp={},Y3={},e0={},t0={},V7;function axe(){if(V7)return t0;V7=1,Object.defineProperty(t0,"__esModule",{value:!0}),t0.instrumentIterator=void 0;function e(r){const n={count:0,timeSelf:0,timeLife:0};return t(r,n,!0),new Promise(a=>{r.on("end",()=>{a(n)})})}t0.instrumentIterator=e;function t(r,n,a){if(!("_profileInstrumented"in r)){if(r._profileInstrumented=!0,"_read"in r){const s=r._read;r._read=(o,u)=>{const l=performance.now();s.call(r,o,()=>{n.timeSelf+=performance.now()-l,u()})}}if("read"in r){const s=r.read;r.read=()=>{const o=performance.now(),u=s.call(r);return a&&u&&n.count++,n.timeSelf+=performance.now()-o,u}}if(a){const s=performance.now();r.on("end",()=>{n.timeLife=performance.now()-s})}"_source"in r&&t(r._source,n,!1)}}return t0}var H7;function sxe(){if(H7)return e0;H7=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.ActorRdfJoin=void 0;const e=kt,t=lt,r=ai(),n=xt,a=rr,s=axe(),o=new n.DataFactory;let u=class Pu extends t.Actor{constructor(c,d){super(c),this.includeInLogs=!0,this.logicalType=d.logicalType,this.physicalName=d.physicalName,this.limitEntries=d.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=d.limitEntriesMin??!1,this.canHandleUndefs=d.canHandleUndefs??!1,this.isLeaf=d.isLeaf??!0}static hash(c,d){return d.map(f=>{const h=c.get(f);return h?h.value:""}).join("")}static hashNonClashing(c,d){return d.map(f=>{const h=c.get(f);return h?(0,a.termToString)(h):""}).join("")}static overlappingVariables(c){const d=c.map(h=>h.variables);let f=d[0];for(const h of d.slice(1))f=f.filter(p=>h.some(m=>m.value===p.value));return f}static joinVariables(c){return[...new Set(c.flatMap(d=>d.variables.map(f=>f.value)))].map(d=>o.variable(d))}static joinBindings(...c){if(c.length===0)return null;if(c.length===1)return c[0];let d=c[0];for(const f of c.slice(1)){const h=d.merge(f);if(!h)return null;d=h}return d}static getCardinality(c){return c.cardinality}static async getMetadatas(c){return await Promise.all(c.map(d=>d.output.metadata()))}static async getEntriesWithMetadatas(c){const d=await Pu.getMetadatas(c);return c.map((f,h)=>({...f,metadata:d[h]}))}static getRequestInitialTimes(c){return c.map(d=>d.pageSize?0:d.requestTime??0)}static getRequestItemTimes(c){return c.map(d=>d.pageSize?(d.requestTime??0)/d.pageSize:0)}constructState(c){const d=new r.MetadataValidationState,f=()=>d.invalidate();for(const h of c)h.state.addInvalidateListener(f);return d}async constructResultMetadata(c,d,f,h={}){let p;return h.cardinality?p=h.cardinality:(p=d.reduce((m,y)=>{const g=Pu.getCardinality(y);return{type:g.type==="estimate"?"estimate":m.type,value:m.value*g.value}},{type:"exact",value:1}),p.value*=(await this.mediatorJoinSelectivity.mediate({entries:c,context:f})).selectivity),{state:this.constructState(d),...h,cardinality:{type:p.type,value:p.value},canContainUndefs:h.canContainUndefs??d.some(m=>m.canContainUndefs),variables:Pu.joinVariables(d)}}static async sortJoinEntries(c,d,f){if(d.some(g=>g.metadata.canContainUndefs))return d;const p={};for(const g of d)for(const b of g.metadata.variables){let v=p[b.value];v||(v=0),p[b.value]=++v}const m=[];for(const[g,b]of Object.entries(p))b>=2&&m.push(g);if(m.length===0)throw new Error("Bind join can only join entries with at least one common variable");const y=[];for(const g of d){let b=!1;for(const v of g.metadata.variables)if(m.includes(v.value)){b=!0;break}b||y.push(g)}return(await c.mediate({entries:d,context:f})).entries.sort((g,b)=>{const v=y.includes(g),_=y.includes(b);return v===_?0:v?1:-1})}async test(c){if(c.type!==this.logicalType)throw new Error(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${c.type}' was given.`);if(c.entries.length<=1)throw new Error(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?c.entries.length<this.limitEntries:c.entries.length>this.limitEntries)throw new Error(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${c.entries.length}.`);for(const f of c.entries)if(f.output.type!=="bindings")throw new Error(`Invalid type of a join entry: Expected 'bindings' but got '${f.output.type}'`);const d=await Pu.getMetadatas(c.entries);if(!this.canHandleUndefs){for(const f of d)if(f.canContainUndefs)throw new Error(`Actor ${this.name} can not join streams containing undefs`)}return await this.getJoinCoefficients(c,d)}async run(c){let d;c.context.has(e.KeysInitQuery.physicalQueryPlanLogger)&&(d=c.context.get(e.KeysInitQuery.physicalQueryPlanNode),c.context=c.context.set(e.KeysInitQuery.physicalQueryPlanNode,c));const f=c.context.get(e.KeysInitQuery.physicalQueryPlanLogger);let h;this.includeInLogs&&f&&(h={},f.stashChildren(d,g=>g.logicalOperator.startsWith("join")),f.logOperation(`join-${this.logicalType}`,this.physicalName,c,d,this.name,h));const{result:p,physicalPlanMetadata:m}=await this.getOutput(c),y=await Pu.getMetadatas(c.entries);if(h){(0,s.instrumentIterator)(p.bindingsStream).then(b=>{f.appendMetadata(c,{cardinalityReal:b.count,timeSelf:b.timeSelf,timeLife:b.timeLife})}),Object.assign(h,m);const g=y.map(Pu.getCardinality);if(h.cardinalities=g,h.joinCoefficients=await this.getJoinCoefficients(c,y),this.isLeaf)for(let b=0;b<c.entries.length;b++){const v=c.entries[b];f.unstashChild(v.operation,c),f.appendMetadata(v.operation,{cardinality:g[b]})}}return p.metadata=(0,r.cachifyMetadata)(p.metadata),p}};return e0.ActorRdfJoin=u,e0}var r0={},Q7;function oxe(){if(Q7)return r0;Q7=1,Object.defineProperty(r0,"__esModule",{value:!0}),r0.ChunkedIterator=void 0;const e=$t();let t=class extends e.TransformIterator{constructor(n,a,s){super(n,s),this.chunk=[],this.blockSize=a}consumeChunkAsIterator(){const n=new e.ArrayIterator(this.chunk,{autoStart:!1});return this.chunk=[],n}_transform(n,a,s){this.chunk.push(n),this.chunk.length>=this.blockSize&&s(this.consumeChunkAsIterator()),a()}_flush(n){this.chunk.length>0&&this._push(this.consumeChunkAsIterator()),super._flush(n)}};return r0.ChunkedIterator=t,r0}var z7;function si(){return z7||(z7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(sxe(),e),r(oxe(),e)}(Y3)),Y3}var G7;function uxe(){if(G7)return Zp;G7=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.ActorRdfJoinSingle=void 0;const e=si();let t=class extends e.ActorRdfJoin{constructor(n){super(n,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(n){if(n.entries.length!==1)throw new Error(`Actor ${this.name} can only join a single entry`);return await this.getJoinCoefficients()}async getOutput(n){return{result:n.entries[0].output}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};return Zp.ActorRdfJoinSingle=t,Zp}var W7;function cxe(){return W7||(W7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(uxe(),e)}(X3)),X3}var Z3={},n0={},K7;function lxe(){if(K7)return n0;K7=1,Object.defineProperty(n0,"__esModule",{value:!0}),n0.ActorRdfJoinMultiEmpty=void 0;const e=si(),t=ai(),r=$t();let n=class extends e.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:"multi-empty",canHandleUndefs:!0})}async test(s){if((await e.ActorRdfJoin.getMetadatas(s.entries)).every(o=>e.ActorRdfJoin.getCardinality(o).value>0))throw new Error(`Actor ${this.name} can only join entries where at least one is empty`);return super.test(s)}async getOutput(s){for(const o of s.entries)o.output.bindingsStream.close();return{result:{bindingsStream:new r.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new t.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:e.ActorRdfJoin.joinVariables(await e.ActorRdfJoin.getMetadatas(s.entries))}),type:"bindings"}}}async getJoinCoefficients(s,o){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};return n0.ActorRdfJoinMultiEmpty=n,n0}var J7;function dxe(){return J7||(J7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(lxe(),e)}(Z3)),Z3}var eO={},i0={},X7;function fxe(){if(X7)return i0;X7=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.ActorRdfJoinMultiBindSource=void 0;const e=Ot(),t=si(),r=$t(),n=Nt(),a=new n.Factory;let s=class extends t.ActorRdfJoin{constructor(u){super(u,{logicalType:"inner",physicalName:"bind-source",canHandleUndefs:!0})}async getOutput(u){const l=await t.ActorRdfJoin.getEntriesWithMetadatas(u.entries),c=await this.sortJoinEntries(l,u.context);this.logDebug(u.context,"First entry for Bind Join Source: ",()=>({entry:c[0].operation,metadata:c[0].metadata}));for(const[b,v]of c.entries())b!==0&&v.output.bindingsStream.close();const d=c[0].output,f=c[0].metadata,h=[...c];h.splice(0,1);const p=e.ActorQueryOperation.getOperationSource(h[0].operation),m=this.createOperationFromEntries(h),y=new t.ChunkedIterator(d.bindingsStream,this.blockSize,{autoStart:!1});return{result:{type:"bindings",bindingsStream:new r.UnionIterator(y.map(b=>p.source.queryBindings(m,p.context?u.context.merge(p.context):u.context,{joinBindings:{bindings:b,metadata:f}}))),metadata:()=>this.constructResultMetadata(c,c.map(b=>b.metadata),u.context)},physicalPlanMetadata:{bindIndex:l.indexOf(c[0])}}}async sortJoinEntries(u,l){return u=await t.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,u,l),u=u.sort((c,d)=>c.operationModified&&!d.operationModified?-1:0),u}async getJoinCoefficients(u,l){const c=await this.sortJoinEntries(u.entries.map((_,w)=>({..._,metadata:l[w]})),u.context);l=c.map(_=>_.metadata);const d=t.ActorRdfJoin.getRequestInitialTimes(l),f=t.ActorRdfJoin.getRequestItemTimes(l),h=[...c];[...d],[...f],h.splice(0,1);const p=h.map(_=>e.ActorQueryOperation.getOperationSource(_.operation));if(p.some(_=>!_))throw new Error(`Actor ${this.name} can not bind on remaining operations without source annotation`);if(p.some(_=>_!==p[0]))throw new Error(`Actor ${this.name} can not bind on remaining operations with non-equal source annotation`);const m=p[0],y=this.createOperationFromEntries(h),g=await m.source.getSelectorShape(u.context);if(!e.ActorQueryOperation.doesShapeAcceptOperation(g,y,{joinBindings:!0}))throw new Error(`Actor ${this.name} detected a source that can not handle passing down join bindings`);const b=await Promise.all(h.map(async _=>(await this.mediatorJoinSelectivity.mediate({entries:[c[0],_],context:u.context})).selectivity*this.selectivityModifier)),v=h.map((_,w)=>_.metadata.cardinality.value*b[w]).reduce((_,w)=>_+w,0);return{iterations:1,persistedItems:l[0].cardinality.value,blockingItems:l[0].cardinality.value,requestTime:d[0]+l[0].cardinality.value*f[0]+d[1]+v*f[1]}}createOperationFromEntries(u){return u.length===1?u[0].operation:a.createJoin(u.map(l=>l.operation),!0)}};return i0.ActorRdfJoinMultiBindSource=s,i0}var Y7;function hxe(){return Y7||(Y7=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(fxe(),e)}(eO)),eO}var tO={},a0={},rO,Z7;function pxe(){if(Z7)return rO;Z7=1;let e=$t(),t=e.MultiTransformIterator,r=e.SimpleTransformIterator;class n extends t{constructor(s,o,u,l){super(s,l),this.funRight=o,this.funJoin=u}_createTransformer(s){return new r(this.funRight(s),{transform:(o,u,l)=>{let c=this.funJoin(s,o);c!==null&&l(c),u()}})}}return rO=n,rO}var nO,eB;function yxe(){if(eB)return nO;eB=1;let e=$t().AsyncIterator;class t extends e{constructor(n,a,s,o){super(),this.addedDataListener=!1,this.left=n,this.right=a,this.funHash=s,this.funJoin=o,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",l=>this.destroy(l)),this.right.on("error",l=>this.destroy(l)),this.readable=!1,this.left.on("end",u.bind(this));function u(){this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}this.on("newListener",l=>{l==="data"&&this._addDataListenerIfNeeded()}),this.left.readable&&this._addDataListenerIfNeeded(),this.left.on("readable",()=>this._addDataListenerIfNeeded())}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this._addDataListenerIfNeeded();;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let a=this.matches[this.matchIdx++],s=this.funJoin(a,this.match);if(s!==null)return s}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let n=this.funHash(this.match);this.matches=this.leftMap.get(n)||[],this.matchIdx=0}}_addDataListenerIfNeeded(){this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())}_addDataListener(){this.left.on("data",n.bind(this));function n(a){let s=this.funHash(a);this.leftMap.has(s)||this.leftMap.set(s,[]),this.leftMap.get(s).push(a)}}}return nO=t,nO}var iO,tB;function mxe(){if(tB)return iO;tB=1;const{MultiTransformIterator:e,SimpleTransformIterator:t,scheduleTask:r}=$t();class n extends e{constructor(s,o,u,l){super(s,l),this.right=o,this.funJoin=u,this.on("end",()=>this.right.close())}_end(){super._end(),r(()=>this.right.destroy())}_createTransformer(s){return new t(this.right.clone(),{transform:(o,u,l)=>{let c=this.funJoin(s,o);c!==null&&l(c),u()}})}}return iO=n,iO}var aO,rB;function gxe(){if(rB)return aO;rB=1;let e=$t().AsyncIterator;class t extends e{constructor(n,a,s,o){super(),this.left=n,this.right=a,this.funHash=s,this.funJoin=o,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",u=>this.destroy(u)),this.right.on("error",u=>this.destroy(u)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(;;){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let s=this.matches[this.matchIdx++],o=this.usedLeft?this.funJoin(this.match,s):this.funJoin(s,this.match);if(o!==null)return o}this.hasResults()||this._end();let n=null;for(let s=0;s<2&&(n=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,n===null);++s);if(this.done||n===null)return this.readable=!1,null;let a=this.funHash(n);if(this.usedLeft&&this.right.done)this.leftMap=null;else if(this.left.done)this.rightMap=null;else{let s=this.usedLeft?this.leftMap:this.rightMap;s.has(a)||s.set(a,[]),s.get(a).push(n)}this.match=n,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(a)||[],this.matchIdx=0}}}return aO=t,aO}var sO,nB;function _xe(){if(nB)return sO;nB=1;let e=$t().AsyncIterator;class t extends e{constructor(n){super(),Array.isArray(n)||(n=Array.prototype.slice.call(arguments)),this.streams=n;for(let a of n)a.on("readable",()=>this.emit("readable")),a.on("end",()=>this._removeStream(a));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(n){let a=this.streams.indexOf(n);a<0||(this.streams.splice(a,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let n of this.streams)n.close()}read(){for(let n=0;n<this.streams.length;++n){this.idx=(this.idx+1)%this.streams.length;let a=this.streams[this.idx].read();if(a!==null)return a}return null}}return sO=t,sO}var oO,iB;function XS(){if(iB)return oO;iB=1;const e=pxe(),t=yxe(),r=mxe(),n=gxe(),a=_xe();return oO={DynamicNestedLoopJoin:e,HashJoin:t,NestedLoopJoin:r,SymmetricHashJoin:n,MergeStream:a},oO}var aB;function bxe(){if(aB)return a0;aB=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.ActorRdfJoinHash=void 0;const e=si(),t=XS();let r=class extends e.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"hash",limitEntries:2})}async getOutput(a){const s=await e.ActorRdfJoin.getMetadatas(a.entries),o=e.ActorRdfJoin.overlappingVariables(s);return{result:{type:"bindings",bindingsStream:new t.HashJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,l=>e.ActorRdfJoin.hash(l,o),e.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(a.entries,s,a.context)}}}async getJoinCoefficients(a,s){const o=e.ActorRdfJoin.getRequestInitialTimes(s),u=e.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value+s[1].cardinality.value,persistedItems:s[0].cardinality.value,blockingItems:s[0].cardinality.value,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return a0.ActorRdfJoinHash=r,a0}var sB;function vxe(){return sB||(sB=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(bxe(),e)}(tO)),tO}var uO={},s0={},oB;function wxe(){if(oB)return s0;oB=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.ActorRdfJoinSymmetricHash=void 0;const e=si(),t=XS();let r=class BY extends e.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2})}async getOutput(a){const s=await e.ActorRdfJoin.getMetadatas(a.entries),o=e.ActorRdfJoin.overlappingVariables(s);return{result:{type:"bindings",bindingsStream:new t.SymmetricHashJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,l=>BY.hash(l,o),e.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(a.entries,s,a.context)}}}async getJoinCoefficients(a,s){const o=e.ActorRdfJoin.getRequestInitialTimes(s),u=e.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value+s[1].cardinality.value,persistedItems:s[0].cardinality.value+s[1].cardinality.value,blockingItems:0,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return s0.ActorRdfJoinSymmetricHash=r,s0}var uB;function Sxe(){return uB||(uB=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(wxe(),e)}(uO)),uO}var cO={},o0={},cB;function Txe(){if(cB)return o0;cB=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.ActorRdfJoinNestedLoop=void 0;const e=si(),t=XS();let r=class extends e.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(a){return{result:{type:"bindings",bindingsStream:new t.NestedLoopJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,e.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(a.entries,await e.ActorRdfJoin.getMetadatas(a.entries),a.context)}}}async getJoinCoefficients(a,s){const o=e.ActorRdfJoin.getRequestInitialTimes(s),u=e.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value*s[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return o0.ActorRdfJoinNestedLoop=r,o0}var lB;function Exe(){return lB||(lB=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Txe(),e)}(cO)),cO}var lO={},u0={},dB;function Axe(){if(dB)return u0;dB=1,Object.defineProperty(u0,"__esModule",{value:!0}),u0.ActorRdfJoinMinusHash=void 0;const e=Ot(),t=si();let r=class extends t.ActorRdfJoin{constructor(a){super(a,{logicalType:"minus",physicalName:"hash",limitEntries:2})}async getOutput(a){const s=a.entries[1].output,o=a.entries[0].output,u=await t.ActorRdfJoin.getMetadatas(a.entries),l=t.ActorRdfJoin.overlappingVariables(u);if(l.length>0){const c={},d=new e.ClosableTransformIterator(async()=>(await new Promise(f=>{s.bindingsStream.on("data",h=>{c[t.ActorRdfJoin.hashNonClashing(h,l)]=!0}),s.bindingsStream.on("end",f),s.bindingsStream.on("error",h=>{d.emit("error",h)})}),o.bindingsStream.filter(f=>!c[t.ActorRdfJoin.hashNonClashing(f,l)])),{autoStart:!1,onClose(){s.bindingsStream.destroy(),o.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:d,metadata:o.metadata}}}return s.bindingsStream.destroy(),{result:o}}async getJoinCoefficients(a,s){const o=t.ActorRdfJoin.getRequestInitialTimes(s),u=t.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value+s[1].cardinality.value,persistedItems:s[0].cardinality.value,blockingItems:s[0].cardinality.value,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return u0.ActorRdfJoinMinusHash=r,u0}var fB;function Oxe(){return fB||(fB=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Axe(),e)}(lO)),lO}var dO={},c0={},l0={},hB;function Rxe(){if(hB)return l0;hB=1,Object.defineProperty(l0,"__esModule",{value:!0}),l0.BindingsIndex=void 0;const e=rr;let t=class LI{constructor(n){this.data={},this.keys=n}static hashTerm(n){return n&&n.termType!=="Variable"?(0,e.termToString)(n):""}add(n){if(this.isBindingsValid(n)){let a=this.data;for(const s of this.keys){const o=LI.hashTerm(n.get(s));let u=a[o];u||(u=a[o]={}),a=u}}}contains(n){return this.isBindingsValid(n)?this.containsRecursive(n,this.keys,[this.data]):!1}isBindingsValid(n){let a=!1;for(const s of this.keys)if(n.get(s)){a=!0;break}return a}containsRecursive(n,a,s){if(a.length===0)return!0;let o;[o,...a]=a;for(const u of s){const l=LI.hashTerm(n.get(o));if(l){const c=[u[l],u[""]].filter(Boolean);if(c.length===0)continue;if(this.containsRecursive(n,a,c))return!0}else{let c=Object.keys(u).map(d=>u[d]);if(c.length===0&&(c=[{}]),this.containsRecursive(n,a,c))return!0}}return!1}};return l0.BindingsIndex=t,l0}var pB;function xxe(){if(pB)return c0;pB=1,Object.defineProperty(c0,"__esModule",{value:!0}),c0.ActorRdfJoinMinusHashUndef=void 0;const e=Ot(),t=si(),r=Rxe();let n=class extends t.ActorRdfJoin{constructor(s){super(s,{logicalType:"minus",physicalName:"hash-undef",limitEntries:2,canHandleUndefs:!0})}async getOutput(s){const o=s.entries[1].output,u=s.entries[0].output,l=await t.ActorRdfJoin.getMetadatas(s.entries),c=t.ActorRdfJoin.overlappingVariables(l);if(c.length>0){const d=new r.BindingsIndex(c),f=new e.ClosableTransformIterator(async()=>(await new Promise(h=>{o.bindingsStream.on("data",p=>d.add(p)),o.bindingsStream.on("end",h),o.bindingsStream.on("error",p=>{f.emit("error",p)})}),u.bindingsStream.filter(h=>!d.contains(h))),{autoStart:!1,onClose(){o.bindingsStream.destroy(),u.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:f,async metadata(){const h=await u.metadata(),p=await u.metadata();return{...p,canContainUndefs:h.canContainUndefs||p.canContainUndefs}}}}}return o.bindingsStream.destroy(),{result:u}}async getJoinCoefficients(s,o){const u=t.ActorRdfJoin.getRequestInitialTimes(o),l=t.ActorRdfJoin.getRequestItemTimes(o);return{iterations:(o[0].cardinality.value+o[1].cardinality.value)*1.01,persistedItems:o[0].cardinality.value,blockingItems:o[0].cardinality.value,requestTime:u[0]+o[0].cardinality.value*l[0]+u[1]+o[1].cardinality.value*l[1]}}};return c0.ActorRdfJoinMinusHashUndef=n,c0}var yB;function Ixe(){return yB||(yB=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(xxe(),e)}(dO)),dO}var fO={},d0={},f0={},mB;function Pxe(){if(mB)return f0;mB=1,Object.defineProperty(f0,"__esModule",{value:!0}),f0.BindingsIndexDef=void 0;let e=class{constructor(r,n){this.keys=r,this.hashFn=n,this.index={}}put(r,n){return this.index[this.hashFn(r,this.keys)]=n}get(r){const n=this.getFirst(r);return n?[n]:[]}getFirst(r){return this.index[this.hashFn(r,this.keys)]}values(){return Object.values(this.index)}};return f0.BindingsIndexDef=e,f0}var h0={},gB;function Nxe(){if(gB)return h0;gB=1,Object.defineProperty(h0,"__esModule",{value:!0}),h0.BindingsIndexUndef=void 0;let e=class{constructor(r,n){this.data={},this.keys=r,this.hashFn=n}put(r,n){if(this.isBindingsValid(r)){let a=this.data;for(let s=0;s<this.keys.length;s++){const o=this.keys[s],u=this.hashFn(r.get(o));let l=a[u];l||(l=a[u]=s===this.keys.length-1?n:{}),a=l}}return n}isBindingsValid(r){let n=!1;for(const a of this.keys)if(r.has(a)){n=!0;break}return n}get(r){return this.isBindingsValid(r)?this.getRecursive(r,this.keys,[this.data]):[]}getRecursive(r,n,a){if(n.length===0)return a;let s;[s,...n]=n;const o=[];for(const u of a){const l=this.hashFn(r==null?void 0:r.get(s));if(l){const c=[u[l],u[""]].filter(Boolean);if(c.length===0)continue;o.push(this.getRecursive(r,n,c))}else{const c=Object.values(u);if(c.length===0)continue;o.push(this.getRecursive(r,n,c))}}return o.flat()}getFirst(r){if(this.isBindingsValid(r))return this.getRecursiveFirst(r,this.keys,[this.data])}getRecursiveFirst(r,n,a){if(n.length===0)return a[0];let s;[s,...n]=n;for(const o of a){const u=this.hashFn(r.get(s));if(u){const l=[o[u],o[""]].filter(Boolean);if(l.length===0)continue;const c=this.getRecursiveFirst(r,n,l);if(c)return c}else{const l=Object.values(o);if(l.length===0)continue;const c=this.getRecursiveFirst(r,n,l);if(c)return c}}}values(){return this.keys.length===0?[]:this.getRecursive(void 0,this.keys,[this.data])}};return h0.BindingsIndexUndef=e,h0}var _B;function Dxe(){if(_B)return d0;_B=1,Object.defineProperty(d0,"__esModule",{value:!0}),d0.ActorRdfJoinOptionalHash=void 0;const e=Ot(),t=si(),r=$t(),n=rr,a=Pxe(),s=Nxe();let o=class jI extends t.ActorRdfJoin{constructor(l){super(l,{logicalType:"optional",physicalName:`hash-${l.canHandleUndefs?"undef":"def"}-${l.blocking?"blocking":"nonblocking"}`,limitEntries:2,canHandleUndefs:l.canHandleUndefs})}static constructIndex(l,c){return l?new s.BindingsIndexUndef(c,d=>d&&d.termType!=="Variable"?(0,n.termToString)(d):""):new a.BindingsIndexDef(c,t.ActorRdfJoin.hashNonClashing)}async getOutput(l){const c=l.entries[1].output,d=l.entries[0].output,f=await t.ActorRdfJoin.getMetadatas(l.entries),h=t.ActorRdfJoin.overlappingVariables(f);let p;return this.blocking?p=new e.ClosableTransformIterator(async()=>{const m=jI.constructIndex(this.canHandleUndefs,h);return await new Promise(y=>{c.bindingsStream.on("data",g=>{(m.getFirst(g)??m.put(g,[])).push(g)}),c.bindingsStream.on("end",y),c.bindingsStream.on("error",g=>{p.emit("error",g)})}),new r.MultiTransformIterator(d.bindingsStream,{multiTransform:y=>new r.ArrayIterator(m.get(y).flat().map(g=>t.ActorRdfJoin.joinBindings(y,g)).filter(g=>g!==null),{autoStart:!1}),optional:!0,autoStart:!1})},{autoStart:!1,onClose(){c.bindingsStream.destroy(),d.bindingsStream.destroy()}}):p=new e.ClosableTransformIterator(async()=>{const m=jI.constructIndex(this.canHandleUndefs,h);let y=!0;return c.bindingsStream.on("data",g=>{(m.getFirst(g)??m.put(g,new r.BufferedIterator({autoStart:!1})))._push(g)}),c.bindingsStream.on("end",()=>{for(const g of m.values())g.close();y=!1}),c.bindingsStream.on("error",g=>{p.emit("error",g)}),new r.MultiTransformIterator(d.bindingsStream,{multiTransform:g=>{let b=m.get(g);return b.length===0&&(y?b=[m.put(g,new r.BufferedIterator({autoStart:!1}))]:b=[]),new r.UnionIterator(b.map(_=>_.clone()),{autoStart:!1}).map(_=>t.ActorRdfJoin.joinBindings(g,_))},optional:!0,autoStart:!1})},{autoStart:!1,onClose(){c.bindingsStream.destroy(),d.bindingsStream.destroy()}}),{result:{type:"bindings",bindingsStream:p,metadata:async()=>await this.constructResultMetadata(l.entries,await t.ActorRdfJoin.getMetadatas(l.entries),l.context,{canContainUndefs:!0})}}}async getJoinCoefficients(l,c){if(t.ActorRdfJoin.overlappingVariables(c).length===0)throw new Error(`Actor ${this.name} only join entries with at least one common variable`);const d=t.ActorRdfJoin.getRequestInitialTimes(c),f=t.ActorRdfJoin.getRequestItemTimes(c);let h=c[0].cardinality.value+c[1].cardinality.value;return this.canHandleUndefs||(h*=.8),this.blocking&&(h*=.9),{iterations:h,persistedItems:c[0].cardinality.value,blockingItems:this.blocking?c[0].cardinality.value:0,requestTime:d[0]+c[0].cardinality.value*f[0]+d[1]+c[1].cardinality.value*f[1]}}};return d0.ActorRdfJoinOptionalHash=o,d0}var bB;function sv(){return bB||(bB=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Dxe(),e)}(fO)),fO}var hO={},p0={},vB;function Cxe(){if(vB)return p0;vB=1,Object.defineProperty(p0,"__esModule",{value:!0}),p0.ActorRdfJoinOptionalNestedLoop=void 0;const e=si(),t=XS();let r=class extends e.ActorRdfJoin{constructor(a){super(a,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(a){return{result:{type:"bindings",bindingsStream:new t.NestedLoopJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,e.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(a.entries,await e.ActorRdfJoin.getMetadatas(a.entries),a.context,{canContainUndefs:!0})}}}async getJoinCoefficients(a,s){const o=e.ActorRdfJoin.getRequestInitialTimes(s),u=e.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value*s[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return p0.ActorRdfJoinOptionalNestedLoop=r,p0}var wB;function Lxe(){return wB||(wB=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Cxe(),e)}(hO)),hO}var pO={},y0={},yO={},m0={},SB;function jxe(){if(SB)return m0;SB=1,Object.defineProperty(m0,"__esModule",{value:!0}),m0.ActorDereferenceRdf=void 0;const e=SD();let t=class extends e.ActorDereferenceParse{constructor(n){super(n)}};return m0.ActorDereferenceRdf=t,m0}var TB;function Mxe(){return TB||(TB=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(jxe(),e)}(yO)),yO}var EB;function Fxe(){if(EB)return y0;EB=1,Object.defineProperty(y0,"__esModule",{value:!0}),y0.ActorDereferenceRdfParse=void 0;const e=Mxe();let t=class extends e.ActorDereferenceRdf{constructor(n){super(n)}async getMetadata(n){return{baseIRI:n.url}}};return y0.ActorDereferenceRdfParse=t,y0}var AB;function qxe(){return AB||(AB=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Fxe(),e)}(pO)),pO}var mO={},g0={},_0={},OB;function Bxe(){if(OB)return _0;OB=1,Object.defineProperty(_0,"__esModule",{value:!0}),_0.HtmlScriptListener=void 0;const e=kt,t=Lt,r=va();let n=class Yg{constructor(s,o,u,l,c,d,f,h){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=s,this.cbQuad=o,this.cbError=u,this.cbEnd=l,this.supportedTypes=c,this.context=d.set(e.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=f,this.headers=h,this.onlyFirstScript=d.get(e.KeysRdfParseHtmlScript.extractAllScripts)===!1;const p=this.baseIRI.indexOf("#");this.targetScriptId=p>0?this.baseIRI.slice(p+1,this.baseIRI.length):null}static newErrorCoded(s,o){const u=new Error(s);return u.code=o,u}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(Yg.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const s=new t.Readable({objectMode:!0});s._read=()=>{};const o=this.textChunks,u={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:s,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(u).then(({handle:l})=>{l.data.on("error",c=>this.cbError(Yg.newErrorCoded(c.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const c of o)s.push(c);s.push(null)}).catch(l=>{this.targetScriptId?this.cbError(Yg.newErrorCoded(l.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(s,o){s==="base"&&o.href&&(this.baseIRI=(0,r.resolve)(o.href,this.baseIRI)),s==="script"&&(!this.targetScriptId||o.id===this.targetScriptId)?this.supportedTypes[o.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=o.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(Yg.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(s){this.handleMediaType&&this.textChunks.push(s)}requiresCustomJsonLdHandling(s){return!this.onlyFirstScript&&!this.targetScriptId&&s==="application/ld+json"}};return _0.HtmlScriptListener=n,_0}var RB;function $xe(){if(RB)return g0;RB=1,Object.defineProperty(g0,"__esModule",{value:!0}),g0.ActorRdfParseHtmlScript=void 0;const e=PD(),t=Bxe();let r=class extends e.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return!0}async run(a){const s=(await this.mediatorRdfParseMediatypes.mediate({context:a.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new t.HtmlScriptListener(this.mediatorRdfParseHandle,a.emit,a.error,a.end,s,a.context,a.baseIRI,a.headers)}}};return g0.ActorRdfParseHtmlScript=r,g0}var xB;function Uxe(){return xB||(xB=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r($xe(),e)}(mO)),mO}var gO={},b0={},IB;function kxe(){if(IB)return b0;IB=1,Object.defineProperty(b0,"__esModule",{value:!0}),b0.ActorQueryResultSerializeRdf=void 0;const e=Za();let t=class extends e.ActorQueryResultSerialize{constructor(n){super(n)}async testHandle(n,a,s){if(n.type!=="quads")throw new Error(`Actor ${this.name} can only handle quad streams`);const{mediaTypes:o}=await this.mediatorMediaTypeCombiner.mediate({context:s,mediaTypes:!0});if(!(a in o))throw new Error(`Actor ${this.name} can not handle media type ${a}. All available types: ${Object.keys(o)}`);return!0}async runHandle(n,a,s){return(await this.mediatorRdfSerialize.mediate({context:s,handle:{context:s,quadStream:n.quadStream},handleMediaType:a})).handle}async testMediaType(n){return!0}async getMediaTypes(n){return(await this.mediatorMediaTypeCombiner.mediate({context:n,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(n){return!0}async getMediaTypeFormats(n){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:n,mediaTypeFormats:!0})).mediaTypeFormats}};return b0.ActorQueryResultSerializeRdf=t,b0}var PB;function Vxe(){return PB||(PB=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(kxe(),e)}(gO)),gO}var _O={},v0={},NB;function Hxe(){if(NB)return v0;NB=1,Object.defineProperty(v0,"__esModule",{value:!0}),v0.ActorHttpWayback=void 0;const e=Ko(),t=kt,r=Oc();FY();const n="http://wayback.archive-it.org/";function a(u){const l=new Request(u.input,u.init);return{input:new Request(new URL(`/${l.url}`,n),l)}}function s(u){const l=u.get(t.KeysHttpProxy.httpProxyHandler);return l?c=>l.getProxy(a(c)):c=>Promise.resolve(a(c))}let o=class extends e.ActorHttp{constructor(l){super(l)}async test(l){return!0}async run(l){let c=await this.mediatorHttp.mediate(l);if(c.status===404&&l.context.get(t.KeysHttpWayback.recoverBrokenLinks)){let d=await this.mediatorHttp.mediate({...l,context:l.context.set(t.KeysHttpWayback.recoverBrokenLinks,!1).set(t.KeysHttpProxy.httpProxyHandler,{getProxy:s(l.context)})});d.status===200&&([c,d]=[d,c]);const{body:f}=d;f&&("cancel"in f&&typeof f.cancel=="function"?await f.cancel():"destroy"in f&&typeof f.destroy=="function"?f.destroy():await r(e.ActorHttp.toNodeReadable(f)))}return c}};return v0.ActorHttpWayback=o,v0}var DB;function Qxe(){return DB||(DB=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Hxe(),e)}(_O)),_O}var bO={},w0={},vO={},S0={},T0={},E0={},A0={},O0={},CB;function zxe(){if(CB)return O0;CB=1,Object.defineProperty(O0,"__esModule",{value:!0}),O0.ContainerHandlerIdentifier=void 0;let e=class{canCombineWithGraph(){return!0}async handle(r,n,a,s,o,u){let l;if(n.emittedStack[u+1]&&n.idStack[u+1])l=n.idStack[u+1][0];else{const f=await a.getContainerKey(s[u],s,u)!==null?await a.resourceToTerm(await n.getContext(s),s[u]):a.dataFactory.blankNode();if(!f){n.emittedStack[u]=!1;return}l=f,n.idStack[u+1]=[l]}let c=n.idStack[u];c||(c=n.idStack[u]=[]),c.some(d=>d.equals(l))||c.push(l),await n.handlePendingContainerFlushBuffers()||(n.emittedStack[u]=!1)}};return O0.ContainerHandlerIdentifier=e,O0}var R0={},x0={},LB;function YS(){if(LB)return x0;LB=1,Object.defineProperty(x0,"__esModule",{value:!0}),x0.EntryHandlerPredicate=void 0;const e=ln(),t=Rc();let r=class $Y{static async handlePredicateObject(a,s,o,u,l,c,d,f,h){const p=await s.getPropertiesDepth(o,u),m=await s.getDepthOffsetGraph(u,o),y=u-m,g=a.idStack[p];if(g&&!h)for(const b of g)if(m>=0){const _=a.idStack[y-1];if(_)for(const w of _)s.emitQuadChecked(u,b,l,c,w,d,f);else d?(s.validateReverseSubject(c),a.getUnidentifiedGraphBufferSafe(y-1).push({subject:c,predicate:l,object:b,isEmbedded:f})):a.getUnidentifiedGraphBufferSafe(y-1).push({subject:b,predicate:l,object:c,isEmbedded:f})}else{const _=await s.getGraphContainerValue(o,p);s.emitQuadChecked(u,b,l,c,_,d,f)}else if(d&&s.validateReverseSubject(c),h){if(a.rdfstar){a.idStack[u]&&a.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${a.idStack[u][0].value}`,e.ERROR_CODES.INVALID_ANNOTATION));for(let _=0;_<u;_++)await s.unaliasKeyword(o[_],o,_)==="@id"&&a.emitError(new e.ErrorCoded("Found an illegal annotation inside an embedded node",e.ERROR_CODES.INVALID_ANNOTATION));const b=a.getAnnotationsBufferSafe(p),v={predicate:l,object:c,reverse:d,nestedAnnotations:[],depth:p};b.push(v);for(let _=b.length-2;_>=0;_--){const w=b[_];w.depth>p&&(v.nestedAnnotations.push(w),b.splice(_,1))}}}else a.getUnidentifiedValueBufferSafe(p).push({predicate:l,object:c,reverse:d,isEmbedded:f})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(a,s,o,u,l){const c=o[u];if(c){const d=await a.getContext(o);if(!a.jsonLiteralStack[u]&&await s.predicateToTerm(d,o[u]))return t.Util.getContextValueType(d,c)==="@json"&&(a.jsonLiteralStack[u+1]=!0),!0}return!1}async test(a,s,o,u,l){return u[l]}async handle(a,s,o,u,l,c,d){const f=u[c],h=await a.getContext(u),p=await s.predicateToTerm(h,o);if(p){const m=await s.valueToTerm(h,o,l,c,u);if(m.length)for(let y of m){let g=await s.unaliasKeywordParent(u,c);const b=t.Util.isPropertyReverse(h,f,g);let v=0;for(;g==="@reverse"||typeof g=="number";)typeof g=="number"?v++:c--,g=await s.unaliasKeywordParent(u,c-v);const _=t.Util.isPropertyInEmbeddedNode(g);s.validateReverseInEmbeddedNode(o,b,_);const w=t.Util.isPropertyInAnnotationObject(g);if(l){const S="@list"in t.Util.getContextValueContainer(h,o);if(S||l["@list"]){if((S&&!Array.isArray(l)&&!l["@list"]||l["@list"]&&!Array.isArray(l["@list"]))&&y!==s.rdfNil){const E=s.dataFactory.blankNode();a.emitQuad(c,s.dataFactory.quad(E,s.rdfRest,s.rdfNil,s.getDefaultGraph())),a.emitQuad(c,s.dataFactory.quad(E,s.rdfFirst,y,s.getDefaultGraph())),y=E}if(b&&!a.allowSubjectList)throw new e.ErrorCoded(`Found illegal list value in subject position at ${o}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await $Y.handlePredicateObject(a,s,u,c,p,y,b,_,w)}}}};return x0.EntryHandlerPredicate=r,x0}var jB;function Gxe(){if(jB)return R0;jB=1,Object.defineProperty(R0,"__esModule",{value:!0}),R0.ContainerHandlerIndex=void 0;const e=ln(),t=YS(),r=Rc();let n=class{canCombineWithGraph(){return!0}async handle(s,o,u,l,c,d){if(!Array.isArray(c)){const f="@graph"in s,h=await o.getContext(l),p=l[d-1],m=r.Util.getContextValueIndex(h,p);if(m){if(e.Util.isPotentialKeyword(m))throw new e.ErrorCoded(`Keywords can not be used as @index value, got: ${m}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof m!="string")throw new e.ErrorCoded(`@index values must be strings, got: ${m}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof c!="object"){if(r.Util.getContextValueType(h,p)!=="@id")throw new e.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${c}`,e.ERROR_CODES.INVALID_VALUE_OBJECT);const b=u.resourceToTerm(h,c);b&&(o.idStack[d+1]=[b])}const g=u.createVocabOrBaseTerm(h,m);if(g){const b=await u.valueToTerm(h,m,await u.getContainerKey(l[d],l,d),d,l);if(f){const v=await u.getGraphContainerValue(l,d+1);for(const _ of b)o.emitQuad(d,u.dataFactory.quad(v,g,_,u.getDefaultGraph()))}else for(const v of b)await t.EntryHandlerPredicate.handlePredicateObject(o,u,l,d+1,g,v,!1,!1,!1)}}const y=f?2:1;await o.newOnValueJob(l.slice(0,l.length-y),c,d-y,!0),await o.handlePendingContainerFlushBuffers()}o.emittedStack[d]=!1}};return R0.ContainerHandlerIndex=n,R0}var I0={},MB;function Wxe(){if(MB)return I0;MB=1,Object.defineProperty(I0,"__esModule",{value:!0}),I0.ContainerHandlerLanguage=void 0;const e=ln();let t=class{canCombineWithGraph(){return!1}async handle(n,a,s,o,u,l){const c=await s.getContainerKey(o[l],o,l);if(Array.isArray(u))u=u.map(d=>({"@value":d,"@language":c}));else{if(typeof u!="string")throw new e.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(u)}', but expected string`,e.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);u={"@value":u,"@language":c}}await a.newOnValueJob(o.slice(0,o.length-1),u,l-1,!0),a.emittedStack[l]=!1}};return I0.ContainerHandlerLanguage=t,I0}var P0={},FB;function Kxe(){if(FB)return P0;FB=1,Object.defineProperty(P0,"__esModule",{value:!0}),P0.ContainerHandlerType=void 0;const e=YS(),t=Rc();let r=class{canCombineWithGraph(){return!1}async handle(a,s,o,u,l,c){if(!Array.isArray(l)){if(typeof l=="string"){const h=await s.getContext(u),m=t.Util.getContextValueType(h,u[c-1])==="@vocab"?await o.createVocabOrBaseTerm(h,l):await o.resourceToTerm(h,l);if(m){const y={"@id":m.termType==="NamedNode"?m.value:l};await s.newOnValueJob(u.slice(0,u.length-1),y,c-1,!0),s.idStack[c+1]=[m]}}else{const h=!!s.idStack[c+1];h||delete s.idStack[c],await s.newOnValueJob(u.slice(0,u.length-1),l,c-1,!0),h||(s.idStack[c+1]=s.idStack[c])}const d=await o.getContainerKey(u[c],u,c),f=d!==null?o.createVocabOrBaseTerm(await s.getContext(u),d):null;f&&await e.EntryHandlerPredicate.handlePredicateObject(s,o,u,c+1,o.rdfType,f,!1,!1,!1),await s.handlePendingContainerFlushBuffers()}s.emittedStack[c]=!1}};return P0.ContainerHandlerType=r,P0}var qB;function UY(){if(qB)return A0;qB=1,Object.defineProperty(A0,"__esModule",{value:!0}),A0.EntryHandlerContainer=void 0;const e=zxe(),t=Gxe(),r=Wxe(),n=Kxe(),a=Rc();let s=class lo{static isSimpleGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length===2||Object.keys(u).length===1)}static isComplexGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length>2||!("@set"in u)&&Object.keys(u).length>1)}static getContainerGraphIndex(u,l,c){let d=lo.isSimpleGraphContainer(u),f="";for(let h=l;h<c.length;h++)(!d||typeof c[h]=="number")&&(f+=":"+c[h]),!d&&typeof c[h]!="number"&&(d=!0);return f}static async getContainerHandler(u,l,c){const d={containers:{"@set":!0},depth:c,fallback:!0};let f=!1;const h=await u.getContext(l,2);for(let p=c-1;p>=0;p--)if(typeof l[p]!="number"){const m=a.Util.getContextValue(h,"@container",l[p],!1);if(m&&lo.isSimpleGraphContainer(m))return{containers:m,depth:p+1,fallback:!1};const y=a.Util.getContextValue(h,"@container",l[p-1],!1);if(y){const g="@graph"in y;for(const b in lo.CONTAINER_HANDLERS)if(y[b])return g?lo.CONTAINER_HANDLERS[b].canCombineWithGraph()?{containers:y,depth:p,fallback:!1}:d:f?d:{containers:y,depth:p,fallback:!1};return d}else{if(f)return d;f=!0}}return d}static async isBufferableContainerHandler(u,l,c){const d=await lo.getContainerHandler(u,l,c);return!d.fallback&&!("@graph"in d.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,l,c,d,f){return!!await this.test(u,l,null,c,d)}async test(u,l,c,d,f){const h=a.Util.getContextValueContainer(await u.getContext(d,2),d[f-1]);for(const p in lo.CONTAINER_HANDLERS)if(h[p])return{containers:h,handler:lo.CONTAINER_HANDLERS[p]};return null}async handle(u,l,c,d,f,h,p){return p.handler.handle(p.containers,u,l,d,f,h)}};return s.CONTAINER_HANDLERS={"@id":new e.ContainerHandlerIdentifier,"@index":new t.ContainerHandlerIndex,"@language":new r.ContainerHandlerLanguage,"@type":new n.ContainerHandlerType},A0.EntryHandlerContainer=s,A0}var wO,BB;function Jxe(){return BB||(BB=1,wO=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,n,a)=>{const s=a===0?"":",",o=n===void 0||typeof n=="symbol"?null:n;return r+s+e(o)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,a)=>{if(t[n]===void 0||typeof t[n]=="symbol")return r;const s=r.length===0?"":",";return r+s+e(n)+":"+e(t[n])},"")+"}"}),wO}var $B;function Rc(){if($B)return E0;$B=1,Object.defineProperty(E0,"__esModule",{value:!0}),E0.Util=void 0;const e=ln(),t=xt,r=UY(),n=Jxe();let a=class ir{constructor(o){this.parsingContext=o.parsingContext,this.dataFactory=o.dataFactory||new t.DataFactory,this.rdfFirst=this.dataFactory.namedNode(ir.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(ir.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(ir.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(ir.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(ir.RDF+"JSON")}static getContextValue(o,u,l,c){const d=o.getContextRaw()[l];if(!d)return c;const f=d[u];return f===void 0?c:f}static getContextValueContainer(o,u){return ir.getContextValue(o,"@container",u,{"@set":!0})}static getContextValueType(o,u){const l=ir.getContextValue(o,"@type",u,null);return l==="@none"?null:l}static getContextValueLanguage(o,u){return ir.getContextValue(o,"@language",u,o.getContextRaw()["@language"]||null)}static getContextValueDirection(o,u){return ir.getContextValue(o,"@direction",u,o.getContextRaw()["@direction"]||null)}static isContextValueReverse(o,u){return!!ir.getContextValue(o,"@reverse",u,null)}static getContextValueIndex(o,u){return ir.getContextValue(o,"@index",u,o.getContextRaw()["@index"]||null)}static isPropertyReverse(o,u,l){return l==="@reverse"!==ir.isContextValueReverse(o,u)}static isPropertyInEmbeddedNode(o){return o==="@id"}static isPropertyInAnnotationObject(o){return o==="@annotation"}static isValidIri(o){return o!==null&&e.Util.isValidIri(o)}static isPrefixArray(o,u){if(o.length>u.length)return!1;for(let l=0;l<o.length;l++)if(o[l]!==u[l])return!1;return!0}async validateValueIndexes(o){if(this.parsingContext.validateValueIndexes){const u={};for(const l of o)if(l&&typeof l=="object"){const c=l["@id"],d=l["@index"];if(c&&d){const f=u[c];if(f&&f!==d)throw new e.ErrorCoded(`Conflicting @index value for ${c}`,e.ERROR_CODES.CONFLICTING_INDEXES);u[c]=d}}}}async valueToTerm(o,u,l,c,d){if(ir.getContextValueType(o,u)==="@json")return[this.dataFactory.literal(this.valueToJsonString(l),this.rdfJson)];const f=typeof l;switch(f){case"object":if(l==null)return[];if(Array.isArray(l))return"@list"in ir.getContextValueContainer(o,u)?l.length===0?[this.rdfNil]:this.parsingContext.idStack[c+1]||[]:(await this.validateValueIndexes(l),[]);if(o=await this.getContextSelfOrPropertyScoped(o,u),"@context"in l&&(o=await this.parsingContext.parseContext(l["@context"],(await this.parsingContext.getContext(d,0)).getContextRaw())),l=await this.unaliasKeywords(l,d,c,o),"@value"in l){let h,p,m,y,g;for(u in l){const b=l[u];switch(u){case"@value":h=b;break;case"@language":p=b;break;case"@direction":m=b;break;case"@type":y=b;break;case"@index":g=b;break;case"@annotation":break;default:throw new e.ErrorCoded(`Unknown value entry '${u}' in @value: ${JSON.stringify(l)}`,e.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(y,d,c,!0,o)==="@json")return[this.dataFactory.literal(this.valueToJsonString(h),this.rdfJson)];if(h===null)return[];if(typeof h=="object")throw new e.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(h)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&g&&typeof g!="string")throw new e.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(g)}'`,e.ERROR_CODES.INVALID_INDEX_VALUE);if(p){if(typeof h!="string")throw new e.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!e.ContextParser.validateLanguage(p,this.parsingContext.strictValues,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(p=p.toLowerCase())}if(m){if(typeof h!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`);if(!e.ContextParser.validateDirection(m,this.parsingContext.strictValues))return[]}if(p&&m&&this.parsingContext.rdfDirection){if(y)throw new e.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(c,h,p,m))}else if(p){if(y)throw new e.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(h,p)]}else if(m&&this.parsingContext.rdfDirection){if(y)throw new e.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(c,h,p,m))}else if(y){if(typeof y!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(y)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);const b=this.createVocabOrBaseTerm(o,y);if(!b)throw new e.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(y)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);if(b.termType!=="NamedNode")throw new e.ErrorCoded(`Illegal value type (${b.termType}): ${y}`,e.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(h,b)]}return await this.valueToTerm(new e.JsonLdContextNormalized({}),u,h,c,d)}else if("@set"in l){if(Object.keys(l).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${u}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in l){if(Object.keys(l).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const h=l["@list"];return Array.isArray(h)?h.length===0?[this.rdfNil]:this.parsingContext.idStack[c+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(d),u,h,c-1,d.slice(0,-1))}else{if("@reverse"in l&&typeof l["@reverse"]=="boolean")return[];if("@graph"in ir.getContextValueContainer(await this.parsingContext.getContext(d),u)){const h=this.parsingContext.graphContainerTermStack[c+1];return h?Object.values(h):[this.dataFactory.blankNode()]}else if("@id"in l){if(Object.keys(l).length>1&&(o=await this.parsingContext.getContext(d,0)),"@context"in l&&(o=await this.parsingContext.parseContext(l["@context"],o.getContextRaw())),l["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(o,l["@id"]));{const h=l["@id"];let p;if(typeof h=="object")if(this.parsingContext.rdfstar)p=this.parsingContext.idStack[c+1][0];else throw new e.ErrorCoded(`Found illegal @id '${l}'`,e.ERROR_CODES.INVALID_ID_VALUE);else p=this.resourceToTerm(o,h);return this.nullableTermToArray(p)}}else return this.parsingContext.emittedStack[c+1]||l&&typeof l=="object"&&Object.keys(l).length===0?this.parsingContext.idStack[c+1]||(this.parsingContext.idStack[c+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(o,u),u,l,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(o,u),u,(!!l).toString(),this.dataFactory.namedNode(ir.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(o,u),u,l,this.dataFactory.namedNode(l%1===0&&l<1e21?ir.XSD_INTEGER:ir.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${f}`)),[]}}async getContextSelfOrPropertyScoped(o,u){const l=o.getContextRaw()[u];return l&&typeof l=="object"&&"@context"in l&&(o=await this.parsingContext.parseContext(l,o.getContextRaw(),!0)),o}nullableTermToArray(o){return o?[o]:[]}predicateToTerm(o,u){const l=o.expandTerm(u,!0,this.parsingContext.getExpandOptions());if(!l)return null;if(l[0]==="_"&&l[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(l.substr(2)):null;if(ir.isValidIri(l))return this.dataFactory.namedNode(l);if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new e.ErrorCoded(`Invalid predicate IRI: ${l}`,e.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(o,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const l=o.expandTerm(u,!1,this.parsingContext.getExpandOptions());if(!ir.isValidIri(l))if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${l}`));else return null;return this.dataFactory.namedNode(l)}createVocabOrBaseTerm(o,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const l=this.parsingContext.getExpandOptions();let c=o.expandTerm(u,!0,l);if(c===u&&(c=o.expandTerm(u,!1,l)),!ir.isValidIri(c))if(c&&this.parsingContext.strictValues&&!c.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${c}`));else return null;return this.dataFactory.namedNode(c)}intToString(o,u){return typeof o=="number"?Number.isFinite(o)?o%1===0&&(!u||u.value!==ir.XSD_DOUBLE)?Number(o).toString():o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):o>0?"INF":"-INF":o}stringValueToTerm(o,u,l,c,d){const f=ir.getContextValueType(u,l);if(f)if(f==="@id"){if(!d)return this.resourceToTerm(u,this.intToString(c,d))}else if(f==="@vocab"){if(!d)return this.createVocabOrBaseTerm(u,this.intToString(c,d))}else d=this.dataFactory.namedNode(f);if(!d){const h=ir.getContextValueLanguage(u,l),p=ir.getContextValueDirection(u,l);return p&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(o,this.intToString(c,d),h,p):this.dataFactory.literal(this.intToString(c,d),h)}return this.dataFactory.literal(this.intToString(c,d),d)}createLanguageDirectionLiteral(o,u,l,c){if(this.parsingContext.rdfDirection==="i18n-datatype")return l||(l=""),this.dataFactory.literal(u,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${l}_${c}`));{const d=this.dataFactory.blankNode(),f=this.getDefaultGraph();return this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(ir.RDF+"value"),this.dataFactory.literal(u),f)),l&&this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(ir.RDF+"language"),this.dataFactory.literal(l),f)),this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(ir.RDF+"direction"),this.dataFactory.literal(c),f)),d}}valueToJsonString(o){return n(o)}async unaliasKeyword(o,u,l,c,d){if(Number.isInteger(o))return o;if(!c){const f=this.parsingContext.unaliasedKeywordCacheStack[l];if(f)return f}if(!e.Util.isPotentialKeyword(o)){d=d||await this.parsingContext.getContext(u);let f=d.getContextRaw()[o];f&&typeof f=="object"&&(f=f["@id"]),e.Util.isValidKeyword(f)&&(o=f)}return c?o:this.parsingContext.unaliasedKeywordCacheStack[l]=o}async unaliasKeywordParent(o,u){return await this.unaliasKeyword(u>0&&o[u-1],o,u-1)}async unaliasKeywords(o,u,l,c){const d={};for(const f in o)d[await this.unaliasKeyword(f,u,l+1,!0,c)]=o[f];return d}async isLiteral(o,u){for(let l=u;l>=0;l--){if(await this.unaliasKeyword(o[l],o,l)==="@annotation")return!1;if(this.parsingContext.literalStack[l]||this.parsingContext.jsonLiteralStack[l])return!0}return!1}async getDepthOffsetGraph(o,u){for(let l=o-1;l>0;l--)if(await this.unaliasKeyword(u[l],u,l)==="@graph"){const c=(await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,u,l)).containers;return r.EntryHandlerContainer.isComplexGraphContainer(c)?-1:o-l-1}return-1}validateReverseSubject(o){if(o.termType==="Literal")throw new e.ErrorCoded(`Found illegal literal in subject position: ${o.value}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(o,u){let l=this.getDefaultGraph();const{containers:c,depth:d}=await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,o,u);if("@graph"in c){const f=r.EntryHandlerContainer.getContainerGraphIndex(c,d,o),h=this.parsingContext.graphContainerTermStack[d];if(l=h?h[f]:null,!l){let p=null;if("@id"in c){const m=await this.getContainerKey(o[d],o,d);m!==null&&(p=await this.resourceToTerm(await this.parsingContext.getContext(o),m))}p||(p=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[d]||(this.parsingContext.graphContainerTermStack[d]={}),l=this.parsingContext.graphContainerTermStack[d][f]=p}}return l}async getPropertiesDepth(o,u){let l=u;for(let c=u-1;c>0;c--)if(typeof o[c]!="number"){const d=await this.unaliasKeyword(o[c],o,c);if(d==="@reverse")return c;if(d==="@nest")l=c;else return l}return l}async getContainerKey(o,u,l){const c=await this.unaliasKeyword(o,u,l);return c==="@none"?null:c}validateReverseInEmbeddedNode(o,u,l){if(l&&u&&!this.parsingContext.rdfstarReverseInEmbedded)throw new e.ErrorCoded(`Illegal reverse property in embedded node in ${o}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(o,u,l,c,d,f,h){let p;if(f?(this.validateReverseSubject(c),p=this.dataFactory.quad(c,l,u,d)):p=this.dataFactory.quad(u,l,c,d),h){if(p.graph.termType!=="DefaultGraph"&&(p=this.dataFactory.quad(p.subject,p.predicate,p.object)),this.parsingContext.idStack[o-1])throw new e.ErrorCoded("Illegal multiple properties in an embedded node",e.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[o-1]=[p]}else this.parsingContext.emitQuad(o,p);const m=this.parsingContext.annotationsBuffer[o];if(m){for(const y of m)this.emitAnnotation(o,p,y);delete this.parsingContext.annotationsBuffer[o]}}emitAnnotation(o,u,l){let c;l.reverse?(this.validateReverseSubject(l.object),c=this.dataFactory.quad(l.object,l.predicate,u)):c=this.dataFactory.quad(u,l.predicate,l.object),this.parsingContext.emitQuad(o,c);for(const d of l.nestedAnnotations)this.emitAnnotation(o,c,d)}};return a.XSD="http://www.w3.org/2001/XMLSchema#",a.XSD_BOOLEAN=a.XSD+"boolean",a.XSD_INTEGER=a.XSD+"integer",a.XSD_DOUBLE=a.XSD+"double",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",E0.Util=a,E0}var UB;function Xxe(){if(UB)return T0;UB=1,Object.defineProperty(T0,"__esModule",{value:!0}),T0.EntryHandlerArrayValue=void 0;const e=Rc(),t=ln();let r=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,s,o,u,l){return this.test(a,s,null,o,u)}async test(a,s,o,u,l){return typeof u[l]=="number"}async handle(a,s,o,u,l,c){let d=await s.unaliasKeywordParent(u,c);if(d==="@list"){let f=null,h=0;for(let p=c-2;p>0;p--){const m=u[p];if(typeof m=="string"||typeof m=="number"){h=p,f=m;break}}if(f!==null){const p=await s.valueToTerm(await a.getContext(u),f,l,c,u);for(const m of p)await this.handleListElement(a,s,m,l,c,u.slice(0,h),h);p.length===0&&await this.handleListElement(a,s,null,l,c,u.slice(0,h),h)}}else if(d==="@set")await a.newOnValueJob(u.slice(0,-2),l,c-2,!1);else if(d!==void 0&&d!=="@type"){for(let h=c-1;h>0;h--)if(typeof u[h]!="number"){d=await s.unaliasKeyword(u[h],u,h);break}const f=await a.getContext(u.slice(0,-1));if("@list"in e.Util.getContextValueContainer(f,d)){a.emittedStack[c+1]=!0;const h=await s.valueToTerm(await a.getContext(u),d,l,c,u);for(const p of h)await this.handleListElement(a,s,p,l,c,u.slice(0,-1),c-1);h.length===0&&await this.handleListElement(a,s,null,l,c,u.slice(0,-1),c-1)}else a.shiftStack(c,1),await a.newOnValueJob(u.slice(0,-1),l,c-1,!1),a.contextTree.removeContext(u.slice(0,-1))}}async handleListElement(a,s,o,u,l,c,d){let f=a.listPointerStack[l];if(u!==null&&(await s.unaliasKeywords(u,c,l))["@value"]!==null){if(!f||!f.value){const h=s.dataFactory.blankNode();f={value:h,listRootDepth:d,listId:h}}else{const h=s.dataFactory.blankNode();a.emitQuad(l,s.dataFactory.quad(f.value,s.rdfRest,h,s.getDefaultGraph())),f.value=h}o&&a.emitQuad(l,s.dataFactory.quad(f.value,s.rdfFirst,o,s.getDefaultGraph()))}else f||(f={listRootDepth:d,listId:s.rdfNil});a.listPointerStack[l]=f,a.rdfstar&&a.annotationsBuffer[l]&&a.emitError(new t.ErrorCoded("Found an illegal annotation inside a list",t.ERROR_CODES.INVALID_ANNOTATION))}};return T0.EntryHandlerArrayValue=r,T0}var N0={},kB;function Yxe(){if(kB)return N0;kB=1,Object.defineProperty(N0,"__esModule",{value:!0}),N0.EntryHandlerInvalidFallback=void 0;let e=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,n,a,s,o){return!1}async test(r,n,a,s,o){return!0}async handle(r,n,a,s,o,u){r.emittedStack[u]=!1}};return N0.EntryHandlerInvalidFallback=e,N0}var D0={},C0={},VB;function Jo(){if(VB)return C0;VB=1,Object.defineProperty(C0,"__esModule",{value:!0}),C0.EntryHandlerKeyword=void 0;let e=class{constructor(r){this.keyword=r}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,n,a,s,o){return!1}async test(r,n,a,s,o){return a===this.keyword}};return C0.EntryHandlerKeyword=e,C0}var HB;function Zxe(){if(HB)return D0;HB=1,Object.defineProperty(D0,"__esModule",{value:!0}),D0.EntryHandlerKeywordContext=void 0;const e=ln(),t=Jo();let r=class extends t.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(a,s,o,u,l,c){a.streamingProfile&&(a.processingStack[c]||a.processingType[c]||a.idStack[c]!==void 0)&&a.emitError(new e.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const d=a.getContext(u),f=a.parseContext(l,(await d).getContextRaw());a.contextTree.setContext(u.slice(0,-1),f),a.emitContext(l),await a.validateContext(await f)}};return D0.EntryHandlerKeywordContext=r,D0}var L0={},QB;function eIe(){if(QB)return L0;QB=1,Object.defineProperty(L0,"__esModule",{value:!0}),L0.EntryHandlerKeywordGraph=void 0;const e=Jo();let t=class extends e.EntryHandlerKeyword{constructor(){super("@graph")}async handle(n,a,s,o,u,l){n.graphStack[l+1]=!0}};return L0.EntryHandlerKeywordGraph=t,L0}var j0={},zB;function tIe(){if(zB)return j0;zB=1,Object.defineProperty(j0,"__esModule",{value:!0}),j0.EntryHandlerKeywordId=void 0;const e=ln(),t=Jo();let r=class extends t.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(a,s,o,u,l,c){if(typeof l!="string"){if(a.rdfstar&&typeof l=="object"){const f=Object.keys(l);f.length===1&&f[0]==="@id"&&a.emitError(new e.ErrorCoded(`Invalid embedded node without property with @id ${l["@id"]}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE))}else a.emitError(new e.ErrorCoded(`Found illegal @id '${l}'`,e.ERROR_CODES.INVALID_ID_VALUE));return}const d=await s.getPropertiesDepth(u,c);if(a.idStack[d]!==void 0&&(a.idStack[d][0].listHead?a.emitError(new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u[c-1]}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):a.emitError(new e.ErrorCoded(`Found duplicate @ids '${a.idStack[d][0].value}' and '${l}'`,e.ERROR_CODES.COLLIDING_KEYWORDS))),a.rdfstar&&a.annotationsBuffer[c])for(const f of a.annotationsBuffer[c])f.depth===c&&a.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${l}`,e.ERROR_CODES.INVALID_ANNOTATION));a.idStack[d]=s.nullableTermToArray(await s.resourceToTerm(await a.getContext(u),l))}};return j0.EntryHandlerKeywordId=r,j0}var M0={},GB;function rIe(){if(GB)return M0;GB=1,Object.defineProperty(M0,"__esModule",{value:!0}),M0.EntryHandlerKeywordIncluded=void 0;const e=ln(),t=Jo();let r=class extends t.EntryHandlerKeyword{constructor(){super("@included")}async handle(a,s,o,u,l,c){typeof l!="object"&&a.emitError(new e.ErrorCoded(`Found illegal @included '${l}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE));const d=await s.unaliasKeywords(l,u,c,await a.getContext(u));"@value"in d&&a.emitError(new e.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in d&&a.emitError(new e.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),a.emittedStack[c]=!1}};return M0.EntryHandlerKeywordIncluded=r,M0}var F0={},WB;function nIe(){if(WB)return F0;WB=1,Object.defineProperty(F0,"__esModule",{value:!0}),F0.EntryHandlerKeywordNest=void 0;const e=ln(),t=Jo();let r=class extends t.EntryHandlerKeyword{constructor(){super("@nest")}async handle(a,s,o,u,l,c){typeof l!="object"&&a.emitError(new e.ErrorCoded(`Found invalid @nest entry for '${o}': '${l}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await s.unaliasKeywords(l,u,c,await a.getContext(u))&&a.emitError(new e.ErrorCoded(`Found an invalid @value node for '${o}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),a.emittedStack[c]=!1}};return F0.EntryHandlerKeywordNest=r,F0}var q0={},KB;function iIe(){if(KB)return q0;KB=1,Object.defineProperty(q0,"__esModule",{value:!0}),q0.EntryHandlerKeywordType=void 0;const e=ln(),t=Rc(),r=YS(),n=Jo();let a=class extends n.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(o,u,l,c,d,f){const h=c[f],p=await o.getContext(c),m=u.rdfType,y=await u.unaliasKeywordParent(c,f),g=t.Util.isPropertyReverse(p,h,y),b=t.Util.isPropertyInEmbeddedNode(y);u.validateReverseInEmbeddedNode(l,g,b);const v=t.Util.isPropertyInAnnotationObject(y),_=Array.isArray(d)?d:[d];for(const E of _){typeof E!="string"&&o.emitError(new e.ErrorCoded(`Found illegal @type '${E}'`,e.ERROR_CODES.INVALID_TYPE_VALUE));const x=u.createVocabOrBaseTerm(p,E);x&&await r.EntryHandlerPredicate.handlePredicateObject(o,u,c,f,m,x,g,b,v)}let w=Promise.resolve(p),S=!1;for(const E of _.sort()){const x=t.Util.getContextValue(p,"@context",E,null);x&&(S=!0,w=w.then(C=>o.parseContext(x,C.getContextRaw())))}o.streamingProfile&&(S||!o.streamingProfileAllowOutOfOrderPlainType)&&(o.processingStack[f]||o.idStack[f])&&o.emitError(new e.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),S&&(w=w.then(E=>E.getContextRaw()["@propagate"]!==!0?new e.JsonLdContextNormalized(Object.assign(Object.assign({},E.getContextRaw()),{"@propagate":!1,"@__propagateFallback":p.getContextRaw()})):E),o.contextTree.setContext(c.slice(0,c.length-1),w)),o.processingType[f]=!0}};return q0.EntryHandlerKeywordType=a,q0}var B0={},JB;function aIe(){if(JB)return B0;JB=1,Object.defineProperty(B0,"__esModule",{value:!0}),B0.EntryHandlerKeywordUnknownFallback=void 0;const e=ln();let t=class kY{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(n,a,s,o,u){const l=await a.unaliasKeyword(s[o],s,o);return e.Util.isPotentialKeyword(l)?!(!u&&l==="@list"):!1}async test(n,a,s,o,u){return e.Util.isPotentialKeyword(s)}async handle(n,a,s,o,u,l){const c=kY.VALID_KEYWORDS_TYPES[s];c!==void 0?c&&typeof u!==c.type&&n.emitError(new e.ErrorCoded(`Invalid value type for '${s}' with value '${u}'`,c.errorCode)):n.strictValues&&n.emitError(new Error(`Unknown keyword '${s}' with value '${u}'`)),n.emittedStack[l]=!1}};return t.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:e.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:e.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},B0.EntryHandlerKeywordUnknownFallback=t,B0}var $0={},XB;function sIe(){if(XB)return $0;XB=1,Object.defineProperty($0,"__esModule",{value:!0}),$0.EntryHandlerKeywordValue=void 0;const e=Jo();let t=class extends e.EntryHandlerKeyword{constructor(){super("@value")}async validate(n,a,s,o,u){const l=s[o];return l&&!n.literalStack[o]&&await this.test(n,a,l,s,o)&&(n.literalStack[o]=!0),super.validate(n,a,s,o,u)}async test(n,a,s,o,u){return await a.unaliasKeyword(o[u],o.slice(0,o.length-1),u-1,!0)==="@value"}async handle(n,a,s,o,u,l){n.literalStack[l]=!0,delete n.unidentifiedValuesBuffer[l],delete n.unidentifiedGraphsBuffer[l],n.emittedStack[l]=!1}};return $0.EntryHandlerKeywordValue=t,$0}var U0={},k0={},YB;function oIe(){if(YB)return k0;YB=1,Object.defineProperty(k0,"__esModule",{value:!0}),k0.ContextTree=void 0;let e=class VY{constructor(){this.subTrees={}}getContext(r){if(r.length>0){const[n,...a]=r,s=this.subTrees[n];if(s){const o=s.getContext(a);if(o)return o.then(({context:u,depth:l})=>({context:u,depth:l+1}))}}return this.context?this.context.then(n=>({context:n,depth:0})):null}setContext(r,n){if(r.length===0)this.context=n;else{const[a,...s]=r;let o=this.subTrees[a];o||(o=this.subTrees[a]=new VY),o.setContext(s,n)}}removeContext(r){this.setContext(r,null)}};return k0.ContextTree=e,k0}var ZB;function uIe(){if(ZB)return U0;ZB=1,Object.defineProperty(U0,"__esModule",{value:!0}),U0.ParsingContext=void 0;const e=ln(),t=kb(),r=oIe(),n=QY();let a=class HY{constructor(o){this.contextParser=new e.ContextParser({documentLoader:o.documentLoader,skipValidation:o.skipContextValidation}),this.streamingProfile=!!o.streamingProfile,this.baseIRI=o.baseIRI,this.produceGeneralizedRdf=!!o.produceGeneralizedRdf,this.allowSubjectList=!!o.allowSubjectList,this.processingMode=o.processingMode||n.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!o.strictValues,this.validateValueIndexes=!!o.validateValueIndexes,this.defaultGraph=o.defaultGraph,this.rdfDirection=o.rdfDirection,this.normalizeLanguageTags=o.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=o.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=o.rdfstar!==!1,this.rdfstarReverseInEmbedded=o.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new r.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=o.parser,o.context?(this.rootContext=this.parseContext(o.context),this.rootContext.then(u=>this.validateContext(u))):this.rootContext=Promise.resolve(new e.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(o,u,l){return this.contextParser.parse(o,{baseIRI:this.baseIRI,ignoreProtection:l,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:u,processingMode:this.activeProcessingMode})}validateContext(o){const u=o.getContextRaw()["@version"];if(u){if(this.activeProcessingMode&&u>this.activeProcessingMode)throw new t.ErrorCoded(`Unsupported JSON-LD version '${u}' under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&u<this.activeProcessingMode)throw new t.ErrorCoded(`Invalid JSON-LD version ${u} under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=u}}async getContext(o,u=1){const l=o;for(;typeof o[o.length-1]=="number";)o=o.slice(0,o.length-1);u&&(o=o.slice(0,-u));const c=await this.getContextPropagationAware(o);let f=c.context.getContextRaw();for(let h=c.depth;h<l.length-u;h++){const p=l[h],m=f[p];if(m&&typeof m=="object"&&"@context"in m){const y=(await this.parseContext(m,f,!0)).getContextRaw(),g=!(p in y)||y[p]["@context"]["@propagate"];(g!==!1||h===l.length-1-u)&&(f=Object.assign({},y),delete f["@propagate"],f[p]=Object.assign({},f[p]),"@id"in m&&(f[p]["@id"]=m["@id"]),delete f[p]["@context"],g!==!1&&this.contextTree.setContext(l.slice(0,h+u),Promise.resolve(new e.JsonLdContextNormalized(f))))}}return new e.JsonLdContextNormalized(f)}async getContextPropagationAware(o){const u=o.length;let l=null,c;do{c=!1,l&&"@__propagateFallback"in l.context.getContextRaw()?l.context=new e.JsonLdContextNormalized(l.context.getContextRaw()["@__propagateFallback"]):(l&&(o=o.slice(0,l.depth-1)),l=await this.contextTree.getContext(o)||{context:await this.rootContext,depth:0});const d=o[o.length-1];if(d in l.context.getContextRaw()){const f=l.context.getContextRaw()[d];f&&typeof f=="object"&&"@context"in f&&(c=!0)}}while(l.depth>0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==u&&!c);return l.depth===0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==u&&(l.context=new e.JsonLdContextNormalized({})),l}async newOnValueJob(o,u,l,c){await this.parser.newOnValueJob(o,u,l,c)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const o of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(o.depth,o.keys),this.parser.flushStacks(o.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(o,u){o===1&&(this.topLevelProperties=!0),this.parser.push(u)}emitError(o){this.parser.emit("error",o)}emitContext(o){this.parser.emit("context",o)}getUnidentifiedValueBufferSafe(o){let u=this.unidentifiedValuesBuffer[o];return u||(u=[],this.unidentifiedValuesBuffer[o]=u),u}getUnidentifiedGraphBufferSafe(o){let u=this.unidentifiedGraphsBuffer[o];return u||(u=[],this.unidentifiedGraphsBuffer[o]=u),u}getAnnotationsBufferSafe(o){let u=this.annotationsBuffer[o];return u||(u=[],this.annotationsBuffer[o]=u),u}getExpandOptions(){return HY.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(o,u){const l=this.idStack[o+u];if(l&&(this.idStack[o]=l,this.emittedStack[o]=!0,delete this.idStack[o+u]),this.pendingContainerFlushBuffers.length)for(const c of this.pendingContainerFlushBuffers)c.depth>=o+u&&(c.depth-=u,c.keys.splice(o,u));this.unidentifiedValuesBuffer[o+u]&&(this.unidentifiedValuesBuffer[o]=this.unidentifiedValuesBuffer[o+u],delete this.unidentifiedValuesBuffer[o+u]),this.annotationsBuffer[o+u-1]&&(this.annotationsBuffer[o-1]||(this.annotationsBuffer[o-1]=[]),this.annotationsBuffer[o-1]=[...this.annotationsBuffer[o-1],...this.annotationsBuffer[o+u-1]],delete this.annotationsBuffer[o+u-1])}};return a.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},U0.ParsingContext=a,U0}var V0={},e$;function cIe(){if(e$)return V0;e$=1,Object.defineProperty(V0,"__esModule",{value:!0}),V0.EntryHandlerKeywordAnnotation=void 0;const e=Jo(),t=ln();let r=class extends e.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(a,s,o,u,l,c){(typeof l=="string"||typeof l=="object"&&l["@value"])&&a.emitError(new t.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(l)}`,t.ERROR_CODES.INVALID_ANNOTATION))}};return V0.EntryHandlerKeywordAnnotation=r,V0}var t$;function QY(){if(t$)return S0;t$=1,Object.defineProperty(S0,"__esModule",{value:!0}),S0.JsonLdParser=void 0;const e=nY(),t=ln(),r=Lt,n=Xxe(),a=UY(),s=Yxe(),o=YS(),u=Zxe(),l=eIe(),c=tIe(),d=rIe(),f=nIe(),h=iIe(),p=aIe(),m=sIe(),y=uIe(),g=Rc(),b=WX(),v=cIe();let _=class nl extends r.Transform{constructor(S){super({readableObjectMode:!0}),S=S||{},this.options=S,this.parsingContext=new y.ParsingContext(Object.assign({parser:this},S)),this.util=new g.Util({dataFactory:S.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new e,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(S,E,x,C){let I,P=["application/activity+json"];if(C&&C.wellKnownMediaTypes&&(P=C.wellKnownMediaTypes),E!=="application/ld+json"&&!P.includes(E)){if(E!=="application/json"&&!E.endsWith("+json"))throw new t.ErrorCoded(`Unsupported JSON-LD media type ${E}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(x&&x.has("Link")&&x.forEach((D,V)=>{if(V==="link"){const k=(0,b.parse)(D);for(const $ of k.get("rel","http://www.w3.org/ns/json-ld#context")){if(I)throw new t.ErrorCoded("Multiple JSON-LD context link headers were found on "+S,t.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);I=$.uri}}}),!I&&!(C!=null&&C.ignoreMissingContextLinkHeader))throw new t.ErrorCoded(`Missing context link header for media type ${E} on ${S}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let L;if(x&&x.has("Content-Type")){const D=x.get("Content-Type"),V=/; *profile=([^"]*)/.exec(D);V&&V[1]==="http://www.w3.org/ns/json-ld#streaming"&&(L=!0)}return new nl(Object.assign({baseIRI:S,context:I,streamingProfile:L},C||{}))}import(S){if("pipe"in S){S.on("error",x=>E.emit("error",x));const E=S.pipe(new nl(this.options));return E}else{const E=new r.PassThrough({readableObjectMode:!0});S.on("error",C=>x.emit("error",C)),S.on("data",C=>E.push(C)),S.on("end",()=>E.push(null));const x=E.pipe(new nl(this.options));return x}}_transform(S,E,x){this.jsonParser.write(S),this.lastOnValueJob.then(()=>x(),C=>x(C))}async newOnValueJob(S,E,x,C){let I=!0;if(C&&x<this.lastDepth){const k=this.parsingContext.listPointerStack[this.lastDepth];k&&(k.value&&this.push(this.util.dataFactory.quad(k.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),k.listId.listHead=!0,this.parsingContext.idStack[k.listRootDepth+1]=[k.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await a.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),I=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const P=await this.util.unaliasKeyword(S[x],S,x),L=await this.util.unaliasKeywordParent(S,x);this.parsingContext.emittedStack[x]=!0;let D=!0;t.Util.isValidKeyword(P)&&L==="@reverse"&&P!=="@context"&&this.emit("error",new t.ErrorCoded(`Found the @id '${E}' inside an @reverse property`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let V=!1;this.parsingContext.validationStack.length>1&&(V=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let k=Math.max(1,this.parsingContext.validationStack.length-1);k<S.length-1;k++){const $=this.parsingContext.validationStack[k]||(this.parsingContext.validationStack[k]=await this.validateKey(S.slice(0,k+1),k,V));if($.valid)!V&&$.property&&(V=!0);else{this.parsingContext.emittedStack[x]=!1,D=!1;break}}if(await this.util.isLiteral(S,x)&&(D=!1),D)for(const k of nl.ENTRY_HANDLERS){const $=await k.test(this.parsingContext,this.util,P,S,x);if($){await k.handle(this.parsingContext,this.util,P,S,E,x,$),k.isStackProcessor()&&(this.parsingContext.processingStack[x]=!0);break}}x===0&&Array.isArray(E)&&await this.util.validateValueIndexes(E),I&&x<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=x,this.lastKeys=S,this.parsingContext.unaliasedKeywordCacheStack.splice(x-1)}flushStacks(S){this.parsingContext.processingStack.splice(S,1),this.parsingContext.processingType.splice(S,1),this.parsingContext.emittedStack.splice(S,1),this.parsingContext.idStack.splice(S,1),this.parsingContext.graphStack.splice(S+1,1),this.parsingContext.graphContainerTermStack.splice(S,1),this.parsingContext.jsonLiteralStack.splice(S,1),this.parsingContext.validationStack.splice(S-1,2),this.parsingContext.literalStack.splice(S,this.parsingContext.literalStack.length-S),this.parsingContext.annotationsBuffer.splice(S,1)}async flushBuffer(S,E){let x=this.parsingContext.idStack[S];!!x||(x=this.parsingContext.idStack[S]=[this.util.dataFactory.blankNode()]);const I=this.parsingContext.unidentifiedValuesBuffer[S];if(I){for(const D of x){const V=await this.util.getDepthOffsetGraph(S,E),k=this.parsingContext.graphStack[S]||V>=0?this.parsingContext.idStack[S-V-1]:[await this.util.getGraphContainerValue(E,S)];if(k)for(const $ of k){this.parsingContext.emittedStack[S]=!0;for(const H of I)this.util.emitQuadChecked(S,D,H.predicate,H.object,$,H.reverse,H.isEmbedded)}else{const $=this.parsingContext.getUnidentifiedGraphBufferSafe(S-await this.util.getDepthOffsetGraph(S,E)-1);for(const H of I)H.reverse?$.push({object:D,predicate:H.predicate,subject:H.object,isEmbedded:H.isEmbedded}):$.push({object:H.object,predicate:H.predicate,subject:D,isEmbedded:H.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(S,1),this.parsingContext.literalStack.splice(S,1),this.parsingContext.jsonLiteralStack.splice(S,1)}const P=this.parsingContext.unidentifiedGraphsBuffer[S];if(P){for(const D of x){const V=S===1&&D.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():D;this.parsingContext.emittedStack[S]=!0;for(const k of P)this.parsingContext.emitQuad(S,this.util.dataFactory.quad(k.subject,k.predicate,k.object,V))}this.parsingContext.unidentifiedGraphsBuffer.splice(S,1)}const L=this.parsingContext.annotationsBuffer[S];if(L){L.length>0&&S===1&&this.parsingContext.emitError(new t.ErrorCoded("Annotations can not be made on top-level nodes",t.ERROR_CODES.INVALID_ANNOTATION));const D=this.parsingContext.getAnnotationsBufferSafe(S-1);for(const V of L)D.push(V);delete this.parsingContext.annotationsBuffer[S]}}async validateKey(S,E,x){for(const C of nl.ENTRY_HANDLERS)if(await C.validate(this.parsingContext,this.util,S,E,x))return{valid:!0,property:x||C.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=S=>{const E=this.jsonParser.stack.length,x=new Array(E+1).fill(0).map((C,I)=>I===E?this.jsonParser.key:this.jsonParser.stack[I].key);if(!this.isParsingContextInner(E)){const C=()=>this.newOnValueJob(x,S,E,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(x.slice(0,-1)))if(x[E]==="@context"){let I=this.contextJobs[E];I||(I=this.contextJobs[E]=[]),I.push(C)}else this.contextAwaitingJobs.push({job:C,keys:x,depth:E});else this.lastOnValueJob=this.lastOnValueJob.then(C);!this.parsingContext.streamingProfile&&E===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=S=>{this.emit("error",S)}}isParsingContextInner(S){for(let E=S;E>0;E--)if(this.jsonParser.stack[E-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const E of this.contextJobs)if(E)for(const x of E)await x();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const S=[];for(const E of this.contextAwaitingJobs)await this.util.unaliasKeyword(E.keys[E.depth],E.keys,E.depth,!0)==="@type"||typeof E.keys[E.depth]=="number"&&await this.util.unaliasKeyword(E.keys[E.depth-1],E.keys,E.depth-1,!0)==="@type"?this.typeJobs.push({job:E.job,keys:E.keys.slice(0,E.keys.length-1)}):S.push(E);for(const E of S){if(this.typeJobs.length>0){const x=[],C=[];for(let L=0;L<this.typeJobs.length;L++){const D=this.typeJobs[L];g.Util.isPrefixArray(D.keys,E.keys)&&(x.push(D),C.push(L))}const I=x.sort((L,D)=>L.keys.length-D.keys.length);for(const L of I)await L.job();const P=C.sort().reverse();for(const L of P)this.typeJobs.splice(L,1)}await E.job()}}};return _.DEFAULT_PROCESSING_MODE="1.1",_.ENTRY_HANDLERS=[new n.EntryHandlerArrayValue,new u.EntryHandlerKeywordContext,new c.EntryHandlerKeywordId,new d.EntryHandlerKeywordIncluded,new l.EntryHandlerKeywordGraph,new f.EntryHandlerKeywordNest,new h.EntryHandlerKeywordType,new m.EntryHandlerKeywordValue,new v.EntryHandlerKeywordAnnotation,new a.EntryHandlerContainer,new p.EntryHandlerKeywordUnknownFallback,new o.EntryHandlerPredicate,new s.EntryHandlerInvalidFallback],S0.JsonLdParser=_,S0}var r$;function lIe(){return r$||(r$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(QY(),e)}(vO)),vO}var H0={},n$;function GY(){if(n$)return H0;n$=1,Object.defineProperty(H0,"__esModule",{value:!0}),H0.DocumentLoaderMediated=void 0;const e=Ko(),t=ln(),r=Oc();let n=class zY extends t.FetchDocumentLoader{constructor(s,o){super(zY.createFetcher(s,o)),this.mediatorHttp=s,this.context=o}static createFetcher(s,o){return async(u,l)=>{const c=await s.mediate({input:u,init:l,context:o});return c.json=async()=>JSON.parse(await r(e.ActorHttp.toNodeReadable(c.body))),c}}};return H0.DocumentLoaderMediated=n,H0}var i$;function dIe(){if(i$)return w0;i$=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.ActorRdfParseJsonLd=void 0;const e=xd(),t=kt,r=lIe(),n=GY();let a=class extends e.ActorRdfParseFixedMediaTypes{constructor(o){super(o)}async testHandle(o,u,l){if(l.has(t.KeysRdfParseHtmlScript.processingHtmlScript)&&u!=="application/ld+json")throw new Error("JSON-LD in script tags can only have media type 'application/ld+json'");if(!u||!(u in this.mediaTypePriorities||u.endsWith("+json")))throw new Error(`Unrecognized media type: ${u}`);return await this.testHandleChecked(o)}async runHandle(o,u,l){var f;return{data:r.JsonLdParser.fromHttpResponse(((f=o.metadata)==null?void 0:f.baseIRI)??"",u,o.headers,{documentLoader:l.get(t.KeysRdfParseJsonLd.documentLoader)??new n.DocumentLoaderMediated(this.mediatorHttp,l),strictValues:l.get(t.KeysRdfParseJsonLd.strictValues),...l.get(t.KeysRdfParseJsonLd.parserOptions)}).import(o.data)}}};return w0.ActorRdfParseJsonLd=a,w0}var a$;function fIe(){return a$||(a$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(dIe(),e),r(GY(),e)}(bO)),bO}var SO={},Q0={},TO={},z0={},s$;function hIe(){if(s$)return z0;s$=1,Object.defineProperty(z0,"__esModule",{value:!0}),z0.ActorRdfUpdateHypermedia=void 0;const e=lt;let t=class extends e.Actor{constructor(n,a){super(n),this.destinationType=a}async test(n){if(n.forceDestinationType&&this.destinationType!==n.forceDestinationType)throw new Error(`Actor ${this.name} is not able to handle destination type ${n.forceDestinationType}.`);return this.testMetadata(n)}};return z0.ActorRdfUpdateHypermedia=t,z0}var o$;function jD(){return o$||(o$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(hIe(),e)}(TO)),TO}var G0={},ov={exports:{}},u$;function MD(){return u$||(u$=1,function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof N<"u"&&N,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var u=typeof s<"u"&&s||typeof self<"u"&&self||typeof u<"u"&&u,l={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function c($){return $&&DataView.prototype.isPrototypeOf($)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function($){return $&&d.indexOf(Object.prototype.toString.call($))>-1};function h($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test($)||$==="")throw new TypeError('Invalid character in header field name: "'+$+'"');return $.toLowerCase()}function p($){return typeof $!="string"&&($=String($)),$}function m($){var H={next:function(){var J=$.shift();return{done:J===void 0,value:J}}};return l.iterable&&(H[Symbol.iterator]=function(){return H}),H}function y($){this.map={},$ instanceof y?$.forEach(function(H,J){this.append(J,H)},this):Array.isArray($)?$.forEach(function(H){this.append(H[0],H[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(H){this.append(H,$[H])},this)}y.prototype.append=function($,H){$=h($),H=p(H);var J=this.map[$];this.map[$]=J?J+", "+H:H},y.prototype.delete=function($){delete this.map[h($)]},y.prototype.get=function($){return $=h($),this.has($)?this.map[$]:null},y.prototype.has=function($){return this.map.hasOwnProperty(h($))},y.prototype.set=function($,H){this.map[h($)]=p(H)},y.prototype.forEach=function($,H){for(var J in this.map)this.map.hasOwnProperty(J)&&$.call(H,this.map[J],J,this)},y.prototype.keys=function(){var $=[];return this.forEach(function(H,J){$.push(J)}),m($)},y.prototype.values=function(){var $=[];return this.forEach(function(H){$.push(H)}),m($)},y.prototype.entries=function(){var $=[];return this.forEach(function(H,J){$.push([J,H])}),m($)},l.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function g($){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}function b($){return new Promise(function(H,J){$.onload=function(){H($.result)},$.onerror=function(){J($.error)}})}function v($){var H=new FileReader,J=b(H);return H.readAsArrayBuffer($),J}function _($){var H=new FileReader,J=b(H);return H.readAsText($),J}function w($){for(var H=new Uint8Array($),J=new Array(H.length),Y=0;Y<H.length;Y++)J[Y]=String.fromCharCode(H[Y]);return J.join("")}function S($){if($.slice)return $.slice(0);var H=new Uint8Array($.byteLength);return H.set(new Uint8Array($)),H.buffer}function E(){return this.bodyUsed=!1,this._initBody=function($){this.bodyUsed=this.bodyUsed,this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:l.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:l.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:l.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():l.arrayBuffer&&l.blob&&c($)?(this._bodyArrayBuffer=S($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||f($))?this._bodyArrayBuffer=S($):this._bodyText=$=Object.prototype.toString.call($):this._bodyText="",this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var $=g(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var $=g(this);return $||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var $=g(this);if($)return $;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function C($){var H=$.toUpperCase();return x.indexOf(H)>-1?H:$}function I($,H){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');H=H||{};var J=H.body;if($ instanceof I){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,H.headers||(this.headers=new y($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!J&&$._bodyInit!=null&&(J=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=H.credentials||this.credentials||"same-origin",(H.headers||!this.headers)&&(this.headers=new y(H.headers)),this.method=C(H.method||this.method||"GET"),this.mode=H.mode||this.mode||null,this.signal=H.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&J)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(J),(this.method==="GET"||this.method==="HEAD")&&(H.cache==="no-store"||H.cache==="no-cache")){var Y=/([?&])_=[^&]*/;if(Y.test(this.url))this.url=this.url.replace(Y,"$1_="+new Date().getTime());else{var de=/\?/;this.url+=(de.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function P($){var H=new FormData;return $.trim().split("&").forEach(function(J){if(J){var Y=J.split("="),de=Y.shift().replace(/\+/g," "),Te=Y.join("=").replace(/\+/g," ");H.append(decodeURIComponent(de),decodeURIComponent(Te))}}),H}function L($){var H=new y,J=$.replace(/\r?\n[\t ]+/g," ");return J.split("\r").map(function(Y){return Y.indexOf(`
`)===0?Y.substr(1,Y.length):Y}).forEach(function(Y){var de=Y.split(":"),Te=de.shift().trim();if(Te){var De=de.join(":").trim();H.append(Te,De)}}),H}E.call(I.prototype);function D($,H){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');H||(H={}),this.type="default",this.status=H.status===void 0?200:H.status,this.ok=this.status>=200&&this.status<300,this.statusText=H.statusText===void 0?"":""+H.statusText,this.headers=new y(H.headers),this.url=H.url||"",this._initBody($)}E.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},D.error=function(){var $=new D(null,{status:0,statusText:""});return $.type="error",$};var V=[301,302,303,307,308];D.redirect=function($,H){if(V.indexOf(H)===-1)throw new RangeError("Invalid status code");return new D(null,{status:H,headers:{location:$}})},o.DOMException=u.DOMException;try{new o.DOMException}catch{o.DOMException=function(H,J){this.message=H,this.name=J;var Y=Error(H);this.stack=Y.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function k($,H){return new Promise(function(J,Y){var de=new I($,H);if(de.signal&&de.signal.aborted)return Y(new o.DOMException("Aborted","AbortError"));var Te=new XMLHttpRequest;function De(){Te.abort()}Te.onload=function(){var le={status:Te.status,statusText:Te.statusText,headers:L(Te.getAllResponseHeaders()||"")};le.url="responseURL"in Te?Te.responseURL:le.headers.get("X-Request-URL");var ue="response"in Te?Te.response:Te.responseText;setTimeout(function(){J(new D(ue,le))},0)},Te.onerror=function(){setTimeout(function(){Y(new TypeError("Network request failed"))},0)},Te.ontimeout=function(){setTimeout(function(){Y(new TypeError("Network request failed"))},0)},Te.onabort=function(){setTimeout(function(){Y(new o.DOMException("Aborted","AbortError"))},0)};function Ve(le){try{return le===""&&u.location.href?u.location.href:le}catch{return le}}Te.open(de.method,Ve(de.url),!0),de.credentials==="include"?Te.withCredentials=!0:de.credentials==="omit"&&(Te.withCredentials=!1),"responseType"in Te&&(l.blob?Te.responseType="blob":l.arrayBuffer&&de.headers.get("Content-Type")&&de.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(Te.responseType="arraybuffer")),H&&typeof H.headers=="object"&&!(H.headers instanceof y)?Object.getOwnPropertyNames(H.headers).forEach(function(le){Te.setRequestHeader(le,p(H.headers[le]))}):de.headers.forEach(function(le,ue){Te.setRequestHeader(ue,le)}),de.signal&&(de.signal.addEventListener("abort",De),Te.onreadystatechange=function(){Te.readyState===4&&de.signal.removeEventListener("abort",De)}),Te.send(typeof de._bodyInit>"u"?null:de._bodyInit)})}return k.polyfill=!0,u.fetch||(u.fetch=k,u.Headers=y,u.Request=I,u.Response=D),o.Headers=y,o.Request=I,o.Response=D,o.fetch=k,o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=r.fetch?r:n;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t}(ov,ov.exports)),ov.exports}var c$;function WY(){if(c$)return G0;c$=1,Object.defineProperty(G0,"__esModule",{value:!0}),G0.QuadDestinationPatchSparqlUpdate=void 0;const e=Ko(),t=MD(),r=Vb(),n=Lt;let a=class{constructor(o,u,l){this.url=o,this.context=u,this.mediatorHttp=l}insert(o){return this.wrapSparqlUpdateRequest("INSERT",o)}async delete(o){return this.wrapSparqlUpdateRequest("DELETE",o)}async wrapSparqlUpdateRequest(o,u){const l=u.map(h=>{let p=`${(0,r.termToString)(h.subject)} ${(0,r.termToString)(h.predicate)} ${(0,r.termToString)(h.object)} .`;return h.graph.termType==="DefaultGraph"?p=`  ${p}
`:p=`  GRAPH ${(0,r.termToString)(h.graph)} { ${p} }
`,p}).prepend([`${o} DATA {
`]).append(["}"]),c=new n.Readable;c.wrap(l);const d=new t.Headers({"content-type":"application/sparql-update"}),f=await this.mediatorHttp.mediate({context:this.context,init:{headers:d,method:"PATCH",body:e.ActorHttp.toWebReadableStream(c)},input:this.url});await(0,e.validateAndCloseHttpResponse)(this.url,f)}async deleteGraphs(o,u,l){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}async createGraphs(o,u){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}};return G0.QuadDestinationPatchSparqlUpdate=a,G0}var l$;function pIe(){if(l$)return Q0;l$=1,Object.defineProperty(Q0,"__esModule",{value:!0}),Q0.ActorRdfUpdateHypermediaPatchSparqlUpdate=void 0;const e=jD(),t=WY();let r=class extends e.ActorRdfUpdateHypermedia{constructor(a){super(a,"patchSparqlUpdate")}async testMetadata(a){if(!a.forceDestinationType&&!a.metadata.patchSparqlUpdate)throw new Error(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`);if(!a.forceDestinationType&&!a.exists)throw new Error(`Actor ${this.name} can only patch a destination that already exists.`);return!0}async run(a){return this.logInfo(a.context,`Identified as patchSparqlUpdate destination: ${a.url}`),{destination:new t.QuadDestinationPatchSparqlUpdate(a.url,a.context,this.mediatorHttp)}}};return Q0.ActorRdfUpdateHypermediaPatchSparqlUpdate=r,Q0}var d$;function yIe(){return d$||(d$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(pIe(),e),r(WY(),e)}(SO)),SO}var EO={},W0={},K0={},f$;function KY(){if(f$)return K0;f$=1,Object.defineProperty(K0,"__esModule",{value:!0}),K0.QuadDestinationPutLdp=void 0;const e=Ko(),t=MD();let r=class{constructor(a,s,o,u,l,c){this.url=a,this.context=s,this.mediaTypes=o,this.mediatorHttp=u,this.mediatorRdfSerializeMediatypes=l,this.mediatorRdfSerialize=c}insert(a){return this.wrapRdfUpdateRequest("INSERT",a)}async delete(a){throw new Error("Put-based LDP destinations don't support deletions")}async wrapRdfUpdateRequest(a,s){const{mediaTypes:o}=await this.mediatorRdfSerializeMediatypes.mediate({context:this.context,mediaTypes:!0}),u=this.mediaTypes.filter(h=>h in o),l=u.length>0?u[0]:Object.keys(o).sort((h,p)=>o[p]-o[h])[0],{handle:{data:c}}=await this.mediatorRdfSerialize.mediate({context:this.context,handle:{quadStream:s,context:this.context},handleMediaType:l}),d=new t.Headers({"content-type":l}),f=await this.mediatorHttp.mediate({context:this.context,init:{headers:d,method:"PUT",body:e.ActorHttp.toWebReadableStream(c)},input:this.url});await(0,e.validateAndCloseHttpResponse)(this.url,f)}async deleteGraphs(a,s,o){throw new Error("Put-based LDP destinations don't support named graphs")}async createGraphs(a,s){throw new Error("Put-based LDP destinations don't support named graphs")}};return K0.QuadDestinationPutLdp=r,K0}var h$;function mIe(){if(h$)return W0;h$=1,Object.defineProperty(W0,"__esModule",{value:!0}),W0.ActorRdfUpdateHypermediaPutLdp=void 0;const e=jD(),t=KY();let r=class extends e.ActorRdfUpdateHypermedia{constructor(a){super(a,"putLdp")}async testMetadata(a){if(!a.forceDestinationType){if(!a.metadata.allowHttpMethods||!a.metadata.allowHttpMethods.includes("PUT"))throw new Error(`Actor ${this.name} could not detect a destination with 'Allow: PUT' header.`);if(a.exists)throw new Error(`Actor ${this.name} can only put on a destination that does not already exists.`)}return!0}async run(a){return this.logInfo(a.context,`Identified as putLdp destination: ${a.url}`),{destination:new t.QuadDestinationPutLdp(a.url,a.context,a.metadata.putAccepted||[],this.mediatorHttp,this.mediatorRdfSerializeMediatypes,this.mediatorRdfSerialize)}}};return W0.ActorRdfUpdateHypermediaPutLdp=r,W0}var p$;function gIe(){return p$||(p$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(mIe(),e),r(KY(),e)}(EO)),EO}var AO={},J0={},X0={},OO={},Y0={},RO={},Z0={},y$;function _Ie(){if(y$)return Z0;y$=1,Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.SparqlXmlParser=void 0;const e=xt,t=mY(),r=Lt;let n=class{constructor(s){s=s||{},this.dataFactory=s.dataFactory||new e.DataFactory,this.prefixVariableQuestionMark=!!s.prefixVariableQuestionMark}parseXmlResultsStream(s){const o=_=>v.emit("error",_);s.on("error",o);const u=new t.SaxesParser,l=[];let c=!1,d=!1;const f=[];let h={},p="",m="",y,g="",b=[];u.on("error",o),u.on("opentag",_=>{_.name==="variable"&&this.stackEquals(l,["sparql","head"])?f.push(this.dataFactory.variable(_.attributes.name)):_.name==="results"&&this.stackEquals(l,["sparql"])?d=!0:_.name==="result"&&this.stackEquals(l,["sparql","results"])?h={}:_.name==="binding"&&this.stackEquals(l,["sparql","results","result"])?(p=_.attributes.name||"",m="",y="",g="",b=[]):_.name==="triple"&&this.stackBeginsWith(l,["sparql","results","result"])?b.push({components:{}}):l[l.length-1]==="triple"&&this.stackBeginsWith(l,["sparql","results","result","binding"])?(m="",y="",g="",["subject","predicate","object"].includes(_.name)?b[b.length-1].currentComponent=_.name:o(new Error(`Illegal quoted triple component '${_.name}' found on line ${u.line+1}`))):this.stackBeginsWith(l,["sparql","results","result","binding"])&&(m=_.name,"xml:lang"in _.attributes?y=_.attributes["xml:lang"]:"datatype"in _.attributes?y=this.dataFactory.namedNode(_.attributes.datatype):y=void 0),l.push(_.name)}),u.on("closetag",_=>{if(this.stackEquals(l,["sparql","head"])&&(v.emit("variables",f),c=!0),this.stackEquals(l,["sparql","results","result"])&&v.push(h),this.stackBeginsWith(l,["sparql","results","result","binding"])){let w;if(!p&&m)o(new Error(`Terms should have a name on line ${u.line+1}`));else if(m==="uri")w=this.dataFactory.namedNode(g);else if(m==="bnode")w=this.dataFactory.blankNode(g);else if(m==="literal")w=this.dataFactory.literal(g,y);else if(l[l.length-1]==="triple"){const S=b.pop();S&&S.components.subject&&S.components.predicate&&S.components.object?w=this.dataFactory.quad(S.components.subject,S.components.predicate,S.components.object):o(new Error(`Incomplete quoted triple on line ${u.line+1}`))}else m&&o(new Error(`Invalid term type '${m}' on line ${u.line+1}`));if(w)if(b.length>0){const S=b[b.length-1];S.components[S.currentComponent]&&o(new Error(`The ${S.currentComponent} in a quoted triple on line ${u.line+1} was already defined before`)),S.components[S.currentComponent]=w}else{const S=this.prefixVariableQuestionMark?"?"+p:p;h[S]=w}m=void 0}l.pop()}),u.on("text",_=>{this.stackBeginsWith(l,["sparql","results","result","binding"])&&l[l.length-1]===m&&(g=_)});const v=s.on("end",_=>{d?c||v.emit("variables",[]):v.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new r.Transform({objectMode:!0,transform(_,w,S){u.write(_),S()}}));return v}parseXmlBooleanStream(s){return new Promise((o,u)=>{const l=new t.SaxesParser,c=[];l.on("error",u),l.on("opentag",d=>{c.push(d.name)}),l.on("closetag",d=>{c.pop()}),l.on("text",d=>{this.stackEquals(c,["sparql","boolean"])&&o(d==="true")}),s.on("error",u).on("data",d=>l.write(d)).on("end",()=>u(new Error("No valid ASK response was found.")))})}stackEquals(s,o){return s.length===o.length&&s.every((u,l)=>o[l]===u)}stackBeginsWith(s,o){return s.length>=o.length&&o.every((u,l)=>s[l]===u)}};return Z0.SparqlXmlParser=n,Z0}var m$;function bIe(){return m$||(m$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(_Ie(),e)}(RO)),RO}var ey={},g$;function vIe(){if(g$)return ey;g$=1,Object.defineProperty(ey,"__esModule",{value:!0}),ey.ReadableWebToNodeStream=void 0;const e=Lt;class t extends e.Readable{constructor(n){super(),this.bytesRead=0,this.released=!1,this.reader=n.getReader()}async _read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read();const n=await this.pendingRead;delete this.pendingRead,n.done||this.released?this.push(null):(this.bytesRead+=n.value.length,this.push(n.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}return ey.ReadableWebToNodeStream=t,ey}var _$;function wIe(){if(_$)return Y0;_$=1,Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.SparqlEndpointFetcher=void 0,bD();const e=_c,t=iY(),r=bIe(),n=Oc(),a=vIe(),s=Wo,o=jY();let u=class Nu{constructor(c){c=c||{},this.method=c.method||"POST",this.additionalUrlParams=c.additionalUrlParams||new URLSearchParams,this.defaultHeaders=c.defaultHeaders||new Headers,this.fetchCb=c.fetch,this.sparqlJsonParser=new t.SparqlJsonParser(c),this.sparqlXmlParser=new r.SparqlXmlParser(c),this.sparqlParsers={[Nu.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:d=>this.sparqlJsonParser.parseJsonBooleanStream(d),parseResultsStream:d=>this.sparqlJsonParser.parseJsonResultsStream(d)},[Nu.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:d=>this.sparqlXmlParser.parseXmlBooleanStream(d),parseResultsStream:d=>this.sparqlXmlParser.parseXmlResultsStream(d)}},this.timeout=c.timeout}getQueryType(c){const d=new e.Parser({sparqlStar:!0}).parse(c);return d.type==="query"?d.queryType==="DESCRIBE"?"CONSTRUCT":d.queryType:"UNKNOWN"}getUpdateTypes(c){const d=new e.Parser({sparqlStar:!0}).parse(c);if(d.type==="update"){const f={};for(const h of d.updates)"type"in h?f[h.type]=!0:f[h.updateType]=!0;return f}else return"UNKNOWN"}async fetchBindings(c,d){const[f,h]=await this.fetchRawStream(c,d,Nu.CONTENTTYPE_SPARQL),p=this.sparqlParsers[f];if(!p)throw new Error("Unknown SPARQL results content type: "+f);return p.parseResultsStream(h)}async fetchAsk(c,d){const[f,h]=await this.fetchRawStream(c,d,Nu.CONTENTTYPE_SPARQL),p=this.sparqlParsers[f];if(!p)throw new Error("Unknown SPARQL results content type: "+f);return p.parseBooleanStream(h)}async fetchTriples(c,d){return(await this.fetchRawStream(c,d,Nu.CONTENTTYPE_TURTLE))[1].pipe(new s.StreamParser({format:Nu.CONTENTTYPE_TURTLE}))}async fetchUpdate(c,d){const f=globalThis.AbortController||await Promise.resolve().then(()=>Ul()),h=new f,p={};this.defaultHeaders.forEach((y,g)=>{p[g]=y});const m={method:"POST",headers:Object.assign(Object.assign({},p),{"content-type":"application/sparql-update"}),body:d,signal:h.signal};await this.handleFetchCall(c,m,{ignoreBody:!0}),h.abort()}async fetchRawStream(c,d,f){let h=this.method==="POST"?c:c+"?query="+encodeURIComponent(d);const p=new Headers(this.defaultHeaders);let m;return p.append("Accept",f),this.method==="POST"?(p.append("Content-Type","application/x-www-form-urlencoded"),m=new URLSearchParams,m.set("query",d),this.additionalUrlParams.forEach((y,g)=>{m.set(g,y)}),p.append("Content-Length",m.toString().length.toString())):this.additionalUrlParams.toString()!==""&&(h+=`&${this.additionalUrlParams.toString()}`),this.handleFetchCall(h,{headers:p,method:this.method,body:m})}async handleFetchCall(c,d,f={}){let h;if(this.timeout){const g=new AbortController;d.signal=g.signal,h=setTimeout(()=>g.abort(),this.timeout)}const p=await(this.fetchCb||fetch)(c,d);clearTimeout(h);let m;f.ignoreBody||(m=o(p.body)?p.body:new a.ReadableWebToNodeStream(p.body));let y=p.headers.get("Content-Type")||"";if(y.indexOf(";")>0&&(y=y.substr(0,y.indexOf(";"))),!p.ok){const g=/^[^?]*/u.exec(c)[0];let b="empty response";throw m&&(b=await n(m)),new Error(`Invalid SPARQL endpoint response from ${g} (HTTP status ${p.status}):
${b}`)}return[y,m]}};return u.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",u.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",u.CONTENTTYPE_SPARQL=`${u.CONTENTTYPE_SPARQL_JSON};q=1.0,${u.CONTENTTYPE_SPARQL_XML};q=0.7`,u.CONTENTTYPE_TURTLE="text/turtle",Y0.SparqlEndpointFetcher=u,Y0}var b$;function JY(){return b$||(b$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(wIe(),e)}(OO)),OO}var v$;function XY(){if(v$)return X0;v$=1,Object.defineProperty(X0,"__esModule",{value:!0}),X0.QuadDestinationSparql=void 0;const e=JY(),t=Vb(),r=Oc();let n=class{constructor(s,o,u){this.url=s,this.context=o,this.mediatorHttp=u,this.endpointFetcher=new e.SparqlEndpointFetcher({fetch:(l,c)=>this.mediatorHttp.mediate({input:l,init:c,context:this.context}),prefixVariableQuestionMark:!0})}insert(s){return this.wrapSparqlUpdateRequest("INSERT",s)}async delete(s){return this.wrapSparqlUpdateRequest("DELETE",s)}async wrapSparqlUpdateRequest(s,o){const u=o.map(c=>{let d=`${(0,t.termToString)(c.subject)} ${(0,t.termToString)(c.predicate)} ${(0,t.termToString)(c.object)} .`;return c.graph.termType==="DefaultGraph"?d=`  ${d}
`:d=`  GRAPH ${(0,t.termToString)(c.graph)} { ${d} }
`,d}).prepend([`${s} DATA {
`]).append(["}"]),l=await r(u);await this.endpointFetcher.fetchUpdate(this.url,l)}async deleteGraphs(s,o,u){const l=Array.isArray(s)?s:[s],c=[];for(const d of l){let f;typeof d=="string"?f=d:d.termType==="DefaultGraph"?f="DEFAULT":f=`GRAPH <${d.value}>`,c.push(`${u?"DROP":"CLEAR"} ${o?"":"SILENT "}${f}`)}await this.endpointFetcher.fetchUpdate(this.url,c.join("; "))}async createGraphs(s,o){const u=[];for(const l of s)u.push(`CREATE${o?"":" SILENT"} GRAPH <${l.value}>`);await this.endpointFetcher.fetchUpdate(this.url,u.join("; "))}};return X0.QuadDestinationSparql=n,X0}var w$;function SIe(){if(w$)return J0;w$=1,Object.defineProperty(J0,"__esModule",{value:!0}),J0.ActorRdfUpdateHypermediaSparql=void 0;const e=jD(),t=XY();let r=class extends e.ActorRdfUpdateHypermedia{constructor(a){super(a,"sparql")}async testMetadata(a){if(!a.forceDestinationType&&!a.metadata.sparqlService&&!(this.checkUrlSuffixSparql&&a.url.endsWith("/sparql"))&&!(this.checkUrlSuffixUpdate&&a.url.endsWith("/update")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql or /update.`);return!0}async run(a){return this.logInfo(a.context,`Identified as sparql destination: ${a.url}`),{destination:new t.QuadDestinationSparql(a.metadata.sparqlService||a.url,a.context,this.mediatorHttp)}}};return J0.ActorRdfUpdateHypermediaSparql=r,J0}var S$;function TIe(){return S$||(S$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(SIe(),e),r(XY(),e)}(AO)),AO}var xO={},ty={},T$;function EIe(){if(T$)return ty;T$=1,Object.defineProperty(ty,"__esModule",{value:!0}),ty.ActorQueryOperationAsk=void 0;const e=Ot();let t=class extends e.ActorQueryOperationTypedMediated{constructor(n){super(n,"ask")}async testOperation(n,a){return!0}async runOperation(n,a){const s=await this.mediatorQueryOperation.mediate({operation:n.input,context:a}),{bindingsStream:o}=e.ActorQueryOperation.getSafeBindings(s);return{type:"boolean",execute:async()=>(await o.take(1).toArray()).length===1}}};return ty.ActorQueryOperationAsk=t,ty}var E$;function AIe(){return E$||(E$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(EIe(),e)}(xO)),xO}var IO={},ry={},A$;function OIe(){if(A$)return ry;A$=1,Object.defineProperty(ry,"__esModule",{value:!0}),ry.ActorQueryOperationBgpJoin=void 0;const e=Ot(),t=Nt();let r=class YY extends e.ActorQueryOperationTypedMediated{constructor(a){super(a,"bgp")}async testOperation(a,s){return!0}async runOperation(a,s){return this.mediatorQueryOperation.mediate({operation:YY.FACTORY.createJoin(a.patterns),context:s})}};return ry.ActorQueryOperationBgpJoin=r,r.FACTORY=new t.Factory,ry}var O$;function RIe(){return O$||(O$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(OIe(),e)}(IO)),IO}var PO={},ny={},R$;function xIe(){if(R$)return ny;R$=1,Object.defineProperty(ny,"__esModule",{value:!0}),ny.ActorQueryOperationDistinctHash=void 0;const e=Ot();let t=class extends e.ActorQueryOperationTypedMediated{constructor(n){super(n,"distinct")}async testOperation(n,a){return!0}async runOperation(n,a){const s=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:n.input,context:a}));return{type:"bindings",bindingsStream:s.bindingsStream.filter(await this.newHashFilter(a)),metadata:s.metadata}}async newHashFilter(n){const{hashFunction:a}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:n}),s={};return o=>{const u=a(o);return!(u in s)&&(s[u]=!0)}}};return ny.ActorQueryOperationDistinctHash=t,ny}var x$;function IIe(){return x$||(x$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(xIe(),e)}(PO)),PO}var NO={},iy={},ay={},I$;function ZY(){if(I$)return ay;I$=1,Object.defineProperty(ay,"__esModule",{value:!0}),ay.BindingsToQuadsIterator=void 0;const e=$t(),t=xt,r=Sn(),n=new t.DataFactory;let a=class Zg extends e.MultiTransformIterator{constructor(o,u){super(u,{autoStart:!1}),this.template=o,this.blankNodeCounter=0}static bindTerm(o,u){return u.termType==="Variable"?o.get(u):u}static bindQuad(o,u){try{return(0,r.mapTermsNested)(u,l=>{const c=Zg.bindTerm(o,l);if(!c)throw new Error("Unbound term");return c})}catch{}}static localizeBlankNode(o,u){return u.termType==="BlankNode"?n.blankNode(`${u.value}${o}`):u}static localizeQuad(o,u){return(0,r.mapTermsNested)(u,l=>Zg.localizeBlankNode(o,l))}bindTemplate(o,u,l){return u.map(Zg.localizeQuad.bind(null,l)).map(d=>Zg.bindQuad.bind(null,o)(d)).filter(Boolean)}_createTransformer(o){return new e.ArrayIterator(this.bindTemplate(o,this.template,this.blankNodeCounter++),{autoStart:!1})}};return ay.BindingsToQuadsIterator=a,ay}var P$;function PIe(){if(P$)return iy;P$=1,Object.defineProperty(iy,"__esModule",{value:!0}),iy.ActorQueryOperationConstruct=void 0;const e=Ot(),t=Sn(),r=Nt(),n=ZY();let a=class eZ extends e.ActorQueryOperationTypedMediated{constructor(o){super(o,"construct")}static getVariables(o){return(0,t.uniqTerms)([].concat.apply([],o.map(u=>(0,t.getVariables)((0,t.getTermsNested)(u)))))}async testOperation(o,u){return!0}async runOperation(o,u){const l=eZ.getVariables(o.template),c={type:r.Algebra.types.PROJECT,input:o.input,variables:l},d=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:c,context:u})),f=new n.BindingsToQuadsIterator(o.template,d.bindingsStream);return{metadata:()=>d.metadata().then(p=>({...p,order:void 0,cardinality:{type:p.cardinality.type,value:p.cardinality.value*o.template.length},canContainUndefs:!1,availableOrders:void 0})),quadStream:f,type:"quads"}}};return iy.ActorQueryOperationConstruct=a,iy}var N$;function tZ(){return N$||(N$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(PIe(),e),r(ZY(),e)}(NO)),NO}var DO={},sy={},D$;function NIe(){if(D$)return sy;D$=1,Object.defineProperty(sy,"__esModule",{value:!0}),sy.ActorQueryOperationFromQuad=void 0;const e=Ot(),t=Nt();let r=class br extends e.ActorQueryOperationTypedMediated{constructor(a){super(a,"from")}static copyOperation(a,s){const o={};for(const u of Object.keys(a))Array.isArray(a[u])&&u!=="template"?u==="variables"?o[u]=a[u]:o[u]=a[u].map(s):br.ALGEBRA_TYPES.includes(a[u].type)?o[u]=s(a[u]):o[u]=a[u];return o}static applyOperationDefaultGraph(a,s){if(a.type==="bgp"&&a.patterns.length>0||a.type==="path"||a.type==="pattern"){if(a.type==="bgp")return br.joinOperations(a.patterns.map(u=>{if(u.graph.termType!=="DefaultGraph")return br.FACTORY.createBgp([u]);const l=s.map(c=>br.FACTORY.createBgp([Object.assign(br.FACTORY.createPattern(u.subject,u.predicate,u.object,c),{metadata:u.metadata})]));return br.unionOperations(l)}));if(a.graph.termType!=="DefaultGraph")return a;const o=s.map(u=>a.type==="path"?br.FACTORY.createPath(a.subject,a.predicate,a.object,u):Object.assign(br.FACTORY.createPattern(a.subject,a.predicate,a.object,u),{metadata:a.metadata}));return br.unionOperations(o)}return br.copyOperation(a,o=>this.applyOperationDefaultGraph(o,s))}static applyOperationNamedGraph(a,s,o){if(a.type==="bgp"&&a.patterns.length>0||a.type==="path"||a.type==="pattern"){const u=a.type==="bgp"?a.patterns[0].graph:a.graph;if(u.termType==="DefaultGraph")return{type:t.Algebra.types.BGP,patterns:[]};if(u.termType==="Variable"){if(s.length===1){const c=s[0],d={};d[`?${u.value}`]=c;const f=br.FACTORY.createValues([u],[d]);let h;return a.type==="bgp"?h=br.FACTORY.createBgp(a.patterns.map(p=>br.FACTORY.createPattern(p.subject,p.predicate,p.object,c))):a.type==="path"?h=br.FACTORY.createPath(a.subject,a.predicate,a.object,c):h=br.FACTORY.createPattern(a.subject,a.predicate,a.object,c),br.FACTORY.createJoin([f,h])}return br.unionOperations(s.map(c=>br.applyOperationNamedGraph(a,[c],o)))}return[...s,...o].some(c=>c.equals(u))?a:{type:t.Algebra.types.BGP,patterns:[]}}return br.copyOperation(a,u=>this.applyOperationNamedGraph(u,s,o))}static joinOperations(a){if(a.length===1)return a[0];if(a.length>1)return br.FACTORY.createJoin(a);throw new Error("A join can only be applied on at least one operation")}static unionOperations(a){if(a.length===1)return a[0];if(a.length>1)return br.FACTORY.createUnion(a);throw new Error("A union can only be applied on at least one operation")}static createOperation(a){let s=a.input;return a.default.length>0&&(s=br.applyOperationDefaultGraph(s,a.default)),(a.named.length>0||a.default.length>0)&&(s=br.applyOperationNamedGraph(s,a.named,a.default)),s}async testOperation(a,s){return!0}async runOperation(a,s){const o=br.createOperation(a);return this.mediatorQueryOperation.mediate({operation:o,context:s})}};return sy.ActorQueryOperationFromQuad=r,r.FACTORY=new t.Factory,r.ALGEBRA_TYPES=Object.keys(t.Algebra.types).map(n=>t.Algebra.types[n]),sy}var C$;function DIe(){return C$||(C$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(NIe(),e)}(DO)),DO}var CO={},oy={},L$;function CIe(){if(L$)return oy;L$=1,Object.defineProperty(oy,"__esModule",{value:!0}),oy.ActorQueryOperationProject=void 0;const e=Ot(),t=lD(),r=xt,n=new r.DataFactory;let a=class extends e.ActorQueryOperationTypedMediated{constructor(o){super(o,"project")}async testOperation(o,u){return!0}async runOperation(o,u){const l=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:o.input,context:u})),c=await l.metadata(),d=o.variables,f=c.variables.filter(y=>!d.some(g=>y.value===g.value)),h=d.filter(y=>!c.variables.some(g=>y.value===g.value));if(h.length>0)throw new Error(`Variables '${h.map(y=>`?${y.value}`)}' are used in the projection result, but are not assigned.`);let p=f.length===0?l.bindingsStream:l.bindingsStream.map(y=>{for(const g of f)y=y.delete(g);return y}),m=0;return p=p.map(y=>{m++;const g=new Map;return y.map(b=>{if(b instanceof t.BlankNodeBindingsScoped){let v=g.get(b.value);return v||(v=n.blankNode(`${b.value}${m}`),g.set(b.value,v)),v}return b})}),{type:"bindings",bindingsStream:p,metadata:async()=>({...c,variables:d})}}};return oy.ActorQueryOperationProject=a,oy}var j$;function LIe(){return j$||(j$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(CIe(),e)}(CO)),CO}var LO={},uy={},cy={},M$;function Xo(){var h,p,y,g,b,v,_,w,S,E,x,C,I,P,L,D,V,k,$,H,J,Y,de,Te,De,MI,le,ue,Ie,Ne,we,rZ,Se,z,M,B,fo,O,ho,G,FI,Z,ie,Bv,he,$v,ve,vr,Ee,qI,Fe,e_;if(M$)return cy;M$=1,Object.defineProperty(cy,"__esModule",{value:!0}),cy.LRUCache=void 0;const e=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,r=typeof qs=="object"&&qs?qs:{},n=(K,j,q,W)=>{typeof r.emitWarning=="function"?r.emitWarning(K,j,q,W):console.error(`[${q}] ${j}: ${K}`)};let a=globalThis.AbortController,s=globalThis.AbortSignal;if(typeof a>"u"){s=class{constructor(){Pr(this,"onabort");Pr(this,"_onabort",[]);Pr(this,"reason");Pr(this,"aborted",!1)}addEventListener(W,re){this._onabort.push(re)}},a=class{constructor(){Pr(this,"signal",new s);j()}abort(W){var re,pe;if(!this.signal.aborted){this.signal.reason=W,this.signal.aborted=!0;for(const ge of this.signal._onabort)ge(W);(pe=(re=this.signal).onabort)==null||pe.call(re,W)}}};let K=((h=r.env)==null?void 0:h.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const j=()=>{K&&(K=!1,n("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",j))}}const o=K=>!t.has(K),u=K=>K&&K===Math.floor(K)&&K>0&&isFinite(K),l=K=>u(K)?K<=Math.pow(2,8)?Uint8Array:K<=Math.pow(2,16)?Uint16Array:K<=Math.pow(2,32)?Uint32Array:K<=Number.MAX_SAFE_INTEGER?c:null:null;class c extends Array{constructor(j){super(j),this.fill(0)}}const m=class m{constructor(j,q){Pr(this,"heap");Pr(this,"length");if(!be(m,p))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new q(j),this.length=0}static create(j){const q=l(j);if(!q)return[];Et(m,p,!0);const W=new m(j,q);return Et(m,p,!1),W}push(j){this.heap[this.length++]=j}pop(){return this.heap[--this.length]}};p=new WeakMap,Ft(m,p,!1);let d=m;const ke=class ke{constructor(j){Ft(this,De);Ft(this,we);Ft(this,B);Ft(this,O);Ft(this,G);Ft(this,ie);Ft(this,he);Ft(this,ve);Ft(this,Ee);Ft(this,Fe);Ft(this,y,void 0);Ft(this,g,void 0);Ft(this,b,void 0);Ft(this,v,void 0);Ft(this,_,void 0);Pr(this,"ttl");Pr(this,"ttlResolution");Pr(this,"ttlAutopurge");Pr(this,"updateAgeOnGet");Pr(this,"updateAgeOnHas");Pr(this,"allowStale");Pr(this,"noDisposeOnSet");Pr(this,"noUpdateTTL");Pr(this,"maxEntrySize");Pr(this,"sizeCalculation");Pr(this,"noDeleteOnFetchRejection");Pr(this,"noDeleteOnStaleGet");Pr(this,"allowStaleOnFetchAbort");Pr(this,"allowStaleOnFetchRejection");Pr(this,"ignoreFetchAbort");Ft(this,w,void 0);Ft(this,S,void 0);Ft(this,E,void 0);Ft(this,x,void 0);Ft(this,C,void 0);Ft(this,I,void 0);Ft(this,P,void 0);Ft(this,L,void 0);Ft(this,D,void 0);Ft(this,V,void 0);Ft(this,k,void 0);Ft(this,$,void 0);Ft(this,H,void 0);Ft(this,J,void 0);Ft(this,Y,void 0);Ft(this,de,void 0);Ft(this,Te,void 0);Ft(this,le,()=>{});Ft(this,ue,()=>{});Ft(this,Ie,()=>{});Ft(this,Ne,()=>!1);Ft(this,Se,j=>{});Ft(this,z,(j,q,W)=>{});Ft(this,M,(j,q,W,re)=>{if(W||re)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Pr(this,Z,"LRUCache");const{max:q=0,ttl:W,ttlResolution:re=1,ttlAutopurge:pe,updateAgeOnGet:ge,updateAgeOnHas:qe,allowStale:ee,dispose:Oe,disposeAfter:je,noDisposeOnSet:Be,noUpdateTTL:Ye,maxSize:ct=0,maxEntrySize:ft=0,sizeCalculation:ot,fetchMethod:mt,noDeleteOnFetchRejection:ne,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:R,allowStaleOnFetchAbort:F,ignoreFetchAbort:X}=j;if(q!==0&&!u(q))throw new TypeError("max option must be a nonnegative integer");const me=q?l(q):Array;if(!me)throw new Error("invalid max value: "+q);if(Et(this,y,q),Et(this,g,ct),this.maxEntrySize=ft||be(this,g),this.sizeCalculation=ot,this.sizeCalculation){if(!be(this,g)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(mt!==void 0&&typeof mt!="function")throw new TypeError("fetchMethod must be a function if specified");if(Et(this,_,mt),Et(this,de,!!mt),Et(this,E,new Map),Et(this,x,new Array(q).fill(void 0)),Et(this,C,new Array(q).fill(void 0)),Et(this,I,new me(q)),Et(this,P,new me(q)),Et(this,L,0),Et(this,D,0),Et(this,V,d.create(q)),Et(this,w,0),Et(this,S,0),typeof Oe=="function"&&Et(this,b,Oe),typeof je=="function"?(Et(this,v,je),Et(this,k,[])):(Et(this,v,void 0),Et(this,k,void 0)),Et(this,Y,!!be(this,b)),Et(this,Te,!!be(this,v)),this.noDisposeOnSet=!!Be,this.noUpdateTTL=!!Ye,this.noDeleteOnFetchRejection=!!ne,this.allowStaleOnFetchRejection=!!R,this.allowStaleOnFetchAbort=!!F,this.ignoreFetchAbort=!!X,this.maxEntrySize!==0){if(be(this,g)!==0&&!u(be(this,g)))throw new TypeError("maxSize must be a positive integer if specified");if(!u(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");_t(this,we,rZ).call(this)}if(this.allowStale=!!ee,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!ge,this.updateAgeOnHas=!!qe,this.ttlResolution=u(re)||re===0?re:1,this.ttlAutopurge=!!pe,this.ttl=W||0,this.ttl){if(!u(this.ttl))throw new TypeError("ttl must be a positive integer if specified");_t(this,De,MI).call(this)}if(be(this,y)===0&&this.ttl===0&&be(this,g)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!be(this,y)&&!be(this,g)){const ye="LRU_CACHE_UNBOUNDED";o(ye)&&(t.add(ye),n("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",ye,ke))}}static unsafeExposeInternals(j){return{starts:be(j,H),ttls:be(j,J),sizes:be(j,$),keyMap:be(j,E),keyList:be(j,x),valList:be(j,C),next:be(j,I),prev:be(j,P),get head(){return be(j,L)},get tail(){return be(j,D)},free:be(j,V),isBackgroundFetch:q=>{var W;return _t(W=j,ve,vr).call(W,q)},backgroundFetch:(q,W,re,pe)=>{var ge;return _t(ge=j,he,$v).call(ge,q,W,re,pe)},moveToTail:q=>{var W;return _t(W=j,Fe,e_).call(W,q)},indexes:q=>{var W;return _t(W=j,B,fo).call(W,q)},rindexes:q=>{var W;return _t(W=j,O,ho).call(W,q)},isStale:q=>{var W;return be(W=j,Ne).call(W,q)}}}get max(){return be(this,y)}get maxSize(){return be(this,g)}get calculatedSize(){return be(this,S)}get size(){return be(this,w)}get fetchMethod(){return be(this,_)}get dispose(){return be(this,b)}get disposeAfter(){return be(this,v)}getRemainingTTL(j){return be(this,E).has(j)?1/0:0}*entries(){for(const j of _t(this,B,fo).call(this))be(this,C)[j]!==void 0&&be(this,x)[j]!==void 0&&!_t(this,ve,vr).call(this,be(this,C)[j])&&(yield[be(this,x)[j],be(this,C)[j]])}*rentries(){for(const j of _t(this,O,ho).call(this))be(this,C)[j]!==void 0&&be(this,x)[j]!==void 0&&!_t(this,ve,vr).call(this,be(this,C)[j])&&(yield[be(this,x)[j],be(this,C)[j]])}*keys(){for(const j of _t(this,B,fo).call(this)){const q=be(this,x)[j];q!==void 0&&!_t(this,ve,vr).call(this,be(this,C)[j])&&(yield q)}}*rkeys(){for(const j of _t(this,O,ho).call(this)){const q=be(this,x)[j];q!==void 0&&!_t(this,ve,vr).call(this,be(this,C)[j])&&(yield q)}}*values(){for(const j of _t(this,B,fo).call(this))be(this,C)[j]!==void 0&&!_t(this,ve,vr).call(this,be(this,C)[j])&&(yield be(this,C)[j])}*rvalues(){for(const j of _t(this,O,ho).call(this))be(this,C)[j]!==void 0&&!_t(this,ve,vr).call(this,be(this,C)[j])&&(yield be(this,C)[j])}[Symbol.iterator](){return this.entries()}find(j,q={}){for(const W of _t(this,B,fo).call(this)){const re=be(this,C)[W],pe=_t(this,ve,vr).call(this,re)?re.__staleWhileFetching:re;if(pe!==void 0&&j(pe,be(this,x)[W],this))return this.get(be(this,x)[W],q)}}forEach(j,q=this){for(const W of _t(this,B,fo).call(this)){const re=be(this,C)[W],pe=_t(this,ve,vr).call(this,re)?re.__staleWhileFetching:re;pe!==void 0&&j.call(q,pe,be(this,x)[W],this)}}rforEach(j,q=this){for(const W of _t(this,O,ho).call(this)){const re=be(this,C)[W],pe=_t(this,ve,vr).call(this,re)?re.__staleWhileFetching:re;pe!==void 0&&j.call(q,pe,be(this,x)[W],this)}}purgeStale(){let j=!1;for(const q of _t(this,O,ho).call(this,{allowStale:!0}))be(this,Ne).call(this,q)&&(this.delete(be(this,x)[q]),j=!0);return j}info(j){const q=be(this,E).get(j);if(q===void 0)return;const W=be(this,C)[q],re=_t(this,ve,vr).call(this,W)?W.__staleWhileFetching:W;if(re===void 0)return;const pe={value:re};if(be(this,J)&&be(this,H)){const ge=be(this,J)[q],qe=be(this,H)[q];if(ge&&qe){const ee=ge-(e.now()-qe);pe.ttl=ee,pe.start=Date.now()}}return be(this,$)&&(pe.size=be(this,$)[q]),pe}dump(){const j=[];for(const q of _t(this,B,fo).call(this,{allowStale:!0})){const W=be(this,x)[q],re=be(this,C)[q],pe=_t(this,ve,vr).call(this,re)?re.__staleWhileFetching:re;if(pe===void 0||W===void 0)continue;const ge={value:pe};if(be(this,J)&&be(this,H)){ge.ttl=be(this,J)[q];const qe=e.now()-be(this,H)[q];ge.start=Math.floor(Date.now()-qe)}be(this,$)&&(ge.size=be(this,$)[q]),j.unshift([W,ge])}return j}load(j){this.clear();for(const[q,W]of j){if(W.start){const re=Date.now()-W.start;W.start=e.now()-re}this.set(q,W.value,W)}}set(j,q,W={}){var Ye,ct,ft,ot,mt;if(q===void 0)return this.delete(j),this;const{ttl:re=this.ttl,start:pe,noDisposeOnSet:ge=this.noDisposeOnSet,sizeCalculation:qe=this.sizeCalculation,status:ee}=W;let{noUpdateTTL:Oe=this.noUpdateTTL}=W;const je=be(this,M).call(this,j,q,W.size||0,qe);if(this.maxEntrySize&&je>this.maxEntrySize)return ee&&(ee.set="miss",ee.maxEntrySizeExceeded=!0),this.delete(j),this;let Be=be(this,w)===0?void 0:be(this,E).get(j);if(Be===void 0)Be=be(this,w)===0?be(this,D):be(this,V).length!==0?be(this,V).pop():be(this,w)===be(this,y)?_t(this,ie,Bv).call(this,!1):be(this,w),be(this,x)[Be]=j,be(this,C)[Be]=q,be(this,E).set(j,Be),be(this,I)[be(this,D)]=Be,be(this,P)[Be]=be(this,D),Et(this,D,Be),d1(this,w)._++,be(this,z).call(this,Be,je,ee),ee&&(ee.set="add"),Oe=!1;else{_t(this,Fe,e_).call(this,Be);const ne=be(this,C)[Be];if(q!==ne){if(be(this,de)&&_t(this,ve,vr).call(this,ne)){ne.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:A}=ne;A!==void 0&&!ge&&(be(this,Y)&&((Ye=be(this,b))==null||Ye.call(this,A,j,"set")),be(this,Te)&&((ct=be(this,k))==null||ct.push([A,j,"set"])))}else ge||(be(this,Y)&&((ft=be(this,b))==null||ft.call(this,ne,j,"set")),be(this,Te)&&((ot=be(this,k))==null||ot.push([ne,j,"set"])));if(be(this,Se).call(this,Be),be(this,z).call(this,Be,je,ee),be(this,C)[Be]=q,ee){ee.set="replace";const A=ne&&_t(this,ve,vr).call(this,ne)?ne.__staleWhileFetching:ne;A!==void 0&&(ee.oldValue=A)}}else ee&&(ee.set="update")}if(re!==0&&!be(this,J)&&_t(this,De,MI).call(this),be(this,J)&&(Oe||be(this,Ie).call(this,Be,re,pe),ee&&be(this,ue).call(this,ee,Be)),!ge&&be(this,Te)&&be(this,k)){const ne=be(this,k);let A;for(;A=ne==null?void 0:ne.shift();)(mt=be(this,v))==null||mt.call(this,...A)}return this}pop(){var j;try{for(;be(this,w);){const q=be(this,C)[be(this,L)];if(_t(this,ie,Bv).call(this,!0),_t(this,ve,vr).call(this,q)){if(q.__staleWhileFetching)return q.__staleWhileFetching}else if(q!==void 0)return q}}finally{if(be(this,Te)&&be(this,k)){const q=be(this,k);let W;for(;W=q==null?void 0:q.shift();)(j=be(this,v))==null||j.call(this,...W)}}}has(j,q={}){const{updateAgeOnHas:W=this.updateAgeOnHas,status:re}=q,pe=be(this,E).get(j);if(pe!==void 0){const ge=be(this,C)[pe];if(_t(this,ve,vr).call(this,ge)&&ge.__staleWhileFetching===void 0)return!1;if(be(this,Ne).call(this,pe))re&&(re.has="stale",be(this,ue).call(this,re,pe));else return W&&be(this,le).call(this,pe),re&&(re.has="hit",be(this,ue).call(this,re,pe)),!0}else re&&(re.has="miss");return!1}peek(j,q={}){const{allowStale:W=this.allowStale}=q,re=be(this,E).get(j);if(re===void 0||!W&&be(this,Ne).call(this,re))return;const pe=be(this,C)[re];return _t(this,ve,vr).call(this,pe)?pe.__staleWhileFetching:pe}async fetch(j,q={}){const{allowStale:W=this.allowStale,updateAgeOnGet:re=this.updateAgeOnGet,noDeleteOnStaleGet:pe=this.noDeleteOnStaleGet,ttl:ge=this.ttl,noDisposeOnSet:qe=this.noDisposeOnSet,size:ee=0,sizeCalculation:Oe=this.sizeCalculation,noUpdateTTL:je=this.noUpdateTTL,noDeleteOnFetchRejection:Be=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Ye=this.allowStaleOnFetchRejection,ignoreFetchAbort:ct=this.ignoreFetchAbort,allowStaleOnFetchAbort:ft=this.allowStaleOnFetchAbort,context:ot,forceRefresh:mt=!1,status:ne,signal:A}=q;if(!be(this,de))return ne&&(ne.fetch="get"),this.get(j,{allowStale:W,updateAgeOnGet:re,noDeleteOnStaleGet:pe,status:ne});const R={allowStale:W,updateAgeOnGet:re,noDeleteOnStaleGet:pe,ttl:ge,noDisposeOnSet:qe,size:ee,sizeCalculation:Oe,noUpdateTTL:je,noDeleteOnFetchRejection:Be,allowStaleOnFetchRejection:Ye,allowStaleOnFetchAbort:ft,ignoreFetchAbort:ct,status:ne,signal:A};let F=be(this,E).get(j);if(F===void 0){ne&&(ne.fetch="miss");const X=_t(this,he,$v).call(this,j,F,R,ot);return X.__returned=X}else{const X=be(this,C)[F];if(_t(this,ve,vr).call(this,X)){const Ke=W&&X.__staleWhileFetching!==void 0;return ne&&(ne.fetch="inflight",Ke&&(ne.returnedStale=!0)),Ke?X.__staleWhileFetching:X.__returned=X}const me=be(this,Ne).call(this,F);if(!mt&&!me)return ne&&(ne.fetch="hit"),_t(this,Fe,e_).call(this,F),re&&be(this,le).call(this,F),ne&&be(this,ue).call(this,ne,F),X;const ye=_t(this,he,$v).call(this,j,F,R,ot),Me=ye.__staleWhileFetching!==void 0&&W;return ne&&(ne.fetch=me?"stale":"refresh",Me&&me&&(ne.returnedStale=!0)),Me?ye.__staleWhileFetching:ye.__returned=ye}}get(j,q={}){const{allowStale:W=this.allowStale,updateAgeOnGet:re=this.updateAgeOnGet,noDeleteOnStaleGet:pe=this.noDeleteOnStaleGet,status:ge}=q,qe=be(this,E).get(j);if(qe!==void 0){const ee=be(this,C)[qe],Oe=_t(this,ve,vr).call(this,ee);return ge&&be(this,ue).call(this,ge,qe),be(this,Ne).call(this,qe)?(ge&&(ge.get="stale"),Oe?(ge&&W&&ee.__staleWhileFetching!==void 0&&(ge.returnedStale=!0),W?ee.__staleWhileFetching:void 0):(pe||this.delete(j),ge&&W&&(ge.returnedStale=!0),W?ee:void 0)):(ge&&(ge.get="hit"),Oe?ee.__staleWhileFetching:(_t(this,Fe,e_).call(this,qe),re&&be(this,le).call(this,qe),ee))}else ge&&(ge.get="miss")}delete(j){var W,re,pe,ge;let q=!1;if(be(this,w)!==0){const qe=be(this,E).get(j);if(qe!==void 0)if(q=!0,be(this,w)===1)this.clear();else{be(this,Se).call(this,qe);const ee=be(this,C)[qe];if(_t(this,ve,vr).call(this,ee)?ee.__abortController.abort(new Error("deleted")):(be(this,Y)||be(this,Te))&&(be(this,Y)&&((W=be(this,b))==null||W.call(this,ee,j,"delete")),be(this,Te)&&((re=be(this,k))==null||re.push([ee,j,"delete"]))),be(this,E).delete(j),be(this,x)[qe]=void 0,be(this,C)[qe]=void 0,qe===be(this,D))Et(this,D,be(this,P)[qe]);else if(qe===be(this,L))Et(this,L,be(this,I)[qe]);else{const Oe=be(this,P)[qe];be(this,I)[Oe]=be(this,I)[qe];const je=be(this,I)[qe];be(this,P)[je]=be(this,P)[qe]}d1(this,w)._--,be(this,V).push(qe)}}if(be(this,Te)&&((pe=be(this,k))!=null&&pe.length)){const qe=be(this,k);let ee;for(;ee=qe==null?void 0:qe.shift();)(ge=be(this,v))==null||ge.call(this,...ee)}return q}clear(){var j,q,W;for(const re of _t(this,O,ho).call(this,{allowStale:!0})){const pe=be(this,C)[re];if(_t(this,ve,vr).call(this,pe))pe.__abortController.abort(new Error("deleted"));else{const ge=be(this,x)[re];be(this,Y)&&((j=be(this,b))==null||j.call(this,pe,ge,"delete")),be(this,Te)&&((q=be(this,k))==null||q.push([pe,ge,"delete"]))}}if(be(this,E).clear(),be(this,C).fill(void 0),be(this,x).fill(void 0),be(this,J)&&be(this,H)&&(be(this,J).fill(0),be(this,H).fill(0)),be(this,$)&&be(this,$).fill(0),Et(this,L,0),Et(this,D,0),be(this,V).length=0,Et(this,S,0),Et(this,w,0),be(this,Te)&&be(this,k)){const re=be(this,k);let pe;for(;pe=re==null?void 0:re.shift();)(W=be(this,v))==null||W.call(this,...pe)}}};Z=Symbol.toStringTag,y=new WeakMap,g=new WeakMap,b=new WeakMap,v=new WeakMap,_=new WeakMap,w=new WeakMap,S=new WeakMap,E=new WeakMap,x=new WeakMap,C=new WeakMap,I=new WeakMap,P=new WeakMap,L=new WeakMap,D=new WeakMap,V=new WeakMap,k=new WeakMap,$=new WeakMap,H=new WeakMap,J=new WeakMap,Y=new WeakMap,de=new WeakMap,Te=new WeakMap,De=new WeakSet,MI=function(){const j=new c(be(this,y)),q=new c(be(this,y));Et(this,J,j),Et(this,H,q),Et(this,Ie,(pe,ge,qe=e.now())=>{if(q[pe]=ge!==0?qe:0,j[pe]=ge,ge!==0&&this.ttlAutopurge){const ee=setTimeout(()=>{be(this,Ne).call(this,pe)&&this.delete(be(this,x)[pe])},ge+1);ee.unref&&ee.unref()}}),Et(this,le,pe=>{q[pe]=j[pe]!==0?e.now():0}),Et(this,ue,(pe,ge)=>{if(j[ge]){const qe=j[ge],ee=q[ge];if(!qe||!ee)return;pe.ttl=qe,pe.start=ee,pe.now=W||re();const Oe=pe.now-ee;pe.remainingTTL=qe-Oe}});let W=0;const re=()=>{const pe=e.now();if(this.ttlResolution>0){W=pe;const ge=setTimeout(()=>W=0,this.ttlResolution);ge.unref&&ge.unref()}return pe};this.getRemainingTTL=pe=>{const ge=be(this,E).get(pe);if(ge===void 0)return 0;const qe=j[ge],ee=q[ge];if(!qe||!ee)return 1/0;const Oe=(W||re())-ee;return qe-Oe},Et(this,Ne,pe=>{const ge=q[pe],qe=j[pe];return!!qe&&!!ge&&(W||re())-ge>qe})},le=new WeakMap,ue=new WeakMap,Ie=new WeakMap,Ne=new WeakMap,we=new WeakSet,rZ=function(){const j=new c(be(this,y));Et(this,S,0),Et(this,$,j),Et(this,Se,q=>{Et(this,S,be(this,S)-j[q]),j[q]=0}),Et(this,M,(q,W,re,pe)=>{if(_t(this,ve,vr).call(this,W))return 0;if(!u(re))if(pe){if(typeof pe!="function")throw new TypeError("sizeCalculation must be a function");if(re=pe(W,q),!u(re))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return re}),Et(this,z,(q,W,re)=>{if(j[q]=W,be(this,g)){const pe=be(this,g)-j[q];for(;be(this,S)>pe;)_t(this,ie,Bv).call(this,!0)}Et(this,S,be(this,S)+j[q]),re&&(re.entrySize=W,re.totalCalculatedSize=be(this,S))})},Se=new WeakMap,z=new WeakMap,M=new WeakMap,B=new WeakSet,fo=function*({allowStale:j=this.allowStale}={}){if(be(this,w))for(let q=be(this,D);!(!_t(this,G,FI).call(this,q)||((j||!be(this,Ne).call(this,q))&&(yield q),q===be(this,L)));)q=be(this,P)[q]},O=new WeakSet,ho=function*({allowStale:j=this.allowStale}={}){if(be(this,w))for(let q=be(this,L);!(!_t(this,G,FI).call(this,q)||((j||!be(this,Ne).call(this,q))&&(yield q),q===be(this,D)));)q=be(this,I)[q]},G=new WeakSet,FI=function(j){return j!==void 0&&be(this,E).get(be(this,x)[j])===j},ie=new WeakSet,Bv=function(j){var pe,ge;const q=be(this,L),W=be(this,x)[q],re=be(this,C)[q];return be(this,de)&&_t(this,ve,vr).call(this,re)?re.__abortController.abort(new Error("evicted")):(be(this,Y)||be(this,Te))&&(be(this,Y)&&((pe=be(this,b))==null||pe.call(this,re,W,"evict")),be(this,Te)&&((ge=be(this,k))==null||ge.push([re,W,"evict"]))),be(this,Se).call(this,q),j&&(be(this,x)[q]=void 0,be(this,C)[q]=void 0,be(this,V).push(q)),be(this,w)===1?(Et(this,L,Et(this,D,0)),be(this,V).length=0):Et(this,L,be(this,I)[q]),be(this,E).delete(W),d1(this,w)._--,q},he=new WeakSet,$v=function(j,q,W,re){const pe=q===void 0?void 0:be(this,C)[q];if(_t(this,ve,vr).call(this,pe))return pe;const ge=new a,{signal:qe}=W;qe==null||qe.addEventListener("abort",()=>ge.abort(qe.reason),{signal:ge.signal});const ee={signal:ge.signal,options:W,context:re},Oe=(ot,mt=!1)=>{const{aborted:ne}=ge.signal,A=W.ignoreFetchAbort&&ot!==void 0;if(W.status&&(ne&&!mt?(W.status.fetchAborted=!0,W.status.fetchError=ge.signal.reason,A&&(W.status.fetchAbortIgnored=!0)):W.status.fetchResolved=!0),ne&&!A&&!mt)return Be(ge.signal.reason);const R=ct;return be(this,C)[q]===ct&&(ot===void 0?R.__staleWhileFetching?be(this,C)[q]=R.__staleWhileFetching:this.delete(j):(W.status&&(W.status.fetchUpdated=!0),this.set(j,ot,ee.options))),ot},je=ot=>(W.status&&(W.status.fetchRejected=!0,W.status.fetchError=ot),Be(ot)),Be=ot=>{const{aborted:mt}=ge.signal,ne=mt&&W.allowStaleOnFetchAbort,A=ne||W.allowStaleOnFetchRejection,R=A||W.noDeleteOnFetchRejection,F=ct;if(be(this,C)[q]===ct&&(!R||F.__staleWhileFetching===void 0?this.delete(j):ne||(be(this,C)[q]=F.__staleWhileFetching)),A)return W.status&&F.__staleWhileFetching!==void 0&&(W.status.returnedStale=!0),F.__staleWhileFetching;if(F.__returned===F)throw ot},Ye=(ot,mt)=>{var A;const ne=(A=be(this,_))==null?void 0:A.call(this,j,pe,ee);ne&&ne instanceof Promise&&ne.then(R=>ot(R===void 0?void 0:R),mt),ge.signal.addEventListener("abort",()=>{(!W.ignoreFetchAbort||W.allowStaleOnFetchAbort)&&(ot(void 0),W.allowStaleOnFetchAbort&&(ot=R=>Oe(R,!0)))})};W.status&&(W.status.fetchDispatched=!0);const ct=new Promise(Ye).then(Oe,je),ft=Object.assign(ct,{__abortController:ge,__staleWhileFetching:pe,__returned:void 0});return q===void 0?(this.set(j,ft,{...ee.options,status:void 0}),q=be(this,E).get(j)):be(this,C)[q]=ft,ft},ve=new WeakSet,vr=function(j){if(!be(this,de))return!1;const q=j;return!!q&&q instanceof Promise&&q.hasOwnProperty("__staleWhileFetching")&&q.__abortController instanceof a},Ee=new WeakSet,qI=function(j,q){be(this,P)[q]=j,be(this,I)[j]=q},Fe=new WeakSet,e_=function(j){j!==be(this,D)&&(j===be(this,L)?Et(this,L,be(this,I)[j]):_t(this,Ee,qI).call(this,be(this,P)[j],be(this,I)[j]),_t(this,Ee,qI).call(this,be(this,D),j),Et(this,D,j))};let f=ke;return cy.LRUCache=f,cy}var F$;function jIe(){if(F$)return uy;F$=1,Object.defineProperty(uy,"__esModule",{value:!0}),uy.ActorQueryOperationReducedHash=void 0;const e=Ot(),t=Xo();let r=class extends e.ActorQueryOperationTypedMediated{constructor(a){super(a,"reduced")}async testOperation(a,s){return!0}async runOperation(a,s){const o=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a.input,context:s}));return{type:"bindings",bindingsStream:o.bindingsStream.filter(await this.newHashFilter(s)),metadata:o.metadata}}async newHashFilter(a){const{hashFunction:s}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:a}),o=new t.LRUCache({max:this.cacheSize});return u=>{const l=s(u);return o.has(l)?!1:(o.set(l,!0),!0)}}};return uy.ActorQueryOperationReducedHash=r,uy}var q$;function MIe(){return q$||(q$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(jIe(),e)}(LO)),LO}var jO={},ly={},B$;function FIe(){if(B$)return ly;B$=1,Object.defineProperty(ly,"__esModule",{value:!0}),ly.ActorQueryOperationSlice=void 0;const e=Ot(),t=kt;let r=class extends e.ActorQueryOperationTypedMediated{constructor(a){super(a,"slice")}async testOperation(a,s){return!0}async runOperation(a,s){a.length&&(s=s.set(t.KeysQueryOperation.limitIndicator,a.length));const o=await this.mediatorQueryOperation.mediate({operation:a.input,context:s});if(o.type==="bindings")return{type:"bindings",bindingsStream:this.sliceStream(o.bindingsStream,a),metadata:this.sliceMetadata(o,a)};if(o.type==="quads")return{type:"quads",quadStream:this.sliceStream(o.quadStream,a),metadata:this.sliceMetadata(o,a)};throw new Error(`Invalid query output type: Expected 'bindings' or 'quads' but got '${o.type}'`)}sliceStream(a,s){const o=!!s.length||s.length===0,{start:u}=s,l=o?s.start+s.length-1:Number.POSITIVE_INFINITY;return a.transform({offset:u,limit:Math.max(l-u+1,0),autoStart:!1})}sliceMetadata(a,s){const o=!!s.length||s.length===0;return()=>a.metadata().then(u=>{const l={...u.cardinality};return Number.isFinite(l.value)&&(l.value=Math.max(0,l.value-s.start),o&&(l.value=Math.min(l.value,s.length))),{...u,cardinality:l}})}};return ly.ActorQueryOperationSlice=r,ly}var $$;function qIe(){return $$||($$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(FIe(),e)}(jO)),jO}var MO={},dy={},U$;function BIe(){if(U$)return dy;U$=1,Object.defineProperty(dy,"__esModule",{value:!0}),dy.ActorQueryOperationUnion=void 0;const e=Ot(),t=ai(),r=$t(),n=Sn();let a=class Uv extends e.ActorQueryOperationTypedMediated{constructor(o){super(o,"union")}static unionVariables(o){return(0,n.uniqTerms)(o.flat())}static async unionMetadata(o,u,l,c){let d=(await c.mediate({mode:"initialize",context:l})).metadata;for(const h of o)d={...h,...(await c.mediate({mode:"append",accumulatedMetadata:d,appendingMetadata:h,context:l})).metadata};d.state=new t.MetadataValidationState;const f=()=>d.state.invalidate();for(const h of o)h.state.addInvalidateListener(f);return u&&(d.variables=Uv.unionVariables(o.map(h=>h.variables))),d}async testOperation(o,u){return!0}async runOperation(o,u){const l=await Promise.all(o.input.map(d=>this.mediatorQueryOperation.mediate({operation:d,context:u})));let c;for(const d of l)if(c===void 0)c=d.type;else if(c!==d.type)throw new Error(`Unable to union ${c} and ${d.type}`);if(c==="bindings"||o.input.length===0){const d=l.map(e.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new r.UnionIterator(d.map(p=>p.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(d.map(p=>p.metadata())).then(p=>Uv.unionMetadata(p,!0,u,this.mediatorRdfMetadataAccumulate))}}if(c==="quads"){const d=l.map(e.ActorQueryOperation.getSafeQuads);return{type:"quads",quadStream:new r.UnionIterator(d.map(p=>p.quadStream),{autoStart:!1}),metadata:()=>Promise.all(d.map(p=>p.metadata())).then(p=>Uv.unionMetadata(p,!1,u,this.mediatorRdfMetadataAccumulate))}}throw new Error(`Unable to union ${c}`)}};return dy.ActorQueryOperationUnion=a,dy}var k$;function nZ(){return k$||(k$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(BIe(),e)}(MO)),MO}var FO={},fy={},qO={},hy={},py={},V$;function iZ(){if(V$)return py;V$=1,Object.defineProperty(py,"__esModule",{value:!0}),py.PathVariableObjectIterator=void 0;const e=Ot(),t=$t(),r=xt,n=rr,a=Nt(),s=new r.DataFactory,o=new a.Factory;let u=class extends t.BufferedIterator{constructor(c,d,f,h,p,m,y=16){super({autoStart:!0}),this.subject=c,this.predicate=d,this.graph=f,this.context=h,this.mediatorQueryOperation=p,this.maxRunningOperations=y,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this._push(this.subject,m)}_end(c){for(const d of this.runningOperations)d.destroy();super._end(c)}_push(c,d=!0){let f;if(d&&(f=(0,n.termToString)(c),this.termHashes.has(f)))return;const h=s.variable("b");this.pendingOperations.push({variable:h,operation:o.createPath(c,this.predicate,h,this.graph)}),f&&(this.termHashes.set(f,c),super._push(c))}_read(c,d){const f=this;(async function(){for(;f.runningOperations.length<f.maxRunningOperations&&f.pendingOperations.length!==0;){const m=f.pendingOperations.pop(),y=e.ActorQueryOperation.getSafeBindings(await f.mediatorQueryOperation.mediate({operation:m.operation,context:f.context})),g=y.bindingsStream.transform({autoStart:!1,transform(b,v,_){const w=b.get(m.variable);_(w),v()}});g.done||(f.runningOperations.push(g),g.on("error",b=>f.destroy(b)),g.on("readable",()=>{f.readable=!0,f._fillBufferAsync()}),g.on("end",()=>{f.runningOperations.splice(f.runningOperations.indexOf(g),1),f.readable=!0,f._fillBufferAsync()})),f.setProperty("metadata",y.metadata)}let h=0,p;for(;h!==(h=c);)for(let m=0;m<f.runningOperations.length&&c>0;m++)(p=f.runningOperations[m].read())!==null&&(c--,f._push(p));f.runningOperations.length===0&&f.pendingOperations.length===0&&f.close()})().then(()=>{d()},h=>this.destroy(h))}};return py.PathVariableObjectIterator=u,py}var H$;function $Ie(){if(H$)return hy;H$=1,Object.defineProperty(hy,"__esModule",{value:!0}),hy.ActorAbstractPath=void 0;const e=Ot(),t=kt,r=$t(),n=xt,a=rr,s=Nt(),o=iZ(),u=new n.DataFactory;let l=class Es extends e.ActorQueryOperationTypedMediated{constructor(d,f){super(d,"path"),this.predicateType=f}async testOperation(d,f){if(d.predicate.type!==this.predicateType)throw new Error(`This Actor only supports ${this.predicateType} Path operations.`);return!0}generateVariable(d,f){return f?d&&(d.subject.value===f||d.object.value===f)?this.generateVariable(d,`${f}b`):u.variable(f):this.generateVariable(d,"b")}async isPathArbitraryLengthDistinct(d,f){return d.get(t.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(d=d.set(t.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:d,operation:void 0}):(d=d.set(t.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:d,operation:e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:Es.FACTORY.createDistinct(f),context:d}))})}async predicateStarGraphVariable(d,f,h,p,m,y){const g=this.getPathSources(h),b=this.generateVariable(Es.FACTORY.createPath(d,h,f,p)),v=Es.FACTORY.createUnion([this.assignPatternSources(Es.FACTORY.createPattern(d,b,f,p),g),this.assignPatternSources(Es.FACTORY.createPattern(f,b,d,p),g)]),_=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:m,operation:v})),w=new Set;return{bindingsStream:new r.MultiTransformIterator(_.bindingsStream,{multiTransform:E=>{const x=E.get(p);return w.has(x.value)?new r.EmptyIterator:(w.add(x.value),new r.TransformIterator(async()=>{const C=new r.BufferedIterator;return await this.getObjectsPredicateStar(d,h,x,m,{},C,{count:0}),C.transform({transform(I,P,L){L(y.bindings([[f,I],[p,x]])),P()}})},{maxBufferSize:128}))},autoStart:!1}),metadata:_.metadata}}async getObjectsPredicateStarEval(d,f,h,p,m,y,g){if(p.termType==="Variable")return this.predicateStarGraphVariable(d,h,f,p,m,g);const b=new o.PathVariableObjectIterator(d,f,p,m,this.mediatorQueryOperation,y);return{bindingsStream:b.transform({autoStart:!1,transform(_,w,S){S(g.bindings([[h,_]])),w()}}),async metadata(){const _=await new Promise(w=>{b.getProperty("metadata",S=>w(S()))});return _.cardinality.value++,_}}}async getObjectsPredicateStar(d,f,h,p,m,y,g){const b=(0,a.termToString)(d);if(m[b])return;y._push(d),m[b]=d,g.count++;const v=this.generateVariable(),_=Es.FACTORY.createPath(d,f,v,h),w=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:_,context:p}));return w.bindingsStream.on("data",async S=>{const E=S.get(v);await this.getObjectsPredicateStar(E,f,h,p,m,y,g)}),w.bindingsStream.on("end",()=>{--g.count===0&&y.close()}),w.metadata}async getSubjectAndObjectBindingsPredicateStar(d,f,h,p,m,y,g,b,v,_,w,S){const E=(0,a.termToString)(p)+(0,a.termToString)(y);if(v[E])return;if(w.count++,v[E]=!0,_._push(S.bindings([[d,h],[f,p]])),E in b){const C=await b[E];for(const I of C)await this.getSubjectAndObjectBindingsPredicateStar(d,f,h,I,m,y,g,b,v,_,w,S);--w.count===0&&_.close();return}const x=new Promise(async(C,I)=>{const P=[],L=this.generateVariable(),D=Es.FACTORY.createPath(p,m,L,y),V=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:D,context:g}));V.bindingsStream.on("data",async k=>{const $=k.get(L);P.push($),await this.getSubjectAndObjectBindingsPredicateStar(d,f,h,$,m,y,g,b,v,_,w,S)}),V.bindingsStream.on("error",I),V.bindingsStream.on("end",()=>{--w.count===0&&_.close(),C(P)})});b[E]=x}getPathSources(d){switch(d.type){case s.Algebra.types.ALT:case s.Algebra.types.SEQ:return d.input.flatMap(f=>this.getPathSources(f));case s.Algebra.types.INV:case s.Algebra.types.ONE_OR_MORE_PATH:case s.Algebra.types.ZERO_OR_MORE_PATH:case s.Algebra.types.ZERO_OR_ONE_PATH:return this.getPathSources(d.path);case s.Algebra.types.LINK:case s.Algebra.types.NPS:{const f=e.ActorQueryOperation.getOperationSource(d);if(!f)throw new Error("Could not find a required source on a link path operation");return[f]}}}assignPatternSources(d,f){if(f.length===0)throw new Error("Attempted to assign zero sources to a pattern during property path handling");return f.length===1?e.ActorQueryOperation.assignOperationSource(d,f[0]):Es.FACTORY.createUnion(f.map(h=>e.ActorQueryOperation.assignOperationSource(d,h)),!0)}};return hy.ActorAbstractPath=l,l.FACTORY=new s.Factory,hy}var Q$;function Yo(){return Q$||(Q$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r($Ie(),e),r(iZ(),e)}(qO)),qO}var z$;function UIe(){if(z$)return fy;z$=1,Object.defineProperty(fy,"__esModule",{value:!0}),fy.ActorQueryOperationPathAlt=void 0;const e=Yo(),t=nZ(),r=Ot(),n=$t(),a=Nt();let s=class extends e.ActorAbstractPath{constructor(u){super(u,a.Algebra.types.ALT)}async runOperation(u,l){const c=u.predicate,d=(await Promise.all(c.input.map(p=>this.mediatorQueryOperation.mediate({context:l,operation:e.ActorAbstractPath.FACTORY.createPath(u.subject,p,u.object,u.graph)})))).map(r.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new n.UnionIterator(d.map(p=>p.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(d.map(p=>p.metadata())).then(p=>t.ActorQueryOperationUnion.unionMetadata(p,!0,l,this.mediatorRdfMetadataAccumulate))}}};return fy.ActorQueryOperationPathAlt=s,fy}var G$;function kIe(){return G$||(G$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(UIe(),e)}(FO)),FO}var BO={},yy={},W$;function VIe(){if(W$)return yy;W$=1,Object.defineProperty(yy,"__esModule",{value:!0}),yy.ActorQueryOperationPathInv=void 0;const e=Yo(),t=Nt();let r=class extends e.ActorAbstractPath{constructor(a){super(a,t.Algebra.types.INV)}async runOperation(a,s){const o=a.predicate,u=e.ActorAbstractPath.FACTORY.createPath(a.object,o.path,a.subject,a.graph);return this.mediatorQueryOperation.mediate({operation:u,context:s})}};return yy.ActorQueryOperationPathInv=r,yy}var K$;function HIe(){return K$||(K$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(VIe(),e)}(BO)),BO}var $O={},my={},J$;function QIe(){if(J$)return my;J$=1,Object.defineProperty(my,"__esModule",{value:!0}),my.ActorQueryOperationPathLink=void 0;const e=Yo(),t=Nt();let r=class extends e.ActorAbstractPath{constructor(a){super(a,t.Algebra.types.LINK)}async runOperation(a,s){const o=a.predicate,u=Object.assign(e.ActorAbstractPath.FACTORY.createPattern(a.subject,o.iri,a.object,a.graph),{metadata:o.metadata});return this.mediatorQueryOperation.mediate({operation:u,context:s})}};return my.ActorQueryOperationPathLink=r,my}var X$;function zIe(){return X$||(X$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(QIe(),e)}($O)),$O}var UO={},gy={},Y$;function GIe(){if(Y$)return gy;Y$=1,Object.defineProperty(gy,"__esModule",{value:!0}),gy.ActorQueryOperationPathNps=void 0;const e=Yo(),t=Ot(),r=Nt();let n=class extends e.ActorAbstractPath{constructor(s){super(s,r.Algebra.types.NPS)}async runOperation(s,o){const u=s.predicate,l=this.generateVariable(s),c=Object.assign(e.ActorAbstractPath.FACTORY.createPattern(s.subject,l,s.object,s.graph),{metadata:u.metadata}),d=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:c,context:o}));return{type:"bindings",bindingsStream:d.bindingsStream.map(h=>u.iris.some(p=>p.equals(h.get(l)))?null:h.delete(l)),metadata:d.metadata}}};return gy.ActorQueryOperationPathNps=n,gy}var Z$;function WIe(){return Z$||(Z$=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(GIe(),e)}(UO)),UO}var kO={},_y={},eU;function KIe(){if(eU)return _y;eU=1,Object.defineProperty(_y,"__esModule",{value:!0}),_y.ActorQueryOperationClear=void 0;const e=Ot(),t=xt,r=new t.DataFactory;let n=class extends e.ActorQueryOperationTypedMediated{constructor(s){super(s,"clear")}async testOperation(s,o){return e.ActorQueryOperation.throwOnReadOnly(o),!0}async runOperation(s,o){let u;s.source==="DEFAULT"?u=r.defaultGraph():typeof s.source=="string"?u=s.source:u=[s.source];const{execute:l}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:u,requireExistence:!s.silent,dropGraphs:!1},context:o});return{type:"void",execute:l}}};return _y.ActorQueryOperationClear=n,_y}var tU;function JIe(){return tU||(tU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(KIe(),e)}(kO)),kO}var VO={},by={},rU;function XIe(){if(rU)return by;rU=1,Object.defineProperty(by,"__esModule",{value:!0}),by.ActorQueryOperationUpdateCompositeUpdate=void 0;const e=Ot();let t=class extends e.ActorQueryOperationTypedMediated{constructor(n){super(n,"compositeupdate")}async testOperation(n,a){return e.ActorQueryOperation.throwOnReadOnly(a),!0}async runOperation(n,a){return{type:"void",execute:()=>(async()=>{for(const o of n.updates)await e.ActorQueryOperation.getSafeVoid(await this.mediatorQueryOperation.mediate({operation:o,context:a})).execute()})()}}};return by.ActorQueryOperationUpdateCompositeUpdate=t,by}var nU;function YIe(){return nU||(nU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(XIe(),e)}(VO)),VO}var HO={},vy={},iU;function ZIe(){if(iU)return vy;iU=1,Object.defineProperty(vy,"__esModule",{value:!0}),vy.ActorQueryOperationCreate=void 0;const e=Ot();let t=class extends e.ActorQueryOperationTypedMediated{constructor(n){super(n,"create")}async testOperation(n,a){return e.ActorQueryOperation.throwOnReadOnly(a),!0}async runOperation(n,a){const{execute:s}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[n.source],requireNonExistence:!n.silent},context:a});return{type:"void",execute:s}}};return vy.ActorQueryOperationCreate=t,vy}var aU;function ePe(){return aU||(aU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ZIe(),e)}(HO)),HO}var QO={},wy={},sU;function tPe(){if(sU)return wy;sU=1,Object.defineProperty(wy,"__esModule",{value:!0}),wy.ActorQueryOperationDrop=void 0;const e=Ot(),t=xt,r=new t.DataFactory;let n=class extends e.ActorQueryOperationTypedMediated{constructor(s){super(s,"drop")}async testOperation(s,o){return e.ActorQueryOperation.throwOnReadOnly(o),!0}async runOperation(s,o){let u;s.source==="DEFAULT"?u=r.defaultGraph():typeof s.source=="string"?u=s.source:u=[s.source];const{execute:l}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:u,requireExistence:!s.silent,dropGraphs:!0},context:o});return{type:"void",execute:l}}};return wy.ActorQueryOperationDrop=n,wy}var oU;function rPe(){return oU||(oU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(tPe(),e)}(QO)),QO}var zO={},Sy={},uU;function nPe(){if(uU)return Sy;uU=1,Object.defineProperty(Sy,"__esModule",{value:!0}),Sy.ActorQueryOperationLoad=void 0;const e=Ot(),t=kt,r=xt,n=Nt(),a=new r.DataFactory;let s=class aZ extends e.ActorQueryOperationTypedMediated{constructor(u){super(u,"load"),this.factory=new n.Factory}async testOperation(u,l){return e.ActorQueryOperation.throwOnReadOnly(l),!0}async runOperation(u,l){let c=l;u.silent&&(c=c.set(t.KeysInitQuery.lenient,!0));const{querySource:d}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:u.source.value},context:c});let h=aZ.getSafeQuads(await this.mediatorQueryOperation.mediate({operation:this.factory.createConstruct(e.ActorQueryOperation.assignOperationSource(this.factory.createPattern(a.variable("s"),a.variable("p"),a.variable("o")),d),[this.factory.createPattern(a.variable("s"),a.variable("p"),a.variable("o"))]),context:c})).quadStream;u.destination&&(h=h.map(m=>a.quad(m.subject,m.predicate,m.object,u.destination)));const{execute:p}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:h,context:l});return{type:"void",execute:p}}};return Sy.ActorQueryOperationLoad=s,Sy}var cU;function iPe(){return cU||(cU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(nPe(),e)}(zO)),zO}var GO={},Ty={},lU;function aPe(){if(lU)return Ty;lU=1,Object.defineProperty(Ty,"__esModule",{value:!0}),Ty.ActorQueryOperationJoin=void 0;const e=Ot();let t=class extends e.ActorQueryOperationTypedMediated{constructor(n){super(n,"join")}async testOperation(n,a){return!0}async runOperation(n,a){const s=(await Promise.all(n.input.map(async o=>({output:await this.mediatorQueryOperation.mediate({operation:o,context:a}),operation:o})))).map(({output:o,operation:u})=>({output:e.ActorQueryOperation.getSafeBindings(o),operation:u}));return this.mediatorJoin.mediate({type:"inner",entries:s,context:a})}};return Ty.ActorQueryOperationJoin=t,Ty}var dU;function sPe(){return dU||(dU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(aPe(),e)}(GO)),GO}var WO={},Ey={},fU;function oPe(){if(fU)return Ey;fU=1,Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.ActorQueryOperationMinus=void 0;const e=Ot();let t=class extends e.ActorQueryOperationTypedMediated{constructor(n){super(n,"minus")}async testOperation(n,a){return!0}async runOperation(n,a){const s=(await Promise.all(n.input.map(async o=>({output:await this.mediatorQueryOperation.mediate({operation:o,context:a}),operation:o})))).map(({output:o,operation:u})=>({output:e.ActorQueryOperation.getSafeBindings(o),operation:u}));return this.mediatorJoin.mediate({type:"minus",entries:s,context:a})}};return Ey.ActorQueryOperationMinus=t,Ey}var hU;function uPe(){return hU||(hU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(oPe(),e)}(WO)),WO}var KO={},Ay={},pU;function cPe(){if(pU)return Ay;pU=1,Object.defineProperty(Ay,"__esModule",{value:!0}),Ay.ActorQueryOperationPathSeq=void 0;const e=Yo(),t=Ot(),r=Nt();let n=class extends e.ActorAbstractPath{constructor(s){super(s,r.Algebra.types.SEQ)}async runOperation(s,o){const u=s.predicate;let l=s.subject;const c=[],d=await Promise.all(u.input.map((p,m)=>{const y=m===u.input.length-1?s.object:this.generateVariable(s,`b${m}`),g=e.ActorAbstractPath.FACTORY.createPath(l,p,y,s.graph),b=this.mediatorQueryOperation.mediate({context:o,operation:g});return l=y,m<u.input.length-1&&c.push(y),{output:b,operation:g}}).map(async({output:p,operation:m})=>({output:t.ActorQueryOperation.getSafeBindings(await p),operation:m}))),f=t.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:"inner",entries:d,context:o}));return{type:"bindings",bindingsStream:f.bindingsStream.transform({transform(p,m,y){for(const g of c)p=p.delete(g);y(p),m()}}),async metadata(){const p=await f.metadata(),m=p.variables.filter(y=>!c.some(g=>g.value===y.value));return{...p,variables:m}}}}};return Ay.ActorQueryOperationPathSeq=n,Ay}var yU;function lPe(){return yU||(yU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(cPe(),e)}(KO)),KO}var JO={},Oy={},mU;function dPe(){if(mU)return Oy;mU=1,Object.defineProperty(Oy,"__esModule",{value:!0}),Oy.ActorRdfJoinMultiSmallest=void 0;const e=Ot(),t=si(),r=Nt();let n=class sZ extends t.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0,canHandleUndefs:!0,isLeaf:!1})}async sortJoinEntries(s,o){return(await this.mediatorJoinEntriesSort.mediate({entries:s,context:o})).entries}async getOutput(s){const o=await this.sortJoinEntries(await t.ActorRdfJoin.getEntriesWithMetadatas([...s.entries]),s.context),u=o[0],l=o[1];o.splice(0,2);const c={output:e.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:s.type,entries:[u,l],context:s.context})),operation:sZ.FACTORY.createJoin([u.operation,l.operation],!1)};return o.push(c),{result:await this.mediatorJoin.mediate({type:s.type,entries:o,context:s.context})}}async getJoinCoefficients(s,o){o=[...o],o=(await this.sortJoinEntries(s.entries.map((d,f)=>({...d,metadata:o[f]})),s.context)).map(d=>d.metadata);const l=t.ActorRdfJoin.getRequestInitialTimes(o),c=t.ActorRdfJoin.getRequestItemTimes(o);return{iterations:o[0].cardinality.value*o[1].cardinality.value*o.slice(2).reduce((d,f)=>d*f.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:l[0]+o[0].cardinality.value*c[0]+l[1]+o[1].cardinality.value*c[1]+o.slice(2).reduce((d,f,h)=>d+l.slice(2)[h]+f.cardinality.value*c.slice(2)[h],0)}}};return Oy.ActorRdfJoinMultiSmallest=n,n.FACTORY=new r.Factory,Oy}var gU;function fPe(){return gU||(gU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(dPe(),e)}(JO)),JO}var XO={},Ry={},YO={},xy={},Iy={},_U;function oZ(){if(_U)return Iy;_U=1,Object.defineProperty(Iy,"__esModule",{value:!0}),Iy.bindingsToString=void 0;const e=rr;function t(r){const n={};for(const a of r.keys())n[a.value]=(0,e.termToString)(r.get(a));return JSON.stringify(n,null,"  ")}return Iy.bindingsToString=t,Iy}var bU;function uZ(){if(bU)return xy;bU=1,Object.defineProperty(xy,"__esModule",{value:!0}),xy.Bindings=void 0;const e=lt,t=cD,r=oZ();let n=class ji{constructor(s,o,u){this.type="bindings",this.dataFactory=s,this.entries=o,this.contextHolder=u}has(s){return this.entries.has(typeof s=="string"?s:s.value)}get(s){return this.entries.get(typeof s=="string"?s:s.value)}set(s,o){return new ji(this.dataFactory,this.entries.set(typeof s=="string"?s:s.value,o),this.contextHolder)}delete(s){return new ji(this.dataFactory,this.entries.delete(typeof s=="string"?s:s.value),this.contextHolder)}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),s=>this.dataFactory.variable(s))}values(){return this.iteratorToIterable(this.entries.values())}forEach(s){for(const[o,u]of this.entries.entries())s(u,this.dataFactory.variable(o))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([s,o])=>[this.dataFactory.variable(s),o])[Symbol.iterator]()}equals(s){var o;if(!s)return!1;if(this===s)return!0;if(this.size!==s.size)return!1;for(const u of this.keys())if(!((o=this.get(u))!=null&&o.equals(s.get(u))))return!1;return!0}filter(s){return new ji(this.dataFactory,(0,t.Map)(this.entries.filter((o,u)=>s(o,this.dataFactory.variable(u)))),this.contextHolder)}map(s){return new ji(this.dataFactory,(0,t.Map)(this.entries.map((o,u)=>s(o,this.dataFactory.variable(u)))),this.contextHolder)}merge(s){const o=new Set([...this.iteratorToIterable(this.entries.keys()),...[...s.keys()].map(l=>l.value)]),u=[];for(const l of o){const c=this.entries.get(l),d=s.get(this.dataFactory.variable(l));if(c&&d&&!c.equals(d))return;const f=c||d;u.push([l,f])}return this.createBindingsWithContexts(u,s)}mergeWith(s,o){const u=new Set([...this.iteratorToIterable(this.entries.keys()),...[...o.keys()].map(c=>c.value)]),l=[];for(const c of u){const d=this.dataFactory.variable(c),f=this.entries.get(c),h=o.get(d);let p;f&&h&&!f.equals(h)?p=s(f,h,d):p=f||h,l.push([c,p])}return this.createBindingsWithContexts(l,o)}createBindingsWithContexts(s,o){if(this.contextHolder&&this.contextHolder.context){let u=this.contextHolder.context;return"contextHolder"in o&&o.contextHolder&&o.contextHolder.context&&(u=ji.mergeContext(this.contextHolder.contextMergeHandlers,u,o.contextHolder.context)),new ji(this.dataFactory,(0,t.Map)(s),{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:u})}return new ji(this.dataFactory,(0,t.Map)(s),o.contextHolder)}static mergeContext(s,o,u){const l=[...o.keys(),...u.keys()],c={},d={},f=new Set(u.keys().map(p=>p.name)),h=o.keys().filter(p=>f.has(p.name));for(const p of l){if(d[p.name]===1)continue;d[p.name]=1;const m=h.some(y=>y.name===p.name);if(s[p.name]&&m){c[p.name]=s[p.name].run(o.get(p),u.get(p));continue}if(!(!s[p.name]&&m)){if(!o.get(p)){c[p.name]=u.get(p);continue}u.get(p)||(c[p.name]=o.get(p))}}return new e.ActionContext(c)}setContextEntry(s,o){return this.setContextEntryRaw(s,o)}setContextEntryRaw(s,o){var u;return this.contextHolder&&this.contextHolder.context?new ji(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context.set(s,o)}):new ji(this.dataFactory,this.entries,{contextMergeHandlers:((u=this.contextHolder)==null?void 0:u.contextMergeHandlers)??{},context:new e.ActionContext().set(s,o)})}deleteContextEntry(s){return this.deleteContextEntryRaw(s)}deleteContextEntryRaw(s){var o;return this.contextHolder?new ji(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:(o=this.contextHolder.context)==null?void 0:o.delete(s)}):new ji(this.dataFactory,this.entries)}getContext(){var s;return(s=this.contextHolder)==null?void 0:s.context}getContextEntry(s){var o;return(o=this.getContext())==null?void 0:o.get(s)}toString(){return(0,r.bindingsToString)(this)}*mapIterable(s,o){for(const u of s)yield o(u)}iteratorToIterable(s){return{[Symbol.iterator]:()=>s}}};return xy.Bindings=n,xy}var Py={},vU;function hPe(){if(vU)return Py;vU=1,Object.defineProperty(Py,"__esModule",{value:!0}),Py.BindingsFactory=void 0;const e=cD,t=xt,r=uZ();let n=class cZ{constructor(s=new t.DataFactory,o){this.dataFactory=s,this.contextMergeHandlers=o}static async create(s,o){return new cZ(new t.DataFactory,(await s.mediate({context:o})).mergeHandlers)}bindings(s=[]){return new r.Bindings(this.dataFactory,(0,e.Map)(s.map(([o,u])=>[o.value,u])),this.contextMergeHandlers?{contextMergeHandlers:this.contextMergeHandlers}:void 0)}fromBindings(s){return this.bindings([...s])}fromRecord(s){return this.bindings(Object.entries(s).map(([o,u])=>[this.dataFactory.variable(o),u]))}};return Py.BindingsFactory=n,Py}var wU;function Br(){return wU||(wU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(uZ(),e),r(hPe(),e),r(oZ(),e)}(YO)),YO}var SU;function pPe(){if(SU)return Ry;SU=1,Object.defineProperty(Ry,"__esModule",{value:!0}),Ry.ActorRdfJoinMultiSmallestFilterBindings=void 0;const e=Br(),t=Ot(),r=si(),n=kt,a=$t(),s=Nt();let o=class lZ extends r.ActorRdfJoin{constructor(l){super(l,{logicalType:"inner",physicalName:"multi-smallest-filter-bindings",limitEntries:2,limitEntriesMin:!0,isLeaf:!1})}async sortJoinEntries(l,c){let{entries:d}=await this.mediatorJoinEntriesSort.mediate({entries:l,context:c});d=d.sort((g,b)=>g.operationModified&&!b.operationModified?-1:0);const f=d.splice(0,1)[0];let h,p=-1,m=0;for(const[g,b]of d.entries()){const v=f.metadata.variables.filter(_=>b.metadata.variables.some(w=>_.equals(w))).length;(!h||v>m||v===m&&(b.metadata.variables.length<h.metadata.variables.length||b.metadata.variables.length===h.metadata.variables.length&&b.metadata.cardinality.value<h.metadata.cardinality.value))&&(h=b,p=g,m=v)}if(m===0)throw new Error(`Actor ${this.name} can only join with common variables`);const y=d;return y.splice(p,1),{first:f,second:h,remaining:y}}async getOutput(l){const c=await r.ActorRdfJoin.getEntriesWithMetadatas([...l.entries]),{first:d,second:f,remaining:h}=await this.sortJoinEntries(c,l.context),p=d.output.bindingsStream;d.output.bindingsStream=p.clone();const m=d.metadata.variables.filter(x=>f.metadata.variables.some(C=>x.equals(C))),y={},g=p.clone().map(x=>x.filter((C,I)=>m.some(P=>P.equals(I)))).filter(x=>{const C=(0,e.bindingsToString)(x);return!(C in y)&&(y[C]=!0)}),b=new r.ChunkedIterator(g,this.blockSize,{autoStart:!1}),v=t.ActorQueryOperation.getOperationSource(f.operation),w={output:{type:"bindings",bindingsStream:new a.UnionIterator(b.map(x=>v.source.queryBindings(f.operation,v.context?l.context.merge(v.context):l.context,{filterBindings:{bindings:x,metadata:d.metadata}}))),metadata:f.output.metadata},operation:f.operation,operationModified:!0};f.output.bindingsStream.destroy();const S={output:t.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:l.type,entries:[d,w],context:l.context.set(n.KeysRdfJoin.lastPhysicalJoin,this.physicalName)})),operation:lZ.FACTORY.createJoin([d.operation,w.operation],!1),operationModified:!0},E=h;return E.unshift(S),{result:await this.mediatorJoin.mediate({type:l.type,entries:E,context:l.context}),physicalPlanMetadata:{firstIndex:c.indexOf(d),secondIndex:c.indexOf(f)}}}async getJoinCoefficients(l,c){if(l.context.get(n.KeysRdfJoin.lastPhysicalJoin)===this.physicalName)throw new Error(`Actor ${this.name} can not be called recursively`);c=[...c];const{first:d,second:f,remaining:h}=await this.sortJoinEntries(l.entries.map((w,S)=>({...w,metadata:c[S]})),l.context),p=t.ActorQueryOperation.getOperationSource(f.operation);if(!p)throw new Error(`Actor ${this.name} can only process if entries[1] has a source`);const m=f.operation,y=await p.source.getSelectorShape(l.context);if(!t.ActorQueryOperation.doesShapeAcceptOperation(y,m,{filterBindings:!0}))throw new Error(`Actor ${this.name} can only process if entries[1] accept filterBindings`);c=[d.metadata,f.metadata,...h.map(w=>w.metadata)];const g=r.ActorRdfJoin.getRequestInitialTimes(c),b=r.ActorRdfJoin.getRequestItemTimes(c),{selectivity:v}=await this.mediatorJoinSelectivity.mediate({entries:[d,f],context:l.context}),_=h.reduce((w,S)=>w*S.metadata.cardinality.value*this.selectivityModifier,1);return{iterations:v*this.selectivityModifier*f.metadata.cardinality.value*_,persistedItems:d.metadata.cardinality.value,blockingItems:d.metadata.cardinality.value,requestTime:g[0]+c[0].cardinality.value*b[0]+g[1]+_*b[1]}}};return Ry.ActorRdfJoinMultiSmallestFilterBindings=o,o.FACTORY=new s.Factory,Ry}var TU;function yPe(){return TU||(TU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(pPe(),e)}(XO)),XO}var ZO={},Ny={},EU;function mPe(){if(EU)return Ny;EU=1,Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.ActorOptimizeQueryOperationFilterPushdown=void 0;const e=ba(),t=Sn(),r=Nt();let n=class extends e.ActorOptimizeQueryOperation{constructor(s){super(s)}async test(s){return!0}async run(s){const o=this;return{operation:r.Util.mapOperation(s.operation,{filter(l,c){const d=o.getExpressionVariables(l.expression);return{recurse:!0,result:o.filterPushdown(l.expression,d,l.input,c,s.context)}}}),context:s.context}}getExpressionVariables(s){switch(s.expressionType){case r.Algebra.expressionTypes.AGGREGATE:case r.Algebra.expressionTypes.WILDCARD:throw new Error(`Getting expression variables is not supported for ${s.expressionType}`);case r.Algebra.expressionTypes.EXISTENCE:return r.Util.inScopeVariables(s.input);case r.Algebra.expressionTypes.NAMED:return[];case r.Algebra.expressionTypes.OPERATOR:return(0,t.uniqTerms)(s.args.flatMap(o=>this.getExpressionVariables(o)));case r.Algebra.expressionTypes.TERM:return s.term.termType==="Variable"?[s.term]:[]}}getOverlappingOperations(s,o){const u=[],l=[],c=[];for(const d of s.input){const f=r.Util.inScopeVariables(d);this.variablesSubSetOf(o,f)?u.push(d):this.variablesIntersect(o,f)?l.push(d):c.push(d)}return{fullyOverlapping:u,partiallyOverlapping:l,notOverlapping:c}}filterPushdown(s,o,u,l,c){switch(u.type){case r.Algebra.types.EXTEND:return this.variablesIntersect([u.variable],o)?l.createFilter(u,s):l.createExtend(this.filterPushdown(s,o,u.input,l,c),u.variable,u.expression);case r.Algebra.types.FILTER:return l.createFilter(this.filterPushdown(s,o,u.input,l,c),u.expression);case r.Algebra.types.JOIN:{if(u.input.length===0)return l.createFilter(u,s);const{fullyOverlapping:d,partiallyOverlapping:f,notOverlapping:h}=this.getOverlappingOperations(u,o),p=[];return this.logDebug(c,`Push down filter across join entries with ${d.length} fully overlapping, ${f.length} partially overlapping, and ${h.length} not overlapping`),d.length>0&&p.push(l.createJoin(d.map(m=>this.filterPushdown(s,o,m,l,c)))),f.length>0&&p.push(l.createFilter(l.createJoin(f,!1),s)),h.length>0&&p.push(...h),p.length===1?p[0]:l.createJoin(p)}case r.Algebra.types.NOP:return u;case r.Algebra.types.PROJECT:return this.variablesIntersect(u.variables,o)?l.createProject(this.filterPushdown(s,o,u.input,l,c),u.variables):u;case r.Algebra.types.UNION:{const{fullyOverlapping:d,partiallyOverlapping:f,notOverlapping:h}=this.getOverlappingOperations(u,o),p=[];return this.logDebug(c,`Push down filter across union entries with ${d.length} fully overlapping, ${f.length} partially overlapping, and ${h.length} not overlapping`),d.length>0&&p.push(l.createUnion(d.map(m=>this.filterPushdown(s,o,m,l,c)))),f.length>0&&p.push(l.createFilter(l.createUnion(f,!1),s)),h.length>0&&p.push(...h),p.length===1?p[0]:l.createUnion(p)}case r.Algebra.types.VALUES:return this.variablesIntersect(u.variables,o)?l.createFilter(u,s):u;case r.Algebra.types.LEFT_JOIN:case r.Algebra.types.MINUS:case r.Algebra.types.ALT:case r.Algebra.types.ASK:case r.Algebra.types.BGP:case r.Algebra.types.CONSTRUCT:case r.Algebra.types.DESCRIBE:case r.Algebra.types.DISTINCT:case r.Algebra.types.EXPRESSION:case r.Algebra.types.FROM:case r.Algebra.types.GRAPH:case r.Algebra.types.GROUP:case r.Algebra.types.INV:case r.Algebra.types.LINK:case r.Algebra.types.NPS:case r.Algebra.types.ONE_OR_MORE_PATH:case r.Algebra.types.ORDER_BY:case r.Algebra.types.PATTERN:case r.Algebra.types.REDUCED:case r.Algebra.types.SEQ:case r.Algebra.types.SERVICE:case r.Algebra.types.SLICE:case r.Algebra.types.PATH:case r.Algebra.types.ZERO_OR_MORE_PATH:case r.Algebra.types.ZERO_OR_ONE_PATH:case r.Algebra.types.COMPOSITE_UPDATE:case r.Algebra.types.DELETE_INSERT:case r.Algebra.types.LOAD:case r.Algebra.types.CLEAR:case r.Algebra.types.CREATE:case r.Algebra.types.DROP:case r.Algebra.types.ADD:case r.Algebra.types.MOVE:case r.Algebra.types.COPY:return l.createFilter(u,s)}}variablesIntersect(s,o){return s.some(u=>o.some(l=>u.equals(l)))}variablesSubSetOf(s,o){return s.length<=o.length&&s.every(u=>o.some(l=>u.equals(l)))}};return Ny.ActorOptimizeQueryOperationFilterPushdown=n,Ny}var AU;function gPe(){return AU||(AU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(mPe(),e)}(ZO)),ZO}var eR={},Dy={},Su={},OU;function dZ(){if(OU)return Su;OU=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.ActorDereferenceHttpBase=Su.mediaTypesToAcceptString=void 0;const e=SD(),t=Ko(),r=MD(),n=va(),a=Oc(),s=/^[^ ;]*/u;function o(l,c){const d="*/*;q=0.1",f=[],h=Object.entries(l).map(([m,y])=>({mediaType:m,priority:y})).sort((m,y)=>y.priority===m.priority?m.mediaType.localeCompare(y.mediaType):y.priority-m.priority);let p=h.length-1;for(const{mediaType:m,priority:y}of h){const g=m+(y===1?"":`;q=${y.toFixed(3).replace(/0*$/u,"")}`);if(p+g.length>c){for(;p+d.length>c;){const b=f.pop()??"";p-=b.length+1}f.push(d);break}f.push(g),p+=g.length}return f.length===0?"*/*":f.join(",")}Su.mediaTypesToAcceptString=o;let u=class extends e.ActorDereference{constructor(c){super(c)}async test({url:c}){if(!/^https?:/u.test(c))throw new Error(`Cannot retrieve ${c} because it is not an HTTP(S) URL.`);return!0}async run(c){var b,v;let d=!0;const f=new r.Headers(c.headers);f.append("Accept",o(await((b=c.mediaTypes)==null?void 0:b.call(c))??{},this.getMaxAcceptHeaderLength()));let h;const p=Date.now();try{h=await this.mediatorHttp.mediate({context:c.context,init:{headers:f,method:c.method},input:c.url})}catch(_){return this.handleDereferenceErrors(c,_)}const m=(0,n.resolve)(h.url,c.url),y=Date.now()-p;if(h.status!==200){d=!1;const _=h.body?await a(t.ActorHttp.toNodeReadable(h.body)):"empty response";if(!c.acceptErrors){const w=new Error(`Could not retrieve ${c.url} (HTTP status ${h.status}):
${_}`);return this.handleDereferenceErrors(c,w,h.headers,y)}}const g=(v=s.exec(h.headers.get("content-type")??""))==null?void 0:v[0];return{url:m,data:d?t.ActorHttp.toNodeReadable(h.body):(0,e.emptyReadable)(),exists:d,requestTime:y,headers:h.headers,mediaType:g==="text/plain"?void 0:g}}};return Su.ActorDereferenceHttpBase=u,Su}var RU;function _Pe(){if(RU)return Dy;RU=1,Object.defineProperty(Dy,"__esModule",{value:!0}),Dy.ActorDereferenceHttp=void 0;const e=dZ();class t extends e.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}return Dy.ActorDereferenceHttp=t,Dy}var xU;function bPe(){return xU||(xU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(_Pe(),e),r(dZ(),e)}(eR)),eR}var tR={},Cy={},IU;function vPe(){if(IU)return Cy;IU=1,Object.defineProperty(Cy,"__esModule",{value:!0}),Cy.ActorHttpProxy=void 0;const e=Ko(),t=kt;let r=class extends e.ActorHttp{constructor(a){super(a)}async test(a){const s=a.context.get(t.KeysHttpProxy.httpProxyHandler);if(!s)throw new Error(`Actor ${this.name} could not find a proxy handler in the context.`);if(!await s.getProxy(a))throw new Error(`Actor ${this.name} could not determine a proxy for the given request.`);return{time:Number.POSITIVE_INFINITY}}async run(a){const s=typeof a.input=="string"?a.input:a.input.url,o=a.context.get(t.KeysHttpProxy.httpProxyHandler),u=await this.mediatorHttp.mediate({...await o.getProxy(a),context:a.context.delete(t.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(u,"url",{configurable:!0,enumerable:!0,get:()=>u.headers.get("x-final-url")??s}),u}};return Cy.ActorHttpProxy=r,Cy}var Ly={},PU;function wPe(){if(PU)return Ly;PU=1,Object.defineProperty(Ly,"__esModule",{value:!0}),Ly.ProxyHandlerStatic=void 0;let e=class{constructor(r){this.prefixUrl=r}async getProxy(r){return{init:r.init,input:this.modifyInput(r.input)}}modifyInput(r){return typeof r=="string"?this.prefixUrl+r:new Request(this.prefixUrl+r.url,r)}};return Ly.ProxyHandlerStatic=e,Ly}var NU;function SPe(){return NU||(NU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(vPe(),e),r(wPe(),e)}(tR)),tR}var rR={},jy={},DU;function TPe(){if(DU)return jy;DU=1,Object.defineProperty(jy,"__esModule",{value:!0}),jy.ActorContextPreprocessQuerySourceIdentify=void 0;const e=$b(),t=kt,r=lt,n=Xo();let a=class extends e.ActorContextPreprocess{constructor(o){super(o),this.cache=this.cacheSize?new n.LRUCache({max:this.cacheSize}):void 0;const u=this.cache;u&&this.httpInvalidator.addInvalidateListener(({url:l})=>l?u.delete(l):u.clear())}async test(o){return!0}async run(o){let u=o.context;if(u.has(t.KeysInitQuery.querySourcesUnidentified)){const l=o.context.get(t.KeysInitQuery.querySourcesUnidentified),c=await Promise.all(l.map(f=>this.expandSource(f))),d=await Promise.all(c.map(async f=>this.identifySource(f,o.context)));u=o.context.delete(t.KeysInitQuery.querySourcesUnidentified).set(t.KeysQueryOperation.querySources,d)}return{context:u}}async expandSource(o){return typeof o=="string"||"match"in o?{value:o}:{...o,context:(await this.mediatorContextPreprocess.mediate({context:r.ActionContext.ensureActionContext(o.context??{})})).context}}identifySource(o,u){let l;return typeof o.value=="string"&&this.cache&&(l=this.cache.get(o.value)),l||(l=this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:o,context:u}).then(({querySource:c})=>c),typeof o.value=="string"&&this.cache&&this.cache.set(o.value,l)),l}};return jy.ActorContextPreprocessQuerySourceIdentify=a,jy}var CU;function EPe(){return CU||(CU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(TPe(),e)}(rR)),rR}var nR={},My={},LU;function APe(){if(LU)return My;LU=1,Object.defineProperty(My,"__esModule",{value:!0}),My.ActorRdfUpdateQuadsHypermedia=void 0;const e=CD(),t=Xo();let r=class extends e.ActorRdfUpdateQuadsDestination{constructor(a){super(a),this.cache=this.cacheSize?new t.LRUCache({max:this.cacheSize}):void 0;const s=this.cache;s&&this.httpInvalidator.addInvalidateListener(({url:o})=>o?s.delete(o):s.clear())}async test(a){if(!(0,e.getContextDestinationUrl)((0,e.getContextDestination)(a.context)))throw new Error(`Actor ${this.name} can only update quads against a single destination URL.`);return!0}getDestination(a){const s=(0,e.getContextDestination)(a);let o=(0,e.getContextDestinationUrl)(s);if(this.cache&&this.cache.has(o))return this.cache.get(o);const u=(async()=>{var f;let l,c;try{const h=await this.mediatorDereferenceRdf.mediate({context:a,url:o,acceptErrors:!0});c=h.exists,o=h.url;const p=await this.mediatorMetadata.mediate({context:a,url:o,quads:h.data,triples:(f=h.metadata)==null?void 0:f.triples});l=(await this.mediatorMetadataExtract.mediate({context:a,url:o,metadata:p.metadata,headers:h.headers,requestTime:h.requestTime})).metadata}catch{l={},c=!1}const{destination:d}=await this.mediatorRdfUpdateHypermedia.mediate({context:a,url:o,metadata:l,exists:c,forceDestinationType:(0,e.getDataDestinationType)(s)});return d})();return this.cache&&this.cache.set(o,u),u}};return My.ActorRdfUpdateQuadsHypermedia=r,My}var jU;function OPe(){return jU||(jU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(APe(),e)}(nR)),nR}var iR={},Fy={},MU;function RPe(){if(MU)return Fy;MU=1,Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.ActionObserverHttp=void 0;const e=lt;class t extends e.ActionObserver{constructor(n){super(n),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(n,a,s){this.requests++}}return Fy.ActionObserverHttp=t,Fy}var qy={},FU;function xPe(){if(FU)return qy;FU=1,Object.defineProperty(qy,"__esModule",{value:!0}),qy.ActorQueryResultSerializeSparqlJson=void 0;const e=Za(),t=$t(),r=Lt;let n=class t_ extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(s){super(s)}static bindingToJsonBindings(s){if(s.termType==="Literal"){const o=s,u={value:o.value,type:"literal"},{language:l,datatype:c}=o;return l?u["xml:lang"]=l:c&&c.value!=="http://www.w3.org/2001/XMLSchema#string"&&(u.datatype=c.value),u}return s.termType==="BlankNode"?{value:s.value,type:"bnode"}:s.termType==="Quad"?{value:{subject:t_.bindingToJsonBindings(s.subject),predicate:t_.bindingToJsonBindings(s.predicate),object:t_.bindingToJsonBindings(s.object)},type:"triple"}:{value:s.value,type:"uri"}}async testHandleChecked(s,o){if(!["bindings","boolean"].includes(s.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(s,o,u){const l=new r.Readable,c={};if(s.type==="bindings"){const d=await s.metadata();d.variables.length>0&&(c.vars=d.variables.map(f=>f.value))}if(l.push(`{"head": ${JSON.stringify(c)},
`),s.type==="bindings"){const d=s.bindingsStream;l.push(`"results": { "bindings": [
`);let f=!0;function*h(p){yield p()}l.wrap((0,t.wrap)(d).map(p=>{const m=`${f?"":`,
`}${JSON.stringify(Object.fromEntries([...p].map(([y,g])=>[y.value,t_.bindingToJsonBindings(g)])))}`;return f=!1,m}).append((0,t.wrap)(h(()=>`
]}${this.emitMetadata?`,
"metadata": { "httpRequests": ${this.httpObserver.requests} }`:""}}
`))))}else l.wrap((0,t.wrap)(s.execute().then(d=>[`"boolean":${d}
}
`])));return{data:l}}};return qy.ActorQueryResultSerializeSparqlJson=n,qy}var qU;function BU(){return qU||(qU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(RPe(),e),r(xPe(),e)}(iR)),iR}var aR={},By={},$U;function IPe(){if($U)return By;$U=1,Object.defineProperty(By,"__esModule",{value:!0}),By.ActionObserverHttp=void 0;const e=lt;let t=class extends e.ActionObserver{constructor(n){super(n),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(n,a,s){this.requests++}};return By.ActionObserverHttp=t,By}var $y={},UU;function PPe(){if(UU)return $y;UU=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.ActorQueryResultSerializeStats=void 0;const e=Za(),t=$t(),r=Lt,n=Ks;let a=class extends e.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,u){if(!["bindings","quads"].includes(o.type))throw new Error("This actor can only handle bindings streams or quad streams.");return!0}pushHeader(o){const u=["Result","Delay (ms)","HTTP requests"].join(",");o.push(`${u}
`)}createStat(o,u){return`${[u,this.delay(o),this.httpObserver.requests].join(",")}
`}createFooter(o){return`${["TOTAL",this.delay(o),this.httpObserver.requests].join(",")}
`}async runHandle(o,u,l){const c=new r.Readable,d=o.type==="bindings"?o.bindingsStream:o.quadStream,f=this.now();let h=1;function*p(y){yield y()}const m=(0,t.wrap)(d).map(()=>this.createStat(f,h++)).append((0,t.wrap)(p(()=>this.createFooter(f))));return this.pushHeader(c),c.wrap(m),{data:c}}now(){if(typeof performance>"u"){const o=n.hrtime();return o[0]*1e3+o[1]/1e6}return performance.now()}delay(o){return this.now()-o}};return $y.ActorQueryResultSerializeStats=a,$y}var kU;function VU(){return kU||(kU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(IPe(),e),r(PPe(),e)}(aR)),aR}var sR={},Uy={},oR={},ky={},HU;function NPe(){if(HU)return ky;HU=1,Object.defineProperty(ky,"__esModule",{value:!0}),ky.ActorQuerySourceIdentifyHypermedia=void 0;const e=lt;class t extends e.Actor{constructor(n,a){super(n),this.sourceType=a}async test(n){if(n.forceSourceType&&this.sourceType!==n.forceSourceType)throw new Error(`Actor ${this.name} is not able to handle source type ${n.forceSourceType}.`);return this.testMetadata(n)}}return ky.ActorQuerySourceIdentifyHypermedia=t,ky}var QU;function FD(){return QU||(QU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(NPe(),e)}(oR)),oR}var Vy={},uR={},Hy={},zU;function DPe(){if(zU)return Hy;zU=1,Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.ActorQuerySourceIdentify=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return Hy.ActorQuerySourceIdentify=t,Hy}var nn={},GU;function CPe(){if(GU)return nn;GU=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.filterMatchingQuotedQuads=nn.quadsOrderToBindingsOrder=nn.quadsMetadataToBindingsMetadata=nn.setMetadata=nn.getDuplicateElementLinks=nn.getVariables=nn.isTermVariable=nn.quadsToBindings=void 0;const e=Ot(),t=ai(),r=xt,n=rr,a=Sn(),s=bX(),o=new r.DataFactory;function u(y,g,b,v){const _=c(g),w=g.graph.termType==="Variable"&&!v,S=d(g),E=(0,a.reduceTermsNested)(g,(C,I,P)=>(I.termType==="Variable"&&(C[P.join("_")]=I.value),C),{}),x=new e.ClosableTransformIterator(async()=>{let C=y;return w&&(C=C.filter(I=>I.graph.termType!=="DefaultGraph")),S&&(C=C.filter(I=>{for(const P in S){const L=P.split("_"),D=(0,a.getValueNestedPath)(I,L);for(const V of S[P])if(!D.equals((0,a.getValueNestedPath)(I,V)))return!1}return!0})),C.map(I=>b.bindings(Object.keys(E).map(P=>{const L=P.split("_"),D=E[P],V=(0,a.getValueNestedPath)(I,L);return[o.variable(D),V]})))},{autoStart:!1,onClose:()=>y.destroy()});return f(x,y,E,_,w||!!S),x}nn.quadsToBindings=u;function l(y){return y.termType==="Variable"}nn.isTermVariable=l;function c(y){return(0,a.uniqTerms)((0,a.getTermsNested)(y).filter(l))}nn.getVariables=c;function d(y){const g={};let b=!1;if((0,a.forEachTermsNested)(y,(_,w)=>{if(_.termType==="Variable"){const S=(0,n.termToString)(_),E=(g[S]||(g[S]=[])).push(w);b=b||E>1}}),!b)return;const v={};for(const _ in g){const w=g[_],S=w.slice(1);S.length>0&&(v[w[0].join("_")]=S)}return v}nn.getDuplicateElementLinks=d;function f(y,g,b,v,_){const w=E=>{"canContainUndefs"in E||(E.canContainUndefs=!1),_&&(E.cardinality.type="estimate"),y.setProperty("metadata",h((0,t.validateMetadataQuads)(E),b,v)),E.state&&E.state.addInvalidateListener(()=>{f(y,g,b,v,_)})},S=g.getProperty("metadata");S?w(S):g.getProperty("metadata",w)}nn.setMetadata=f;function h(y,g,b){return{...y,canContainUndefs:!1,order:y.order?p(y.order,g):void 0,availableOrders:y.availableOrders?y.availableOrders.map(v=>({cost:v.cost,terms:p(v.terms,g)})):void 0,variables:b}}nn.quadsMetadataToBindingsMetadata=h;function p(y,g){const b={};return y.map(v=>{const _=g[v.term];if(_&&!b[_])return b[_]=!0,{term:o.variable(_),direction:v.direction}}).filter(Boolean)}nn.quadsOrderToBindingsOrder=p;function m(y,g){return(0,a.someTerms)(y,b=>b.termType==="Quad")&&(g=g.filter(b=>(0,s.matchPatternMappings)(b,y))),g}return nn.filterMatchingQuotedQuads=m,nn}var WU;function Qb(){return WU||(WU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(DPe(),e),r(CPe(),e)}(uR)),uR}var KU;function fZ(){if(KU)return Vy;KU=1,Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.QuerySourceQpf=void 0;const e=Qb(),t=kt,r=$t(),n=xt,a=rr,s=Vb(),o=Sn(),u=Nt(),l=new u.Factory,c=new n.DataFactory;let d=class BI{constructor(p,m,y,g,b,v,_,w,S,E,x,C){this.referenceValue=S,this.mediatorMetadata=p,this.mediatorMetadataExtract=m,this.mediatorDereferenceRdf=y,this.bindingsFactory=g,this.subjectUri=b,this.predicateUri=v,this.objectUri=_,this.graphUri=w,this.url=S,this.bindingsRestricted=x,this.cachedQuads={};const I=this.getSearchForm(E);if(!I)throw new Error("Illegal state: found no TPF/QPF search form anymore in metadata.");if(this.searchForm=I,this.defaultGraph=E.defaultGraph?c.namedNode(E.defaultGraph):void 0,C){let P=(0,r.wrap)(C);this.defaultGraph&&(P=this.reverseMapQuadsToDefaultGraph(P)),P.setProperty("metadata",E),this.cacheQuads(P,c.variable(""),c.variable(""),c.variable(""),c.variable(""))}}async getSelectorShape(){return this.bindingsRestricted?BI.SELECTOR_SHAPE_BR:BI.SELECTOR_SHAPE}queryBindings(p,m,y){if(p.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${p.type}' to QuerySourceQpf`);const g=!!m.get(t.KeysQueryOperation.unionDefaultGraph);let b=this.match(p.subject,p.predicate,p.object,p.graph,g,m,y);return b=(0,e.filterMatchingQuotedQuads)(p,b),(0,e.quadsToBindings)(b,p,this.bindingsFactory,g)}getSearchForm(p){if(!p.searchForms||!p.searchForms.values)return;const{searchForms:m}=p;for(const y of m.values)if(this.graphUri&&this.subjectUri in y.mappings&&this.predicateUri in y.mappings&&this.objectUri in y.mappings&&this.graphUri in y.mappings&&Object.keys(y.mappings).length===4||this.subjectUri in y.mappings&&this.predicateUri in y.mappings&&this.objectUri in y.mappings&&Object.keys(y.mappings).length===3)return y}createFragmentUri(p,m,y,g,b){const v={},_=[{uri:this.subjectUri,term:m},{uri:this.predicateUri,term:y},{uri:this.objectUri,term:g},{uri:this.graphUri,term:b}];for(const w of _)w.uri&&(this.bindingsRestricted||w.term.termType!=="Variable"&&(w.term.termType!=="Quad"||(0,o.everyTermsNested)(w.term,S=>S.termType!=="Variable")))&&(v[w.uri]=(0,a.termToString)(w.term));return p.getUri(v)}match(p,m,y,g,b,v,_){let w=!1;if(g.termType==="DefaultGraph")if(this.defaultGraph)w=!0,g=this.defaultGraph;else if(Object.keys(this.searchForm.mappings).length===4&&!this.defaultGraph)if(b)g=c.variable("g");else{const C=new r.ArrayIterator([],{autoStart:!1});return C.setProperty("metadata",{requestTime:0,cardinality:{type:"exact",value:0},first:null,next:null,last:null,canContainUndefs:!1}),C}else Object.keys(this.searchForm.mappings).length===3&&(g=c.variable("g"));if(!(_!=null&&_.filterBindings)){const C=this.getCachedQuads(p,m,y,g);if(C)return C}const S=this;let E;const x=async function(){var D;let C=S.createFragmentUri(S.searchForm,p,m,y,g);_!=null&&_.filterBindings&&(C=await S.getBindingsRestrictedLink(p,m,y,g,C,_.filterBindings));const I=await S.mediatorDereferenceRdf.mediate({context:v,url:C});C=I.url;const P=await S.mediatorMetadata.mediate({context:v,url:C,quads:I.data,triples:(D=I.metadata)==null?void 0:D.triples}),{metadata:L}=await S.mediatorMetadataExtract.mediate({context:v,url:C,metadata:P.metadata,requestTime:I.requestTime});return E.setProperty("metadata",{...L,canContainUndefs:!1,subsetOf:S.url}),P.data}();return E=new r.TransformIterator(async()=>{const C=await x,I=c.defaultGraph();let P=(0,r.wrap)(C).transform({filter(L){return(0,o.matchPattern)(L,p,m,y,g)?!0:w&&(0,o.matchPattern)(L,p,m,y,I)}});return(w||g.termType==="Variable")&&(P=this.reverseMapQuadsToDefaultGraph(P)),P},{autoStart:!1}),_!=null&&_.filterBindings?E:(this.cacheQuads(E,p,m,y,g),this.getCachedQuads(p,m,y,g))}async getBindingsRestrictedLink(p,m,y,g,b,v){const _=[];for(const S of await v.bindings.toArray()){const E=["("];for(const x of v.metadata.variables){const C=S.get(x);E.push(C?(0,s.termToString)(C):"UNDEF"),E.push(" ")}E.push(")"),_.push(E.join(""))}_.length===0&&_.push("(<ex:comunica:unknown>)");const w=encodeURIComponent(`(${v.metadata.variables.map(S=>`?${S.value}`).join(" ")}) { ${_.join(" ")} }`);return`${b}&values=${w}`}reverseMapQuadsToDefaultGraph(p){const m=c.defaultGraph();return p.map(y=>(0,o.mapTerms)(y,(g,b)=>b==="graph"&&g.equals(this.defaultGraph)?m:g))}getPatternId(p,m,y,g){return JSON.stringify({s:p.termType==="Variable"?"":f(p),p:m.termType==="Variable"?"":f(m),o:y.termType==="Variable"?"":f(y),g:g.termType==="Variable"?"":f(g)})}cacheQuads(p,m,y,g,b){const v=this.getPatternId(m,y,g,b);this.cachedQuads[v]=p.clone()}getCachedQuads(p,m,y,g){const b=this.getPatternId(p,m,y,g),v=this.cachedQuads[b];if(v)return v.clone()}queryQuads(p,m){throw new Error("queryQuads is not implemented in QuerySourceQpf")}queryBoolean(p,m){throw new Error("queryBoolean is not implemented in QuerySourceQpf")}queryVoid(p,m){throw new Error("queryVoid is not implemented in QuerySourceQpf")}};Vy.QuerySourceQpf=d,d.SELECTOR_SHAPE={type:"operation",operation:{operationType:"pattern",pattern:l.createPattern(c.variable("s"),c.variable("p"),c.variable("o"),c.variable("g"))},variablesOptional:[c.variable("s"),c.variable("p"),c.variable("o"),c.variable("g")]},d.SELECTOR_SHAPE_BR={type:"operation",operation:{operationType:"pattern",pattern:l.createPattern(c.variable("s"),c.variable("p"),c.variable("o"),c.variable("g"))},variablesOptional:[c.variable("s"),c.variable("p"),c.variable("o"),c.variable("g")],filterBindings:!0};function f(h){return h.termType==="DefaultGraph"?"|":(0,a.termToString)(h)}return Vy}var JU;function LPe(){if(JU)return Uy;JU=1,Object.defineProperty(Uy,"__esModule",{value:!0}),Uy.ActorQuerySourceIdentifyHypermediaQpf=void 0;const e=Br(),t=FD(),r=fZ();let n=class extends t.ActorQuerySourceIdentifyHypermedia{constructor(s){super(s,"qpf")}async test(s){if(s.forceSourceType&&s.forceSourceType!=="qpf"&&s.forceSourceType!=="brtpf")throw new Error(`Actor ${this.name} is not able to handle source type ${s.forceSourceType}.`);return this.testMetadata(s)}async testMetadata(s){const{searchForm:o}=await this.createSource(s.url,s.metadata,s.context,s.forceSourceType==="brtpf");if(s.handledDatasets&&s.handledDatasets[o.dataset])throw new Error(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`);return{filterFactor:1}}async run(s){this.logInfo(s.context,`Identified as qpf source: ${s.url}`);const o=await this.createSource(s.url,s.metadata,s.context,s.forceSourceType==="brtpf",s.quads);return{source:o,dataset:o.searchForm.dataset}}async createSource(s,o,u,l,c){return new r.QuerySourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorDereferenceRdf,await e.BindingsFactory.create(this.mediatorMergeBindingsContext,u),this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,s,o,l,c)}};return Uy.ActorQuerySourceIdentifyHypermediaQpf=n,Uy}var XU;function jPe(){return XU||(XU=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(LPe(),e),r(fZ(),e)}(sR)),sR}var cR={},Qy={},zy={},YU;function hZ(){if(YU)return zy;YU=1,Object.defineProperty(zy,"__esModule",{value:!0}),zy.QuerySourceSparql=void 0;const e=kt,t=$t(),r=JY(),n=Xo(),a=xt,s=Nt(),o=new s.Factory,u=new a.DataFactory,l=u.variable("count"),c={type:"estimate",value:Number.POSITIVE_INFINITY};let d=class Mi{constructor(h,p,m,y,g,b,v,_){this.referenceValue=h,this.url=h,this.context=p,this.mediatorHttp=m,this.bindMethod=y,this.bindingsFactory=g,this.endpointFetcher=new r.SparqlEndpointFetcher({method:b?"GET":"POST",fetch:(w,S)=>this.mediatorHttp.mediate({input:w,init:S,context:this.lastSourceContext}),prefixVariableQuestionMark:!0}),this.cache=v>0?new n.LRUCache({max:v}):void 0,this.countTimeout=_}async getSelectorShape(){return Mi.SELECTOR_SHAPE}queryBindings(h,p,m){let y;m!=null&&m.joinBindings?y=Mi.addBindingsToOperation(this.bindMethod,h,m.joinBindings):y=Promise.resolve(h);const g=new t.TransformIterator(async()=>{const b=await y,v=s.Util.inScopeVariables(b),_=p.get(e.KeysInitQuery.queryString),w=!(m!=null&&m.joinBindings)&&_?_:Mi.operationToSelectQuery(b,v),S=Mi.operationCanContainUndefs(b);return this.queryBindingsRemote(this.url,w,v,p,S)},{autoStart:!1});return this.attachMetadata(g,p,y),g}queryQuads(h,p){this.lastSourceContext=this.context.merge(p);const m=this.endpointFetcher.fetchTriples(this.url,p.get(e.KeysInitQuery.queryString)??Mi.operationToQuery(h));this.lastSourceContext=void 0;const y=(0,t.wrap)(m,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY});return this.attachMetadata(y,p,Promise.resolve(h.input)),y}queryBoolean(h,p){this.lastSourceContext=this.context.merge(p);const m=this.endpointFetcher.fetchAsk(this.url,p.get(e.KeysInitQuery.queryString)??Mi.operationToQuery(h));return this.lastSourceContext=void 0,m}queryVoid(h,p){this.lastSourceContext=this.context.merge(p);const m=this.endpointFetcher.fetchUpdate(this.url,p.get(e.KeysInitQuery.queryString)??Mi.operationToQuery(h));return this.lastSourceContext=void 0,m}attachMetadata(h,p,m){let y=[],g=!1;new Promise(async(b,v)=>{var w;let _;try{const S=await m;y=s.Util.inScopeVariables(S),_=Mi.operationToCountQuery(S),g=Mi.operationCanContainUndefs(S);const E=(w=this.cache)==null?void 0:w.get(_);if(E!==void 0)return b(E);const x=setTimeout(()=>b(c),this.countTimeout),C=await this.queryBindingsRemote(this.url,_,[l],p,!1);C.on("data",I=>{var D;clearTimeout(x);const P=I.get(l),L={type:"estimate",value:Number.POSITIVE_INFINITY};if(P){const V=Number.parseInt(P.value,10);Number.isNaN(V)||(L.type="exact",L.value=V,(D=this.cache)==null||D.set(_,L))}return b(L)}),C.on("error",()=>{clearTimeout(x),b(c)}),C.on("end",()=>{clearTimeout(x),b(c)})}catch(S){return v(S)}}).then(b=>h.setProperty("metadata",{cardinality:b,canContainUndefs:g,variables:y})).catch(()=>h.setProperty("metadata",{cardinality:c,canContainUndefs:g,variables:y}))}static async addBindingsToOperation(h,p,m){const y=await m.bindings.toArray();switch(h){case"values":return o.createJoin([o.createValues(m.metadata.variables,y.map(g=>Object.fromEntries([...g].map(([b,v])=>[`?${b.value}`,v])))),p],!1);case"union":throw new Error('Not implemented yet: "union" case');case"filter":throw new Error('Not implemented yet: "filter" case')}}static operationToSelectQuery(h,p){return Mi.operationToQuery(o.createProject(h,p))}static operationToCountQuery(h){return Mi.operationToQuery(o.createProject(o.createExtend(o.createGroup(h,[],[o.createBoundAggregate(u.variable("var0"),"count",o.createWildcardExpression(),!1)]),u.variable("count"),o.createTermExpression(u.variable("var0"))),[u.variable("count")]))}static operationToQuery(h){return(0,s.toSparql)(h,{sparqlStar:!0})}static operationCanContainUndefs(h){let p=!1;return s.Util.recurseOperation(h,{leftjoin(){return p=!0,!1},values(m){return p=m.bindings.some(y=>m.variables.some(g=>!(`?${g.value}`in y))),!1}}),p}async queryBindingsRemote(h,p,m,y,g){this.lastSourceContext=this.context.merge(y);const b=await this.endpointFetcher.fetchBindings(h,p);this.lastSourceContext=void 0;const v=(0,t.wrap)(b,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(_=>this.bindingsFactory.bindings(m.map(w=>{const S=_[`?${w.value}`];return!g&&!S&&v.emit("error",new Error(`The endpoint ${h} failed to provide a binding for ${w.value}.`)),[w,S]})));return v}toString(){return`QuerySourceSparql(${this.url})`}};return zy.QuerySourceSparql=d,d.SELECTOR_SHAPE={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:s.Algebra.types.PROJECT},joinBindings:!0},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.CONSTRUCT}},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.DESCRIBE}},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.ASK}},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.COMPOSITE_UPDATE}}]},zy}var ZU;function MPe(){if(ZU)return Qy;ZU=1,Object.defineProperty(Qy,"__esModule",{value:!0}),Qy.ActorQuerySourceIdentifyHypermediaSparql=void 0;const e=Br(),t=FD(),r=hZ();let n=class extends t.ActorQuerySourceIdentifyHypermedia{constructor(s){super(s,"sparql")}async testMetadata(s){if(!s.forceSourceType&&!s.metadata.sparqlService&&!(this.checkUrlSuffix&&s.url.endsWith("/sparql")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`);return{filterFactor:1}}async run(s){return this.logInfo(s.context,`Identified ${s.url} as sparql source with service URL: ${s.metadata.sparqlService||s.url}`),{source:new r.QuerySourceSparql(s.forceSourceType?s.url:s.metadata.sparqlService||s.url,s.context,this.mediatorHttp,this.bindMethod,await e.BindingsFactory.create(this.mediatorMergeBindingsContext,s.context),this.forceHttpGet,this.cacheSize,this.countTimeout)}}};return Qy.ActorQuerySourceIdentifyHypermediaSparql=n,Qy}var ek;function FPe(){return ek||(ek=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(MPe(),e),r(hZ(),e)}(cR)),cR}var lR={},Gy={},dR={},Wy={},Ky={},tk;function pZ(){if(tk)return Ky;tk=1,Object.defineProperty(Ky,"__esModule",{value:!0}),Ky.QuerySourceRdfJs=void 0;const e=Qb(),t=kt,r=ai(),n=$t(),a=xt,s=Sn(),o=Nt(),u=new o.Factory,l=new a.DataFactory;let c=class zn{constructor(f,h){this.source=f,this.referenceValue=f,this.bindingsFactory=h}static nullifyVariables(f,h){return!f||f.termType==="Variable"||!h&&f.termType==="Quad"&&(0,s.someTermsNested)(f,p=>p.termType==="Variable")?void 0:f}static hasDuplicateVariables(f){const h=(0,s.filterTermsNested)(f,p=>p.termType==="Variable");return h.length>1&&(0,s.uniqTerms)(h).length<h.length}async getSelectorShape(){return zn.SELECTOR_SHAPE}queryBindings(f,h){var g;if(f.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${f.type}' to QuerySourceRdfJs`);const p=!!((g=this.source.features)!=null&&g.quotedTripleFiltering),m=this.source.match(zn.nullifyVariables(f.subject,p),zn.nullifyVariables(f.predicate,p),zn.nullifyVariables(f.object,p),zn.nullifyVariables(f.graph,p));let y=m instanceof n.AsyncIterator?m:(0,n.wrap)(m,{autoStart:!1});return p||(y=(0,e.filterMatchingQuotedQuads)(f,y)),y.getProperty("metadata")||this.setMetadata(y,f).catch(b=>y.destroy(b)),(0,e.quadsToBindings)(y,f,this.bindingsFactory,!!h.get(t.KeysQueryOperation.unionDefaultGraph))}async setMetadata(f,h){var g;const p=!!((g=this.source.features)!=null&&g.quotedTripleFiltering);let m;if(this.source.countQuads)m=await this.source.countQuads(zn.nullifyVariables(h.subject,p),zn.nullifyVariables(h.predicate,p),zn.nullifyVariables(h.object,p),zn.nullifyVariables(h.graph,p));else{let b=0;m=await new Promise((v,_)=>{const w=this.source.match(zn.nullifyVariables(h.subject,p),zn.nullifyVariables(h.predicate,p),zn.nullifyVariables(h.object,p),zn.nullifyVariables(h.graph,p));w.on("error",_),w.on("end",()=>v(b)),w.on("data",()=>b++)})}const y=!p&&(0,s.someTerms)(h,b=>b.termType==="Quad")||zn.hasDuplicateVariables(h);f.setProperty("metadata",{state:new r.MetadataValidationState,cardinality:{type:y?"estimate":"exact",value:m},canContainUndefs:!1})}queryQuads(f,h){throw new Error("queryQuads is not implemented in QuerySourceQpf")}queryBoolean(f,h){throw new Error("queryBoolean is not implemented in QuerySourceQpf")}queryVoid(f,h){throw new Error("queryVoid is not implemented in QuerySourceQpf")}toString(){return`QuerySourceRdfJs(${this.source.constructor.name})`}};return Ky.QuerySourceRdfJs=c,c.SELECTOR_SHAPE={type:"operation",operation:{operationType:"pattern",pattern:u.createPattern(l.variable("s"),l.variable("p"),l.variable("o"))},variablesOptional:[l.variable("s"),l.variable("p"),l.variable("o")]},Ky}var rk;function qPe(){if(rk)return Wy;rk=1,Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.ActorQuerySourceIdentifyRdfJs=void 0;const e=Br(),t=Qb(),r=lt,n=pZ();let a=class extends t.ActorQuerySourceIdentify{constructor(o){super(o)}async test(o){const u=o.querySourceUnidentified;if(u.type!==void 0&&u.type!=="rdfjs")throw new Error(`${this.name} requires a single query source with rdfjs type to be present in the context.`);if(typeof u.value=="string"||!("match"in u.value))throw new Error(`${this.name} received an invalid rdfjs query source.`);return!0}async run(o){return{querySource:{source:new n.QuerySourceRdfJs(o.querySourceUnidentified.value,await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context)),context:o.querySourceUnidentified.context??new r.ActionContext}}}};return Wy.ActorQuerySourceIdentifyRdfJs=a,Wy}var fR={},nk;function BPe(){return nk||(nk=1,Object.defineProperty(fR,"__esModule",{value:!0})),fR}var ik;function qD(){return ik||(ik=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(qPe(),e),r(BPe(),e),r(pZ(),e)}(dR)),dR}var Jy={},hR={},Xy={},Yy={},Zy={},ak;function yZ(){if(ak)return Zy;ak=1,Object.defineProperty(Zy,"__esModule",{value:!0}),Zy.TermDictionaryNumberRecordFullTerms=void 0;const e=xt,t=rr;let r=class{constructor(a=new e.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const s=(0,t.termToString)(a);let o=this.dictionary[s];return o===void 0&&(o=this.lastId++,this.dictionary[s]=o,this.reverseDictionary[o]=a),o}encodeOptional(a){const s=(0,t.termToString)(a);return this.dictionary[s]}decode(a){const s=this.reverseDictionary[a];if(s===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return s}*encodings(){for(const a of Object.keys(this.reverseDictionary))yield Number.parseInt(a,10)}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return Zy.TermDictionaryNumberRecordFullTerms=r,Zy}var em={},tm={},pR={},sk;function ts(){return sk||(sk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.arePatternsQuoted=e.quadHasVariables=e.quadToPattern=e.encodeOptionalTerms=e.orderQuadComponents=e.getComponentOrderScore=e.getBestIndex=e.QUAD_TERM_NAMES_INVERSE=void 0;const t=Sn();e.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(t.QUAD_TERM_NAMES.map((c,d)=>[c,d]));function r(c,d){if(c.length===1||d.every(p=>p!==void 0))return 0;const f=[];for(let p=0;p<t.QUAD_TERM_NAMES.length;p++)d[p]&&f.push(t.QUAD_TERM_NAMES[p]);return c.map((p,m)=>({score:n(p,f),index:m})).sort((p,m)=>m.score-p.score)[0].index}e.getBestIndex=r;function n(c,d){return c.map((f,h)=>d.includes(f)?c.length-h:0).reduce((f,h)=>f+h,0)}e.getComponentOrderScore=n;function a(c,d){return c.map(f=>{const h=e.QUAD_TERM_NAMES_INVERSE[f];return d[h]})}e.orderQuadComponents=a;function s(c,d){const f=c.map(h=>{if(h){if(h.termType==="Quad"&&u(h))return;const p=d.encodeOptional(h);return p===void 0?"none":p}return h});if(!f.includes("none"))return f}e.encodeOptionalTerms=s;function o(c,d,f,h,p){let m=!1;return[[c||void 0,d||void 0,f||void 0,h||void 0].map(g=>{if(g){if(g.termType==="Variable")return;if(g.termType==="Quad"){if(p)return g;m=!0;return}}return g}),m]}e.quadToPattern=o;function u(c){for(const d of t.QUAD_TERM_NAMES){const f=c[d];if(f.termType==="Variable"||f.termType==="Quad"&&u(f))return!0}return!1}e.quadHasVariables=u;function l(c){return c.map(d=>(d==null?void 0:d.termType)==="Quad"&&u(d))}e.arePatternsQuoted=l}(pR)),pR}var ok;function BD(){if(ok)return tm;ok=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.RdfStoreIndexNestedMap=void 0;const e=ts();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,a){const s=this.nestedMap;let o=s.get(n[0]);o||(o=new Map,s.set(n[0],o));let u=o.get(n[1]);u||(u=new Map,o.set(n[1],u));let l=u.get(n[2]);l||(l=new Map,u.set(n[2],l));const c=l.has(n[3]);return c||l.set(n[3],a),!c}remove(n){const a=this.nestedMap,s=a.get(n[0]);if(!s)return!1;const o=s.get(n[1]);if(!o)return!1;const u=o.get(n[2]);if(!u)return!1;const l=u.delete(n[3]);return l&&u.size===0&&(o.delete(n[2]),o.size===0&&(s.delete(n[1]),s.size===0&&a.delete(n[0]))),l}get(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(n){const a=this.nestedMap.get(n[0]);if(!a)return;const s=a.get(n[1]);if(!s)return;const o=s.get(n[2]);if(o)return o.get(n[3])}*find(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!a)return;const[s,o,u,l]=a,[c,d,f,h]=n;let p,m,y,g,b,v,_;const w=this.nestedMap,S=s!==void 0?w.has(s)?[s]:[]:w.keys();for(const E of S){b=w.get(E),p=c||this.dictionary.decode(E);const x=o!==void 0?b.has(o)?[o]:[]:b.keys();for(const C of x){v=b.get(C),m=d||this.dictionary.decode(C);const I=u!==void 0?v.has(u)?[u]:[]:v.keys();for(const P of I){_=v.get(P),y=f||this.dictionary.decode(P);const L=l!==void 0?_.has(l)?[l]:[]:_.keys();for(const D of L)g=h||this.dictionary.decode(D),yield[p,m,y,g]}}}}*findEncoded(n,a){const[s,o,u,l]=n;let c,d,f;const h=this.nestedMap,p=s!==void 0?h.has(s)?[s]:[]:h.keys();for(const m of p){c=h.get(m);const y=o!==void 0?c.has(o)?[o]:[]:c.keys();for(const g of y){d=c.get(g);const b=u!==void 0?d.has(u)?[u]:[]:d.keys();for(const v of b){f=d.get(v);const _=l!==void 0?f.has(l)?[l]:[]:f.keys();for(const w of _)yield[m,g,v,w]}}}}count(n){let a=0;const s=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!s)return 0;const o=s[0],u=s[1],l=s[2],c=s[3];let d,f,h;const p=this.nestedMap,m=o!==void 0?p.has(o)?[o]:[]:p.keys();for(const y of m){d=p.get(y);const g=u!==void 0?d.has(u)?[u]:[]:d.keys();for(const b of g){f=d.get(b);const v=l!==void 0?f.has(l)?[l]:[]:f.keys();for(const _ of v)h=f.get(_),c!==void 0?h.has(c)&&a++:a+=h.size}}return a}};return tm.RdfStoreIndexNestedMap=t,tm}var uk;function mZ(){if(uk)return em;uk=1,Object.defineProperty(em,"__esModule",{value:!0}),em.TermDictionaryQuotedIndexed=void 0;const e=xt,t=BD(),r=ts();let n=class As{constructor(s,o=new e.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=s;const u={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:o};this.quotedTriplesReverseDictionaries=[new t.RdfStoreIndexNestedMap(u),new t.RdfStoreIndexNestedMap(u),new t.RdfStoreIndexNestedMap(u)],this.dataFactory=o}encode(s){return s.termType==="Quad"?this.encodeQuotedTriple(s,!1):this.plainTermDictionary.encode(s)}encodeQuotedTriple(s,o){if(s.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const u=(0,r.encodeOptionalTerms)([s.subject,s.predicate,s.object,s.graph],this),l=u&&u.every(h=>h!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(u):void 0;if(l!==void 0||o)return l===void 0?void 0:As.BITMASK|l;const c=[this.encode(s.subject),this.encode(s.predicate),this.encode(s.object)],d=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(c);const f=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([c[0],c[1],c[2],f],d),this.quotedTriplesReverseDictionaries[1].set([c[1],c[2],c[0],f],d),this.quotedTriplesReverseDictionaries[2].set([c[2],c[0],c[1],f],d),As.BITMASK|d}encodeOptional(s){return s.termType==="Quad"?this.encodeQuotedTriple(s,!0):this.plainTermDictionary.encodeOptional(s)}decode(s){if(As.BITMASK&s){const o=(~As.BITMASK&s)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${s} is not present in the quoted triples range of the dictionary`);const u=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(u[0]),this.decode(u[1]),this.decode(u[2]))}return this.plainTermDictionary.decode(s)}*encodings(){for(const s of this.plainTermDictionary.encodings())yield s;for(const s of this.quotedTriplesDictionary.keys())yield As.BITMASK|1+s}*findQuotedTriples(s){for(const o of this.findQuotedTriplesEncoded(s))yield this.decode(o)}*findQuotedTriplesEncoded(s){const[o,u]=(0,r.quadToPattern)(s.subject,s.predicate,s.object,s.graph,!0);for(const l of this.patternToIterable(o[0]))for(const c of this.patternToIterable(o[1]))for(const d of this.patternToIterable(o[2]))for(const f of this.patternToIterable(o[3]))if(l&&c||!c&&!d){const h=[l,c,d,f];for(const p of this.quotedTriplesReverseDictionaries[0].findEncoded(h,o))yield As.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(p)}else if(!l&&c){const h=[c,d,l,f];for(const p of this.quotedTriplesReverseDictionaries[1].findEncoded(h,o))yield As.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(p)}else{const h=[d,l,c,f];for(const p of this.quotedTriplesReverseDictionaries[2].findEncoded(h,o))yield As.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(p)}}*patternToIterable(s){if((s==null?void 0:s.termType)==="Quad"){yield*this.findQuotedTriplesEncoded(s);return}if(s===void 0){yield void 0;return}const o=this.encodeOptional(s);o!==void 0&&(yield o)}};return n.BITMASK=1<<31,em.TermDictionaryQuotedIndexed=n,em}var rm={},ck;function gZ(){if(ck)return rm;ck=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.RdfStoreIndexNestedMapQuoted=void 0;const e=ts(),t=BD();let r=class extends t.RdfStoreIndexNestedMap{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(a,s){for(const o of this.dictionary.findQuotedTriplesEncoded(s))a.has(o)&&(yield o)}*find(a){const s=(0,e.encodeOptionalTerms)(a,this.dictionary);if(!s)return;const[o,u,l,c]=s,[d,f,h,p]=a,[m,y,g,b]=(0,e.arePatternsQuoted)(a);let v,_,w,S,E,x,C;const I=this.nestedMap,P=d!==void 0?m?this.getQuotedPatternKeys(I,d):I.has(o)?[o]:[]:I.keys();for(const L of P){E=I.get(L),v=!m&&d?d:this.dictionary.decode(L);const D=f!==void 0?y?this.getQuotedPatternKeys(E,f):E.has(u)?[u]:[]:E.keys();for(const V of D){x=E.get(V),_=!y&&f?f:this.dictionary.decode(V);const k=h!==void 0?g?this.getQuotedPatternKeys(x,h):x.has(l)?[l]:[]:x.keys();for(const $ of k){C=x.get($),w=!g&&h?h:this.dictionary.decode($);const H=p!==void 0?b?this.getQuotedPatternKeys(C,p):C.has(c)?[c]:[]:C.keys();for(const J of H)S=!b&&p?p:this.dictionary.decode(J),yield[v,_,w,S]}}}}*findEncoded(a,s){const[o,u,l,c]=a,[d,f,h,p]=s,[m,y,g,b]=(0,e.arePatternsQuoted)(s);let v,_,w;const S=this.nestedMap,E=d!==void 0?m?this.getQuotedPatternKeys(S,d):S.has(o)?[o]:[]:S.keys();for(const x of E){v=S.get(x);const C=f!==void 0?y?this.getQuotedPatternKeys(v,f):v.has(u)?[u]:[]:v.keys();for(const I of C){_=v.get(I);const P=h!==void 0?g?this.getQuotedPatternKeys(_,h):_.has(l)?[l]:[]:_.keys();for(const L of P){w=_.get(L);const D=p!==void 0?b?this.getQuotedPatternKeys(w,p):w.has(c)?[c]:[]:w.keys();for(const V of D)yield[Number.parseInt(x,10),Number.parseInt(I,10),Number.parseInt(L,10),Number.parseInt(V,10)]}}}}count(a){let s=0;const o=(0,e.encodeOptionalTerms)(a,this.dictionary);if(!o)return 0;const[u,l,c,d]=o,[f,h,p,m]=a,[y,g,b,v]=(0,e.arePatternsQuoted)(a);let _,w,S;const E=this.nestedMap,x=f!==void 0?y?this.getQuotedPatternKeys(E,f):E.has(u)?[u]:[]:E.keys();for(const C of x){_=E.get(C);const I=h!==void 0?g?this.getQuotedPatternKeys(_,h):_.has(l)?[l]:[]:_.keys();for(const P of I){w=_.get(P);const L=p!==void 0?b?this.getQuotedPatternKeys(w,p):w.has(c)?[c]:[]:w.keys();for(const D of L)S=w.get(D),m!==void 0?v?s+=[...this.getQuotedPatternKeys(S,m)].length:S.has(d)&&s++:s+=S.size}}return s}};return rm.RdfStoreIndexNestedMapQuoted=r,rm}var lk;function _Z(){if(lk)return Yy;lk=1,Object.defineProperty(Yy,"__esModule",{value:!0}),Yy.RdfStore=void 0;const e=$t(),t=xt,r=Sn(),n=vZ(),a=yZ(),s=mZ(),o=gZ(),u=ts();let l=class r_{constructor(d){this.features={quotedTripleFiltering:!0},this._size=0,this.options=d,this.dataFactory=d.dataFactory,this.dictionary=d.dictionary,this.indexesWrapped=r_.constructIndexesWrapped(d),this.indexesWrappedComponentOrders=this.indexesWrapped.map(f=>f.componentOrder)}static createDefault(){return new r_({indexCombinations:r_.DEFAULT_INDEX_COMBINATIONS,indexConstructor:d=>new o.RdfStoreIndexNestedMapQuoted(d),dictionary:new s.TermDictionaryQuotedIndexed(new a.TermDictionaryNumberRecordFullTerms),dataFactory:new t.DataFactory})}static constructIndexesWrapped(d){const f=[];if(d.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const h of d.indexCombinations){if(!r_.isCombinationValid(h))throw new Error(`Invalid index combination: ${h}`);f.push({index:d.indexConstructor(d),componentOrder:h,componentOrderInverse:Object.fromEntries(h.map((p,m)=>[p,m]))})}return f}static isCombinationValid(d){for(const f of r.QUAD_TERM_NAMES)if(!d.includes(f))return!1;return d.length===4}get size(){return this._size}addQuad(d){const f=[this.dictionary.encode(d.subject),this.dictionary.encode(d.predicate),this.dictionary.encode(d.object),this.dictionary.encode(d.graph)];let h=!1;for(const p of this.indexesWrapped)h=p.index.set((0,u.orderQuadComponents)(p.componentOrder,f),!0);return h?(this._size++,!0):!1}removeQuad(d){const f=[this.dictionary.encodeOptional(d.subject),this.dictionary.encodeOptional(d.predicate),this.dictionary.encodeOptional(d.object),this.dictionary.encodeOptional(d.graph)];if(f.includes(void 0))return!1;let h=!1;for(const p of this.indexesWrapped)if(h=p.index.remove((0,u.orderQuadComponents)(p.componentOrder,f)),!h)break;return h?(this._size--,!0):!1}remove(d){return d.on("data",f=>this.removeQuad(f)),d}removeMatches(d,f,h,p){return this.remove(this.match(d,f,h,p))}deleteGraph(d){return typeof d=="string"&&(d=this.dataFactory.namedNode(d)),this.removeMatches(void 0,void 0,void 0,d)}import(d){return d.on("data",f=>this.addQuad(f)),d}*readQuads(d,f,h,p){const m=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(_=>_.index.features.quotedTripleFiltering),[y,g]=(0,u.quadToPattern)(d,f,h,p,m),b=this.indexesWrapped[(0,u.getBestIndex)(this.indexesWrappedComponentOrders,y)],v=(0,u.orderQuadComponents)(b.componentOrder,y);for(const _ of b.index.find(v)){const w=this.dataFactory.quad(_[b.componentOrderInverse.subject],_[b.componentOrderInverse.predicate],_[b.componentOrderInverse.object],_[b.componentOrderInverse.graph]);g?(0,r.matchPattern)(w,d,f,h,p)&&(yield w):yield w}}getQuads(d,f,h,p){return[...this.readQuads(d,f,h,p)]}match(d,f,h,p){return(0,e.wrap)(this.readQuads(d,f,h,p))}countQuads(d,f,h,p){const m=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(v=>v.index.features.quotedTripleFiltering),[y]=(0,u.quadToPattern)(d,f,h,p,m);if(y.every(v=>v===void 0))return this.size;const g=this.indexesWrapped[(0,u.getBestIndex)(this.indexesWrappedComponentOrders,y)],b=(0,u.orderQuadComponents)(g.componentOrder,y);return g.index.count(b)}asDataset(){return new n.DatasetCoreWrapper(this)}};return l.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],Yy.RdfStore=l,Yy}var dk;function vZ(){if(dk)return Xy;dk=1,Object.defineProperty(Xy,"__esModule",{value:!0}),Xy.DatasetCoreWrapper=void 0;const e=_Z();let t=class bZ{constructor(n){this.store=n}get size(){return this.store.size}add(n){return this.store.addQuad(n),this}delete(n){return this.store.removeQuad(n),this}has(n){for(const a of this.store.readQuads(n.subject,n.predicate,n.object,n.graph))return!0;return!1}match(n,a,s,o){const u=new e.RdfStore(this.store.options);for(const l of this.store.readQuads(n,a,s,o))u.addQuad(l);return new bZ(u)}[Symbol.iterator](){return this.store.readQuads()}};return Xy.DatasetCoreWrapper=t,Xy}var yR={},fk;function $Pe(){return fk||(fk=1,Object.defineProperty(yR,"__esModule",{value:!0})),yR}var nm={},hk;function UPe(){if(hk)return nm;hk=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.TermDictionaryNumberMap=void 0;const e=xt,t=rr;let r=class{constructor(a=new e.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const s=(0,t.termToString)(a);let o=this.dictionary.get(s);return o===void 0&&(o=this.lastId++,this.dictionary.set(s,o),this.reverseDictionary.set(o,s)),o}encodeOptional(a){const s=(0,t.termToString)(a);return this.dictionary.get(s)}decode(a){const s=this.reverseDictionary.get(a);if(s===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return(0,t.stringToTerm)(s,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return nm.TermDictionaryNumberMap=r,nm}var im={},pk;function kPe(){if(pk)return im;pk=1,Object.defineProperty(im,"__esModule",{value:!0}),im.TermDictionaryNumberRecord=void 0;const e=xt,t=rr;let r=class{constructor(a=new e.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const s=(0,t.termToString)(a);let o=this.dictionary[s];return o===void 0&&(o=this.lastId++,this.dictionary[s]=o,this.reverseDictionary[o]=s),o}encodeOptional(a){const s=(0,t.termToString)(a);return this.dictionary[s]}decode(a){const s=this.reverseDictionary[a];if(s===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return(0,t.stringToTerm)(s,this.dataFactory)}*encodings(){for(const a of Object.keys(this.reverseDictionary))yield Number.parseInt(a,10)}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return im.TermDictionaryNumberRecord=r,im}var am={},yk;function VPe(){if(yk)return am;yk=1,Object.defineProperty(am,"__esModule",{value:!0}),am.TermDictionaryQuoted=void 0;const e=xt,t=Sn();let r=class Du{constructor(a,s,o=new e.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=a,this.quotedTriplesDictionary=s,this.dataFactory=o}encode(a){return a.termType==="Quad"?Du.BITMASK|1+this.quotedTriplesDictionary.encode(a):this.plainTermDictionary.encode(a)}encodeOptional(a){if(a.termType==="Quad"){const s=this.quotedTriplesDictionary.encodeOptional(a);return s===void 0?s:Du.BITMASK|1+s}return this.plainTermDictionary.encodeOptional(a)}decode(a){if(Du.BITMASK&a){const s=(~Du.BITMASK&a)-1;return this.quotedTriplesDictionary.decode(s)}return this.plainTermDictionary.decode(a)}*encodings(){for(const a of this.plainTermDictionary.encodings())yield a;for(const a of this.quotedTriplesDictionary.encodings())yield Du.BITMASK|1+a}*findQuotedTriples(a){for(const s of this.findQuotedTriplesEncoded(a))yield this.decode(s)}*findQuotedTriplesEncoded(a){for(let s of this.quotedTriplesDictionary.encodings()){s=Du.BITMASK|1+s;const o=this.decode(s);(0,t.matchPattern)(o,a.subject,a.predicate,a.object,a.graph)&&(yield s)}}};return r.BITMASK=1<<31,am.TermDictionaryQuoted=r,am}var sm={},mk;function HPe(){if(mk)return sm;mk=1,Object.defineProperty(sm,"__esModule",{value:!0}),sm.TermDictionaryQuotedReferential=void 0;const e=xt,t=Sn(),r=ts();let n=class Os{constructor(s,o=new e.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=s,this.dataFactory=o}encode(s){return s.termType==="Quad"?this.encodeQuotedTriple(s,!1):this.plainTermDictionary.encode(s)}encodeQuotedTriple(s,o){var u;if(s.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const l=(u=(0,r.encodeOptionalTerms)([s.subject,s.predicate,s.object,void 0],this))===null||u===void 0?void 0:u.slice(0,3),c=l&&l.every(h=>h!==void 0)?this.quotedTriplesReverseDictionary[l.join(Os.SEPARATOR)]:void 0;if(c!==void 0||o)return c===void 0?void 0:Os.BITMASK|c;const d=[this.encode(s.subject),this.encode(s.predicate),this.encode(s.object)],f=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(d),this.quotedTriplesReverseDictionary[d.join(Os.SEPARATOR)]=f,Os.BITMASK|f}encodeOptional(s){return s.termType==="Quad"?this.encodeQuotedTriple(s,!0):this.plainTermDictionary.encodeOptional(s)}decode(s){if(Os.BITMASK&s){const o=(~Os.BITMASK&s)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${s} is not present in the quoted triples range of the dictionary`);const u=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(u[0]),this.decode(u[1]),this.decode(u[2]))}return this.plainTermDictionary.decode(s)}*encodings(){for(const s of this.plainTermDictionary.encodings())yield s;for(const s of this.quotedTriplesDictionary.keys())yield Os.BITMASK|1+s}*findQuotedTriples(s){for(const o of this.findQuotedTriplesEncoded(s))yield this.decode(o)}*findQuotedTriplesEncoded(s){for(let o of this.quotedTriplesDictionary.keys()){o=Os.BITMASK|1+o;const u=this.decode(o);(0,t.matchPattern)(u,s.subject,s.predicate,s.object,s.graph)&&(yield o)}}};return n.BITMASK=1<<31,n.SEPARATOR="_",sm.TermDictionaryQuotedReferential=n,sm}var om={},gk;function QPe(){if(gk)return om;gk=1,Object.defineProperty(om,"__esModule",{value:!0}),om.TermDictionarySymbol=void 0;const e=xt,t=rr;let r=class{constructor(a=new e.DataFactory){this.features={quotedTriples:!1},this.dataFactory=a}encode(a){return Symbol.for(`rdf::${(0,t.termToString)(a)}`)}encodeOptional(a){return this.encode(a)}decode(a){const s=Symbol.keyFor(a);if(s===void 0)throw new Error(`The value ${String(a)} is not present in this dictionary`);return(0,t.stringToTerm)(s.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return om.TermDictionarySymbol=r,om}var mR={},_k;function zPe(){return _k||(_k=1,Object.defineProperty(mR,"__esModule",{value:!0})),mR}var um={},bk;function wZ(){if(bk)return um;bk=1,Object.defineProperty(um,"__esModule",{value:!0}),um.RdfStoreIndexNestedMapRecursive=void 0;const e=ts();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,a){let s=this.nestedMap,o=!1;for(const[u,l]of n.entries()){const c=s;let d=c.get(l);d?u===n.length-1&&(o=!0):(d=u===n.length-1?a:new Map,c.set(l,d)),s=d}return!o}remove(n){const a=this.nestedMap,s=a.get(n[0]);if(!s)return!1;const o=s.get(n[1]);if(!o)return!1;const u=o.get(n[2]);if(!u)return!1;const l=u.delete(n[3]);return l&&u.size===0&&(o.delete(n[2]),o.size===0&&(s.delete(n[1]),s.size===0&&a.delete(n[0]))),l}get(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(n){const a=this.nestedMap.get(n[0]);if(!a)return;const s=a.get(n[1]);if(!s)return;const o=s.get(n[2]);if(o)return o.get(n[3])}*find(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(a)for(const s of this.findEncoded(a,n))yield[a[0]!==void 0?n[0]:this.dictionary.decode(s[0]),a[1]!==void 0?n[1]:this.dictionary.decode(s[1]),a[2]!==void 0?n[2]:this.dictionary.decode(s[2]),a[3]!==void 0?n[3]:this.dictionary.decode(s[3])]}*findEncoded(n,a){return yield*this.findEncodedInner(0,n,a,this.nestedMap,[])}*findEncodedInner(n,a,s,o,u){if(n===a.length)yield[...u];else{const l=a[n];if(s[n]){const d=l;if(d!==void 0){const f=o.get(d);f&&(u[n]=l,yield*this.findEncodedInner(n+1,a,s,f,u))}}else for(const[d,f]of o.entries())u[n]=d,yield*this.findEncodedInner(n+1,a,s,f,u)}}count(n){return this.countInner(0,n,this.nestedMap)}countInner(n,a,s){const o=a[n];let u=0;if(o){const l=this.dictionary.encodeOptional(o);if(l!==void 0){if(n===a.length-1)return s.has(l)?1:0;const c=s.get(l);c&&(u+=this.countInner(n+1,a,c))}}else{if(n===a.length-1)return s.size;for(const l of s.values())u+=this.countInner(n+1,a,l)}return u}};return um.RdfStoreIndexNestedMapRecursive=t,um}var cm={},vk;function GPe(){if(vk)return cm;vk=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const e=ts(),t=wZ();let r=class extends t.RdfStoreIndexNestedMapRecursive{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*findEncoded(a,s){return yield*this.findEncodedInnerQuoted(0,a,s,(0,e.arePatternsQuoted)(s),this.nestedMap,[])}*findEncodedInnerQuoted(a,s,o,u,l,c){if(a===s.length)yield[...c];else{const d=s[a],f=o[a];if(f)if(u[a]){const h=this.dictionary.findQuotedTriplesEncoded(f);for(const p of h){const m=l.get(p);m&&(c[a]=p,yield*this.findEncodedInnerQuoted(a+1,s,o,u,m,c))}}else{const h=d;if(h!==void 0){const p=l.get(h);p&&(c[a]=d,yield*this.findEncodedInnerQuoted(a+1,s,o,u,p,c))}}else for(const[h,p]of l.entries())c[a]=h,yield*this.findEncodedInnerQuoted(a+1,s,o,u,p,c)}}countInner(a,s,o){const u=s[a];let l=0;if(u)if(u.termType==="Quad"&&(0,e.quadHasVariables)(u)){const c=this.dictionary.findQuotedTriplesEncoded(u);for(const d of c)if(a===s.length-1)o.has(d)&&l++;else{const f=o.get(d);f&&(l+=this.countInner(a+1,s,f))}}else{const c=this.dictionary.encodeOptional(u);if(c!==void 0){if(a===s.length-1)return o.has(c)?1:0;const d=o.get(c);d&&(l+=this.countInner(a+1,s,d))}}else{if(a===s.length-1)return o.size;for(const c of o.values())l+=this.countInner(a+1,s,c)}return l}};return cm.RdfStoreIndexNestedMapRecursiveQuoted=r,cm}var lm={},wk;function SZ(){if(wk)return lm;wk=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.RdfStoreIndexNestedRecord=void 0;const e=ts();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedRecords={}}set(n,a){const s=this.nestedRecords,o=s[n[0]]||(s[n[0]]={}),u=o[n[1]]||(o[n[1]]={}),l=u[n[2]]||(u[n[2]]={});return l[n[3]]?!1:(l[n[3]]=a,!0)}remove(n){const a=this.nestedRecords,s=a[n[0]];if(!s)return!1;const o=s[n[1]];if(!o)return!1;const u=o[n[2]];return!u||!u[n[3]]?!1:(delete u[n[3]],Object.keys(u).length===0&&(delete o[n[2]],Object.keys(o).length===0&&(delete s[n[1]],Object.keys(s).length===0&&delete a[n[0]])),!0)}get(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(n){var a,s,o;return(o=(s=(a=this.nestedRecords[n[0]])===null||a===void 0?void 0:a[n[1]])===null||s===void 0?void 0:s[n[2]])===null||o===void 0?void 0:o[n[3]]}*find(n){const a=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!a)return;const[s,o,u,l]=a,[c,d,f,h]=n;let p,m,y,g,b,v,_;const w=this.nestedRecords,S=s!==void 0?s in w?[s]:[]:Object.keys(w);for(const E of S){b=w[E],p=c||this.dictionary.decode(Number.parseInt(E,10));const x=o!==void 0?o in b?[o]:[]:Object.keys(b);for(const C of x){v=b[C],m=d||this.dictionary.decode(Number.parseInt(C,10));const I=u!==void 0?u in v?[u]:[]:Object.keys(v);for(const P of I){_=v[P],y=f||this.dictionary.decode(Number.parseInt(P,10));const L=l!==void 0?l in _?[l]:[]:Object.keys(_);for(const D of L)g=h||this.dictionary.decode(Number.parseInt(D,10)),yield[p,m,y,g]}}}}*findEncoded(n,a){const[s,o,u,l]=n;let c,d,f;const h=this.nestedRecords,p=s!==void 0?s in h?[s]:[]:Object.keys(h);for(const m of p){c=h[m];const y=o!==void 0?o in c?[o]:[]:Object.keys(c);for(const g of y){d=c[g];const b=u!==void 0?u in d?[u]:[]:Object.keys(d);for(const v of b){f=d[v];const _=l!==void 0?l in f?[l]:[]:Object.keys(f);for(const w of _)yield[Number.parseInt(m,10),Number.parseInt(g,10),Number.parseInt(v,10),Number.parseInt(w,10)]}}}}count(n){let a=0;const s=(0,e.encodeOptionalTerms)(n,this.dictionary);if(!s)return 0;const o=s[0],u=s[1],l=s[2],c=s[3];let d,f,h;const p=this.nestedRecords,m=o!==void 0?o in p?[o]:[]:Object.keys(p);for(const y of m){d=p[y];const g=u!==void 0?u in d?[u]:[]:Object.keys(d);for(const b of g){f=d[b];const v=l!==void 0?l in f?[l]:[]:Object.keys(f);for(const _ of v)h=f[_],c!==void 0?c in h&&a++:a+=Object.keys(h).length}}return a}};return lm.RdfStoreIndexNestedRecord=t,lm}var dm={},Sk;function WPe(){if(Sk)return dm;Sk=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.RdfStoreIndexNestedRecordQuoted=void 0;const e=ts(),t=SZ();let r=class extends t.RdfStoreIndexNestedRecord{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(a,s){for(const o of this.dictionary.findQuotedTriplesEncoded(s))o in a&&(yield o)}*find(a){const s=(0,e.encodeOptionalTerms)(a,this.dictionary);if(!s)return;const[o,u,l,c]=s,[d,f,h,p]=a,[m,y,g,b]=(0,e.arePatternsQuoted)(a);let v,_,w,S,E,x,C;const I=this.nestedRecords,P=d!==void 0?m?this.getQuotedPatternKeys(I,d):o in I?[o]:[]:Object.keys(I);for(const L of P){E=I[L],v=!m&&d?d:this.dictionary.decode(Number.parseInt(L,10));const D=f!==void 0?y?this.getQuotedPatternKeys(E,f):u in E?[u]:[]:Object.keys(E);for(const V of D){x=E[V],_=!y&&f?f:this.dictionary.decode(Number.parseInt(V,10));const k=h!==void 0?g?this.getQuotedPatternKeys(x,h):l in x?[l]:[]:Object.keys(x);for(const $ of k){C=x[$],w=!g&&h?h:this.dictionary.decode(Number.parseInt($,10));const H=p!==void 0?b?this.getQuotedPatternKeys(C,p):c in C?[c]:[]:Object.keys(C);for(const J of H)S=!b&&p?p:this.dictionary.decode(Number.parseInt(J,10)),yield[v,_,w,S]}}}}*findEncoded(a,s){const[o,u,l,c]=a,[d,f,h,p]=s,[m,y,g,b]=(0,e.arePatternsQuoted)(s);let v,_,w;const S=this.nestedRecords,E=d!==void 0?m?this.getQuotedPatternKeys(S,d):o in S?[o]:[]:Object.keys(S);for(const x of E){v=S[x];const C=f!==void 0?y?this.getQuotedPatternKeys(v,f):u in v?[u]:[]:Object.keys(v);for(const I of C){_=v[I];const P=h!==void 0?g?this.getQuotedPatternKeys(_,h):l in _?[l]:[]:Object.keys(_);for(const L of P){w=_[L];const D=p!==void 0?b?this.getQuotedPatternKeys(w,p):c in w?[c]:[]:Object.keys(w);for(const V of D)yield[Number.parseInt(x,10),Number.parseInt(I,10),Number.parseInt(L,10),Number.parseInt(V,10)]}}}}count(a){let s=0;const o=(0,e.encodeOptionalTerms)(a,this.dictionary);if(!o)return 0;const[u,l,c,d]=o,[f,h,p,m]=a,[y,g,b,v]=(0,e.arePatternsQuoted)(a);let _,w,S;const E=this.nestedRecords,x=f!==void 0?y?this.getQuotedPatternKeys(E,f):u in E?[u]:[]:Object.keys(E);for(const C of x){_=E[C];const I=h!==void 0?g?this.getQuotedPatternKeys(_,h):l in _?[l]:[]:Object.keys(_);for(const P of I){w=_[P];const L=p!==void 0?b?this.getQuotedPatternKeys(w,p):c in w?[c]:[]:Object.keys(w);for(const D of L)S=w[D],m!==void 0?v?s+=[...this.getQuotedPatternKeys(S,m)].length:d in S&&s++:s+=Object.keys(S).length}}return s}};return dm.RdfStoreIndexNestedRecordQuoted=r,dm}var gR={},Tk;function KPe(){return Tk||(Tk=1,Object.defineProperty(gR,"__esModule",{value:!0})),gR}var _R={},Ek;function JPe(){return Ek||(Ek=1,Object.defineProperty(_R,"__esModule",{value:!0})),_R}var Ak;function XPe(){return Ak||(Ak=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(vZ(),e),r($Pe(),e),r(UPe(),e),r(kPe(),e),r(yZ(),e),r(VPe(),e),r(mZ(),e),r(HPe(),e),r(QPe(),e),r(zPe(),e),r(BD(),e),r(gZ(),e),r(wZ(),e),r(GPe(),e),r(SZ(),e),r(WPe(),e),r(KPe(),e),r(ts(),e),r(JPe(),e),r(_Z(),e)}(hR)),hR}var Ok;function TZ(){if(Ok)return Jy;Ok=1,Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.storeStream=void 0;const e=XPe();function t(r){const n=e.RdfStore.createDefault();return new Promise((a,s)=>n.import(r).on("error",s).once("end",()=>a(n)))}return Jy.storeStream=t,Jy}var Rk;function YPe(){if(Rk)return Gy;Rk=1,Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.ActorQuerySourceIdentifyHypermediaNone=void 0;const e=qD(),t=Br(),r=FD(),n=TZ();let a=class extends r.ActorQuerySourceIdentifyHypermedia{constructor(o){super(o,"file")}async testMetadata(o){return{filterFactor:0}}async run(o){this.logInfo(o.context,`Identified as file source: ${o.url}`);const u=new e.QuerySourceRdfJs(await(0,n.storeStream)(o.quads),await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context));return u.toString=()=>`QuerySourceRdfJs(${o.url})`,u.referenceValue=o.url,{source:u}}};return Gy.ActorQuerySourceIdentifyHypermediaNone=a,Gy}var xk;function ZPe(){return xk||(xk=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(YPe(),e)}(lR)),lR}var bR={},fm={},vR={},hm={},pm={},wR={},Tu={},Ik;function rs(){if(Ik)return Tu;Ik=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.asTermType=Tu.ExpressionType=void 0;var e;(function(r){r.Aggregate="aggregate",r.Existence="existence",r.Named="named",r.Operator="operator",r.SpecialOperator="specialOperator",r.Term="term",r.Variable="variable",r.AsyncExtension="asyncExtension",r.SyncExtension="syncExtension"})(e||(Tu.ExpressionType=e={}));function t(r){if(r==="namedNode"||r==="literal"||r==="blankNode"||r==="quad")return r}return Tu.asTermType=t,Tu}var ym={},Pk;function eNe(){if(Pk)return ym;Pk=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.Variable=void 0;const e=rs();class t{constructor(n){this.expressionType=e.ExpressionType.Variable,this.name=n}}return ym.Variable=t,ym}var Pt={},mm={},SR={},Nk;function ni(){return Nk||(Nk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NamedOperators=e.SetFunctions=e.SetFunction=e.Operators=e.SpecialOperators=e.RegularOperators=e.SpecialOperator=e.RegularOperator=e.TypeURL=e.TypeAlias=void 0;var t;(function(o){o.SPARQL_NUMERIC="SPARQL_NUMERIC",o.SPARQL_STRINGLY="SPARQL_STRINGLY"})(t||(e.TypeAlias=t={}));var r;(function(o){o.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",o.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",o.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",o.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",o.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",o.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",o.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",o.XSD_G_MONTH="http://www.w3.org/2001/XMLSchema#gMonth",o.XSD_G_MONTHDAY="http://www.w3.org/2001/XMLSchema#gMonthDay",o.XSD_G_YEAR="http://www.w3.org/2001/XMLSchema#gYear",o.XSD_G_YEAR_MONTH="http://www.w3.org/2001/XMLSchema#gYearMonth",o.XSD_TIME="http://www.w3.org/2001/XMLSchema#time",o.XSD_G_DAY="http://www.w3.org/2001/XMLSchema#gDay",o.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",o.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",o.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",o.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",o.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",o.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",o.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",o.XSD_INT="http://www.w3.org/2001/XMLSchema#int",o.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",o.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",o.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",o.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",o.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",o.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",o.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",o.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",o.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",o.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",o.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",o.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",o.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",o.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",o.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",o.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",o.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",o.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",o.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",o.XSD_DAY_TIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"})(r||(e.TypeURL=r={}));var n;(function(o){o.NOT="!",o.UMINUS="uminus",o.UPLUS="uplus",o.EQUAL="=",o.NOT_EQUAL="!=",o.LT="<",o.GT=">",o.LTE="<=",o.GTE=">=",o.MULTIPLICATION="*",o.DIVISION="/",o.ADDITION="+",o.SUBTRACTION="-",o.IS_IRI="isiri",o.IS_URI="isuri",o.IS_BLANK="isblank",o.IS_LITERAL="isliteral",o.IS_NUMERIC="isnumeric",o.STR="str",o.LANG="lang",o.DATATYPE="datatype",o.IRI="iri",o.URI="uri",o.STRDT="strdt",o.STRLANG="strlang",o.UUID="uuid",o.STRUUID="struuid",o.STRLEN="strlen",o.SUBSTR="substr",o.UCASE="ucase",o.LCASE="lcase",o.STRSTARTS="strstarts",o.STRENDS="strends",o.CONTAINS="contains",o.STRBEFORE="strbefore",o.STRAFTER="strafter",o.ENCODE_FOR_URI="encode_for_uri",o.LANG_MATCHES="langmatches",o.REGEX="regex",o.REPLACE="replace",o.ABS="abs",o.ROUND="round",o.CEIL="ceil",o.FLOOR="floor",o.RAND="rand",o.NOW="now",o.YEAR="year",o.MONTH="month",o.DAY="day",o.HOURS="hours",o.MINUTES="minutes",o.SECONDS="seconds",o.TIMEZONE="timezone",o.TZ="tz",o.MD5="md5",o.SHA1="sha1",o.SHA256="sha256",o.SHA384="sha384",o.SHA512="sha512",o.TRIPLE="triple",o.SUBJECT="subject",o.PREDICATE="predicate",o.OBJECT="object",o.IS_TRIPLE="istriple"})(n||(e.RegularOperator=n={}));var a;(function(o){o.BOUND="bound",o.IF="if",o.COALESCE="coalesce",o.LOGICAL_OR="||",o.LOGICAL_AND="&&",o.SAME_TERM="sameterm",o.IN="in",o.NOT_IN="notin",o.CONCAT="concat",o.BNODE="bnode"})(a||(e.SpecialOperator=a={})),e.RegularOperators=new Set(Object.values(n)),e.SpecialOperators=new Set(Object.values(a)),e.Operators=new Set([...e.RegularOperators,...e.SpecialOperators]);var s;(function(o){o.COUNT="count",o.SUM="sum",o.MIN="min",o.MAX="max",o.AVG="avg",o.GROUP_CONCAT="group_concat",o.SAMPLE="sample"})(s||(e.SetFunction=s={})),e.SetFunctions=new Set(Object.values(s)),e.NamedOperators=new Set([r.XSD_STRING,r.XSD_FLOAT,r.XSD_DOUBLE,r.XSD_DECIMAL,r.XSD_INTEGER,r.XSD_DATE_TIME,r.XSD_DATE,r.XSD_BOOLEAN,r.XSD_TIME,r.XSD_DURATION,r.XSD_DAY_TIME_DURATION,r.XSD_YEAR_MONTH_DURATION])}(SR)),SR}var wt={},Dk;function vn(){if(Dk)return wt;Dk=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.NoExistenceHook=wt.NoAggregator=wt.ExtensionFunctionError=wt.UnknownNamedOperator=wt.UnknownOperator=wt.InvalidTermType=wt.InvalidExpressionType=wt.InvalidExpression=wt.InvalidArity=wt.UnexpectedError=wt.ParseError=wt.EmptyAggregateError=wt.IncompatibleLanguageOperation=wt.InvalidTimezoneCall=wt.CastError=wt.InvalidCompareArgumentTypes=wt.InvalidArgumentTypes=wt.InError=wt.CoalesceError=wt.RDFEqualTypeError=wt.EBVCoercionError=wt.UnboundVariableError=wt.InvalidLexicalForm=wt.isExpressionError=wt.ExpressionError=void 0;class e extends Error{}wt.ExpressionError=e;function t(P){return P instanceof e}wt.isExpressionError=t;class r extends e{constructor(L){super(`Invalid lexical form '${I(L)}'`),this.arg=L}}wt.InvalidLexicalForm=r;class n extends e{constructor(L,D){super(`Unbound variable '${I(L)}'`),this.variable=L,this.bindings=D}}wt.UnboundVariableError=n;class a extends e{constructor(L){super(`Cannot coerce term to EBV '${I(L)}'`),this.arg=L}}wt.EBVCoercionError=a;class s extends e{constructor(L){super("Equality test for literals with unsupported datatypes"),this.args=L}}wt.RDFEqualTypeError=s;class o extends e{constructor(L){super("All COALESCE arguments threw errors"),this.errors=L}}wt.CoalesceError=o;class u extends e{constructor(L){super(`Some argument to IN errorred and none where equal. ${L.map(D=>`(${D.toString()}) `).join("and ")}`),this.errors=L}}wt.InError=u;class l extends e{constructor(L,D){super(`Argument types not valid for operator: '${I(D)}' with '${I(L)}`),this.args=L,this.op=D}}wt.InvalidArgumentTypes=l;class c extends e{constructor(L,D){super(`Compared argument types are supported: '${L.termType}' and '${D.termType}'`),this.arg0=L,this.arg1=D}}wt.InvalidCompareArgumentTypes=c;class d extends e{constructor(L,D){super(`Invalid cast: '${I(L)}' to '${I(D)}'`),this.arg=L}}wt.CastError=d;class f extends e{constructor(L){super(`TIMEZONE call on ${L} which has no timezone`),this.dateString=L}}wt.InvalidTimezoneCall=f;class h extends e{constructor(L,D){super(`Operation on incompatible language literals '${I(L)}' and '${I(D)}'`),this.arg1=L,this.arg2=D}}wt.IncompatibleLanguageOperation=h;class p extends e{constructor(){super("Empty aggregate expression")}}wt.EmptyAggregateError=p;class m extends e{constructor(L,D){super(`Failed to parse ${L} as ${D}.`)}}wt.ParseError=m;class y extends Error{constructor(L,D){super(`Programmer Error '${L}'`),this.payload=D}}wt.UnexpectedError=y;class g extends Error{constructor(L,D){super(`The number of args does not match the arity of the operator '${I(D)}'.`),this.args=L,this.op=D}}wt.InvalidArity=g;class b extends Error{constructor(L){super(`Invalid SPARQL Expression '${I(L)}'`)}}wt.InvalidExpression=b;class v extends Error{constructor(L){super(`Invalid expression type for SPARQL Expression '${I(L)}'`),this.expr=L}}wt.InvalidExpressionType=v;class _ extends Error{constructor(L){super(`Invalid term type for term '${I(L)}'`),this.term=L}}wt.InvalidTermType=_;class w extends Error{constructor(L){super(`Unknown operator: '${I(L)}`)}}wt.UnknownOperator=w;class S extends Error{constructor(L){super(`Unknown named operator: '${I(L)}'`)}}wt.UnknownNamedOperator=S;class E extends Error{constructor(L,D){D instanceof Error?super(`Error thrown in ${L}: ${D.message}${D.stack?`
${D.stack}`:""}`):super(`Error thrown in ${L}`)}}wt.ExtensionFunctionError=E;class x extends Error{constructor(L){super(`Aggregate expression ${I(L)} found, but no aggregate hook provided.`)}}wt.NoAggregator=x;class C extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}}wt.NoExistenceHook=C;function I(P){return JSON.stringify(P)}return wt}var Vr={},Kt={},Ck;function Pd(){if(Ck)return Kt;Ck=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.extractTimeZone=Kt.extractRawTimeZone=Kt.dayTimeDurationsToSeconds=Kt.yearMonthDurationsToMonths=Kt.trimToDayTimeDuration=Kt.trimToYearMonthDuration=Kt.toUTCDate=Kt.toJSDate=Kt.negateDuration=Kt.toDateTimeRepresentation=Kt.defaultedDateTimeRepresentation=Kt.simplifyDurationRepresentation=Kt.defaultedDurationRepresentation=Kt.defaultedYearMonthDurationRepresentation=Kt.defaultedDayTimeDurationRepresentation=void 0;function e(y){return{day:y.day??0,hours:y.hours??0,minutes:y.minutes??0,seconds:y.seconds??0}}Kt.defaultedDayTimeDurationRepresentation=e;function t(y){return{year:y.year??0,month:y.month??0}}Kt.defaultedYearMonthDurationRepresentation=t;function r(y){return{...e(y),...t(y)}}Kt.defaultedDurationRepresentation=r;function n(y){const g=r(y),b={},v=g.year+Math.trunc(g.month/12);v&&(b.year=v,g.month%=12),g.month&&(b.month=g.month);const _=g.day+Math.trunc(g.hours/24)+Math.trunc(g.minutes/(24*60))+Math.trunc(g.seconds/(24*60*60));_&&(b.day=_,g.hours%=24,g.minutes%=24*60,g.seconds%=24*60*60);const w=g.hours+Math.trunc(g.minutes/60)+Math.trunc(g.seconds/(60*60));w&&(b.hours=w,g.minutes%=60,g.seconds%=60*60);const S=g.minutes+Math.trunc(g.seconds/60);return S&&(b.minutes=S,g.seconds%=60),g.seconds&&(b.seconds=g.seconds),b}Kt.simplifyDurationRepresentation=n;function a(y){return{...y,day:y.day??1,hours:y.hours??0,month:y.month??1,year:y.year??0,seconds:y.seconds??0,minutes:y.minutes??0}}Kt.defaultedDateTimeRepresentation=a;function s({date:y,timeZone:g}){return{year:y.getFullYear(),month:y.getMonth()+1,day:y.getDate(),hours:y.getHours(),minutes:y.getMinutes(),seconds:y.getSeconds(),zoneHours:g.zoneHours,zoneMinutes:g.zoneMinutes}}Kt.toDateTimeRepresentation=s;function o(y){return{year:y.year===void 0?void 0:-1*y.year,month:y.month===void 0?void 0:-1*y.month,day:y.day===void 0?void 0:-1*y.day,hours:y.hours===void 0?void 0:-1*y.hours,minutes:y.minutes===void 0?void 0:-1*y.minutes,seconds:y.seconds===void 0?void 0:-1*y.seconds}}Kt.negateDuration=o;function u(y){const g=new Date(y.year,y.month-1,y.day,y.hours,y.minutes,Math.trunc(y.seconds),y.seconds%1*1e3);return y.year>=0&&y.year<100&&g.setFullYear(g.getFullYear()-1900),g}Kt.toJSDate=u;function l(y,g){const b=u(a(y)),v=b.getTimezoneOffset(),_=y.zoneHours??g.zoneHours,w=y.zoneMinutes??g.zoneMinutes;return new Date(b.getTime()-(v+_*60+w)*60*1e3)}Kt.toUTCDate=l;function c(y){return{year:y.year,month:y.month}}Kt.trimToYearMonthDuration=c;function d(y){return{day:y.day,hours:y.hours,minutes:y.minutes,seconds:y.seconds}}Kt.trimToDayTimeDuration=d;function f(y){return y.year*12+y.month}Kt.yearMonthDurationsToMonths=f;function h(y){return((y.day*24+y.hours)*60+y.minutes)*60+y.seconds}Kt.dayTimeDurationsToSeconds=h;function p(y){return/(Z|([+-]\d\d:\d\d))?$/u.exec(y)[0]}Kt.extractRawTimeZone=p;function m(y){return{zoneHours:y.getTimezoneOffset()/60,zoneMinutes:y.getTimezoneOffset()%60}}return Kt.extractTimeZone=m,Kt}var _s={},Lk;function EZ(){if(Lk)return _s;Lk=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.elapsedDuration=_s.addDurationToDateTime=_s.maximumDayInMonthFor=void 0;const e=Pd();function t(s,o,u=0){const l=s-u,c=o-u,d=Math.floor(l/c);return{intDiv:d,remainder:s-d*c}}function r(s,o){const{intDiv:u,remainder:l}=t(o,13,1),c=s+u;return[1,3,5,7,8,10,12].includes(l)?31:[4,6,9,11].includes(l)?30:l===2&&(t(c,400).remainder===0||t(c,100).remainder!==0&&t(c,4).remainder===0)?29:28}_s.maximumDayInMonthFor=r;function n(s,o){const u={...s};let l=t(s.month+o.month,13,1);for(u.month=l.remainder,u.year=s.year+o.year+l.intDiv,l=t(s.seconds+o.seconds,60),u.seconds=l.remainder,l=t(s.minutes+o.minutes+l.intDiv,60),u.minutes=l.remainder,l=t(s.hours+o.hours+l.intDiv,24),u.hours=l.remainder,u.day=s.day+o.day+l.intDiv;;){let c;if(u.day<1)u.day+=r(u.year,u.month-1),c=-1;else if(u.day>r(u.year,u.month))u.day-=r(u.year,u.month),c=1;else break;l=t(u.month+c,13,1),u.month=l.remainder,u.year+=l.intDiv}return u}_s.addDurationToDateTime=n;function a(s,o,u){const l=(0,e.toUTCDate)(s,u),c=(0,e.toUTCDate)(o,u),d=l.getTime()-c.getTime();return{day:Math.floor(d/(1e3*60*60*24)),hours:Math.floor(d%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(d%(1e3*60*60)/(1e3*60)),seconds:d%(1e3*60)}}return _s.elapsedDuration=a,_s}var jk;function $I(){if(jk)return Vr;jk=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.parseDayTimeDuration=Vr.parseYearMonthDuration=Vr.parseDuration=Vr.parseTime=Vr.parseDate=Vr.parseDateTime=Vr.parseXSDInteger=Vr.parseXSDDecimal=Vr.parseXSDFloat=void 0;const e=Pd(),t=vn(),r=EZ();function n(m){const y=Number(m);return Number.isNaN(y)?m==="NaN"?Number.NaN:m==="INF"||m==="+INF"?Number.POSITIVE_INFINITY:m==="-INF"?Number.NEGATIVE_INFINITY:void 0:y}Vr.parseXSDFloat=n;function a(m){const y=Number(m);return Number.isNaN(y)?void 0:y}Vr.parseXSDDecimal=a;function s(m){const y=Number.parseInt(m,10);return Number.isNaN(y)?void 0:y}Vr.parseXSDInteger=s;function o(m){const[y,g]=m.split("T");return{...l(y),...c(g)}}Vr.parseDateTime=o;function u(m){if(m==="")return{zoneHours:void 0,zoneMinutes:void 0};if(m==="Z")return{zoneHours:0,zoneMinutes:0};const g=m.replaceAll(/^([+|-])(\d\d):(\d\d)$/gu,"$11!$2!$3").split("!").map(Number);return{zoneHours:g[0]*g[1],zoneMinutes:g[0]*g[2]}}function l(m){const y=m.replaceAll(/^(-)?([123456789]*\d{4})-(\d\d)-(\d\d)(Z|([+-]\d\d:\d\d))?$/gu,"$11!$2!$3!$4!$5");if(y===m)throw new t.ParseError(m,"date");const g=y.split("!"),b=g.slice(0,-1).map(Number),v={year:b[0]*b[1],month:b[2],day:b[3],...u(g[4])};if(!(v.month>=1&&v.month<=12)||!(v.day>=1&&v.day<=(0,r.maximumDayInMonthFor)(v.year,v.month)))throw new t.ParseError(m,"date");return v}Vr.parseDate=l;function c(m){const y=m.replaceAll(/^(\d\d):(\d\d):(\d\d(\.\d+)?)(Z|([+-]\d\d:\d\d))?$/gu,"$1!$2!$3!$5");if(y===m)throw new t.ParseError(m,"time");const g=y.split("!"),b=g.slice(0,-1).map(Number),v={hours:b[0],minutes:b[1],seconds:b[2],...u(g[3])};if(v.seconds>=60||v.minutes>=60||v.hours>24||v.hours===24&&(v.minutes!==0||v.seconds!==0))throw new t.ParseError(m,"time");return v}function d(m){const y=c(m);return y.hours%=24,y}Vr.parseTime=d;function f(m){const[y,g]=m.split("T"),b=y.replaceAll(/^(-)?P(\d+Y)?(\d+M)?(\d+D)?$/gu,"$11S!$2!$3!$4");if(b===y)throw new t.ParseError(m,"duration");const v=b.split("!");if(g!==void 0){const S=g.replaceAll(/^(\d+H)?(\d+M)?(\d+(\.\d+)?S)?$/gu,"$1!$2!$3");if(g===""||g===S)throw new t.ParseError(m,"duration");v.push(...S.split("!"))}const _=v.map(S=>S.slice(0,-1));if(!_.slice(1).some(Boolean))throw new t.ParseError(m,"duration");const w=Number(_[0]);return(0,e.simplifyDurationRepresentation)({year:_[1]?w*Number(_[1]):void 0,month:_[2]?w*Number(_[2]):void 0,day:_[3]?w*Number(_[3]):void 0,hours:_[4]?w*Number(_[4]):void 0,minutes:_[5]?w*Number(_[5]):void 0,seconds:_[6]?w*Number(_[6]):void 0})}Vr.parseDuration=f;function h(m){const y=f(m);if(["hours","minutes","seconds","day"].some(g=>!!y[g]))throw new t.ParseError(m,"yearMonthDuration");return y}Vr.parseYearMonthDuration=h;function p(m){const y=f(m);if(["year","month"].some(g=>!!y[g]))throw new t.ParseError(m,"dayTimeDuration");return y}return Vr.parseDayTimeDuration=p,Vr}var TR={},_r={},gm={},Mk;function AZ(){if(Mk)return gm;Mk=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.OverloadTree=void 0;const e=Di(),t=ZS();let r=class UI{constructor(a,s){this.identifier=a,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=s??0,this.promotionCount=void 0}getSubtree(a){const s=(0,t.asGeneralType)(a);if(s)return this.generalOverloads[s];for(const[o,u]of this.literalOverLoads)if(a===o)return u}getImplementationExact(a){let s=this;for(const o of a)if(s=s.getSubtree(o),!s)return;return s.implementation}search(a,s,o){let u=o[this.identifier],l=0;for(;l<a.length&&(u!=null&&u.cache);){const f=a[l],h=(0,e.isLiteralTermExpression)(f);u=u.cache[h?h.dataType:f.termType],l++}if(l===a.length&&(u!=null&&u.func))return u.func;const c=[],d=0;if(a.length===0)return this.implementation;for(c.push(...this.getSubTreeWithArg(a[d],s).map(f=>({node:f,index:d+1})));c.length>0;){const{index:f,node:h}=c.pop();if(f===a.length&&h.implementation)return this.addToCache(o,a,h.implementation),h.implementation;c.push(...h.getSubTreeWithArg(a[f],s).map(p=>({node:p,index:f+1})))}}addToCache(a,s,o){function u(c,d){return d in c||(c[d]={}),c[d]}let l=u(a,this.identifier);for(const c of s){const d=(0,e.isLiteralTermExpression)(c),f=d?d.dataType:c.termType;l.cache=l.cache??{},l=u(l.cache,f)}l.func=o}addOverload(a,s){this._addOverload([...a],s,0)}_addOverload(a,s,o){const[u,...l]=a;if(!u){(this.promotionCount===void 0||o<=this.promotionCount)&&(this.promotionCount=o,this.implementation=s);return}let c=this.getSubtree(u);if(!c){const d=new UI(this.identifier,this.depth+1),f=(0,t.asGeneralType)(u);f&&(this.generalOverloads[f]=d);const h=(0,t.asOverrideType)(u);h&&this.literalOverLoads.push([h,d]),c=d}if(c._addOverload(l,s,o),t.typePromotion[u])for(const d of t.typePromotion[u])this.addPromotedOverload(d.typeToPromote,s,d.conversionFunction,l,o)}addPromotedOverload(a,s,o,u,l){let c=this.getSubtree(a);if(!c){const d=new UI(this.identifier,this.depth+1);this.literalOverLoads.push([a,d]),c=d}c._addOverload(u,d=>f=>s(d)([...f.slice(0,this.depth),o(f[this.depth]),...f.slice(this.depth+1,f.length)]),l+1)}getSubTreeWithArg(a,s){const o=[],u=(0,e.isLiteralTermExpression)(a);if(this.generalOverloads.term&&o.push(this.generalOverloads.term),this.generalOverloads[a.termType]&&o.push(this.generalOverloads[a.termType]),u){const l=(0,t.asKnownLiteralType)(u.dataType);let c;l?c=t.superTypeDictTable[l]:c=(0,t.getSuperTypes)(u.dataType,s);const d=this.literalOverLoads.filter(([f,h])=>f in c).map(([f,h])=>[c[f],h]);d.sort(([f,h],[p,m])=>f-p),o.push(...d.map(([f,h])=>h))}return o}};return gm.OverloadTree=r,gm}var Fk;function ns(){if(Fk)return _r;Fk=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.expressionToVar=_r.dateTime=_r.langString=_r.string=_r.double=_r.float=_r.decimal=_r.integer=_r.bool=_r.Builder=_r.declare=void 0;const e=xt,t=Di(),r=Di(),n=ni(),a=ni(),s=vn(),o=AZ(),u=new e.DataFactory;function l(_){return new c(_)}_r.declare=l;class c{constructor(w){this.overloadTree=new o.OverloadTree(w),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}static wrapInvalidLexicalProtected(w){return S=>E=>{for(const[x,C]of E.entries())if(C instanceof r.NonLexicalLiteral)throw new s.InvalidLexicalForm(E[x].toRDF());return w(S)(E)}}set(w,S,E=!0){return this.overloadTree.addOverload(w,E?c.wrapInvalidLexicalProtected(S):S),this}copy({from:w,to:S}){const E=this.overloadTree.getImplementationExact(w);if(!E)throw new s.UnexpectedError("Tried to copy implementation, but types not found",{from:w,to:S});return this.set(S,E)}onUnary(w,S,E=!0){return this.set([w],x=>([C])=>S(x)(C),E)}onUnaryTyped(w,S,E=!0){return this.set([w],x=>([C])=>S(x)(C.typedValue),E)}onBinary(w,S,E=!0){return this.set(w,x=>([C,I])=>S(x)(C,I),E)}onBinaryTyped(w,S,E=!0){return this.set(w,x=>([C,I])=>S(x)(C.typedValue,I.typedValue),E)}onTernaryTyped(w,S,E=!0){return this.set(w,x=>([C,I,P])=>S(x)(C.typedValue,I.typedValue,P.typedValue),E)}onTernary(w,S,E=!0){return this.set(w,x=>([C,I,P])=>S(x)(C,I,P),E)}onQuaternaryTyped(w,S,E=!0){return this.set(w,x=>([C,I,P,L])=>S(x)(C.typedValue,I.typedValue,P.typedValue,L.typedValue),E)}onTerm1(w,S=!1){return this.set(["term"],E=>([x])=>w(E)(x),S)}onTerm3(w){return this.set(["term","term","term"],S=>([E,x,C])=>w(S)(E,x,C))}onQuad1(w){return this.set(["quad"],S=>([E])=>w(S)(E))}onLiteral1(w,S=!0){return this.set(["literal"],E=>([x])=>w(E)(x),S)}onBoolean1(w,S=!0){return this.set([n.TypeURL.XSD_BOOLEAN],E=>([x])=>w(E)(x),S)}onBoolean1Typed(w,S=!0){return this.set([n.TypeURL.XSD_BOOLEAN],E=>([x])=>w(E)(x.typedValue),S)}onString1(w,S=!0){return this.set([n.TypeURL.XSD_STRING],E=>([x])=>w(E)(x),S)}onString1Typed(w,S=!0){return this.set([n.TypeURL.XSD_STRING],E=>([x])=>w(E)(x.typedValue),S)}onLangString1(w,S=!0){return this.set([n.TypeURL.RDF_LANG_STRING],E=>([x])=>w(E)(x),S)}onStringly1(w,S=!0){return this.set([n.TypeAlias.SPARQL_STRINGLY],E=>([x])=>w(E)(x),S)}onStringly1Typed(w,S=!0){return this.set([n.TypeAlias.SPARQL_STRINGLY],E=>([x])=>w(E)(x.typedValue),S)}onNumeric1(w,S=!0){return this.set([n.TypeAlias.SPARQL_NUMERIC],E=>([x])=>w(E)(x),S)}onDateTime1(w,S=!0){return this.set([n.TypeURL.XSD_DATE_TIME],E=>([x])=>w(E)(x),S)}numericConverter(w,S=!0){const E=x=>C=>w(x)(C.typedValue);return this.onUnary(a.TypeURL.XSD_INTEGER,x=>C=>f(E(x)(C)),S).onUnary(a.TypeURL.XSD_DECIMAL,x=>C=>h(E(x)(C)),S).onUnary(a.TypeURL.XSD_FLOAT,x=>C=>p(E(x)(C)),S).onUnary(a.TypeURL.XSD_DOUBLE,x=>C=>m(E(x)(C)),S)}arithmetic(w,S=!0){const E=x=>(C,I)=>w(x)(C.typedValue,I.typedValue);return this.onBinary([a.TypeURL.XSD_INTEGER,a.TypeURL.XSD_INTEGER],x=>(C,I)=>f(E(x)(C,I)),S).onBinary([a.TypeURL.XSD_DECIMAL,a.TypeURL.XSD_DECIMAL],x=>(C,I)=>h(E(x)(C,I)),S).onBinary([a.TypeURL.XSD_FLOAT,a.TypeURL.XSD_FLOAT],x=>(C,I)=>p(E(x)(C,I)),S).onBinary([a.TypeURL.XSD_DOUBLE,a.TypeURL.XSD_DOUBLE],x=>(C,I)=>m(E(x)(C,I)),S)}numberTest(w){return this.numeric(S=>([E,x])=>{const C=w(S)(E.typedValue,x.typedValue);return d(C)})}stringTest(w,S=!0){return this.set([n.TypeURL.XSD_STRING,n.TypeURL.XSD_STRING],E=>([x,C])=>{const I=w(E)(x.typedValue,C.typedValue);return d(I)},S)}booleanTest(w,S=!0){return this.set([n.TypeURL.XSD_BOOLEAN,n.TypeURL.XSD_BOOLEAN],E=>([x,C])=>{const I=w(E)(x.typedValue,C.typedValue);return d(I)},S)}dateTimeTest(w,S=!0){return this.set([n.TypeURL.XSD_DATE_TIME,n.TypeURL.XSD_DATE_TIME],E=>([x,C])=>{const I=w(E)(x.typedValue,C.typedValue);return d(I)},S)}numeric(w){return this.set([n.TypeAlias.SPARQL_NUMERIC,n.TypeAlias.SPARQL_NUMERIC],w)}}_r.Builder=c;function d(_){return new t.BooleanLiteral(_)}_r.bool=d;function f(_){return new t.IntegerLiteral(_)}_r.integer=f;function h(_){return new t.DecimalLiteral(_)}_r.decimal=h;function p(_){return new t.FloatLiteral(_)}_r.float=p;function m(_){return new t.DoubleLiteral(_)}_r.double=m;function y(_){return new t.StringLiteral(_)}_r.string=y;function g(_,w){return new t.LangStringLiteral(_,w)}_r.langString=g;function b(_,w){return new t.DateTimeLiteral(_,w)}_r.dateTime=b;function v(_){return u.variable(_.name.slice(1))}return _r.expressionToVar=v,_r}var qk;function ZS(){return qk||(qk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.typePromotion=e.isSubTypeOf=e.getSuperTypeDict=e.isInternalSubType=e.asGeneralType=e.asOverrideType=e.asKnownLiteralType=e.asTypeAlias=e.typeAliasCheck=e.extensionTableInit=e.getSuperTypes=e.superTypeDictTable=e.extensionTableInput=void 0;const t=Di(),r=ns(),n=ni();e.extensionTableInput={[n.TypeURL.XSD_DATE_TIME_STAMP]:n.TypeURL.XSD_DATE_TIME,[n.TypeURL.XSD_DAY_TIME_DURATION]:n.TypeURL.XSD_DURATION,[n.TypeURL.XSD_YEAR_MONTH_DURATION]:n.TypeURL.XSD_DURATION,[n.TypeURL.RDF_LANG_STRING]:n.TypeAlias.SPARQL_STRINGLY,[n.TypeURL.XSD_STRING]:n.TypeAlias.SPARQL_STRINGLY,[n.TypeURL.XSD_NORMALIZED_STRING]:n.TypeURL.XSD_STRING,[n.TypeURL.XSD_TOKEN]:n.TypeURL.XSD_NORMALIZED_STRING,[n.TypeURL.XSD_LANGUAGE]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NM_TOKEN]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NAME]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NC_NAME]:n.TypeURL.XSD_NAME,[n.TypeURL.XSD_ENTITY]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_ID]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_ID_REF]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_DOUBLE]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_FLOAT]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_DECIMAL]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_INTEGER]:n.TypeURL.XSD_DECIMAL,[n.TypeURL.XSD_NON_POSITIVE_INTEGER]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_NEGATIVE_INTEGER]:n.TypeURL.XSD_NON_POSITIVE_INTEGER,[n.TypeURL.XSD_LONG]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_INT]:n.TypeURL.XSD_LONG,[n.TypeURL.XSD_SHORT]:n.TypeURL.XSD_INT,[n.TypeURL.XSD_BYTE]:n.TypeURL.XSD_SHORT,[n.TypeURL.XSD_NON_NEGATIVE_INTEGER]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_POSITIVE_INTEGER]:n.TypeURL.XSD_NON_NEGATIVE_INTEGER,[n.TypeURL.XSD_UNSIGNED_LONG]:n.TypeURL.XSD_NON_NEGATIVE_INTEGER,[n.TypeURL.XSD_UNSIGNED_INT]:n.TypeURL.XSD_UNSIGNED_LONG,[n.TypeURL.XSD_UNSIGNED_SHORT]:n.TypeURL.XSD_UNSIGNED_INT,[n.TypeURL.XSD_UNSIGNED_BYTE]:n.TypeURL.XSD_UNSIGNED_SHORT,[n.TypeURL.XSD_DATE_TIME]:"term",[n.TypeURL.XSD_BOOLEAN]:"term",[n.TypeURL.XSD_DATE]:"term",[n.TypeURL.XSD_G_MONTH]:"term",[n.TypeURL.XSD_G_MONTHDAY]:"term",[n.TypeURL.XSD_G_YEAR]:"term",[n.TypeURL.XSD_G_YEAR_MONTH]:"term",[n.TypeURL.XSD_TIME]:"term",[n.TypeURL.XSD_G_DAY]:"term",[n.TypeURL.XSD_DURATION]:"term",[n.TypeAlias.SPARQL_NUMERIC]:"term",[n.TypeAlias.SPARQL_STRINGLY]:"term",[n.TypeURL.XSD_ANY_URI]:"term"},e.superTypeDictTable=Object.create(null);function a(y,g){const b=g.cache.get(y);if(b)return b;const v=g.discoverer(y);if(v==="term"){const S=Object.create(null);return S.__depth=0,S[y]=0,g.cache.set(y,S),S}let _;const w=c(v);return w?_={...e.superTypeDictTable[w]}:_={...a(v,g)},_.__depth++,_[y]=_.__depth,g.cache.set(y,_),_}e.getSuperTypes=a;function s(){for(const[y,g]of Object.entries(e.extensionTableInput)){const b=y;e.superTypeDictTable[b]||o(b,g,e.superTypeDictTable)}}e.extensionTableInit=s,s();function o(y,g,b){if(g==="term"||g===void 0){const v=Object.create(null);v.__depth=0,v[y]=0,b[y]=v;return}b[g]||o(g,e.extensionTableInput[g],b),b[y]={...b[g],[y]:b[g].__depth+1,__depth:b[g].__depth+1}}e.typeAliasCheck=Object.create(null);function u(){for(const y of Object.values(n.TypeAlias))e.typeAliasCheck[y]=!0}u();function l(y){if(y in e.typeAliasCheck)return y}e.asTypeAlias=l;function c(y){if(y in e.superTypeDictTable)return y}e.asKnownLiteralType=c;function d(y){if(c(y)??y==="term")return y}e.asOverrideType=d;function f(y){if(y==="term"||(0,t.asTermType)(y))return y}e.asGeneralType=f;function h(y,g){return y!=="term"&&e.superTypeDictTable[y]&&e.superTypeDictTable[y][g]!==void 0}e.isInternalSubType=h;function p(y,g){const b=c(y);return b?e.superTypeDictTable[b]:a(y,g)}e.getSuperTypeDict=p;function m(y,g,b){return y==="term"?!1:p(y,b)[g]!==void 0}e.isSubTypeOf=m,e.typePromotion={[n.TypeURL.XSD_STRING]:[{typeToPromote:n.TypeURL.XSD_ANY_URI,conversionFunction:y=>(0,r.string)(y.str())}],[n.TypeURL.XSD_DOUBLE]:[{typeToPromote:n.TypeURL.XSD_FLOAT,conversionFunction:y=>(0,r.double)(y.typedValue)},{typeToPromote:n.TypeURL.XSD_DECIMAL,conversionFunction:y=>(0,r.double)(y.typedValue)}],[n.TypeURL.XSD_FLOAT]:[{typeToPromote:n.TypeURL.XSD_DECIMAL,conversionFunction:y=>(0,r.float)(y.typedValue)}]}}(TR)),TR}var Bk;function xc(){if(Bk)return mm;Bk=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.TermTransformer=void 0;const e=rr,t=Nt(),r=Di(),n=ni(),a=vn(),s=vn(),o=$I(),u=$I(),l=ZS();let c=class{constructor(f){this.superTypeProvider=f}transformRDFTermUnsafe(f){return this.transformTerm({term:f,type:t.Algebra.types.EXPRESSION,expressionType:t.Algebra.expressionTypes.TERM})}transformTerm(f){if(!f.term)throw new a.InvalidExpression(f);switch(f.term.termType){case"Variable":return new r.Variable(e.termToString(f.term));case"Literal":return this.transformLiteral(f.term);case"NamedNode":return new r.NamedNode(f.term.value);case"BlankNode":return new r.BlankNode(f.term.value);case"Quad":return new r.Quad(f.term,this.superTypeProvider);default:throw new a.InvalidTermType(f)}}transformLiteral(f){if(!f.datatype||[null,void 0,""].includes(f.datatype.value))return f.language?new r.LangStringLiteral(f.value,f.language):new r.StringLiteral(f.value);const h=f.datatype.value,p=(0,l.getSuperTypeDict)(h,this.superTypeProvider);try{if(n.TypeURL.XSD_STRING in p)return new r.StringLiteral(f.value,h);if(n.TypeURL.RDF_LANG_STRING in p)return new r.LangStringLiteral(f.value,f.language);if(n.TypeURL.XSD_YEAR_MONTH_DURATION in p)return new r.YearMonthDurationLiteral((0,o.parseYearMonthDuration)(f.value),f.value,h);if(n.TypeURL.XSD_DAY_TIME_DURATION in p)return new r.DayTimeDurationLiteral((0,o.parseDayTimeDuration)(f.value),f.value,h);if(n.TypeURL.XSD_DURATION in p)return new r.DurationLiteral((0,o.parseDuration)(f.value),f.value,h);if(n.TypeURL.XSD_DATE_TIME in p){const g=new Date(f.value);return Number.isNaN(g.getTime())?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):new r.DateTimeLiteral((0,o.parseDateTime)(f.value),f.value,h)}if(n.TypeURL.XSD_DATE in p)return new r.DateLiteral((0,o.parseDate)(f.value),f.value,h);if(n.TypeURL.XSD_TIME in p)return new r.TimeLiteral((0,o.parseTime)(f.value),f.value,h);if(n.TypeURL.XSD_BOOLEAN in p)return f.value!=="true"&&f.value!=="false"&&f.value!=="1"&&f.value!=="0"?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):new r.BooleanLiteral(f.value==="true"||f.value==="1",f.value);if(n.TypeURL.XSD_DECIMAL in p){const g=u.parseXSDDecimal(f.value);return g===void 0?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):n.TypeURL.XSD_INTEGER in p?new r.IntegerLiteral(g,h,f.value):new r.DecimalLiteral(g,h,f.value)}const m=n.TypeURL.XSD_FLOAT in p,y=n.TypeURL.XSD_DOUBLE in p;if(m||y){const g=u.parseXSDFloat(f.value);return g===void 0?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):m?new r.FloatLiteral(g,h,f.value):new r.DoubleLiteral(g,h,f.value)}return new r.Literal(f.value,h,f.value)}catch(m){if(m instanceof Error&&(0,s.isExpressionError)(m))return new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value);throw m}}};return mm.TermTransformer=c,mm}var ua={},$k;function tNe(){if($k)return ua;$k=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.serializeDuration=ua.serializeTime=ua.serializeDate=ua.serializeDateTime=void 0;function e(o,u=2){return o.toLocaleString(void 0,{minimumIntegerDigits:u,useGrouping:!1})}function t(o){return`${n({year:o.year,month:o.month,day:o.day})}T${a(o)}`}ua.serializeDateTime=t;function r(o){return o.zoneHours===void 0||o.zoneMinutes===void 0?"":o.zoneHours===0&&o.zoneMinutes===0?"Z":`${o.zoneHours>=0?`+${e(o.zoneHours)}`:e(o.zoneHours)}:${e(Math.abs(o.zoneMinutes))}`}function n(o){return`${e(o.year,4)}-${e(o.month)}-${e(o.day)}${r(o)}`}ua.serializeDate=n;function a(o){return`${e(o.hours)}:${e(o.minutes)}:${e(o.seconds)}${r(o)}`}ua.serializeTime=a;function s(o,u="PT0S"){if(!Object.values(o).some(g=>(g||0)!==0))return u;const l=Object.values(o).some(g=>(g||0)<0)?"-":"",c=o.year?`${Math.abs(o.year)}Y`:"",d=o.month?`${Math.abs(o.month)}M`:"",f=o.day?`${Math.abs(o.day)}D`:"",h=`${l}P${c}${d}${f}`;if(!(o.hours||o.minutes||o.seconds))return h;const p=o.hours?`${Math.abs(o.hours)}H`:"",m=o.minutes?`${Math.abs(o.minutes)}M`:"",y=o.seconds?`${Math.abs(o.seconds)}S`:"";return`${h}T${p}${m}${y}`}return ua.serializeDuration=s,ua}var Uk;function rNe(){if(Uk)return Pt;Uk=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.isNonLexicalLiteral=Pt.NonLexicalLiteral=Pt.YearMonthDurationLiteral=Pt.DayTimeDurationLiteral=Pt.DurationLiteral=Pt.DateLiteral=Pt.TimeLiteral=Pt.DateTimeLiteral=Pt.StringLiteral=Pt.LangStringLiteral=Pt.BooleanLiteral=Pt.DoubleLiteral=Pt.FloatLiteral=Pt.DecimalLiteral=Pt.IntegerLiteral=Pt.NumericLiteral=Pt.Literal=Pt.isLiteralTermExpression=Pt.Quad=Pt.BlankNode=Pt.NamedNode=Pt.Term=void 0;const e=xt,t=xc(),r=ni(),n=ni(),a=vn(),s=tNe(),o=ZS(),u=rs(),l=new e.DataFactory;class c{constructor(){this.expressionType=u.ExpressionType.Term}str(){throw new a.InvalidArgumentTypes([this],r.RegularOperator.STR)}coerceEBV(){throw new a.EBVCoercionError(this)}}Pt.Term=c;class d extends c{constructor(H){super(),this.value=H,this.termType="namedNode"}toRDF(){return l.namedNode(this.value)}str(){return this.value}}Pt.NamedNode=d;class f extends c{constructor(H){super(),this.termType="blankNode",this.value=typeof H=="string"?l.blankNode(H):H}toRDF(){return this.value}}Pt.BlankNode=f;class h extends c{constructor(H,J){super(),this.termType="quad",this.transformer=new t.TermTransformer(J),this.valueTerm=H}toRDF(){return this.valueTerm}get subject(){return this.transformer.transformRDFTermUnsafe(this.RDFsubject)}get predicate(){return this.transformer.transformRDFTermUnsafe(this.RDFpredicate)}get object(){return this.transformer.transformRDFTermUnsafe(this.RDFobject)}get RDFsubject(){return this.toRDF().subject}get RDFpredicate(){return this.toRDF().predicate}get RDFobject(){return this.toRDF().object}}Pt.Quad=h;function p($){if($.termType==="literal")return $}Pt.isLiteralTermExpression=p;class m extends c{constructor(H,J,Y,de){super(),this.typedValue=H,this.dataType=J,this.strValue=Y,this.language=de,this.termType="literal"}toRDF(){return l.literal(this.strValue??this.str(),this.language??l.namedNode(this.dataType))}str(){return this.strValue??this.typedValue.toString()}}Pt.Literal=m;class y extends m{constructor(H,J,Y,de){super(H,J,Y,de),this.typedValue=H,this.strValue=Y,this.language=de}coerceEBV(){return!!this.typedValue}toRDF(){const H=super.toRDF();return Number.isFinite(this.typedValue)||(H.value=H.value.replace("Infinity","INF")),H}str(){return this.strValue??this.specificFormatter(this.typedValue)}}Pt.NumericLiteral=y;class g extends y{constructor(H,J,Y,de){super(H,J??n.TypeURL.XSD_INTEGER,Y,de),this.typedValue=H,this.strValue=Y,this.language=de}specificFormatter(H){return H.toFixed(0)}}Pt.IntegerLiteral=g;class b extends y{constructor(H,J,Y,de){super(H,J??n.TypeURL.XSD_DECIMAL,Y,de),this.typedValue=H,this.strValue=Y,this.language=de}specificFormatter(H){return H.toString()}}Pt.DecimalLiteral=b;class v extends y{constructor(H,J,Y,de){super(H,J??n.TypeURL.XSD_FLOAT,Y,de),this.typedValue=H,this.strValue=Y,this.language=de}specificFormatter(H){return H.toString()}}Pt.FloatLiteral=v;class _ extends y{constructor(H,J,Y,de){super(H,J??n.TypeURL.XSD_DOUBLE,Y,de),this.typedValue=H,this.strValue=Y,this.language=de}specificFormatter(H){if(!Number.isFinite(H))return H>0?"INF":H<0?"-INF":"NaN";const J=H.toExponential(),[Y,de]=J.split("e"),Te=de.replace(/\+/u,"");return`${Y.includes(".")?Y:`${Y}.0`}E${Te}`}}Pt.DoubleLiteral=_;class w extends m{constructor(H,J,Y){super(H,Y??n.TypeURL.XSD_BOOLEAN,J),this.typedValue=H,this.strValue=J}coerceEBV(){return this.typedValue}}Pt.BooleanLiteral=w;class S extends m{constructor(H,J,Y){super(H,Y??n.TypeURL.RDF_LANG_STRING,H,J),this.typedValue=H,this.language=J}coerceEBV(){return this.str().length>0}}Pt.LangStringLiteral=S;class E extends m{constructor(H,J){super(H,J??n.TypeURL.XSD_STRING,H),this.typedValue=H}coerceEBV(){return this.str().length>0}}Pt.StringLiteral=E;class x extends m{constructor(H,J,Y){super(H,Y??n.TypeURL.XSD_DATE_TIME,J),this.typedValue=H,this.strValue=J}str(){return(0,s.serializeDateTime)(this.typedValue)}}Pt.DateTimeLiteral=x;class C extends m{constructor(H,J,Y){super(H,Y??n.TypeURL.XSD_TIME,J),this.typedValue=H,this.strValue=J}str(){return(0,s.serializeTime)(this.typedValue)}}Pt.TimeLiteral=C;class I extends m{constructor(H,J,Y){super(H,Y??n.TypeURL.XSD_DATE,J),this.typedValue=H,this.strValue=J}str(){return(0,s.serializeDate)(this.typedValue)}}Pt.DateLiteral=I;class P extends m{constructor(H,J,Y){super(H,Y??n.TypeURL.XSD_DURATION,J),this.typedValue=H,this.strValue=J}str(){return(0,s.serializeDuration)(this.typedValue)}}Pt.DurationLiteral=P;class L extends P{constructor(H,J,Y){super(H,J,Y??n.TypeURL.XSD_DAY_TIME_DURATION),this.typedValue=H,this.strValue=J}}Pt.DayTimeDurationLiteral=L;class D extends m{constructor(H,J,Y){super(H,Y??n.TypeURL.XSD_YEAR_MONTH_DURATION,J),this.typedValue=H,this.strValue=J}str(){return(0,s.serializeDuration)(this.typedValue,"P0M")}}Pt.YearMonthDurationLiteral=D;class V extends m{constructor(H,J,Y,de,Te){super({toString:()=>"undefined"},J,de,Te),this.openWorldType=Y}coerceEBV(){if((0,o.isSubTypeOf)(this.dataType,n.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,o.isSubTypeOf)(this.dataType,n.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new a.EBVCoercionError(this)}toRDF(){return l.literal(this.str(),this.language??l.namedNode(this.dataType))}str(){return this.strValue??""}}Pt.NonLexicalLiteral=V;function k($){if($ instanceof V)return $}return Pt.isNonLexicalLiteral=k,Pt}var _m={},kk;function nNe(){if(kk)return _m;kk=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.Operator=void 0;const e=rs();let t=class{constructor(n,a){this.args=n,this.apply=a,this.expressionType=e.ExpressionType.Operator}};return _m.Operator=t,_m}var bm={},Vk;function iNe(){if(Vk)return bm;Vk=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.SpecialOperator=void 0;const e=rs();let t=class{constructor(n,a,s){this.args=n,this.applyAsync=a,this.applySynchronously=s,this.expressionType=e.ExpressionType.SpecialOperator}};return bm.SpecialOperator=t,bm}var vm={},Hk;function aNe(){if(Hk)return vm;Hk=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.Named=void 0;const e=rs();let t=class{constructor(n,a,s){this.name=n,this.args=a,this.apply=s,this.expressionType=e.ExpressionType.Named}};return vm.Named=t,vm}var wm={},Qk;function sNe(){if(Qk)return wm;Qk=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.Aggregate=void 0;const e=rs();let t=class{constructor(n,a){this.name=n,this.expression=a,this.expressionType=e.ExpressionType.Aggregate}};return wm.Aggregate=t,wm}var Sm={},zk;function oNe(){if(zk)return Sm;zk=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.Existence=void 0;const e=rs();let t=class{constructor(n){this.expression=n,this.expressionType=e.ExpressionType.Existence}};return Sm.Existence=t,Sm}var Tm={},Gk;function uNe(){if(Gk)return Tm;Gk=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.AsyncExtension=void 0;const e=rs();let t=class{constructor(n,a,s){this.name=n,this.args=a,this.apply=s,this.expressionType=e.ExpressionType.AsyncExtension}};return Tm.AsyncExtension=t,Tm}var Em={},Wk;function cNe(){if(Wk)return Em;Wk=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.SyncExtension=void 0;const e=rs();let t=class{constructor(n,a,s){this.name=n,this.args=a,this.apply=s,this.expressionType=e.ExpressionType.SyncExtension}};return Em.SyncExtension=t,Em}var Kk;function Di(){return Kk||(Kk=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(rs(),e),r(eNe(),e),r(rNe(),e),r(nNe(),e),r(iNe(),e),r(aNe(),e),r(sNe(),e),r(oNe(),e),r(uNe(),e),r(cNe(),e)}(wR)),wR}var ER={},ca={},Jk;function kI(){if(Jk)return ca;Jk=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.SpecialFunction=ca.NamedFunction=ca.RegularFunction=ca.BaseFunction=void 0;const e=vn();class t{constructor(u,l){this.operator=u,this.apply=(c,d)=>(this.monomorph(c,d.superTypeProvider,d.functionArgumentsCache)??this.handleInvalidTypes(c))(d)(c),this.arity=l.arity,this.overloads=l.overloads}monomorph(u,l,c){return this.overloads.search(u,l,c)}}ca.BaseFunction=t;class r extends t{constructor(u,l){super(u,l),this.functionClass="regular"}handleInvalidTypes(u){throw new e.InvalidArgumentTypes(u,this.operator)}}ca.RegularFunction=r;class n extends t{constructor(u,l){super(u,l),this.functionClass="named"}handleInvalidTypes(u){throw new e.InvalidArgumentTypes(u,this.operator)}}ca.NamedFunction=n;class a{constructor(u,l){this.operator=u,this.functionClass="special",this.arity=l.arity,this.applySynchronously=l.applySynchronously,this.applyAsync=l.applyAsync,this.checkArity=l.checkArity??s(this.arity)}}ca.SpecialFunction=a;function s(o){return u=>o===Number.POSITIVE_INFINITY?!0:u.length===o}return ca}var Am={},Xk;function lNe(){if(Xk)return Am;Xk=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.namedDefinitions=void 0;const e=Di(),t=Di(),r=ni(),n=Pd(),a=vn(),s=$I(),o=ns(),u={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_STRING).onNumeric1(()=>_=>(0,o.string)((0,o.float)(_.typedValue).str())).onBoolean1Typed(()=>_=>(0,o.string)((0,o.bool)(_).str())).onTerm1(()=>_=>(0,o.string)(_.str())).collect()},l={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_FLOAT).onNumeric1(()=>_=>(0,o.float)(_.typedValue)).onBoolean1Typed(()=>_=>(0,o.float)(_?1:0)).onUnary(r.TypeURL.XSD_STRING,()=>_=>{const w=(0,s.parseXSDFloat)(_.str());if(w===void 0)throw new a.CastError(_,r.TypeURL.XSD_FLOAT);return(0,o.float)(w)},!1).collect()},c={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_DOUBLE).onNumeric1(()=>_=>(0,o.double)(_.typedValue)).onBoolean1Typed(()=>_=>(0,o.double)(_?1:0)).onUnary(r.TypeURL.XSD_STRING,()=>_=>{const w=(0,s.parseXSDFloat)(_.str());if(w===void 0)throw new a.CastError(_,r.TypeURL.XSD_DOUBLE);return(0,o.double)(w)},!1).collect()},d={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_DECIMAL).onNumeric1(()=>_=>{const w=(0,s.parseXSDDecimal)(_.str());if(w===void 0)throw new a.CastError(_,r.TypeURL.XSD_DECIMAL);return(0,o.decimal)(w)}).onString1(()=>_=>{const w=_.str(),S=/^([+-])?(\d+(\.\d+)?)$/u.test(w)?(0,s.parseXSDDecimal)(w):void 0;if(S===void 0)throw new a.CastError(_,r.TypeURL.XSD_DECIMAL);return(0,o.decimal)(S)},!1).onBoolean1Typed(()=>_=>(0,o.decimal)(_?1:0)).collect()},f={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>_=>(0,o.integer)(_?1:0)).onNumeric1(()=>_=>{const w=(0,s.parseXSDInteger)(_.str());if(w===void 0)throw new a.CastError(_,r.TypeURL.XSD_INTEGER);return(0,o.integer)(w)},!1).onString1(()=>_=>{const w=_.str(),S=/^\d+$/u.test(w)?(0,s.parseXSDInteger)(w):void 0;if(S===void 0)throw new a.CastError(_,r.TypeURL.XSD_INTEGER);return(0,o.integer)(S)}).collect()},h={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_DATE_TIME).onUnary(r.TypeURL.XSD_DATE_TIME,()=>_=>_).onUnary(r.TypeURL.XSD_STRING,()=>_=>(0,o.dateTime)((0,s.parseDateTime)(_.str()),_.str()),!1).onUnary(r.TypeURL.XSD_DATE,()=>_=>new e.DateTimeLiteral({..._.typedValue,hours:0,minutes:0,seconds:0})).collect()},p={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_BOOLEAN).onNumeric1(()=>_=>(0,o.bool)(_.coerceEBV()),!0).onUnary(r.TypeURL.XSD_BOOLEAN,()=>_=>(0,o.bool)(_.coerceEBV()),!0).onUnary(r.TypeURL.XSD_STRING,()=>_=>{switch(_.str()){case"true":return(0,o.bool)(!0);case"false":return(0,o.bool)(!1);case"1":return(0,o.bool)(!0);case"0":return(0,o.bool)(!1);default:throw new a.CastError(_,r.TypeURL.XSD_BOOLEAN)}},!1).collect()},m={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_TIME).onUnary(r.TypeURL.XSD_TIME,()=>_=>new e.TimeLiteral(_.typedValue,_.strValue)).onUnary(r.TypeURL.XSD_DATE_TIME,()=>_=>new e.TimeLiteral(_.typedValue)).onStringly1(()=>_=>new e.TimeLiteral((0,s.parseTime)(_.str()))).collect()},y={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_DATE).onUnary(r.TypeURL.XSD_DATE,()=>_=>new e.DateLiteral(_.typedValue,_.strValue)).onUnary(r.TypeURL.XSD_DATE_TIME,()=>_=>new e.DateLiteral(_.typedValue)).onStringly1(()=>_=>new e.DateLiteral((0,s.parseDate)(_.str()))).collect()},g={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_DURATION).onUnary(r.TypeURL.XSD_DURATION,()=>_=>new e.DurationLiteral(_.typedValue,_.strValue)).onStringly1(()=>_=>new t.DurationLiteral((0,s.parseDuration)(_.str()))).collect()},b={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_DAY_TIME_DURATION).onUnary(r.TypeURL.XSD_DURATION,()=>_=>new e.DayTimeDurationLiteral((0,n.trimToDayTimeDuration)(_.typedValue))).onStringly1(()=>_=>new e.DayTimeDurationLiteral((0,s.parseDayTimeDuration)(_.str()))).collect()},v={arity:1,overloads:(0,o.declare)(r.TypeURL.XSD_YEAR_MONTH_DURATION).onUnary(r.TypeURL.XSD_DURATION,()=>_=>new e.YearMonthDurationLiteral((0,n.trimToYearMonthDuration)(_.typedValue))).onStringly1(()=>_=>new e.YearMonthDurationLiteral((0,s.parseYearMonthDuration)(_.str()))).collect()};return Am.namedDefinitions={[r.TypeURL.XSD_STRING]:u,[r.TypeURL.XSD_FLOAT]:l,[r.TypeURL.XSD_DOUBLE]:c,[r.TypeURL.XSD_DECIMAL]:d,[r.TypeURL.XSD_INTEGER]:f,[r.TypeURL.XSD_DATE_TIME]:h,[r.TypeURL.XSD_DATE]:y,[r.TypeURL.XSD_BOOLEAN]:p,[r.TypeURL.XSD_TIME]:m,[r.TypeURL.XSD_DURATION]:g,[r.TypeURL.XSD_DAY_TIME_DURATION]:b,[r.TypeURL.XSD_YEAR_MONTH_DURATION]:v},Am}var Om={},AR={exports:{}},Yk;function dNe(){return Yk||(Yk=1,function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,o="[BigNumber Error] ",u=o+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,p=1e9;function m(E){var x,C,I,P=ue.prototype={constructor:ue,toString:null,valueOf:null},L=new ue(1),D=20,V=4,k=-7,$=21,H=-1e7,J=1e7,Y=!1,de=1,Te=0,De={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Ve="0123456789abcdefghijklmnopqrstuvwxyz",le=!0;function ue(z,M){var B,T,O,U,G,Q,Z,ie,te=this;if(!(te instanceof ue))return new ue(z,M);if(M==null){if(z&&z._isBigNumber===!0){te.s=z.s,!z.c||z.e>J?te.c=te.e=null:z.e<H?te.c=[te.e=0]:(te.e=z.e,te.c=z.c.slice());return}if((Q=typeof z=="number")&&z*0==0){if(te.s=1/z<0?(z=-z,-1):1,z===~~z){for(U=0,G=z;G>=10;G/=10,U++);U>J?te.c=te.e=null:(te.e=U,te.c=[z]);return}ie=String(z)}else{if(!n.test(ie=String(z)))return I(te,ie,Q);te.s=ie.charCodeAt(0)==45?(ie=ie.slice(1),-1):1}(U=ie.indexOf("."))>-1&&(ie=ie.replace(".","")),(G=ie.search(/e/i))>0?(U<0&&(U=G),U+=+ie.slice(G+1),ie=ie.substring(0,G)):U<0&&(U=ie.length)}else{if(v(M,2,Ve.length,"Base"),M==10&&le)return te=new ue(z),Ae(te,D+te.e+1,V);if(ie=String(z),Q=typeof z=="number"){if(z*0!=0)return I(te,ie,Q,M);if(te.s=1/z<0?(ie=ie.slice(1),-1):1,ue.DEBUG&&ie.replace(/^0\.0*|\./,"").length>15)throw Error(u+z)}else te.s=ie.charCodeAt(0)===45?(ie=ie.slice(1),-1):1;for(B=Ve.slice(0,M),U=G=0,Z=ie.length;G<Z;G++)if(B.indexOf(T=ie.charAt(G))<0){if(T=="."){if(G>U){U=Z;continue}}else if(!O&&(ie==ie.toUpperCase()&&(ie=ie.toLowerCase())||ie==ie.toLowerCase()&&(ie=ie.toUpperCase()))){O=!0,G=-1,U=0;continue}return I(te,String(z),Q,M)}Q=!1,ie=C(ie,M,10,te.s),(U=ie.indexOf("."))>-1?ie=ie.replace(".",""):U=ie.length}for(G=0;ie.charCodeAt(G)===48;G++);for(Z=ie.length;ie.charCodeAt(--Z)===48;);if(ie=ie.slice(G,++Z)){if(Z-=G,Q&&ue.DEBUG&&Z>15&&(z>d||z!==s(z)))throw Error(u+te.s*z);if((U=U-G-1)>J)te.c=te.e=null;else if(U<H)te.c=[te.e=0];else{if(te.e=U,te.c=[],G=(U+1)%c,U<0&&(G+=c),G<Z){for(G&&te.c.push(+ie.slice(0,G)),Z-=c;G<Z;)te.c.push(+ie.slice(G,G+=c));G=c-(ie=ie.slice(G)).length}else G-=Z;for(;G--;ie+="0");te.c.push(+ie)}}else te.c=[te.e=0]}ue.clone=m,ue.ROUND_UP=0,ue.ROUND_DOWN=1,ue.ROUND_CEIL=2,ue.ROUND_FLOOR=3,ue.ROUND_HALF_UP=4,ue.ROUND_HALF_DOWN=5,ue.ROUND_HALF_EVEN=6,ue.ROUND_HALF_CEIL=7,ue.ROUND_HALF_FLOOR=8,ue.EUCLID=9,ue.config=ue.set=function(z){var M,B;if(z!=null)if(typeof z=="object"){if(z.hasOwnProperty(M="DECIMAL_PLACES")&&(B=z[M],v(B,0,p,M),D=B),z.hasOwnProperty(M="ROUNDING_MODE")&&(B=z[M],v(B,0,8,M),V=B),z.hasOwnProperty(M="EXPONENTIAL_AT")&&(B=z[M],B&&B.pop?(v(B[0],-p,0,M),v(B[1],0,p,M),k=B[0],$=B[1]):(v(B,-p,p,M),k=-($=B<0?-B:B))),z.hasOwnProperty(M="RANGE"))if(B=z[M],B&&B.pop)v(B[0],-p,-1,M),v(B[1],1,p,M),H=B[0],J=B[1];else if(v(B,-p,p,M),B)H=-(J=B<0?-B:B);else throw Error(o+M+" cannot be zero: "+B);if(z.hasOwnProperty(M="CRYPTO"))if(B=z[M],B===!!B)if(B)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Y=B;else throw Y=!B,Error(o+"crypto unavailable");else Y=B;else throw Error(o+M+" not true or false: "+B);if(z.hasOwnProperty(M="MODULO_MODE")&&(B=z[M],v(B,0,9,M),de=B),z.hasOwnProperty(M="POW_PRECISION")&&(B=z[M],v(B,0,p,M),Te=B),z.hasOwnProperty(M="FORMAT"))if(B=z[M],typeof B=="object")De=B;else throw Error(o+M+" not an object: "+B);if(z.hasOwnProperty(M="ALPHABET"))if(B=z[M],typeof B=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(B))le=B.slice(0,10)=="0123456789",Ve=B;else throw Error(o+M+" invalid: "+B)}else throw Error(o+"Object expected: "+z);return{DECIMAL_PLACES:D,ROUNDING_MODE:V,EXPONENTIAL_AT:[k,$],RANGE:[H,J],CRYPTO:Y,MODULO_MODE:de,POW_PRECISION:Te,FORMAT:De,ALPHABET:Ve}},ue.isBigNumber=function(z){if(!z||z._isBigNumber!==!0)return!1;if(!ue.DEBUG)return!0;var M,B,T=z.c,O=z.e,U=z.s;e:if({}.toString.call(T)=="[object Array]"){if((U===1||U===-1)&&O>=-p&&O<=p&&O===s(O)){if(T[0]===0){if(O===0&&T.length===1)return!0;break e}if(M=(O+1)%c,M<1&&(M+=c),String(T[0]).length==M){for(M=0;M<T.length;M++)if(B=T[M],B<0||B>=l||B!==s(B))break e;if(B!==0)return!0}}}else if(T===null&&O===null&&(U===null||U===1||U===-1))return!0;throw Error(o+"Invalid BigNumber: "+z)},ue.maximum=ue.max=function(){return Ne(arguments,-1)},ue.minimum=ue.min=function(){return Ne(arguments,1)},ue.random=function(){var z=9007199254740992,M=Math.random()*z&2097151?function(){return s(Math.random()*z)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(B){var T,O,U,G,Q,Z=0,ie=[],te=new ue(L);if(B==null?B=D:v(B,0,p),G=a(B/c),Y)if(crypto.getRandomValues){for(T=crypto.getRandomValues(new Uint32Array(G*=2));Z<G;)Q=T[Z]*131072+(T[Z+1]>>>11),Q>=9e15?(O=crypto.getRandomValues(new Uint32Array(2)),T[Z]=O[0],T[Z+1]=O[1]):(ie.push(Q%1e14),Z+=2);Z=G/2}else if(crypto.randomBytes){for(T=crypto.randomBytes(G*=7);Z<G;)Q=(T[Z]&31)*281474976710656+T[Z+1]*1099511627776+T[Z+2]*4294967296+T[Z+3]*16777216+(T[Z+4]<<16)+(T[Z+5]<<8)+T[Z+6],Q>=9e15?crypto.randomBytes(7).copy(T,Z):(ie.push(Q%1e14),Z+=7);Z=G/7}else throw Y=!1,Error(o+"crypto unavailable");if(!Y)for(;Z<G;)Q=M(),Q<9e15&&(ie[Z++]=Q%1e14);for(G=ie[--Z],B%=c,G&&B&&(Q=f[c-B],ie[Z]=s(G/Q)*Q);ie[Z]===0;ie.pop(),Z--);if(Z<0)ie=[U=0];else{for(U=-1;ie[0]===0;ie.splice(0,1),U-=c);for(Z=1,Q=ie[0];Q>=10;Q/=10,Z++);Z<c&&(U-=c-Z)}return te.e=U,te.c=ie,te}}(),ue.sum=function(){for(var z=1,M=arguments,B=new ue(M[0]);z<M.length;)B=B.plus(M[z++]);return B},C=function(){var z="0123456789";function M(B,T,O,U){for(var G,Q=[0],Z,ie=0,te=B.length;ie<te;){for(Z=Q.length;Z--;Q[Z]*=T);for(Q[0]+=U.indexOf(B.charAt(ie++)),G=0;G<Q.length;G++)Q[G]>O-1&&(Q[G+1]==null&&(Q[G+1]=0),Q[G+1]+=Q[G]/O|0,Q[G]%=O)}return Q.reverse()}return function(B,T,O,U,G){var Q,Z,ie,te,he,ce,ve,Ce,Ee=B.indexOf("."),Ue=D,Fe=V;for(Ee>=0&&(te=Te,Te=0,B=B.replace(".",""),Ce=new ue(T),ce=Ce.pow(B.length-Ee),Te=te,Ce.c=M(S(g(ce.c),ce.e,"0"),10,O,z),Ce.e=Ce.c.length),ve=M(B,T,O,G?(Q=Ve,z):(Q=z,Ve)),ie=te=ve.length;ve[--te]==0;ve.pop());if(!ve[0])return Q.charAt(0);if(Ee<0?--ie:(ce.c=ve,ce.e=ie,ce.s=U,ce=x(ce,Ce,Ue,Fe,O),ve=ce.c,he=ce.r,ie=ce.e),Z=ie+Ue+1,Ee=ve[Z],te=O/2,he=he||Z<0||ve[Z+1]!=null,he=Fe<4?(Ee!=null||he)&&(Fe==0||Fe==(ce.s<0?3:2)):Ee>te||Ee==te&&(Fe==4||he||Fe==6&&ve[Z-1]&1||Fe==(ce.s<0?8:7)),Z<1||!ve[0])B=he?S(Q.charAt(1),-Ue,Q.charAt(0)):Q.charAt(0);else{if(ve.length=Z,he)for(--O;++ve[--Z]>O;)ve[Z]=0,Z||(++ie,ve=[1].concat(ve));for(te=ve.length;!ve[--te];);for(Ee=0,B="";Ee<=te;B+=Q.charAt(ve[Ee++]));B=S(B,ie,Q.charAt(0))}return B}}(),x=function(){function z(T,O,U){var G,Q,Z,ie,te=0,he=T.length,ce=O%h,ve=O/h|0;for(T=T.slice();he--;)Z=T[he]%h,ie=T[he]/h|0,G=ve*Z+ie*ce,Q=ce*Z+G%h*h+te,te=(Q/U|0)+(G/h|0)+ve*ie,T[he]=Q%U;return te&&(T=[te].concat(T)),T}function M(T,O,U,G){var Q,Z;if(U!=G)Z=U>G?1:-1;else for(Q=Z=0;Q<U;Q++)if(T[Q]!=O[Q]){Z=T[Q]>O[Q]?1:-1;break}return Z}function B(T,O,U,G){for(var Q=0;U--;)T[U]-=Q,Q=T[U]<O[U]?1:0,T[U]=Q*G+T[U]-O[U];for(;!T[0]&&T.length>1;T.splice(0,1));}return function(T,O,U,G,Q){var Z,ie,te,he,ce,ve,Ce,Ee,Ue,Fe,Qe,ke,K,j,q,W,re,pe=T.s==O.s?1:-1,ge=T.c,qe=O.c;if(!ge||!ge[0]||!qe||!qe[0])return new ue(!T.s||!O.s||(ge?qe&&ge[0]==qe[0]:!qe)?NaN:ge&&ge[0]==0||!qe?pe*0:pe/0);for(Ee=new ue(pe),Ue=Ee.c=[],ie=T.e-O.e,pe=U+ie+1,Q||(Q=l,ie=y(T.e/c)-y(O.e/c),pe=pe/c|0),te=0;qe[te]==(ge[te]||0);te++);if(qe[te]>(ge[te]||0)&&ie--,pe<0)Ue.push(1),he=!0;else{for(j=ge.length,W=qe.length,te=0,pe+=2,ce=s(Q/(qe[0]+1)),ce>1&&(qe=z(qe,ce,Q),ge=z(ge,ce,Q),W=qe.length,j=ge.length),K=W,Fe=ge.slice(0,W),Qe=Fe.length;Qe<W;Fe[Qe++]=0);re=qe.slice(),re=[0].concat(re),q=qe[0],qe[1]>=Q/2&&q++;do{if(ce=0,Z=M(qe,Fe,W,Qe),Z<0){if(ke=Fe[0],W!=Qe&&(ke=ke*Q+(Fe[1]||0)),ce=s(ke/q),ce>1)for(ce>=Q&&(ce=Q-1),ve=z(qe,ce,Q),Ce=ve.length,Qe=Fe.length;M(ve,Fe,Ce,Qe)==1;)ce--,B(ve,W<Ce?re:qe,Ce,Q),Ce=ve.length,Z=1;else ce==0&&(Z=ce=1),ve=qe.slice(),Ce=ve.length;if(Ce<Qe&&(ve=[0].concat(ve)),B(Fe,ve,Qe,Q),Qe=Fe.length,Z==-1)for(;M(qe,Fe,W,Qe)<1;)ce++,B(Fe,W<Qe?re:qe,Qe,Q),Qe=Fe.length}else Z===0&&(ce++,Fe=[0]);Ue[te++]=ce,Fe[0]?Fe[Qe++]=ge[K]||0:(Fe=[ge[K]],Qe=1)}while((K++<j||Fe[0]!=null)&&pe--);he=Fe[0]!=null,Ue[0]||Ue.splice(0,1)}if(Q==l){for(te=1,pe=Ue[0];pe>=10;pe/=10,te++);Ae(Ee,U+(Ee.e=te+ie*c-1)+1,G,he)}else Ee.e=ie,Ee.r=+he;return Ee}}();function Ie(z,M,B,T){var O,U,G,Q,Z;if(B==null?B=V:v(B,0,8),!z.c)return z.toString();if(O=z.c[0],G=z.e,M==null)Z=g(z.c),Z=T==1||T==2&&(G<=k||G>=$)?w(Z,G):S(Z,G,"0");else if(z=Ae(new ue(z),M,B),U=z.e,Z=g(z.c),Q=Z.length,T==1||T==2&&(M<=U||U<=k)){for(;Q<M;Z+="0",Q++);Z=w(Z,U)}else if(M-=G,Z=S(Z,U,"0"),U+1>Q){if(--M>0)for(Z+=".";M--;Z+="0");}else if(M+=U-Q,M>0)for(U+1==Q&&(Z+=".");M--;Z+="0");return z.s<0&&O?"-"+Z:Z}function Ne(z,M){for(var B,T,O=1,U=new ue(z[0]);O<z.length;O++)T=new ue(z[O]),(!T.s||(B=b(U,T))===M||B===0&&U.s===M)&&(U=T);return U}function we(z,M,B){for(var T=1,O=M.length;!M[--O];M.pop());for(O=M[0];O>=10;O/=10,T++);return(B=T+B*c-1)>J?z.c=z.e=null:B<H?z.c=[z.e=0]:(z.e=B,z.c=M),z}I=function(){var z=/^(-?)0([xbo])(?=\w[\w.]*$)/i,M=/^([^.]+)\.$/,B=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(U,G,Q,Z){var ie,te=Q?G:G.replace(O,"");if(T.test(te))U.s=isNaN(te)?null:te<0?-1:1;else{if(!Q&&(te=te.replace(z,function(he,ce,ve){return ie=(ve=ve.toLowerCase())=="x"?16:ve=="b"?2:8,!Z||Z==ie?ce:he}),Z&&(ie=Z,te=te.replace(M,"$1").replace(B,"0.$1")),G!=te))return new ue(te,ie);if(ue.DEBUG)throw Error(o+"Not a"+(Z?" base "+Z:"")+" number: "+G);U.s=null}U.c=U.e=null}}();function Ae(z,M,B,T){var O,U,G,Q,Z,ie,te,he=z.c,ce=f;if(he){e:{for(O=1,Q=he[0];Q>=10;Q/=10,O++);if(U=M-O,U<0)U+=c,G=M,Z=he[ie=0],te=s(Z/ce[O-G-1]%10);else if(ie=a((U+1)/c),ie>=he.length)if(T){for(;he.length<=ie;he.push(0));Z=te=0,O=1,U%=c,G=U-c+1}else break e;else{for(Z=Q=he[ie],O=1;Q>=10;Q/=10,O++);U%=c,G=U-c+O,te=G<0?0:s(Z/ce[O-G-1]%10)}if(T=T||M<0||he[ie+1]!=null||(G<0?Z:Z%ce[O-G-1]),T=B<4?(te||T)&&(B==0||B==(z.s<0?3:2)):te>5||te==5&&(B==4||T||B==6&&(U>0?G>0?Z/ce[O-G]:0:he[ie-1])%10&1||B==(z.s<0?8:7)),M<1||!he[0])return he.length=0,T?(M-=z.e+1,he[0]=ce[(c-M%c)%c],z.e=-M||0):he[0]=z.e=0,z;if(U==0?(he.length=ie,Q=1,ie--):(he.length=ie+1,Q=ce[c-U],he[ie]=G>0?s(Z/ce[O-G]%ce[G])*Q:0),T)for(;;)if(ie==0){for(U=1,G=he[0];G>=10;G/=10,U++);for(G=he[0]+=Q,Q=1;G>=10;G/=10,Q++);U!=Q&&(z.e++,he[0]==l&&(he[0]=1));break}else{if(he[ie]+=Q,he[ie]!=l)break;he[ie--]=0,Q=1}for(U=he.length;he[--U]===0;he.pop());}z.e>J?z.c=z.e=null:z.e<H&&(z.c=[z.e=0])}return z}function Se(z){var M,B=z.e;return B===null?z.toString():(M=g(z.c),M=B<=k||B>=$?w(M,B):S(M,B,"0"),z.s<0?"-"+M:M)}return P.absoluteValue=P.abs=function(){var z=new ue(this);return z.s<0&&(z.s=1),z},P.comparedTo=function(z,M){return b(this,new ue(z,M))},P.decimalPlaces=P.dp=function(z,M){var B,T,O,U=this;if(z!=null)return v(z,0,p),M==null?M=V:v(M,0,8),Ae(new ue(U),z+U.e+1,M);if(!(B=U.c))return null;if(T=((O=B.length-1)-y(this.e/c))*c,O=B[O])for(;O%10==0;O/=10,T--);return T<0&&(T=0),T},P.dividedBy=P.div=function(z,M){return x(this,new ue(z,M),D,V)},P.dividedToIntegerBy=P.idiv=function(z,M){return x(this,new ue(z,M),0,1)},P.exponentiatedBy=P.pow=function(z,M){var B,T,O,U,G,Q,Z,ie,te,he=this;if(z=new ue(z),z.c&&!z.isInteger())throw Error(o+"Exponent not an integer: "+Se(z));if(M!=null&&(M=new ue(M)),Q=z.e>14,!he.c||!he.c[0]||he.c[0]==1&&!he.e&&he.c.length==1||!z.c||!z.c[0])return te=new ue(Math.pow(+Se(he),Q?z.s*(2-_(z)):+Se(z))),M?te.mod(M):te;if(Z=z.s<0,M){if(M.c?!M.c[0]:!M.s)return new ue(NaN);T=!Z&&he.isInteger()&&M.isInteger(),T&&(he=he.mod(M))}else{if(z.e>9&&(he.e>0||he.e<-1||(he.e==0?he.c[0]>1||Q&&he.c[1]>=24e7:he.c[0]<8e13||Q&&he.c[0]<=9999975e7)))return U=he.s<0&&_(z)?-0:0,he.e>-1&&(U=1/U),new ue(Z?1/U:U);Te&&(U=a(Te/c+2))}for(Q?(B=new ue(.5),Z&&(z.s=1),ie=_(z)):(O=Math.abs(+Se(z)),ie=O%2),te=new ue(L);;){if(ie){if(te=te.times(he),!te.c)break;U?te.c.length>U&&(te.c.length=U):T&&(te=te.mod(M))}if(O){if(O=s(O/2),O===0)break;ie=O%2}else if(z=z.times(B),Ae(z,z.e+1,1),z.e>14)ie=_(z);else{if(O=+Se(z),O===0)break;ie=O%2}he=he.times(he),U?he.c&&he.c.length>U&&(he.c.length=U):T&&(he=he.mod(M))}return T?te:(Z&&(te=L.div(te)),M?te.mod(M):U?Ae(te,Te,V,G):te)},P.integerValue=function(z){var M=new ue(this);return z==null?z=V:v(z,0,8),Ae(M,M.e+1,z)},P.isEqualTo=P.eq=function(z,M){return b(this,new ue(z,M))===0},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(z,M){return b(this,new ue(z,M))>0},P.isGreaterThanOrEqualTo=P.gte=function(z,M){return(M=b(this,new ue(z,M)))===1||M===0},P.isInteger=function(){return!!this.c&&y(this.e/c)>this.c.length-2},P.isLessThan=P.lt=function(z,M){return b(this,new ue(z,M))<0},P.isLessThanOrEqualTo=P.lte=function(z,M){return(M=b(this,new ue(z,M)))===-1||M===0},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&this.c[0]==0},P.minus=function(z,M){var B,T,O,U,G=this,Q=G.s;if(z=new ue(z,M),M=z.s,!Q||!M)return new ue(NaN);if(Q!=M)return z.s=-M,G.plus(z);var Z=G.e/c,ie=z.e/c,te=G.c,he=z.c;if(!Z||!ie){if(!te||!he)return te?(z.s=-M,z):new ue(he?G:NaN);if(!te[0]||!he[0])return he[0]?(z.s=-M,z):new ue(te[0]?G:V==3?-0:0)}if(Z=y(Z),ie=y(ie),te=te.slice(),Q=Z-ie){for((U=Q<0)?(Q=-Q,O=te):(ie=Z,O=he),O.reverse(),M=Q;M--;O.push(0));O.reverse()}else for(T=(U=(Q=te.length)<(M=he.length))?Q:M,Q=M=0;M<T;M++)if(te[M]!=he[M]){U=te[M]<he[M];break}if(U&&(O=te,te=he,he=O,z.s=-z.s),M=(T=he.length)-(B=te.length),M>0)for(;M--;te[B++]=0);for(M=l-1;T>Q;){if(te[--T]<he[T]){for(B=T;B&&!te[--B];te[B]=M);--te[B],te[T]+=l}te[T]-=he[T]}for(;te[0]==0;te.splice(0,1),--ie);return te[0]?we(z,te,ie):(z.s=V==3?-1:1,z.c=[z.e=0],z)},P.modulo=P.mod=function(z,M){var B,T,O=this;return z=new ue(z,M),!O.c||!z.s||z.c&&!z.c[0]?new ue(NaN):!z.c||O.c&&!O.c[0]?new ue(O):(de==9?(T=z.s,z.s=1,B=x(O,z,0,3),z.s=T,B.s*=T):B=x(O,z,0,de),z=O.minus(B.times(z)),!z.c[0]&&de==1&&(z.s=O.s),z)},P.multipliedBy=P.times=function(z,M){var B,T,O,U,G,Q,Z,ie,te,he,ce,ve,Ce,Ee,Ue,Fe=this,Qe=Fe.c,ke=(z=new ue(z,M)).c;if(!Qe||!ke||!Qe[0]||!ke[0])return!Fe.s||!z.s||Qe&&!Qe[0]&&!ke||ke&&!ke[0]&&!Qe?z.c=z.e=z.s=null:(z.s*=Fe.s,!Qe||!ke?z.c=z.e=null:(z.c=[0],z.e=0)),z;for(T=y(Fe.e/c)+y(z.e/c),z.s*=Fe.s,Z=Qe.length,he=ke.length,Z<he&&(Ce=Qe,Qe=ke,ke=Ce,O=Z,Z=he,he=O),O=Z+he,Ce=[];O--;Ce.push(0));for(Ee=l,Ue=h,O=he;--O>=0;){for(B=0,ce=ke[O]%Ue,ve=ke[O]/Ue|0,G=Z,U=O+G;U>O;)ie=Qe[--G]%Ue,te=Qe[G]/Ue|0,Q=ve*ie+te*ce,ie=ce*ie+Q%Ue*Ue+Ce[U]+B,B=(ie/Ee|0)+(Q/Ue|0)+ve*te,Ce[U--]=ie%Ee;Ce[U]=B}return B?++T:Ce.splice(0,1),we(z,Ce,T)},P.negated=function(){var z=new ue(this);return z.s=-z.s||null,z},P.plus=function(z,M){var B,T=this,O=T.s;if(z=new ue(z,M),M=z.s,!O||!M)return new ue(NaN);if(O!=M)return z.s=-M,T.minus(z);var U=T.e/c,G=z.e/c,Q=T.c,Z=z.c;if(!U||!G){if(!Q||!Z)return new ue(O/0);if(!Q[0]||!Z[0])return Z[0]?z:new ue(Q[0]?T:O*0)}if(U=y(U),G=y(G),Q=Q.slice(),O=U-G){for(O>0?(G=U,B=Z):(O=-O,B=Q),B.reverse();O--;B.push(0));B.reverse()}for(O=Q.length,M=Z.length,O-M<0&&(B=Z,Z=Q,Q=B,M=O),O=0;M;)O=(Q[--M]=Q[M]+Z[M]+O)/l|0,Q[M]=l===Q[M]?0:Q[M]%l;return O&&(Q=[O].concat(Q),++G),we(z,Q,G)},P.precision=P.sd=function(z,M){var B,T,O,U=this;if(z!=null&&z!==!!z)return v(z,1,p),M==null?M=V:v(M,0,8),Ae(new ue(U),z,M);if(!(B=U.c))return null;if(O=B.length-1,T=O*c+1,O=B[O]){for(;O%10==0;O/=10,T--);for(O=B[0];O>=10;O/=10,T++);}return z&&U.e+1>T&&(T=U.e+1),T},P.shiftedBy=function(z){return v(z,-d,d),this.times("1e"+z)},P.squareRoot=P.sqrt=function(){var z,M,B,T,O,U=this,G=U.c,Q=U.s,Z=U.e,ie=D+4,te=new ue("0.5");if(Q!==1||!G||!G[0])return new ue(!Q||Q<0&&(!G||G[0])?NaN:G?U:1/0);if(Q=Math.sqrt(+Se(U)),Q==0||Q==1/0?(M=g(G),(M.length+Z)%2==0&&(M+="0"),Q=Math.sqrt(+M),Z=y((Z+1)/2)-(Z<0||Z%2),Q==1/0?M="5e"+Z:(M=Q.toExponential(),M=M.slice(0,M.indexOf("e")+1)+Z),B=new ue(M)):B=new ue(Q+""),B.c[0]){for(Z=B.e,Q=Z+ie,Q<3&&(Q=0);;)if(O=B,B=te.times(O.plus(x(U,O,ie,1))),g(O.c).slice(0,Q)===(M=g(B.c)).slice(0,Q))if(B.e<Z&&--Q,M=M.slice(Q-3,Q+1),M=="9999"||!T&&M=="4999"){if(!T&&(Ae(O,O.e+D+2,0),O.times(O).eq(U))){B=O;break}ie+=4,Q+=4,T=1}else{(!+M||!+M.slice(1)&&M.charAt(0)=="5")&&(Ae(B,B.e+D+2,1),z=!B.times(B).eq(U));break}}return Ae(B,B.e+D+1,V,z)},P.toExponential=function(z,M){return z!=null&&(v(z,0,p),z++),Ie(this,z,M,1)},P.toFixed=function(z,M){return z!=null&&(v(z,0,p),z=z+this.e+1),Ie(this,z,M)},P.toFormat=function(z,M,B){var T,O=this;if(B==null)z!=null&&M&&typeof M=="object"?(B=M,M=null):z&&typeof z=="object"?(B=z,z=M=null):B=De;else if(typeof B!="object")throw Error(o+"Argument not an object: "+B);if(T=O.toFixed(z,M),O.c){var U,G=T.split("."),Q=+B.groupSize,Z=+B.secondaryGroupSize,ie=B.groupSeparator||"",te=G[0],he=G[1],ce=O.s<0,ve=ce?te.slice(1):te,Ce=ve.length;if(Z&&(U=Q,Q=Z,Z=U,Ce-=U),Q>0&&Ce>0){for(U=Ce%Q||Q,te=ve.substr(0,U);U<Ce;U+=Q)te+=ie+ve.substr(U,Q);Z>0&&(te+=ie+ve.slice(U)),ce&&(te="-"+te)}T=he?te+(B.decimalSeparator||"")+((Z=+B.fractionGroupSize)?he.replace(new RegExp("\\d{"+Z+"}\\B","g"),"$&"+(B.fractionGroupSeparator||"")):he):te}return(B.prefix||"")+T+(B.suffix||"")},P.toFraction=function(z){var M,B,T,O,U,G,Q,Z,ie,te,he,ce,ve=this,Ce=ve.c;if(z!=null&&(Q=new ue(z),!Q.isInteger()&&(Q.c||Q.s!==1)||Q.lt(L)))throw Error(o+"Argument "+(Q.isInteger()?"out of range: ":"not an integer: ")+Se(Q));if(!Ce)return new ue(ve);for(M=new ue(L),ie=B=new ue(L),T=Z=new ue(L),ce=g(Ce),U=M.e=ce.length-ve.e-1,M.c[0]=f[(G=U%c)<0?c+G:G],z=!z||Q.comparedTo(M)>0?U>0?M:ie:Q,G=J,J=1/0,Q=new ue(ce),Z.c[0]=0;te=x(Q,M,0,1),O=B.plus(te.times(T)),O.comparedTo(z)!=1;)B=T,T=O,ie=Z.plus(te.times(O=ie)),Z=O,M=Q.minus(te.times(O=M)),Q=O;return O=x(z.minus(B),T,0,1),Z=Z.plus(O.times(ie)),B=B.plus(O.times(T)),Z.s=ie.s=ve.s,U=U*2,he=x(ie,T,U,V).minus(ve).abs().comparedTo(x(Z,B,U,V).minus(ve).abs())<1?[ie,T]:[Z,B],J=G,he},P.toNumber=function(){return+Se(this)},P.toPrecision=function(z,M){return z!=null&&v(z,1,p),Ie(this,z,M,2)},P.toString=function(z){var M,B=this,T=B.s,O=B.e;return O===null?T?(M="Infinity",T<0&&(M="-"+M)):M="NaN":(z==null?M=O<=k||O>=$?w(g(B.c),O):S(g(B.c),O,"0"):z===10&&le?(B=Ae(new ue(B),D+O+1,V),M=S(g(B.c),B.e,"0")):(v(z,2,Ve.length,"Base"),M=C(S(g(B.c),O,"0"),10,z,T,!0)),T<0&&B.c[0]&&(M="-"+M)),M},P.valueOf=P.toJSON=function(){return Se(this)},P._isBigNumber=!0,E!=null&&ue.set(E),ue}function y(E){var x=E|0;return E>0||E===x?x:x-1}function g(E){for(var x,C,I=1,P=E.length,L=E[0]+"";I<P;){for(x=E[I++]+"",C=c-x.length;C--;x="0"+x);L+=x}for(P=L.length;L.charCodeAt(--P)===48;);return L.slice(0,P+1||1)}function b(E,x){var C,I,P=E.c,L=x.c,D=E.s,V=x.s,k=E.e,$=x.e;if(!D||!V)return null;if(C=P&&!P[0],I=L&&!L[0],C||I)return C?I?0:-V:D;if(D!=V)return D;if(C=D<0,I=k==$,!P||!L)return I?0:!P^C?1:-1;if(!I)return k>$^C?1:-1;for(V=(k=P.length)<($=L.length)?k:$,D=0;D<V;D++)if(P[D]!=L[D])return P[D]>L[D]^C?1:-1;return k==$?0:k>$^C?1:-1}function v(E,x,C,I){if(E<x||E>C||E!==s(E))throw Error(o+(I||"Argument")+(typeof E=="number"?E<x||E>C?" out of range: ":" not an integer: ":" not a primitive number: ")+String(E))}function _(E){var x=E.c.length-1;return y(E.e/c)==x&&E.c[x]%2!=0}function w(E,x){return(E.length>1?E.charAt(0)+"."+E.slice(1):E)+(x<0?"e":"e+")+x}function S(E,x,C){var I,P;if(x<0){for(P=C+".";++x;P+=C);E=P+E}else if(I=E.length,++x>I){for(P=C,x-=I;--x;P+=C);E+=P}else x<I&&(E=E.slice(0,x)+"."+E.slice(x));return E}r=m(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(N)}(AR)),AR.exports}var OR={exports:{}},Zk;function fNe(){return Zk||(Zk=1,function(e,t){(function(r){e.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function a(b,v){var _=b[0],w=b[1],S=b[2],E=b[3];_+=(w&S|~w&E)+v[0]-680876936|0,_=(_<<7|_>>>25)+w|0,E+=(_&w|~_&S)+v[1]-389564586|0,E=(E<<12|E>>>20)+_|0,S+=(E&_|~E&w)+v[2]+606105819|0,S=(S<<17|S>>>15)+E|0,w+=(S&E|~S&_)+v[3]-1044525330|0,w=(w<<22|w>>>10)+S|0,_+=(w&S|~w&E)+v[4]-176418897|0,_=(_<<7|_>>>25)+w|0,E+=(_&w|~_&S)+v[5]+1200080426|0,E=(E<<12|E>>>20)+_|0,S+=(E&_|~E&w)+v[6]-1473231341|0,S=(S<<17|S>>>15)+E|0,w+=(S&E|~S&_)+v[7]-45705983|0,w=(w<<22|w>>>10)+S|0,_+=(w&S|~w&E)+v[8]+1770035416|0,_=(_<<7|_>>>25)+w|0,E+=(_&w|~_&S)+v[9]-1958414417|0,E=(E<<12|E>>>20)+_|0,S+=(E&_|~E&w)+v[10]-42063|0,S=(S<<17|S>>>15)+E|0,w+=(S&E|~S&_)+v[11]-1990404162|0,w=(w<<22|w>>>10)+S|0,_+=(w&S|~w&E)+v[12]+1804603682|0,_=(_<<7|_>>>25)+w|0,E+=(_&w|~_&S)+v[13]-40341101|0,E=(E<<12|E>>>20)+_|0,S+=(E&_|~E&w)+v[14]-1502002290|0,S=(S<<17|S>>>15)+E|0,w+=(S&E|~S&_)+v[15]+1236535329|0,w=(w<<22|w>>>10)+S|0,_+=(w&E|S&~E)+v[1]-165796510|0,_=(_<<5|_>>>27)+w|0,E+=(_&S|w&~S)+v[6]-1069501632|0,E=(E<<9|E>>>23)+_|0,S+=(E&w|_&~w)+v[11]+643717713|0,S=(S<<14|S>>>18)+E|0,w+=(S&_|E&~_)+v[0]-373897302|0,w=(w<<20|w>>>12)+S|0,_+=(w&E|S&~E)+v[5]-701558691|0,_=(_<<5|_>>>27)+w|0,E+=(_&S|w&~S)+v[10]+38016083|0,E=(E<<9|E>>>23)+_|0,S+=(E&w|_&~w)+v[15]-660478335|0,S=(S<<14|S>>>18)+E|0,w+=(S&_|E&~_)+v[4]-405537848|0,w=(w<<20|w>>>12)+S|0,_+=(w&E|S&~E)+v[9]+568446438|0,_=(_<<5|_>>>27)+w|0,E+=(_&S|w&~S)+v[14]-1019803690|0,E=(E<<9|E>>>23)+_|0,S+=(E&w|_&~w)+v[3]-187363961|0,S=(S<<14|S>>>18)+E|0,w+=(S&_|E&~_)+v[8]+1163531501|0,w=(w<<20|w>>>12)+S|0,_+=(w&E|S&~E)+v[13]-1444681467|0,_=(_<<5|_>>>27)+w|0,E+=(_&S|w&~S)+v[2]-51403784|0,E=(E<<9|E>>>23)+_|0,S+=(E&w|_&~w)+v[7]+1735328473|0,S=(S<<14|S>>>18)+E|0,w+=(S&_|E&~_)+v[12]-1926607734|0,w=(w<<20|w>>>12)+S|0,_+=(w^S^E)+v[5]-378558|0,_=(_<<4|_>>>28)+w|0,E+=(_^w^S)+v[8]-2022574463|0,E=(E<<11|E>>>21)+_|0,S+=(E^_^w)+v[11]+1839030562|0,S=(S<<16|S>>>16)+E|0,w+=(S^E^_)+v[14]-35309556|0,w=(w<<23|w>>>9)+S|0,_+=(w^S^E)+v[1]-1530992060|0,_=(_<<4|_>>>28)+w|0,E+=(_^w^S)+v[4]+1272893353|0,E=(E<<11|E>>>21)+_|0,S+=(E^_^w)+v[7]-155497632|0,S=(S<<16|S>>>16)+E|0,w+=(S^E^_)+v[10]-1094730640|0,w=(w<<23|w>>>9)+S|0,_+=(w^S^E)+v[13]+681279174|0,_=(_<<4|_>>>28)+w|0,E+=(_^w^S)+v[0]-358537222|0,E=(E<<11|E>>>21)+_|0,S+=(E^_^w)+v[3]-722521979|0,S=(S<<16|S>>>16)+E|0,w+=(S^E^_)+v[6]+76029189|0,w=(w<<23|w>>>9)+S|0,_+=(w^S^E)+v[9]-640364487|0,_=(_<<4|_>>>28)+w|0,E+=(_^w^S)+v[12]-421815835|0,E=(E<<11|E>>>21)+_|0,S+=(E^_^w)+v[15]+530742520|0,S=(S<<16|S>>>16)+E|0,w+=(S^E^_)+v[2]-995338651|0,w=(w<<23|w>>>9)+S|0,_+=(S^(w|~E))+v[0]-198630844|0,_=(_<<6|_>>>26)+w|0,E+=(w^(_|~S))+v[7]+1126891415|0,E=(E<<10|E>>>22)+_|0,S+=(_^(E|~w))+v[14]-1416354905|0,S=(S<<15|S>>>17)+E|0,w+=(E^(S|~_))+v[5]-57434055|0,w=(w<<21|w>>>11)+S|0,_+=(S^(w|~E))+v[12]+1700485571|0,_=(_<<6|_>>>26)+w|0,E+=(w^(_|~S))+v[3]-1894986606|0,E=(E<<10|E>>>22)+_|0,S+=(_^(E|~w))+v[10]-1051523|0,S=(S<<15|S>>>17)+E|0,w+=(E^(S|~_))+v[1]-2054922799|0,w=(w<<21|w>>>11)+S|0,_+=(S^(w|~E))+v[8]+1873313359|0,_=(_<<6|_>>>26)+w|0,E+=(w^(_|~S))+v[15]-30611744|0,E=(E<<10|E>>>22)+_|0,S+=(_^(E|~w))+v[6]-1560198380|0,S=(S<<15|S>>>17)+E|0,w+=(E^(S|~_))+v[13]+1309151649|0,w=(w<<21|w>>>11)+S|0,_+=(S^(w|~E))+v[4]-145523070|0,_=(_<<6|_>>>26)+w|0,E+=(w^(_|~S))+v[11]-1120210379|0,E=(E<<10|E>>>22)+_|0,S+=(_^(E|~w))+v[2]+718787259|0,S=(S<<15|S>>>17)+E|0,w+=(E^(S|~_))+v[9]-343485551|0,w=(w<<21|w>>>11)+S|0,b[0]=_+b[0]|0,b[1]=w+b[1]|0,b[2]=S+b[2]|0,b[3]=E+b[3]|0}function s(b){var v=[],_;for(_=0;_<64;_+=4)v[_>>2]=b.charCodeAt(_)+(b.charCodeAt(_+1)<<8)+(b.charCodeAt(_+2)<<16)+(b.charCodeAt(_+3)<<24);return v}function o(b){var v=[],_;for(_=0;_<64;_+=4)v[_>>2]=b[_]+(b[_+1]<<8)+(b[_+2]<<16)+(b[_+3]<<24);return v}function u(b){var v=b.length,_=[1732584193,-271733879,-1732584194,271733878],w,S,E,x,C,I;for(w=64;w<=v;w+=64)a(_,s(b.substring(w-64,w)));for(b=b.substring(w-64),S=b.length,E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0;w<S;w+=1)E[w>>2]|=b.charCodeAt(w)<<(w%4<<3);if(E[w>>2]|=128<<(w%4<<3),w>55)for(a(_,E),w=0;w<16;w+=1)E[w]=0;return x=v*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(x[2],16),I=parseInt(x[1],16)||0,E[14]=C,E[15]=I,a(_,E),_}function l(b){var v=b.length,_=[1732584193,-271733879,-1732584194,271733878],w,S,E,x,C,I;for(w=64;w<=v;w+=64)a(_,o(b.subarray(w-64,w)));for(b=w-64<v?b.subarray(w-64):new Uint8Array(0),S=b.length,E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0;w<S;w+=1)E[w>>2]|=b[w]<<(w%4<<3);if(E[w>>2]|=128<<(w%4<<3),w>55)for(a(_,E),w=0;w<16;w+=1)E[w]=0;return x=v*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(x[2],16),I=parseInt(x[1],16)||0,E[14]=C,E[15]=I,a(_,E),_}function c(b){var v="",_;for(_=0;_<4;_+=1)v+=n[b>>_*8+4&15]+n[b>>_*8&15];return v}function d(b){var v;for(v=0;v<b.length;v+=1)b[v]=c(b[v]);return b.join("")}d(u("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function b(v,_){return v=v|0||0,v<0?Math.max(v+_,0):Math.min(v,_)}ArrayBuffer.prototype.slice=function(v,_){var w=this.byteLength,S=b(v,w),E=w,x,C,I,P;return _!==r&&(E=b(_,w)),S>E?new ArrayBuffer(0):(x=E-S,C=new ArrayBuffer(x),I=new Uint8Array(C),P=new Uint8Array(this,S,x),I.set(P),C)}}();function f(b){return/[\u0080-\uFFFF]/.test(b)&&(b=unescape(encodeURIComponent(b))),b}function h(b,v){var _=b.length,w=new ArrayBuffer(_),S=new Uint8Array(w),E;for(E=0;E<_;E+=1)S[E]=b.charCodeAt(E);return v?S:w}function p(b){return String.fromCharCode.apply(null,new Uint8Array(b))}function m(b,v,_){var w=new Uint8Array(b.byteLength+v.byteLength);return w.set(new Uint8Array(b)),w.set(new Uint8Array(v),b.byteLength),_?w:w.buffer}function y(b){var v=[],_=b.length,w;for(w=0;w<_-1;w+=2)v.push(parseInt(b.substr(w,2),16));return String.fromCharCode.apply(String,v)}function g(){this.reset()}return g.prototype.append=function(b){return this.appendBinary(f(b)),this},g.prototype.appendBinary=function(b){this._buff+=b,this._length+=b.length;var v=this._buff.length,_;for(_=64;_<=v;_+=64)a(this._hash,s(this._buff.substring(_-64,_)));return this._buff=this._buff.substring(_-64),this},g.prototype.end=function(b){var v=this._buff,_=v.length,w,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E;for(w=0;w<_;w+=1)S[w>>2]|=v.charCodeAt(w)<<(w%4<<3);return this._finish(S,_),E=d(this._hash),b&&(E=y(E)),this.reset(),E},g.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},g.prototype.setState=function(b){return this._buff=b.buff,this._length=b.length,this._hash=b.hash,this},g.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},g.prototype._finish=function(b,v){var _=v,w,S,E;if(b[_>>2]|=128<<(_%4<<3),_>55)for(a(this._hash,b),_=0;_<16;_+=1)b[_]=0;w=this._length*8,w=w.toString(16).match(/(.*?)(.{0,8})$/),S=parseInt(w[2],16),E=parseInt(w[1],16)||0,b[14]=S,b[15]=E,a(this._hash,b)},g.hash=function(b,v){return g.hashBinary(f(b),v)},g.hashBinary=function(b,v){var _=u(b),w=d(_);return v?y(w):w},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(b){var v=m(this._buff.buffer,b,!0),_=v.length,w;for(this._length+=b.byteLength,w=64;w<=_;w+=64)a(this._hash,o(v.subarray(w-64,w)));return this._buff=w-64<_?new Uint8Array(v.buffer.slice(w-64)):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(b){var v=this._buff,_=v.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S,E;for(S=0;S<_;S+=1)w[S>>2]|=v[S]<<(S%4<<3);return this._finish(w,_),E=d(this._hash),b&&(E=y(E)),this.reset(),E},g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.getState=function(){var b=g.prototype.getState.call(this);return b.buff=p(b.buff),b},g.ArrayBuffer.prototype.setState=function(b){return b.buff=h(b.buff,!0),g.prototype.setState.call(this,b)},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.hash=function(b,v){var _=l(new Uint8Array(b)),w=d(_);return v?y(w):w},g})}(OR)),OR.exports}var RR={},Rm={},uv={},eV;function OZ(){if(eV)return uv;eV=1,Object.defineProperty(uv,"__esModule",{value:!0}),uv.default=r;let e;const t=new Uint8Array(16);function r(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}return uv}var zc={},xm={},Im={},tV;function hNe(){if(tV)return Im;tV=1,Object.defineProperty(Im,"__esModule",{value:!0}),Im.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return Im.default=e,Im}var rV;function e2(){if(rV)return xm;rV=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.default=void 0;var e=t(hNe());function t(a){return a&&a.__esModule?a:{default:a}}function r(a){return typeof a=="string"&&e.default.test(a)}var n=r;return xm.default=n,xm}var nV;function t2(){if(nV)return zc;nV=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.default=void 0,zc.unsafeStringify=n;var e=t(e2());function t(o){return o&&o.__esModule?o:{default:o}}const r=[];for(let o=0;o<256;++o)r.push((o+256).toString(16).slice(1));function n(o,u=0){return r[o[u+0]]+r[o[u+1]]+r[o[u+2]]+r[o[u+3]]+"-"+r[o[u+4]]+r[o[u+5]]+"-"+r[o[u+6]]+r[o[u+7]]+"-"+r[o[u+8]]+r[o[u+9]]+"-"+r[o[u+10]]+r[o[u+11]]+r[o[u+12]]+r[o[u+13]]+r[o[u+14]]+r[o[u+15]]}function a(o,u=0){const l=n(o,u);if(!(0,e.default)(l))throw TypeError("Stringified UUID is invalid");return l}var s=a;return zc.default=s,zc}var iV;function pNe(){if(iV)return Rm;iV=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.default=void 0;var e=r(OZ()),t=t2();function r(c){return c&&c.__esModule?c:{default:c}}let n,a,s=0,o=0;function u(c,d,f){let h=d&&f||0;const p=d||new Array(16);c=c||{};let m=c.node||n,y=c.clockseq!==void 0?c.clockseq:a;if(m==null||y==null){const S=c.random||(c.rng||e.default)();m==null&&(m=n=[S[0]|1,S[1],S[2],S[3],S[4],S[5]]),y==null&&(y=a=(S[6]<<8|S[7])&16383)}let g=c.msecs!==void 0?c.msecs:Date.now(),b=c.nsecs!==void 0?c.nsecs:o+1;const v=g-s+(b-o)/1e4;if(v<0&&c.clockseq===void 0&&(y=y+1&16383),(v<0||g>s)&&c.nsecs===void 0&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=g,o=b,a=y,g+=122192928e5;const _=((g&268435455)*1e4+b)%4294967296;p[h++]=_>>>24&255,p[h++]=_>>>16&255,p[h++]=_>>>8&255,p[h++]=_&255;const w=g/4294967296*1e4&268435455;p[h++]=w>>>8&255,p[h++]=w&255,p[h++]=w>>>24&15|16,p[h++]=w>>>16&255,p[h++]=y>>>8|128,p[h++]=y&255;for(let S=0;S<6;++S)p[h+S]=m[S];return d||(0,t.unsafeStringify)(p)}var l=u;return Rm.default=l,Rm}var Pm={},oo={},Nm={},aV;function RZ(){if(aV)return Nm;aV=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.default=void 0;var e=t(e2());function t(a){return a&&a.__esModule?a:{default:a}}function r(a){if(!(0,e.default)(a))throw TypeError("Invalid UUID");let s;const o=new Uint8Array(16);return o[0]=(s=parseInt(a.slice(0,8),16))>>>24,o[1]=s>>>16&255,o[2]=s>>>8&255,o[3]=s&255,o[4]=(s=parseInt(a.slice(9,13),16))>>>8,o[5]=s&255,o[6]=(s=parseInt(a.slice(14,18),16))>>>8,o[7]=s&255,o[8]=(s=parseInt(a.slice(19,23),16))>>>8,o[9]=s&255,o[10]=(s=parseInt(a.slice(24,36),16))/1099511627776&255,o[11]=s/4294967296&255,o[12]=s>>>24&255,o[13]=s>>>16&255,o[14]=s>>>8&255,o[15]=s&255,o}var n=r;return Nm.default=n,Nm}var sV;function xZ(){if(sV)return oo;sV=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.URL=oo.DNS=void 0,oo.default=o;var e=t2(),t=r(RZ());function r(u){return u&&u.__esModule?u:{default:u}}function n(u){u=unescape(encodeURIComponent(u));const l=[];for(let c=0;c<u.length;++c)l.push(u.charCodeAt(c));return l}const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";oo.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";oo.URL=s;function o(u,l,c){function d(f,h,p,m){var y;if(typeof f=="string"&&(f=n(f)),typeof h=="string"&&(h=(0,t.default)(h)),((y=h)===null||y===void 0?void 0:y.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let g=new Uint8Array(16+f.length);if(g.set(h),g.set(f,h.length),g=c(g),g[6]=g[6]&15|l,g[8]=g[8]&63|128,p){m=m||0;for(let b=0;b<16;++b)p[m+b]=g[b];return p}return(0,e.unsafeStringify)(g)}try{d.name=u}catch{}return d.DNS=a,d.URL=s,d}return oo}var Dm={},oV;function yNe(){if(oV)return Dm;oV=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.default=void 0;function e(p){if(typeof p=="string"){const m=unescape(encodeURIComponent(p));p=new Uint8Array(m.length);for(let y=0;y<m.length;++y)p[y]=m.charCodeAt(y)}return t(n(a(p),p.length*8))}function t(p){const m=[],y=p.length*32,g="0123456789abcdef";for(let b=0;b<y;b+=8){const v=p[b>>5]>>>b%32&255,_=parseInt(g.charAt(v>>>4&15)+g.charAt(v&15),16);m.push(_)}return m}function r(p){return(p+64>>>9<<4)+14+1}function n(p,m){p[m>>5]|=128<<m%32,p[r(m)-1]=m;let y=1732584193,g=-271733879,b=-1732584194,v=271733878;for(let _=0;_<p.length;_+=16){const w=y,S=g,E=b,x=v;y=l(y,g,b,v,p[_],7,-680876936),v=l(v,y,g,b,p[_+1],12,-389564586),b=l(b,v,y,g,p[_+2],17,606105819),g=l(g,b,v,y,p[_+3],22,-1044525330),y=l(y,g,b,v,p[_+4],7,-176418897),v=l(v,y,g,b,p[_+5],12,1200080426),b=l(b,v,y,g,p[_+6],17,-1473231341),g=l(g,b,v,y,p[_+7],22,-45705983),y=l(y,g,b,v,p[_+8],7,1770035416),v=l(v,y,g,b,p[_+9],12,-1958414417),b=l(b,v,y,g,p[_+10],17,-42063),g=l(g,b,v,y,p[_+11],22,-1990404162),y=l(y,g,b,v,p[_+12],7,1804603682),v=l(v,y,g,b,p[_+13],12,-40341101),b=l(b,v,y,g,p[_+14],17,-1502002290),g=l(g,b,v,y,p[_+15],22,1236535329),y=c(y,g,b,v,p[_+1],5,-165796510),v=c(v,y,g,b,p[_+6],9,-1069501632),b=c(b,v,y,g,p[_+11],14,643717713),g=c(g,b,v,y,p[_],20,-373897302),y=c(y,g,b,v,p[_+5],5,-701558691),v=c(v,y,g,b,p[_+10],9,38016083),b=c(b,v,y,g,p[_+15],14,-660478335),g=c(g,b,v,y,p[_+4],20,-405537848),y=c(y,g,b,v,p[_+9],5,568446438),v=c(v,y,g,b,p[_+14],9,-1019803690),b=c(b,v,y,g,p[_+3],14,-187363961),g=c(g,b,v,y,p[_+8],20,1163531501),y=c(y,g,b,v,p[_+13],5,-1444681467),v=c(v,y,g,b,p[_+2],9,-51403784),b=c(b,v,y,g,p[_+7],14,1735328473),g=c(g,b,v,y,p[_+12],20,-1926607734),y=d(y,g,b,v,p[_+5],4,-378558),v=d(v,y,g,b,p[_+8],11,-2022574463),b=d(b,v,y,g,p[_+11],16,1839030562),g=d(g,b,v,y,p[_+14],23,-35309556),y=d(y,g,b,v,p[_+1],4,-1530992060),v=d(v,y,g,b,p[_+4],11,1272893353),b=d(b,v,y,g,p[_+7],16,-155497632),g=d(g,b,v,y,p[_+10],23,-1094730640),y=d(y,g,b,v,p[_+13],4,681279174),v=d(v,y,g,b,p[_],11,-358537222),b=d(b,v,y,g,p[_+3],16,-722521979),g=d(g,b,v,y,p[_+6],23,76029189),y=d(y,g,b,v,p[_+9],4,-640364487),v=d(v,y,g,b,p[_+12],11,-421815835),b=d(b,v,y,g,p[_+15],16,530742520),g=d(g,b,v,y,p[_+2],23,-995338651),y=f(y,g,b,v,p[_],6,-198630844),v=f(v,y,g,b,p[_+7],10,1126891415),b=f(b,v,y,g,p[_+14],15,-1416354905),g=f(g,b,v,y,p[_+5],21,-57434055),y=f(y,g,b,v,p[_+12],6,1700485571),v=f(v,y,g,b,p[_+3],10,-1894986606),b=f(b,v,y,g,p[_+10],15,-1051523),g=f(g,b,v,y,p[_+1],21,-2054922799),y=f(y,g,b,v,p[_+8],6,1873313359),v=f(v,y,g,b,p[_+15],10,-30611744),b=f(b,v,y,g,p[_+6],15,-1560198380),g=f(g,b,v,y,p[_+13],21,1309151649),y=f(y,g,b,v,p[_+4],6,-145523070),v=f(v,y,g,b,p[_+11],10,-1120210379),b=f(b,v,y,g,p[_+2],15,718787259),g=f(g,b,v,y,p[_+9],21,-343485551),y=s(y,w),g=s(g,S),b=s(b,E),v=s(v,x)}return[y,g,b,v]}function a(p){if(p.length===0)return[];const m=p.length*8,y=new Uint32Array(r(m));for(let g=0;g<m;g+=8)y[g>>5]|=(p[g/8]&255)<<g%32;return y}function s(p,m){const y=(p&65535)+(m&65535);return(p>>16)+(m>>16)+(y>>16)<<16|y&65535}function o(p,m){return p<<m|p>>>32-m}function u(p,m,y,g,b,v){return s(o(s(s(m,p),s(g,v)),b),y)}function l(p,m,y,g,b,v,_){return u(m&y|~m&g,p,m,b,v,_)}function c(p,m,y,g,b,v,_){return u(m&g|y&~g,p,m,b,v,_)}function d(p,m,y,g,b,v,_){return u(m^y^g,p,m,b,v,_)}function f(p,m,y,g,b,v,_){return u(y^(m|~g),p,m,b,v,_)}var h=e;return Dm.default=h,Dm}var uV;function mNe(){if(uV)return Pm;uV=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.default=void 0;var e=r(xZ()),t=r(yNe());function r(s){return s&&s.__esModule?s:{default:s}}var a=(0,e.default)("v3",48,t.default);return Pm.default=a,Pm}var Cm={},Lm={},cV;function gNe(){if(cV)return Lm;cV=1,Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.default=void 0;var t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return Lm.default=t,Lm}var lV;function _Ne(){if(lV)return Cm;lV=1,Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.default=void 0;var e=n(gNe()),t=n(OZ()),r=t2();function n(o){return o&&o.__esModule?o:{default:o}}function a(o,u,l){if(e.default.randomUUID&&!u&&!o)return e.default.randomUUID();o=o||{};const c=o.random||(o.rng||t.default)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,u){l=l||0;for(let d=0;d<16;++d)u[l+d]=c[d];return u}return(0,r.unsafeStringify)(c)}var s=a;return Cm.default=s,Cm}var jm={},Mm={},dV;function bNe(){if(dV)return Mm;dV=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.default=void 0;function e(a,s,o,u){switch(a){case 0:return s&o^~s&u;case 1:return s^o^u;case 2:return s&o^s&u^o&u;case 3:return s^o^u}}function t(a,s){return a<<s|a>>>32-s}function r(a){const s=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){const d=unescape(encodeURIComponent(a));a=[];for(let f=0;f<d.length;++f)a.push(d.charCodeAt(f))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);const u=a.length/4+2,l=Math.ceil(u/16),c=new Array(l);for(let d=0;d<l;++d){const f=new Uint32Array(16);for(let h=0;h<16;++h)f[h]=a[d*64+h*4]<<24|a[d*64+h*4+1]<<16|a[d*64+h*4+2]<<8|a[d*64+h*4+3];c[d]=f}c[l-1][14]=(a.length-1)*8/Math.pow(2,32),c[l-1][14]=Math.floor(c[l-1][14]),c[l-1][15]=(a.length-1)*8&4294967295;for(let d=0;d<l;++d){const f=new Uint32Array(80);for(let b=0;b<16;++b)f[b]=c[d][b];for(let b=16;b<80;++b)f[b]=t(f[b-3]^f[b-8]^f[b-14]^f[b-16],1);let h=o[0],p=o[1],m=o[2],y=o[3],g=o[4];for(let b=0;b<80;++b){const v=Math.floor(b/20),_=t(h,5)+e(v,p,m,y)+g+s[v]+f[b]>>>0;g=y,y=m,m=t(p,30)>>>0,p=h,h=_}o[0]=o[0]+h>>>0,o[1]=o[1]+p>>>0,o[2]=o[2]+m>>>0,o[3]=o[3]+y>>>0,o[4]=o[4]+g>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,o[0]&255,o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,o[1]&255,o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,o[2]&255,o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,o[3]&255,o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,o[4]&255]}var n=r;return Mm.default=n,Mm}var fV;function vNe(){if(fV)return jm;fV=1,Object.defineProperty(jm,"__esModule",{value:!0}),jm.default=void 0;var e=r(xZ()),t=r(bNe());function r(s){return s&&s.__esModule?s:{default:s}}var a=(0,e.default)("v5",80,t.default);return jm.default=a,jm}var Fm={},hV;function wNe(){if(hV)return Fm;hV=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.default=void 0;var e="00000000-0000-0000-0000-000000000000";return Fm.default=e,Fm}var qm={},pV;function SNe(){if(pV)return qm;pV=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.default=void 0;var e=t(e2());function t(a){return a&&a.__esModule?a:{default:a}}function r(a){if(!(0,e.default)(a))throw TypeError("Invalid UUID");return parseInt(a.slice(14,15),16)}var n=r;return qm.default=n,qm}var yV;function IZ(){return yV||(yV=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return o.default}});var t=d(pNe()),r=d(mNe()),n=d(_Ne()),a=d(vNe()),s=d(wNe()),o=d(SNe()),u=d(e2()),l=d(t2()),c=d(RZ());function d(f){return f&&f.__esModule?f:{default:f}}}(RR)),RR}var Bm={},mV;function r2(){if(mV)return Bm;mV=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.orderTypes=void 0;const e=Xo(),t=Nd(),r=xc(),n=ni(),a=vn();function s(c,d,f=!1,h,p){if(c===d)return 0;if(c===void 0)return-1;if(d===void 0)return 1;if(c.termType!==d.termType)return l[c.termType]<l[d.termType]?-1:1;if(c.equals(d))return 0;if(c.termType==="Quad"&&d.termType==="Quad"){const m=s(c.subject,d.subject,f,h,p);if(m!==0)return m;const y=s(c.predicate,d.predicate,f,h,p);if(y!==0)return y;const g=s(c.object,d.object,f,h,p);return g!==0?g:s(c.graph,d.graph,f,h,p)}if(c.termType==="Literal")return o(c,d,h,p);if(f)throw new a.InvalidCompareArgumentTypes(c,d);return u(c.value,d.value)}Bm.orderTypes=s;function o(c,d,f,h){const p=t.regularFunctions[n.RegularOperator.GT],m=t.regularFunctions[n.RegularOperator.EQUAL],y={now:new Date,functionArgumentsCache:{},superTypeProvider:{discoverer:f??(()=>"term"),cache:h??new e.LRUCache({max:1e3})},defaultTimeZone:{zoneHours:0,zoneMinutes:0}},g=new r.TermTransformer(y.superTypeProvider),b=g.transformLiteral(c),v=g.transformLiteral(d);try{return m.apply([b,v],y).typedValue?0:p.apply([b,v],y).typedValue?1:-1}catch{const _=u(b.dataType,v.dataType);return _!==0?_:u(b.str(),v.str())}}function u(c,d){return c===d?0:c<d?-1:1}const l={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5};return Bm}var bs={},gV;function TNe(){if(gV)return bs;gV=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.langMatches=bs.replace=bs.matches=void 0;function e(s,o,u){return new RegExp(o,u).test(s)}bs.matches=e;function t(s,o,u,l){let c=new RegExp(o,l);if(!c.global){const d=l??"";c=new RegExp(o,`${d}g`)}return s.replace(c,u)}bs.replace=t;function r(s,o){const u=s.split("-"),l=o.split("-");if(!a(l[0],u[0])&&!n(u[0]))return!1;let c=1,d=1;for(;d<l.length;){if(n(l[d])){d++;continue}if(c===u.length)return!1;if(a(l[d],u[c])){c++,d++;continue}if(u[c].length===1)return!1;c++}return!0}bs.langMatches=r;function n(s){return s==="*"}function a(s,o){return new RegExp(`/${s}/`,"iu").test(`/${o}/`)}return bs}var _V;function ENe(){if(_V)return Om;_V=1,Object.defineProperty(Om,"__esModule",{value:!0}),Om.definitions=void 0;const e=dNe(),t=fD(),r=xt,n=va(),a=fNe(),s=IZ(),o=Di(),u=xc(),l=ni(),c=ni(),d=Pd(),f=vn(),h=r2(),p=EZ(),m=kI(),y=ns(),g=TNe(),b=Nd(),v=new r.DataFactory,_={arity:1,overloads:(0,y.declare)(l.RegularOperator.NOT).onTerm1(()=>A=>(0,y.bool)(!A.coerceEBV())).collect()},w={arity:1,overloads:(0,y.declare)(l.RegularOperator.UPLUS).numericConverter(()=>A=>A).collect()},S={arity:1,overloads:(0,y.declare)(l.RegularOperator.UMINUS).numericConverter(()=>A=>-A).collect()},E={arity:2,overloads:(0,y.declare)(l.RegularOperator.MULTIPLICATION).arithmetic(()=>(A,R)=>new e.BigNumber(A).times(R).toNumber()).collect()},x={arity:2,overloads:(0,y.declare)(l.RegularOperator.DIVISION).arithmetic(()=>(A,R)=>new e.BigNumber(A).div(R).toNumber()).onBinaryTyped([c.TypeURL.XSD_INTEGER,c.TypeURL.XSD_INTEGER],()=>(A,R)=>{if(R===0)throw new f.ExpressionError("Integer division by 0");return(0,y.decimal)(new e.BigNumber(A).div(R).toNumber())}).collect()},C={arity:2,overloads:(0,y.declare)(l.RegularOperator.ADDITION).arithmetic(()=>(A,R)=>new e.BigNumber(A).plus(R).toNumber()).set([c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([A,R])=>new o.DateTimeLiteral((0,p.addDurationToDateTime)(A.typedValue,(0,d.defaultedDurationRepresentation)(R.typedValue)))).copy({from:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],to:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([c.TypeURL.XSD_DATE,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([A,R])=>new o.DateLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(A.typedValue),(0,d.defaultedDurationRepresentation)(R.typedValue)))).copy({from:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_DAY_TIME_DURATION],to:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([c.TypeURL.XSD_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([A,R])=>new o.TimeLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(A.typedValue),(0,d.defaultedDurationRepresentation)(R.typedValue)))).copy({from:[c.TypeURL.XSD_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],to:[c.TypeURL.XSD_TIME,c.TypeURL.XSD_YEAR_MONTH_DURATION]}).collect()},I={arity:2,overloads:(0,y.declare)(l.RegularOperator.SUBTRACTION).arithmetic(()=>(A,R)=>new e.BigNumber(A).minus(R).toNumber()).set([c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DATE_TIME],({defaultTimeZone:A})=>([R,F])=>new o.DayTimeDurationLiteral((0,p.elapsedDuration)(R.typedValue,F.typedValue,A))).copy({from:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_DATE]}).copy({from:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_TIME,c.TypeURL.XSD_TIME]}).set([c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([A,R])=>new o.DateTimeLiteral((0,p.addDurationToDateTime)(A.typedValue,(0,d.defaultedDurationRepresentation)((0,d.negateDuration)(R.typedValue))))).copy({from:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],to:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([c.TypeURL.XSD_DATE,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([A,R])=>new o.DateLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(A.typedValue),(0,d.defaultedDurationRepresentation)((0,d.negateDuration)(R.typedValue))))).copy({from:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_DAY_TIME_DURATION],to:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([c.TypeURL.XSD_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([A,R])=>new o.TimeLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(A.typedValue),(0,d.defaultedDurationRepresentation)((0,d.negateDuration)(R.typedValue))))).collect()},P={arity:2,overloads:(0,y.declare)(l.RegularOperator.EQUAL).numberTest(()=>(A,R)=>A===R).stringTest(()=>(A,R)=>A.localeCompare(R)===0).set([c.TypeURL.RDF_LANG_STRING,c.TypeURL.RDF_LANG_STRING],()=>([A,R])=>(0,y.bool)(A.str()===R.str()&&A.language===R.language)).set([c.TypeAlias.SPARQL_STRINGLY,c.TypeAlias.SPARQL_STRINGLY],()=>()=>(0,y.bool)(!1)).booleanTest(()=>(A,R)=>A===R).dateTimeTest(({defaultTimeZone:A})=>(R,F)=>(0,d.toUTCDate)(R,A).getTime()===(0,d.toUTCDate)(F,A).getTime()).copy({from:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_DATE]}).set(["quad","quad"],A=>([R,F])=>{const X=new m.RegularFunction(c.RegularOperator.EQUAL,P);return(0,y.bool)(X.apply([R.subject,F.subject],A).coerceEBV()&&X.apply([R.predicate,F.predicate],A).coerceEBV()&&X.apply([R.object,F.object],A).coerceEBV())},!1).set(["term","term"],()=>([A,R])=>(0,y.bool)(L(A,R)),!1).set([c.TypeURL.XSD_DURATION,c.TypeURL.XSD_DURATION],()=>([A,R])=>(0,y.bool)((0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(A.typedValue))===(0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(R.typedValue))&&(0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(A.typedValue))===(0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(R.typedValue)))).set([c.TypeURL.XSD_TIME,c.TypeURL.XSD_TIME],({defaultTimeZone:A})=>([R,F])=>(0,y.bool)((0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(R.typedValue),A).getTime()===(0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(F.typedValue),A).getTime())).collect()};function L(A,R){const F=A.toRDF(),X=R.toRDF(),me=F.equals(X);if(!me&&F.termType==="Literal"&&X.termType==="Literal")throw new f.RDFEqualTypeError([A,R]);return me}const D={arity:2,overloads:(0,y.declare)(l.RegularOperator.NOT_EQUAL).set(["term","term"],A=>([R,F])=>(0,y.bool)(!b.regularFunctions[l.RegularOperator.EQUAL].apply([R,F],A).typedValue)).collect()},V={arity:2,overloads:(0,y.declare)(l.RegularOperator.LT).numberTest(()=>(A,R)=>A<R).stringTest(()=>(A,R)=>A.localeCompare(R)===-1).booleanTest(()=>(A,R)=>A<R).set(["quad","quad"],()=>([A,R])=>(0,y.bool)((0,h.orderTypes)(A.toRDF(),R.toRDF(),!0)===-1),!1).dateTimeTest(({defaultTimeZone:A})=>(R,F)=>(0,d.toUTCDate)(R,A).getTime()<(0,d.toUTCDate)(F,A).getTime()).copy({from:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_DATE]}).set([c.TypeURL.XSD_YEAR_MONTH_DURATION,c.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([A,R])=>(0,y.bool)((0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(A.typedValue))<(0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(R.typedValue)))).set([c.TypeURL.XSD_DAY_TIME_DURATION,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([A,R])=>(0,y.bool)((0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(A.typedValue))<(0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(R.typedValue)))).set([c.TypeURL.XSD_TIME,c.TypeURL.XSD_TIME],({defaultTimeZone:A})=>([R,F])=>(0,y.bool)((0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(R.typedValue),A).getTime()<(0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(F.typedValue),A).getTime())).collect()},k={arity:2,overloads:(0,y.declare)(l.RegularOperator.GT).set(["term","term"],A=>([R,F])=>b.regularFunctions[l.RegularOperator.LT].apply([F,R],A)).collect()},$={arity:2,overloads:(0,y.declare)(l.RegularOperator.LTE).set(["term","term"],A=>([R,F])=>(0,y.bool)(b.regularFunctions[l.RegularOperator.LT].apply([R,F],A).typedValue||b.regularFunctions[l.RegularOperator.EQUAL].apply([R,F],A).typedValue)).collect()},H={arity:2,overloads:(0,y.declare)(l.RegularOperator.GTE).set(["term","term"],A=>([R,F])=>b.regularFunctions[l.RegularOperator.LTE].apply([F,R],A)).collect()},J={arity:1,overloads:(0,y.declare)(l.RegularOperator.IS_IRI).onTerm1(()=>A=>(0,y.bool)(A.termType==="namedNode")).collect()},Y={arity:1,overloads:(0,y.declare)(l.RegularOperator.IS_BLANK).onTerm1(()=>A=>(0,y.bool)(A.termType==="blankNode")).collect()},de={arity:1,overloads:(0,y.declare)(l.RegularOperator.IS_LITERAL).onTerm1(()=>A=>(0,y.bool)(A.termType==="literal")).collect()},Te={arity:1,overloads:(0,y.declare)(l.RegularOperator.IS_NUMERIC).onNumeric1(()=>()=>(0,y.bool)(!0)).onTerm1(()=>()=>(0,y.bool)(!1)).collect()},De={arity:1,overloads:(0,y.declare)(l.RegularOperator.STR).onTerm1(()=>A=>(0,y.string)(A.str())).collect()},Ve={arity:1,overloads:(0,y.declare)(l.RegularOperator.LANG).onLiteral1(()=>A=>(0,y.string)(A.language??"")).collect()},le={arity:1,overloads:(0,y.declare)(l.RegularOperator.DATATYPE).onLiteral1(()=>A=>new o.NamedNode(A.dataType)).collect()},ue={arity:1,overloads:(0,y.declare)(l.RegularOperator.IRI).set(["namedNode"],A=>R=>{const F=R[0],X=(0,n.resolve)(F.str(),A.baseIRI??"");return new o.NamedNode(X)}).onString1(A=>R=>{const F=(0,n.resolve)(R.str(),A.baseIRI??"");return new o.NamedNode(F)}).collect()},Ie={arity:2,overloads:(0,y.declare)(l.RegularOperator.STRDT).set([c.TypeURL.XSD_STRING,"namedNode"],({superTypeProvider:A})=>([R,F])=>{const X=v.literal(R.typedValue,v.namedNode(F.value));return new u.TermTransformer(A).transformLiteral(X)}).collect()},Ne={arity:2,overloads:(0,y.declare)(l.RegularOperator.STRLANG).onBinaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>(A,R)=>new o.LangStringLiteral(A,R.toLowerCase())).collect()},we={arity:0,overloads:(0,y.declare)(l.RegularOperator.UUID).set([],()=>()=>new o.NamedNode(`urn:uuid:${s.v4()}`)).collect()},Ae={arity:0,overloads:(0,y.declare)(l.RegularOperator.STRUUID).set([],()=>()=>(0,y.string)(s.v4())).collect()},Se={arity:1,overloads:(0,y.declare)(l.RegularOperator.STRLEN).onStringly1(()=>A=>(0,y.integer)([...A.typedValue].length)).collect()},z={arity:[2,3],overloads:(0,y.declare)(l.RegularOperator.SUBSTR).onBinaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_INTEGER],()=>(A,R)=>(0,y.string)([...A].slice(R-1).join(""))).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.XSD_INTEGER],()=>(A,R)=>{const F=[...A.typedValue].slice(R.typedValue-1).join("");return(0,y.langString)(F,A.language)}).onTernaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_INTEGER,c.TypeURL.XSD_INTEGER],()=>(A,R,F)=>(0,y.string)([...A].slice(R-1,F+R-1).join(""))).onTernary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.XSD_INTEGER,c.TypeURL.XSD_INTEGER],()=>(A,R,F)=>{const X=[...A.typedValue].slice(R.typedValue-1,F.typedValue+R.typedValue-1).join("");return(0,y.langString)(X,A.language)}).collect()},M={arity:1,overloads:(0,y.declare)(l.RegularOperator.UCASE).onString1Typed(()=>A=>(0,y.string)(A.toUpperCase())).onLangString1(()=>A=>(0,y.langString)(A.typedValue.toUpperCase(),A.language)).collect()},B={arity:1,overloads:(0,y.declare)(l.RegularOperator.LCASE).onString1Typed(()=>A=>(0,y.string)(A.toLowerCase())).onLangString1(()=>A=>(0,y.langString)(A.typedValue.toLowerCase(),A.language)).collect()},T={arity:2,overloads:(0,y.declare)(l.RegularOperator.STRSTARTS).onBinaryTyped([c.TypeAlias.SPARQL_STRINGLY,c.TypeURL.XSD_STRING],()=>(A,R)=>(0,y.bool)(A.startsWith(R))).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.RDF_LANG_STRING],()=>(A,R)=>{if(A.language!==R.language)throw new f.IncompatibleLanguageOperation(A,R);return(0,y.bool)(A.typedValue.startsWith(R.typedValue))}).collect()},O={arity:2,overloads:(0,y.declare)(l.RegularOperator.STRENDS).onBinaryTyped([c.TypeAlias.SPARQL_STRINGLY,c.TypeURL.XSD_STRING],()=>(A,R)=>(0,y.bool)(A.endsWith(R))).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.RDF_LANG_STRING],()=>(A,R)=>{if(A.language!==R.language)throw new f.IncompatibleLanguageOperation(A,R);return(0,y.bool)(A.typedValue.endsWith(R.typedValue))}).collect()},U={arity:2,overloads:(0,y.declare)(l.RegularOperator.CONTAINS).onBinaryTyped([c.TypeAlias.SPARQL_STRINGLY,c.TypeURL.XSD_STRING],()=>(A,R)=>(0,y.bool)(A.includes(R))).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.RDF_LANG_STRING],()=>(A,R)=>{if(A.language!==R.language)throw new f.IncompatibleLanguageOperation(A,R);return(0,y.bool)(A.typedValue.includes(R.typedValue))}).collect()},G={arity:2,overloads:(0,y.declare)(l.RegularOperator.STRBEFORE).onBinaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>(A,R)=>(0,y.string)(A.slice(0,Math.max(0,A.indexOf(R))))).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.XSD_STRING],()=>(A,R)=>{const[F,X]=[A.typedValue,R.typedValue],me=A.typedValue.slice(0,Math.max(0,F.indexOf(X)));return me||!X?(0,y.langString)(me,A.language):(0,y.string)(me)}).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.RDF_LANG_STRING],()=>(A,R)=>{if(A.language!==R.language)throw new f.IncompatibleLanguageOperation(A,R);const[F,X]=[A.typedValue,R.typedValue],me=A.typedValue.slice(0,Math.max(0,F.indexOf(X)));return me||!X?(0,y.langString)(me,A.language):(0,y.string)(me)}).collect()},Q={arity:2,overloads:(0,y.declare)(l.RegularOperator.STRAFTER).onBinaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>(A,R)=>(0,y.string)(A.slice(A.indexOf(R)).slice(R.length))).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.XSD_STRING],()=>(A,R)=>{const[F,X]=[A.typedValue,R.typedValue],me=F.slice(F.indexOf(X)).slice(X.length);return me||!X?(0,y.langString)(me,A.language):(0,y.string)(me)}).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.RDF_LANG_STRING],()=>(A,R)=>{if(A.language!==R.language)throw new f.IncompatibleLanguageOperation(A,R);const[F,X]=[A.typedValue,R.typedValue],me=F.slice(F.indexOf(X)).slice(X.length);return me||!X?(0,y.langString)(me,A.language):(0,y.string)(me)}).collect()},Z={arity:1,overloads:(0,y.declare)(l.RegularOperator.ENCODE_FOR_URI).onStringly1Typed(()=>A=>(0,y.string)(encodeURI(A))).collect()},ie={arity:2,overloads:(0,y.declare)(l.RegularOperator.LANG_MATCHES).onBinaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>(A,R)=>(0,y.bool)(g.langMatches(A,R))).collect()};function te(){return(A,R)=>(0,y.bool)(g.matches(A,R))}function he(){return(A,R,F)=>(0,y.bool)(g.matches(A,R,F))}const ce={arity:[2,3],overloads:(0,y.declare)(l.RegularOperator.REGEX).onBinaryTyped([c.TypeAlias.SPARQL_STRINGLY,c.TypeURL.XSD_STRING],te).onTernaryTyped([c.TypeAlias.SPARQL_STRINGLY,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],he).collect()},ve={arity:[3,4],overloads:(0,y.declare)(l.RegularOperator.REPLACE).onTernaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>(A,R,F)=>(0,y.string)(g.replace(A,R,F))).set([c.TypeURL.RDF_LANG_STRING,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>([A,R,F])=>{const X=g.replace(A.typedValue,R.typedValue,F.typedValue);return(0,y.langString)(X,A.language)}).onQuaternaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>(A,R,F,X)=>(0,y.string)(g.replace(A,R,F,X))).set([c.TypeURL.RDF_LANG_STRING,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>([A,R,F,X])=>{const me=g.replace(A.typedValue,R.typedValue,F.typedValue,X.typedValue);return(0,y.langString)(me,A.language)}).collect()},Ce={arity:1,overloads:(0,y.declare)(l.RegularOperator.ABS).numericConverter(()=>A=>Math.abs(A)).collect()},Ee={arity:1,overloads:(0,y.declare)(l.RegularOperator.ROUND).numericConverter(()=>A=>Math.round(A)).collect()},Ue={arity:1,overloads:(0,y.declare)(l.RegularOperator.CEIL).numericConverter(()=>A=>Math.ceil(A)).collect()},Fe={arity:1,overloads:(0,y.declare)(l.RegularOperator.FLOOR).numericConverter(()=>A=>Math.floor(A)).collect()},Qe={arity:0,overloads:(0,y.declare)(l.RegularOperator.RAND).set([],()=>()=>(0,y.double)(Math.random())).collect()},ke={arity:0,overloads:(0,y.declare)(l.RegularOperator.NOW).set([],A=>()=>new o.DateTimeLiteral((0,d.toDateTimeRepresentation)({date:A.now,timeZone:A.defaultTimeZone}))).collect()},K={arity:1,overloads:(0,y.declare)(l.RegularOperator.YEAR).onDateTime1(()=>A=>(0,y.integer)(A.typedValue.year)).set([c.TypeURL.XSD_DATE],()=>([A])=>(0,y.integer)(A.typedValue.year)).collect()},j={arity:1,overloads:(0,y.declare)(l.RegularOperator.MONTH).onDateTime1(()=>A=>(0,y.integer)(A.typedValue.month)).set([c.TypeURL.XSD_DATE],()=>([A])=>(0,y.integer)(A.typedValue.month)).collect()},q={arity:1,overloads:(0,y.declare)(l.RegularOperator.DAY).onDateTime1(()=>A=>(0,y.integer)(A.typedValue.day)).set([c.TypeURL.XSD_DATE],()=>([A])=>(0,y.integer)(A.typedValue.day)).collect()},W={arity:1,overloads:(0,y.declare)(l.RegularOperator.HOURS).onDateTime1(()=>A=>(0,y.integer)(A.typedValue.hours)).set([c.TypeURL.XSD_TIME],()=>([A])=>(0,y.integer)(A.typedValue.hours)).collect()},re={arity:1,overloads:(0,y.declare)(l.RegularOperator.MINUTES).onDateTime1(()=>A=>(0,y.integer)(A.typedValue.minutes)).set([c.TypeURL.XSD_TIME],()=>([A])=>(0,y.integer)(A.typedValue.minutes)).collect()},pe={arity:1,overloads:(0,y.declare)(l.RegularOperator.SECONDS).onDateTime1(()=>A=>(0,y.decimal)(A.typedValue.seconds)).set([c.TypeURL.XSD_TIME],()=>([A])=>(0,y.integer)(A.typedValue.seconds)).collect()},ge={arity:1,overloads:(0,y.declare)(l.RegularOperator.TIMEZONE).onDateTime1(()=>A=>{const R={hours:A.typedValue.zoneHours,minutes:A.typedValue.zoneMinutes};if(R.hours===void 0&&R.minutes===void 0)throw new f.InvalidTimezoneCall(A.str());return new o.DayTimeDurationLiteral(R)}).copy({from:[c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_DATE]}).copy({from:[c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_TIME]}).collect()},qe={arity:1,overloads:(0,y.declare)(l.RegularOperator.TZ).onDateTime1(()=>A=>(0,y.string)((0,d.extractRawTimeZone)(A.str()))).copy({from:[c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_DATE]}).copy({from:[c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_TIME]}).collect()},ee={arity:1,overloads:(0,y.declare)(l.RegularOperator.MD5).onString1Typed(()=>A=>(0,y.string)((0,a.hash)(A))).collect()},Oe={arity:1,overloads:(0,y.declare)(l.RegularOperator.SHA1).onString1Typed(()=>A=>(0,y.string)((0,t.sha1)().update(A).digest("hex"))).collect()},je={arity:1,overloads:(0,y.declare)(l.RegularOperator.SHA256).onString1Typed(()=>A=>(0,y.string)((0,t.sha256)().update(A).digest("hex"))).collect()},Be={arity:1,overloads:(0,y.declare)(l.RegularOperator.SHA384).onString1Typed(()=>A=>(0,y.string)((0,t.sha384)().update(A).digest("hex"))).collect()},Ye={arity:1,overloads:(0,y.declare)(l.RegularOperator.SHA512).onString1Typed(()=>A=>(0,y.string)((0,t.sha512)().update(A).digest("hex"))).collect()},ct={arity:3,overloads:(0,y.declare)(l.RegularOperator.TRIPLE).onTerm3(A=>(...R)=>new o.Quad(v.quad(R[0].toRDF(),R[1].toRDF(),R[2].toRDF()),A.superTypeProvider)).collect()},ft={arity:1,overloads:(0,y.declare)(l.RegularOperator.SUBJECT).onQuad1(()=>A=>A.subject).collect()},ot={arity:1,overloads:(0,y.declare)(l.RegularOperator.PREDICATE).onQuad1(()=>A=>A.predicate).collect()},mt={arity:1,overloads:(0,y.declare)(l.RegularOperator.OBJECT).onQuad1(()=>A=>A.object).collect()},ne={arity:1,overloads:(0,y.declare)(l.RegularOperator.IS_TRIPLE).onTerm1(()=>A=>(0,y.bool)(A.termType==="quad")).collect()};return Om.definitions={"!":_,uplus:w,uminus:S,"*":E,"/":x,"+":C,"-":I,"=":P,"!=":D,"<":V,">":k,"<=":$,">=":H,isiri:J,isuri:J,isblank:Y,isliteral:de,isnumeric:Te,str:De,lang:Ve,datatype:le,iri:ue,uri:ue,strdt:Ie,strlang:Ne,uuid:we,struuid:Ae,strlen:Se,substr:z,ucase:M,lcase:B,strstarts:T,strends:O,contains:U,strbefore:G,strafter:Q,encode_for_uri:Z,langmatches:ie,regex:ce,replace:ve,abs:Ce,round:Ee,ceil:Ue,floor:Fe,rand:Qe,now:ke,year:K,month:j,day:q,hours:W,minutes:re,seconds:pe,timezone:ge,tz:qe,md5:ee,sha1:Oe,sha256:je,sha384:Be,sha512:Ye,triple:ct,subject:ft,predicate:ot,object:mt,istriple:ne},Om}var $m={},bV;function ANe(){if(bV)return $m;bV=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.specialDefinitions=void 0;const e=IZ(),t=Di(),r=ni(),n=vn(),a=ns(),s=Nd(),o={arity:1,async applyAsync({args:x,mapping:C}){return u({args:x,mapping:C})},applySynchronously({args:x,mapping:C}){return u({args:x,mapping:C})}};function u({args:x,mapping:C}){const I=x[0];if(I.expressionType!==t.ExpressionType.Variable)throw new n.InvalidArgumentTypes(x,r.SpecialOperator.BOUND);const P=C.has((0,a.expressionToVar)(I));return(0,a.bool)(P)}const l={arity:3,async applyAsync({args:x,mapping:C,evaluate:I}){const L=(await I(x[0],C)).coerceEBV();return I(L?x[1]:x[2],C)},applySynchronously({args:x,mapping:C,evaluate:I}){const L=I(x[0],C).coerceEBV();return I(L?x[1]:x[2],C)}},c={arity:Number.POSITIVE_INFINITY,async applyAsync({args:x,mapping:C,evaluate:I}){const P=[];for(const L of x)try{return await I(L,C)}catch(D){P.push(D)}throw new n.CoalesceError(P)},applySynchronously({args:x,mapping:C,evaluate:I}){const P=[];for(const L of x)try{return I(L,C)}catch(D){P.push(D)}throw new n.CoalesceError(P)}},d={arity:2,async applyAsync({args:x,mapping:C,evaluate:I}){const[P,L]=x;try{if((await I(P,C)).coerceEBV())return(0,a.bool)(!0);const $=(await I(L,C)).coerceEBV();return(0,a.bool)($)}catch(D){if(!(await I(L,C)).coerceEBV())throw D;return(0,a.bool)(!0)}},applySynchronously({args:x,mapping:C,evaluate:I}){const[P,L]=x;try{if(I(P,C).coerceEBV())return(0,a.bool)(!0);const $=I(L,C).coerceEBV();return(0,a.bool)($)}catch(D){if(!I(L,C).coerceEBV())throw D;return(0,a.bool)(!0)}}},f={arity:2,async applyAsync({args:x,mapping:C,evaluate:I}){const[P,L]=x;try{if(!(await I(P,C)).coerceEBV())return(0,a.bool)(!1);const $=(await I(L,C)).coerceEBV();return(0,a.bool)($)}catch(D){if((await I(L,C)).coerceEBV())throw D;return(0,a.bool)(!1)}},applySynchronously({args:x,mapping:C,evaluate:I}){const[P,L]=x;try{if(!I(P,C).coerceEBV())return(0,a.bool)(!1);const $=I(L,C).coerceEBV();return(0,a.bool)($)}catch(D){if(I(L,C).coerceEBV())throw D;return(0,a.bool)(!1)}}},h={arity:2,async applyAsync({args:x,mapping:C,evaluate:I}){const[P,L]=x.map(k=>I(k,C)),[D,V]=await Promise.all([P,L]);return(0,a.bool)(D.toRDF().equals(V.toRDF()))},applySynchronously({args:x,mapping:C,evaluate:I}){const[P,L]=x.map(D=>I(D,C));return(0,a.bool)(P.toRDF().equals(L.toRDF()))}},p={arity:Number.POSITIVE_INFINITY,checkArity(x){return x.length>0},async applyAsync(x){const{args:C,mapping:I,evaluate:P}=x,[L,...D]=C,V=await P(L,I);return m(V,{...x,args:D},[])},applySynchronously(x){const{args:C,mapping:I,evaluate:P}=x,[L,...D]=C,V=P(L,I);return y(V,{...x,args:D},[])}};async function m(x,C,I){const{args:P,mapping:L,evaluate:D}=C;if(P.length===0)return I.every(k=>!k)?(0,a.bool)(!1):Promise.reject(new n.InError(I));try{const V=P.shift(),k=await D(V,L);return s.regularFunctions[r.RegularOperator.EQUAL].apply([x,k],C).typedValue?(0,a.bool)(!0):m(x,C,[...I,!1])}catch(V){return m(x,C,[...I,V])}}function y(x,C,I){const{args:P,mapping:L,evaluate:D}=C;if(P.length===0){if(I.every(k=>!k))return(0,a.bool)(!1);throw new n.InError(I)}try{const V=P.shift(),k=D(V,L);return s.regularFunctions[r.RegularOperator.EQUAL].apply([x,k],C).typedValue?(0,a.bool)(!0):y(x,C,[...I,!1])}catch(V){return y(x,C,[...I,V])}}const g={arity:Number.POSITIVE_INFINITY,checkArity(x){return x.length>0},async applyAsync(x){const I=await s.specialFunctions[r.SpecialOperator.IN].applyAsync(x);return(0,a.bool)(!I.typedValue)},applySynchronously(x){const I=s.specialFunctions[r.SpecialOperator.IN].applySynchronously(x);return(0,a.bool)(!I.typedValue)}},b=(0,a.declare)(r.SpecialOperator.CONCAT).onStringly1(()=>x=>x).collect(),v={arity:Number.POSITIVE_INFINITY,async applyAsync(x){const{args:C,mapping:I,evaluate:P,functionArgumentsCache:L,superTypeProvider:D}=x,V=C.map(async Y=>P(Y,I)).map(async Y=>{const de=b.search([await Y],D,L);if(!de)throw new n.InvalidArgumentTypes(C,r.SpecialOperator.CONCAT);return de(x)([await Y])}),k=await Promise.all(V),H=k.map(Y=>Y.typedValue).join(""),J=_(k)?k[0].language:void 0;return J?(0,a.langString)(H,J):(0,a.string)(H)},applySynchronously(x){const{args:C,mapping:I,evaluate:P,superTypeProvider:L,functionArgumentsCache:D}=x,V=C.map(J=>P(J,I)).map(J=>{const Y=b.search([J],L,D);if(!Y)throw new n.InvalidArgumentTypes(C,r.SpecialOperator.CONCAT);return Y(x)([J])}),$=V.map(J=>J.typedValue).join(""),H=_(V)?V[0].language:void 0;return H?(0,a.langString)($,H):(0,a.string)($)}};function _(x){return x.length>0&&x.every(C=>C.language===x[0].language)}const w=(0,a.declare)(r.SpecialOperator.BNODE).onString1(()=>x=>x).collect(),S={arity:Number.POSITIVE_INFINITY,checkArity(x){return x.length===0||x.length===1},async applyAsync(x){const{args:C,mapping:I,evaluate:P,superTypeProvider:L,functionArgumentsCache:D}=x,V=C.length===1?await P(C[0],I):void 0;let k;if(V){const $=w.search([V],L,D);if(!$)throw new n.InvalidArgumentTypes(C,r.SpecialOperator.BNODE);k=$(x)([V]).str()}if(x.bnode){const $=await x.bnode(k);return new t.BlankNode($)}return E(k)},applySynchronously(x){const{args:C,mapping:I,evaluate:P,superTypeProvider:L,functionArgumentsCache:D}=x,V=C.length===1?P(C[0],I):void 0;let k;if(V){const $=w.search([V],L,D);if(!$)throw new n.InvalidArgumentTypes(C,r.SpecialOperator.BNODE);k=$(x)([V]).str()}if(x.bnode){const $=x.bnode(k);return new t.BlankNode($)}return E(k)}};function E(x){return new t.BlankNode(x??e.v4())}return $m.specialDefinitions={bound:o,if:l,coalesce:c,"&&":f,"||":d,sameterm:h,in:p,notin:g,concat:v,bnode:S},$m}var vV;function Nd(){return vV||(vV=1,function(e){var t=N&&N.__createBinding||(Object.create?function(l,c,d,f){f===void 0&&(f=d);var h=Object.getOwnPropertyDescriptor(c,d);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(l,f,h)}:function(l,c,d,f){f===void 0&&(f=d),l[f]=c[d]}),r=N&&N.__exportStar||function(l,c){for(var d in l)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&t(c,l,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.OverloadTree=e.namedFunctions=e.specialFunctions=e.regularFunctions=void 0;const n=kI(),a=lNe(),s=ENe(),o=ANe();r(kI(),e),e.regularFunctions=Object.fromEntries(Object.entries(s.definitions).map(([l,c])=>[l,new n.RegularFunction(l,c)])),e.specialFunctions=Object.fromEntries(Object.entries(o.specialDefinitions).map(([l,c])=>[l,new n.SpecialFunction(l,c)])),e.namedFunctions=Object.fromEntries(Object.entries(a.namedDefinitions).map(([l,c])=>[l,new n.NamedFunction(l,c)]));var u=AZ();Object.defineProperty(e,"OverloadTree",{enumerable:!0,get:function(){return u.OverloadTree}})}(ER)),ER}var wV;function PZ(){if(wV)return pm;wV=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.AlgebraTransformer=void 0;const e=Nt(),t=Di(),r=Nd(),n=ni(),a=vn(),s=vn(),o=xc();let u=class n_ extends o.TermTransformer{constructor(c){super(c.superTypeProvider),this.algebraConfig=c,this.creatorConfig={type:c.type,creator:c.creator}}transformAlgebra(c){const d=e.Algebra.expressionTypes;switch(c.expressionType){case d.TERM:return this.transformTerm(c);case d.OPERATOR:return this.transformOperator(c);case d.NAMED:return this.transformNamed(c);case d.EXISTENCE:return n_.transformExistence(c);case d.AGGREGATE:return n_.transformAggregate(c);case d.WILDCARD:return n_.transformWildcard(c)}}static transformWildcard(c){return new t.NamedNode(c.wildcard.value)}transformOperator(c){const d=c.operator.toLowerCase();if(n.SpecialOperators.has(d)){const m=d,y=c.args.map(b=>this.transformAlgebra(b)),g=r.specialFunctions[m];if(!g.checkArity(y))throw new a.InvalidArity(y,m);return new t.SpecialOperator(y,g.applyAsync,g.applySynchronously)}if(!n.Operators.has(d))throw new a.UnknownOperator(c.operator);const f=d,h=c.args.map(m=>this.transformAlgebra(m)),p=r.regularFunctions[f];if(!n_.hasCorrectArity(h,p.arity))throw new a.InvalidArity(h,f);return new t.Operator(h,m=>p.apply(m,this.algebraConfig))}wrapSyncFunction(c,d){return f=>{try{const h=c(f.map(p=>p.toRDF()));return this.transformRDFTermUnsafe(h)}catch(h){throw new s.ExtensionFunctionError(d,h)}}}wrapAsyncFunction(c,d){return async f=>{try{const h=await c(f.map(p=>p.toRDF()));return this.transformRDFTermUnsafe(h)}catch(h){throw new s.ExtensionFunctionError(d,h)}}}transformNamed(c){const d=c.name.value,f=c.args.map(h=>this.transformAlgebra(h));if(n.NamedOperators.has(d)){const h=c.name.value,p=r.namedFunctions[h];return new t.Named(c.name,f,m=>p.apply(m,this.algebraConfig))}if(this.creatorConfig.type==="sync"){const h=this.creatorConfig.creator(c.name);if(h){const p=this.wrapSyncFunction(h,c.name.value);return new t.SyncExtension(c.name,f,p)}}else{const h=this.creatorConfig.creator(c.name);if(h){const p=this.wrapAsyncFunction(h,c.name.value);return new t.AsyncExtension(c.name,f,p)}}throw new a.UnknownNamedOperator(c.name.value)}static hasCorrectArity(c,d){return Array.isArray(d)?d.includes(c.length):c.length===d}static transformAggregate(c){const d=c.aggregator;return new t.Aggregate(d,c)}static transformExistence(c){return new t.Existence(c)}};return pm.AlgebraTransformer=u,pm}var Um={},km={},SV;function NZ(){if(SV)return km;SV=1,Object.defineProperty(km,"__esModule",{value:!0}),km.BaseExpressionEvaluator=void 0;const e=ns(),t=vn();let r=class{constructor(a){this.termTransformer=a}term(a){return a}variable(a,s){const o=s.get((0,e.expressionToVar)(a));if(!o)throw new t.UnboundVariableError(a.name,s);return this.termTransformer.transformRDFTermUnsafe(o)}};return km.BaseExpressionEvaluator=r,km}var TV;function ONe(){if(TV)return Um;TV=1,Object.defineProperty(Um,"__esModule",{value:!0}),Um.AsyncRecursiveEvaluator=void 0;const e=Di(),t=xc(),r=vn(),n=NZ();let a=class extends n.BaseExpressionEvaluator{constructor(o,u){super(u??new t.TermTransformer(o.superTypeProvider)),this.context=o,this.subEvaluators={[e.ExpressionType.Term]:(l,c)=>this.term(l),[e.ExpressionType.Variable]:(l,c)=>this.variable(l,c),[e.ExpressionType.Operator]:(l,c)=>this.evalOperator(l,c),[e.ExpressionType.SpecialOperator]:(l,c)=>this.evalSpecialOperator(l,c),[e.ExpressionType.Named]:(l,c)=>this.evalNamed(l,c),[e.ExpressionType.Existence]:(l,c)=>this.evalExistence(l,c),[e.ExpressionType.Aggregate]:(l,c)=>this.evalAggregate(l),[e.ExpressionType.AsyncExtension]:(l,c)=>this.evalAsyncExtension(l,c)}}async evaluate(o,u){const l=this.subEvaluators[o.expressionType];if(!l)throw new r.InvalidExpressionType(o);return l.bind(this)(o,u)}async evalOperator(o,u){const l=o.args.map(d=>this.evaluate(d,u)),c=await Promise.all(l);return o.apply(c)}async evalSpecialOperator(o,u){const l=this.evaluate.bind(this),c={args:o.args,mapping:u,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:l,bnode:this.context.bnode,defaultTimeZone:this.context.defaultTimeZone};return o.applyAsync(c)}async _evalAsyncArgs(o,u){const l=o.map(c=>this.evaluate(c,u));return await Promise.all(l)}async evalNamed(o,u){return o.apply(await this._evalAsyncArgs(o.args,u))}async evalAsyncExtension(o,u){return await o.apply(await this._evalAsyncArgs(o.args,u))}async evalExistence(o,u){if(!this.context.exists)throw new r.NoExistenceHook;return new e.BooleanLiteral(await this.context.exists(o.expression,u))}async evalAggregate(o){if(!this.context.aggregate)throw new r.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(await this.context.aggregate(o.expression))}};return Um.AsyncRecursiveEvaluator=a,Um}var EV;function CZ(){if(EV)return hm;EV=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.AsyncEvaluator=void 0;const e=Xo(),t=PZ(),r=Pd(),n=ONe();let a=class DZ{static completeContext(o){const u=o.now??new Date(Date.now());return{now:u,baseIRI:o.baseIRI??void 0,functionArgumentsCache:o.functionArgumentsCache??{},superTypeProvider:{cache:o.typeCache??new e.LRUCache({max:1e3}),discoverer:o.getSuperType??(()=>"term")},extensionFunctionCreator:o.extensionFunctionCreator,exists:o.exists,aggregate:o.aggregate,bnode:o.bnode,defaultTimeZone:o.defaultTimeZone??(0,r.extractTimeZone)(u)}}constructor(o,u={}){this.algExpr=o;const l=u.extensionFunctionCreator??(()=>{}),c=DZ.completeContext(u),d=new t.AlgebraTransformer({type:"async",creator:l,...c});this.expr=d.transformAlgebra(o),this.evaluator=new n.AsyncRecursiveEvaluator(c,d)}async evaluate(o){return(await this.evaluator.evaluate(this.expr,o)).toRDF()}async evaluateAsEBV(o){return(await this.evaluator.evaluate(this.expr,o)).coerceEBV()}async evaluateAsInternal(o){return await this.evaluator.evaluate(this.expr,o)}};return hm.AsyncEvaluator=a,hm}var Vm={},Hm={},AV;function RNe(){if(AV)return Hm;AV=1,Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.SyncRecursiveEvaluator=void 0;const e=Di(),t=xc(),r=vn(),n=NZ();let a=class extends n.BaseExpressionEvaluator{constructor(o,u){super(u??new t.TermTransformer(o.superTypeProvider)),this.context=o,this.subEvaluators={[e.ExpressionType.Term]:(l,c)=>this.term(l),[e.ExpressionType.Variable]:(l,c)=>this.variable(l,c),[e.ExpressionType.Operator]:(l,c)=>this.evalOperator(l,c),[e.ExpressionType.SpecialOperator]:(l,c)=>this.evalSpecialOperator(l,c),[e.ExpressionType.Named]:(l,c)=>this.evalNamed(l,c),[e.ExpressionType.Existence]:(l,c)=>this.evalExistence(l,c),[e.ExpressionType.Aggregate]:(l,c)=>this.evalAggregate(l),[e.ExpressionType.SyncExtension]:(l,c)=>this.evalSyncExtension(l,c)}}evaluate(o,u){const l=this.subEvaluators[o.expressionType];if(!l)throw new r.InvalidExpressionType(o);return l.bind(this)(o,u)}evalOperator(o,u){const l=o.args.map(c=>this.evaluate(c,u));return o.apply(l)}evalSpecialOperator(o,u){const l=this.evaluate.bind(this),c={args:o.args,mapping:u,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:l,bnode:this.context.bnode,defaultTimeZone:this.context.defaultTimeZone};return o.applySynchronously(c)}evalNamed(o,u){const l=o.args.map(c=>this.evaluate(c,u));return o.apply(l)}evalSyncExtension(o,u){const l=o.args.map(c=>this.evaluate(c,u));return o.apply(l)}evalExistence(o,u){if(!this.context.exists)throw new r.NoExistenceHook;return new e.BooleanLiteral(this.context.exists(o.expression,u))}evalAggregate(o){if(!this.context.aggregate)throw new r.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(this.context.aggregate(o.expression))}};return Hm.SyncRecursiveEvaluator=a,Hm}var OV;function jZ(){if(OV)return Vm;OV=1,Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.SyncEvaluator=void 0;const e=Xo(),t=PZ(),r=Pd(),n=RNe();let a=class LZ{static completeContext(o){const u=o.now??new Date(Date.now());return{now:u,baseIRI:o.baseIRI??void 0,functionArgumentsCache:o.functionArgumentsCache??{},superTypeProvider:{cache:o.typeCache??new e.LRUCache({max:1e3}),discoverer:o.getSuperType??(()=>"term")},extensionFunctionCreator:o.extensionFunctionCreator,exists:o.exists,aggregate:o.aggregate,bnode:o.bnode,defaultTimeZone:o.defaultTimeZone??(0,r.extractTimeZone)(u)}}constructor(o,u={}){this.algExpr=o,this.context=u;const l=u.extensionFunctionCreator??(()=>{}),c=LZ.completeContext(u),d=new t.AlgebraTransformer({type:"sync",creator:l,...c});this.expr=d.transformAlgebra(o),this.evaluator=new n.SyncRecursiveEvaluator(c,d)}evaluate(o){return this.evaluator.evaluate(this.expr,o).toRDF()}evaluateAsEBV(o){return this.evaluator.evaluate(this.expr,o).coerceEBV()}evaluateAsInternal(o){return this.evaluator.evaluate(this.expr,o)}};return Vm.SyncEvaluator=a,Vm}var Qm={},zm={},Gm={},Wm={},Eu={},RV;function Zo(){if(RV)return Eu;RV=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.Aggregator=Eu.AggregatorComponent=void 0;const e=rr,t=xc(),r=ni(),n=ZS();class a{static emptyValue(){}constructor(u,l){this.sharedContext=l,this.separator=u.separator||" ",this.termTransformer=new t.TermTransformer(l.superTypeProvider)}termToNumericOrError(u){if(u.termType!=="Literal")throw new Error(`Term with value ${u.value} has type ${u.termType} and is not a numeric literal`);if(!(0,n.isSubTypeOf)(u.datatype.value,r.TypeAlias.SPARQL_NUMERIC,this.sharedContext.superTypeProvider))throw new Error(`Term datatype ${u.datatype.value} with value ${u.value} has type ${u.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(u)}}Eu.AggregatorComponent=a;let s=class{constructor(u,l){this.aggregatorComponent=l,this.variableValues=new Map,this.distinct=u.distinct}static emptyValue(u){return u.emptyValue()}result(){return this.aggregatorComponent.result()}put(u,l=""){this.canSkip(u,l)||(this.aggregatorComponent.put(u),this.addSeen(u,l))}canSkip(u,l){const c=this.variableValues.get(l);return this.distinct&&c!==void 0&&c.has(e.termToString(u))}addSeen(u,l){this.distinct&&(this.variableValues.has(l)||this.variableValues.set(l,new Set),this.variableValues.get(l).add(e.termToString(u)))}};return Eu.Aggregator=s,Eu}var xV;function xNe(){if(xV)return Wm;xV=1,Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.Average=void 0;const e=Di(),t=Nd(),r=ns(),n=ni(),a=Zo();let s=class MZ extends a.AggregatorComponent{constructor(){super(...arguments),this.summer=t.regularFunctions[n.RegularOperator.ADDITION],this.divider=t.regularFunctions[n.RegularOperator.DIVISION],this.state=void 0}static emptyValue(){return(0,r.integer)(0).toRDF()}put(u){if(this.state===void 0){const l=this.termToNumericOrError(u);this.state={sum:l,count:1}}else{const l=this.termToNumericOrError(u);this.state.sum=this.summer.apply([this.state.sum,l],this.sharedContext),this.state.count++}}result(){if(this.state===void 0)return MZ.emptyValue();const u=new e.IntegerLiteral(this.state.count);return this.divider.apply([this.state.sum,u],this.sharedContext).toRDF()}};return Wm.Average=s,Wm}var Km={},IV;function INe(){if(IV)return Km;IV=1,Object.defineProperty(Km,"__esModule",{value:!0}),Km.Count=void 0;const e=ns(),t=Zo();let r=class FZ extends t.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}static emptyValue(){return(0,e.integer)(0).toRDF()}put(){this.state===void 0&&(this.state=0),this.state++}result(){return this.state===void 0?FZ.emptyValue():(0,e.integer)(this.state).toRDF()}};return Km.Count=r,Km}var Jm={},PV;function PNe(){if(PV)return Jm;PV=1,Object.defineProperty(Jm,"__esModule",{value:!0}),Jm.GroupConcat=void 0;const e=ns(),t=Zo();let r=class qZ extends t.AggregatorComponent{constructor(){super(...arguments),this.state=void 0,this.lastLanguageValid=!0,this.lastLanguage=void 0}static emptyValue(){return(0,e.string)("").toRDF()}put(a){this.state===void 0?(this.state=a.value,a.termType==="Literal"&&(this.lastLanguage=a.language)):(this.state+=this.separator+a.value,this.lastLanguageValid&&a.termType==="Literal"&&this.lastLanguage!==a.language&&(this.lastLanguageValid=!1,this.lastLanguage=void 0))}result(){return this.state===void 0?qZ.emptyValue():this.lastLanguageValid&&this.lastLanguage?(0,e.langString)(this.state,this.lastLanguage).toRDF():(0,e.string)(this.state).toRDF()}};return Jm.GroupConcat=r,Jm}var Xm={},NV;function NNe(){if(NV)return Xm;NV=1,Object.defineProperty(Xm,"__esModule",{value:!0}),Xm.Max=void 0;const e=r2(),t=Zo();let r=class BZ extends t.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(a){if(a.termType!=="Literal")throw new Error(`Term with value ${a.value} has type ${a.termType} and is not a literal`);this.state===void 0?this.state=a:(0,e.orderTypes)(this.state,a)===-1&&(this.state=a)}result(){return this.state===void 0?BZ.emptyValue():this.state}};return Xm.Max=r,Xm}var Ym={},DV;function DNe(){if(DV)return Ym;DV=1,Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.Min=void 0;const e=r2(),t=Zo();let r=class $Z extends t.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(a){if(a.termType!=="Literal")throw new Error(`Term with value ${a.value} has type ${a.termType} and is not a literal`);this.state===void 0?this.state=a:(0,e.orderTypes)(this.state,a)===1&&(this.state=a)}result(){return this.state===void 0?$Z.emptyValue():this.state}};return Ym.Min=r,Ym}var Zm={},CV;function CNe(){if(CV)return Zm;CV=1,Object.defineProperty(Zm,"__esModule",{value:!0}),Zm.Sample=void 0;const e=Zo();let t=class UZ extends e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(n){this.state===void 0&&(this.state=n)}result(){return this.state===void 0?UZ.emptyValue():this.state}};return Zm.Sample=t,Zm}var eg={},LV;function LNe(){if(LV)return eg;LV=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.Sum=void 0;const e=Nd(),t=ns(),r=ni(),n=Zo();let a=class kZ extends n.AggregatorComponent{constructor(){super(...arguments),this.state=void 0,this.summer=e.regularFunctions[r.RegularOperator.ADDITION]}static emptyValue(){return(0,t.integer)(0).toRDF()}put(o){if(this.state===void 0)this.state=this.termToNumericOrError(o);else{const u=this.termToNumericOrError(o);this.state=this.summer.apply([this.state,u],this.sharedContext)}}result(){return this.state===void 0?kZ.emptyValue():this.state.toRDF()}};return eg.Sum=a,eg}var jV;function jNe(){if(jV)return Gm;jV=1,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.aggregators=void 0;const e=xNe(),t=INe(),r=PNe(),n=NNe(),a=DNe(),s=CNe(),o=LNe();return Gm.aggregators={count:t.Count,sum:o.Sum,min:a.Min,max:n.Max,avg:e.Average,group_concat:r.GroupConcat,sample:s.Sample},Gm}var tg={},MV;function MNe(){if(MV)return tg;MV=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.WildcardCountAggregator=void 0;const e=rr,t=ns();let r=class{constructor(a){this.bindingValues=new Map,this.counter=0,this.distinct=a.distinct}putBindings(a){this.handleDistinct(a)||(this.counter+=1)}static emptyValue(){return(0,t.integer)(0).toRDF()}result(){return(0,t.integer)(this.counter).toRDF()}handleDistinct(a){if(this.distinct){const s=[...a];s.sort((d,f)=>d[0].value.localeCompare(f[0].value));const o=s.map(([d])=>d.value).join(","),u=s.map(([,d])=>e.termToString(d)).join(","),l=this.bindingValues.get(o),c=l!==void 0&&l.has(u);return l||this.bindingValues.set(o,new Set),this.bindingValues.get(o).add(u),c}return!1}};return tg.WildcardCountAggregator=r,tg}var FV;function VZ(){if(FV)return zm;FV=1,Object.defineProperty(zm,"__esModule",{value:!0}),zm.BaseAggregateEvaluator=void 0;const e=Nt(),t=jNe(),r=Zo(),n=MNe(),a=vn();let s=class{constructor(u,l,c){this.throwError=!1,this.isWildcard=!1,this.errorOccurred=!1,this.expression=u,this.aggregator=new r.Aggregator(u,new t.aggregators[u.aggregator](u,l)),this.throwError=c??!1,this.isWildcard=u.expression.expressionType===e.Algebra.expressionTypes.WILDCARD,this.isWildcard&&(this.wildcardAggregator=new n.WildcardCountAggregator(u))}static emptyValue(u,l=!1){let c;if(u.expression.expressionType===e.Algebra.expressionTypes.WILDCARD?c=n.WildcardCountAggregator.emptyValue():c=r.Aggregator.emptyValue(t.aggregators[u.aggregator]),c===void 0&&l)throw new a.EmptyAggregateError;return c}result(){if(!this.errorOccurred)return this.isWildcard?this.wildcardAggregator.result():this.aggregator.result()}};return zm.BaseAggregateEvaluator=s,zm}var qV;function FNe(){if(qV)return Qm;qV=1,Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.AggregateEvaluator=void 0;const e=VZ(),t=jZ();let r=class extends e.BaseAggregateEvaluator{constructor(a,s,o){super(a,t.SyncEvaluator.completeContext(s??{}),o),this.evaluator=new t.SyncEvaluator(a.expression,s)}put(a){if(!this.errorOccurred)if(this.isWildcard)this.wildcardAggregator.putBindings(a);else try{const s=this.evaluator.evaluate(a);this.aggregator.put(s)}catch(s){this.safeThrow(s)}}safeThrow(a){if(this.throwError)throw a;this.errorOccurred=!0}};return Qm.AggregateEvaluator=r,Qm}var rg={},BV;function qNe(){if(BV)return rg;BV=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.AsyncAggregateEvaluator=void 0;const e=CZ(),t=VZ();let r=class extends t.BaseAggregateEvaluator{constructor(a,s,o){super(a,e.AsyncEvaluator.completeContext(s??{}),o),this.evaluator=new e.AsyncEvaluator(a.expression,s),this.errorOccurred=!1}async put(a){if(!this.errorOccurred)if(this.isWildcard)this.wildcardAggregator.putBindings(a);else try{const s=await this.evaluator.evaluate(a);if(!s||this.errorOccurred)return;this.aggregator.put(s)}catch(s){this.safeThrow(s)}}safeThrow(a){if(this.throwError)throw a;this.errorOccurred=!0}};return rg.AsyncAggregateEvaluator=r,rg}var $V;function Dd(){return $V||($V=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncAggregateEvaluator=e.orderTypes=e.isExpressionError=e.ExpressionError=e.AggregateEvaluator=e.SyncEvaluator=e.AsyncEvaluator=void 0;var t=CZ();Object.defineProperty(e,"AsyncEvaluator",{enumerable:!0,get:function(){return t.AsyncEvaluator}});var r=jZ();Object.defineProperty(e,"SyncEvaluator",{enumerable:!0,get:function(){return r.SyncEvaluator}});var n=FNe();Object.defineProperty(e,"AggregateEvaluator",{enumerable:!0,get:function(){return n.AggregateEvaluator}});var a=vn();Object.defineProperty(e,"ExpressionError",{enumerable:!0,get:function(){return a.ExpressionError}}),Object.defineProperty(e,"isExpressionError",{enumerable:!0,get:function(){return a.isExpressionError}});var s=r2();Object.defineProperty(e,"orderTypes",{enumerable:!0,get:function(){return s.orderTypes}});var o=qNe();Object.defineProperty(e,"AsyncAggregateEvaluator",{enumerable:!0,get:function(){return o.AsyncAggregateEvaluator}})}(vR)),vR}var UV;function BNe(){if(UV)return fm;UV=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.ActorQueryOperationExtend=void 0;const e=Br(),t=Ot(),r=Dd();let n=class extends t.ActorQueryOperationTypedMediated{constructor(s){super(s,"extend")}async testOperation(s,o){const u=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o);return new r.AsyncEvaluator(s.expression,t.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,u)),!0}async runOperation(s,o){const{expression:u,input:l,variable:c}=s,d=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:l,context:o}));if((await d.metadata()).variables.some(g=>g.equals(c)))throw new Error(`Illegal binding to variable '${c.value}' that has already been bound`);const f=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o),h={...t.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,f)},p=new r.AsyncEvaluator(u,h),m=async(g,b,v)=>{try{const _=await p.evaluate(g),w=g.set(c,_);v(w)}catch(_){(0,r.isExpressionError)(_)?(v(g),this.logWarn(o,`Expression error for extend operation (${_.message})with bindings '${(0,e.bindingsToString)(g)}'`)):y.emit("error",_)}b()},y=d.bindingsStream.transform({autoStart:!1,transform:m});return{type:"bindings",bindingsStream:y,async metadata(){const g=await d.metadata();return{...g,variables:[...g.variables,c]}}}}};return fm.ActorQueryOperationExtend=n,fm}var kV;function $Ne(){return kV||(kV=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(BNe(),e)}(bR)),bR}var xR={},ng={},VV;function UNe(){if(VV)return ng;VV=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.ActorQueryOperationFilter=void 0;const e=Br(),t=Ot(),r=Dd();let n=class extends t.ActorQueryOperationTypedMediated{constructor(s){super(s,"filter")}async testOperation(s,o){const u=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o),l={...t.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,u)};return new r.AsyncEvaluator(s.expression,l),!0}async runOperation(s,o){const u=await this.mediatorQueryOperation.mediate({operation:s.input,context:o}),l=t.ActorQueryOperation.getSafeBindings(u);t.ActorQueryOperation.validateQueryOutput(l,"bindings");const c=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o),d={...t.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,c)},f=new r.AsyncEvaluator(s.expression,d),h=async(m,y,g)=>{try{await f.evaluateAsEBV(m)&&g(m)}catch(b){(0,r.isExpressionError)(b)?this.logWarn(o,"Error occurred while filtering.",()=>({error:b,bindings:(0,e.bindingsToString)(m)})):p.emit("error",b)}y()},p=l.bindingsStream.transform({transform:h,autoStart:!1});return{type:"bindings",bindingsStream:p,metadata:l.metadata}}};return ng.ActorQueryOperationFilter=n,ng}var HV;function kNe(){return HV||(HV=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(UNe(),e)}(xR)),xR}var IR={},ig={},ag={},QV;function VNe(){if(QV)return ag;QV=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.GroupsState=void 0;const e=Dd(),t=xt,r=new t.DataFactory;let n=class{constructor(s,o,u,l){this.hashFunction=s,this.pattern=o,this.sparqleeConfig=u,this.bindingsFactory=l,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(c=>c.value)),this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(s){const o=this.resultCheck();if(o)return o;this.waitCounter++;const u=s.filter((f,h)=>this.groupVariables.has(h.value)),l=this.hashBindings(u);let c=this.groupsInitializer.get(l),d;if(c){const f=c;d=(async()=>{const h=await f;await Promise.all(this.pattern.aggregates.map(async p=>{const m=p.variable.value;await h.aggregators[m].put(s)}))})().then(async()=>{this.subtractWaitCounterAndCollect()})}else c=(async()=>{const f={};await Promise.all(this.pattern.aggregates.map(async p=>{const m=p.variable.value;f[m]=new e.AsyncAggregateEvaluator(p,this.sparqleeConfig),await f[m].put(s)}));const h={aggregators:f,bindings:u};return this.groups.set(l,h),this.subtractWaitCounterAndCollect(),h})(),this.groupsInitializer.set(l,c),d=c;return d}subtractWaitCounterAndCollect(){--this.waitCounter===0&&this.handleResultCollection()}handleResultCollection(){let s=[...this.groups].map(([o,u])=>{const{bindings:l,aggregators:c}=u;let d=l;for(const f in c){const h=c[f].result();h&&(d=d.set(r.variable(f),h))}return d});if(s.length===0&&this.groupVariables.size===0){const o=[];for(const u of this.pattern.aggregates){const l=u.variable,c=e.AsyncAggregateEvaluator.emptyValue(u);c!==void 0&&o.push([l,c])}s=[this.bindingsFactory.bindings(o)]}this.waitResolver(s)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}collectResults(){const s=this.resultCheck();if(s)return s;this.resultHasBeenCalled=!0;const o=new Promise(u=>{this.waitResolver=u});return this.subtractWaitCounterAndCollect(),o}hashBindings(s){return this.hashFunction(s)}};return ag.GroupsState=n,ag}var zV;function HNe(){if(zV)return ig;zV=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.ActorQueryOperationGroup=void 0;const e=Br(),t=Ot(),r=Dd(),n=$t(),a=VNe();let s=class extends t.ActorQueryOperationTypedMediated{constructor(u){super(u,"group")}async testOperation(u,l){const c=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l);for(const d of u.aggregates)new r.AsyncEvaluator(d.expression,t.ActorQueryOperation.getAsyncExpressionContext(l,this.mediatorQueryOperation,c));return!0}async runOperation(u,l){const c=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l),{hashFunction:d}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:l}),{input:f,aggregates:h}=u,p=await this.mediatorQueryOperation.mediate({operation:f,context:l}),m=t.ActorQueryOperation.getSafeBindings(p),y=[...u.variables,...h.map(v=>v.variable)],g=t.ActorQueryOperation.getAsyncExpressionContext(l,this.mediatorQueryOperation,c);return{type:"bindings",bindingsStream:new n.TransformIterator(()=>new Promise((v,_)=>{const w=new a.GroupsState(d,u,g,c);m.bindingsStream.on("end",async()=>{try{const S=new n.ArrayIterator(await w.collectResults(),{autoStart:!1});v(S)}catch(S){_(S)}}),m.bindingsStream.on("error",_),m.bindingsStream.on("data",S=>{w.consumeBindings(S).catch(_)})}),{autoStart:!1}),metadata:async()=>({...await m.metadata(),variables:y})}}};return ig.ActorQueryOperationGroup=s,ig}var GV;function QNe(){return GV||(GV=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(HNe(),e)}(IR)),IR}var PR={},sg={},WV;function zNe(){if(WV)return sg;WV=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.ActorQueryOperationLeftJoin=void 0;const e=Br(),t=Ot(),r=Dd();let n=class extends t.ActorQueryOperationTypedMediated{constructor(s){super(s,"leftjoin")}async testOperation(s,o){return!0}async runOperation(s,o){const u=(await Promise.all(s.input.map(async c=>({output:await this.mediatorQueryOperation.mediate({operation:c,context:o}),operation:c})))).map(({output:c,operation:d})=>({output:t.ActorQueryOperation.getSafeBindings(c),operation:d})),l=await this.mediatorJoin.mediate({type:"optional",entries:u,context:o});if(s.expression){const d=(await u[1].output.metadata()).variables,f=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o),h={...t.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,f)},p=new r.AsyncEvaluator(s.expression,h),m=l.bindingsStream.transform({autoStart:!1,transform:async(y,g,b)=>{if(!d.every(v=>y.has(v.value)))return b(y),g();try{await p.evaluateAsEBV(y)&&b(y)}catch(v){(0,r.isExpressionError)(v)?this.logWarn(o,"Error occurred while filtering.",()=>({error:v,bindings:y})):m.emit("error",v)}g()}});l.bindingsStream=m}return l}};return sg.ActorQueryOperationLeftJoin=n,sg}var KV;function GNe(){return KV||(KV=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(zNe(),e)}(PR)),PR}var NR={},og={},JV;function WNe(){if(JV)return og;JV=1,Object.defineProperty(og,"__esModule",{value:!0}),og.ActorQueryOperationNop=void 0;const e=Br(),t=Ot(),r=ai(),n=$t();let a=class extends t.ActorQueryOperationTypedMediated{constructor(o){super(o,"nop")}async testOperation(o,u){return!0}async runOperation(o,u){const l=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,u);return{bindingsStream:new n.SingletonIterator(l.bindings()),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}};return og.ActorQueryOperationNop=a,og}var XV;function KNe(){return XV||(XV=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(WNe(),e)}(NR)),NR}var DR={},ug={},cg={},YV;function JNe(){if(YV)return cg;YV=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.SortIterator=void 0;const e=$t();let t=class extends e.TransformIterator{constructor(n,a,s){super(n,s);const o=s&&s.window;this.windowLength=Number.isFinite(o)&&o>0?o:Number.POSITIVE_INFINITY,this.sort=a,this.sorted=[]}_read(n,a){let s,{length:o}=this.sorted;for(;o!==this.windowLength&&(s=this.source.read(),s!==null);){let u=0,l=o-1,c,d;for(;u<=l;)c=Math.trunc((u+l)/2),d=this.sort(s,this.sorted[c]),d<0?u=c+1:d>0?l=c-1:(u=c,l=-1);this.sorted.splice(u,0,s),o++}o===this.windowLength&&this._push(this.sorted.pop()),a()}_flush(n){let{length:a}=this.sorted;for(;a--;)this._push(this.sorted.pop());n()}};return cg.SortIterator=t,cg}var ZV;function XNe(){if(ZV)return ug;ZV=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.ActorQueryOperationOrderBy=void 0;const e=Br(),t=Ot(),r=Dd(),n=Nt(),a=JNe();let s=class extends t.ActorQueryOperationTypedMediated{constructor(u){super(u,"orderby"),this.window=u.window??Number.POSITIVE_INFINITY}async testOperation(u,l){const c=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l);for(let d of u.expressions)d=this.extractSortExpression(d),new r.AsyncEvaluator(d,t.ActorQueryOperation.getAsyncExpressionContext(l,this.mediatorQueryOperation,c));return!0}async runOperation(u,l){const c=await this.mediatorQueryOperation.mediate({operation:u.input,context:l}),d=t.ActorQueryOperation.getSafeBindings(c),f={window:this.window},h=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l),p={...t.ActorQueryOperation.getAsyncExpressionContext(l,this.mediatorQueryOperation,h)};let{bindingsStream:m}=d;for(let y=u.expressions.length-1;y>=0;y--){let g=u.expressions[y];const b=this.isAscending(g);g=this.extractSortExpression(g);const v=new r.AsyncEvaluator(g,p),_=async(E,x,C)=>{try{const I=await v.evaluate(E);C({bindings:E,result:I})}catch(I){(0,r.isExpressionError)(I)||m.emit("error",I),C({bindings:E,result:void 0})}x()},w=m.transform({transform:_});m=new a.SortIterator(w,(E,x)=>{let C=(0,r.orderTypes)(E.result,x.result);return b||(C*=-1),C},f).map(({bindings:E})=>E)}return{type:"bindings",bindingsStream:m,metadata:d.metadata}}extractSortExpression(u){const{expressionType:l,operator:c}=u;return l!==n.Algebra.expressionTypes.OPERATOR?u:c==="desc"?u.args[0]:u}isAscending(u){const{expressionType:l,operator:c}=u;return l!==n.Algebra.expressionTypes.OPERATOR?!0:c!=="desc"}};return ug.ActorQueryOperationOrderBy=s,ug}var eH;function YNe(){return eH||(eH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(XNe(),e)}(DR)),DR}var CR={},lg={},tH;function ZNe(){if(tH)return lg;tH=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.ActorQueryOperationService=void 0;const e=Br(),t=Ot(),r=ai(),n=$t();let a=class extends t.ActorQueryOperationTypedMediated{constructor(o){super(o,"service")}async testOperation(o,u){if(o.name.termType!=="NamedNode")throw new Error(`${this.name} can only query services by IRI, while a ${o.name.termType} was given.`);return!0}async runOperation(o,u){const{querySource:l}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:o.name.value,type:this.forceSparqlEndpoint?"sparql":void 0},context:u});let c;try{c=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:t.ActorQueryOperation.assignOperationSource(o.input,l),context:u}))}catch(d){if(o.silent){const f=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,u);c={bindingsStream:new n.SingletonIterator(f.bindings()),type:"bindings",metadata:async()=>({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})},this.logWarn(u,`An error occurred when executing a SERVICE clause: ${d.message}`)}else throw d}return c}};return lg.ActorQueryOperationService=a,lg}var rH;function eDe(){return rH||(rH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ZNe(),e)}(CR)),CR}var LR={},dg={},nH;function tDe(){if(nH)return dg;nH=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.ActorQueryOperationValues=void 0;const e=Br(),t=Ot(),r=ai(),n=$t(),a=xt,s=new a.DataFactory;let o=class extends t.ActorQueryOperationTyped{constructor(l){super(l,"values")}async testOperation(l,c){return!0}async runOperation(l,c){const d=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,c),f=new n.ArrayIterator(l.bindings.map(m=>d.bindings(Object.entries(m).map(([y,g])=>[s.variable(y.slice(1)),g])))),h=l.variables;return{type:"bindings",bindingsStream:f,metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:l.bindings.length},canContainUndefs:l.bindings.some(m=>h.some(y=>!(`?${y.value}`in m))),variables:h})}}};return dg.ActorQueryOperationValues=o,dg}var iH;function rDe(){return iH||(iH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(tDe(),e)}(LR)),LR}var jR={},fg={},aH;function nDe(){if(aH)return fg;aH=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.ActorQueryOperationPathOneOrMore=void 0;const e=Yo(),t=Br(),r=Ot(),n=$t(),a=Nt();let s=class extends e.ActorAbstractPath{constructor(u){super(u,a.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(u,l){const c=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,l),d=await this.isPathArbitraryLengthDistinct(l,u);if(d.operation)return d.operation;l=d.context;const f=u.predicate;if(u.subject.termType!=="Variable"&&u.object.termType==="Variable"){const y=u.object,g=await this.getObjectsPredicateStarEval(u.subject,f.path,y,u.graph,l,!1,c),b=u.graph.termType==="Variable"?[y,u.graph]:[y];return{type:"bindings",bindingsStream:g.bindingsStream,metadata:async()=>({...await g.metadata(),variables:b})}}if(u.subject.termType==="Variable"&&u.object.termType==="Variable"){const y=e.ActorAbstractPath.FACTORY.createDistinct(e.ActorAbstractPath.FACTORY.createPath(u.subject,u.predicate.path,u.object,u.graph)),g=r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:l,operation:y})),b=u.subject,v=u.object,_={},w=new n.MultiTransformIterator(g.bindingsStream,{multiTransform:E=>{const x=E.get(b),C=E.get(v),I=u.graph.termType==="Variable"?E.get(u.graph):u.graph;return new n.TransformIterator(async()=>{const P=new n.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(b,v,x,C,f.path,I,l,_,{},P,{count:0},c),P.transform({transform(L,D,V){u.graph.termType==="Variable"&&(L=L.set(u.graph,I)),V(L),D()}})},{maxBufferSize:128})},autoStart:!1}),S=u.graph.termType==="Variable"?[b,v,u.graph]:[b,v];return{type:"bindings",bindingsStream:w,metadata:async()=>({...await g.metadata(),variables:S})}}if(u.subject.termType==="Variable"&&u.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:l,operation:e.ActorAbstractPath.FACTORY.createPath(u.object,e.ActorAbstractPath.FACTORY.createOneOrMorePath(e.ActorAbstractPath.FACTORY.createInv(f.path)),u.subject,u.graph)});const h=this.generateVariable(),p=r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:l,operation:e.ActorAbstractPath.FACTORY.createPath(u.subject,f,h,u.graph)}));return{type:"bindings",bindingsStream:p.bindingsStream.transform({filter:y=>u.object.equals(y.get(h)),transform(y,g,b){const v=u.graph.termType==="Variable"?c.bindings([[u.graph,y.get(u.graph)]]):c.bindings();b(v),g()}}),metadata:async()=>({...await p.metadata(),variables:u.graph.termType==="Variable"?[u.graph]:[]})}}};return fg.ActorQueryOperationPathOneOrMore=s,fg}var sH;function iDe(){return sH||(sH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(nDe(),e)}(jR)),jR}var MR={},hg={},oH;function aDe(){if(oH)return hg;oH=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.ActorQueryOperationPathZeroOrMore=void 0;const e=Yo(),t=Br(),r=Ot(),n=$t(),a=rr,s=Nt();let o=class extends e.ActorAbstractPath{constructor(l){super(l,s.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(l,c){const d=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,c),f=await this.isPathArbitraryLengthDistinct(c,l);if(f.operation)return f.operation;c=f.context;const h=l.predicate,p=this.getPathSources(h),m=l.subject.termType==="Variable",y=l.object.termType==="Variable";if(l.subject.termType==="Variable"&&l.object.termType==="Variable"){const S=this.generateVariable(l),E=this.assignPatternSources(e.ActorAbstractPath.FACTORY.createPattern(l.subject,S,l.object,l.graph),p),x=r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:c,operation:E})),C=l.subject,I=l.object,P=new Set,L={},D=new n.MultiTransformIterator(x.bindingsStream,{multiTransform:k=>{const $=k.get(C),H=k.get(I),J=l.graph.termType==="Variable"?k.get(l.graph):l.graph,Y=(0,a.termToString)($)+(0,a.termToString)(J),de=(0,a.termToString)(H)+(0,a.termToString)(J);return new n.TransformIterator(async()=>{if(P.has(Y)&&P.has(de))return new n.EmptyIterator;const Te=new n.BufferedIterator,De={count:0};return P.has(Y)||(P.add(Y),await this.getSubjectAndObjectBindingsPredicateStar(C,I,$,$,h.path,J,c,L,{},Te,De,d)),P.has(de)||(P.add(de),await this.getSubjectAndObjectBindingsPredicateStar(C,I,H,H,h.path,J,c,L,{},Te,De,d)),Te.transform({transform(Ve,le,ue){l.graph.termType==="Variable"&&(Ve=Ve.set(l.graph,J)),ue(Ve),le()}})})}}),V=l.graph.termType==="Variable"?[C,l.object,l.graph]:[C,l.object];return{type:"bindings",bindingsStream:D,metadata:async()=>({...await x.metadata(),variables:V})}}if(!m&&!y){const S=this.generateVariable(),E=await this.getObjectsPredicateStarEval(l.subject,h.path,S,l.graph,c,!0,d);return{type:"bindings",bindingsStream:E.bindingsStream.transform({filter:C=>l.object.equals(C.get(S)),transform(C,I,P){const L=l.graph.termType==="Variable"?d.bindings([[l.graph,C.get(l.graph)]]):d.bindings();P(L),I()}}),metadata:async()=>({...await E.metadata(),variables:l.graph.termType==="Variable"?[l.graph]:[]})}}const g=m?l.object:l.subject,b=m?l.subject:l.object,v=m?e.ActorAbstractPath.FACTORY.createInv(h.path):h.path,_=await this.getObjectsPredicateStarEval(g,v,b,l.graph,c,!0,d),w=l.graph.termType==="Variable"?[b,l.graph]:[b];return{type:"bindings",bindingsStream:_.bindingsStream,metadata:async()=>({...await _.metadata(),variables:w})}}};return hg.ActorQueryOperationPathZeroOrMore=o,hg}var uH;function sDe(){return uH||(uH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(aDe(),e)}(MR)),MR}var FR={},pg={},cH;function oDe(){if(cH)return pg;cH=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.ActorQueryOperationPathZeroOrOne=void 0;const e=Yo(),t=Br(),r=Ot(),n=ai(),a=$t(),s=Nt();let o=class extends e.ActorAbstractPath{constructor(l){super(l,s.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(l,c){const d=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,c),f=l.predicate,h=this.getPathSources(f),p=[];if(l.subject.termType!=="Variable"&&l.object.termType!=="Variable"&&l.subject.equals(l.object))return{type:"bindings",bindingsStream:new a.SingletonIterator(d.bindings()),metadata:()=>Promise.resolve({state:new n.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};const m=await this.isPathArbitraryLengthDistinct(c,l);if(m.operation)return m.operation;c=m.context;const y=r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:c,operation:e.ActorAbstractPath.FACTORY.createPath(l.subject,f.path,l.object,l.graph)}));let g;if(l.subject.termType==="Variable"&&l.object.termType==="Variable"){const b=this.generateVariable(l),v=r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:c,operation:e.ActorAbstractPath.FACTORY.createFilter(this.assignPatternSources(e.ActorAbstractPath.FACTORY.createPattern(l.subject,b,l.object,l.graph),h),e.ActorAbstractPath.FACTORY.createOperatorExpression("=",[e.ActorAbstractPath.FACTORY.createTermExpression(l.subject),e.ActorAbstractPath.FACTORY.createTermExpression(l.object)]))})).bindingsStream.map(_=>_.delete(b));g=new a.UnionIterator([v,y.bindingsStream],{autoStart:!1})}else l.subject.termType==="Variable"&&p.push(d.bindings([[l.subject,l.object]])),l.object.termType==="Variable"&&p.push(d.bindings([[l.object,l.subject]])),g=y.bindingsStream.prepend(p);return{type:"bindings",bindingsStream:g,metadata:y.metadata}}};return pg.ActorQueryOperationPathZeroOrOne=o,pg}var lH;function uDe(){return lH||(lH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(oDe(),e)}(FR)),FR}var qR={},yg={},dH;function cDe(){if(dH)return yg;dH=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.ActorQueryOperationUpdateDeleteInsert=void 0;const e=tZ(),t=Br(),r=Ot(),n=$t();let a=class extends r.ActorQueryOperationTypedMediated{constructor(o){super(o,"deleteinsert"),this.blankNodeCounter=0}async testOperation(o,u){return r.ActorQueryOperation.throwOnReadOnly(u),!0}async runOperation(o,u){const l=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,u),c=o.where?r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:o.where,context:u})).bindingsStream:new n.ArrayIterator([l.bindings()],{autoStart:!1});let d,f;o.insert&&(d=new e.BindingsToQuadsIterator(o.insert.map(e.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),c.clone()),this.blankNodeCounter++),o.delete&&(f=new e.BindingsToQuadsIterator(o.delete.map(e.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),c.clone()),this.blankNodeCounter++);const{execute:h}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:d,quadStreamDelete:f,context:u});return{type:"void",execute:h}}};return yg.ActorQueryOperationUpdateDeleteInsert=a,yg}var fH;function lDe(){return fH||(fH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(cDe(),e)}(qR)),qR}var BR={},mg={},$R={},gg={},hH;function dDe(){if(hH)return gg;hH=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.ActorQueryProcess=void 0;const e=lt;let t=class extends e.Actor{constructor(n){super(n)}};return gg.ActorQueryProcess=t,gg}var pH;function n2(){return pH||(pH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(dDe(),e)}($R)),$R}var yH;function fDe(){if(yH)return mg;yH=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.ActorQueryProcessSequential=void 0;const e=Br(),t=Ot(),r=n2(),n=kt,a=lt;let s=class extends r.ActorQueryProcess{constructor(u){super(u)}async test(u){if(u.context.get(n.KeysInitQuery.explain)||u.context.get(new a.ActionContextKey("explain")))throw new Error(`${this.name} is not able to explain queries.`);return!0}async run(u){let{operation:l,context:c}=await this.parse(u.query,u.context);return{operation:l,context:c}=await this.optimize(l,c),{result:await this.evaluate(l,c)}}async parse(u,l){l=(await this.mediatorContextPreprocess.mediate({context:l,initialize:!0})).context;let c;if(typeof u=="string"){l=l.set(n.KeysInitQuery.queryString,u);const d=l.get(n.KeysInitQuery.baseIRI),f=l.get(n.KeysInitQuery.queryFormat),h=await this.mediatorQueryParse.mediate({context:l,query:u,queryFormat:f,baseIRI:d});c=h.operation,h.baseIRI&&(l=l.set(n.KeysInitQuery.baseIRI,h.baseIRI))}else c=u;if(l.has(n.KeysInitQuery.initialBindings)){const d=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l);c=(0,t.materializeOperation)(c,l.get(n.KeysInitQuery.initialBindings),d),l=l.delete(n.KeysInitQuery.queryString)}return{operation:c,context:l}}async optimize(u,l){return l=l.set(n.KeysInitQuery.query,u),{operation:u,context:l}=await this.mediatorOptimizeQueryOperation.mediate({context:l,operation:u}),l=l.set(n.KeysInitQuery.query,u),{operation:u,context:l}}async evaluate(u,l){const c=await this.mediatorQueryOperation.mediate({context:l,operation:u});return c.context=l,c}};return mg.ActorQueryProcessSequential=s,mg}var mH;function hDe(){return mH||(mH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(fDe(),e)}(BR)),BR}var UR={},_g={},bg={},vg={},wg={},gH;function pDe(){if(gH)return wg;gH=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.LinkedRdfSourcesAsyncRdfIterator=void 0;const e=ai(),t=$t();let r=class extends t.BufferedIterator{constructor(a,s,o,u,l,c,d,f){if(super({autoStart:!1,...f}),this.started=!1,this.currentIterators=[],this.iteratorsPendingCreation=0,this.iteratorsPendingTermination=0,this.accumulatedMetadata=Promise.resolve(void 0),this._reading=!1,this.cacheSize=a,this.operation=s,this.queryBindingsOptions=o,this.context=u,this.firstUrl=l,this.maxIterators=c,this.sourceStateGetter=d,this.maxIterators<=0)throw new Error(`LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ${this.maxIterators}`)}kickstart(){this.started||this._fillBufferAsync()}getProperty(a,s){return a==="metadata"&&!this.started&&(this.preflightMetadata||(this.preflightMetadata=new Promise((o,u)=>{this.sourceStateGetter({url:this.firstUrl},{}).then(l=>{const c=l.source.queryBindings(this.operation,this.context);c.getProperty("metadata",d=>{d.state=new e.MetadataValidationState,c.destroy(),this.accumulateMetadata(l.metadata,d).then(f=>{const h={...l.metadata,...d,...f};o(h)}).catch(()=>{o({...l.metadata,state:new e.MetadataValidationState})})})}).catch(u)})),this.preflightMetadata.then(o=>this.setProperty("metadata",o)).catch(()=>{})),super.getProperty(a,s)}_end(a){for(const s of this.currentIterators)s.destroy();super._end(a)}_read(a,s){if(this.started){for(const o of this.currentIterators){for(;a>0;){const u=o.read();if(u===null)break;a--,this._push(u)}if(a<=0)break}a>=0&&this.canStartNewIterator()?this.sourceStateGetter({url:this.firstUrl},{}).then(o=>{this.startIteratorsForNextUrls(o.handledDatasets,!1),s()}):s()}else this.started=!0,this.sourceStateGetter({url:this.firstUrl},{}).then(o=>{this.startIterator(o),s()}).catch(o=>setTimeout(()=>this.destroy(o)))}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination<this.maxIterators&&(!this.canStartNewIteratorConsiderReadable()||!this.readable)}canStartNewIteratorConsiderReadable(){return!0}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination>0}startIterator(a){try{const s=a.source.queryBindings(this.operation,this.context,this.queryBindingsOptions);this.currentIterators.push(s);let o=!1,u=!1;s._destination=this,s.on("error",l=>this.destroy(l)),s.on("readable",()=>this._fillBuffer()),s.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(s),1),o=!0,u||this.iteratorsPendingTermination++,u&&this.startIteratorsForNextUrls(a.handledDatasets,!0)}),s.getProperty("metadata",l=>{this.accumulatedMetadata=this.accumulatedMetadata.then(c=>(async()=>(c||(c=a.metadata),this.accumulateMetadata(c,l)))().then(d=>{const f={...a.metadata,...l,...d};return f.state=new e.MetadataValidationState,this.updateMetadata(f),this.preflightMetadata&&this.preflightMetadata.then(h=>h.state.invalidate()).catch(()=>{}),this.getSourceLinks(f).then(h=>Promise.all(h)).then(async h=>{const p=await this.getLinkQueue();for(const m of h)p.push(m,a.link);u=!0,o&&this.iteratorsPendingTermination--,this.startIteratorsForNextUrls(a.handledDatasets,!0)}).catch(h=>this.destroy(h)),f})).catch(c=>(this.destroy(c),{}))})}catch(s){this.destroy(s)}}updateMetadata(a){const s=this.getProperty("metadata");this.setProperty("metadata",a),s==null||s.state.invalidate()}isRunning(){return!this.done}startIteratorsForNextUrls(a,s){this.getLinkQueue().then(o=>{for(;this.canStartNewIterator()&&this.isRunning();){const u=o.pop();if(u)this.iteratorsPendingCreation++,this.sourceStateGetter(u,a).then(l=>{this.iteratorsPendingCreation--,this.startIterator(l)}).catch(l=>this.emit("error",l));else break}s&&this.isCloseable(o,!0)&&this.close()}).catch(o=>this.destroy(o))}isCloseable(a,s){return a.isEmpty()&&!this.areIteratorsRunning()}};return wg.LinkedRdfSourcesAsyncRdfIterator=r,wg}var _H;function yDe(){if(_H)return vg;_H=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;const e=kt,t=xt,r=Nt(),n=pDe(),a=new t.DataFactory,s=new r.Factory;let o=class extends n.LinkedRdfSourcesAsyncRdfIterator{constructor(l,c,d,f,h,p,m,y,g,b,v,_){super(l,c,d,f,p,m,y,g?{maxBufferSize:Number.POSITIVE_INFINITY}:void 0),this.wasForcefullyClosed=!1,this.forceSourceType=h,this.mediatorMetadataAccumulate=b,this.mediatorRdfResolveHypermediaLinks=v,this.mediatorRdfResolveHypermediaLinksQueue=_,this.handledUrls={[p]:!0},this.aggregatedStore=g}close(){if(!this.aggregatedStore){super.close();return}this.getLinkQueue().then(l=>{this.isCloseable(l,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.close()):this.wasForcefullyClosed=!0}).catch(l=>super.destroy(l))}destroy(l){if(!this.aggregatedStore){super.destroy(l);return}this.getLinkQueue().then(c=>{l??this.isCloseable(c,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.destroy(l)):this.wasForcefullyClosed=!0}).catch(c=>super.destroy(c))}isCloseable(l,c){return(c?l.isEmpty():this.wasForcefullyClosed||l.isEmpty())&&!this.areIteratorsRunning()}canStartNewIterator(){return!this.wasForcefullyClosed&&this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||super.canStartNewIterator()}canStartNewIteratorConsiderReadable(){return!this.aggregatedStore}isRunning(){return this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||!this.done}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(l=>l.linkQueue)),this.linkQueue}async getSourceLinks(l){try{const{links:c}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:l});return c.filter(d=>this.handledUrls[d.url]?!1:(this.handledUrls[d.url]=!0,!0))}catch{return[]}}startIterator(l){var c;if(this.aggregatedStore&&!this.aggregatedStore.containedSources.has(l.link.url)){(c=this.aggregatedStore)==null||c.containedSources.add(l.link.url);const d=l.source.queryBindings(s.createPattern(a.variable("s"),a.variable("p"),a.variable("o"),a.variable("g")),this.context.set(e.KeysQueryOperation.unionDefaultGraph,!0)).map(f=>a.quad(f.get("s"),f.get("p"),f.get("o"),f.get("g")));this.aggregatedStore.import(d).on("end",()=>{super.startIterator(l)})}else super.startIterator(l)}async accumulateMetadata(l,c){return(await this.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:l,appendingMetadata:c,context:this.context})).metadata}updateMetadata(l){var c;super.updateMetadata(l),(c=this.aggregatedStore)==null||c.setBaseMetadata(l,!0)}};return vg.MediatedLinkedRdfSourcesAsyncRdfIterator=o,vg}var Sg={},kR={},Tg={},bH;function HZ(){if(bH)return Tg;bH=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.PendingStreamsIndex=void 0;const e=rr,t=Sn();let r=class Cu{constructor(){this.indexedStreams=new Map,this.allStreams=[]}termToString(a){return a&&a.termType!=="Variable"?(0,e.termToString)(a):Cu.ID_VARIABLE}addPatternListener(a,s,o,u,l){this.allStreams.push(a);const c=`${this.termToString(s)}${Cu.ID_SEPARATOR}${this.termToString(o)}${Cu.ID_SEPARATOR}${this.termToString(u)}${Cu.ID_SEPARATOR}${this.termToString(l)}`;let d=this.indexedStreams.get(c);d||(d=[],this.indexedStreams.set(c,d)),d.push(a)}getPendingStreamsForQuad(a){let s=[(0,t.getTerms)(a).map(u=>(0,e.termToString)(u))];for(let u=0;u<t.QUAD_TERM_NAMES.length;u++){const l=s;s=[];for(const c of l){s.push(c);const d=[...c];d[u]=Cu.ID_VARIABLE,s.push(d)}}const o=[];for(const u of s){const l=this.indexedStreams.get(u.join(Cu.ID_SEPARATOR));l&&o.push(...l)}return o}};return r.ID_VARIABLE="?",r.ID_SEPARATOR=":",Tg.PendingStreamsIndex=r,Tg}var Eg={},vH;function mDe(){if(vH)return Eg;vH=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.StreamingStore=void 0;const e=Wo,t=Lt,r=HZ();let n=class{constructor(s=new e.Store){this.pendingStreams=new r.PendingStreamsIndex,this.ended=!1,this.store=s}end(){this.ended=!0;for(const s of this.pendingStreams.allStreams)s.push(null),s._pipeSource.unpipe()}importToListeners(s){s.on("data",o=>{if(!this.ended&&!this.store.countQuads(o.subject,o.predicate,o.object,o.graph))for(const u of this.pendingStreams.getPendingStreamsForQuad(o))u.isInitialized&&(u.push(o),u.emit("quad",o))})}import(s){if(this.ended)throw new Error("Attempted to import into an ended StreamingStore");return this.importToListeners(s),this.store.import(s)}match(s,o,u,l){const c=this.store.match(s,o,u,l);let d=c;if(!this.ended){const f=new t.PassThrough({objectMode:!0});this.pendingStreams.addPatternListener(f,s,o,u,l),d=c.pipe(f,{end:!1}),d._pipeSource=c;const h=c._read;c._read=p=>{f.isInitialized=!0,h.call(c,p)}}return d}getStore(){return this.store}};return Eg.StreamingStore=n,Eg}var wH;function gDe(){return wH||(wH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(HZ(),e),r(mDe(),e)}(kR)),kR}var SH;function _De(){if(SH)return Sg;SH=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.StreamingStoreMetadata=void 0;const e=Ot(),t=ai(),r=gDe();let n=class extends r.StreamingStore{constructor(s,o){super(s),this.started=!1,this.containedSources=new Set,this.runningIterators=new Set,this.iteratorCreatedListeners=new Set,this.baseMetadata={state:new t.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:[]},this.metadataAccumulator=o}import(s){return this.ended||super.import(s),s}hasRunningIterators(){return this.runningIterators.size>0}match(s,o,u,l){const c=super.match(s,o,u,l),d=new e.ClosableTransformIterator(c,{autoStart:!1,onClose:()=>{this.runningIterators.delete(d)}});let f=this.getStore().countQuads(s,o,u,l);const h={state:new t.MetadataValidationState,cardinality:{type:"estimate",value:f},canContainUndefs:!1};d.setProperty("metadata",h),d.setProperty("lastCount",f),c.on("quad",()=>{d.setProperty("lastCount",++f),this.updateMetadataState(d,f)}),this.runningIterators.add(d);for(const p of this.iteratorCreatedListeners)p();return d}setBaseMetadata(s,o){if(this.baseMetadata={...s},this.baseMetadata.cardinality={type:"exact",value:0},o)for(const u of this.runningIterators){const l=u.getProperty("lastCount");this.updateMetadataState(u,l)}}updateMetadataState(s,o){const u={state:new t.MetadataValidationState,cardinality:{type:"estimate",value:o},canContainUndefs:!1,variables:[]};this.metadataAccumulator(this.baseMetadata,u).then(l=>{l.state=new t.MetadataValidationState;const c=s.getProperty("metadata");s.setProperty("metadata",l),c==null||c.state.invalidate()}).catch(()=>{})}addIteratorCreatedListener(s){this.iteratorCreatedListeners.add(s)}removeIteratorCreatedListener(s){this.iteratorCreatedListeners.delete(s)}};return Sg.StreamingStoreMetadata=n,Sg}var TH;function QZ(){if(TH)return bg;TH=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.QuerySourceHypermedia=void 0;const e=qD(),t=kt,r=$t(),n=Xo(),a=Lt,s=yDe(),o=_De();let u=class{constructor(c,d,f,h,p,m,y,g){this.referenceValue=d,this.cacheSize=c,this.firstUrl=d,this.forceSourceType=f,this.maxIterators=h,this.mediators=m,this.aggregateStore=p,this.logWarning=y,this.bindingsFactory=g,this.sourcesState=new n.LRUCache({max:this.cacheSize})}async getSelectorShape(c){return(await this.getSourceCached({url:this.firstUrl},{},c,this.getAggregateStore(c))).source.getSelectorShape(c)}queryBindings(c,d,f){const h=this.getAggregateStore(d);if(h&&c.type==="pattern"&&h.started)return new e.QuerySourceRdfJs(h,this.bindingsFactory).queryBindings(c,d);this.sourcesState.size===0&&this.getSourceCached({url:this.firstUrl},{},d,h).catch(m=>p.destroy(m));const p=new s.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,c,f,d,this.forceSourceType,this.firstUrl,this.maxIterators,(m,y)=>this.getSourceCached(m,y,d,h),h,this.mediators.mediatorMetadataAccumulate,this.mediators.mediatorRdfResolveHypermediaLinks,this.mediators.mediatorRdfResolveHypermediaLinksQueue);if(h){h.started=!0;const m=()=>p.kickstart();h.addIteratorCreatedListener(m),p.on("end",()=>h.removeIteratorCreatedListener(m))}return p}queryQuads(c,d){return new r.TransformIterator(async()=>(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryQuads(c,d))}async queryBoolean(c,d){return await(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryBoolean(c,d)}async queryVoid(c,d){return await(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryVoid(c,d)}async getSource(c,d,f,h){var v;c.context&&(f=f.merge(c.context));let p=c.url,m,y;try{const _=await this.mediators.mediatorDereferenceRdf.mediate({context:f,url:p});p=_.url;const w=await this.mediators.mediatorMetadata.mediate({context:f,url:p,quads:_.data,triples:(v=_.metadata)==null?void 0:v.triples});w.data.on("error",()=>{}),y=(await this.mediators.mediatorMetadataExtract.mediate({context:f,url:p,metadata:w.metadata,headers:_.headers,requestTime:_.requestTime})).metadata,m=w.data,c.transform&&(m=await c.transform(m))}catch(_){m=new a.Readable,m.read=()=>(setTimeout(()=>m.emit("error",_)),null),{metadata:y}=await this.mediators.mediatorMetadataAccumulate.mediate({context:f,mode:"initialize"}),this.logWarning(`Metadata extraction for ${p} failed: ${_.message}`)}h==null||h.setBaseMetadata(y,!1),h==null||h.containedSources.add(c.url),h==null||h.import(m);const{source:g,dataset:b}=await this.mediators.mediatorQuerySourceIdentifyHypermedia.mediate({context:f,forceSourceType:c.url===this.firstUrl?this.forceSourceType:void 0,handledDatasets:d,metadata:y,quads:m,url:p});return b&&(d[b]=!0),{link:c,source:g,metadata:y,handledDatasets:d}}getSourceCached(c,d,f,h){let p=this.sourcesState.get(c.url);return p||(p=this.getSource(c,d,f,h),(c.url===this.firstUrl||h===void 0)&&this.sourcesState.set(c.url,p),p)}getAggregateStore(c){let d;if(this.aggregateStore){const f=c.get(t.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores);if(f)return d=f.get(this.firstUrl),d||(d=new o.StreamingStoreMetadata(void 0,async(h,p)=>(await this.mediators.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:h,appendingMetadata:p,context:c})).metadata),f.set(this.firstUrl,d)),d}}toString(){return`QuerySourceHypermedia(${this.firstUrl})`}};return bg.QuerySourceHypermedia=u,bg}var EH;function bDe(){if(EH)return _g;EH=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.ActorQuerySourceIdentifyHypermedia=void 0;const e=Br(),t=Qb(),r=kt,n=lt,a=QZ();let s=class extends t.ActorQuerySourceIdentify{constructor(u){super(u)}async test(u){if(typeof u.querySourceUnidentified.value!="string")throw new TypeError(`${this.name} requires a single query source with a URL value to be present in the context.`);return!0}async run(u){var l;return{querySource:{source:new a.QuerySourceHypermedia(this.cacheSize,u.querySourceUnidentified.value,u.querySourceUnidentified.type,this.maxIterators,this.aggregateTraversalStore&&!!((l=u.querySourceUnidentified.context)!=null&&l.get(r.KeysQuerySourceIdentify.traverse)),{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorMetadataAccumulate:this.mediatorMetadataAccumulate,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorQuerySourceIdentifyHypermedia:this.mediatorQuerySourceIdentifyHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue},c=>this.logWarn(u.context,c),await e.BindingsFactory.create(this.mediatorMergeBindingsContext,u.context)),context:u.querySourceUnidentified.context??new n.ActionContext}}}};return _g.ActorQuerySourceIdentifyHypermedia=s,_g}var AH;function vDe(){return AH||(AH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(bDe(),e),r(QZ(),e)}(UR)),UR}var VR={},Ag={},OH;function wDe(){if(OH)return Ag;OH=1,Object.defineProperty(Ag,"__esModule",{value:!0}),Ag.ActorRdfJoinNone=void 0;const e=Br(),t=si(),r=ai(),n=$t();let a=class extends t.ActorRdfJoin{constructor(o){super(o,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(o){if(o.entries.length>0)throw new Error(`Actor ${this.name} can only join zero entries`);return await this.getJoinCoefficients()}async getOutput(o){const u=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context);return{result:{bindingsStream:new n.ArrayIterator([u.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};return Ag.ActorRdfJoinNone=a,Ag}var RH;function SDe(){return RH||(RH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(wDe(),e)}(VR)),VR}var HR={},Og={},xH;function TDe(){if(xH)return Og;xH=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.ActorRdfJoinMultiBind=void 0;const e=Br(),t=Ot(),r=si(),n=kt,a=$t(),s=Nt();let o=class VI extends r.ActorRdfJoin{constructor(l){super(l,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0,isLeaf:!1})}static createBindStream(l,c,d,f,h,p){const m=l==="depth-first",y=g=>{const b=d.map(_=>(0,t.materializeOperation)(_,g,p,{bindFilter:!0})),v=_=>_.merge(g);return new a.TransformIterator(async()=>(await f(b,g)).transform({map:v}),{maxBufferSize:128,autoStart:m})};switch(l){case"depth-first":return new a.MultiTransformIterator(c,{autoStart:!1,multiTransform:y,optional:h});case"breadth-first":return new a.UnionIterator(c.transform({map:y,optional:h}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${l}`)}}async getOutput(l){const c=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context),d=await r.ActorRdfJoin.getEntriesWithMetadatas(l.entries),f=await r.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,d,l.context);this.logDebug(l.context,"First entry for Bind Join: ",()=>({entry:f[0].operation,metadata:f[0].metadata}));for(const[g,b]of f.entries())g!==0&&b.output.bindingsStream.close();const h=f[0].output,p=[...f];p.splice(0,1);const m=l.context.set(n.KeysQueryOperation.joinLeftMetadata,f[0].metadata).set(n.KeysQueryOperation.joinRightMetadatas,p.map(g=>g.metadata));return{result:{type:"bindings",bindingsStream:VI.createBindStream(this.bindOrder,h.bindingsStream,p.map(g=>g.operation),async(g,b)=>{const v=g.length===1?g[0]:VI.FACTORY.createJoin(g);return t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:v,context:m==null?void 0:m.set(n.KeysQueryOperation.joinBindings,b)})).bindingsStream},!1,c),metadata:()=>this.constructResultMetadata(f,f.map(g=>g.metadata),l.context)},physicalPlanMetadata:{bindIndex:d.indexOf(f[0]),bindOperation:f[0].operation,bindOperationCardinality:f[0].metadata.cardinality,bindOrder:this.bindOrder}}}canBindWithOperation(l){let c=!0;return s.Util.recurseOperation(l,{[s.Algebra.types.EXTEND](){return c=!1,!1},[s.Algebra.types.GROUP](){return c=!1,!1}}),c}async getJoinCoefficients(l,c){const d=await r.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,l.entries.map((w,S)=>({...w,metadata:c[S]})),l.context);c=d.map(w=>w.metadata);const f=r.ActorRdfJoin.getRequestInitialTimes(c),h=r.ActorRdfJoin.getRequestItemTimes(c),p=[...d],m=[...f],y=[...h];if(p.splice(0,1),m.splice(0,1),y.splice(0,1),p.some(w=>!this.canBindWithOperation(w.operation)))throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);if(p.some(w=>w.operationModified))throw new Error(`Actor ${this.name} can not be used over remaining entries with modified operations`);const g=await Promise.all(p.map(async w=>(await this.mediatorJoinSelectivity.mediate({entries:[d[0],w],context:l.context})).selectivity*this.selectivityModifier)),b=p.map((w,S)=>w.metadata.cardinality.value*g[S]).reduce((w,S)=>w+S,0),v=m.reduce((w,S)=>w+S,0),_=y.reduce((w,S)=>w+S,0);return{iterations:c[0].cardinality.value*b,persistedItems:0,blockingItems:0,requestTime:f[0]+c[0].cardinality.value*(h[0]+v+b*_)}}};return Og.ActorRdfJoinMultiBind=o,o.FACTORY=new s.Factory,Og}var IH;function zZ(){return IH||(IH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(TDe(),e)}(HR)),HR}var QR={},Rg={},PH;function EDe(){if(PH)return Rg;PH=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.ActorRdfJoinOptionalBind=void 0;const e=zZ(),t=Br(),r=Ot(),n=si(),a=kt,s=Nt();let o=class extends n.ActorRdfJoin{constructor(l){super(l,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0,isLeaf:!1})}async getOutput(l){const c=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context);l.entries[1].output.bindingsStream.close();const d=l.context.set(a.KeysQueryOperation.joinLeftMetadata,await l.entries[0].output.metadata()).set(a.KeysQueryOperation.joinRightMetadatas,[await l.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:e.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,l.entries[0].output.bindingsStream,[l.entries[1].operation],async(h,p)=>{const m=h[0];return r.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:m,context:d==null?void 0:d.set(a.KeysQueryOperation.joinBindings,p)})).bindingsStream},!0,c),metadata:async()=>await this.constructResultMetadata(l.entries,await n.ActorRdfJoin.getMetadatas(l.entries),l.context,{canContainUndefs:!0})}}}async getJoinCoefficients(l,c){if(n.ActorRdfJoin.overlappingVariables(c).length===0)throw new Error(`Actor ${this.name} only join entries with at least one common variable`);const d=n.ActorRdfJoin.getRequestInitialTimes(c),f=n.ActorRdfJoin.getRequestItemTimes(c);if(l.entries[1].operation.type===s.Algebra.types.EXTEND||l.entries[1].operation.type===s.Algebra.types.GROUP)throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);const h=(await this.mediatorJoinSelectivity.mediate({entries:l.entries,context:l.context})).selectivity*this.selectivityModifier;return{iterations:c[0].cardinality.value*c[1].cardinality.value*h,persistedItems:0,blockingItems:0,requestTime:d[0]+c[0].cardinality.value*(f[0]+d[1]+h*c[1].cardinality.value*f[1])}}};return Rg.ActorRdfJoinOptionalBind=o,Rg}var NH;function ADe(){return NH||(NH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(EDe(),e)}(QR)),QR}var zR={},xg={},DH;function ODe(){if(DH)return xg;DH=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.ActorQueryProcessExplainParsed=void 0;const e=n2(),t=kt,r=lt;let n=class extends e.ActorQueryProcess{constructor(s){super(s)}async test(s){if((s.context.get(t.KeysInitQuery.explain)||s.context.get(new r.ActionContextKey("explain")))!=="parsed")throw new Error(`${this.name} can only explain in 'parsed' mode.`);return!0}async run(s){const{operation:o}=await this.queryProcessor.parse(s.query,s.context);return{result:{explain:!0,type:"parsed",data:o}}}};return xg.ActorQueryProcessExplainParsed=n,xg}var CH;function RDe(){return CH||(CH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ODe(),e)}(zR)),zR}var GR={},Ig={},LH;function xDe(){if(LH)return Ig;LH=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.ActorQueryProcessExplainLogical=void 0;const e=n2(),t=kt,r=lt;let n=class extends e.ActorQueryProcess{constructor(s){super(s)}async test(s){if((s.context.get(t.KeysInitQuery.explain)||s.context.get(new r.ActionContextKey("explain")))!=="logical")throw new Error(`${this.name} can only explain in 'logical' mode.`);return!0}async run(s){let{operation:o,context:u}=await this.queryProcessor.parse(s.query,s.context);return{operation:o,context:u}=await this.queryProcessor.optimize(o,u),{result:{explain:!0,type:"logical",data:o}}}};return Ig.ActorQueryProcessExplainLogical=n,Ig}var jH;function IDe(){return jH||(jH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(xDe(),e)}(GR)),GR}var WR={},Pg={},Au={},MH;function GZ(){if(MH)return Au;MH=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.numberToString=Au.MemoryPhysicalQueryPlanLogger=void 0;const e=rr;let t=class{constructor(){this.planNodes=new Map}logOperation(a,s,o,u,l,c){const d={actor:l,logicalOperator:a,physicalOperator:s,rawNode:o,children:[],metadata:c};if(this.planNodes.set(o,d),this.rootNode){if(!u)throw new Error("Detected more than one parent-less node");const f=this.planNodes.get(u);if(!f)throw new Error("Could not find parent node");f.children.push(d)}else{if(u)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=d}}stashChildren(a,s){const o=this.planNodes.get(a);if(!o)throw new Error("Could not find plan node");o.children=s?o.children.filter(s):[]}unstashChild(a,s){const o=this.planNodes.get(a);if(o){const u=this.planNodes.get(s);if(!u)throw new Error("Could not find plan parent node");u.children.push(o)}}appendMetadata(a,s){const o=this.planNodes.get(a);o&&(o.metadata={...o.metadata,...s})}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(a){var o;const s={logical:a.logicalOperator,physical:a.physicalOperator,...this.getLogicalMetadata(a.rawNode),...this.compactMetadata(a.metadata)};if(a.children.length>0&&(s.children=a.children.map(u=>this.planNodeToJson(u))),s.physical==="bind"&&s.children){const u={};for(const c of s.children){const d=((o=c.children)==null?void 0:o.at(-1))??c,f=this.getPlanHash(d).join(",");u[f]||(u[f]=[]),u[f].push(c)}const l=[];for(const c of Object.values(u))l.push({occurrences:c.length,firstOccurrence:c[0]});s.childrenCompact=l,delete s.children}return s}getPlanHash(a){let s=[`${a.logical}-${a.physical}`];return a.children?s=[...s,...a.children.flatMap(o=>this.getPlanHash(o))]:a.childrenCompact&&(s=[...s,...a.childrenCompact.flatMap(o=>this.getPlanHash(o.firstOccurrence))]),s}compactMetadata(a){return Object.fromEntries(Object.entries(a).map(([s,o])=>[s,this.compactMetadataValue(o)]))}compactMetadataValue(a){return a&&typeof a=="object"&&"termType"in a?this.getLogicalMetadata(a):a}getLogicalMetadata(a){var o;const s={};if("type"in a){const u=a;switch((o=u.metadata)!=null&&o.scopedSource&&(s.source=u.metadata.scopedSource.source.toString()),u.type){case"pattern":s.pattern=this.quadToString(u);break;case"project":s.variables=u.variables.map(l=>l.value);break}}return s}quadToString(a){return`${(0,e.termToString)(a.subject)} ${(0,e.termToString)(a.predicate)} ${(0,e.termToString)(a.object)}${a.graph.termType==="DefaultGraph"?"":` ${(0,e.termToString)(a.graph)}`}`}toCompactString(){const a=this.toJson(),s=[],o=new Map;if("logical"in a?this.nodeToCompactString(s,o,"",a):s.push("Empty"),o.size>0){s.push(""),s.push("sources:");for(const[u,l]of o.entries())s.push(`  ${l}: ${u}`)}return s.join(`
`)}nodeToCompactString(a,s,o,u,l){let c;u.source&&(c=s.get(u.source),c===void 0&&(c=s.size,s.set(u.source,c))),a.push(`${o}${u.logical}${u.physical?`(${u.physical})`:""}${u.pattern?` (${u.pattern})`:""}${u.variables?` (${u.variables.join(",")})`:""}${u.bindOperation?` bindOperation:(${u.bindOperation.pattern}) bindCardEst:${u.bindOperationCardinality.type==="estimate"?"~":""}${r(u.bindOperationCardinality.value)}`:""}${u.cardinality?` cardEst:${u.cardinality.type==="estimate"?"~":""}${r(u.cardinality.value)}`:""}${u.source?` src:${c}`:""}${u.cardinalityReal?` cardReal:${u.cardinalityReal}`:""}${u.timeSelf?` timeSelf:${r(u.timeSelf)}ms`:""}${u.timeLife?` timeLife:${r(u.timeLife)}ms`:""}${l?` ${l}`:""}`);for(const d of u.children??[])this.nodeToCompactString(a,s,`${o}  `,d);for(const d of u.childrenCompact??[])this.nodeToCompactString(a,s,`${o}  `,d.firstOccurrence,`compacted-occurrences:${d.occurrences}`)}};Au.MemoryPhysicalQueryPlanLogger=t;function r(n){return n.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:3})}return Au.numberToString=r,Au}var FH;function PDe(){if(FH)return Pg;FH=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.ActorQueryProcessExplainPhysical=void 0;const e=n2(),t=kt,r=lt,n=GZ();let a=class extends e.ActorQueryProcess{constructor(o){super(o)}async test(o){const u=o.context.get(t.KeysInitQuery.explain)||o.context.get(new r.ActionContextKey("explain"));if(u!=="physical"&&u!=="physical-json")throw new Error(`${this.name} can only explain in 'physical' or 'physical-json' mode.`);return!0}async run(o){let{operation:u,context:l}=await this.queryProcessor.parse(o.query,o.context);({operation:u,context:l}=await this.queryProcessor.optimize(u,l));const c=new n.MemoryPhysicalQueryPlanLogger;l=l.set(t.KeysInitQuery.physicalQueryPlanLogger,c);const d=await this.queryProcessor.evaluate(u,l);switch(d.type){case"bindings":await d.bindingsStream.toArray();break;case"quads":await d.quadStream.toArray();break;case"boolean":await d.execute();break;case"void":await d.execute();break}const f=o.context.get(t.KeysInitQuery.explain)??o.context.getSafe(new r.ActionContextKey("explain"));return{result:{explain:!0,type:f,data:f==="physical"?c.toCompactString():c.toJson()}}}};return Pg.ActorQueryProcessExplainPhysical=a,Pg}var qH;function NDe(){return qH||(qH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(PDe(),e),r(GZ(),e)}(WR)),WR}var KR={},Ng={},BH;function DDe(){if(BH)return Ng;BH=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.ActorOptimizeQueryOperationPruneEmptySourceOperations=void 0;const e=ba(),t=Ot(),r=kt,n=xt,a=Nt(),s=new a.Factory,o=new n.DataFactory;let u=class extends e.ActorOptimizeQueryOperation{constructor(c){super(c)}async test(c){if(t.ActorQueryOperation.getOperationSource(c.operation))throw new Error(`Actor ${this.name} does not work with top-level operation sources.`);return!0}async run(c){let d=c.operation;const f=[],h=this;a.Util.recurseOperation(d,{[a.Algebra.types.UNION](m){return h.collectMultiOperationInputs(m.input,f,a.Algebra.types.PATTERN),!0},[a.Algebra.types.ALT](m){return h.collectMultiOperationInputs(m.input,f,a.Algebra.types.LINK),!1},[a.Algebra.types.SERVICE](){return!1}});const p=new Set;return await Promise.all(f.map(async m=>{const y=m.type==="link"?s.createPattern(o.variable("?s"),m.iri,o.variable("?o")):m;await this.hasSourceResults(t.ActorQueryOperation.getOperationSource(m),y,c.context)||p.add(m)})),p.size>0&&(this.logDebug(c.context,`Pruning ${p.size} source-specific operations`),d=a.Util.mapOperation(d,{[a.Algebra.types.UNION](m,y){return h.mapMultiOperation(m,p,g=>y.createUnion(g))},[a.Algebra.types.ALT](m,y){return h.mapMultiOperation(m,p,g=>y.createAlt(g))}}),d=a.Util.mapOperation(d,{[a.Algebra.types.PROJECT](m,y){let g=!1;return a.Util.recurseOperation(m,{[a.Algebra.types.UNION](b){return b.input.length===0&&(g=!0),!0},[a.Algebra.types.ALT](b){return b.input.length===0&&(g=!0),!0}}),g?{recurse:!1,result:y.createUnion([])}:{recurse:!0,result:m}}})),{operation:d,context:c.context}}collectMultiOperationInputs(c,d,f){for(const h of c)t.ActorQueryOperation.getOperationSource(h)&&h.type===f&&d.push(h)}mapMultiOperation(c,d,f){const h=c.input.filter(p=>!d.has(p));return h.length===c.input.length?{result:c,recurse:!0}:h.length===0?{result:f([]),recurse:!1}:h.length===1?{result:h[0],recurse:!0}:{result:f(h),recurse:!0}}async hasSourceResults(c,d,f){var p;if((p=c.context)!=null&&p.get(r.KeysQuerySourceIdentify.traverse))return!0;if(this.useAskIfSupported){const m=s.createAsk(d);if(t.ActorQueryOperation.doesShapeAcceptOperation(await c.source.getSelectorShape(f),m))return c.source.queryBoolean(m,f)}const h=c.source.queryBindings(d,f);return new Promise((m,y)=>{h.on("error",y),h.getProperty("metadata",g=>{h.destroy(),m(g.cardinality.value>0)})})}};return Ng.ActorOptimizeQueryOperationPruneEmptySourceOperations=u,Ng}var $H;function CDe(){return $H||($H=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(DDe(),e)}(KR)),KR}var JR={},Dg={},UH;function LDe(){if(UH)return Dg;UH=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.ActorQuerySourceIdentifySerialized=void 0;const e=Qb(),t=TZ(),r=Lt;let n=class extends e.ActorQuerySourceIdentify{constructor(s){super(s)}async test(s){if(!this.isStringSource(s.querySourceUnidentified))throw new Error(`${this.name} requires a single query source with serialized type to be present in the context.`);return!0}async run(s){return await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{type:"rdfjs",value:await this.getRdfSource(s.context,s.querySourceUnidentified),context:s.querySourceUnidentified.context},context:s.context})}async getRdfSource(s,o){const u=new r.Readable({objectMode:!0});u._read=()=>{},u.push(o.value),u.push(null);const l={context:s,handle:{metadata:{baseIRI:o.baseIRI},data:u,context:s},handleMediaType:o.mediaType},c=await this.mediatorRdfParse.mediate(l);return await(0,t.storeStream)(c.handle.data)}isStringSource(s){return"type"in s?s.type==="serialized":typeof s.value!="string"?!1:"mediaType"in s}};return Dg.ActorQuerySourceIdentifySerialized=n,Dg}var kH;function jDe(){return kH||(kH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(LDe(),e)}(JR)),JR}var XR={},Cg={},VH;function MDe(){if(VH)return Cg;VH=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.ActorOptimizeQueryOperationJoinConnected=void 0;const e=ba(),t=Nt();let r=class kv extends e.ActorOptimizeQueryOperation{async test(a){return!0}async run(a){return{operation:t.Util.mapOperation(a.operation,{join(o,u){return{recurse:!1,result:kv.cluster(o,u)}}}),context:a.context}}static cluster(a,s){const o=a.input.map(d=>({inScopeVariables:Object.fromEntries(t.Util.inScopeVariables(d).map(f=>[f.value,!0])),entries:[d]}));let u,l=o;do u=l,l=kv.clusterIteration(u);while(u.length!==l.length);const c=l.map(d=>s.createJoin(d.entries));return c.length===1?c[0]:s.createJoin(c,!1)}static clusterIteration(a){const s=[];for(const o of a){let u=!1;for(const l of s)if(kv.haveOverlappingVariables(o.inScopeVariables,l.inScopeVariables)){l.entries=[...l.entries,...o.entries],l.inScopeVariables={...l.inScopeVariables,...o.inScopeVariables},u=!0;break}u||s.push({inScopeVariables:o.inScopeVariables,entries:o.entries})}return s}static haveOverlappingVariables(a,s){for(const o of Object.keys(a))if(s[o])return!0;return!1}};return Cg.ActorOptimizeQueryOperationJoinConnected=r,Cg}var HH;function FDe(){return HH||(HH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(MDe(),e)}(XR)),XR}var YR={},Lg={},QH;function qDe(){if(QH)return Lg;QH=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.ActorOptimizeQueryOperationBgpToJoin=void 0;const e=ba(),t=Nt();let r=class extends e.ActorOptimizeQueryOperation{async test(a){return!0}async run(a){return{operation:t.Util.mapOperation(a.operation,{bgp(o,u){return{recurse:!1,result:u.createJoin(o.patterns)}}}),context:a.context}}};return Lg.ActorOptimizeQueryOperationBgpToJoin=r,Lg}var zH;function BDe(){return zH||(zH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(qDe(),e)}(YR)),YR}var ZR={},jg={},GH;function $De(){if(GH)return jg;GH=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.ActorOptimizeQueryOperationJoinBgp=void 0;const e=ba(),t=Nt();let r=class extends e.ActorOptimizeQueryOperation{async test(a){return!0}async run(a){return{operation:t.Util.mapOperation(a.operation,{join(o,u){return o.input.every(l=>l.type==="bgp")?{recurse:!1,result:u.createBgp(o.input.flatMap(l=>l.patterns))}:{recurse:!1,result:o}}}),context:a.context}}};return jg.ActorOptimizeQueryOperationJoinBgp=r,jg}var WH;function UDe(){return WH||(WH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r($De(),e)}(ZR)),ZR}var ex={},Mg={},KH;function kDe(){if(KH)return Mg;KH=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.ActorOptimizeQueryOperationAssignSourcesExhaustive=void 0;const e=ba(),t=Ot(),r=CD(),n=kt,a=Nt();let s=class extends e.ActorOptimizeQueryOperation{constructor(u){super(u)}async test(u){return!0}async run(u){const l=u.context.get(n.KeysQueryOperation.querySources)??[];if(l.length===0)return{operation:u.operation,context:u.context};if(l.length===1){const c=l[0],d=u.context.get(n.KeysRdfUpdateQuads.destination);if(!d||c.source.referenceValue===(0,r.getDataDestinationValue)(d))try{const f=await c.source.getSelectorShape(u.context);if(t.ActorQueryOperation.doesShapeAcceptOperation(f,u.operation))return{operation:t.ActorQueryOperation.assignOperationSource(u.operation,c),context:u.context}}catch{}}return{operation:this.assignExhaustive(u.operation,l),context:u.context.delete(n.KeysInitQuery.queryString)}}assignExhaustive(u,l){const c=this;return a.Util.mapOperation(u,{[a.Algebra.types.PATTERN](d,f){return l.length===1?{result:t.ActorQueryOperation.assignOperationSource(d,l[0]),recurse:!1}:{result:f.createUnion(l.map(h=>t.ActorQueryOperation.assignOperationSource(d,h))),recurse:!1}},[a.Algebra.types.LINK](d,f){return l.length===1?{result:t.ActorQueryOperation.assignOperationSource(d,l[0]),recurse:!1}:{result:f.createAlt(l.map(h=>t.ActorQueryOperation.assignOperationSource(d,h))),recurse:!1}},[a.Algebra.types.NPS](d,f){return l.length===1?{result:t.ActorQueryOperation.assignOperationSource(d,l[0]),recurse:!1}:{result:f.createAlt(l.map(h=>t.ActorQueryOperation.assignOperationSource(d,h))),recurse:!1}},[a.Algebra.types.SERVICE](d){return{result:d,recurse:!1}},[a.Algebra.types.CONSTRUCT](d,f){return{result:f.createConstruct(c.assignExhaustive(d.input,l),d.template),recurse:!1}},[a.Algebra.types.DELETE_INSERT](d,f){return{result:f.createDeleteInsert(d.delete,d.insert,d.where?c.assignExhaustive(d.where,l):void 0),recurse:!1}}})}};return Mg.ActorOptimizeQueryOperationAssignSourcesExhaustive=s,Mg}var JH;function VDe(){return JH||(JH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(kDe(),e)}(ex)),ex}var tx={},Fg={},XH;function HDe(){if(XH)return Fg;XH=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.ActorOptimizeQueryOperationDescribeToConstructsSubject=void 0;const e=ba(),t=xt,r=Nt(),n=new t.DataFactory,a=new r.Factory;let s=class extends e.ActorOptimizeQueryOperation{constructor(u){super(u)}async test(u){if(u.operation.type!==r.Algebra.types.DESCRIBE)throw new Error(`Actor ${this.name} only supports describe operations, but got ${u.operation.type}`);return!0}async run(u){const l=u.operation,c=l.terms.filter(f=>f.termType!=="Variable").map(f=>{const h=[n.quad(f,n.variable("__predicate"),n.variable("__object"))];return h.forEach(m=>m.type="pattern"),{input:{type:r.Algebra.types.BGP,patterns:h},template:h,type:"construct"}});if(c.length!==l.terms.length){let f=[];l.terms.filter(h=>h.termType==="Variable").forEach((h,p)=>{const m=[n.quad(h,n.variable(`__predicate${p}`),n.variable(`__object${p}`))];m.forEach(y=>y.type="pattern"),f=[...f,...m]}),c.push({input:{type:r.Algebra.types.JOIN,input:[l.input,{type:r.Algebra.types.BGP,patterns:f}]},template:f,type:r.Algebra.types.CONSTRUCT})}return{operation:a.createUnion(c,!1),context:u.context}}};return Fg.ActorOptimizeQueryOperationDescribeToConstructsSubject=s,Fg}var YH;function QDe(){return YH||(YH=1,function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(HDe(),e)}(tx)),tx}var zDe=function(e){const t=new(k2e()).LoggerVoid,r=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^3.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),n=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^3.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),a=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^3.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),s=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^3.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),o=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^3.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),u=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^3.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),l=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify-hypermedia/^3.0.0/components/ActorQuerySourceIdentifyHypermedia.jsonld#ActorQuerySourceIdentifyHypermedia_default_bus"}),c=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^3.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),d=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^3.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),f=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^3.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),h=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^3.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),p=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^3.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),m=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^3.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),y=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^3.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),g=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^3.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),b=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^3.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),v=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^3.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),_=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^3.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),w=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^3.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),S=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^3.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),E=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^3.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),x=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^3.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),C=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^3.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),I=new(Ot()).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^3.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),P=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^3.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),L=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^3.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),D=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^3.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),V=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^3.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),k=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^3.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"});new(mTe()).ActorContextPreprocessConvertShortcuts({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelay:"@comunica/bus-http:http-retry-delay",httpRetryOnServerError:"@comunica/bus-http:http-retry-on-server-error",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",noCache:"@comunica/actor-init-query:noCache",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:n}),new(_Te()).ActorContextPreprocessSetDefaults({logger:t,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:n}),new(vTe()).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:n});const $=new(xX()).ActorContextPreprocessQuerySourceSkolemize({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:n}),H=new(LM()).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:n});new(RTe()).ActorHashBindingsSha1({name:"urn:comunica:default:hash-bindings/actors#sha1",bus:a});const J=new(Un()).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:a});new(NTe()).ActorOptimizeQueryOperationRewriteCopy({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:s}),new(CTe()).ActorOptimizeQueryOperationRewriteMove({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:s}),new(jTe()).ActorOptimizeQueryOperationRewriteAdd({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:s});const Y=new(FTe()).ActorOptimizeQueryOperationGroupSources({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:s}),de=new(LM()).MediatorCombinePipeline({filterErrors:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:s});new($Te()).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:o}),new(dAe()).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:o});const Te=new(Un()).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:o});new(mAe()).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:u}),new(_Ae()).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:u}),new(vAe()).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:u}),new(TAe()).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:u}),new(OAe()).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:u}),new(xAe()).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:u}),new(BAe()).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:u});const De=new(Un()).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:u}),Ve=new(so()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:u}),le=new(so()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:u}),ue=new(Ah()).MediatorNumber({field:"filterFactor",type:"max",ignoreErrors:!0,name:"urn:comunica:default:query-source-identify-hypermedia/mediators#main",bus:l}),Ie=new(QAe()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:c}),Ne=new(Un()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:c}),we=new(Un()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:d});new(KAe()).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:f});const Ae=new(Un()).MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:f});new(ZAe()).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:h});const Se=new(Ah()).MediatorNumber({field:"accuracy",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:h});new(r3e()).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:p}),new(i3e()).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:p});const z=new(Un()).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:p});new(o3e()).ActorRdfMetadataAccumulateCanContainUndefs({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cancontainundefs",bus:m}),new(c3e()).ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:m}),new(d3e()).ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:m}),new(h3e()).ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:m});const M=new(so()).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:m});new(g3e()).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:y}),new(b3e()).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:y}),new(w3e()).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:y}),new(T3e()).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:y}),new(A3e()).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:y}),new(R3e()).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:y}),new(I3e()).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:y}),new(N3e()).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:y});const B=new(so()).MediatorCombineUnion({filterErrors:!0,field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:y});new(aOe()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:g}),new(yOe()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:g}),new(COe()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:g}),new(BOe()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:g});const T=new(Un()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:g}),O=new(so()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:g});new(kOe()).ActorRdfParseHtml({busRdfParseHtml:b,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:g}),new(YOe()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:b}),new(eRe()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:b}),new(sRe()).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:v});const U=new(Un()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:v});new(lRe()).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:_});const G=new(Un()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:_});new(pRe()).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:w}),new(bRe()).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:w}),new(MRe()).ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:w});const Q=new(Un()).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:w}),Z=new(so()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:w}),ie=new(so()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:w}),te=new(Un()).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:S});new(VRe()).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:E});const he=new(Un()).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:E}),ce=new(XRe()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:x}),ve=new(Ah()).MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:x}),Ce=new(Ah()).MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#main",bus:C});new(ZRe()).ActorQueryOperationSource({name:"urn:comunica:default:query-operation/actors#source",bus:I});const Ee=new(Ah()).MediatorNumber({field:"httpRequests",type:"min",ignoreErrors:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:I}),Ue=new(Un()).MediatorRace({name:"urn:comunica:default:query-process/mediators#main",bus:P}),Fe=new(Un()).MediatorRace({name:"urn:comunica:default:query-source-identify/mediators#main",bus:L}),Qe=new(txe()).MediatorJoinCoefficientsFixed({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:D}),ke=new(av()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^3.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:V}),K=new(ixe()).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:V}),j=new(av()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^3.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:V}),q=new(av()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^3.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:V}),W=new(av()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^3.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:V}),re=new(so()).MediatorCombineUnion({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:k});new(cxe()).ActorRdfJoinSingle({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:D}),new(dxe()).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:D}),new(hxe()).ActorRdfJoinMultiBindSource({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:Ae,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:D}),new(vxe()).ActorRdfJoinHash({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-hash",bus:D}),new(Sxe()).ActorRdfJoinSymmetricHash({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:D}),new(Exe()).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:D}),new(Oxe()).ActorRdfJoinMinusHash({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#minus-hash",bus:D}),new(Ixe()).ActorRdfJoinMinusHashUndef({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:D}),new(sv()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:D}),new(sv()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:D}),new(sv()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:D}),new(sv()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:D}),new(Lxe()).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:D}),new(qxe()).ActorDereferenceRdfParse({mediatorDereference:Ne,mediatorParse:T,mediatorParseMediatypes:O,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:d}),new(Uxe()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:O,mediatorRdfParseHandle:T,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:b}),new(Vxe()).ActorQueryResultSerializeRdf({mediatorRdfSerialize:Q,mediatorMediaTypeCombiner:Z,mediatorMediaTypeFormatCombiner:ie,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:u}),new(Qxe()).ActorHttpWayback({mediatorHttp:ve,name:"urn:comunica:default:http/actors#wayback",bus:C}),new(fIe()).ActorRdfParseJsonLd({mediatorHttp:Ce,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:g}),new(yIe()).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:Ce,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:S}),new(gIe()).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:Ce,mediatorRdfSerializeMediatypes:Z,mediatorRdfSerialize:Q,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:S}),new(TIe()).ActorRdfUpdateHypermediaSparql({mediatorHttp:Ce,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:S}),new(AIe()).ActorQueryOperationAsk({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#ask",bus:I}),new(RIe()).ActorQueryOperationBgpJoin({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#bgp",bus:I}),new(IIe()).ActorQueryOperationDistinctHash({mediatorHashBindings:J,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#distinct",bus:I}),new(tZ()).ActorQueryOperationConstruct({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#construct",bus:I}),new(DIe()).ActorQueryOperationFromQuad({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#from",bus:I}),new(LIe()).ActorQueryOperationProject({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#project",bus:I}),new(MIe()).ActorQueryOperationReducedHash({mediatorHashBindings:J,cacheSize:100,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#reduced",bus:I}),new(qIe()).ActorQueryOperationSlice({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#slice",bus:I}),new(nZ()).ActorQueryOperationUnion({mediatorRdfMetadataAccumulate:M,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#union",bus:I}),new(kIe()).ActorQueryOperationPathAlt({mediatorRdfMetadataAccumulate:M,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-alt",bus:I}),new(HIe()).ActorQueryOperationPathInv({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-inv",bus:I}),new(zIe()).ActorQueryOperationPathLink({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-link",bus:I}),new(WIe()).ActorQueryOperationPathNps({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-nps",bus:I}),new(JIe()).ActorQueryOperationClear({mediatorUpdateQuads:he,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-clear",bus:I}),new(YIe()).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-composite",bus:I}),new(ePe()).ActorQueryOperationCreate({mediatorUpdateQuads:he,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-create",bus:I}),new(rPe()).ActorQueryOperationDrop({mediatorUpdateQuads:he,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-drop",bus:I}),new(iPe()).ActorQueryOperationLoad({mediatorUpdateQuads:he,mediatorQuerySourceIdentify:Fe,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-load",bus:I}),new(sPe()).ActorQueryOperationJoin({mediatorJoin:Qe,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#join",bus:I}),new(uPe()).ActorQueryOperationMinus({mediatorJoin:Qe,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#minus",bus:I}),new(lPe()).ActorQueryOperationPathSeq({mediatorJoin:Qe,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-seq",bus:I}),new(fPe()).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:Ae,mediatorJoin:Qe,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:D}),new(yPe()).ActorRdfJoinMultiSmallestFilterBindings({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:Ae,mediatorJoin:Qe,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:D});const pe=new(gPe()).ActorOptimizeQueryOperationFilterPushdown({name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:s,beforeActors:[Y]});new(bPe()).ActorDereferenceHttp({mediatorHttp:Ce,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:c,beforeActors:[Ie]}),new(SPe()).ActorHttpProxy({mediatorHttp:Ce,name:"urn:comunica:default:http/actors#proxy",bus:x,beforeActors:[ce]}),new(EPe()).ActorContextPreprocessQuerySourceIdentify({cacheSize:100,httpInvalidator:ke,mediatorQuerySourceIdentify:Fe,mediatorContextPreprocess:H,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:n,beforeActors:[$]});const ge=new IN.ActorInitQuery({mediatorQueryProcess:Ue,mediatorQueryResultSerialize:De,mediatorQueryResultSerializeMediaTypeCombiner:Ve,mediatorQueryResultSerializeMediaTypeFormatCombiner:le,mediatorHttpInvalidate:K,defaultQueryInputFormat:"sparql",allowNoSources:!1,name:"urn:comunica:default:init/actors#query",bus:r});new(OPe()).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:j,mediatorDereferenceRdf:we,mediatorMetadata:z,mediatorMetadataExtract:B,mediatorRdfUpdateHypermedia:te,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:E});const qe=new(BU()).ActionObserverHttp({httpInvalidator:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^3.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:x}),ee=new(VU()).ActionObserverHttp({httpInvalidator:W,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^3.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:x});new(jPe()).ActorQuerySourceIdentifyHypermediaQpf({mediatorMetadata:z,mediatorMetadataExtract:B,mediatorDereferenceRdf:we,mediatorMergeBindingsContext:re,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:query-source-identify-hypermedia/actors#qpf",bus:l}),new(FPe()).ActorQuerySourceIdentifyHypermediaSparql({mediatorHttp:Ce,mediatorMergeBindingsContext:re,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,bindMethod:"values",countTimeout:3e3,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#sparql",bus:l}),new(ZPe()).ActorQuerySourceIdentifyHypermediaNone({mediatorMergeBindingsContext:re,name:"urn:comunica:default:query-source-identify-hypermedia/actors#none",bus:l}),new($Ne()).ActorQueryOperationExtend({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#extend",bus:I}),new(kNe()).ActorQueryOperationFilter({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#filter",bus:I}),new(QNe()).ActorQueryOperationGroup({mediatorHashBindings:J,mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#group",bus:I}),new(GNe()).ActorQueryOperationLeftJoin({mediatorJoin:Qe,mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:I}),new(KNe()).ActorQueryOperationNop({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#nop",bus:I}),new(YNe()).ActorQueryOperationOrderBy({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#orderby",bus:I}),new(eDe()).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:re,mediatorQuerySourceIdentify:Fe,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#service",bus:I}),new(rDe()).ActorQueryOperationValues({mediatorMergeBindingsContext:re,name:"urn:comunica:default:query-operation/actors#values",bus:I}),new(iDe()).ActorQueryOperationPathOneOrMore({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:I}),new(sDe()).ActorQueryOperationPathZeroOrMore({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:I}),new(uDe()).ActorQueryOperationPathZeroOrOne({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:I}),new(lDe()).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:he,mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:I});const Oe=new(hDe()).ActorQueryProcessSequential({mediatorContextPreprocess:H,mediatorQueryParse:Te,mediatorOptimizeQueryOperation:de,mediatorQueryOperation:Ee,mediatorMergeBindingsContext:re,name:"urn:comunica:default:query-process/actors#sequential",bus:P}),je=new(vDe()).ActorQuerySourceIdentifyHypermedia({cacheSize:100,maxIterators:64,aggregateTraversalStore:!0,mediatorDereferenceRdf:we,mediatorMetadata:z,mediatorMetadataExtract:B,mediatorMetadataAccumulate:M,mediatorQuerySourceIdentifyHypermedia:ue,mediatorRdfResolveHypermediaLinks:G,mediatorRdfResolveHypermediaLinksQueue:U,mediatorMergeBindingsContext:re,name:"urn:comunica:default:query-source-identify/actors#hypermedia",bus:L});new(SDe()).ActorRdfJoinNone({mediatorMergeBindingsContext:re,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:D}),new(zZ()).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorJoinEntriesSort:Ae,mediatorQueryOperation:Ee,mediatorMergeBindingsContext:re,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:D}),new(ADe()).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:Ee,mediatorMergeBindingsContext:re,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:D}),new(BU()).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:qe,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:u}),new(VU()).ActorQueryResultSerializeStats({httpObserver:ee,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:u}),new(RDe()).ActorQueryProcessExplainParsed({queryProcessor:Oe,name:"urn:comunica:default:query-process/actors#explain-parsed",bus:P}),new(IDe()).ActorQueryProcessExplainLogical({queryProcessor:Oe,name:"urn:comunica:default:query-process/actors#explain-logical",bus:P}),new(NDe()).ActorQueryProcessExplainPhysical({queryProcessor:Oe,name:"urn:comunica:default:query-process/actors#explain-physical",bus:P});const Be=new(CDe()).ActorOptimizeQueryOperationPruneEmptySourceOperations({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:s,beforeActors:[pe]});new(qD()).ActorQuerySourceIdentifyRdfJs({mediatorMergeBindingsContext:re,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:L,beforeActors:[je]}),new(jDe()).ActorQuerySourceIdentifySerialized({mediatorRdfParse:T,mediatorQuerySourceIdentify:Fe,name:"urn:comunica:default:query-source-identify/actors#serialized",bus:L,beforeActors:[je]});const Ye=new(FDe()).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:s,beforeActors:[Be]}),ct=new(BDe()).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:s,beforeActors:[Ye]}),ft=new(UDe()).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:s,beforeActors:[ct]}),ot=new(VDe()).ActorOptimizeQueryOperationAssignSourcesExhaustive({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:s,beforeActors:[ft]});return new(QDe()).ActorOptimizeQueryOperationDescribeToConstructsSubject({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:s,beforeActors:[ot]}),ge};Object.defineProperty(TS,"__esModule",{value:!0});TS.QueryEngine=void 0;const GDe=IN,WDe=zDe;class KDe extends GDe.QueryEngineBase{constructor(t=WDe()){super(t)}}TS.QueryEngine=KDe;(function(e){var t=N&&N.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=N&&N.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(TS,e)})(xN);const qg="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Bg="http://www.w3.org/2001/XMLSchema#",rx="http://www.w3.org/2000/10/swap/",xn={xsd:{decimal:`${Bg}decimal`,boolean:`${Bg}boolean`,double:`${Bg}double`,integer:`${Bg}integer`,string:`${Bg}string`},rdf:{type:`${qg}type`,nil:`${qg}nil`,first:`${qg}first`,rest:`${qg}rest`,langString:`${qg}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${rx}reify#forSome`,forAll:`${rx}reify#forAll`},log:{implies:`${rx}log#implies`}},{xsd:cv}=xn,JDe=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,ZH={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},XDe=/[\x00-\x20<>\\"\{\}\|\^\`]/,YDe={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},ZDe=/$0^/;class eCe{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const r in this)!(r in YDe)&&this[r]instanceof RegExp&&(this[r]=ZDe)}else this._n3Mode=t.n3!==!1;this._comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,r){let n=this._input,a=n.length;for(;;){let u,l;for(;u=this._newline.exec(n);)this._comments&&(l=this._comment.exec(u[0]))&&s("comment",l[1],"",this._line,u[0].length),n=n.substr(u[0].length,n.length),a=n.length,this._line++;if(!u&&(u=this._whitespace.exec(n))&&(n=n.substr(u[0].length,n.length)),this._endOfFile.test(n))return r&&(this._comments&&(l=this._comment.exec(n))&&s("comment",l[1],"",this._line,n.length),n=null,s("eof","","",this._line,0)),this._input=n;const c=this._line,d=n[0];let f="",h="",p="",m=null,y=0,g=!1;switch(d){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){g=!0;break}}else{this._n3Mode&&(y=1,f="^");break}case"<":if(m=this._unescapedIri.exec(n))f="IRI",h=m[1];else if(m=this._iri.exec(n)){if(h=this._unescape(m[1]),h===null||XDe.test(h))return o(this);f="IRI"}else n.length>1&&n[1]==="<"?(f="<<",y=2):this._n3Mode&&n.length>1&&n[1]==="="&&(f="inverse",y=2,h=">");break;case">":n.length>1&&n[1]===">"&&(f=">>",y=2);break;case"_":((m=this._blank.exec(n))||r&&(m=this._blank.exec(`${n} `)))&&(f="blank",p="_",h=m[1]);break;case'"':if(m=this._simpleQuotedString.exec(n))h=m[1];else if({value:h,matchLength:y}=this._parseLiteral(n),h===null)return o(this);(m!==null||y!==0)&&(f="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(m=this._simpleApostropheString.exec(n))h=m[1];else if({value:h,matchLength:y}=this._parseLiteral(n),h===null)return o(this);(m!==null||y!==0)&&(f="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(m=this._variable.exec(n))&&(f="var",h=m[0]);break;case"@":this._previousMarker==="literal"&&(m=this._langcode.exec(n))?(f="langcode",h=m[1]):(m=this._keyword.exec(n))&&(f=m[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){f=".",y=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(m=this._number.exec(n)||r&&(m=this._number.exec(`${n} `)))&&(f="literal",h=m[0],p=typeof m[1]=="string"?cv.double:typeof m[2]=="string"?cv.decimal:cv.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(m=this._sparqlKeyword.exec(n))?f=m[0].toUpperCase():g=!0;break;case"f":case"t":(m=this._boolean.exec(n))?(f="literal",h=m[0],p=cv.boolean):g=!0;break;case"a":(m=this._shortPredicates.exec(n))?(f="abbreviation",h="a"):g=!0;break;case"=":this._n3Mode&&n.length>1&&(f="abbreviation",n[1]!==">"?(y=1,h="="):(y=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(y=1,f=d);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(f="{|",y=2):(f=d,y=1));break;case"|":n.length>=2&&n[1]==="}"&&(f="|}",y=2);break;default:g=!0}if(g&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(m=this._prefix.exec(n))?(f="prefix",h=m[1]||""):((m=this._prefixed.exec(n))||r&&(m=this._prefixed.exec(`${n} `)))&&(f="prefixed",p=m[1]||"",h=this._unescape(m[2]))),this._previousMarker==="^^")switch(f){case"prefixed":f="type";break;case"IRI":f="typeIRI";break;default:f=""}if(!f)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;const b=y||m[0].length,v=s(f,h,p,c,b);this.previousToken=v,this._previousMarker=f,n=n.substr(b,n.length)}function s(u,l,c,d,f){const h=n?a-n.length:a,p=h+f,m={type:u,value:l,prefix:c,line:d,start:h,end:p};return t(null,m),m}function o(u){t(u._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(t){let r=!1;const n=t.replace(JDe,(a,s,o,u)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return u in ZH?ZH[u]:(r=!0,"")});return r?null:n}_parseLiteral(t){if(t.length>=3){const r=t.match(/^(?:"""|"|'''|'|)/)[0],n=r.length;let a=Math.max(this._literalClosingPos,n);for(;(a=t.indexOf(r,a))>0;){let s=0;for(;t[a-s-1]==="\\";)s++;if(s%2===0){const o=t.substring(n,a),u=o.split(/\r\n|\r|\n/).length-1,l=a+n;if(n===1&&u!==0||n===3&&this._lineMode)break;return this._line+=u,{value:this._unescape(o),matchLength:l}}a++}this._literalClosingPos=t.length-n+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const r=new Error(`Unexpected "${t}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,r){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof r=="function")oY(()=>this._tokenizeToEnd(r,!0));else{const n=[];let a;if(this._tokenizeToEnd((s,o)=>s?a=s:n.push(o),!0),a)throw a;return n}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=Ui.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),t.on("error",r)}}const{rdf:tCe,xsd:Bu}=xn;let zb,rCe=0;const z_={namedNode:oCe,blankNode:uCe,variable:lCe,literal:cCe,defaultGraph:dCe,quad:eQ,triple:eQ};class is{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof is?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class WZ extends is{get termType(){return"NamedNode"}}class Ol extends is{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let r=t.lastIndexOf('"')+1;return r<t.length&&t[r++]==="@"?t.substr(r).toLowerCase():""}get datatype(){return new WZ(this.datatypeString)}get datatypeString(){const t=this.id,r=t.lastIndexOf('"')+1,n=r<t.length?t[r]:"";return n==="^"?t.substr(r+2):n!=="@"?Bu.string:tCe.langString}equals(t){return t instanceof Ol?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class nCe extends is{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class iCe extends is{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class aCe extends is{constructor(){return super(""),zb||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}}zb=new aCe;function i_(e,t,r){if(t=t||z_,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===z_)return new Ol(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const n=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,n-1),e[n+1]==="@"?e.substr(n+2):t.namedNode(e.substr(n+3)));case"[":e=JSON.parse(e);break;default:if(!r||!Array.isArray(e))return t.namedNode(e)}return t.quad(i_(e[0],t,!0),i_(e[1],t,!0),i_(e[2],t,!0),e[3]&&i_(e[3],t,!0))}function Si(e,t){if(typeof e=="string")return e;if(e instanceof is&&e.termType!=="Quad")return e.id;if(!e)return zb.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==Bu.string?`^^${e.datatype.value}`:""}`;case"Quad":const r=[Si(e.subject,!0),Si(e.predicate,!0),Si(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&r.push(Si(e.graph,!0)),t?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${e.termType}`)}}class sCe extends is{constructor(t,r,n,a){super(""),this._subject=t,this._predicate=r,this._object=n,this._graph=a||zb}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}}function oCe(e){return new WZ(e)}function uCe(e){return new nCe(e||`n3-${rCe++}`)}function cCe(e,t){if(typeof t=="string")return new Ol(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return r===""&&(typeof e=="boolean"?r=Bu.boolean:typeof e=="number"&&(Number.isFinite(e)?r=Number.isInteger(e)?Bu.integer:Bu.double:(r=Bu.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),r===""||r===Bu.string?new Ol(`"${e}"`):new Ol(`"${e}"^^${r}`)}function lCe(e){return new iCe(e)}function dCe(){return zb}function eQ(e,t,r,n){return new sCe(e,t,r,n)}let tQ=0;class KZ{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&JZ(this,t.factory);const r=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),a=/trig/.test(r),s=/triple/.test(r),o=/quad/.test(r),u=this._n3Mode=/n3/.test(r),l=s||o;(this._supportsNamedGraphs=!(n||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||a||s||u),this._supportsRDFStar=r===""||/star|\*$/.test(r),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new eCe({lineMode:l,n3:u}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){tQ=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const r=t.indexOf("#");r>=0&&(t=t.substr(0,r)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,r,n,a,s){const o=this._n3Mode;this._contextStack.push({type:t,subject:n,predicate:a,object:s,graph:r,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,r){const n=this._contextStack.pop();if(!n||n.type!==t)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,r){let n;switch(t.type){case"IRI":case"typeIRI":const a=this._resolveIRI(t.value);if(a===null)return this._error("Invalid IRI",t);n=this._namedNode(a);break;case"type":case"prefixed":const s=this._prefixes[t.prefix];if(s===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);n=this._namedNode(s+t.value);break;case"blank":n=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":n=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const r=t.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,t):(this._subject=null,r==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let r=null,n=null,a=this._readListItem;const s=this._subject,o=this._contextStack,u=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=r=this._blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;n=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,a=this._readListItemDataTypeOrLang):(r=this._literal(t.value,this._namedNode(t.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((r=this._readEntity(t))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),s===null?u.predicate===null?u.subject=n:u.object=n:this._emit(s,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return a}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let r=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const n=this._readEntity(t);if(n===void 0)return;r=this._literal(this._literalValue,n),t=null;break;case"langcode":r=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:r}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,r){const n=this._completeLiteral(t);if(n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let r,n=this._graph;const a=this._subject,s=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",t);const o=this._predicate,u=this._object;this._subject=this._quad(a,o,u,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(t))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(a!==null){const o=this._predicate,u=this._object;s?this._emit(u,o,a,n):this._emit(a,o,u,n)}return r}_readBlankNodePunctuation(t){let r;switch(t.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const r=this._readEntity(t);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(t){const r=t.type==="IRI"&&this._resolveIRI(t.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let r;switch(t.type){case"IRI":case"prefixed":if((r=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){const a=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,a,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let r,n;const a=this._blankNode();if((n=this._readEntity(t))!==void 0)return this._predicate===null?(r=this._subject,this._subject=a):(r=this._object,this._object=a),this._emit(r,n,a,this._graph),this._readPath}_readBackwardPath(t){const r=this._blankNode();let n,a;if((n=this._readEntity(t))!==void 0)return this._predicate===null?(a=this._subject,this._subject=r):(a=this._object,this._object=r),this._emit(r,n,a,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const r=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,r,n,a){this._callback(null,this._quad(t,r,n,a||this.DEFAULTGRAPH))}_error(t,r){const n=new Error(`${t} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=nx}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const r=t.length;let n="",a=-1,s=-1,o=0,u="/";for(;a<r;){switch(u){case":":if(s<0&&t[++a]==="/"&&t[++a]==="/")for(;(s=a+1)<r&&t[s]!=="/";)a=s;break;case"?":case"#":a=r;break;case"/":if(t[a+1]===".")switch(u=t[++a+1],u){case"/":n+=t.substring(o,a-1),o=a+1;break;case void 0:case"?":case"#":return n+t.substring(o,a)+t.substr(a+1);case".":if(u=t[++a+1],u===void 0||u==="/"||u==="?"||u==="#"){if(n+=t.substring(o,a-2),(o=n.lastIndexOf("/"))>=s&&(n=n.substr(0,o)),u!=="/")return`${n}/${t.substr(a+1)}`;o=a+1}}}u=t[++a]}return n+t.substring(o)}parse(t,r,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${tQ++}_`,this._prefixCallback=n||nx,this._inversePredicate=!1,this._quantified=Object.create(null),!r){const a=[];let s;if(this._callback=(o,u)=>{o?s=o:u&&a.push(u)},this._lexer.tokenize(t).every(o=>this._readCallback=this._readCallback(o)),s)throw s;return a}this._callback=r,this._lexer.tokenize(t,(a,s)=>{a!==null?(this._callback(a),this._callback=nx):this._readCallback&&(this._readCallback=this._readCallback(s))})}}function nx(){}function JZ(e,t){const r=t.namedNode;e._namedNode=r,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=r(xn.rdf.first),e.RDF_REST=r(xn.rdf.rest),e.RDF_NIL=r(xn.rdf.nil),e.N3_FORALL=r(xn.r.forAll),e.N3_FORSOME=r(xn.r.forSome),e.ABBREVIATIONS={a:r(xn.rdf.type),"=":r(xn.owl.sameAs),">":r(xn.log.implies)},e.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}JZ(KZ.prototype,z_);function HI(e){return!!e&&e.termType==="DefaultGraph"}const $g=z_.defaultGraph(),{rdf:fCe,xsd:Gc}=xn,rQ=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,nQ=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,hCe={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class Ug extends is{equals(t){return t===this}}class pCe{constructor(t,r){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(r=t,t=null),r=r||{},this._lists=r.lists,t)this._outputStream=t,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(a,s,o){n+=a,o&&o()},end:a=>{a&&a(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=$g,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${aQ(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return $g.equals(this._graph)}_write(t,r){this._outputStream.write(t,"utf8",r)}_writeQuad(t,r,n,a,s){try{a.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+($g.equals(a)?"":`${this._encodeIriOrBlank(a)} {
`)),this._graph=a,this._subject=null),t.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s)}catch(o){s&&s(o)}}_writeQuadLine(t,r,n,a,s){delete this._prefixMatch,this._write(this.quadToString(t,r,n,a),s)}quadToString(t,r,n,a){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${a&&a.value?` ${this._encodeIriOrBlank(a)} .
`:` .
`}`}quadsToString(t){return t.map(r=>this.quadToString(r.subject,r.predicate,r.object,r.graph)).join("")}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let r=t.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),rQ.test(r)&&(r=r.replace(nQ,iQ));const n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(t){let r=t.value;if(rQ.test(r)&&(r=r.replace(nQ,iQ)),t.language)return`"${r}"@${t.language}`;if(this._lineMode){if(t.datatype.value===Gc.string)return`"${r}"`}else switch(t.datatype.value){case Gc.string:return`"${r}"`;case Gc.boolean:if(r==="true"||r==="false")return r;break;case Gc.integer:if(/^[+-]?\d+$/.test(r))return r;break;case Gc.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case Gc.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===fCe.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:r,object:n,graph:a}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${HI(a)?"":` ${this._encodeIriOrBlank(a)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,r,n,a,s){n===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,r):typeof a=="function"?this._writeQuad(t,r,n,$g,a):this._writeQuad(t,r,n,a||$g,s)}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}addPrefix(t,r,n){const a={};a[t]=r,this.addPrefixes(a,n)}addPrefixes(t,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let a in t){let s=t[a];typeof s!="string"&&(s=s.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=a+=":",this._write(`@prefix ${a} <${s}>.
`)}if(n){let a="",s="";for(const o in this._prefixIRIs)a+=a?`|${o}`:o,s+=(s?"|":"")+this._prefixIRIs[o];a=aQ(a),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${a})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(t,r){let n=t,a,s;switch(t===void 0?n=[]:t.termType?n=[{predicate:t,object:r}]:"length"in t||(n=[t]),s=n.length){case 0:return new Ug("[]");case 1:if(a=n[0],!(a.object instanceof Ug))return new Ug(`[ ${this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)} ]`);default:let o="[";for(let u=0;u<s;u++)a=n[u],a.predicate.equals(t)?o+=`, ${this._encodeObject(a.object)}`:(o+=`${(u?`;
  `:`
  `)+this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)}`,t=a.predicate);return new Ug(`${o}
]`)}}list(t){const r=t&&t.length||0,n=new Array(r);for(let a=0;a<r;a++)n[a]=this._encodeObject(t[a]);return new Ug(`(${n.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=t&&((n,a)=>{r=null,t(n,a)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}}function iQ(e){let t=hCe[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function aQ(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}class $D{constructor(t,r){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!r&&t&&!t[0]&&(r=t,t=null),r=r||{},this._factory=r.factory||z_,t&&this.addQuads(t)}_termFromId(t,r){if(t[0]==="."){const n=this._entities,a=t.split(".");return this._factory.quad(this._termFromId(n[a[1]]),this._termFromId(n[a[2]]),this._termFromId(n[a[3]]),a[4]&&this._termFromId(n[a[4]]))}return i_(t,r)}_termToNumericId(t){if(t.termType==="Quad"){const r=this._termToNumericId(t.subject),n=this._termToNumericId(t.predicate),a=this._termToNumericId(t.object);let s;return r&&n&&a&&(HI(t.graph)||(s=this._termToNumericId(t.graph)))&&this._ids[s?`.${r}.${n}.${a}.${s}`:`.${r}.${n}.${a}`]}return this._ids[Si(t)]}_termToNewNumericId(t){const r=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${HI(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:Si(t);return this._ids[r]||(this._ids[this._entities[++this._id]=r]=this._id)}get size(){let t=this._size;if(t!==null)return t;t=0;const r=this._graphs;let n,a;for(const s in r)for(const o in n=r[s].subjects)for(const u in a=n[o])t+=Object.keys(a[u]).length;return this._size=t}_addToIndex(t,r,n,a){const s=t[r]||(t[r]={}),o=s[n]||(s[n]={}),u=a in o;return u||(o[a]=null),!u}_removeFromIndex(t,r,n,a){const s=t[r],o=s[n];delete o[a];for(const u in o)return;delete s[n];for(const u in s)return;delete t[r]}*_findInIndex(t,r,n,a,s,o,u,l){let c,d,f;const h=this._entities,p=this._termFromId(l,this._factory),m={subject:null,predicate:null,object:null};r&&((c=t,t={})[r]=c[r]);for(const y in t)if(d=t[y]){m[s]=this._termFromId(h[y],this._factory),n&&((c=d,d={})[n]=c[n]);for(const g in d)if(f=d[g]){m[o]=this._termFromId(h[g],this._factory);const b=a?a in f?[a]:[]:Object.keys(f);for(let v=0;v<b.length;v++)m[u]=this._termFromId(h[b[v]],this._factory),yield this._factory.quad(m.subject,m.predicate,m.object,p)}}}_loop(t,r){for(const n in t)r(n)}_loopByKey0(t,r,n){let a,s;if(a=t[r])for(s in a)n(s)}_loopByKey1(t,r,n){let a,s;for(a in t)s=t[a],s[r]&&n(a)}_loopBy2Keys(t,r,n,a){let s,o,u;if((s=t[r])&&(o=s[n]))for(u in o)a(u)}_countInIndex(t,r,n,a){let s=0,o,u,l;r&&((o=t,t={})[r]=o[r]);for(const c in t)if(u=t[c]){n&&((o=u,u={})[n]=o[n]);for(const d in u)(l=u[d])&&(a?a in l&&s++:s+=Object.keys(l).length)}return s}_getGraphs(t){if(!yCe(t))return this._graphs;const r={};return r[t]=this._graphs[t],r}_uniqueEntities(t){const r=Object.create(null);return n=>{n in r||(r[n]=!0,t(this._termFromId(this._entities[n],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,r,n,a){r||(a=t.graph,n=t.object,r=t.predicate,t=t.subject),a=Si(a);let s=this._graphs[a];s||(s=this._graphs[a]={subjects:{},predicates:{},objects:{}},Object.freeze(s)),t=this._termToNewNumericId(t),r=this._termToNewNumericId(r),n=this._termToNewNumericId(n);const o=this._addToIndex(s.subjects,t,r,n);return this._addToIndex(s.predicates,r,n,t),this._addToIndex(s.objects,n,t,r),this._size=null,o}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}delete(t){return this.removeQuad(t),this}has(t,r,n,a){return t&&t.subject&&({subject:t,predicate:r,object:n,graph:a}=t),!this.readQuads(t,r,n,a).next().done}import(t){return t.on("data",r=>{this.addQuad(r)}),t}removeQuad(t,r,n,a){r||(a=t.graph,n=t.object,r=t.predicate,t=t.subject),a=Si(a);const s=this._graphs;let o,u,l;if(!(t=t&&this._termToNumericId(t))||!(r=r&&this._termToNumericId(r))||!(n=n&&this._termToNumericId(n))||!(o=s[a])||!(u=o.subjects[t])||!(l=u[r])||!(n in l))return!1;this._removeFromIndex(o.subjects,t,r,n),this._removeFromIndex(o.predicates,r,n,t),this._removeFromIndex(o.objects,n,t,r),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete s[a],!0}removeQuads(t){for(let r=0;r<t.length;r++)this.removeQuad(t[r])}remove(t){return t.on("data",r=>{this.removeQuad(r)}),t}removeMatches(t,r,n,a){const s=new Lt.Readable({objectMode:!0});return s._read=()=>{for(const o of this.readQuads(t,r,n,a))s.push(o);s.push(null)},this.remove(s)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,r,n,a){return[...this.readQuads(t,r,n,a)]}*readQuads(t,r,n,a){a=a&&Si(a);const s=this._getGraphs(a);let o,u,l,c;if(!(t&&!(u=this._termToNumericId(t))||r&&!(l=this._termToNumericId(r))||n&&!(c=this._termToNumericId(n))))for(const d in s)(o=s[d])&&(u?c?yield*this._findInIndex(o.objects,c,u,l,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,u,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",d):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(t,r,n,a){return new UD(this,t,r,n,a)}countQuads(t,r,n,a){a=a&&Si(a);const s=this._getGraphs(a);let o=0,u,l,c,d;if(t&&!(l=this._termToNumericId(t))||r&&!(c=this._termToNumericId(r))||n&&!(d=this._termToNumericId(n)))return 0;for(const f in s)(u=s[f])&&(t?n?o+=this._countInIndex(u.objects,d,l,c):o+=this._countInIndex(u.subjects,l,c,d):r?o+=this._countInIndex(u.predicates,c,d,l):o+=this._countInIndex(u.objects,d,l,c));return o}forEach(t,r,n,a,s){this.some(o=>(t(o),!1),r,n,a,s)}every(t,r,n,a,s){let o=!1;const u=!this.some(l=>(o=!0,!t(l)),r,n,a,s);return o&&u}some(t,r,n,a,s){for(const o of this.readQuads(r,n,a,s))if(t(o))return!0;return!1}getSubjects(t,r,n){const a=[];return this.forSubjects(s=>{a.push(s)},t,r,n),a}forSubjects(t,r,n,a){a=a&&Si(a);const s=this._getGraphs(a);let o,u,l;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?l?this._loopBy2Keys(o.predicates,u,l,t):this._loopByKey1(o.subjects,u,t):l?this._loopByKey0(o.objects,l,t):this._loop(o.subjects,t))}getPredicates(t,r,n){const a=[];return this.forPredicates(s=>{a.push(s)},t,r,n),a}forPredicates(t,r,n,a){a=a&&Si(a);const s=this._getGraphs(a);let o,u,l;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?l?this._loopBy2Keys(o.objects,l,u,t):this._loopByKey0(o.subjects,u,t):l?this._loopByKey1(o.predicates,l,t):this._loop(o.predicates,t))}getObjects(t,r,n){const a=[];return this.forObjects(s=>{a.push(s)},t,r,n),a}forObjects(t,r,n,a){a=a&&Si(a);const s=this._getGraphs(a);let o,u,l;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?l?this._loopBy2Keys(o.subjects,u,l,t):this._loopByKey1(o.objects,u,t):l?this._loopByKey0(o.predicates,l,t):this._loop(o.objects,t))}getGraphs(t,r,n){const a=[];return this.forGraphs(s=>{a.push(s)},t,r,n),a}forGraphs(t,r,n,a){for(const s in this._graphs)this.some(o=>(t(o.graph),!0),r,n,a,s)}createBlankNode(t){let r,n;if(t)for(r=t=`_:${t}`,n=1;this._ids[r];)r=t+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}extractLists({remove:t=!1,ignoreErrors:r=!1}={}){const n={},a=r?()=>!0:(u,l)=>{throw new Error(`${u.value} ${l}`)},s=this.getQuads(null,xn.rdf.rest,xn.rdf.nil,null),o=t?[...s]:[];return s.forEach(u=>{const l=[];let c=!1,d,f;const h=u.graph;let p=u.subject;for(;p&&!c;){const m=this.getQuads(null,null,p,null),y=this.getQuads(p,null,null,null);let g,b=null,v=null,_=null;for(let w=0;w<y.length&&!c;w++)g=y[w],g.graph.equals(h)?d?c=a(p,"has non-list arcs out"):g.predicate.value===xn.rdf.first?b?c=a(p,"has multiple rdf:first arcs"):o.push(b=g):g.predicate.value===xn.rdf.rest?v?c=a(p,"has multiple rdf:rest arcs"):o.push(v=g):m.length?c=a(p,"can't be subject and object"):(d=g,f="subject"):c=a(p,"not confined to single graph");for(let w=0;w<m.length&&!c;++w)g=m[w],d?c=a(p,"can't have coreferences"):g.predicate.value===xn.rdf.rest?_?c=a(p,"has incoming rdf:rest arcs"):_=g:(d=g,f="object");b?l.unshift(b.object):c=a(p,"has no list head"),p=_&&_.subject}c?t=!1:d&&(n[d[f].value]=l)}),t&&this.removeQuads(o),n}*[Symbol.iterator](){yield*this.readQuads()}}function yCe(e){return typeof e=="string"||e instanceof String}class UD extends Lt.Readable{constructor(t,r,n,a,s){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:r,predicate:n,object:a,graph:s})}get filtered(){if(!this._filtered){const{n3Store:t,graph:r,object:n,predicate:a,subject:s}=this,o=this._filtered=new $D({factory:t._factory});for(const u of t.readQuads(s,a,n,r))o.addQuad(u)}return this._filtered}get size(){return this.filtered.size}_read(){for(const t of this)this.push(t);this.push(null)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,r,n,a){return new UD(this.filtered,t,r,n,a)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class mCe extends Lt.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new KZ(t);let n,a;r.parse({on:(s,o)=>{switch(s){case"data":n=o;break;case"end":a=o;break}}},(s,o)=>{s&&this.emit("error",s)||o&&this.push(o)},(s,o)=>{this.emit("prefix",s,o)}),this._transform=(s,o,u)=>{n(s),u()},this._flush=s=>{a(),s()}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),this}}class gCe extends Lt.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const r=this._writer=new pCe({write:(n,a,s)=>{this.push(n),s&&s()},end:n=>{this.push(null),n&&n()}},t);this._transform=(n,a,s)=>{r.addQuad(n,s)},this._flush=n=>{r.end(n)}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),t.on("prefix",(r,n)=>{this._writer.addPrefix(r,n)}),this}}async function _Ce(e,t){const r=new mCe(t);Lt.Readable.from([e]).pipe(r);const n=new $D;return LD(n.import(r),n)}async function $9e(e,t){const r=new gCe(t);r.import(e);const n=[];for await(const a of r)n.push(Ui.from(a));return Ui.concat(n).toString()}function U9e(e){const t={store:new $D,prefixes:{}};return e.on("prefix",(r,n)=>{t.prefixes[r]=typeof n=="string"?n:n.value}),LD(t.store.import(e),t)}class XZ{constructor(){this.type="query_only",this.capability={query:!0,update:!1,quit:!1}}async initialize(){}query_bindings(t){return console.log(`Send bindings query (${t}) via comunica to ${this.sources}`),this.queryEngine.queryBindings(t,{sources:this.sources})}query_quads(t){return console.log(`Send quads query (${t}) via comunica to ${this.sources}`),this.queryEngine.queryQuads(t,{sources:this.sources})}query(t){return console.log(`Send any query (${t}) via comunica to ${this.sources}`),this.queryEngine.query(t,{sources:this.sources})}update(t){return console.log(`Send update query (${t}) via comunica to ${this.sources}`),this.queryEngine.queryVoid(t,{sources:this.destination})}get quitUrl(){return this.sources[0].value}get updateUrl(){return this.destination[0].value}}class YZ extends XZ{constructor(t,r){super(),this.queryEndpoint=t,this.updateEndpoint=r,this.type="query_only",this.capability={query:!0,update:!1,quit:!1},r&&(this.type="query_update",this.capability.update=!0)}async initialize(){this.queryEngine=new xN.QueryEngine,this.sources=[{type:"sparql",value:this.queryEndpoint}],this.updateEndpoint&&(this.destination=[{type:"sparql",value:this.updateEndpoint}])}}class bCe extends YZ{constructor(t){super(t+"/sparql",t+"/sparql"),this.type="quit",this.HTTPGit=Zr.create({baseURL:t}),this.capability.quit=!0}push(){return this.HTTPGit.post("/push",new URLSearchParams({dst:"master",refspec:"master:master",remote:"origin",src:"master"}),{headers:{"content-type":"application/x-www-form-urlencoded",Accept:"text/plain"}})}pull(){return this.HTTPGit.post("/pull",new URLSearchParams({dst:"master",refspec:"master:master",remote:"origin",src:"master"}),{headers:{"content-type":"application/x-www-form-urlencoded",Accept:"text/plain"}})}get quitUrl(){return this.HTTPGit.defaults.baseURL}}class vCe extends XZ{constructor(t){super(),this.data=t,this.type="query_update",this.capability={query:!0,update:!0,quit:!1}}async initialize(){this.queryEngine=new xN.QueryEngine;const t=this.data;return new Promise(r=>{_Ce(t).then(n=>{this.sources=[n],this.destination=[n],console.log("Set source and destination"),r()})})}}const wCe={async create(e){const t=[];for(let r=0;r<e.sources.length;r++){let n,a=e.sources[r];a.data?n=new vCe(a.data):a.quit_url?n=new bCe(a.quit_url):a.query_url&&(n=new YZ(a.query_url,a.update_url)),await n.initialize(),t.push(n)}return console.log("initialized"),t}},kD=Symbol.for("yaml.alias"),QI=Symbol.for("yaml.document"),Oo=Symbol.for("yaml.map"),ZZ=Symbol.for("yaml.pair"),Qs=Symbol.for("yaml.scalar"),Cd=Symbol.for("yaml.seq"),Zi=Symbol.for("yaml.node.type"),Ld=e=>!!e&&typeof e=="object"&&e[Zi]===kD,i2=e=>!!e&&typeof e=="object"&&e[Zi]===QI,Gb=e=>!!e&&typeof e=="object"&&e[Zi]===Oo,zr=e=>!!e&&typeof e=="object"&&e[Zi]===ZZ,xr=e=>!!e&&typeof e=="object"&&e[Zi]===Qs,Wb=e=>!!e&&typeof e=="object"&&e[Zi]===Cd;function Qr(e){if(e&&typeof e=="object")switch(e[Zi]){case Oo:case Cd:return!0}return!1}function Xr(e){if(e&&typeof e=="object")switch(e[Zi]){case kD:case Oo:case Qs:case Cd:return!0}return!1}const SCe=e=>(xr(e)||Qr(e))&&!!e.anchor,Lu=Symbol("break visit"),TCe=Symbol("skip children"),w_=Symbol("remove node");function fc(e,t){const r=ECe(t);i2(e)?ol(null,e.contents,r,Object.freeze([e]))===w_&&(e.contents=null):ol(null,e,r,Object.freeze([]))}fc.BREAK=Lu;fc.SKIP=TCe;fc.REMOVE=w_;function ol(e,t,r,n){const a=ACe(e,t,r,n);if(Xr(a)||zr(a))return OCe(e,n,a),ol(e,a,r,n);if(typeof a!="symbol"){if(Qr(t)){n=Object.freeze(n.concat(t));for(let s=0;s<t.items.length;++s){const o=ol(s,t.items[s],r,n);if(typeof o=="number")s=o-1;else{if(o===Lu)return Lu;o===w_&&(t.items.splice(s,1),s-=1)}}}else if(zr(t)){n=Object.freeze(n.concat(t));const s=ol("key",t.key,r,n);if(s===Lu)return Lu;s===w_&&(t.key=null);const o=ol("value",t.value,r,n);if(o===Lu)return Lu;o===w_&&(t.value=null)}}return a}function ECe(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function ACe(e,t,r,n){var a,s,o,u,l;if(typeof r=="function")return r(e,t,n);if(Gb(t))return(a=r.Map)==null?void 0:a.call(r,e,t,n);if(Wb(t))return(s=r.Seq)==null?void 0:s.call(r,e,t,n);if(zr(t))return(o=r.Pair)==null?void 0:o.call(r,e,t,n);if(xr(t))return(u=r.Scalar)==null?void 0:u.call(r,e,t,n);if(Ld(t))return(l=r.Alias)==null?void 0:l.call(r,e,t,n)}function OCe(e,t,r){const n=t[t.length-1];if(Qr(n))n.items[e]=r;else if(zr(n))e==="key"?n.key=r:n.value=r;else if(i2(n))n.contents=r;else{const a=Ld(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${a} parent`)}}const RCe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},xCe=e=>e.replace(/[!,[\]{}]/g,t=>RCe[t]);class Wn{constructor(t,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Wn.defaultYaml,t),this.tags=Object.assign({},Wn.defaultTags,r)}clone(){const t=new Wn(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Wn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Wn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Wn.defaultTags);break}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:Wn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Wn.defaultTags),this.atNextDocument=!1);const n=t.trim().split(/[ \t]+/),a=n.shift();switch(a){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[s,o]=n;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;const[s]=n;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{const o=/^\d+\.\d+$/.test(s);return r(6,`Unsupported YAML version ${s}`,o),!1}}default:return r(0,`Unknown directive ${a}`,!0),!1}}tagName(t,r){if(t==="!")return"!";if(t[0]!=="!")return r(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(r(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&r("Verbatim tags must end with a >"),o)}const[,n,a]=t.match(/^(.*!)([^!]*)$/s);a||r(`The ${t} tag has no suffix`);const s=this.tags[n];if(s)try{return s+decodeURIComponent(a)}catch(o){return r(String(o)),null}return n==="!"?t:(r(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+xCe(t.substring(n.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let a;if(t&&n.length>0&&Xr(t.contents)){const s={};fc(t.contents,(o,u)=>{Xr(u)&&u.tag&&(s[u.tag]=!0)}),a=Object.keys(s)}else a=[];for(const[s,o]of n)s==="!!"&&o==="tag:yaml.org,2002:"||(!t||a.some(u=>u.startsWith(o)))&&r.push(`%TAG ${s} ${o}`);return r.join(`
`)}}Wn.defaultYaml={explicit:!1,version:"1.2"};Wn.defaultTags={"!!":"tag:yaml.org,2002:"};function eee(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(r)}return!0}function tee(e){const t=new Set;return fc(e,{Value(r,n){n.anchor&&t.add(n.anchor)}}),t}function ree(e,t){for(let r=1;;++r){const n=`${e}${r}`;if(!t.has(n))return n}}function ICe(e,t){const r=[],n=new Map;let a=null;return{onAnchor:s=>{r.push(s),a||(a=tee(e));const o=ree(t,a);return a.add(o),o},setAnchors:()=>{for(const s of r){const o=n.get(s);if(typeof o=="object"&&o.anchor&&(xr(o.node)||Qr(o.node)))o.node.anchor=o.anchor;else{const u=new Error("Failed to resolve repeated object (this should not happen)");throw u.source=s,u}}},sourceObjects:n}}function ul(e,t,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let a=0,s=n.length;a<s;++a){const o=n[a],u=ul(e,n,String(a),o);u===void 0?delete n[a]:u!==o&&(n[a]=u)}else if(n instanceof Map)for(const a of Array.from(n.keys())){const s=n.get(a),o=ul(e,n,a,s);o===void 0?n.delete(a):o!==s&&n.set(a,o)}else if(n instanceof Set)for(const a of Array.from(n)){const s=ul(e,n,a,a);s===void 0?n.delete(a):s!==a&&(n.delete(a),n.add(s))}else for(const[a,s]of Object.entries(n)){const o=ul(e,n,a,s);o===void 0?delete n[a]:o!==s&&(n[a]=o)}return e.call(t,r,n)}function Ki(e,t,r){if(Array.isArray(e))return e.map((n,a)=>Ki(n,String(a),r));if(e&&typeof e.toJSON=="function"){if(!r||!SCe(e))return e.toJSON(t,r);const n={aliasCount:0,count:1,res:void 0};r.anchors.set(e,n),r.onCreate=s=>{n.res=s,delete r.onCreate};const a=e.toJSON(t,r);return r.onCreate&&r.onCreate(a),a}return typeof e=="bigint"&&!(r!=null&&r.keep)?Number(e):e}class VD{constructor(t){Object.defineProperty(this,Zi,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:r,maxAliasCount:n,onAnchor:a,reviver:s}={}){if(!i2(t))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:t,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},u=Ki(this,"",o);if(typeof a=="function")for(const{count:l,res:c}of o.anchors.values())a(c,l);return typeof s=="function"?ul(s,{"":u},"",u):u}}class HD extends VD{constructor(t){super(kD),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let r;return fc(t,{Node:(n,a)=>{if(a===this)return fc.BREAK;a.anchor===this.source&&(r=a)}}),r}toJSON(t,r){if(!r)return{source:this.source};const{anchors:n,doc:a,maxAliasCount:s}=r,o=this.resolve(a);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let u=n.get(o);if(u||(Ki(o,null,r),u=n.get(o)),!u||u.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(s>=0&&(u.count+=1,u.aliasCount===0&&(u.aliasCount=Vv(a,o,n)),u.count*u.aliasCount>s)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return u.res}toString(t,r,n){const a=`*${this.source}`;if(t){if(eee(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(t.implicitKey)return`${a} `}return a}}function Vv(e,t,r){if(Ld(t)){const n=t.resolve(e),a=r&&n&&r.get(n);return a?a.count*a.aliasCount:0}else if(Qr(t)){let n=0;for(const a of t.items){const s=Vv(e,a,r);s>n&&(n=s)}return n}else if(zr(t)){const n=Vv(e,t.key,r),a=Vv(e,t.value,r);return Math.max(n,a)}return 1}const nee=e=>!e||typeof e!="function"&&typeof e!="object";class qt extends VD{constructor(t){super(Qs),this.value=t}toJSON(t,r){return r!=null&&r.keep?this.value:Ki(this.value,t,r)}toString(){return String(this.value)}}qt.BLOCK_FOLDED="BLOCK_FOLDED";qt.BLOCK_LITERAL="BLOCK_LITERAL";qt.PLAIN="PLAIN";qt.QUOTE_DOUBLE="QUOTE_DOUBLE";qt.QUOTE_SINGLE="QUOTE_SINGLE";const PCe="tag:yaml.org,2002:";function NCe(e,t,r){if(t){const n=r.filter(s=>s.tag===t),a=n.find(s=>!s.format)??n[0];if(!a)throw new Error(`Tag ${t} not found`);return a}return r.find(n=>{var a;return((a=n.identify)==null?void 0:a.call(n,e))&&!n.format})}function G_(e,t,r){var f,h,p;if(i2(e)&&(e=e.contents),Xr(e))return e;if(zr(e)){const m=(h=(f=r.schema[Oo]).createNode)==null?void 0:h.call(f,r.schema,null,r);return m.items.push(e),m}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:n,onAnchor:a,onTagObj:s,schema:o,sourceObjects:u}=r;let l;if(n&&e&&typeof e=="object"){if(l=u.get(e),l)return l.anchor||(l.anchor=a(e)),new HD(l.anchor);l={anchor:null,node:null},u.set(e,l)}t!=null&&t.startsWith("!!")&&(t=PCe+t.slice(2));let c=NCe(e,t,o.tags);if(!c){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const m=new qt(e);return l&&(l.node=m),m}c=e instanceof Map?o[Oo]:Symbol.iterator in Object(e)?o[Cd]:o[Oo]}s&&(s(c),delete r.onTagObj);const d=c!=null&&c.createNode?c.createNode(r.schema,e,r):typeof((p=c==null?void 0:c.nodeClass)==null?void 0:p.from)=="function"?c.nodeClass.from(r.schema,e,r):new qt(e);return t?d.tag=t:c.default||(d.tag=c.tag),l&&(l.node=d),d}function Sw(e,t,r){let n=r;for(let a=t.length-1;a>=0;--a){const s=t[a];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const o=[];o[s]=n,n=o}else n=new Map([[s,n]])}return G_(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const a_=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class iee extends VD{constructor(t,r){super(t),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){const r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(n=>Xr(n)||zr(n)?n.clone(t):n),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(a_(t))this.add(r);else{const[n,...a]=t,s=this.get(n,!0);if(Qr(s))s.addIn(a,r);else if(s===void 0&&this.schema)this.set(n,Sw(this.schema,a,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${a}`)}}deleteIn(t){const[r,...n]=t;if(n.length===0)return this.delete(r);const a=this.get(r,!0);if(Qr(a))return a.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(t,r){const[n,...a]=t,s=this.get(n,!0);return a.length===0?!r&&xr(s)?s.value:s:Qr(s)?s.getIn(a,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!zr(r))return!1;const n=r.value;return n==null||t&&xr(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){const[r,...n]=t;if(n.length===0)return this.has(r);const a=this.get(r,!0);return Qr(a)?a.hasIn(n):!1}setIn(t,r){const[n,...a]=t;if(a.length===0)this.set(n,r);else{const s=this.get(n,!0);if(Qr(s))s.setIn(a,r);else if(s===void 0&&this.schema)this.set(n,Sw(this.schema,a,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${a}`)}}}const DCe=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Ds(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Gu=(e,t,r)=>e.endsWith(`
`)?Ds(r,t):r.includes(`
`)?`
`+Ds(r,t):(e.endsWith(" ")?"":" ")+r,aee="flow",zI="block",Hv="quoted";function a2(e,t,r="flow",{indentAtStart:n,lineWidth:a=80,minContentWidth:s=20,onFold:o,onOverflow:u}={}){if(!a||a<0)return e;a<s&&(s=0);const l=Math.max(1+s,1+a-t.length);if(e.length<=l)return e;const c=[],d={};let f=a-t.length;typeof n=="number"&&(n>a-Math.max(2,s)?c.push(0):f=a-n);let h,p,m=!1,y=-1,g=-1,b=-1;r===zI&&(y=sQ(e,y,t.length),y!==-1&&(f=y+l));for(let _;_=e[y+=1];){if(r===Hv&&_==="\\"){switch(g=y,e[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}b=y}if(_===`
`)r===zI&&(y=sQ(e,y,t.length)),f=y+t.length+l,h=void 0;else{if(_===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){const w=e[y+1];w&&w!==" "&&w!==`
`&&w!=="	"&&(h=y)}if(y>=f)if(h)c.push(h),f=h+l,h=void 0;else if(r===Hv){for(;p===" "||p==="	";)p=_,_=e[y+=1],m=!0;const w=y>b+1?y-2:g-1;if(d[w])return e;c.push(w),d[w]=!0,f=w+l,h=void 0}else m=!0}p=_}if(m&&u&&u(),c.length===0)return e;o&&o();let v=e.slice(0,c[0]);for(let _=0;_<c.length;++_){const w=c[_],S=c[_+1]||e.length;w===0?v=`
${t}${e.slice(0,S)}`:(r===Hv&&d[w]&&(v+=`${e[w]}\\`),v+=`
${t}${e.slice(w+1,S)}`)}return v}function sQ(e,t,r){let n=t,a=t+1,s=e[a];for(;s===" "||s==="	";)if(t<a+r)s=e[++t];else{do s=e[++t];while(s&&s!==`
`);n=t,a=t+1,s=e[a]}return n}const s2=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),o2=e=>/^(%|---|\.\.\.)/m.test(e);function CCe(e,t,r){if(!t||t<0)return!1;const n=t-r,a=e.length;if(a<=n)return!1;for(let s=0,o=0;s<a;++s)if(e[s]===`
`){if(s-o>n)return!0;if(o=s+1,a-o<=n)return!1}return!0}function S_(e,t){const r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;const{implicitKey:n}=t,a=t.options.doubleQuotedMinMultiLineLength,s=t.indent||(o2(e)?"  ":"");let o="",u=0;for(let l=0,c=r[l];c;c=r[++l])if(c===" "&&r[l+1]==="\\"&&r[l+2]==="n"&&(o+=r.slice(u,l)+"\\ ",l+=1,u=l,c="\\"),c==="\\")switch(r[l+1]){case"u":{o+=r.slice(u,l);const d=r.substr(l+2,4);switch(d){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:d.substr(0,2)==="00"?o+="\\x"+d.substr(2):o+=r.substr(l,6)}l+=5,u=l+1}break;case"n":if(n||r[l+2]==='"'||r.length<a)l+=1;else{for(o+=r.slice(u,l)+`

`;r[l+2]==="\\"&&r[l+3]==="n"&&r[l+4]!=='"';)o+=`
`,l+=2;o+=s,r[l+2]===" "&&(o+="\\"),l+=1,u=l+1}break;default:l+=1}return o=u?o+r.slice(u):r,n?o:a2(o,s,Hv,s2(t,!1))}function GI(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return S_(e,t);const r=t.indent||(o2(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return t.implicitKey?n:a2(n,r,aee,s2(t,!1))}function cl(e,t){const{singleQuote:r}=t.options;let n;if(r===!1)n=S_;else{const a=e.includes('"'),s=e.includes("'");a&&!s?n=GI:s&&!a?n=S_:n=r?GI:S_}return n(e,t)}let WI;try{WI=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{WI=/\n+(?!\n|$)/g}function Qv({comment:e,type:t,value:r},n,a,s){const{blockQuote:o,commentString:u,lineWidth:l}=n.options;if(!o||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return cl(r,n);const c=n.indent||(n.forceBlockIndent||o2(r)?"  ":""),d=o==="literal"?!0:o==="folded"||t===qt.BLOCK_FOLDED?!1:t===qt.BLOCK_LITERAL?!0:!CCe(r,l,c.length);if(!r)return d?`|
`:`>
`;let f,h;for(h=r.length;h>0;--h){const E=r[h-1];if(E!==`
`&&E!=="	"&&E!==" ")break}let p=r.substring(h);const m=p.indexOf(`
`);m===-1?f="-":r===p||m!==p.length-1?(f="+",s&&s()):f="",p&&(r=r.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(WI,`$&${c}`));let y=!1,g,b=-1;for(g=0;g<r.length;++g){const E=r[g];if(E===" ")y=!0;else if(E===`
`)b=g;else break}let v=r.substring(0,b<g?b+1:g);v&&(r=r.substring(v.length),v=v.replace(/\n+/g,`$&${c}`));let w=(d?"|":">")+(y?c?"2":"1":"")+f;if(e&&(w+=" "+u(e.replace(/ ?[\r\n]+/g," ")),a&&a()),d)return r=r.replace(/\n+/g,`$&${c}`),`${w}
${c}${v}${r}${p}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const S=a2(`${v}${r}${p}`,c,zI,s2(n,!0));return`${w}
${c}${S}`}function LCe(e,t,r,n){const{type:a,value:s}=e,{actualString:o,implicitKey:u,indent:l,indentStep:c,inFlow:d}=t;if(u&&s.includes(`
`)||d&&/[[\]{},]/.test(s))return cl(s,t);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return u||d||!s.includes(`
`)?cl(s,t):Qv(e,t,r,n);if(!u&&!d&&a!==qt.PLAIN&&s.includes(`
`))return Qv(e,t,r,n);if(o2(s)){if(l==="")return t.forceBlockIndent=!0,Qv(e,t,r,n);if(u&&l===c)return cl(s,t)}const f=s.replace(/\n+/g,`$&
${l}`);if(o){const h=y=>{var g;return y.default&&y.tag!=="tag:yaml.org,2002:str"&&((g=y.test)==null?void 0:g.test(f))},{compat:p,tags:m}=t.doc.schema;if(m.some(h)||p!=null&&p.some(h))return cl(s,t)}return u?f:a2(f,l,aee,s2(t,!1))}function QD(e,t,r,n){const{implicitKey:a,inFlow:s}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:u}=e;u!==qt.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(u=qt.QUOTE_DOUBLE);const l=d=>{switch(d){case qt.BLOCK_FOLDED:case qt.BLOCK_LITERAL:return a||s?cl(o.value,t):Qv(o,t,r,n);case qt.QUOTE_DOUBLE:return S_(o.value,t);case qt.QUOTE_SINGLE:return GI(o.value,t);case qt.PLAIN:return LCe(o,t,r,n);default:return null}};let c=l(u);if(c===null){const{defaultKeyType:d,defaultStringType:f}=t.options,h=a&&d||f;if(c=l(h),c===null)throw new Error(`Unsupported default string type ${h}`)}return c}function see(e,t){const r=Object.assign({blockQuote:!0,commentString:DCe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function jCe(e,t){var a;if(t.tag){const s=e.filter(o=>o.tag===t.tag);if(s.length>0)return s.find(o=>o.format===t.format)??s[0]}let r,n;if(xr(t)){n=t.value;const s=e.filter(o=>{var u;return(u=o.identify)==null?void 0:u.call(o,n)});r=s.find(o=>o.format===t.format)??s.find(o=>!o.format)}else n=t,r=e.find(s=>s.nodeClass&&n instanceof s.nodeClass);if(!r){const s=((a=n==null?void 0:n.constructor)==null?void 0:a.name)??typeof n;throw new Error(`Tag not resolved for ${s} value`)}return r}function MCe(e,t,{anchors:r,doc:n}){if(!n.directives)return"";const a=[],s=(xr(e)||Qr(e))&&e.anchor;s&&eee(s)&&(r.add(s),a.push(`&${s}`));const o=e.tag?e.tag:t.default?null:t.tag;return o&&a.push(n.directives.tagString(o)),a.join(" ")}function Zl(e,t,r,n){var l;if(zr(e))return e.toString(t,r,n);if(Ld(e)){if(t.doc.directives)return e.toString(t);if((l=t.resolvedAliases)!=null&&l.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let a;const s=Xr(e)?e:t.doc.createNode(e,{onTagObj:c=>a=c});a||(a=jCe(t.doc.schema.tags,s));const o=MCe(s,a,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const u=typeof a.stringify=="function"?a.stringify(s,t,r,n):xr(s)?QD(s,t,r,n):s.toString(t,r,n);return o?xr(s)||u[0]==="{"||u[0]==="["?`${o} ${u}`:`${o}
${t.indent}${u}`:u}function FCe({key:e,value:t},r,n,a){const{allNullValues:s,doc:o,indent:u,indentStep:l,options:{commentString:c,indentSeq:d,simpleKeys:f}}=r;let h=Xr(e)&&e.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(Qr(e)||!Xr(e)&&typeof e=="object"){const x="With simple keys, collection cannot be used as a key value";throw new Error(x)}}let p=!f&&(!e||h&&t==null&&!r.inFlow||Qr(e)||(xr(e)?e.type===qt.BLOCK_FOLDED||e.type===qt.BLOCK_LITERAL:typeof e=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!p&&(f||!s),indent:u+l});let m=!1,y=!1,g=Zl(e,r,()=>m=!0,()=>y=!0);if(!p&&!r.inFlow&&g.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(r.inFlow){if(s||t==null)return m&&n&&n(),g===""?"?":p?`? ${g}`:g}else if(s&&!f||t==null&&p)return g=`? ${g}`,h&&!m?g+=Gu(g,r.indent,c(h)):y&&a&&a(),g;m&&(h=null),p?(h&&(g+=Gu(g,r.indent,c(h))),g=`? ${g}
${u}:`):(g=`${g}:`,h&&(g+=Gu(g,r.indent,c(h))));let b,v,_;Xr(t)?(b=!!t.spaceBefore,v=t.commentBefore,_=t.comment):(b=!1,v=null,_=null,t&&typeof t=="object"&&(t=o.createNode(t))),r.implicitKey=!1,!p&&!h&&xr(t)&&(r.indentAtStart=g.length+1),y=!1,!d&&l.length>=2&&!r.inFlow&&!p&&Wb(t)&&!t.flow&&!t.tag&&!t.anchor&&(r.indent=r.indent.substring(2));let w=!1;const S=Zl(t,r,()=>w=!0,()=>y=!0);let E=" ";if(h||b||v){if(E=b?`
`:"",v){const x=c(v);E+=`
${Ds(x,r.indent)}`}S===""&&!r.inFlow?E===`
`&&(E=`

`):E+=`
${r.indent}`}else if(!p&&Qr(t)){const x=S[0],C=S.indexOf(`
`),I=C!==-1,P=r.inFlow??t.flow??t.items.length===0;if(I||!P){let L=!1;if(I&&(x==="&"||x==="!")){let D=S.indexOf(" ");x==="&"&&D!==-1&&D<C&&S[D+1]==="!"&&(D=S.indexOf(" ",D+1)),(D===-1||C<D)&&(L=!0)}L||(E=`
${r.indent}`)}}else(S===""||S[0]===`
`)&&(E="");return g+=E+S,r.inFlow?w&&n&&n():_&&!w?g+=Gu(g,r.indent,c(_)):y&&a&&a(),g}function oee(e,t){(e==="debug"||e==="warn")&&(typeof qs<"u"&&qs.emitWarning?qs.emitWarning(t):console.warn(t))}const oQ="<<";function uee(e,t,{key:r,value:n}){if(e!=null&&e.doc.schema.merge&&qCe(r))if(n=Ld(n)?n.resolve(e.doc):n,Wb(n))for(const a of n.items)ix(e,t,a);else if(Array.isArray(n))for(const a of n)ix(e,t,a);else ix(e,t,n);else{const a=Ki(r,"",e);if(t instanceof Map)t.set(a,Ki(n,a,e));else if(t instanceof Set)t.add(a);else{const s=BCe(r,a,e),o=Ki(n,s,e);s in t?Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[s]=o}}return t}const qCe=e=>e===oQ||xr(e)&&e.value===oQ&&(!e.type||e.type===qt.PLAIN);function ix(e,t,r){const n=e&&Ld(r)?r.resolve(e.doc):r;if(!Gb(n))throw new Error("Merge sources must be maps or map aliases");const a=n.toJSON(null,e,Map);for(const[s,o]of a)t instanceof Map?t.has(s)||t.set(s,o):t instanceof Set?t.add(s):Object.prototype.hasOwnProperty.call(t,s)||Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function BCe(e,t,r){if(t===null)return"";if(typeof t!="object")return String(t);if(Xr(e)&&(r!=null&&r.doc)){const n=see(r.doc,{});n.anchors=new Set;for(const s of r.anchors.keys())n.anchors.add(s.anchor);n.inFlow=!0,n.inStringifyKey=!0;const a=e.toString(n);if(!r.mapKeyWarned){let s=JSON.stringify(a);s.length>40&&(s=s.substring(0,36)+'..."'),oee(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return a}return JSON.stringify(t)}function zD(e,t,r){const n=G_(e,void 0,r),a=G_(t,void 0,r);return new ei(n,a)}class ei{constructor(t,r=null){Object.defineProperty(this,Zi,{value:ZZ}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return Xr(r)&&(r=r.clone(t)),Xr(n)&&(n=n.clone(t)),new ei(r,n)}toJSON(t,r){const n=r!=null&&r.mapAsMap?new Map:{};return uee(r,n,this)}toString(t,r,n){return t!=null&&t.doc?FCe(this,t,r,n):JSON.stringify(this)}}function cee(e,t,r){return(t.inFlow??e.flow?UCe:$Ce)(e,t,r)}function $Ce({comment:e,items:t},r,{blockItemPrefix:n,flowChars:a,itemIndent:s,onChompKeep:o,onComment:u}){const{indent:l,options:{commentString:c}}=r,d=Object.assign({},r,{indent:s,type:null});let f=!1;const h=[];for(let m=0;m<t.length;++m){const y=t[m];let g=null;if(Xr(y))!f&&y.spaceBefore&&h.push(""),Tw(r,h,y.commentBefore,f),y.comment&&(g=y.comment);else if(zr(y)){const v=Xr(y.key)?y.key:null;v&&(!f&&v.spaceBefore&&h.push(""),Tw(r,h,v.commentBefore,f))}f=!1;let b=Zl(y,d,()=>g=null,()=>f=!0);g&&(b+=Gu(b,s,c(g))),f&&g&&(f=!1),h.push(n+b)}let p;if(h.length===0)p=a.start+a.end;else{p=h[0];for(let m=1;m<h.length;++m){const y=h[m];p+=y?`
${l}${y}`:`
`}}return e?(p+=`
`+Ds(c(e),l),u&&u()):f&&o&&o(),p}function UCe({items:e},t,{flowChars:r,itemIndent:n}){const{indent:a,indentStep:s,flowCollectionPadding:o,options:{commentString:u}}=t;n+=s;const l=Object.assign({},t,{indent:n,inFlow:!0,type:null});let c=!1,d=0;const f=[];for(let m=0;m<e.length;++m){const y=e[m];let g=null;if(Xr(y))y.spaceBefore&&f.push(""),Tw(t,f,y.commentBefore,!1),y.comment&&(g=y.comment);else if(zr(y)){const v=Xr(y.key)?y.key:null;v&&(v.spaceBefore&&f.push(""),Tw(t,f,v.commentBefore,!1),v.comment&&(c=!0));const _=Xr(y.value)?y.value:null;_?(_.comment&&(g=_.comment),_.commentBefore&&(c=!0)):y.value==null&&(v!=null&&v.comment)&&(g=v.comment)}g&&(c=!0);let b=Zl(y,l,()=>g=null);m<e.length-1&&(b+=","),g&&(b+=Gu(b,n,u(g))),!c&&(f.length>d||b.includes(`
`))&&(c=!0),f.push(b),d=f.length}const{start:h,end:p}=r;if(f.length===0)return h+p;if(!c){const m=f.reduce((y,g)=>y+g.length+2,2);c=t.options.lineWidth>0&&m>t.options.lineWidth}if(c){let m=h;for(const y of f)m+=y?`
${s}${a}${y}`:`
`;return`${m}
${a}${p}`}else return`${h}${o}${f.join(" ")}${o}${p}`}function Tw({indent:e,options:{commentString:t}},r,n,a){if(n&&a&&(n=n.replace(/^\n+/,"")),n){const s=Ds(t(n),e);r.push(s.trimStart())}}function Wu(e,t){const r=xr(t)?t.value:t;for(const n of e)if(zr(n)&&(n.key===t||n.key===r||xr(n.key)&&n.key.value===r))return n}class ki extends iee{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Oo,t),this.items=[]}static from(t,r,n){const{keepUndefined:a,replacer:s}=n,o=new this(t),u=(l,c)=>{if(typeof s=="function")c=s.call(r,l,c);else if(Array.isArray(s)&&!s.includes(l))return;(c!==void 0||a)&&o.items.push(zD(l,c,n))};if(r instanceof Map)for(const[l,c]of r)u(l,c);else if(r&&typeof r=="object")for(const l of Object.keys(r))u(l,r[l]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,r){var o;let n;zr(t)?n=t:!t||typeof t!="object"||!("key"in t)?n=new ei(t,t==null?void 0:t.value):n=new ei(t.key,t.value);const a=Wu(this.items,n.key),s=(o=this.schema)==null?void 0:o.sortMapEntries;if(a){if(!r)throw new Error(`Key ${n.key} already set`);xr(a.value)&&nee(n.value)?a.value.value=n.value:a.value=n.value}else if(s){const u=this.items.findIndex(l=>s(n,l)<0);u===-1?this.items.push(n):this.items.splice(u,0,n)}else this.items.push(n)}delete(t){const r=Wu(this.items,t);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(t,r){const n=Wu(this.items,t),a=n==null?void 0:n.value;return(!r&&xr(a)?a.value:a)??void 0}has(t){return!!Wu(this.items,t)}set(t,r){this.add(new ei(t,r),!0)}toJSON(t,r,n){const a=n?new n:r!=null&&r.mapAsMap?new Map:{};r!=null&&r.onCreate&&r.onCreate(a);for(const s of this.items)uee(r,a,s);return a}toString(t,r,n){if(!t)return JSON.stringify(this);for(const a of this.items)if(!zr(a))throw new Error(`Map items must all be pairs; found ${JSON.stringify(a)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),cee(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}}const jd={collection:"map",default:!0,nodeClass:ki,tag:"tag:yaml.org,2002:map",resolve(e,t){return Gb(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,r)=>ki.from(e,t,r)};class hc extends iee{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Cd,t),this.items=[]}add(t){this.items.push(t)}delete(t){const r=lv(t);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(t,r){const n=lv(t);if(typeof n!="number")return;const a=this.items[n];return!r&&xr(a)?a.value:a}has(t){const r=lv(t);return typeof r=="number"&&r<this.items.length}set(t,r){const n=lv(t);if(typeof n!="number")throw new Error(`Expected a valid index, not ${t}.`);const a=this.items[n];xr(a)&&nee(r)?a.value=r:this.items[n]=r}toJSON(t,r){const n=[];r!=null&&r.onCreate&&r.onCreate(n);let a=0;for(const s of this.items)n.push(Ki(s,String(a++),r));return n}toString(t,r,n){return t?cee(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(t,r,n){const{replacer:a}=n,s=new this(t);if(r&&Symbol.iterator in Object(r)){let o=0;for(let u of r){if(typeof a=="function"){const l=r instanceof Set?u:String(o++);u=a.call(r,l,u)}s.items.push(G_(u,void 0,n))}}return s}}function lv(e){let t=xr(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const Md={collection:"seq",default:!0,nodeClass:hc,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Wb(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,r)=>hc.from(e,t,r)},u2={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,r,n){return t=Object.assign({actualString:!0},t),QD(e,t,r,n)}},c2={identify:e=>e==null,createNode:()=>new qt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new qt(null),stringify:({source:e},t)=>typeof e=="string"&&c2.test.test(e)?e:t.options.nullStr},GD={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new qt(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},r){if(e&&GD.test.test(e)){const n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?r.options.trueStr:r.options.falseStr}};function wa({format:e,minFractionDigits:t,tag:r,value:n}){if(typeof n=="bigint")return String(n);const a=typeof n=="number"?n:Number(n);if(!isFinite(a))return isNaN(a)?".nan":a<0?"-.inf":".inf";let s=JSON.stringify(n);if(!e&&t&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let u=t-(s.length-o-1);for(;u-- >0;)s+="0"}return s}const lee={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:wa},dee={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():wa(e)}},fee={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new qt(parseFloat(e)),r=e.indexOf(".");return r!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-r-1),t},stringify:wa},l2=e=>typeof e=="bigint"||Number.isInteger(e),WD=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function hee(e,t,r){const{value:n}=e;return l2(n)&&n>=0?r+n.toString(t):wa(e)}const pee={identify:e=>l2(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>WD(e,2,8,r),stringify:e=>hee(e,8,"0o")},yee={identify:l2,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>WD(e,0,10,r),stringify:wa},mee={identify:e=>l2(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>WD(e,2,16,r),stringify:e=>hee(e,16,"0x")},kCe=[jd,Md,u2,c2,GD,pee,yee,mee,lee,dee,fee];function uQ(e){return typeof e=="bigint"||Number.isInteger(e)}const dv=({value:e})=>JSON.stringify(e),VCe=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:dv},{identify:e=>e==null,createNode:()=>new qt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:dv},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:dv},{identify:uQ,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>uQ(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:dv}],HCe={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},QCe=[jd,Md].concat(VCe,HCe),KD={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Ui=="function")return Ui.from(e,"base64");if(typeof atob=="function"){const r=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let a=0;a<r.length;++a)n[a]=r.charCodeAt(a);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:r},n,a,s){const o=r;let u;if(typeof Ui=="function")u=o instanceof Ui?o.toString("base64"):Ui.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);u=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=qt.BLOCK_LITERAL),t!==qt.QUOTE_DOUBLE){const l=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),c=Math.ceil(u.length/l),d=new Array(c);for(let f=0,h=0;f<c;++f,h+=l)d[f]=u.substr(h,l);u=d.join(t===qt.BLOCK_LITERAL?`
`:" ")}return QD({comment:e,type:t,value:u},n,a,s)}};function gee(e,t){if(Wb(e))for(let r=0;r<e.items.length;++r){let n=e.items[r];if(!zr(n)){if(Gb(n)){n.items.length>1&&t("Each pair must have its own sequence indicator");const a=n.items[0]||new ei(new qt(null));if(n.commentBefore&&(a.key.commentBefore=a.key.commentBefore?`${n.commentBefore}
${a.key.commentBefore}`:n.commentBefore),n.comment){const s=a.value??a.key;s.comment=s.comment?`${n.comment}
${s.comment}`:n.comment}n=a}e.items[r]=zr(n)?n:new ei(n)}}else t("Expected a sequence for this tag");return e}function _ee(e,t,r){const{replacer:n}=r,a=new hc(e);a.tag="tag:yaml.org,2002:pairs";let s=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof n=="function"&&(o=n.call(t,String(s++),o));let u,l;if(Array.isArray(o))if(o.length===2)u=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)u=c[0],l=o[u];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else u=o;a.items.push(zD(u,l,r))}return a}const JD={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:gee,createNode:_ee};class Rl extends hc{constructor(){super(),this.add=ki.prototype.add.bind(this),this.delete=ki.prototype.delete.bind(this),this.get=ki.prototype.get.bind(this),this.has=ki.prototype.has.bind(this),this.set=ki.prototype.set.bind(this),this.tag=Rl.tag}toJSON(t,r){if(!r)return super.toJSON(t);const n=new Map;r!=null&&r.onCreate&&r.onCreate(n);for(const a of this.items){let s,o;if(zr(a)?(s=Ki(a.key,"",r),o=Ki(a.value,s,r)):s=Ki(a,"",r),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,o)}return n}static from(t,r,n){const a=_ee(t,r,n),s=new this;return s.items=a.items,s}}Rl.tag="tag:yaml.org,2002:omap";const XD={collection:"seq",identify:e=>e instanceof Map,nodeClass:Rl,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const r=gee(e,t),n=[];for(const{key:a}of r.items)xr(a)&&(n.includes(a.value)?t(`Ordered maps must not include duplicate keys: ${a.value}`):n.push(a.value));return Object.assign(new Rl,r)},createNode:(e,t,r)=>Rl.from(e,t,r)};function bee({value:e,source:t},r){return t&&(e?vee:wee).test.test(t)?t:e?r.options.trueStr:r.options.falseStr}const vee={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new qt(!0),stringify:bee},wee={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new qt(!1),stringify:bee},zCe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:wa},GCe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():wa(e)}},WCe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new qt(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(r!==-1){const n=e.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:wa},Kb=e=>typeof e=="bigint"||Number.isInteger(e);function d2(e,t,r,{intAsBigInt:n}){const a=e[0];if((a==="-"||a==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return a==="-"?BigInt(-1)*o:o}const s=parseInt(e,r);return a==="-"?-1*s:s}function YD(e,t,r){const{value:n}=e;if(Kb(n)){const a=n.toString(t);return n<0?"-"+r+a.substr(1):r+a}return wa(e)}const KCe={identify:Kb,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>d2(e,2,2,r),stringify:e=>YD(e,2,"0b")},JCe={identify:Kb,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>d2(e,1,8,r),stringify:e=>YD(e,8,"0")},XCe={identify:Kb,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>d2(e,0,10,r),stringify:wa},YCe={identify:Kb,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>d2(e,2,16,r),stringify:e=>YD(e,16,"0x")};class xl extends ki{constructor(t){super(t),this.tag=xl.tag}add(t){let r;zr(t)?r=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?r=new ei(t.key,null):r=new ei(t,null),Wu(this.items,r.key)||this.items.push(r)}get(t,r){const n=Wu(this.items,t);return!r&&zr(n)?xr(n.key)?n.key.value:n.key:n}set(t,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);const n=Wu(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new ei(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}static from(t,r,n){const{replacer:a}=n,s=new this(t);if(r&&Symbol.iterator in Object(r))for(let o of r)typeof a=="function"&&(o=a.call(r,o,o)),s.items.push(zD(o,null,n));return s}}xl.tag="tag:yaml.org,2002:set";const ZD={collection:"map",identify:e=>e instanceof Set,nodeClass:xl,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,r)=>xl.from(e,t,r),resolve(e,t){if(Gb(e)){if(e.hasAllNullValues(!0))return Object.assign(new xl,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function eC(e,t){const r=e[0],n=r==="-"||r==="+"?e.substring(1):e,a=o=>t?BigInt(o):Number(o),s=n.replace(/_/g,"").split(":").reduce((o,u)=>o*a(60)+a(u),a(0));return r==="-"?a(-1)*s:s}function See(e){let{value:t}=e,r=o=>o;if(typeof t=="bigint")r=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return wa(e);let n="";t<0&&(n="-",t*=r(-1));const a=r(60),s=[t%a];return t<60?s.unshift(0):(t=(t-s[0])/a,s.unshift(t%a),t>=60&&(t=(t-s[0])/a,s.unshift(t))),n+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Tee={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>eC(e,r),stringify:See},Eee={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>eC(e,!1),stringify:See},f2={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(f2.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,r,n,a,s,o,u]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let c=Date.UTC(r,n-1,a,s||0,o||0,u||0,l);const d=t[8];if(d&&d!=="Z"){let f=eC(d,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},cQ=[jd,Md,u2,c2,vee,wee,KCe,JCe,XCe,YCe,zCe,GCe,WCe,KD,XD,JD,ZD,Tee,Eee,f2],lQ=new Map([["core",kCe],["failsafe",[jd,Md,u2]],["json",QCe],["yaml11",cQ],["yaml-1.1",cQ]]),dQ={binary:KD,bool:GD,float:fee,floatExp:dee,floatNaN:lee,floatTime:Eee,int:yee,intHex:mee,intOct:pee,intTime:Tee,map:jd,null:c2,omap:XD,pairs:JD,seq:Md,set:ZD,timestamp:f2},ZCe={"tag:yaml.org,2002:binary":KD,"tag:yaml.org,2002:omap":XD,"tag:yaml.org,2002:pairs":JD,"tag:yaml.org,2002:set":ZD,"tag:yaml.org,2002:timestamp":f2};function ax(e,t){let r=lQ.get(t);if(!r)if(Array.isArray(e))r=[];else{const n=Array.from(lQ.keys()).filter(a=>a!=="yaml11").map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${n} or define customTags array`)}if(Array.isArray(e))for(const n of e)r=r.concat(n);else typeof e=="function"&&(r=e(r.slice()));return r.map(n=>{if(typeof n!="string")return n;const a=dQ[n];if(a)return a;const s=Object.keys(dQ).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${s}`)})}const e4e=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class tC{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:a,schema:s,sortMapEntries:o,toStringDefaults:u}){this.compat=Array.isArray(t)?ax(t,"compat"):t?ax(null,t):null,this.merge=!!n,this.name=typeof s=="string"&&s||"core",this.knownTags=a?ZCe:{},this.tags=ax(r,this.name),this.toStringOptions=u??null,Object.defineProperty(this,Oo,{value:jd}),Object.defineProperty(this,Qs,{value:u2}),Object.defineProperty(this,Cd,{value:Md}),this.sortMapEntries=typeof o=="function"?o:o===!0?e4e:null}clone(){const t=Object.create(tC.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function t4e(e,t){var l;const r=[];let n=t.directives===!0;if(t.directives!==!1&&e.directives){const c=e.directives.toString(e);c?(r.push(c),n=!0):e.directives.docStart&&(n=!0)}n&&r.push("---");const a=see(e,t),{commentString:s}=a.options;if(e.commentBefore){r.length!==1&&r.unshift("");const c=s(e.commentBefore);r.unshift(Ds(c,""))}let o=!1,u=null;if(e.contents){if(Xr(e.contents)){if(e.contents.spaceBefore&&n&&r.push(""),e.contents.commentBefore){const f=s(e.contents.commentBefore);r.push(Ds(f,""))}a.forceBlockIndent=!!e.comment,u=e.contents.comment}const c=u?void 0:()=>o=!0;let d=Zl(e.contents,a,()=>u=null,c);u&&(d+=Gu(d,"",s(u))),(d[0]==="|"||d[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${d}`:r.push(d)}else r.push(Zl(e.contents,a));if((l=e.directives)!=null&&l.docEnd)if(e.comment){const c=s(e.comment);c.includes(`
`)?(r.push("..."),r.push(Ds(c,""))):r.push(`... ${c}`)}else r.push("...");else{let c=e.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||u)&&r[r.length-1]!==""&&r.push(""),r.push(Ds(s(c),"")))}return r.join(`
`)+`
`}class h2{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Zi,{value:QI});let a=null;typeof r=="function"||Array.isArray(r)?a=r:n===void 0&&r&&(n=r,r=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=s;let{version:o}=s;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Wn({version:o}),this.setSchema(o,n),this.contents=t===void 0?null:this.createNode(t,a,n)}clone(){const t=Object.create(h2.prototype,{[Zi]:{value:QI}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Xr(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Wc(this.contents)&&this.contents.add(t)}addIn(t,r){Wc(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){const n=tee(this);t.anchor=!r||n.has(r)?ree(r||"a",n):r}return new HD(t.anchor)}createNode(t,r,n){let a;if(typeof r=="function")t=r.call({"":t},"",t),a=r;else if(Array.isArray(r)){const g=v=>typeof v=="number"||v instanceof String||v instanceof Number,b=r.filter(g).map(String);b.length>0&&(r=r.concat(b)),a=r}else n===void 0&&r&&(n=r,r=void 0);const{aliasDuplicateObjects:s,anchorPrefix:o,flow:u,keepUndefined:l,onTagObj:c,tag:d}=n??{},{onAnchor:f,setAnchors:h,sourceObjects:p}=ICe(this,o||"a"),m={aliasDuplicateObjects:s??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:a,schema:this.schema,sourceObjects:p},y=G_(t,d,m);return u&&Qr(y)&&(y.flow=!0),h(),y}createPair(t,r,n={}){const a=this.createNode(t,null,n),s=this.createNode(r,null,n);return new ei(a,s)}delete(t){return Wc(this.contents)?this.contents.delete(t):!1}deleteIn(t){return a_(t)?this.contents==null?!1:(this.contents=null,!0):Wc(this.contents)?this.contents.deleteIn(t):!1}get(t,r){return Qr(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return a_(t)?!r&&xr(this.contents)?this.contents.value:this.contents:Qr(this.contents)?this.contents.getIn(t,r):void 0}has(t){return Qr(this.contents)?this.contents.has(t):!1}hasIn(t){return a_(t)?this.contents!==void 0:Qr(this.contents)?this.contents.hasIn(t):!1}set(t,r){this.contents==null?this.contents=Sw(this.schema,[t],r):Wc(this.contents)&&this.contents.set(t,r)}setIn(t,r){a_(t)?this.contents=r:this.contents==null?this.contents=Sw(this.schema,Array.from(t),r):Wc(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Wn({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Wn({version:t}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const a=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${a}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new tC(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:a,onAnchor:s,reviver:o}={}){const u={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof a=="number"?a:100},l=Ki(this.contents,r??"",u);if(typeof s=="function")for(const{count:c,res:d}of u.anchors.values())s(d,c);return typeof o=="function"?ul(o,{"":l},"",l):l}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const r=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return t4e(this,t)}}function Wc(e){if(Qr(e))return!0;throw new Error("Expected a YAML collection as document contents")}class Aee extends Error{constructor(t,r,n,a){super(),this.name=t,this.code=n,this.message=a,this.pos=r}}class s_ extends Aee{constructor(t,r,n){super("YAMLParseError",t,r,n)}}class r4e extends Aee{constructor(t,r,n){super("YAMLWarning",t,r,n)}}const fQ=(e,t)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(u=>t.linePos(u));const{line:n,col:a}=r.linePos[0];r.message+=` at line ${n}, column ${a}`;let s=a-1,o=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){const u=Math.min(s-39,o.length-79);o="…"+o.substring(u),s-=u-1}if(o.length>80&&(o=o.substring(0,79)+"…"),n>1&&/^ *$/.test(o.substring(0,s))){let u=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);u.length>80&&(u=u.substring(0,79)+`…
`),o=u+o}if(/[^ ]/.test(o)){let u=1;const l=r.linePos[1];l&&l.line===n&&l.col>a&&(u=Math.max(1,Math.min(l.col-a,80-s)));const c=" ".repeat(s)+"^".repeat(u);r.message+=`:

${o}
${c}
`}};function ed(e,{flow:t,indicator:r,next:n,offset:a,onError:s,parentIndent:o,startOnNewline:u}){let l=!1,c=u,d=u,f="",h="",p=!1,m=!1,y=null,g=null,b=null,v=null,_=null,w=null,S=null;for(const C of e)switch(m&&(C.type!=="space"&&C.type!=="newline"&&C.type!=="comma"&&s(C.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),y&&(c&&C.type!=="comment"&&C.type!=="newline"&&s(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),C.type){case"space":!t&&(r!=="doc-start"||(n==null?void 0:n.type)!=="flow-collection")&&C.source.includes("	")&&(y=C),d=!0;break;case"comment":{d||s(C,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const I=C.source.substring(1)||" ";f?f+=h+I:f=I,h="",c=!1;break}case"newline":c?f?f+=C.source:l=!0:h+=C.source,c=!0,p=!0,(g||b)&&(v=C),d=!0;break;case"anchor":g&&s(C,"MULTIPLE_ANCHORS","A node can have at most one anchor"),C.source.endsWith(":")&&s(C.offset+C.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=C,S===null&&(S=C.offset),c=!1,d=!1,m=!0;break;case"tag":{b&&s(C,"MULTIPLE_TAGS","A node can have at most one tag"),b=C,S===null&&(S=C.offset),c=!1,d=!1,m=!0;break}case r:(g||b)&&s(C,"BAD_PROP_ORDER",`Anchors and tags must be after the ${C.source} indicator`),w&&s(C,"UNEXPECTED_TOKEN",`Unexpected ${C.source} in ${t??"collection"}`),w=C,c=r==="seq-item-ind"||r==="explicit-key-ind",d=!1;break;case"comma":if(t){_&&s(C,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),_=C,c=!1,d=!1;break}default:s(C,"UNEXPECTED_TOKEN",`Unexpected ${C.type} token`),c=!1,d=!1}const E=e[e.length-1],x=E?E.offset+E.source.length:a;return m&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&s(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(c&&y.indent<=o||(n==null?void 0:n.type)==="block-map"||(n==null?void 0:n.type)==="block-seq")&&s(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:_,found:w,spaceBefore:l,comment:f,hasNewline:p,anchor:g,tag:b,newlineAfterProp:v,end:x,start:S??x}}function W_(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const r of t.start)if(r.type==="newline")return!0;if(t.sep){for(const r of t.sep)if(r.type==="newline")return!0}if(W_(t.key)||W_(t.value))return!0}return!1;default:return!0}}function KI(e,t,r){if((t==null?void 0:t.type)==="flow-collection"){const n=t.end[0];n.indent===e&&(n.source==="]"||n.source==="}")&&W_(t)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Oee(e,t,r){const{uniqueKeys:n}=e.options;if(n===!1)return!1;const a=typeof n=="function"?n:(s,o)=>s===o||xr(s)&&xr(o)&&s.value===o.value&&!(s.value==="<<"&&e.schema.merge);return t.some(s=>a(s.key,r))}const hQ="All mapping items must start at the same column";function n4e({composeNode:e,composeEmptyNode:t},r,n,a,s){var d;const o=(s==null?void 0:s.nodeClass)??ki,u=new o(r.schema);r.atRoot&&(r.atRoot=!1);let l=n.offset,c=null;for(const f of n.items){const{start:h,key:p,sep:m,value:y}=f,g=ed(h,{indicator:"explicit-key-ind",next:p??(m==null?void 0:m[0]),offset:l,onError:a,parentIndent:n.indent,startOnNewline:!0}),b=!g.found;if(b){if(p&&(p.type==="block-seq"?a(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==n.indent&&a(l,"BAD_INDENT",hQ)),!g.anchor&&!g.tag&&!m){c=g.end,g.comment&&(u.comment?u.comment+=`
`+g.comment:u.comment=g.comment);continue}(g.newlineAfterProp||W_(p))&&a(p??h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((d=g.found)==null?void 0:d.indent)!==n.indent&&a(l,"BAD_INDENT",hQ);const v=g.end,_=p?e(r,p,g,a):t(r,v,h,null,g,a);r.schema.compat&&KI(n.indent,p,a),Oee(r,u.items,_)&&a(v,"DUPLICATE_KEY","Map keys must be unique");const w=ed(m??[],{indicator:"map-value-ind",next:y,offset:_.range[2],onError:a,parentIndent:n.indent,startOnNewline:!p||p.type==="block-scalar"});if(l=w.end,w.found){b&&((y==null?void 0:y.type)==="block-map"&&!w.hasNewline&&a(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&g.start<w.found.offset-1024&&a(_.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const S=y?e(r,y,w,a):t(r,l,m,null,w,a);r.schema.compat&&KI(n.indent,y,a),l=S.range[2];const E=new ei(_,S);r.options.keepSourceTokens&&(E.srcToken=f),u.items.push(E)}else{b&&a(_.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),w.comment&&(_.comment?_.comment+=`
`+w.comment:_.comment=w.comment);const S=new ei(_);r.options.keepSourceTokens&&(S.srcToken=f),u.items.push(S)}}return c&&c<l&&a(c,"IMPOSSIBLE","Map comment with trailing content"),u.range=[n.offset,l,c??l],u}function i4e({composeNode:e,composeEmptyNode:t},r,n,a,s){const o=(s==null?void 0:s.nodeClass)??hc,u=new o(r.schema);r.atRoot&&(r.atRoot=!1);let l=n.offset,c=null;for(const{start:d,value:f}of n.items){const h=ed(d,{indicator:"seq-item-ind",next:f,offset:l,onError:a,parentIndent:n.indent,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?a(h.end,"BAD_INDENT","All sequence items must start at the same column"):a(l,"MISSING_CHAR","Sequence item without - indicator");else{c=h.end,h.comment&&(u.comment=h.comment);continue}const p=f?e(r,f,h,a):t(r,h.end,d,null,h,a);r.schema.compat&&KI(n.indent,f,a),l=p.range[2],u.items.push(p)}return u.range=[n.offset,l,c??l],u}function Jb(e,t,r,n){let a="";if(e){let s=!1,o="";for(const u of e){const{source:l,type:c}=u;switch(c){case"space":s=!0;break;case"comment":{r&&!s&&n(u,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const d=l.substring(1)||" ";a?a+=o+d:a=d,o="";break}case"newline":a&&(o+=l),s=!0;break;default:n(u,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=l.length}}return{comment:a,offset:t}}const sx="Block collections are not allowed within flow collections",ox=e=>e&&(e.type==="block-map"||e.type==="block-seq");function a4e({composeNode:e,composeEmptyNode:t},r,n,a,s){const o=n.start.source==="{",u=o?"flow map":"flow sequence",l=(s==null?void 0:s.nodeClass)??(o?ki:hc),c=new l(r.schema);c.flow=!0;const d=r.atRoot;d&&(r.atRoot=!1);let f=n.offset+n.start.source.length;for(let g=0;g<n.items.length;++g){const b=n.items[g],{start:v,key:_,sep:w,value:S}=b,E=ed(v,{flow:u,indicator:"explicit-key-ind",next:_??(w==null?void 0:w[0]),offset:f,onError:a,parentIndent:n.indent,startOnNewline:!1});if(!E.found){if(!E.anchor&&!E.tag&&!w&&!S){g===0&&E.comma?a(E.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${u}`):g<n.items.length-1&&a(E.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${u}`),E.comment&&(c.comment?c.comment+=`
`+E.comment:c.comment=E.comment),f=E.end;continue}!o&&r.options.strict&&W_(_)&&a(_,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(g===0)E.comma&&a(E.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${u}`);else if(E.comma||a(E.start,"MISSING_CHAR",`Missing , between ${u} items`),E.comment){let x="";e:for(const C of v)switch(C.type){case"comma":case"space":break;case"comment":x=C.source.substring(1);break e;default:break e}if(x){let C=c.items[c.items.length-1];zr(C)&&(C=C.value??C.key),C.comment?C.comment+=`
`+x:C.comment=x,E.comment=E.comment.substring(x.length+1)}}if(!o&&!w&&!E.found){const x=S?e(r,S,E,a):t(r,E.end,w,null,E,a);c.items.push(x),f=x.range[2],ox(S)&&a(x.range,"BLOCK_IN_FLOW",sx)}else{const x=E.end,C=_?e(r,_,E,a):t(r,x,v,null,E,a);ox(_)&&a(C.range,"BLOCK_IN_FLOW",sx);const I=ed(w??[],{flow:u,indicator:"map-value-ind",next:S,offset:C.range[2],onError:a,parentIndent:n.indent,startOnNewline:!1});if(I.found){if(!o&&!E.found&&r.options.strict){if(w)for(const D of w){if(D===I.found)break;if(D.type==="newline"){a(D,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}E.start<I.found.offset-1024&&a(I.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else S&&("source"in S&&S.source&&S.source[0]===":"?a(S,"MISSING_CHAR",`Missing space after : in ${u}`):a(I.start,"MISSING_CHAR",`Missing , or : between ${u} items`));const P=S?e(r,S,I,a):I.found?t(r,I.end,w,null,I,a):null;P?ox(S)&&a(P.range,"BLOCK_IN_FLOW",sx):I.comment&&(C.comment?C.comment+=`
`+I.comment:C.comment=I.comment);const L=new ei(C,P);if(r.options.keepSourceTokens&&(L.srcToken=b),o){const D=c;Oee(r,D.items,C)&&a(x,"DUPLICATE_KEY","Map keys must be unique"),D.items.push(L)}else{const D=new ki(r.schema);D.flow=!0,D.items.push(L),c.items.push(D)}f=P?P.range[2]:I.end}}const h=o?"}":"]",[p,...m]=n.end;let y=f;if(p&&p.source===h)y=p.offset+p.source.length;else{const g=u[0].toUpperCase()+u.substring(1),b=d?`${g} must end with a ${h}`:`${g} in block collection must be sufficiently indented and end with a ${h}`;a(f,d?"MISSING_CHAR":"BAD_INDENT",b),p&&p.source.length!==1&&m.unshift(p)}if(m.length>0){const g=Jb(m,y,r.options.strict,a);g.comment&&(c.comment?c.comment+=`
`+g.comment:c.comment=g.comment),c.range=[n.offset,y,g.offset]}else c.range=[n.offset,y,y];return c}function ux(e,t,r,n,a,s){const o=r.type==="block-map"?n4e(e,t,r,n,s):r.type==="block-seq"?i4e(e,t,r,n,s):a4e(e,t,r,n,s),u=o.constructor;return a==="!"||a===u.tagName?(o.tag=u.tagName,o):(a&&(o.tag=a),o)}function s4e(e,t,r,n,a){var h;const s=n.tag,o=s?t.directives.tagName(s.source,p=>a(s,"TAG_RESOLVE_FAILED",p)):null;if(r.type==="block-seq"){const{anchor:p,newlineAfterProp:m}=n,y=p&&s?p.offset>s.offset?p:s:p??s;y&&(!m||m.offset<y.offset)&&a(y,"MISSING_CHAR","Missing newline after block sequence props")}const u=r.type==="block-map"?"map":r.type==="block-seq"?"seq":r.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===ki.tagName&&u==="map"||o===hc.tagName&&u==="seq")return ux(e,t,r,a,o);let l=t.schema.tags.find(p=>p.tag===o&&p.collection===u);if(!l){const p=t.schema.knownTags[o];if(p&&p.collection===u)t.schema.tags.push(Object.assign({},p,{default:!1})),l=p;else return p!=null&&p.collection?a(s,"BAD_COLLECTION_TYPE",`${p.tag} used for ${u} collection, but expects ${p.collection}`,!0):a(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),ux(e,t,r,a,o)}const c=ux(e,t,r,a,o,l),d=((h=l.resolve)==null?void 0:h.call(l,c,p=>a(s,"TAG_RESOLVE_FAILED",p),t.options))??c,f=Xr(d)?d:new qt(d);return f.range=c.range,f.tag=o,l!=null&&l.format&&(f.format=l.format),f}function o4e(e,t,r){const n=t.offset,a=u4e(t,e.options.strict,r);if(!a)return{value:"",type:null,comment:"",range:[n,n,n]};const s=a.mode===">"?qt.BLOCK_FOLDED:qt.BLOCK_LITERAL,o=t.source?c4e(t.source):[];let u=o.length;for(let y=o.length-1;y>=0;--y){const g=o[y][1];if(g===""||g==="\r")u=y;else break}if(u===0){const y=a.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let g=n+a.length;return t.source&&(g+=t.source.length),{value:y,type:s,comment:a.comment,range:[n,g,g]}}let l=t.indent+a.indent,c=t.offset+a.length,d=0;for(let y=0;y<u;++y){const[g,b]=o[y];if(b===""||b==="\r")a.indent===0&&g.length>l&&(l=g.length);else{g.length<l&&r(c+g.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),a.indent===0&&(l=g.length),d=y,l===0&&!e.atRoot&&r(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=g.length+b.length+1}for(let y=o.length-1;y>=u;--y)o[y][0].length>l&&(u=y+1);let f="",h="",p=!1;for(let y=0;y<d;++y)f+=o[y][0].slice(l)+`
`;for(let y=d;y<u;++y){let[g,b]=o[y];c+=g.length+b.length+1;const v=b[b.length-1]==="\r";if(v&&(b=b.slice(0,-1)),b&&g.length<l){const w=`Block scalar lines must not be less indented than their ${a.indent?"explicit indentation indicator":"first line"}`;r(c-b.length-(v?2:1),"BAD_INDENT",w),g=""}s===qt.BLOCK_LITERAL?(f+=h+g.slice(l)+b,h=`
`):g.length>l||b[0]==="	"?(h===" "?h=`
`:!p&&h===`
`&&(h=`

`),f+=h+g.slice(l)+b,h=`
`,p=!0):b===""?h===`
`?f+=`
`:h=`
`:(f+=h+b,h=" ",p=!1)}switch(a.chomp){case"-":break;case"+":for(let y=u;y<o.length;++y)f+=`
`+o[y][0].slice(l);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}const m=n+a.length+t.source.length;return{value:f,type:s,comment:a.comment,range:[n,m,m]}}function u4e({offset:e,props:t},r,n){if(t[0].type!=="block-scalar-header")return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:a}=t[0],s=a[0];let o=0,u="",l=-1;for(let h=1;h<a.length;++h){const p=a[h];if(!u&&(p==="-"||p==="+"))u=p;else{const m=Number(p);!o&&m?o=m:l===-1&&(l=e+h)}}l!==-1&&n(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${a}`);let c=!1,d="",f=a.length;for(let h=1;h<t.length;++h){const p=t[h];switch(p.type){case"space":c=!0;case"newline":f+=p.source.length;break;case"comment":r&&!c&&n(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=p.source.length,d=p.source.substring(1);break;case"error":n(p,"UNEXPECTED_TOKEN",p.message),f+=p.source.length;break;default:{const m=`Unexpected token in block scalar header: ${p.type}`;n(p,"UNEXPECTED_TOKEN",m);const y=p.source;y&&typeof y=="string"&&(f+=y.length)}}}return{mode:s,indent:o,chomp:u,comment:d,length:f}}function c4e(e){const t=e.split(/\n( *)/),r=t[0],n=r.match(/^( *)/),s=[n!=null&&n[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let o=1;o<t.length;o+=2)s.push([t[o],t[o+1]]);return s}function l4e(e,t,r){const{offset:n,type:a,source:s,end:o}=e;let u,l;const c=(h,p,m)=>r(n+h,p,m);switch(a){case"scalar":u=qt.PLAIN,l=d4e(s,c);break;case"single-quoted-scalar":u=qt.QUOTE_SINGLE,l=f4e(s,c);break;case"double-quoted-scalar":u=qt.QUOTE_DOUBLE,l=h4e(s,c);break;default:return r(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${a}`),{value:"",type:null,comment:"",range:[n,n+s.length,n+s.length]}}const d=n+s.length,f=Jb(o,d,t,r);return{value:l,type:u,comment:f.comment,range:[n,d,f.offset]}}function d4e(e,t){let r="";switch(e[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${e[0]}`;break}case"@":case"`":{r=`reserved character ${e[0]}`;break}}return r&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),Ree(e)}function f4e(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),Ree(e.slice(1,-1)).replace(/''/g,"'")}function Ree(e){let t,r;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let a=n[1],s=" ",o=t.lastIndex;for(r.lastIndex=o;n=r.exec(e);)n[1]===""?s===`
`?a+=s:s=`
`:(a+=s+n[1],s=" "),o=r.lastIndex;const u=/[ \t]*(.*)/sy;return u.lastIndex=o,n=u.exec(e),a+s+((n==null?void 0:n[1])??"")}function h4e(e,t){let r="";for(let n=1;n<e.length-1;++n){const a=e[n];if(!(a==="\r"&&e[n+1]===`
`))if(a===`
`){const{fold:s,offset:o}=p4e(e,n);r+=s,n=o}else if(a==="\\"){let s=e[++n];const o=y4e[s];if(o)r+=o;else if(s===`
`)for(s=e[n+1];s===" "||s==="	";)s=e[++n+1];else if(s==="\r"&&e[n+1]===`
`)for(s=e[++n+1];s===" "||s==="	";)s=e[++n+1];else if(s==="x"||s==="u"||s==="U"){const u={x:2,u:4,U:8}[s];r+=m4e(e,n+1,u,t),n+=u}else{const u=e.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),r+=u}}else if(a===" "||a==="	"){const s=n;let o=e[n+1];for(;o===" "||o==="	";)o=e[++n+1];o!==`
`&&!(o==="\r"&&e[n+2]===`
`)&&(r+=n>s?e.slice(s,n+1):a)}else r+=a}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),r}function p4e(e,t){let r="",n=e[t+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&e[t+2]!==`
`);)n===`
`&&(r+=`
`),t+=1,n=e[t+1];return r||(r=" "),{fold:r,offset:t}}const y4e={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function m4e(e,t,r,n){const a=e.substr(t,r),o=a.length===r&&/^[0-9a-fA-F]+$/.test(a)?parseInt(a,16):NaN;if(isNaN(o)){const u=e.substr(t-2,r+2);return n(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),u}return String.fromCodePoint(o)}function xee(e,t,r,n){const{value:a,type:s,comment:o,range:u}=t.type==="block-scalar"?o4e(e,t,n):l4e(t,e.options.strict,n),l=r?e.directives.tagName(r.source,f=>n(r,"TAG_RESOLVE_FAILED",f)):null,c=r&&l?g4e(e.schema,a,l,r,n):t.type==="scalar"?_4e(e,a,t,n):e.schema[Qs];let d;try{const f=c.resolve(a,h=>n(r??t,"TAG_RESOLVE_FAILED",h),e.options);d=xr(f)?f:new qt(f)}catch(f){const h=f instanceof Error?f.message:String(f);n(r??t,"TAG_RESOLVE_FAILED",h),d=new qt(a)}return d.range=u,d.source=a,s&&(d.type=s),l&&(d.tag=l),c.format&&(d.format=c.format),o&&(d.comment=o),d}function g4e(e,t,r,n,a){var u;if(r==="!")return e[Qs];const s=[];for(const l of e.tags)if(!l.collection&&l.tag===r)if(l.default&&l.test)s.push(l);else return l;for(const l of s)if((u=l.test)!=null&&u.test(t))return l;const o=e.knownTags[r];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(a(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),e[Qs])}function _4e({directives:e,schema:t},r,n,a){const s=t.tags.find(o=>{var u;return o.default&&((u=o.test)==null?void 0:u.test(r))})||t[Qs];if(t.compat){const o=t.compat.find(u=>{var l;return u.default&&((l=u.test)==null?void 0:l.test(r))})??t[Qs];if(s.tag!==o.tag){const u=e.tagString(s.tag),l=e.tagString(o.tag),c=`Value may be parsed as either ${u} or ${l}`;a(n,"TAG_RESOLVE_FAILED",c,!0)}}return s}function b4e(e,t,r){if(t){r===null&&(r=t.length);for(let n=r-1;n>=0;--n){let a=t[n];switch(a.type){case"space":case"comment":case"newline":e-=a.source.length;continue}for(a=t[++n];(a==null?void 0:a.type)==="space";)e+=a.source.length,a=t[++n];break}}return e}const v4e={composeNode:Iee,composeEmptyNode:rC};function Iee(e,t,r,n){const{spaceBefore:a,comment:s,anchor:o,tag:u}=r;let l,c=!0;switch(t.type){case"alias":l=w4e(e,t,n),(o||u)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=xee(e,t,u,n),o&&(l.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=s4e(v4e,e,t,r,n),o&&(l.anchor=o.source.substring(1));break;default:{const d=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;n(t,"UNEXPECTED_TOKEN",d),l=rC(e,t.offset,void 0,null,r,n),c=!1}}return o&&l.anchor===""&&n(o,"BAD_ALIAS","Anchor cannot be an empty string"),a&&(l.spaceBefore=!0),s&&(t.type==="scalar"&&t.source===""?l.comment=s:l.commentBefore=s),e.options.keepSourceTokens&&c&&(l.srcToken=t),l}function rC(e,t,r,n,{spaceBefore:a,comment:s,anchor:o,tag:u,end:l},c){const d={type:"scalar",offset:b4e(t,r,n),indent:-1,source:""},f=xee(e,d,u,c);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),a&&(f.spaceBefore=!0),s&&(f.comment=s,f.range[2]=l),f}function w4e({options:e},{offset:t,source:r,end:n},a){const s=new HD(r.substring(1));s.source===""&&a(t,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&a(t+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+r.length,u=Jb(n,o,e.strict,a);return s.range=[t,o,u.offset],u.comment&&(s.comment=u.comment),s}function S4e(e,t,{offset:r,start:n,value:a,end:s},o){const u=Object.assign({_directives:t},e),l=new h2(void 0,u),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},d=ed(n,{indicator:"doc-start",next:a??(s==null?void 0:s[0]),offset:r,onError:o,parentIndent:0,startOnNewline:!0});d.found&&(l.directives.docStart=!0,a&&(a.type==="block-map"||a.type==="block-seq")&&!d.hasNewline&&o(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=a?Iee(c,a,d,o):rC(c,d.end,n,null,d,o);const f=l.contents.range[2],h=Jb(s,f,!1,o);return h.comment&&(l.comment=h.comment),l.range=[r,f,h.offset],l}function kg(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:r}=e;return[t,t+(typeof r=="string"?r.length:1)]}function pQ(e){var a;let t="",r=!1,n=!1;for(let s=0;s<e.length;++s){const o=e[s];switch(o[0]){case"#":t+=(t===""?"":n?`

`:`
`)+(o.substring(1)||" "),r=!0,n=!1;break;case"%":((a=e[s+1])==null?void 0:a[0])!=="#"&&(s+=1),r=!1;break;default:r||(n=!0),r=!1}}return{comment:t,afterEmptyLine:n}}class T4e{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,a,s)=>{const o=kg(r);s?this.warnings.push(new r4e(o,n,a)):this.errors.push(new s_(o,n,a))},this.directives=new Wn({version:t.version||"1.2"}),this.options=t}decorate(t,r){const{comment:n,afterEmptyLine:a}=pQ(this.prelude);if(n){const s=t.contents;if(r)t.comment=t.comment?`${t.comment}
${n}`:n;else if(a||t.directives.docStart||!s)t.commentBefore=n;else if(Qr(s)&&!s.flow&&s.items.length>0){let o=s.items[0];zr(o)&&(o=o.key);const u=o.commentBefore;o.commentBefore=u?`${n}
${u}`:n}else{const o=s.commentBefore;s.commentBefore=o?`${n}
${o}`:n}}r?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:pQ(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,r=!1,n=-1){for(const a of t)yield*this.next(a);yield*this.end(r,n)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(r,n,a)=>{const s=kg(t);s[0]+=r,this.onError(s,"BAD_DIRECTIVE",n,a)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const r=S4e(this.options,this.directives,t,this.onError);this.atDirectives&&!r.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const r=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,n=new s_(kg(t),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const n="Unexpected doc-end without preceding document";this.errors.push(new s_(kg(t),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;const r=Jb(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){const n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new s_(kg(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const n=Object.assign({_directives:this.directives},this.options),a=new h2(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),a.range=[0,r,r],this.decorate(a,!1),yield a}}}const Pee="\uFEFF",Nee="",Dee="",JI="";function E4e(e){switch(e){case Pee:return"byte-order-mark";case Nee:return"doc-mode";case Dee:return"flow-error-end";case JI:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function la(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const yQ=new Set("0123456789ABCDEFabcdef"),A4e=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),fv=new Set(",[]{}"),O4e=new Set(` ,[]{}
\r	`),cx=e=>!e||O4e.has(e);class R4e{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,r=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!r;let n=this.next??"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,r=this.buffer[t];for(;r===" "||r==="	";)r=this.buffer[++t];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let r=this.buffer[t];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+t];if(r==="\r"){const a=this.buffer[n+t+1];if(a===`
`||!a&&!this.atEnd)return t+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?t+n:-1}if(r==="-"||r==="."){const n=this.buffer.substr(t,3);if((n==="---"||n==="...")&&la(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===Pee&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let r=t.length,n=t.indexOf("#");for(;n!==-1;){const s=t[n-1];if(s===" "||s==="	"){r=n-1;break}else n=t.indexOf("#",n+1)}for(;;){const s=t[r-1];if(s===" "||s==="	")r-=1;else break}const a=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-a),this.pushNewline(),"stream"}if(this.atLineEnd()){const r=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-r),yield*this.pushNewline(),"stream"}return yield Nee,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const r=this.peek(3);if((r==="---"||r==="...")&&la(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,r==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!la(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&la(r)){const n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(t[r]){case"#":yield*this.pushCount(t.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(cx),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,r,n=-1;do t=yield*this.pushNewline(),t>0?(r=yield*this.pushSpaces(!1),this.indentValue=n=r):r=0,r+=yield*this.pushSpaces(!0);while(t+r>0);const a=this.getLine();if(a===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&a[0]!=="#"||n===0&&(a.startsWith("---")||a.startsWith("..."))&&la(a[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(a[0]==="]"||a[0]==="}")))return this.flowLevel=0,yield Dee,yield*this.parseLineStart();let s=0;for(;a[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),a[s]){case void 0:return"flow";case"#":return yield*this.pushCount(a.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(cx),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||la(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let r=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let s=0;for(;this.buffer[r-1-s]==="\\";)s+=1;if(s%2===0)break;r=this.buffer.indexOf('"',r+1)}const n=this.buffer.substring(0,r);let a=n.indexOf(`
`,this.pos);if(a!==-1){for(;a!==-1;){const s=this.continueScalar(a+1);if(s===-1)break;a=n.indexOf(`
`,s)}a!==-1&&(r=a-(n[a-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const r=this.buffer[++t];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>la(r)||r==="#")}*parseBlockScalar(){let t=this.pos-1,r=0,n;e:for(let s=this.pos;n=this.buffer[s];++s)switch(n){case" ":r+=1;break;case`
`:t=s,r=0;break;case"\r":{const o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const s=this.continueScalar(t+1);if(s===-1)break;t=this.buffer.indexOf(`
`,s)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let a=t+1;for(n=this.buffer[a];n===" ";)n=this.buffer[++a];if(n==="	"){for(;n==="	"||n===" "||n==="\r"||n===`
`;)n=this.buffer[++a];t=a-1}else if(!this.blockScalarKeep)do{let s=t-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);const u=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+r>u)t=s;else break}while(!0);return yield JI,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let r=this.pos-1,n=this.pos-1,a;for(;a=this.buffer[++n];)if(a===":"){const s=this.buffer[n+1];if(la(s)||t&&fv.has(s))break;r=n}else if(la(a)){let s=this.buffer[n+1];if(a==="\r"&&(s===`
`?(n+=1,a=`
`,s=this.buffer[n+1]):r=n),s==="#"||t&&fv.has(s))break;if(a===`
`){const o=this.continueScalar(n+1);if(o===-1)break;n=Math.max(n,o-2)}}else{if(t&&fv.has(a))break;r=n}return!a&&!this.atEnd?this.setNext("plain-scalar"):(yield JI,yield*this.pushToIndex(r+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,r){const n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(cx))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,r=this.charAt(1);if(la(r)||t&&fv.has(r))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,r=this.buffer[t];for(;!la(r)&&r!==">";)r=this.buffer[++t];return yield*this.pushToIndex(r===">"?t+1:t,!1)}else{let t=this.pos+1,r=this.buffer[t];for(;r;)if(A4e.has(r))r=this.buffer[++t];else if(r==="%"&&yQ.has(this.buffer[t+1])&&yQ.has(this.buffer[t+2]))r=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||t&&n==="	");const a=r-this.pos;return a>0&&(yield this.buffer.substr(this.pos,a),this.pos=r),a}*pushUntil(t){let r=this.pos,n=this.buffer[r];for(;!t(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}}class x4e{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let r=0,n=this.lineStarts.length;for(;r<n;){const s=r+n>>1;this.lineStarts[s]<t?r=s+1:n=s}if(this.lineStarts[r]===t)return{line:r+1,col:1};if(r===0)return{line:0,col:t};const a=this.lineStarts[r-1];return{line:r,col:t-a+1}}}}function $u(e,t){for(let r=0;r<e.length;++r)if(e[r].type===t)return!0;return!1}function mQ(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Cee(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function hv(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Kc(e){var r;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((r=e[++t])==null?void 0:r.type)==="space";);return e.splice(t,e.length)}function gQ(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!$u(t.start,"explicit-key-ind")&&!$u(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Cee(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class I4e{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new R4e,this.onNewLine=t}*parse(t,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const n of this.lexer.lex(t,r))yield*this.next(n);r||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const r=E4e(t);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const n=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const r=t??this.stack.pop();if(!r)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield r;else{const n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&gQ(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{const a=n.items[n.items.length-1];if(a.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(a.sep)a.value=r;else{Object.assign(a,{key:r,sep:[]}),this.onKeyLine=!a.explicitKey;return}break}case"block-seq":{const a=n.items[n.items.length-1];a.value?n.items.push({start:[],value:r}):a.value=r;break}case"flow-collection":{const a=n.items[n.items.length-1];!a||a.value?n.items.push({start:[],key:r,sep:[]}):a.sep?a.value=r:Object.assign(a,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){const a=r.items[r.items.length-1];a&&!a.sep&&!a.value&&a.start.length>0&&mQ(a.start)===-1&&(r.indent===0||a.start.every(s=>s.type!=="comment"||s.indent<r.indent))&&(n.type==="document"?n.end=a.start:n.items.push({start:a.start}),r.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{mQ(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const r=hv(this.peek(2)),n=Kc(r);let a;t.end?(a=t.end,a.push(this.sourceToken),delete t.end):a=[this.sourceToken];const s={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var n;const r=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,r.value){const a="end"in r.value?r.value.end:void 0,s=Array.isArray(a)?a[a.length-1]:void 0;(s==null?void 0:s.type)==="comment"?a==null||a.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else if(r.sep)r.sep.push(this.sourceToken);else{if(this.atIndentedComment(r.start,t.indent)){const a=t.items[t.items.length-2],s=(n=a==null?void 0:a.value)==null?void 0:n.end;if(Array.isArray(s)){Array.prototype.push.apply(s,r.start),s.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const a=!this.onKeyLine&&this.indent===t.indent,s=a&&(r.sep||r.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(s&&r.sep&&!r.value){const u=[];for(let l=0;l<r.sep.length;++l){const c=r.sep[l];switch(c.type){case"newline":u.push(l);break;case"space":break;case"comment":c.indent>t.indent&&(u.length=0);break;default:u.length=0}}u.length>=2&&(o=r.sep.splice(u[1]))}switch(this.type){case"anchor":case"tag":s||r.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"explicit-key-ind":!r.sep&&!r.explicitKey?(r.start.push(this.sourceToken),r.explicitKey=!0):s||r.value?(o.push(this.sourceToken),t.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(r.explicitKey)if(r.sep)if(r.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if($u(r.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Cee(r.key)&&!$u(r.sep,"newline")){const u=Kc(r.start),l=r.key,c=r.sep;c.push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:l,sep:c}]})}else o.length>0?r.sep=r.sep.concat(o,this.sourceToken):r.sep.push(this.sourceToken);else if($u(r.start,"newline"))Object.assign(r,{key:null,sep:[this.sourceToken]});else{const u=Kc(r.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:null,sep:[this.sourceToken]}]})}else r.sep?r.value||s?t.items.push({start:o,key:null,sep:[this.sourceToken]}):$u(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const u=this.flowScalar(this.type);s||r.value?(t.items.push({start:o,key:u,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(u):(Object.assign(r,{key:u,sep:[]}),this.onKeyLine=!0);return}default:{const u=this.startBlockValue(t);if(u){a&&u.type!=="block-seq"&&t.items.push({start:o}),this.stack.push(u);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var n;const r=t.items[t.items.length-1];switch(this.type){case"newline":if(r.value){const a="end"in r.value?r.value.end:void 0,s=Array.isArray(a)?a[a.length-1]:void 0;(s==null?void 0:s.type)==="comment"?a==null||a.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(r.start,t.indent)){const a=t.items[t.items.length-2],s=(n=a==null?void 0:a.value)==null?void 0:n.end;if(Array.isArray(s)){Array.prototype.push.apply(s,r.start),s.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return;case"anchor":case"tag":if(r.value||this.indent<=t.indent)break;r.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;r.value||$u(r.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return}if(this.indent>t.indent){const a=this.startBlockValue(t);if(a){this.stack.push(a);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const r=t.items[t.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?t.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);!r||r.value?t.items.push({start:[],key:a,sep:[]}):r.sep?this.stack.push(a):Object.assign(r,{key:a,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===t.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){const a=hv(n),s=Kc(a);gQ(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const u={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:s,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=u}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const r=hv(t),n=Kc(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const r=hv(t),n=Kc(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,r){return this.type!=="comment"||this.indent<=r?!1:t.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function P4e(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new x4e||null,prettyErrors:t}}function N4e(e,t={}){const{lineCounter:r,prettyErrors:n}=P4e(t),a=new I4e(r==null?void 0:r.addNewLine),s=new T4e(t);let o=null;for(const u of s.compose(a.parse(e),!0,e.length))if(!o)o=u;else if(o.options.logLevel!=="silent"){o.errors.push(new s_(u.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(o.errors.forEach(fQ(e,r)),o.warnings.forEach(fQ(e,r))),o}function D4e(e,t,r){let n;typeof t=="function"?n=t:r===void 0&&t&&typeof t=="object"&&(r=t);const a=N4e(e,r);if(!a)return null;if(a.warnings.forEach(s=>oee(a.options.logLevel,s)),a.errors.length>0){if(a.options.logLevel!=="silent")throw a.errors[0];a.errors=[]}return a.toJS(Object.assign({reviver:n},r))}let Ew=D4e(document.querySelector("#ontopad_configuration").text);const ka=$P("selection",{state:()=>({graph_iri:Ew.graph_iri,resource_iri:Ew.resource_iri,is_class:!0}),actions:{changeGraphIri(e){console.log("Change graph Iri to "+e),this.graph_iri=e},changeResourceIri(e,t=!0){console.log("Change resource Iri to "+e),this.resource_iri=e,t==!0?this.is_class=!0:this.is_class=!1}}});function k9e(e){return`
  PREFIX sh: <http://www.w3.org/ns/shacl#>
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  CONSTRUCT {
    ?node_s ?node_p ?node_o ;
      a sh:NodeShape .
    ?prop_s ?prop_p ?prop_o .
    ?prop_s sh:in ?list .
    ?elt rdf:rest ?rest .
    ?elt rdf:first ?val .
  } WHERE {
      {
        {
          ?node_s sh:targetClass <${e}> .
          ?node_s ?node_p ?node_o .
          ?prop_s ?prop_p ?prop_o .
          FILTER(?prop_p != sh:in)
          FILTER(?node_o = ?prop_s)
        }
        UNION
        {
          ?node_s sh:targetClass <${e}> .
          ?node_s ?node_p ?node_o .
          ?prop_s ?prop_p ?prop_o .
          ?prop_s sh:in ?list .
          ?list rdf:rest* ?elt .
          ?elt rdf:rest ?rest .
          ?elt rdf:first ?val .
          FILTER(?node_o = ?prop_s)
        }
      }
  }`}function V9e(e){return`
  PREFIX sh: <http://www.w3.org/ns/shacl#>
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  CONSTRUCT {
    ?node_s ?node_p ?node_o ;
      a sh:NodeShape .
    ?prop_s ?prop_p ?prop_o .
    #?node_s ?p ?o .
    ?prop_s sh:in ?list .
    ?elt rdf:rest ?rest .
    ?elt rdf:first ?val .
  } WHERE {
        <${e}> rdf:type ?class .
        {
          ?node_s sh:targetClass ?class .
          ?node_s ?node_p ?node_o .
          ?prop_s ?prop_p ?prop_o .
          FILTER(?prop_p != sh:in)
          FILTER(?node_o = ?prop_s)
        }
        UNION
        {
          ?node_s rdf:type ?class .
          ?node_s ?node_p ?node_o .
          ?prop_s ?prop_p ?prop_o .
          ?prop_s sh:in ?list .
          ?list rdf:rest* ?elt .
          ?elt rdf:rest ?rest .
          ?elt rdf:first ?val .
          FILTER(?node_o = ?prop_s)
        }
  }`}function C4e(e,t){console.log(e);let r="select distinct ?instance from <http://default.com/> { ?instance a <http://example.org/Resource> } order by ?instance";if(typeof e=="string"){const n=new _c.Parser;e=n.parse(e);const a=n.parse(r);console.log(a)}return console.log(e),e.type==="query"?e.from={default:[Mr.namedNode(t)],named:[]}:e.type==="update"&&(e.with=Mr.namedNode(t)),e}const pc=$P("rdf",()=>{const e=Ms(!1),t=Ms(null);async function r(l){let c,d="";console.log(`send query: ${l}`),typeof l=="string"?(d=l,c=[ka().graph_iri]):typeof l=="object"?(d=l.query,l.defaultGraph==="quads"?c=void 0:l.defaultGraph!==void 0?c=l.defaultGraph:c=[ka().graph_iri]):(console.error("can't process query"),console.error(l)),c!==void 0&&(console.log(`inject graph: ${c}`),d=C4e(d,c));const f=new _c.Generator;let h;return typeof d!="string"?h=f.stringify(d):h=d,t.value.query(h)}async function n(l,c){c===void 0&&(c=[ka().graph_iri]);let d="";for(const m of c)d+=`from <${m}>`;const f=`construct {<${l}> ?p ?o} ${d} where {<${l}> ?p ?o}`,h=await t.value.query_quads(f),p=Mr.namedNode(c[0]);return Lt.Readable.from(h).pipe(new TT(p))}function a(){t.value.push!==void 0&&t.value.push().then(function(l){console.log(l)})}function s(){t.value.pull!==void 0&&t.value.pull().then(function(l){console.log(l)})}async function o(l){let c=l.deleteArray,d=l.insertArray;const f=[];if(l.graphIri!==void 0){const p=Mr.namedNode(l.graphIri);c&&c.length>0&&(c=await Lt.Readable.from(c).pipe(new TT(p)).toArray()),d&&d.length>0&&(d=await Lt.Readable.from(d).pipe(new TT(p)).toArray())}c&&c.length>0&&f.push(Qve(c).toString()),d&&d.length>0&&f.push(zve(d).toString());const h=f.join(";");return t.value.update(h)}async function u(l){console.log("Loading …"),console.log("Change SPARQL Endpoint configuration."),console.log(l);const c=await wCe.create(l);t.value=c[0],e.value=!0}return console.log("configuration is"),console.log(Ew),u(Ew),{ready:e,sparqlEndpoint:t,sendQuery:r,getResource:n,push:a,pull:s,deleteInsertData:o,updateEndpointConfiguration:u}}),Xb=(e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r},L4e={name:"SparqlConnection",setup(){const e=pc(),t=ka();return{store:e,selection:t}},data(){return{configure_endpoint_modal:null,endpoint_type:"quit",query_url:"",update_url:"",quit_url:""}},mounted(){this.configure_endpoint_modal=new Io(this.$refs.configure_endpoint),this.$refs.configure_endpoint.addEventListener("show.bs.modal",e=>{this.get_endpoint_configuration()})},computed:{...ow(pc,{store_ready:e=>e.ready}),store_capability:{get(){return this.store.sparqlEndpoint.capability}},graph_iri:{get(){return this.selection.graph_iri},set(e){this.store.changeGraphIri(e)}},resource_iri:{get(){return this.selection.resource_iri},set(e){this.selection.changeResourceIri(e)}}},methods:{push(){this.store.push()},pull(){this.store.pull()},get_endpoint_configuration(){const e=this.store.sparqlEndpoint;this.quit_url="",this.query_url="",this.update_url="",this.endpoint_type=e.type,e.type==="quit"?this.quit_url=e.quitUrl:e.type==="query_only"?this.query_url=e.queryUrl:e.type==="query_update"&&(this.query_url=e.queryUrl,this.update_url=e.updateUrl)},configure_endpoint(){const e={};if(this.endpoint_type==="quit"&&this.quit_url)e.quit_url=this.quit_url;else{if(!this.query_url){console.error("Not even a query_url is given. Not chaning the endpoint configuration.");return}e.query_url=this.query_url,this.update_url&&(e.update_url=this.update_url)}this.store.updateEndpointConfiguration(e)}}},j4e={key:0,inline:"",class:"col-12"},M4e={class:"btn-group col-1 mb-2 mr-sm-2 mb-sm-0",role:"group"},F4e=st("i",{class:"bi bi-gear"},null,-1),q4e=[F4e],B4e=st("i",{class:"bi bi-cloud-upload"},null,-1),$4e=[B4e],U4e=st("i",{class:"bi bi-cloud-download"},null,-1),k4e=[U4e],V4e=st("label",{for:"select_url",class:"col-1 mr-sm-2"},"Graph IRI",-1),H4e=st("label",{for:"select_url",class:"col-1 mr-sm-2"},"Resource IRI",-1),Q4e={class:"modal fade",ref:"configure_endpoint",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static",size:"lg"},z4e={class:"modal-dialog modal-lg"},G4e={class:"modal-content"},W4e={class:"modal-header"},K4e=st("h5",{class:"modal-title"},"Configure Endpoint",-1),J4e={class:"modal-body"},X4e={class:"form-group",label:"Endpoint Type"},Y4e=st("label",{class:"form-check-label",for:"query_only"},"Query only",-1),Z4e=st("label",{class:"form-check-label",for:"query_update"},"Query & Update",-1),e6e=st("label",{class:"form-check-label",for:"quit"},"Quit Store",-1),t6e={key:0,class:"form-group"},r6e=st("label",{for:"quit_url"},"Quit URL",-1),n6e={key:1,class:"form-group"},i6e=st("label",{for:"query_url"},"Query URL",-1),a6e={key:2,class:"form-group"},s6e=st("label",{for:"update_url"},"Update URL",-1),o6e={class:"modal-footer"};function u6e(e,t,r,n,a,s){return tr(),yr(Hr,null,[e.store_ready?(tr(),yr("form",j4e,[st("div",M4e,[st("button",{type:"button",class:"btn btn-outline-secondary mb-0",onClick:t[0]||(t[0]=o=>a.configure_endpoint_modal.show()),title:"Configure Endpoint","aria-label":"Configure Endpoint"},q4e),s.store_capability.quit?(tr(),yr("button",{key:0,type:"button",class:"btn btn-outline-secondary mb-0",onClick:t[1]||(t[1]=o=>s.push()),title:"Push To Remote Repository","aria-label":"Push To Remote Repository"},$4e)):da("",!0),s.store_capability.quit?(tr(),yr("button",{key:1,type:"button",class:"btn btn-outline-secondary mb-0",onClick:t[2]||(t[2]=o=>s.pull()),title:"Pull From Remote Repository","aria-label":"Pull From Remote Repository"},k4e)):da("",!0)]),V4e,qi(st("input",{type:"text",class:"form-control col-2",id:"graph_iri","onUpdate:modelValue":t[3]||(t[3]=o=>s.graph_iri=o)},null,512),[[$i,s.graph_iri]]),H4e,qi(st("input",{type:"text",class:"form-control col-6",id:"resource_iri","onUpdate:modelValue":t[4]||(t[4]=o=>s.resource_iri=o)},null,512),[[$i,s.resource_iri]])])):da("",!0),st("div",Q4e,[st("div",z4e,[st("div",G4e,[st("div",W4e,[K4e,st("button",{type:"button",class:"btn-close",onClick:t[5]||(t[5]=o=>a.configure_endpoint_modal.hide()),"aria-label":"Close"})]),st("div",J4e,[st("form",null,[st("div",X4e,[qi(st("input",{class:"form-check-input",type:"radio",name:"endpoint_type","onUpdate:modelValue":t[6]||(t[6]=o=>a.endpoint_type=o),id:"query_only",value:"query_only"},null,512),[[f_,a.endpoint_type]]),Y4e,qi(st("input",{class:"form-check-input",type:"radio",name:"endpoint_type","onUpdate:modelValue":t[7]||(t[7]=o=>a.endpoint_type=o),id:"query_update",value:"query_update"},null,512),[[f_,a.endpoint_type]]),Z4e,qi(st("input",{class:"form-check-input",type:"radio",name:"endpoint_type","onUpdate:modelValue":t[8]||(t[8]=o=>a.endpoint_type=o),id:"quit",value:"quit"},null,512),[[f_,a.endpoint_type]]),e6e]),a.endpoint_type=="quit"?(tr(),yr("div",t6e,[r6e,st("div",null,[qi(st("input",{type:"text",class:"form-control",id:"quit_url","onUpdate:modelValue":t[9]||(t[9]=o=>a.quit_url=o),placeholder:"http://your.quit.store.org/"},null,512),[[$i,a.quit_url]])])])):da("",!0),a.endpoint_type=="query_only"||a.endpoint_type=="query_update"?(tr(),yr("div",n6e,[i6e,st("div",null,[qi(st("input",{type:"text",class:"form-control",id:"query_url","onUpdate:modelValue":t[10]||(t[10]=o=>a.query_url=o),placeholder:"http://your.sparql.store.org/query"},null,512),[[$i,a.query_url]])])])):da("",!0),a.endpoint_type=="query_update"?(tr(),yr("div",a6e,[s6e,st("div",null,[qi(st("input",{type:"text",class:"form-control",id:"update_url","onUpdate:modelValue":t[11]||(t[11]=o=>a.update_url=o),placeholder:"http://your.sparql.store.org/update"},null,512),[[$i,a.update_url]])])])):da("",!0)])]),st("div",o6e,[st("button",{type:"button",class:"btn btn-secondary",onClick:t[12]||(t[12]=o=>a.configure_endpoint_modal.hide())},"Close"),st("button",{type:"button",class:"btn btn-primary",onClick:t[13]||(t[13]=o=>{s.configure_endpoint(),a.configure_endpoint_modal.hide()})},"Save changes")])])])],512)],64)}const c6e=Xb(L4e,[["render",u6e]]),l6e=$P("prefixes",{state:()=>({prefixes:{ex:Mr.namedNode("http://example.org/"),exc:Mr.namedNode("http://example.org/classes#"),exp:Mr.namedNode("http://example.org/properties#"),rdf:Mr.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),rdfs:Mr.namedNode("http://www.w3.org/2000/01/rdf-schema#"),xsd:Mr.namedNode("http://www.w3.org/2001/XMLSchema#"),foaf:Mr.namedNode("http://xmlns.com/foaf/0.1/"),sh:Mr.namedNode("http://www.w3.org/ns/shacl#")}}),getters:{namespace_prefix_map:e=>{const t={};return Object.keys(e.prefixes).forEach(r=>{t[e.prefixes[r].value]=r}),t},prefixes_flat:e=>{const t={};return Object.keys(e.prefixes).forEach(r=>{t[r]=e.prefixes[r].value}),t}},actions:{setPrefix(e,t){this.prefixes[e]=Mr.namedNode(t)},resolvePrefix(e){return this.prefixes[e]},getPrefix(e){return this.namespace_prefix_map[e]},shortenIri(e){const t=new URL(e);let r=t.toString(),n="";if(t.hash){const a=r.lastIndexOf("#");n=r.substr(0,a+1),r=t.hash.substr(1)}else if(t.pathname){const a=r.lastIndexOf("/");n=r.substr(0,a+1),r=r.substr(a+1)}return this.namespace_prefix_map[n]&&r.indexOf("#")<0&&r.indexOf(":")<0&&r.indexOf("/")<0?`${this.namespace_prefix_map[n]}:${r}`:t.toString()}}}),d6e={name:"QueryResultList",setup(){const e=pc(),t=ka();return{store:e,selection:t}},mounted(){this.updateList()},props:{title:String,query:String,queryQuads:{type:Boolean,default:!1},search:{type:Boolean,default:!1},selectVariable:{type:String,default:"resourceIri"},itemClass:String,add:Function,selectResource:Function,addTitle:String,activeResource:String},watch:{query(e){this.updateList()}},data(){return{resources:[],filter:""}},computed:{resourcesFiltered(){return this.filter?this.resources.filter(e=>e.toLowerCase().includes(this.filter.toLowerCase())):this.resources}},methods:{select(e){this.selectResource&&this.selectResource(e)},async updateList(){let e;this.queryQuads&&(e="quads");const t=await this.store.sendQuery({query:this.query,defaultGraph:e});if(t.resultType==="bindings"){const r=await t.execute();this.resources=await Array.fromAsync(r,(n,a)=>n.get(this.selectVariable).value)}},shortenIri(e){return l6e().shortenIri(e)}}},Lee=e=>(Kse("data-v-211acf3b"),e=e(),Jse(),e),f6e={class:"card"},h6e={class:"card-header d-flex justify-content-between align-items-center"},p6e={class:"row row-cols-lg-auto g-3 align-items-center"},y6e={class:"col-12"},m6e={class:"mb-0"},g6e={class:"col-12"},_6e={class:"input-group mb-3"},b6e=Lee(()=>st("i",{class:"bi bi-arrow-repeat"},null,-1)),v6e=[b6e],w6e=["title","aria-label"],S6e=Lee(()=>st("i",{class:"bi bi-plus-square"},null,-1)),T6e=[S6e],E6e={class:"list-group list-group-flush"},A6e=["for","title","onClick"];function O6e(e,t,r,n,a,s){return tr(),yr("div",f6e,[st("div",h6e,[st("div",p6e,[st("div",y6e,[st("h6",m6e,u4(r.title),1)]),st("div",g6e,[st("div",_6e,[r.search?qi((tr(),yr("input",{key:0,type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=o=>a.filter=o),placeholder:"Search …"},null,512)),[[$i,a.filter]]):da("",!0),st("button",{type:"button",class:"btn btn-secondary",onClick:t[1]||(t[1]=(...o)=>s.updateList&&s.updateList(...o)),title:"Reload","aria-label":"Reload"},v6e),r.add?(tr(),yr("button",{key:1,type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...o)=>r.add&&r.add(...o)),title:r.addTitle,"aria-label":r.addTitle},T6e,8,w6e)):da("",!0)])])])]),st("ul",E6e,[(tr(!0),yr(Hr,null,Aoe(s.resourcesFiltered,(o,u)=>(tr(),yr("li",{class:nc(["list-group-item",[{active:o==r.activeResource},r.itemClass]]),key:u,href:"#",for:"form-control"+u,title:o,onClick:l=>s.select(o)},u4(s.shortenIri(o)),11,A6e))),128))])])}const jee=Xb(d6e,[["render",O6e],["__scopeId","data-v-211acf3b"]]),R6e={name:"TermInput",mounted(){this.updateNode()},watch:{term(e){this.updateNode()}},data(){return{dynamicNodetype:"iri",literalType:"language",idValue:"",language:"de",datatype:"http://www.w3.org/2001/XMLSchema#string",node:{}}},props:{type:String,id:String,term:Object},computed:{nodeType:{get:function(){return this.type?this.type:this.dynamicNodetype},set:function(e){this.dynamicNodetype=e}}},methods:{setType(e){this.nodeType=e,this.notify()},setLiteralType(e){this.literalType=e,this.notify()},notify(){this.updateTerm()},updateTerm(){this.dynamicNodetype==="iri"?this.node=Mr.namedNode(this.idValue):this.literalType==="language"?this.node=Mr.literal(this.idValue,this.language):this.node=Mr.literal(this.idValue,Mr.namedNode(this.datatype)),this.$emit("update:term",this.node)},updateNode(){this.term!=null&&(this.node=this.term,this.term.termType==="NamedNode"?this.dynamicNodetype="iri":this.term.termType==="Literal"&&(this.dynamicNodetype="literal",this.term.language?(this.language=this.term.language,this.literalType="language"):(this.datatype=this.term.datatype.value,this.literalType="datatype")),this.idValue=this.term.value)}}},x6e={class:"input-group"},I6e={key:1,class:"input-group-text"},P6e={key:2,class:"input-group-text"},N6e=["id"],D6e={key:3,class:"input-group-text"},C6e=["id"],L6e=["id"],j6e=st("span",{class:"input-group-text"},">",-1);function M6e(e,t,r,n,a,s){return tr(),yr("div",x6e,[r.type===void 0?(tr(),yr(Hr,{key:0},[st("button",{onClick:t[0]||(t[0]=o=>s.setType("iri")),class:nc(["btn btn-outline-secondary",{active:s.nodeType=="iri"}]),type:"button"},"IRI",2),st("button",{onClick:t[1]||(t[1]=o=>s.setType("literal")),class:nc(["btn btn-outline-secondary",{active:s.nodeType=="literal"}]),type:"button"},"Lit",2)],64)):da("",!0),s.nodeType==="iri"?(tr(),yr("span",I6e,"<")):s.nodeType==="literal"?(tr(),yr("span",P6e,'"')):da("",!0),qi(st("input",{id:"value-"+this.id,"onUpdate:modelValue":t[2]||(t[2]=o=>a.idValue=o),onInput:t[3]||(t[3]=(...o)=>s.notify&&s.notify(...o)),type:"text",class:"form-control"},null,40,N6e),[[$i,a.idValue]]),s.nodeType==="iri"?(tr(),yr("span",D6e,">")):s.nodeType==="literal"&&a.literalType==="language"?(tr(),yr(Hr,{key:4},[st("span",{onClick:t[4]||(t[4]=o=>s.setLiteralType("datatype")),class:"input-group-text btn btn-outline-secondary"},'"@'),qi(st("input",{id:"language-"+this.id,"onUpdate:modelValue":t[5]||(t[5]=o=>a.language=o),onInput:t[6]||(t[6]=(...o)=>s.notify&&s.notify(...o)),type:"text",class:"form-control"},null,40,C6e),[[$i,a.language]])],64)):s.nodeType==="literal"&&a.literalType==="datatype"?(tr(),yr(Hr,{key:5},[st("span",{onClick:t[7]||(t[7]=o=>s.setLiteralType("language")),class:"input-group-text btn btn-outline-secondary"},'"^^<'),qi(st("input",{id:"datatype-"+this.id,"onUpdate:modelValue":t[8]||(t[8]=o=>a.datatype=o),onInput:t[9]||(t[9]=(...o)=>s.notify&&s.notify(...o)),type:"text",class:"form-control"},null,40,L6e),[[$i,a.datatype]]),j6e],64)):da("",!0)])}const F6e=Xb(R6e,[["render",M6e]]),q6e={name:"GraphList",setup(){return{store:pc()}},components:{TermInput:F6e,QueryResultList:jee},props:{graph_iri:String,selectGraph:Function},data(){return{graphs:[],new_graph_iri:Mr.namedNode(""),add_graph_modal:null}},mounted(){this.add_graph_modal=new Io(this.$refs.add_graph)},methods:{async add_graph(){const e=[Mr.quad(this.new_graph_iri,Mr.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),Mr.namedNode("http://www.w3.org/2000/01/rdf-schema#Graph"))];console.log(this.new_graph_iri);try{await this.store.deleteInsertData({insertArray:e,graphIri:this.new_graph_iri.value}),this.add_graph_modal.hide()}catch(t){console.error(t)}}}},B6e={class:"modal fade",ref:"add_graph",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static",size:"lg"},$6e={class:"modal-dialog modal-lg"},U6e={class:"modal-content"},k6e={class:"modal-header"},V6e=st("h5",{class:"modal-title"},"Create New Graph",-1),H6e={class:"modal-body"},Q6e={class:"form-group"},z6e=st("label",{for:"new_graph_iri"},"IRI",-1),G6e={class:"modal-footer"};function W6e(e,t,r,n,a,s){const o=_4("QueryResultList"),u=_4("TermInput");return tr(),yr("div",null,[Ct(o,{title:"Graph List",search:"",query:"select distinct ?graph { graph ?graph {?s ?p ?o}} order by ?graph","query-quads":"","select-variable":"graph",ref:"classList",add:()=>{a.add_graph_modal.show()},selectResource:r.selectGraph,activeResource:r.graph_iri},null,8,["add","selectResource","activeResource"]),st("div",B6e,[st("div",$6e,[st("div",U6e,[st("div",k6e,[V6e,st("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=l=>a.add_graph_modal.hide()),"aria-label":"Close"})]),st("div",H6e,[st("form",null,[st("div",Q6e,[z6e,st("div",null,[Ct(u,{type:"iri",id:"new_graph_iri",term:a.new_graph_iri,"onUpdate:term":t[1]||(t[1]=l=>a.new_graph_iri=l)},null,8,["term"])])])])]),st("div",G6e,[st("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=l=>a.add_graph_modal.hide())},"Close"),st("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=l=>s.add_graph())},"Save changes")])])])],512)])}const K6e=Xb(q6e,[["render",W6e]]),J6e={name:"ClassList",props:{class_iri:String,selectClass:Function},watch:{graph_iri(e){console.log("graph_iri changed"+e),this.$refs.classList.updateList()}},computed:{...ow(ka,["graph_iri"])}},X6e=Object.assign(J6e,{setup(e){return(t,r)=>(tr(),FP(jee,{title:"Class List",search:"",query:"select distinct ?class { {?s a ?class} union {?class a <http://www.w3.org/2000/01/rdf-schema#Class>} union {?class a <http://www.w3.org/2002/07/owl#Class>} } order by ?class","select-variable":"class",ref:"classList",activeResource:e.class_iri,selectResource:e.selectClass},null,8,["activeResource","selectResource"]))}}),_Q={name:"splitpanes",emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click"],props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((e,t)=>(e[t.id]=t)&&e,{})}},methods:{updatePaneComponents(){this.panes.forEach(e=>{e.update&&e.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[e.id].size}%`})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(e,t){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=t},onMouseMove(e){this.touch.mouseDown&&(e.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(e)),this.$emit("resize",this.panes.map(t=>({min:t.min,max:t.max,size:t.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(e,t){"ontouchstart"in window&&(e.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===t?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(e,t),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=t,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[t])},onSplitterDblClick(e,t){let r=0;this.panes=this.panes.map((n,a)=>(n.size=a===t?n.max:n.min,a!==t&&(r+=n.min),n)),this.panes[t].size-=r,this.$emit("pane-maximize",this.panes[t]),this.$emit("resized",this.panes.map(n=>({min:n.min,max:n.max,size:n.size})))},onPaneClick(e,t){this.$emit("pane-click",this.indexedPanes[t])},getCurrentMouseDrag(e){const t=this.container.getBoundingClientRect(),{clientX:r,clientY:n}="ontouchstart"in window&&e.touches?e.touches[0]:e;return{x:r-t.left,y:n-t.top}},getCurrentDragPercentage(e){e=e[this.horizontal?"y":"x"];const t=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(e=t-e),e*100/t},calculatePanesSize(e){const t=this.touch.activeSplitter;let r={prevPanesSize:this.sumPrevPanesSize(t),nextPanesSize:this.sumNextPanesSize(t),prevReachedMinPanes:0,nextReachedMinPanes:0};const n=0+(this.pushOtherPanes?0:r.prevPanesSize),a=100-(this.pushOtherPanes?0:r.nextPanesSize),s=Math.max(Math.min(this.getCurrentDragPercentage(e),a),n);let o=[t,t+1],u=this.panes[o[0]]||null,l=this.panes[o[1]]||null;const c=u.max<100&&s>=u.max+r.prevPanesSize,d=l.max<100&&s<=100-(l.max+this.sumNextPanesSize(t+1));if(c||d){c?(u.size=u.max,l.size=Math.max(100-u.max-r.prevPanesSize-r.nextPanesSize,0)):(u.size=Math.max(100-l.max-r.prevPanesSize-this.sumNextPanesSize(t+1),0),l.size=l.max);return}if(this.pushOtherPanes){const f=this.doPushOtherPanes(r,s);if(!f)return;({sums:r,panesToResize:o}=f),u=this.panes[o[0]]||null,l=this.panes[o[1]]||null}u!==null&&(u.size=Math.min(Math.max(s-r.prevPanesSize-r.prevReachedMinPanes,u.min),u.max)),l!==null&&(l.size=Math.min(Math.max(100-s-r.nextPanesSize-r.nextReachedMinPanes,l.min),l.max))},doPushOtherPanes(e,t){const r=this.touch.activeSplitter,n=[r,r+1];return t<e.prevPanesSize+this.panes[n[0]].min&&(n[0]=this.findPrevExpandedPane(r).index,e.prevReachedMinPanes=0,n[0]<r&&this.panes.forEach((a,s)=>{s>n[0]&&s<=r&&(a.size=a.min,e.prevReachedMinPanes+=a.min)}),e.prevPanesSize=this.sumPrevPanesSize(n[0]),n[0]===void 0)?(e.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((a,s)=>{s>0&&s<=r&&(a.size=a.min,e.prevReachedMinPanes+=a.min)}),this.panes[n[1]].size=100-e.prevReachedMinPanes-this.panes[0].min-e.prevPanesSize-e.nextPanesSize,null):t>100-e.nextPanesSize-this.panes[n[1]].min&&(n[1]=this.findNextExpandedPane(r).index,e.nextReachedMinPanes=0,n[1]>r+1&&this.panes.forEach((a,s)=>{s>r&&s<n[1]&&(a.size=a.min,e.nextReachedMinPanes+=a.min)}),e.nextPanesSize=this.sumNextPanesSize(n[1]-1),n[1]===void 0)?(e.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((a,s)=>{s<this.panesCount-1&&s>=r+1&&(a.size=a.min,e.nextReachedMinPanes+=a.min)}),this.panes[n[0]].size=100-e.prevPanesSize-e.nextReachedMinPanes-this.panes[this.panesCount-1].min-e.nextPanesSize,null):{sums:e,panesToResize:n}},sumPrevPanesSize(e){return this.panes.reduce((t,r,n)=>t+(n<e?r.size:0),0)},sumNextPanesSize(e){return this.panes.reduce((t,r,n)=>t+(n>e+1?r.size:0),0)},findPrevExpandedPane(e){return[...this.panes].reverse().find(t=>t.index<e&&t.size>t.min)||{}},findNextExpandedPane(e){return this.panes.find(t=>t.index>e+1&&t.size>t.min)||{}},checkSplitpanesNodes(){Array.from(this.container.children).forEach(e=>{const t=e.classList.contains("splitpanes__pane"),r=e.classList.contains("splitpanes__splitter");!t&&!r&&(e.parentNode.removeChild(e),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))})},addSplitter(e,t,r=!1){const n=e-1,a=document.createElement("div");a.classList.add("splitpanes__splitter"),r||(a.onmousedown=s=>this.onMouseDown(s,n),typeof window<"u"&&"ontouchstart"in window&&(a.ontouchstart=s=>this.onMouseDown(s,n)),a.onclick=s=>this.onSplitterClick(s,n+1)),this.dblClickSplitter&&(a.ondblclick=s=>this.onSplitterDblClick(s,n+1)),t.parentNode.insertBefore(a,t)},removeSplitter(e){e.onmousedown=void 0,e.onclick=void 0,e.ondblclick=void 0,e.parentNode.removeChild(e)},redoSplitters(){const e=Array.from(this.container.children);e.forEach(r=>{r.className.includes("splitpanes__splitter")&&this.removeSplitter(r)});let t=0;e.forEach(r=>{r.className.includes("splitpanes__pane")&&(!t&&this.firstSplitter?this.addSplitter(t,r,!0):t&&this.addSplitter(t,r),t++)})},requestUpdate({target:e,...t}){const r=this.indexedPanes[e._.uid];Object.entries(t).forEach(([n,a])=>r[n]=a)},onPaneAdd(e){let t=-1;Array.from(e.$el.parentNode.children).some(a=>(a.className.includes("splitpanes__pane")&&t++,a===e.$el));const r=parseFloat(e.minSize),n=parseFloat(e.maxSize);this.panes.splice(t,0,{id:e._.uid,index:t,min:isNaN(r)?0:r,max:isNaN(n)?100:n,size:e.size===null?null:parseFloat(e.size),givenSize:e.size,update:e.update}),this.panes.forEach((a,s)=>a.index=s),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[t]}),this.$emit("pane-add",{index:t,panes:this.panes.map(a=>({min:a.min,max:a.max,size:a.size}))})})},onPaneRemove(e){const t=this.panes.findIndex(n=>n.id===e._.uid),r=this.panes.splice(t,1)[0];this.panes.forEach((n,a)=>n.index=a),this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:{...r,index:t}}),this.$emit("pane-remove",{removed:r,panes:this.panes.map(n=>({min:n.min,max:n.max,size:n.size}))})})},resetPaneSizes(e={}){!e.addedPane&&!e.removedPane?this.initialPanesSizing():this.panes.some(t=>t.givenSize!==null||t.min||t.max<100)?this.equalizeAfterAddOrRemove(e):this.equalize(),this.ready&&this.$emit("resized",this.panes.map(t=>({min:t.min,max:t.max,size:t.size})))},equalize(){const e=100/this.panesCount;let t=0;const r=[],n=[];this.panes.forEach(a=>{a.size=Math.max(Math.min(e,a.max),a.min),t-=a.size,a.size>=a.max&&r.push(a.id),a.size<=a.min&&n.push(a.id)}),t>.1&&this.readjustSizes(t,r,n)},initialPanesSizing(){let e=100;const t=[],r=[];let n=0;this.panes.forEach(s=>{e-=s.size,s.size!==null&&n++,s.size>=s.max&&t.push(s.id),s.size<=s.min&&r.push(s.id)});let a=100;e>.1&&(this.panes.forEach(s=>{s.size===null&&(s.size=Math.max(Math.min(e/(this.panesCount-n),s.max),s.min)),a-=s.size}),a>.1&&this.readjustSizes(e,t,r))},equalizeAfterAddOrRemove({addedPane:e,removedPane:t}={}){let r=100/this.panesCount,n=0;const a=[],s=[];e&&e.givenSize!==null&&(r=(100-e.givenSize)/(this.panesCount-1)),this.panes.forEach(o=>{n-=o.size,o.size>=o.max&&a.push(o.id),o.size<=o.min&&s.push(o.id)}),!(Math.abs(n)<.1)&&(this.panes.forEach(o=>{e&&e.givenSize!==null&&e.id===o.id||(o.size=Math.max(Math.min(r,o.max),o.min)),n-=o.size,o.size>=o.max&&a.push(o.id),o.size<=o.min&&s.push(o.id)}),n>.1&&this.readjustSizes(n,a,s))},readjustSizes(e,t,r){let n;e>0?n=e/(this.panesCount-t.length):n=e/(this.panesCount-r.length),this.panes.forEach((a,s)=>{if(e>0&&!t.includes(a.id)){const o=Math.max(Math.min(a.size+n,a.max),a.min),u=o-a.size;e-=u,a.size=o}else if(!r.includes(a.id)){const o=Math.max(Math.min(a.size+n,a.max),a.min),u=o-a.size;e-=u,a.size=o}a.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[a.id].size}%`})}),Math.abs(e)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(e){[...this.container.querySelectorAll(".splitpanes__splitter")].forEach((t,r)=>{t.ondblclick=e?n=>this.onSplitterDblClick(n,r):void 0})}},beforeUnmount(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(){return Gw("div",{ref:"container",class:["splitpanes",`splitpanes--${this.horizontal?"horizontal":"vertical"}`,{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())}},Y6e=(e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r},Z6e={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeUnmount(){this.onPaneRemove(this)},methods:{update(e){this.style=e}},computed:{sizeNumber(){return this.size||this.size===0?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(e){this.requestUpdate({target:this,size:e})},minSizeNumber(e){this.requestUpdate({target:this,min:e})},maxSizeNumber(e){this.requestUpdate({target:this,max:e})}}};function eLe(e,t,r,n,a,s){return tr(),yr("div",{class:"splitpanes__pane",onClick:t[0]||(t[0]=o=>s.onPaneClick(o,e._.uid)),style:tb(e.style)},[Ooe(e.$slots,"default")],4)}const pv=Y6e(Z6e,[["render",eLe]]),tLe={id:"app",class:"container-fluid"},rLe={class:"row connection"},nLe={key:0},iLe={key:1},aLe={key:0,class:"row"},sLe={class:"nav nav-tabs"},oLe={class:"nav-item"},uLe={class:"nav-item"},cLe={class:"nav-item"},lLe={class:"nav-item"},dLe={class:"nav-item"},fLe={class:"nav-item"},hLe={class:"nav-item"},pLe={class:"nav-item"},yLe={key:1},mLe={name:"App",setup(){return{store:pc()}},computed:{...ow(pc,{store_ready:e=>e.ready}),...ow(ka,["graph_iri","resource_iri"])}},gLe=Object.assign(mLe,{setup(e){return(t,r)=>(tr(),yr("div",tLe,[st("div",rLe,[t.store_ready?(tr(),yr("div",nLe,"🟢 Store is ready")):(tr(),yr("div",iLe,"🔄 Loading")),Ct(c6e)]),t.store_ready?(tr(),yr("div",aLe,[Ct(wr(_Q),{class:"default-theme"},{default:On(()=>[Ct(wr(pv),{size:"30"},{default:On(()=>[Ct(wr(_Q),{horizontal:"",style:{height:"80vh"}},{default:On(()=>[Ct(wr(pv),{size:"30"},{default:On(()=>[Ct(K6e,{graph_iri:t.graph_iri,selectGraph:n=>{wr(ka)().changeGraphIri(n),wr(ka)().changeResourceIri(n)}},null,8,["graph_iri","selectGraph"])]),_:1}),Ct(wr(pv),{size:"70"},{default:On(()=>[Ct(X6e,{class_iri:t.resource_iri,selectClass:n=>{wr(ka)().changeResourceIri(n)}},null,8,["class_iri","selectClass"])]),_:1})]),_:1})]),_:1}),Ct(wr(pv),{size:"90"},{default:On(()=>[st("ul",sLe,[st("li",oLe,[Ct(wr(Ss),{class:"nav-link","active-class":"active",to:"/dashboard"},{default:On(()=>[xa("Home")]),_:1})]),st("li",uLe,[Ct(wr(Ss),{class:"nav-link","active-class":"active",to:"/instances"},{default:On(()=>[xa("Instances")]),_:1})]),st("li",cLe,[Ct(wr(Ss),{class:"nav-link","active-class":"active",to:"/voc"},{default:On(()=>[xa("Vocabulary")]),_:1})]),st("li",lLe,[Ct(wr(Ss),{class:"nav-link","active-class":"active",to:"/edit"},{default:On(()=>[xa("Edit")]),_:1})]),st("li",dLe,[Ct(wr(Ss),{class:"nav-link","active-class":"active",to:"/form"},{default:On(()=>[xa("Form")]),_:1})]),st("li",fLe,[Ct(wr(Ss),{class:"nav-link","active-class":"active",to:"/add"},{default:On(()=>[xa("Add")]),_:1})]),st("li",hLe,[Ct(wr(Ss),{class:"nav-link","active-class":"active",to:"/kanban"},{default:On(()=>[xa("Kanban")]),_:1})]),st("li",pLe,[Ct(wr(Ss),{class:"nav-link","active-class":"active",to:"/source"},{default:On(()=>[xa("Source")]),_:1})])]),Ct(wr(dW))]),_:1})]),_:1})])):(tr(),yr("div",yLe," Waiting for Store to be configured … "))]))}}),_Le=Xb(gLe,[["__scopeId","data-v-c922ef8e"]]),bLe="modulepreload",vLe=function(e,t){return new URL(e,t).href},bQ={},vs=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.all(r.map(l=>{if(l=vLe(l,n),l in bQ)return;bQ[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!n)for(let p=s.length-1;p>=0;p--){const m=s[p];if(m.href===l&&(!c||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":bLe,c||(h.as="script",h.crossOrigin=""),h.href=l,u&&h.setAttribute("nonce",u),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}return a.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Mee=Zce({history:Pce("./"),routes:[{path:"/",redirect:{path:"/dashboard"}},{path:"/about",name:"about",component:()=>vs(()=>import("./AboutView-Ca9Yn8Fv.js"),[],import.meta.url)},{path:"/dashboard",name:"DashboardView",component:()=>vs(()=>import("./DashboardView-CbSvJWll.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)},{path:"/instances",name:"InstanceList",component:()=>vs(()=>import("./InstanceList-Bq0sFaoV.js"),[],import.meta.url)},{path:"/voc",name:"VocPad",component:()=>vs(()=>import("./VocPad-B3vjCvJT.js"),__vite__mapDeps([4,5,6]),import.meta.url)},{path:"/edit",name:"EditForm",component:()=>vs(()=>import("./EditForm-YneyvUd-.js"),__vite__mapDeps([7,6,5]),import.meta.url)},{path:"/form",name:"FormDemo",component:()=>vs(()=>import("./FormDemo-DgM9bpNm.js"),__vite__mapDeps([8,1,2]),import.meta.url)},{path:"/add",name:"InputForm",component:()=>vs(()=>import("./InputForm-BVyPtHNP.js"),[],import.meta.url)},{path:"/kanban",name:"Kanban",component:()=>vs(()=>import("./Kanban-BpZPvI91.js"),__vite__mapDeps([9,6,10]),import.meta.url)},{path:"/source",name:"Source",component:()=>vs(()=>import("./Source-cae9d2kw.js"),__vite__mapDeps([11,5,6]),import.meta.url)}]});Mee.beforeEach(e=>{pc()});const nC=Que(_Le);nC.use(Gue());nC.use(Mee);nC.mount("#app");export{BLe as $,Ooe as A,nc as B,xa as C,qi as D,$i as E,Hr as F,LLe as G,Io as H,l6e as I,wje as J,z_ as K,qs as L,_Q as M,$9e as N,k9e as O,V9e as P,pCe as Q,jee as R,poe as S,F6e as T,sG as U,Zn as V,mje as W,Oz as X,DLe as Y,lje as Z,Xb as _,st as a,boe as a$,E_ as a0,bl as a1,MLe as a2,tje as a3,Ml as a4,ILe as a5,DG as a6,vje as a7,PLe as a8,BP as a9,Rz as aA,Uo as aB,Iz as aC,PP as aD,Xoe as aE,Gw as aF,sd as aG,joe as aH,Hue as aI,oje as aJ,Eje as aK,$a as aL,iue as aM,Qz as aN,Yu as aO,A_ as aP,Yr as aQ,aje as aR,Zv as aS,ac as aT,SP as aU,XLe as aV,YLe as aW,Yoe as aX,nb as aY,SLe as aZ,moe as a_,NLe as aa,zi as ab,To as ac,fi as ad,jw as ae,Us as af,yje as ag,Bi as ah,Que as ai,Qoe as aj,ZLe as ak,Hoe as al,Tje as am,nje as an,Bse as ao,qLe as ap,Pue as aq,VLe as ar,HLe as as,GLe as at,QLe as au,kLe as av,_je as aw,zLe as ax,dje as ay,TLe as az,ka as b,rr as b$,DP as b0,voe as b1,goe as b2,Eoe as b3,Toe as b4,Soe as b5,hse as b6,woe as b7,CP as b8,NP as b9,OLe as bA,JLe as bB,bje as bC,gje as bD,sje as bE,coe as bF,aG as bG,kG as bH,Bue as bI,f_ as bJ,que as bK,pue as bL,aue as bM,cje as bN,gl as bO,FLe as bP,loe as bQ,doe as bR,eje as bS,WLe as bT,Sje as bU,uje as bV,CLe as bW,fW as bX,VP as bY,N as bZ,_Ce as b_,vv as ba,Wz as bb,Sx as bc,rb as bd,Hz as be,ije as bf,K4 as bg,jLe as bh,pje as bi,N_ as bj,N4 as bk,fje as bl,jl as bm,Vz as bn,ALe as bo,jse as bp,uoe as bq,hje as br,ELe as bs,_v as bt,ULe as bu,Gt as bv,xLe as bw,$se as bx,RLe as by,rje as bz,yr as c,Ct as d,Aoe as e,Mr as f,da as g,wr as h,pv as i,Jse as j,gx as k,Vw as l,ow as m,FP as n,tr as o,Kse as p,U9e as q,_4 as r,$Le as s,u4 as t,pc as u,tb as v,On as w,Ms as x,KLe as y,Qw as z};
